{"version":3,"file":"js/5619.f8d78b6212a5cdd914b8.js","mappings":"+LA2BA,CACAA,KAAAA,GACAC,MAAAA,CACAC,MAAAA,CACAC,KAAAA,OACAC,SAAAA,IAGAC,KAAAA,KACA,CACAC,WAAAA,IAGAC,SAAAA,CACAC,OAAA,WACA,gFAEAC,YAKA,MAJA,CACA,WACA,WAEA,cAGAC,UACA,iBACA,CACAC,GAAAA,EACAX,KAAAA,MAEA,CACAW,GAAAA,EACAX,KAAAA,QAIAY,QAAAA,CAIAC,aAAA,WACA,kBACA,2BACA,gEAMAC,mBAAAA,GACA,IACA,oBAMAC,aAAAA,GACA,6B,sMCtBA,kBACA,c,8NAEA,I,EAOA,CACAV,KAAAA,KACA,CACAW,QAAAA,EACAC,aAAAA,EACAC,SAZA,CACAC,WAAAA,GACAC,YAAAA,GACAC,eAAAA,EACAC,OAAAA,GASAD,eAAAA,CAAAA,GAAAA,GAAAA,MAGAX,UACA,wBAEAE,QAAAA,CAIAW,kBAAA,WACAC,EAAAA,QAAAA,iBACAC,MAAA,YACA,uBAMAC,eACA,gBAKAC,eACA,eACA,cAxCA,CACAR,WAAAA,GACAC,YAAAA,GACAC,eAAAA,EACAC,OAAAA,IAyCAM,eAAA,WACA,mBAGA,qDAIA,oBACAC,EAAAA,QAAAA,O,2WAAAA,CAAAA,CACAlB,IAAAA,GACA,gBACAc,MAAA,WACA,yBACA,qBACA,oBAEAK,SAAA,WACA,qBAbA,0C,+MCCA,kBACA,cACA,cACA,cACA,cACA,cACA,c,ilBAEA,CACA9B,KAAAA,GACA+B,WAAAA,CACAC,YAAAA,EAAAA,QACAC,aAAAA,EAAAA,QACAC,iBAAAA,EAAAA,QACAC,eAAAA,EAAAA,QACAC,WAAAA,EAAAA,SAEA/B,KAAAA,KACA,CACAgC,WAAAA,EACAC,KAAAA,CAAAA,GAAAA,GAAAA,IACAjB,eAAAA,CAAAA,GAAAA,GAAAA,MAGAd,SAAAA,CACAgC,oBACA,wBAGA7B,UACA,iBACA,iBACA,uBAEA,gBACAS,WAAAA,CACA,CACAqB,UAAAA,EACAC,QAAAA,gBAGArB,YAAAA,CACA,CACAoB,UAAAA,EACAC,QAAAA,aAGApB,eAAAA,CACA,CACAqB,UAAAA,SAAAA,GAAA,mBACAD,QAAAA,eAKA7B,QAAAA,CAIA+B,YAAA,WACA,kBACAd,EAAAA,QAAAA,UAAAA,GAAAA,CACAe,WAAAA,SAEAnB,MAAA,YACA,YAEAK,SAAA,WACA,mBAMAP,kBAAA,WACAC,EAAAA,QAAAA,iBACAC,MAAA,YACA,uBAQAoB,uBAAAA,EAAAA,GACA,qBACAC,GADA,IAEAzB,eAAAA,KAOA0B,6BAAAA,GAAA,YACA,GACA,8BACA,uCACAlB,EAAAA,QAAAA,OAAAA,EAAAA,GACA,gBACAJ,MAAA,WACA,6BASAuB,aAAAA,EAAAA,GAAA,WAEA,OADAC,QAAAA,IAAAA,uBAAAA,EAAAA,GACA,wBACAH,GACAI,IACAzB,MAAA,WACA,yBACA0B,OAAAA,OAAAA,EAAAA,OAMAC,YACA,kBAOAC,WAAAA,EAAAA,GAAA,WACA,kBACAxB,EAAAA,QAAAA,WAAAA,CACAlB,GAAAA,KAAAA,KAAAA,GAAAA,GACA2C,IAAAA,IACA7B,MAAA,WACA,gBACA,cACA,qBACA,uBACA,uCAEAK,SAAA,WACA,mBAOAyB,aAAAA,GAAA,WACA,yBACA5C,GAAAA,IACAc,MAAA,WACA,yBACA,oB,2HChRA,kB,EAEe,CACX+B,YAAsC,IAA3BC,EAA2B,uDAAlB,GAAIP,EAAc,uDAAJ,GAC9B,OAAOQ,EAAAA,QAAoBC,QAAQF,EAAQP,GACtCzB,MAAK,qBAAGpB,SAEjBuD,OAAQH,GACGC,EAAAA,QAAoBE,OAAOH,GAC7BhC,MAAK,qBAAGpB,QAEjBwD,OAAQJ,GACGC,EAAAA,QAAoBI,WAAWL,GACjChC,MAAK,qBAAGpB,QAEjB0D,WAAYN,GACDC,EAAAA,QAAoBM,KAAKP,GAC3BhC,MAAK,qBAAGpB,S,0IClBrB,kB,MAkCe,IAhCf,MACI4D,cACIC,KAAKC,OAAS,gCAIlBR,UAAoC,IAA3BF,EAA2B,uDAAlB,GAAIP,EAAc,uDAAJ,GAC5B,OAAOkB,EAAAA,QAAQC,IAAR,UAAeH,KAAKC,OAApB,SAAmC,CACtCV,OAAAA,EACAP,QAAAA,IAKRU,SAAqB,IAAbH,EAAa,uDAAJ,GACb,OAAOW,EAAAA,QAAQE,KAAR,UAAgBJ,KAAKC,QAAU,CAClCV,OAAAA,IAKRK,aAAyB,IAAbL,EAAa,uDAAJ,GACjB,OAAOW,EAAAA,QAAQG,OAAR,UAAkBL,KAAKC,OAAvB,YAAiCV,EAAO9C,KAInDqD,OAAmB,IAAbP,EAAa,uDAAJ,GACX,OAAOW,EAAAA,QAAQI,IAAR,UAAeN,KAAKC,OAApB,SAAmC,CACtCV,OAAAA,M,oKChCZ,IAAIgB,EAAS,WACX,IAAIC,EAAMR,KACNS,EAAKD,EAAIE,eACTC,EAAKH,EAAII,MAAMD,IAAMF,EACzB,OAAOE,EACL,MACA,CAAEE,YAAa,4BACf,CACEF,EACE,YACA,CACEG,IAAK,SACLC,MAAO,CAAE/E,MAAOwE,EAAIxE,MAAOgF,WAAW,GACtCC,GAAI,CAAEC,OAAQV,EAAI5D,mBAAoBuE,OAAQX,EAAI3D,eAEpD2D,EAAIY,GAAGZ,EAAIa,YAAY,SAAUC,GAC/B,OAAOX,EAAG,YAAa,CACrBY,IAAKD,EAAK7E,GACVsE,MAAO,CAAEjF,KAAMwF,EAAKxF,KAAMW,GAAI6E,EAAK7E,SAGvC,GAEF+D,EAAIgB,GAAG,KACPb,EACE,MACA,CACEc,WAAY,CACV,CACE3F,KAAM,OACN4F,QAAS,SACT1F,OAAQwE,EAAIpE,UACZa,WAAY,eAGhB4D,YAAa,YACbI,GAAI,CACFU,MAAO,SAAUC,GAEf,OADAA,EAAOC,kBACArB,EAAI7D,WAAWmF,MAAM,KAAMC,cAIxC,CACEpB,EAAG,MAAO,CAAEE,YAAa,cAAemB,MAAOxB,EAAIjE,WAAa,CAC9DiE,EAAIgB,GAAG,iBAAmBhB,EAAIyB,GAAGzB,EAAIlE,MAAQ,gBAE/CkE,EAAIgB,GAAG,KACPb,EAAG,IAAK,CAAEE,YAAa,+CAI7B,IAIJN,EAAO2B,eAAgB,E,eCxD2M,EAAe,EAAG,ECQhPC,G,UAAY,E,SAAA,GACd,EACA5B,EF6CoB,IE3CpB,EACA,KACA,KACA,OAuBF4B,EAAUC,QAAQC,OAAS,mEAC3B,MAAeF,EAAiB,S,kHCvChC,IAAI5B,EAAS,WACX,IAAIC,EAAMR,KACNS,EAAKD,EAAIE,eACTC,EAAKH,EAAII,MAAMD,IAAMF,EACzB,OAAOE,EAAG,QAAS,CAChBH,EAAI1D,OAuBD6D,EAAG,KAAM,CACPA,EACE,KACA,CACEA,EAAG,WAAY,CACbE,YAAa,QACbyB,MAAO,CACLtG,MAAOwE,EAAIxD,SAASC,WACpBsF,SAAU,SAAUC,GAClBhC,EAAIiC,KAAKjC,EAAIxD,SAAU,aAAcwF,IAEvCvF,WAAY,0BAIlB,GAEFuD,EAAIgB,GAAG,KACPb,EACE,KACA,CACEA,EAAG,WAAY,CACbE,YAAa,QACbyB,MAAO,CACLtG,MAAOwE,EAAIxD,SAASE,YACpBqF,SAAU,SAAUC,GAClBhC,EAAIiC,KAAKjC,EAAIxD,SAAU,cAAewF,IAExCvF,WAAY,2BAIlB,GAEFuD,EAAIgB,GAAG,KACPb,EACE,KACA,CACEA,EACE,YACA,CACEI,MAAO,CACLC,WAAW,EACX0B,SAAU,GACV,kBAAmB,IAErBJ,MAAO,CACLtG,MAAOwE,EAAIxD,SAASG,eACpBoF,SAAU,SAAUC,GAClBhC,EAAIiC,KAAKjC,EAAIxD,SAAU,iBAAkBwF,IAE3CvF,WAAY,4BAGhBuD,EAAIY,GAAGZ,EAAIrD,gBAAgB,SAAUmE,GACnC,OAAOX,EAAG,YAAa,CACrBY,IAAKD,EAAK7E,GACVsE,MAAO,CAAEjF,KAAMwF,EAAKxF,KAAMW,GAAI6E,EAAK7E,SAGvC,IAGJ,GAEF+D,EAAIgB,GAAG,KACPb,EACE,KACA,CACEA,EACE,YACA,CACEI,MAAO,CAAEC,WAAW,GACpBsB,MAAO,CACLtG,MAAOwE,EAAIxD,SAASI,OACpBmF,SAAU,SAAUC,GAClBhC,EAAIiC,KAAKjC,EAAIxD,SAAU,SAAUwF,IAEnCvF,WAAY,oBAGhB,CACE0D,EAAG,YAAa,CAAEI,MAAO,CAAEjF,KAAM,KAAMW,GAAI,KAC3C+D,EAAIgB,GAAG,KACPb,EAAG,YAAa,CAAEI,MAAO,CAAEjF,KAAM,KAAMW,GAAI,MAE7C,IAGJ,GAEF+D,EAAIgB,GAAG,KACPb,EACE,KACA,CACEA,EACE,YACA,CAAEI,MAAO,CAAEzE,KAAM,IAAM2E,GAAI,CAAEU,MAAOnB,EAAI9C,eACxC,CACE8C,EAAIgB,GACF,qBAAuBhB,EAAIyB,GAAG,MAAQ,oBAI5CzB,EAAIgB,GAAG,KACPb,EACE,YACA,CAAEI,MAAO,CAAEzE,KAAM,IAAM2E,GAAI,CAAEU,MAAOnB,EAAI/C,eACxC,CACE+C,EAAIgB,GACF,qBAAuBhB,EAAIyB,GAAG,MAAQ,qBAK9C,KAzIJtB,EAAG,KAAM,CACPA,EACE,KACA,CAAEI,MAAO,CAAE4B,QAAS,MACpB,CACEhC,EACE,YACA,CAAEI,MAAO,CAAEzE,KAAM,IAAM2E,GAAI,CAAEU,MAAOnB,EAAIhD,eACxC,CACEmD,EAAG,OAAQ,CAAEI,MAAO,CAAE9E,KAAM,UAC5BuE,EAAIgB,GACF,qBACEhB,EAAIyB,GAAG,UACP,mBAGN,IAGJ,QA4HZ1B,EAAO2B,eAAgB,E,eCrJgN,EAAe,EAAG,ECOrPC,GAAY,E,SAAA,GACd,EACA5B,EF2IoB,IEzIpB,EACA,KACA,KACA,MAuBF4B,EAAUC,QAAQC,OAAS,wEAC3B,MAAeF,EAAiB,S,kHCtChC,IAAI5B,EAAS,WACX,IAAIC,EAAMR,KACNS,EAAKD,EAAIE,eACTC,EAAKH,EAAII,MAAMD,IAAMF,EACzB,OAAOE,EAAG,MAAO,CAAEE,YAAa,8BAAgC,CAC9DF,EACE,QACA,CACEc,WAAY,CACV,CACE3F,KAAM,OACN4F,QAAS,SACT1F,MAAO,CAAEC,KAAM,OAAQD,MAAO,iBAC9BiB,WAAY,6CAGhB4D,YAAa,cAEf,CACEF,EAAG,QAAS,CACVA,EAAG,KAAM,CACPA,EAAG,KAAM,CAAEiC,YAAa,CAAEC,MAAO,UAAa,CAC5CrC,EAAIgB,GAAGhB,EAAIyB,GAAG,cAEhBzB,EAAIgB,GAAG,KACPb,EAAG,KAAM,CAACH,EAAIgB,GAAGhB,EAAIyB,GAAG,WACxBzB,EAAIgB,GAAG,KACPb,EAAG,KAAM,CAAEiC,YAAa,CAAEC,MAAO,UAAa,CAC5CrC,EAAIgB,GAAGhB,EAAIyB,GAAG,WAEhBzB,EAAIgB,GAAG,KACPb,EACE,KACA,CAAEiC,YAAa,CAAEC,MAAO,UACxB,CACElC,EAAG,OAAQ,CAACH,EAAIgB,GAAGhB,EAAIyB,GAAG,SAC1BzB,EAAIgB,GAAG,KACPb,EACE,aACA,CAAEI,MAAO,CAAE+B,UAAW,UACtB,CACEnC,EAAG,OAAQ,CACTE,YAAa,cACbE,MAAO,CAAE9E,KAAM,UAEjBuE,EAAIgB,GAAG,KACPb,EAAG,MAAO,CAAEI,MAAO,CAAEgC,KAAM,WAAaA,KAAM,WAAa,CACzDpC,EAAG,MAAO,CAACH,EAAIgB,GAAGhB,EAAIyB,GAAG,WACzBzB,EAAIgB,GAAG,KACPb,EAAG,MAAO,CACRH,EAAIgB,GACFhB,EAAIyB,GAAG,4BAGXzB,EAAIgB,GAAG,KACPb,EAAG,MAAO,CAAEiC,YAAa,CAAE,aAAc,QAAW,CAClDpC,EAAIgB,GAAGhB,EAAIyB,GAAG,WAEhBzB,EAAIgB,GAAG,KACPb,EAAG,MAAO,CACRH,EAAIgB,GACFhB,EAAIyB,GAAG,+BAKf,IAGJ,GAEFzB,EAAIgB,GAAG,KACPb,EACE,KACA,CAAEiC,YAAa,CAAEC,MAAO,UACxB,CACErC,EAAIgB,GACF,yBACEhB,EAAIyB,GAAG,MACP,0BAEJtB,EAAG,OAAQ,CACTc,WAAY,CACV,CACE3F,KAAM,cACN4F,QAAS,gBACT1F,MAAO,CACLgH,MAAO,OACPC,QAAS,qBAEXhG,WACE,wIAGN4D,YAAa,cACbE,MAAO,CAAE9E,KAAM,WAGnB,OAINuE,EAAIgB,GAAG,KACPb,EAAG,mBAAoB,CAAEM,GAAI,CAAE,YAAaT,EAAItB,aAChDsB,EAAIgB,GAAG,KACPhB,EAAIY,GAAGZ,EAAIpC,MAAM,SAAUQ,EAAMsE,GAC/B,OAAOvC,EAAG,QAAS,CAAEY,IAAK3C,EAAKnC,IAAM,CACnCkE,EAAG,KAAM,CACPA,EACE,KACA,CACEA,EAAG,gBAAiB,CAClBI,MAAO,CACLoC,MAAO,aACPC,KAAM,QACNC,MAAO7C,EAAI8C,UAAUrG,WACrBjB,MAAO4C,EAAK3B,WACZ,gBAAiB,SAAUsG,GACzB,OAAO/C,EAAI1B,aAAaF,EAAM2E,QAKtC,GAEF/C,EAAIgB,GAAG,KACPb,EACE,KACA,CACEA,EAAG,gBAAiB,CAClBI,MAAO,CACLoC,MAAO,cACPC,KAAM,QACNC,MAAO7C,EAAI8C,UAAUpG,YACrBlB,MAAO4C,EAAK1B,YACZ,gBAAiB,SAAUqG,GACzB,OAAO/C,EAAI1B,aAAaF,EAAM2E,QAKtC,GAEF/C,EAAIgB,GAAG,KACPb,EACE,KACA,CACEA,EAAG,iBAAkB,CACnBI,MAAO,CACLoC,MAAO,iBACPC,KAAM,QACNC,MAAO7C,EAAI8C,UAAUnG,eACrBuF,SAAU,GACV,kBAAmB,GACnB1G,MAAO4C,EAAKzB,eACZiB,KAAMoC,EAAIrD,eACV,gBAAiB,SAAUoG,GACzB,OAAO/C,EAAI1B,aAAaF,EAAM2E,QAKtC,GAEF/C,EAAIgB,GAAG,KACPb,EACE,KACA,CACEA,EAAG,cAAe,CAChBI,MAAO,CAAE/E,MAAO4C,EAAKxB,QACrB6D,GAAI,CACF,YAAa,SAAU7D,GACrB,OAAOoD,EAAI1B,aAAaF,EAAM,CAAExB,OAAQA,SAKhD,GAEFoD,EAAIgB,GAAG,KACPb,EAAG,KAAM,CACPA,EACE,MACA,CAAEE,YAAa,cACf,CACEF,EAAG,cAAe,CAChBc,WAAY,CACV,CACE3F,KAAM,OACN4F,QAAS,SACT1F,MAAO,CAAEC,KAAM,SAAUD,MAAO,oBAChCiB,WACE,kDAGN4D,YAAa,OACbE,MAAO,CACL/E,MAAO4C,EAAK4E,OACZ,aAAc,EACd,cAAe,EACfR,MAAO,UACPS,KAAM,SAERxC,GAAI,CACFvB,OAAQ,SAAU8D,GAChB,OAAOhD,EAAI1B,aAAaF,EAAM,CAAE4E,OAAQA,QAI9ChD,EAAIgB,GAAG,KACPb,EACE,YACA,CACEc,WAAY,CACV,CACE3F,KAAM,cACN4F,QAAS,oBACT1F,MAAO,KACPiB,WAAY,OACZyG,UAAW,CAAEC,KAAK,IAEpB,CACE7H,KAAM,OACN4F,QAAS,SACT1F,MAAO,CAAEC,KAAM,SAAUD,MAAO,cAChCiB,WACE,4CAGN4D,YAAa,iBACbE,MAAO,CAAEzE,KAAM,IACf2E,GAAI,CACFU,MAAO,SAAUC,GACf,OAAOpB,EAAIrB,WAAW+D,GAAQ,MAIpC,CAACvC,EAAG,OAAQ,CAAEI,MAAO,CAAE9E,KAAM,oBAC7B,GAEFuE,EAAIgB,GAAG,KACPb,EACE,YACA,CACEc,WAAY,CACV,CACE3F,KAAM,cACN4F,QAAS,oBACT1F,MAAO,KACPiB,WAAY,OACZyG,UAAW,CAAEC,KAAK,IAEpB,CACE7H,KAAM,OACN4F,QAAS,SACT1F,MAAO,CAAEC,KAAM,SAAUD,MAAO,gBAChCiB,WACE,8CAGN4D,YAAa,iBACbE,MAAO,CAAEzE,KAAM,IACf2E,GAAI,CACFU,MAAO,SAAUC,GACf,OAAOpB,EAAIrB,WAAW+D,EAAO,MAInC,CAACvC,EAAG,OAAQ,CAAEI,MAAO,CAAE9E,KAAM,oBAC7B,GAEFuE,EAAIgB,GAAG,KACPb,EACE,qBACA,CACEI,MAAO,CACL6C,MAAO,WACPX,QAAS,sBACT,kBAAmB,WACjB,OAAOzC,EAAInB,aAAaT,EAAKnC,OAInC,CACEkE,EACE,YACA,CACEc,WAAY,CACV,CACE3F,KAAM,OACN4F,QAAS,SACT1F,MAAO,CAAEC,KAAM,SAAUD,MAAO,cAChCiB,WACE,4CAGN8D,MAAO,CAAEzE,KAAM,KAEjB,CACEkE,EAAIgB,GACF,qCACEhB,EAAIyB,GAAG,MACP,qCAKV,IAGJ,aAOZ,MAKN1B,EAAO2B,eAAgB,E,eClU+L,EAAe,EAAG,ECQpOC,G,UAAY,E,SAAA,GACd,EACA5B,EFuToB,IErTpB,EACA,KACA,KACA,OAuBF4B,EAAUC,QAAQC,OAAS,kDAC3B,MAAeF,EAAiB,S,sBCpChC,IAAIc,EAAU,EAAQ,MACnBA,EAAQY,aAAYZ,EAAUA,EAAQa,SACnB,iBAAZb,IAAsBA,EAAU,CAAC,CAAChD,EAAOxD,GAAIwG,EAAS,MAC7DA,EAAQc,SAAQ9D,EAAO+D,QAAUf,EAAQc,SAG/BE,EADH,YACO,WAAYhB,GAAS,EAAO,K,sBCN7C,IAAIA,EAAU,EAAQ,OACnBA,EAAQY,aAAYZ,EAAUA,EAAQa,SACnB,iBAAZb,IAAsBA,EAAU,CAAC,CAAChD,EAAOxD,GAAIwG,EAAS,MAC7DA,EAAQc,SAAQ9D,EAAO+D,QAAUf,EAAQc,SAG/BE,EADH,YACO,WAAYhB,GAAS,EAAO","sources":["webpack://job/src/views/dangerous-rule-manage/index/components/edit-action.vue","webpack://job/src/views/dangerous-rule-manage/index/components/table-action-row.vue","webpack://job/src/views/dangerous-rule-manage/index/index.vue","webpack://job/./src/domain/service/dangerous-rule.js","webpack://job/./src/domain/source/dangerous-rule.js","webpack://job/./src/views/dangerous-rule-manage/index/components/edit-action.vue?b3b0","webpack://job/./src/views/dangerous-rule-manage/index/components/edit-action.vue?7a0d","webpack://job/./src/views/dangerous-rule-manage/index/components/edit-action.vue?4dad","webpack://job/./src/views/dangerous-rule-manage/index/components/table-action-row.vue?2244","webpack://job/./src/views/dangerous-rule-manage/index/components/table-action-row.vue?b261","webpack://job/./src/views/dangerous-rule-manage/index/components/table-action-row.vue","webpack://job/./src/views/dangerous-rule-manage/index/index.vue?c44e","webpack://job/./src/views/dangerous-rule-manage/index/index.vue?75e2","webpack://job/./src/views/dangerous-rule-manage/index/index.vue?ca16","webpack://job/./src/views/dangerous-rule-manage/index/components/edit-action.vue?a1f7","webpack://job/./src/views/dangerous-rule-manage/index/index.vue?a15d"],"sourcesContent":["<template>\n    <div class=\"dangerous-rule-edit-mode\">\n        <bk-select\n            ref=\"select\"\n            :value=\"value\"\n            :clearable=\"false\"\n            @toggle=\"handleSelectToggle\"\n            @change=\"handleChange\">\n            <bk-option\n                v-for=\"item in actionList\"\n                :name=\"item.name\"\n                :id=\"item.id\"\n                :key=\"item.id\" />\n        </bk-select>\n        <div v-show=\"!isEditing\" class=\"value-box\" @click.stop=\"handleEdit\">\n            <div\n                class=\"action-text\"\n                :class=\"textClass\">\n                {{ text }}\n            </div>\n            <i class=\"bk-icon icon-angle-down value-box-arrow\" />\n        </div>\n    </div>\n</template>\n<script>\n    import _ from 'lodash';\n   \n    export default {\n        name: '',\n        props: {\n            value: {\n                type: Number,\n                require: true,\n            },\n        },\n        data () {\n            return {\n                isEditing: false,\n            };\n        },\n        computed: {\n            text () {\n                return _.find(this.actionList, _ => _.id === this.value).name;\n            },\n            textClass () {\n                const classMap = {\n                    1: 'normal',\n                    2: 'hight',\n                };\n                return classMap[this.value];\n            },\n        },\n        created () {\n            this.actionList = [\n                {\n                    id: 1,\n                    name: '扫描',\n                },\n                {\n                    id: 2,\n                    name: '拦截',\n                },\n            ];\n        },\n        methods: {\n            /**\n             * @desc 开始编辑\n             */\n            handleEdit () {\n                this.isEditing = true;\n                this.$nextTick(() => {\n                    this.$refs.select.$el.querySelector('.bk-select-name').click();\n                });\n            },\n            /**\n             * @desc 下拉面板收起，取消编辑状态\n             */\n            handleSelectToggle (toggle) {\n                if (!toggle) {\n                    this.isEditing = false;\n                }\n            },\n            /**\n             * @desc 触发change 事件\n             */\n            handleChange (value) {\n                this.$emit('on-change', value);\n            },\n        },\n    };\n</script>\n<style lang='postcss'>\n    .dangerous-rule-edit-mode {\n        position: relative;\n        padding-left: 10px;\n        margin-left: -10px;\n\n        .value-box {\n            position: absolute;\n            top: 0;\n            left: 0;\n            z-index: 1;\n            display: flex;\n            width: 100%;\n            height: 100%;\n            padding-left: 10px;\n            cursor: pointer;\n            background: #fff;\n            align-items: center;\n\n            &:hover {\n                background: #f0f1f5;\n\n                .action-text {\n                    &.normal {\n                        color: #63656e;\n                        background: #e1e3eb;\n                    }\n\n                    &.hight {\n                        color: #e63535;\n                        background: #fdd;\n                    }\n                }\n\n                .value-box-arrow {\n                    display: block;\n                }\n            }\n\n            .action-text {\n                display: inline-block;\n                height: 18px;\n                padding: 0 5px;\n                font-size: 12px;\n                line-height: 18px;\n                cursor: pointer;\n                border-radius: 2px;\n\n                &.normal {\n                    color: #979ba5;\n                    background: #f0f1f5;\n                }\n\n                &.hight {\n                    color: #ea3636;\n                    background: #ffebeb;\n                }\n            }\n\n            .value-box-arrow {\n                position: absolute;\n                top: 2px;\n                right: 2px;\n                display: none;\n                font-size: 22px;\n                color: #979ba5;\n            }\n        }\n    }\n</style>\n","<template>\n    <tbody>\n        <tr v-if=\"!isEdit\">\n            <td colspan=\"5\">\n                <bk-button\n                    text\n                    @click=\"handleToggle\">\n                    <Icon type=\"plus\" />\n                    {{ '新增检测规则' }}\n                </bk-button>\n            </td>\n        </tr>\n        <tr v-else>\n            <td>\n                <bk-input\n                    v-model=\"formData.expression\"\n                    class=\"input\" />\n            </td>\n            <td>\n                <bk-input\n                    v-model=\"formData.description\"\n                    class=\"input\" />\n            </td>\n            <td>\n                <bk-select\n                    v-model=\"formData.scriptTypeList\"\n                    :clearable=\"false\"\n                    multiple\n                    show-select-all>\n                    <bk-option\n                        v-for=\"item in scriptTypeList\"\n                        :key=\"item.id\"\n                        :name=\"item.name\"\n                        :id=\"item.id\" />\n                </bk-select>\n            </td>\n            <td>\n                <bk-select\n                    v-model=\"formData.action\"\n                    :clearable=\"false\">\n                    <bk-option\n                        :name=\"'扫描'\"\n                        :id=\"1\" />\n                    <bk-option\n                        :name=\"'拦截'\"\n                        :id=\"2\" />\n                </bk-select>\n            </td>\n            <td>\n                <bk-button\n                    text\n                    @click=\"handleSubmit\">\n                    {{ '保存' }}\n                </bk-button>\n                <bk-button\n                    text\n                    @click=\"handleCancel\">\n                    {{ '取消' }}\n                </bk-button>\n            </td>\n        </tr>\n    </tbody>\n</template>\n<script>\n       import DangerousRuleService from '@service/dangerous-rule';\n    import PublicScriptManageService from '@service/public-script-manage';\n\n    const generatorDefautlData = () => ({\n        expression: '',\n        description: '',\n        scriptTypeList: 1,\n        action: 1,\n    });\n\n    export default {\n        data () {\n            return {\n                isEdit: false,\n                isSubmiting: false,\n                formData: generatorDefautlData(),\n                scriptTypeList: [{},{},{}],\n            };\n        },\n        created () {\n            this.fetchScriptType();\n        },\n        methods: {\n            /**\n             * @desc 获取脚本类型列表\n             */\n            fetchScriptType () {\n                PublicScriptManageService.scriptTypeList()\n                    .then((data) => {\n                        this.scriptTypeList = data;\n                    });\n            },\n            /**\n             * @desc 切换编辑状态\n             */\n            handleToggle () {\n                this.isEdit = true;\n            },\n            /**\n             * @desc 取消编辑状态，重置表单数据\n             */\n            handleCancel () {\n                this.isEdit = false;\n                this.formData = generatorDefautlData();\n            },\n            /**\n             * @desc 提交用户数据\n             */\n            handleSubmit () {\n                if (this.isSubmiting) {\n                    return;\n                }\n                if (!this.formData.expression || !this.formData.description) {\n                    this.messageError('请填写完整的语法检测表达式和说明');\n                    return;\n                }\n                this.isSubmiting = true;\n                DangerousRuleService.update({\n                    id: -1,\n                    ...this.formData,\n                }).then(() => {\n                    this.messageSuccess('新增成功');\n                    this.$emit('on-change');\n                    this.handleCancel();\n                })\n                    .finally(() => {\n                        this.isSubmiting = false;\n                    });\n            },\n        },\n    };\n</script>\n","<template>\n    <div class=\"dangerous-rule-manage-page\">\n        <table\n            class=\"rule-table\"\n            v-test=\"{ type: 'list', value: 'dangerousRule' }\">\n            <thead>\n                <tr>\n                    <th style=\"width: 200px;\">{{ '语法检测表达式' }}</th>\n                    <th>{{ '规则说明' }}</th>\n                    <th style=\"width: 300px;\">{{ '脚本类型' }}</th>\n                    <th style=\"width: 300px;\">\n                        <span>{{ '动作' }}</span>\n                        <bk-popover placement=\"right\">\n                            <Icon type=\"info\" class=\"action-tips\" />\n                            <div slot=\"content\">\n                                <div>{{ '【扫描】' }}</div>\n                                <div>{{ '命中规则的脚本执行任务仅会做记录，不会拦截' }}</div>\n                                <div style=\"margin-top: 8px;\">{{ '【拦截】' }}</div>\n                                <div>{{ '命中规则的脚本执行任务会被记录，并中止运行' }}</div>\n                            </div>\n                        </bk-popover>\n                    </th>\n                    <th style=\"width: 180px;\">\n                        {{ '操作' }}\n                        <Icon\n                            v-bk-tooltips=\"{\n                                theme: 'dark',\n                                content: '规则的顺位越高，表示执行优先度越高',\n                            }\"\n                            class=\"action-tips\"\n                            type=\"info\" />\n                    </th>\n                </tr>\n            </thead>\n            <table-action-row @on-change=\"handleAdd\" />\n            <tbody\n                v-for=\"(rule, index) in list\"\n                :key=\"rule.id\">\n                <tr>\n                    <td>\n                        <jb-edit-input\n                            field=\"expression\"\n                            mode=\"block\"\n                            :rules=\"formRules.expression\"\n                            :value=\"rule.expression\"\n                            :remote-hander=\"val => handleUpdate(rule, val)\" />\n                    </td>\n                    <td>\n                        <jb-edit-input\n                            field=\"description\"\n                            mode=\"block\"\n                            :rules=\"formRules.description\"\n                            :value=\"rule.description\"\n                            :remote-hander=\"val => handleUpdate(rule, val)\" />\n                    </td>\n                    <td>\n                        <jb-edit-select\n                            field=\"scriptTypeList\"\n                            mode=\"block\"\n                            :rules=\"formRules.scriptTypeList\"\n                            multiple\n                            show-select-all\n                            :value=\"rule.scriptTypeList\"\n                            :list=\"scriptTypeList\"\n                            :remote-hander=\"val => handleUpdate(rule, val)\" />\n                    </td>\n                    <td>\n                        <edit-action\n                            :value=\"rule.action\"\n                            @on-change=\"action => handleUpdate(rule, { action })\" />\n                    </td>\n                    <td>\n                        <div class=\"action-box\">\n                            <bk-switcher\n                                :value=\"rule.status\"\n                                :true-value=\"1\"\n                                :false-value=\"0\"\n                                @update=\"status => handleUpdate(rule, { status })\"\n                                class=\"mr10\"\n                                theme=\"primary\"\n                                size=\"small\"\n                                v-test=\"{ type: 'button', value: 'toggleRuleStatus' }\" />\n                            <bk-button\n                                class=\"arrow-btn mr10\"\n                                text\n                                \n                                v-bk-tooltips.top=\"'上移'\"\n                                @click=\"handleMove(index, -1)\"\n                                v-test=\"{ type: 'button', value: 'upMoveRule' }\">\n                                <Icon type=\"increase-line\" />\n                            </bk-button>\n                            <bk-button\n                                class=\"arrow-btn mr10\"\n                                text\n                                \n                                v-bk-tooltips.top=\"'下移'\"\n                                @click=\"handleMove(index, 1)\"\n                                v-test=\"{ type: 'button', value: 'downMoveRule' }\">\n                                <Icon type=\"decrease-line\" />\n                            </bk-button>\n                            <jb-popover-confirm\n                                :title=\"'确定删除该规则？'\"\n                                :content=\"'脚本编辑器中匹配该规则将不会再收到提醒'\"\n                                :confirm-handler=\"() => handleDelete(rule.id)\">\n                                <bk-button\n                                    text\n                                    v-test=\"{ type: 'button', value: 'deleteRule' }\">\n                                    {{ '删除' }}\n                                </bk-button>\n                            </jb-popover-confirm>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n</template>\n<script>\n       import DangerousRuleService from '@service/dangerous-rule';\n    import PublicScriptManageService from '@service/public-script-manage';\n    import JbEditInput from '@components/jb-edit/input';\n    import JbEditSelect from '@components/jb-edit/select';\n    import JbPopoverConfirm from '@components/jb-popover-confirm';\n    import TableActionRow from './components/table-action-row';\n    import EditAction from './components/edit-action';\n\n    export default {\n        name: '',\n        components: {\n            JbEditInput,\n            JbEditSelect,\n            JbPopoverConfirm,\n            TableActionRow,\n            EditAction,\n        },\n        data () {\n            return {\n                isLoading: true,\n                list: [{},{},{}],\n                scriptTypeList: [{},{},{}],\n            };\n        },\n        computed: {\n            isSkeletonLoading () {\n                return this.isLoading;\n            },\n        },\n        created () {\n            this.editRule = {};\n            this.fetchData();\n            this.fetchScriptType();\n\n            this.formRules = {\n                expression: [\n                    {\n                        required: true,\n                        message: '语法检测表达式不能为空',\n                    },\n                ],\n                description: [\n                    {\n                        required: true,\n                        message: '规则说明不能为空',\n                    },\n                ],\n                scriptTypeList: [\n                    {\n                        validator: value => value.length > 0,\n                        message: '脚本类型不能为空',\n                    },\n                ],\n            };\n        },\n        methods: {\n            /**\n             * @desc 获取高危语句规则\n             */\n            fetchData () {\n                this.isLoading = true;\n                DangerousRuleService.fetchList({}, {\n                    permission: 'page',\n                })\n                    .then((data) => {\n                        this.list = data;\n                    })\n                    .finally(() => {\n                        this.isLoading = false;\n                    });\n            },\n            /**\n             * @desc 获取支持的脚本类型列表\n             */\n            fetchScriptType () {\n                PublicScriptManageService.scriptTypeList()\n                    .then((data) => {\n                        this.scriptTypeList = data;\n                    });\n            },\n            /**\n             * @desc 更新脚本类型\n             * @param {String} rule 高危语句规则\n             * @param {Array} scriptTypeList 脚本语言列表哦\n             */\n            handleScriptTypeUpdate (rule, scriptTypeList) {\n                this.editRule = {\n                    ...rule,\n                    scriptTypeList,\n                };\n            },\n            /**\n             * @desc 脚本语言下拉框收起时提交更新\n             * @param {Boolean} toggle 脚本语言下拉框收起状态\n             */\n            handleSubmitScriptTypeChange (toggle) {\n                if (!toggle\n                    && this.editRule.scriptTypeList\n                    && this.editRule.scriptTypeList.length > 0) {\n                    DangerousRuleService.update({\n                        ...this.editRule,\n                    }).then(() => {\n                        this.messageSuccess('编辑成功');\n                    });\n                }\n            },\n            /**\n             * @desc 更新高危语句配置\n             * @param {Object} rule 高危语句规则\n             * @param {Object} payload 脚本语言列表哦\n             */\n            handleUpdate (rule, payload) {\n                console.log('from handleUpdate = ', rule, payload);\n                return DangerousRuleService.update({\n                    ...rule,\n                    ...payload,\n                }).then(() => {\n                    this.messageSuccess('编辑成功');\n                    Object.assign(rule, payload);\n                });\n            },\n            /**\n             * @desc 添加一条高危语句\n             */\n            handleAdd () {\n                this.fetchData();\n            },\n            /**\n             * @desc 移动高危语句的顺序\n             * @param {Number} index 当前语句的位置索引\n             * @param {Number} step 移动的步数\n             */\n            handleMove (index, step) {\n                this.isLoading = true;\n                DangerousRuleService.updateSort({\n                    id: this.list[index].id,\n                    dir: step,\n                }).then(() => {\n                    const current = this.list[index];\n                    const change = this.list[index + step];\n                    this.list.splice(index, 1, change);\n                    this.list.splice(index + step, 1, current);\n                    this.messageSuccess(step < 0 ? '上移成功' : '下移成功');\n                })\n                    .finally(() => {\n                        this.isLoading = false;\n                    });\n            },\n            /**\n             * @desc 删除高危语句\n             * @param {Number} id 高危语句的id\n             */\n            handleDelete (id) {\n                return DangerousRuleService.remove({\n                    id,\n                }).then(() => {\n                    this.messageSuccess('删除成功');\n                    this.fetchData();\n                });\n            },\n        },\n    };\n</script>\n<style lang='postcss'>\n    .dangerous-rule-manage-page {\n        .rule-table {\n            width: 100%;\n            border: 1px solid #dcdee5;\n            border-radius: 2px;\n            table-layout: fixed;\n\n            th,\n            td {\n                height: 40px;\n                padding-right: 15px;\n                padding-left: 15px;\n                font-size: 12px;\n                color: #63656e;\n                text-align: left;\n                border-top: 1px solid #dcdee5;\n            }\n\n            th {\n                font-weight: normal;\n                color: #313238;\n                background: #fafbfd;\n            }\n\n            td {\n                background: #fff;\n            }\n\n            .bk-button-text {\n                font-size: 12px;\n\n                .icon-plus {\n                    font-size: 18px;\n                }\n            }\n        }\n\n        .input {\n            width: 100%;\n\n            .bk-form-input {\n                height: 26px;\n            }\n        }\n\n        .action-tips {\n            color: #c4c6cc;\n        }\n\n        .action-box {\n            display: flex;\n            align-items: center;\n\n            .arrow-btn {\n                font-size: 16px;\n            }\n        }\n\n        .script-type-edit {\n            &.bk-select {\n                margin-left: -10px;\n                border-color: transparent;\n\n                &.is-focus {\n                    border-color: #3a84ff;\n                }\n\n                &:hover {\n                    background: #f0f1f5;\n\n                    .bk-select-angle {\n                        display: block;\n                    }\n                }\n\n                .bk-select-angle {\n                    display: none;\n                }\n            }\n        }\n\n        .bk-select {\n            line-height: 24px;\n\n            .bk-select-name {\n                height: 24px;\n            }\n\n            .bk-select-angle {\n                top: 2px;\n            }\n        }\n    }\n</style>\n","\n\n/* eslint-disable no-param-reassign */\nimport DangerousRuleSource from '../source/dangerous-rule';\n\nexport default {\n    fetchList (params = {}, payload = {}) {\n        return DangerousRuleSource.getData(params, payload)\n            .then(({ data }) => data);\n    },\n    update (params) {\n        return DangerousRuleSource.update(params)\n            .then(({ data }) => data);\n    },\n    remove (params) {\n        return DangerousRuleSource.removeById(params)\n            .then(({ data }) => data);\n    },\n    updateSort (params) {\n        return DangerousRuleSource.move(params)\n            .then(({ data }) => data);\n    },\n};\n","\n\nimport Request from '@utils/request';\n\nclass DangerousRule {\n    constructor () {\n        this.module = '/job-manage/web/dangerousRule';\n    }\n\n    // 获取高危语句规则列表\n    getData (params = {}, payload = {}) {\n        return Request.get(`${this.module}/list`, {\n            params,\n            payload,\n        });\n    }\n\n    // 添加/修改高危语句规则\n    update (params = {}) {\n        return Request.post(`${this.module}`, {\n            params,\n        });\n    }\n\n    // 删除高危语句规则\n    removeById (params = {}) {\n        return Request.delete(`${this.module}/${params.id}`);\n    }\n\n    // 移动高危语句规则\n    move (params = {}) {\n        return Request.put(`${this.module}/move`, {\n            params,\n        });\n    }\n}\nexport default new DangerousRule();\n","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"dangerous-rule-edit-mode\" },\n    [\n      _c(\n        \"bk-select\",\n        {\n          ref: \"select\",\n          attrs: { value: _vm.value, clearable: false },\n          on: { toggle: _vm.handleSelectToggle, change: _vm.handleChange },\n        },\n        _vm._l(_vm.actionList, function (item) {\n          return _c(\"bk-option\", {\n            key: item.id,\n            attrs: { name: item.name, id: item.id },\n          })\n        }),\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          directives: [\n            {\n              name: \"show\",\n              rawName: \"v-show\",\n              value: !_vm.isEditing,\n              expression: \"!isEditing\",\n            },\n          ],\n          staticClass: \"value-box\",\n          on: {\n            click: function ($event) {\n              $event.stopPropagation()\n              return _vm.handleEdit.apply(null, arguments)\n            },\n          },\n        },\n        [\n          _c(\"div\", { staticClass: \"action-text\", class: _vm.textClass }, [\n            _vm._v(\"\\n            \" + _vm._s(_vm.text) + \"\\n        \"),\n          ]),\n          _vm._v(\" \"),\n          _c(\"i\", { staticClass: \"bk-icon icon-angle-down value-box-arrow\" }),\n        ]\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-action.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-action.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit-action.vue?vue&type=template&id=44d5f513&\"\nimport script from \"./edit-action.vue?vue&type=script&lang=js&\"\nexport * from \"./edit-action.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edit-action.vue?vue&type=style&index=0&lang=postcss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/bk-job-frontend/bk-job-frontend/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('44d5f513')) {\n      api.createRecord('44d5f513', component.options)\n    } else {\n      api.reload('44d5f513', component.options)\n    }\n    module.hot.accept(\"./edit-action.vue?vue&type=template&id=44d5f513&\", function () {\n      api.rerender('44d5f513', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/dangerous-rule-manage/index/components/edit-action.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"tbody\", [\n    !_vm.isEdit\n      ? _c(\"tr\", [\n          _c(\n            \"td\",\n            { attrs: { colspan: \"5\" } },\n            [\n              _c(\n                \"bk-button\",\n                { attrs: { text: \"\" }, on: { click: _vm.handleToggle } },\n                [\n                  _c(\"Icon\", { attrs: { type: \"plus\" } }),\n                  _vm._v(\n                    \"\\n                \" +\n                      _vm._s(\"新增检测规则\") +\n                      \"\\n            \"\n                  ),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ])\n      : _c(\"tr\", [\n          _c(\n            \"td\",\n            [\n              _c(\"bk-input\", {\n                staticClass: \"input\",\n                model: {\n                  value: _vm.formData.expression,\n                  callback: function ($$v) {\n                    _vm.$set(_vm.formData, \"expression\", $$v)\n                  },\n                  expression: \"formData.expression\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"td\",\n            [\n              _c(\"bk-input\", {\n                staticClass: \"input\",\n                model: {\n                  value: _vm.formData.description,\n                  callback: function ($$v) {\n                    _vm.$set(_vm.formData, \"description\", $$v)\n                  },\n                  expression: \"formData.description\",\n                },\n              }),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"td\",\n            [\n              _c(\n                \"bk-select\",\n                {\n                  attrs: {\n                    clearable: false,\n                    multiple: \"\",\n                    \"show-select-all\": \"\",\n                  },\n                  model: {\n                    value: _vm.formData.scriptTypeList,\n                    callback: function ($$v) {\n                      _vm.$set(_vm.formData, \"scriptTypeList\", $$v)\n                    },\n                    expression: \"formData.scriptTypeList\",\n                  },\n                },\n                _vm._l(_vm.scriptTypeList, function (item) {\n                  return _c(\"bk-option\", {\n                    key: item.id,\n                    attrs: { name: item.name, id: item.id },\n                  })\n                }),\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"td\",\n            [\n              _c(\n                \"bk-select\",\n                {\n                  attrs: { clearable: false },\n                  model: {\n                    value: _vm.formData.action,\n                    callback: function ($$v) {\n                      _vm.$set(_vm.formData, \"action\", $$v)\n                    },\n                    expression: \"formData.action\",\n                  },\n                },\n                [\n                  _c(\"bk-option\", { attrs: { name: \"扫描\", id: 1 } }),\n                  _vm._v(\" \"),\n                  _c(\"bk-option\", { attrs: { name: \"拦截\", id: 2 } }),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"td\",\n            [\n              _c(\n                \"bk-button\",\n                { attrs: { text: \"\" }, on: { click: _vm.handleSubmit } },\n                [\n                  _vm._v(\n                    \"\\n                \" + _vm._s(\"保存\") + \"\\n            \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"bk-button\",\n                { attrs: { text: \"\" }, on: { click: _vm.handleCancel } },\n                [\n                  _vm._v(\n                    \"\\n                \" + _vm._s(\"取消\") + \"\\n            \"\n                  ),\n                ]\n              ),\n            ],\n            1\n          ),\n        ]),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table-action-row.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./table-action-row.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./table-action-row.vue?vue&type=template&id=23963058&\"\nimport script from \"./table-action-row.vue?vue&type=script&lang=js&\"\nexport * from \"./table-action-row.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/bk-job-frontend/bk-job-frontend/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('23963058')) {\n      api.createRecord('23963058', component.options)\n    } else {\n      api.reload('23963058', component.options)\n    }\n    module.hot.accept(\"./table-action-row.vue?vue&type=template&id=23963058&\", function () {\n      api.rerender('23963058', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/dangerous-rule-manage/index/components/table-action-row.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"dangerous-rule-manage-page\" }, [\n    _c(\n      \"table\",\n      {\n        directives: [\n          {\n            name: \"test\",\n            rawName: \"v-test\",\n            value: { type: \"list\", value: \"dangerousRule\" },\n            expression: \"{ type: 'list', value: 'dangerousRule' }\",\n          },\n        ],\n        staticClass: \"rule-table\",\n      },\n      [\n        _c(\"thead\", [\n          _c(\"tr\", [\n            _c(\"th\", { staticStyle: { width: \"200px\" } }, [\n              _vm._v(_vm._s(\"语法检测表达式\")),\n            ]),\n            _vm._v(\" \"),\n            _c(\"th\", [_vm._v(_vm._s(\"规则说明\"))]),\n            _vm._v(\" \"),\n            _c(\"th\", { staticStyle: { width: \"300px\" } }, [\n              _vm._v(_vm._s(\"脚本类型\")),\n            ]),\n            _vm._v(\" \"),\n            _c(\n              \"th\",\n              { staticStyle: { width: \"300px\" } },\n              [\n                _c(\"span\", [_vm._v(_vm._s(\"动作\"))]),\n                _vm._v(\" \"),\n                _c(\n                  \"bk-popover\",\n                  { attrs: { placement: \"right\" } },\n                  [\n                    _c(\"Icon\", {\n                      staticClass: \"action-tips\",\n                      attrs: { type: \"info\" },\n                    }),\n                    _vm._v(\" \"),\n                    _c(\"div\", { attrs: { slot: \"content\" }, slot: \"content\" }, [\n                      _c(\"div\", [_vm._v(_vm._s(\"【扫描】\"))]),\n                      _vm._v(\" \"),\n                      _c(\"div\", [\n                        _vm._v(\n                          _vm._s(\"命中规则的脚本执行任务仅会做记录，不会拦截\")\n                        ),\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"div\", { staticStyle: { \"margin-top\": \"8px\" } }, [\n                        _vm._v(_vm._s(\"【拦截】\")),\n                      ]),\n                      _vm._v(\" \"),\n                      _c(\"div\", [\n                        _vm._v(\n                          _vm._s(\"命中规则的脚本执行任务会被记录，并中止运行\")\n                        ),\n                      ]),\n                    ]),\n                  ],\n                  1\n                ),\n              ],\n              1\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"th\",\n              { staticStyle: { width: \"180px\" } },\n              [\n                _vm._v(\n                  \"\\n                    \" +\n                    _vm._s(\"操作\") +\n                    \"\\n                    \"\n                ),\n                _c(\"Icon\", {\n                  directives: [\n                    {\n                      name: \"bk-tooltips\",\n                      rawName: \"v-bk-tooltips\",\n                      value: {\n                        theme: \"dark\",\n                        content: \"规则的顺位越高，表示执行优先度越高\",\n                      },\n                      expression:\n                        \"{\\n                            theme: 'dark',\\n                            content: '规则的顺位越高，表示执行优先度越高',\\n                        }\",\n                    },\n                  ],\n                  staticClass: \"action-tips\",\n                  attrs: { type: \"info\" },\n                }),\n              ],\n              1\n            ),\n          ]),\n        ]),\n        _vm._v(\" \"),\n        _c(\"table-action-row\", { on: { \"on-change\": _vm.handleAdd } }),\n        _vm._v(\" \"),\n        _vm._l(_vm.list, function (rule, index) {\n          return _c(\"tbody\", { key: rule.id }, [\n            _c(\"tr\", [\n              _c(\n                \"td\",\n                [\n                  _c(\"jb-edit-input\", {\n                    attrs: {\n                      field: \"expression\",\n                      mode: \"block\",\n                      rules: _vm.formRules.expression,\n                      value: rule.expression,\n                      \"remote-hander\": function (val) {\n                        return _vm.handleUpdate(rule, val)\n                      },\n                    },\n                  }),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"td\",\n                [\n                  _c(\"jb-edit-input\", {\n                    attrs: {\n                      field: \"description\",\n                      mode: \"block\",\n                      rules: _vm.formRules.description,\n                      value: rule.description,\n                      \"remote-hander\": function (val) {\n                        return _vm.handleUpdate(rule, val)\n                      },\n                    },\n                  }),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"td\",\n                [\n                  _c(\"jb-edit-select\", {\n                    attrs: {\n                      field: \"scriptTypeList\",\n                      mode: \"block\",\n                      rules: _vm.formRules.scriptTypeList,\n                      multiple: \"\",\n                      \"show-select-all\": \"\",\n                      value: rule.scriptTypeList,\n                      list: _vm.scriptTypeList,\n                      \"remote-hander\": function (val) {\n                        return _vm.handleUpdate(rule, val)\n                      },\n                    },\n                  }),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"td\",\n                [\n                  _c(\"edit-action\", {\n                    attrs: { value: rule.action },\n                    on: {\n                      \"on-change\": function (action) {\n                        return _vm.handleUpdate(rule, { action: action })\n                      },\n                    },\n                  }),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"td\", [\n                _c(\n                  \"div\",\n                  { staticClass: \"action-box\" },\n                  [\n                    _c(\"bk-switcher\", {\n                      directives: [\n                        {\n                          name: \"test\",\n                          rawName: \"v-test\",\n                          value: { type: \"button\", value: \"toggleRuleStatus\" },\n                          expression:\n                            \"{ type: 'button', value: 'toggleRuleStatus' }\",\n                        },\n                      ],\n                      staticClass: \"mr10\",\n                      attrs: {\n                        value: rule.status,\n                        \"true-value\": 1,\n                        \"false-value\": 0,\n                        theme: \"primary\",\n                        size: \"small\",\n                      },\n                      on: {\n                        update: function (status) {\n                          return _vm.handleUpdate(rule, { status: status })\n                        },\n                      },\n                    }),\n                    _vm._v(\" \"),\n                    _c(\n                      \"bk-button\",\n                      {\n                        directives: [\n                          {\n                            name: \"bk-tooltips\",\n                            rawName: \"v-bk-tooltips.top\",\n                            value: \"上移\",\n                            expression: \"'上移'\",\n                            modifiers: { top: true },\n                          },\n                          {\n                            name: \"test\",\n                            rawName: \"v-test\",\n                            value: { type: \"button\", value: \"upMoveRule\" },\n                            expression:\n                              \"{ type: 'button', value: 'upMoveRule' }\",\n                          },\n                        ],\n                        staticClass: \"arrow-btn mr10\",\n                        attrs: { text: \"\" },\n                        on: {\n                          click: function ($event) {\n                            return _vm.handleMove(index, -1)\n                          },\n                        },\n                      },\n                      [_c(\"Icon\", { attrs: { type: \"increase-line\" } })],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"bk-button\",\n                      {\n                        directives: [\n                          {\n                            name: \"bk-tooltips\",\n                            rawName: \"v-bk-tooltips.top\",\n                            value: \"下移\",\n                            expression: \"'下移'\",\n                            modifiers: { top: true },\n                          },\n                          {\n                            name: \"test\",\n                            rawName: \"v-test\",\n                            value: { type: \"button\", value: \"downMoveRule\" },\n                            expression:\n                              \"{ type: 'button', value: 'downMoveRule' }\",\n                          },\n                        ],\n                        staticClass: \"arrow-btn mr10\",\n                        attrs: { text: \"\" },\n                        on: {\n                          click: function ($event) {\n                            return _vm.handleMove(index, 1)\n                          },\n                        },\n                      },\n                      [_c(\"Icon\", { attrs: { type: \"decrease-line\" } })],\n                      1\n                    ),\n                    _vm._v(\" \"),\n                    _c(\n                      \"jb-popover-confirm\",\n                      {\n                        attrs: {\n                          title: \"确定删除该规则？\",\n                          content: \"脚本编辑器中匹配该规则将不会再收到提醒\",\n                          \"confirm-handler\": function () {\n                            return _vm.handleDelete(rule.id)\n                          },\n                        },\n                      },\n                      [\n                        _c(\n                          \"bk-button\",\n                          {\n                            directives: [\n                              {\n                                name: \"test\",\n                                rawName: \"v-test\",\n                                value: { type: \"button\", value: \"deleteRule\" },\n                                expression:\n                                  \"{ type: 'button', value: 'deleteRule' }\",\n                              },\n                            ],\n                            attrs: { text: \"\" },\n                          },\n                          [\n                            _vm._v(\n                              \"\\n                                \" +\n                                _vm._s(\"删除\") +\n                                \"\\n                            \"\n                            ),\n                          ]\n                        ),\n                      ],\n                      1\n                    ),\n                  ],\n                  1\n                ),\n              ]),\n            ]),\n          ])\n        }),\n      ],\n      2\n    ),\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4774046f&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=postcss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/home/runner/work/bk-job-frontend/bk-job-frontend/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('4774046f')) {\n      api.createRecord('4774046f', component.options)\n    } else {\n      api.reload('4774046f', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=4774046f&\", function () {\n      api.rerender('4774046f', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/dangerous-rule-manage/index/index.vue\"\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-action.vue?vue&type=style&index=0&lang=postcss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8f4be4dc\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-action.vue?vue&type=style&index=0&lang=postcss&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edit-action.vue?vue&type=style&index=0&lang=postcss&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=postcss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"51bd219e\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=postcss&\", function() {\n     var newContent = require(\"!!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../node_modules/css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=postcss&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}"],"names":["name","props","value","type","require","data","isEditing","computed","text","textClass","created","id","methods","handleEdit","handleSelectToggle","handleChange","isEdit","isSubmiting","formData","expression","description","scriptTypeList","action","fetchScriptType","PublicScriptManageService","then","handleToggle","handleCancel","handleSubmit","DangerousRuleService","finally","components","JbEditInput","JbEditSelect","JbPopoverConfirm","TableActionRow","EditAction","isLoading","list","isSkeletonLoading","required","message","validator","fetchData","permission","handleScriptTypeUpdate","rule","handleSubmitScriptTypeChange","handleUpdate","console","payload","Object","handleAdd","handleMove","dir","handleDelete","fetchList","params","DangerousRuleSource","getData","update","remove","removeById","updateSort","move","constructor","this","module","Request","get","post","delete","put","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","clearable","on","toggle","change","_l","actionList","item","key","_v","directives","rawName","click","$event","stopPropagation","apply","arguments","class","_s","_withStripped","component","options","__file","model","callback","$$v","$set","multiple","colspan","staticStyle","width","placement","slot","theme","content","index","field","mode","rules","formRules","val","status","size","modifiers","top","title","__esModule","default","locals","exports","add"],"sourceRoot":""}