(self.webpackChunkjob=self.webpackChunkjob||[]).push([[2775],{16091:function(t,e,a){"use strict";var r=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(35927),a(6919),a(87033),a(35948);var i=r(a(15399)),l={name:"AppIdSecretKey",props:{data:{type:Object,default:function(){return{}}},type:{type:String,default:""}},data(){return{formData:{value1:this.data.value1,value2:this.data.value2,description:this.data.description}}},created(){"APP_ID_SECRET_KEY"!==this.type&&(this.formData.value1="",this.formData.value2=""),this.rules={value1:[{required:!0,message:i.default.t("ticket.AppID必填"),trigger:"blur"}],value2:[{required:!0,message:i.default.t("ticket.SecretKey必填"),trigger:"blur"}]}},methods:{getData(){var t=this;return this.$refs.form.validate().then((function(e){return t.formData}),(function(t){return Promise.reject(t.content)}))}}};e.Z=l},89646:function(t,e,a){"use strict";var r=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(35927),a(6919),a(87033),a(35948);var i=r(a(15399)),l={name:"Password",props:{data:{type:Object,default:function(){return{}}},type:{type:String,default:""}},data(){return{formData:{value1:this.data.value1,description:this.data.description}}},created(){"PASSWORD"!==this.type&&(this.formData.value1=""),this.rules={value1:[{required:!0,message:i.default.t("ticket.密码必填"),trigger:"blur"}]}},methods:{getData(){var t=this;return this.$refs.form.validate().then((function(e){return t.formData}),(function(t){return Promise.reject(t.content)}))}}};e.Z=l},88975:function(t,e,a){"use strict";var r=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(35927),a(6919),a(87033),a(35948);var i=r(a(15399)),l={name:"SecretKey",props:{data:{type:Object,defaule:function(){return{}}},type:{type:String,default:""}},data(){return{formData:{value1:this.data.value1,description:this.data.description}}},created(){"SECRET_KEY"!==this.type&&(this.formData.value1=""),this.rules={value1:[{required:!0,message:i.default.t("ticket.SecretKey必填"),trigger:"blur"}]}},methods:{getData(){var t=this;return this.$refs.form.validate().then((function(e){return t.formData}),(function(t){return Promise.reject(t.content)}))}}};e.Z=l},13523:function(t,e,a){"use strict";var r=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(35927),a(6919),a(87033),a(35948);var i=r(a(15399)),l={name:"UsernamePassword",props:{data:{type:Object,defaule:function(){return{}}},type:{type:String,default:""}},data(){return{formData:{value1:this.data.value1,value2:this.data.value2,description:this.data.description}}},created(){"USERNAME_PASSWORD"!==this.type&&(this.formData.value1="",this.formData.value2=""),this.rules={value1:[{required:!0,message:i.default.t("ticket.密码必填"),trigger:"blur"}],value2:[{required:!0,message:i.default.t("ticket.用户名必填"),trigger:"blur"}]}},methods:{getData(){var t=this;return this.$refs.form.validate().then((function(e){return t.formData}),(function(t){return Promise.reject(t.content)}))}}};e.Z=l},27788:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var r=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(23232),a(87033),a(35948),a(80433);var i=r(a(56318)),l=r(a(33610)),n=r(a(15399)),s=r(a(81363)),o=r(a(88705)),c=r(a(24118)),u=r(a(37699)),d=r(a(98578));function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){(0,l.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={name:"Opertion",props:{data:{type:Object,default:function(){return{}}}},data:()=>({formData:{name:"",type:"PASSWORD",value1:"",value2:"",value3:"",description:""},type:""}),computed:{formItemCom(){return{PASSWORD:d.default,USERNAME_PASSWORD:o.default,SECRET_KEY:u.default,APP_ID_SECRET_KEY:c.default}[this.formData.type]}},watch:{},created(){this.data.id&&(this.formData=p({},this.data),this.type=this.formData.type),this.ticketTypeList=[{id:"PASSWORD",name:n.default.t("ticket.单一密码")},{id:"USERNAME_PASSWORD",name:n.default.t("ticket.用户名+密码")},{id:"SECRET_KEY",name:n.default.t("ticket.单一SecretKey")},{id:"APP_ID_SECRET_KEY",name:n.default.t("ticket.AppID+SecretKey")}],this.rules={name:[{required:!0,message:n.default.t("ticket.凭证名称必填"),trigger:"blur"}]}},methods:{submit(){var t=this;return Promise.all([this.$refs.handler.getData(),this.$refs.ticketForm.validate()]).then((function(e){var a=(0,i.default)(e,2),r=a[0];a[1];return s.default.update(p(p({},t.formData),r))})).then((function(){t.data.id?t.messageSuccess(n.default.t("ticket.更新成功")):t.messageSuccess(n.default.t("ticket.创建成功")),t.$emit("on-change")}))}}};e.Z=m},78346:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var r=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=r(a(33610)),l=r(a(15399)),n=r(a(77480)),s=r(a(2645)),o=r(a(27452));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,i.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"RelatedTicket",components:{JbSearchSelect:s.default,RenderList:o.default},props:{credentialId:{type:String}},data:()=>({sourceFileList:[]}),mounted(){this.fetchData()},created(){this.fetchFileSourceList=n.default.fetchFileSourceList,this.searchSelect=[{name:l.default.t("ticket.文件源别名"),id:"alias"}]},methods:{fetchData(){this.$refs.fileSourcelist.$emit("onFetch",u(u({},this.searchParams),{},{credentialId:this.credentialId}))},handleSearch(t){this.searchParams=t,this.fetchData()}}};e.Z=d},11790:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var r=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=r(a(33610));a(71959),a(87033);var l=r(a(15399)),n=r(a(81363)),s=r(a(46117)),o=a(46790),c=r(a(27452)),u=r(a(2645)),d=r(a(93962)),f=r(a(80712)),p=r(a(18529)),m=r(a(97752));function v(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}var h="ticket_list_columns",b={name:"TicketList",components:{ListActionLayout:f.default,JbSearchSelect:u.default,RenderList:c.default,TicketOpertion:m.default,JbPopoverConfirm:d.default,RelatedTicket:p.default},data:()=>({isLoading:!1,tableSize:"small",selectedTableColumn:[],searchParams:{},showRelatedSideslider:!1,showOpertionSideslider:!1,ticketDetailInfo:{},credentialId:0,relatedNum:[]}),computed:{isSkeletonLoading(){return this.isLoading},allRenderColumnMap(){return this.selectedTableColumn.reduce((function(t,e){return t[e.id]=!0,t}),{})},operationSidesliderInfo(){return this.ticketDetailInfo.id?{title:l.default.t("ticket.编辑凭证"),okText:l.default.t("ticket.保存")}:{title:l.default.t("ticket.新建凭证"),okText:l.default.t("ticket.提交")}}},created(){this.getTicketList=n.default.fetchListWithRelate,this.sourceFilters=[{value:"APP_ID_SECRET_KEY",text:l.default.t("AppID+SecretKey")},{value:"PASSWORD",text:l.default.t("单一密码")},{value:"USERNAME_PASSWORD",text:l.default.t("用户名+密码")},{value:"SECRET_KEY",text:l.default.t("单一SecretKey")}],this.searchSelect=[{id:"id",name:"ID",description:"将覆盖其它条件"},{id:"name",name:l.default.t("ticket.名称"),default:!0},{name:l.default.t("ticket.描述"),id:"description"},{name:l.default.t("ticket.创建人"),id:"creator",remoteMethod:s.default.fetchUsersOfSearch,inputInclude:!0},{name:l.default.t("ticket.更新人"),id:"lastModifyUser",remoteMethod:s.default.fetchUsersOfSearch,inputInclude:!0}],this.tableColumn=[{id:"id",label:l.default.t("ticket.凭证ID")},{id:"name",label:l.default.t("ticket.名称"),disabled:!0},{id:"type",label:l.default.t("ticket.类型.colHead"),disabled:!0},{id:"description",label:l.default.t("ticket.描述")},{id:"related",label:l.default.t("ticket.被引用.colHead")},{id:"creator",label:l.default.t("ticket.创建人")},{id:"createTime",label:l.default.t("ticket.创建时间")},{id:"lastModifyUser",label:l.default.t("ticket.更新人")},{id:"lastModifyTime",label:l.default.t("ticket.更新时间")}],this.typeMap={APP_ID_SECRET_KEY:l.default.t("AppID+SecretKey"),PASSWORD:l.default.t("单一密码"),USERNAME_PASSWORD:l.default.t("用户名+密码"),SECRET_KEY:l.default.t("单一SecretKey")};var t=o.listColumnsCache.getItem(h);t?(this.selectedTableColumn=Object.freeze(t.columns),this.tableSize=t.size):this.selectedTableColumn=Object.freeze([{id:"id"},{id:"name"},{id:"type"},{id:"description"},{id:"related"},{id:"lastModifyUser"},{id:"lastModifyTime"}])},methods:{fetchData(){this.$refs.list.$emit("onFetch",function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?v(Object(a),!0).forEach((function(e){(0,i.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.searchParams))},handleCreate(){this.showOpertionSideslider=!0,this.ticketDetailInfo={}},handleShowRelated(t){this.credentialId=t,this.showRelatedSideslider=!0},handleSearch(t){this.searchParams=t,this.fetchData()},handleSettingChange(t){var e=t.fields,a=t.size;this.selectedTableColumn=Object.freeze(e),this.tableSize=a,o.listColumnsCache.setItem(h,{columns:e,size:a})},handleChange(){this.fetchData(),this.relatedNum=[],this.fetchCitedNum()},handelFilterType:(t,e,a)=>e[a.property]===t,handleEdit(t){this.ticketDetailInfo=t,this.showOpertionSideslider=!0},handleDelete(t){var e=this;n.default.remove({id:t}).then((function(){e.messageSuccess(l.default.t("ticket.删除成功")),e.fetchData(),e.relatedNum=[],e.fetchCitedNum()}))}}};e.Z=b},19232:function(){},87427:function(){},24118:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return s}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"form",attrs:{model:t.formData,rules:t.rules,"form-type":"vertical"}},[a("jb-form-item",{attrs:{label:t.$t("ticket.AppId"),required:"",property:"value1"}},[a("bk-input",{model:{value:t.formData.value1,callback:function(e){t.$set(t.formData,"value1",e)},expression:"formData.value1"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("ticket.SecretKey"),required:"",property:"value2"}},[a("bk-input",{model:{value:t.formData.value2,callback:function(e){t.$set(t.formData,"value2",e)},expression:"formData.value2"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("ticket.描述")}},[a("bk-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1)};r._withStripped=!0;var i=a(16091),l=i.Z,n=(0,a(35471).Z)(l,r,[],!1,null,null,null);n.options.__file="src/views/ticket-manage/list/components/opertion/components/app-id-secret-key.vue";var s=n.exports},98578:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return s}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"form",attrs:{model:t.formData,rules:t.rules,"form-type":"vertical"}},[a("jb-form-item",{attrs:{label:t.$t("ticket.密码"),required:"",property:"value1"}},[a("bk-input",{attrs:{type:"password"},model:{value:t.formData.value1,callback:function(e){t.$set(t.formData,"value1",e)},expression:"formData.value1"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("ticket.描述")}},[a("bk-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1)};r._withStripped=!0;var i=a(89646),l=i.Z,n=(0,a(35471).Z)(l,r,[],!1,null,null,null);n.options.__file="src/views/ticket-manage/list/components/opertion/components/password.vue";var s=n.exports},37699:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return s}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"form",attrs:{model:t.formData,rules:t.rules,"form-type":"vertical"}},[a("jb-form-item",{attrs:{label:t.$t("ticket.SecretKey"),required:"",property:"value1"}},[a("bk-input",{model:{value:t.formData.value1,callback:function(e){t.$set(t.formData,"value1",e)},expression:"formData.value1"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("ticket.描述")}},[a("bk-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1)};r._withStripped=!0;var i=a(88975),l=i.Z,n=(0,a(35471).Z)(l,r,[],!1,null,null,null);n.options.__file="src/views/ticket-manage/list/components/opertion/components/secret-key.vue";var s=n.exports},88705:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return s}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"form",attrs:{model:t.formData,rules:t.rules,"form-type":"vertical"}},[a("jb-form-item",{attrs:{label:t.$t("ticket.用户名"),required:"",property:"value1"}},[a("bk-input",{model:{value:t.formData.value1,callback:function(e){t.$set(t.formData,"value1",e)},expression:"formData.value1"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("ticket.密码"),required:"",property:"value2"}},[a("bk-input",{attrs:{type:"password"},model:{value:t.formData.value2,callback:function(e){t.$set(t.formData,"value2",e)},expression:"formData.value2"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("ticket.描述")}},[a("bk-input",{attrs:{type:"textarea",maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1)};r._withStripped=!0;var i=a(13523),l=i.Z,n=(0,a(35471).Z)(l,r,[],!1,null,null,null);n.options.__file="src/views/ticket-manage/list/components/opertion/components/username-password.vue";var s=n.exports},97752:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return s}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"create-ticket-page"},[a("jb-form",{ref:"ticketForm",attrs:{model:t.formData,rules:t.rules,"form-type":"vertical"}},[a("jb-form-item",{attrs:{label:t.$t("ticket.名称"),required:"",property:"name"}},[a("bk-input",{model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("ticket.类型.label")}},[a("div",{staticClass:"ticket-type-wraper"},[a("bk-select",{attrs:{clearable:!1},model:{value:t.formData.type,callback:function(e){t.$set(t.formData,"type",e)},expression:"formData.type"}},[a("bk-option",{attrs:{id:"PASSWORD",name:t.$t("ticket.单一密码")}},[a("div",{staticClass:"ticket-name-option"},[a("span",[t._v(t._s(t.$t("ticket.单一密码")))])])]),t._v(" "),a("bk-option",{attrs:{id:"USERNAME_PASSWORD",name:t.$t("ticket.用户名+密码")}},[a("div",{staticClass:"ticket-name-option"},[a("span",[t._v(t._s(t.$t("ticket.用户名+密码")))])])]),t._v(" "),a("bk-option",{attrs:{id:"SECRET_KEY",name:t.$t("ticket.单一SecretKey")}},[a("div",{staticClass:"ticket-name-option"},[a("span",[t._v(t._s(t.$t("ticket.单一SecretKey")))])])]),t._v(" "),a("bk-option",{attrs:{id:"APP_ID_SECRET_KEY",name:t.$t("ticket.AppID+SecretKey")}},[a("div",{staticClass:"ticket-name-option"},[a("span",[t._v(t._s(t.$t("ticket.AppID+SecretKey")))])])])],1)],1)])],1),t._v(" "),a(t.formItemCom,{ref:"handler",tag:"component",attrs:{type:t.type,"secret-key":t.formData.secretKey,data:t.formData}})],1)};r._withStripped=!0;var i=a(27788),l=i.Z,n=(0,a(35471).Z)(l,r,[],!1,null,null,null);n.options.__file="src/views/ticket-manage/list/components/opertion/index.vue";var s=n.exports},18529:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return s}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"related-ticket"},[a("jb-search-select",{ref:"search",staticClass:"search-select-style",attrs:{"parse-url":!1,data:t.searchSelect,placeholder:t.$t("ticket.搜索文件源别名...")},on:{"on-change":t.handleSearch}}),t._v(" "),a("render-list",{ref:"fileSourcelist",attrs:{"data-source":t.fetchFileSourceList,"search-control":function(){return t.$refs.search}}},[a("bk-table-column",{attrs:{width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("span",{domProps:{innerHTML:t._s(r.publicFlagHtml)}})]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("ticket.文件源别名"),sortable:"",align:"left","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[r.isAvailable?a("auth-router-link",{attrs:{auth:"file_source/view",permission:r.canView,"resource-id":r.id,to:{name:"fileList",query:{fileSourceId:r.id}},target:"_blank"}},[t._v("\n                    "+t._s(r.alias)+"\n                ")]):a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("ticket.接入点异常，暂时不可用"),expression:"$t('ticket.接入点异常，暂时不可用')"}]},[a("bk-button",{attrs:{disabled:"",text:""}},[t._v(t._s(r.alias))])],1)]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("ticket.文件源标识"),sortable:"",align:"left",width:"160","show-overflow-tooltip":"",prop:"code"}}),t._v(" "),a("bk-table-column",{attrs:{width:"80",label:t.$t("ticket.状态")},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("Icon",{attrs:{type:r.statusIcon,svg:""}}),t._v("\n                "+t._s(r.statusText)+"\n            ")]}}])}),t._v(" "),a("bk-table-column",{attrs:{width:"120",label:t.$t("ticket.更新人"),prop:"lastModifyUser"}}),t._v(" "),a("bk-table-column",{attrs:{width:"180",label:t.$t("ticket.更新时间"),prop:"lastModifyTime"}})],1)],1)};r._withStripped=!0;var i=a(78346),l=i.Z,n=(a(85989),(0,a(35471).Z)(l,r,[],!1,null,null,null));n.options.__file="src/views/ticket-manage/list/components/related-ticket.vue";var s=n.exports},92775:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return s}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"ticket-manage-page"},[a("list-action-layout",{scopedSlots:t._u([{key:"right",fn:function(){return[a("jb-search-select",{ref:"search",staticStyle:{width:"480px"},attrs:{data:t.searchSelect,placeholder:t.$t("ticket.搜索 ID、名称、描述、创建人、更新人...")},on:{"on-change":t.handleSearch}})]},proxy:!0}])},[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createTicket"},expression:"{ type: 'button', value: 'createTicket' }"}],staticClass:"w120",attrs:{theme:"primary",auth:"ticket/create"},on:{click:t.handleCreate}},[t._v("\n            "+t._s(t.$t("ticket.新建"))+"\n        ")])],1),t._v(" "),a("render-list",{directives:[{name:"test",rawName:"v-test",value:{type:"list",value:"ticket"},expression:"{ type: 'list', value: 'ticket' }"}],ref:"list",attrs:{"data-source":t.getTicketList,size:t.tableSize,"search-control":function(){return t.$refs.search}}},[t.allRenderColumnMap.id?a("bk-table-column",{key:"id",attrs:{label:t.$t("ticket.凭证ID"),width:"300",prop:"id",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("span",[t._v(t._s(r.id))])]}}],null,!1,889004969)}):t._e(),t._v(" "),a("bk-table-column",{key:"name",attrs:{label:t.$t("ticket.凭证名称"),sortable:"",prop:"name",align:"left","min-width":"200","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("span",{staticClass:"ticket-name"},[t._v(t._s(r.name))])]}}])}),t._v(" "),a("bk-table-column",{key:"type",attrs:{label:t.$t("ticket.类型.colHead"),prop:"type",align:"left",width:"180",filters:t.sourceFilters,"filter-method":t.handelFilterType},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("span",[t._v(t._s(t.typeMap[r.type]))])]}}])}),t._v(" "),t.allRenderColumnMap.description?a("bk-table-column",{key:"description",attrs:{label:t.$t("ticket.描述"),prop:"description","min-width":"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("span",[t._v(t._s(r.description))])]}}],null,!1,3038489890)}):t._e(),t._v(" "),t.allRenderColumnMap.related?a("bk-table-column",{key:"related",attrs:{label:t.$t("ticket.被引用.colHead"),prop:"related",width:"100",align:"right"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[r.isRelatedLoading?a("div",{staticClass:"sync-fetch-relate-nums"},[a("div",{staticClass:"related-nums-loading"},[a("Icon",{staticStyle:{color:"#3a84ff"},attrs:{type:"sync-pending",svg:""}})],1)]):a("bk-button",{attrs:{text:""},on:{click:function(e){return t.handleShowRelated(r.id)}}},[t._v("\n                    "+t._s(r.relatedNums)+"\n                ")])]}}],null,!1,2933343089)}):t._e(),t._v(" "),t.allRenderColumnMap.creator?a("bk-table-column",{key:"creator",attrs:{label:t.$t("ticket.创建人"),width:"120",prop:"creator",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.createTime?a("bk-table-column",{key:"createTime",attrs:{label:t.$t("ticket.创建时间"),prop:"createTime",width:"180",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.lastModifyUser?a("bk-table-column",{key:"lastModifyUser",attrs:{label:t.$t("ticket.更新人"),prop:"lastModifyUser",width:"120",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.lastModifyTime?a("bk-table-column",{key:"lastModifyTime",attrs:{label:t.$t("ticket.更新时间"),prop:"lastModifyTime",width:"180",align:"left"}}):t._e(),t._v(" "),a("bk-table-column",{key:"action",attrs:{label:t.$t("ticket.操作"),resizable:!1,fixed:"right",width:"100",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"list",value:"editTicket"},expression:"{ type: 'list', value: 'editTicket' }"}],staticClass:"mr10",attrs:{auth:"ticket/edit","resource-id":r.id,permission:r.canManage,text:""},on:{click:function(e){return t.handleEdit(r)}}},[t._v("\n                    "+t._s(t.$t("ticket.编辑"))+"\n                ")]),t._v(" "),a("jb-popover-confirm",{attrs:{title:t.$t("ticket.确定删除该凭证？"),content:t.$t("ticket.正在被文件源使用的凭证无法删除，如需删除请先解除引用关系。"),"confirm-handler":function(){return t.handleDelete(r.id)}}},[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"list",value:"deleteTicket"},expression:"{ type: 'list', value: 'deleteTicket' }"}],attrs:{auth:"ticket/edit",permission:r.canManage,"resource-id":r.id,text:""}},[t._v("\n                        "+t._s(t.$t("ticket.删除"))+"\n                    ")])],1)]}}])}),t._v(" "),a("bk-table-column",{attrs:{type:"setting"}},[a("bk-table-setting-content",{attrs:{fields:t.tableColumn,selected:t.selectedTableColumn,size:t.tableSize},on:{"setting-change":t.handleSettingChange}})],1)],1),t._v(" "),a("jb-sideslider",{attrs:{"is-show":t.showRelatedSideslider,"show-footer":!1,width:900,title:t.$t("ticket.被引用.label")},on:{"update:isShow":function(e){t.showRelatedSideslider=e},"update:is-show":function(e){t.showRelatedSideslider=e}}},[a("related-ticket",{attrs:{"credential-id":t.credentialId}})],1),t._v(" "),a("jb-sideslider",t._b({attrs:{"is-show":t.showOpertionSideslider,width:600},on:{"update:isShow":function(e){t.showOpertionSideslider=e},"update:is-show":function(e){t.showOpertionSideslider=e}}},"jb-sideslider",t.operationSidesliderInfo,!1),[a("ticket-opertion",{attrs:{data:t.ticketDetailInfo},on:{"on-change":t.handleChange}})],1)],1)};r._withStripped=!0;var i=a(11790),l=i.Z,n=(a(15196),(0,a(35471).Z)(l,r,[],!1,null,null,null));n.options.__file="src/views/ticket-manage/list/index.vue";var s=n.exports},85989:function(t,e,a){var r=a(19232);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(13570).Z)("c0073b38",r,!1,{})},15196:function(t,e,a){var r=a(87427);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);(0,a(13570).Z)("62704386",r,!1,{})}}]);