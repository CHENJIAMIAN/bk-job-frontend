(self.webpackChunkjob=self.webpackChunkjob||[]).push([[2025],{8167:function(e,t,a){"use strict";var n=a(70534);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,a(70616),a(41336),a(32106),a(9158),a(98495),a(13118);var i=n(a(25992)),r=n(a(58319)),s=n(a(27898)),o=n(a(84366)),l=n(a(36665)),c={name:"FileList",components:{ListActionLayout:s.default,RenderList:o.default,RenderFileListColumn:l.default},data:()=>({renderColumns:[],path:"a/b/c/d",fileSourceInfo:{alias:"alias"}}),computed:{isSkeletonLoading(){return this.$refs.list.isLoading},pathStack(){return this.path.split("/").reduce((function(e,t){if(t){var a=e.length>0?e[e.length-1].path:"";e.push({path:"".concat(a).concat(t,"/"),name:t})}return e}),[])}},created(){this.parseUrl(),this.getBucketList=r.default.fetchgetListFileNode},mounted(){this.fetchData()},methods:{fetchData(){this.$refs.list.$emit("onFetch",{fileSourceId:this.fileSourceId,path:this.path,name:this.name})},parseUrl(){var e=this.$route.query,t=e.fileSourceId,a=void 0===t?"":t,n=e.path,i=void 0===n?"":n,r=e.name,s=void 0===r?"":r;this.fileSourceId=a,this.path=i,this.name=s},handleBackLast(){var e=this.pathStack[this.pathStack.length-2];this.handlePathLocation(e.path)},handleListRefresh(e){this.renderColumns=Object.freeze(e.metaData.properties.filter((function(e){return"checkbox"!==e.type}))),this.fileSourceInfo=Object.freeze(e.fileSourceInfo)},handleSearch(e){this.name=e,this.fetchData()},handleGoFileSource(){this.$router.push({name:"sourceFileList"})},handlePathLocation(e){(0,i.default)(e,"/")!==(0,i.default)(this.path,"/")&&(this.name="",this.path=e,this.fetchData())},handleLink(e){this.name="",this.path=e,this.fetchData()},handleAction(e,t){var a=this;return r.default.executeAction({fileSourceId:this.fileSourceId,actionCode:e,params:t}).then((function(){a.messageSuccess("操作成功"),a.fetchData()}))},routerBack(){this.$router.push({name:"sourceFileList"})}}};t.Z=c},37959:function(){},12025:function(e,t,a){"use strict";a.r(t),a.d(t,{__esModule:function(){return i.X},default:function(){return o}});var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file-node-list-page"},[a("list-action-layout",{scopedSlots:e._u([{key:"right",fn:function(){return[a("jb-input",{staticStyle:{width:"480px"},attrs:{placeholder:"搜索关键字",value:e.name,"enter-trigger":""},on:{submit:e.handleSearch}})]},proxy:!0}])},[a("jb-breadcrumb",{key:e.fileSourceInfo.alias+"_"+e.path,staticClass:"list-breadcrumb",on:{"on-last":e.handleBackLast}},[a("jb-breadcrumb-item",[a("Icon",{staticStyle:{"font-size":"20px"},attrs:{type:"folder-open"}}),e._v(" "),a("span",{on:{click:e.handleGoFileSource}},[e._v(e._s("文件源列表"))])],1),e._v(" "),a("jb-breadcrumb-item",[a("span",{on:{click:function(t){return e.handlePathLocation("")}}},[e._v(e._s(e.fileSourceInfo.alias))])]),e._v(" "),e._l(e.pathStack,(function(t){return a("jb-breadcrumb-item",{key:t.path,attrs:{role:"path"}},[a("span",{on:{click:function(a){return e.handlePathLocation(t.path)}}},[e._v(e._s(t.name))])])}))],2)],1),e._v(" "),a("render-list",{ref:"list",attrs:{"data-source":e.getBucketList},on:{"on-refresh":e.handleListRefresh}},[e._l(e.renderColumns,(function(t,n){return[a("render-file-list-column",{key:e.path+"_"+n,attrs:{column:t,"file-source-id":e.fileSourceId,"link-handler":e.handleLink,"action-handler":e.handleAction},on:{"on-link":e.handleLink,"on-action":e.handleAction}})]}))],2)],1)};n._withStripped=!0;var i=a(8167),r=i.Z,s=(a(43386),(0,a(51900).Z)(r,n,[],!1,null,null,null));s.options.__file="src/views/file-manage/file-list/index.vue";var o=s.exports},43386:function(e,t,a){var n=a(37959);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);(0,a(18086).Z)("43fdc8c4",n,!1,{})}}]);