(self.webpackChunkjob=self.webpackChunkjob||[]).push([[2952],{90324:function(e,t,i){"use strict";i(63762),i(14370),i(35949),i(87033),i(9042),i(7170),i(71959),i(45974),i(70969),i(58794),i(78004),i(77036),i(99641),i(85604),i(70201),i(40782),i(95179),i(47140),i(132),i(93282),i(98156),i(57024),i(4415),i(23232),i(43903),i(29941),i(66016),i(54763),i(62785),i(78202),i(43123),i(95490),i(56259),i(82994),i(70649),i(96055),i(13955),function(e){function t(e){var t={},i={},a=e.match(/Firefox\/([\d.]+)/),n=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/.+?rv:(([\d.]+))/),r=e.match(/Edge\/([\d.]+)/),s=/micromessenger/i.test(e);return a&&(i.firefox=!0,i.version=a[1]),n&&(i.ie=!0,i.version=n[1]),r&&(i.edge=!0,i.version=r[1]),s&&(i.weChat=!0),{browser:i,os:t,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!i.ie&&!i.edge,pointerEventsSupported:"onpointerdown"in window&&(i.edge||i.ie&&i.version>=11),domSupported:"undefined"!=typeof document}}function a(e,t){"createCanvas"===e&&(sf=null),nf[e]=t}function n(e){if(null==e||"object"!=typeof e)return e;var t=e,i=Yp.call(e);if("[object Array]"===i){if(!V(e)){t=[];for(var a=0,r=e.length;r>a;a++)t[a]=n(e[a])}}else if(Wp[i]){if(!V(e)){var s=e.constructor;if(e.constructor.from)t=s.from(e);else for(t=new s(e.length),a=0,r=e.length;r>a;a++)t[a]=n(e[a])}}else if(!Xp[i]&&!V(e)&&!O(e))for(var o in t={},e)e.hasOwnProperty(o)&&(t[o]=n(e[o]));return t}function r(e,t,i){if(!C(t)||!C(e))return i?n(t):e;for(var a in t)if(t.hasOwnProperty(a)){var s=e[a],o=t[a];!C(o)||!C(s)||x(o)||x(s)||O(o)||O(s)||I(o)||I(s)||V(o)||V(s)?!i&&a in e||(e[a]=n(t[a],!0)):r(s,o,i)}return e}function s(e,t){for(var i=e[0],a=1,n=e.length;n>a;a++)i=r(i,e[a],t);return i}function o(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function l(e,t,i){for(var a in t)t.hasOwnProperty(a)&&(i?null!=t[a]:null==e[a])&&(e[a]=t[a]);return e}function c(){return sf||(sf=rf().getContext("2d")),sf}function u(e,t){if(e){if(e.indexOf)return e.indexOf(t);for(var i=0,a=e.length;a>i;i++)if(e[i]===t)return i}return-1}function d(e,t){function i(){}var a=e.prototype;for(var n in i.prototype=t.prototype,e.prototype=new i,a)a.hasOwnProperty(n)&&(e.prototype[n]=a[n]);e.prototype.constructor=e,e.superClass=t}function h(e,t,i){l(e="prototype"in e?e.prototype:e,t="prototype"in t?t.prototype:t,i)}function p(e){return e?"string"!=typeof e&&"number"==typeof e.length:void 0}function f(e,t,i){if(e&&t)if(e.forEach&&e.forEach===Jp)e.forEach(t,i);else if(e.length===+e.length)for(var a=0,n=e.length;n>a;a++)t.call(i,e[a],a,e);else for(var r in e)e.hasOwnProperty(r)&&t.call(i,e[r],r,e)}function v(e,t,i){if(e&&t){if(e.map&&e.map===tf)return e.map(t,i);for(var a=[],n=0,r=e.length;r>n;n++)a.push(t.call(i,e[n],n,e));return a}}function m(e,t,i,a){if(e&&t){if(e.reduce&&e.reduce===af)return e.reduce(t,i,a);for(var n=0,r=e.length;r>n;n++)i=t.call(a,i,e[n],n,e);return i}}function g(e,t,i){if(e&&t){if(e.filter&&e.filter===Qp)return e.filter(t,i);for(var a=[],n=0,r=e.length;r>n;n++)t.call(i,e[n],n,e)&&a.push(e[n]);return a}}function y(e,t,i){if(e&&t)for(var a=0,n=e.length;n>a;a++)if(t.call(i,e[a],a,e))return e[a]}function _(e,t){var i=ef.call(arguments,2);return function(){return e.apply(t,i.concat(ef.call(arguments)))}}function b(e){var t=ef.call(arguments,1);return function(){return e.apply(this,t.concat(ef.call(arguments)))}}function x(e){return"[object Array]"===Yp.call(e)}function w(e){return"function"==typeof e}function S(e){return"[object String]"===Yp.call(e)}function C(e){var t=typeof e;return"function"===t||!!e&&"object"===t}function I(e){return!!Xp[Yp.call(e)]}function k(e){return!!Wp[Yp.call(e)]}function O(e){return"object"==typeof e&&"number"==typeof e.nodeType&&"object"==typeof e.ownerDocument}function T(e){return e!=e}function P(){for(var e=0,t=arguments.length;t>e;e++)if(null!=arguments[e])return arguments[e]}function D(e,t){return null!=e?e:t}function M(e,t,i){return null!=e?e:null!=t?t:i}function L(){return Function.call.apply(ef,arguments)}function E(e){if("number"==typeof e)return[e,e,e,e];var t=e.length;return 2===t?[e[0],e[1],e[0],e[1]]:3===t?[e[0],e[1],e[2],e[1]]:e}function A(e,t){if(!e)throw new Error(t)}function j(e){return null==e?null:"function"==typeof e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function N(e){e[of]=!0}function V(e){return e[of]}function R(e){function t(e,t){i?a.set(e,t):a.set(t,e)}var i=x(e);this.data={};var a=this;e instanceof R?e.each(t):e&&f(e,t)}function F(e){return new R(e)}function $(e,t){for(var i=new e.constructor(e.length+t.length),a=0;a<e.length;a++)i[a]=e[a];var n=e.length;for(a=0;a<t.length;a++)i[a+n]=t[a];return i}function z(){}function B(e,t){var i=new cf(2);return null==e&&(e=0),null==t&&(t=0),i[0]=e,i[1]=t,i}function Z(e,t){return e[0]=t[0],e[1]=t[1],e}function H(e){var t=new cf(2);return t[0]=e[0],t[1]=e[1],t}function q(e,t,i){return e[0]=t,e[1]=i,e}function G(e,t,i){return e[0]=t[0]+i[0],e[1]=t[1]+i[1],e}function U(e,t,i,a){return e[0]=t[0]+i[0]*a,e[1]=t[1]+i[1]*a,e}function X(e,t,i){return e[0]=t[0]-i[0],e[1]=t[1]-i[1],e}function W(e){return Math.sqrt(Y(e))}function Y(e){return e[0]*e[0]+e[1]*e[1]}function K(e,t,i){return e[0]=t[0]*i[0],e[1]=t[1]*i[1],e}function J(e,t,i){return e[0]=t[0]/i[0],e[1]=t[1]/i[1],e}function Q(e,t){return e[0]*t[0]+e[1]*t[1]}function ee(e,t,i){return e[0]=t[0]*i,e[1]=t[1]*i,e}function te(e,t){var i=W(t);return 0===i?(e[0]=0,e[1]=0):(e[0]=t[0]/i,e[1]=t[1]/i),e}function ie(e,t){return Math.sqrt((e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1]))}function ae(e,t){return(e[0]-t[0])*(e[0]-t[0])+(e[1]-t[1])*(e[1]-t[1])}function ne(e,t){return e[0]=-t[0],e[1]=-t[1],e}function re(e,t,i,a){return e[0]=t[0]+a*(i[0]-t[0]),e[1]=t[1]+a*(i[1]-t[1]),e}function se(e,t,i){var a=t[0],n=t[1];return e[0]=i[0]*a+i[2]*n+i[4],e[1]=i[1]*a+i[3]*n+i[5],e}function oe(e,t,i){return e[0]=Math.min(t[0],i[0]),e[1]=Math.min(t[1],i[1]),e}function le(e,t,i){return e[0]=Math.max(t[0],i[0]),e[1]=Math.max(t[1],i[1]),e}function ce(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function ue(e,t){return{target:e,topTarget:t&&t.topTarget}}function de(e,t){var i=e._$eventProcessor;return null!=t&&i&&i.normalizeQuery&&(t=i.normalizeQuery(t)),t}function he(e,t,i,a,n,r){var s=e._$handlers;if("function"==typeof i&&(n=a,a=i,i=null),!a||!t)return e;i=de(e,i),s[t]||(s[t]=[]);for(var o=0;o<s[t].length;o++)if(s[t][o].h===a)return e;var l={h:a,one:r,query:i,ctx:n||e,callAtLast:a.zrEventfulCallAtLast},c=s[t].length-1,u=s[t][c];return u&&u.callAtLast?s[t].splice(c,0,l):s[t].push(l),e}function pe(e,t,i,a,n,r){var s=a+"-"+n,o=e.length;if(r.hasOwnProperty(s))return r[s];if(1===t){var l=Math.round(Math.log((1<<o)-1&~n)/gf);return e[i][l]}for(var c=a|1<<i,u=i+1;a&1<<u;)u++;for(var d=0,h=0,p=0;o>h;h++){var f=1<<h;f&n||(d+=(p%2?-1:1)*e[i][h]*pe(e,t-1,u,c,n|f,r),p++)}return r[s]=d,d}function fe(e,t){var i=[[e[0],e[1],1,0,0,0,-t[0]*e[0],-t[0]*e[1]],[0,0,0,e[0],e[1],1,-t[1]*e[0],-t[1]*e[1]],[e[2],e[3],1,0,0,0,-t[2]*e[2],-t[2]*e[3]],[0,0,0,e[2],e[3],1,-t[3]*e[2],-t[3]*e[3]],[e[4],e[5],1,0,0,0,-t[4]*e[4],-t[4]*e[5]],[0,0,0,e[4],e[5],1,-t[5]*e[4],-t[5]*e[5]],[e[6],e[7],1,0,0,0,-t[6]*e[6],-t[6]*e[7]],[0,0,0,e[6],e[7],1,-t[7]*e[6],-t[7]*e[7]]],a={},n=pe(i,8,0,0,0,a);if(0!==n){for(var r=[],s=0;8>s;s++)for(var o=0;8>o;o++)null==r[o]&&(r[o]=0),r[o]+=((s+o)%2?-1:1)*pe(i,7,0===s?1:0,1<<s,1<<o,a)/n*t[s];return function(e,t,i){var a=t*r[6]+i*r[7]+1;e[0]=(t*r[0]+i*r[1]+r[2])/a,e[1]=(t*r[3]+i*r[4]+r[5])/a}}}function ve(e,t,i,a,n){return me(_f,t,a,n,!0)&&me(e,i,_f[0],_f[1])}function me(e,t,i,a,n){if(t.getBoundingClientRect&&Up.domSupported&&!_e(t)){var r=t[yf]||(t[yf]={}),s=ye(ge(t,r),r,n);if(s)return s(e,i,a),!0}return!1}function ge(e,t){var i=t.markers;if(i)return i;i=t.markers=[];for(var a=["left","right"],n=["top","bottom"],r=0;4>r;r++){var s=document.createElement("div"),o=r%2,l=(r>>1)%2;s.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[o]+":0",n[l]+":0",a[1-o]+":auto",n[1-l]+":auto",""].join("!important;"),e.appendChild(s),i.push(s)}return i}function ye(e,t,i){for(var a=i?"invTrans":"trans",n=t[a],r=t.srcCoords,s=!0,o=[],l=[],c=0;4>c;c++){var u=e[c].getBoundingClientRect(),d=2*c,h=u.left,p=u.top;o.push(h,p),s=s&&r&&h===r[d]&&p===r[d+1],l.push(e[c].offsetLeft,e[c].offsetTop)}return s&&n?n:(t.srcCoords=o,t[a]=i?fe(l,o):fe(o,l))}function _e(e){return"CANVAS"===e.nodeName.toUpperCase()}function be(e,t,i,a){return i=i||{},a||!Up.canvasSupported?xe(e,t,i):Up.browser.firefox&&null!=t.layerX&&t.layerX!==t.offsetX?(i.zrX=t.layerX,i.zrY=t.layerY):null!=t.offsetX?(i.zrX=t.offsetX,i.zrY=t.offsetY):xe(e,t,i),i}function xe(e,t,i){if(Up.domSupported&&e.getBoundingClientRect){var a=t.clientX,n=t.clientY;if(_e(e)){var r=e.getBoundingClientRect();return i.zrX=a-r.left,void(i.zrY=n-r.top)}if(me(wf,e,a,n))return i.zrX=wf[0],void(i.zrY=wf[1])}i.zrX=i.zrY=0}function we(e){return e||window.event}function Se(e,t,i){if(null!=(t=we(t)).zrX)return t;var a=t.type;if(a&&a.indexOf("touch")>=0){var n="touchend"!==a?t.targetTouches[0]:t.changedTouches[0];n&&be(e,n,t,i)}else be(e,t,t,i),t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3;var r=t.button;return null==t.which&&void 0!==r&&xf.test(t.type)&&(t.which=1&r?1:2&r?3:4&r?2:0),t}function Ce(e,t,i,a){bf?e.addEventListener(t,i,a):e.attachEvent("on"+t,i)}function Ie(e,t,i,a){bf?e.removeEventListener(t,i,a):e.detachEvent("on"+t,i)}function ke(e){return 2===e.which||3===e.which}function Oe(e){var t=e[1][0]-e[0][0],i=e[1][1]-e[0][1];return Math.sqrt(t*t+i*i)}function Te(e){return[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]}function Pe(e,t,i){return{type:e,event:i,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:De}}function De(){Sf(this.event)}function Me(){}function Le(e,t,i){if(e[e.rectHover?"rectContain":"contain"](t,i)){for(var a,n=e;n;){if(n.clipPath&&!n.clipPath.contain(t,i))return!1;n.silent&&(a=!0),n=n.parent}return!a||kf}return!1}function Ee(e,t,i){var a=e.painter;return 0>t||t>a.getWidth()||0>i||i>a.getHeight()}function Ae(){var e=new Pf(6);return je(e),e}function je(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=1,e[4]=0,e[5]=0,e}function Ne(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function Ve(e,t,i){var a=t[0]*i[0]+t[2]*i[1],n=t[1]*i[0]+t[3]*i[1],r=t[0]*i[2]+t[2]*i[3],s=t[1]*i[2]+t[3]*i[3],o=t[0]*i[4]+t[2]*i[5]+t[4],l=t[1]*i[4]+t[3]*i[5]+t[5];return e[0]=a,e[1]=n,e[2]=r,e[3]=s,e[4]=o,e[5]=l,e}function Re(e,t,i){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4]+i[0],e[5]=t[5]+i[1],e}function Fe(e,t,i){var a=t[0],n=t[2],r=t[4],s=t[1],o=t[3],l=t[5],c=Math.sin(i),u=Math.cos(i);return e[0]=a*u+s*c,e[1]=-a*c+s*u,e[2]=n*u+o*c,e[3]=-n*c+u*o,e[4]=u*r+c*l,e[5]=u*l-c*r,e}function $e(e,t,i){var a=i[0],n=i[1];return e[0]=t[0]*a,e[1]=t[1]*n,e[2]=t[2]*a,e[3]=t[3]*n,e[4]=t[4]*a,e[5]=t[5]*n,e}function ze(e,t){var i=t[0],a=t[2],n=t[4],r=t[1],s=t[3],o=t[5],l=i*s-r*a;return l?(l=1/l,e[0]=s*l,e[1]=-r*l,e[2]=-a*l,e[3]=i*l,e[4]=(a*o-s*n)*l,e[5]=(r*n-i*o)*l,e):null}function Be(e){var t=Ae();return Ne(t,e),t}function Ze(e){return e>Lf||-Lf>e}function He(e){this._target=e.target,this._life=e.life||1e3,this._delay=e.delay||0,this._initialized=!1,this.loop=null!=e.loop&&e.loop,this.gap=e.gap||0,this.easing=e.easing||"Linear",this.onframe=e.onframe,this.ondestroy=e.ondestroy,this.onrestart=e.onrestart,this._pausedTime=0,this._paused=!1}function qe(e){return 0>(e=Math.round(e))?0:e>255?255:e}function Ge(e){return 0>(e=Math.round(e))?0:e>360?360:e}function Ue(e){return 0>e?0:e>1?1:e}function Xe(e){return qe(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100*255:parseInt(e,10))}function We(e){return Ue(e.length&&"%"===e.charAt(e.length-1)?parseFloat(e)/100:parseFloat(e))}function Ye(e,t,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?e+(t-e)*i*6:1>2*i?t:2>3*i?e+(t-e)*(2/3-i)*6:e}function Ke(e,t,i){return e+(t-e)*i}function Je(e,t,i,a,n){return e[0]=t,e[1]=i,e[2]=a,e[3]=n,e}function Qe(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function et(e,t){Gf&&Qe(Gf,t),Gf=qf.put(e,Gf||t.slice())}function tt(e,t){if(e){t=t||[];var i=qf.get(e);if(i)return Qe(t,i);var a=(e+="").replace(/ /g,"").toLowerCase();if(a in Hf)return Qe(t,Hf[a]),et(e,t),t;if("#"!==a.charAt(0)){var n=a.indexOf("("),r=a.indexOf(")");if(-1!==n&&r+1===a.length){var s=a.substr(0,n),o=a.substr(n+1,r-(n+1)).split(","),l=1;switch(s){case"rgba":if(4!==o.length)return void Je(t,0,0,0,1);l=We(o.pop());case"rgb":return 3!==o.length?void Je(t,0,0,0,1):(Je(t,Xe(o[0]),Xe(o[1]),Xe(o[2]),l),et(e,t),t);case"hsla":return 4!==o.length?void Je(t,0,0,0,1):(o[3]=We(o[3]),it(o,t),et(e,t),t);case"hsl":return 3!==o.length?void Je(t,0,0,0,1):(it(o,t),et(e,t),t);default:return}}Je(t,0,0,0,1)}else{var c;if(4===a.length)return(c=parseInt(a.substr(1),16))>=0&&4095>=c?(Je(t,(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1),et(e,t),t):void Je(t,0,0,0,1);if(7===a.length)return(c=parseInt(a.substr(1),16))>=0&&16777215>=c?(Je(t,(16711680&c)>>16,(65280&c)>>8,255&c,1),et(e,t),t):void Je(t,0,0,0,1)}}}function it(e,t){var i=(parseFloat(e[0])%360+360)%360/360,a=We(e[1]),n=We(e[2]),r=.5>=n?n*(a+1):n+a-n*a,s=2*n-r;return Je(t=t||[],qe(255*Ye(s,r,i+1/3)),qe(255*Ye(s,r,i)),qe(255*Ye(s,r,i-1/3)),1),4===e.length&&(t[3]=e[3]),t}function at(e){if(e){var t,i,a=e[0]/255,n=e[1]/255,r=e[2]/255,s=Math.min(a,n,r),o=Math.max(a,n,r),l=o-s,c=(o+s)/2;if(0===l)t=0,i=0;else{i=.5>c?l/(o+s):l/(2-o-s);var u=((o-a)/6+l/2)/l,d=((o-n)/6+l/2)/l,h=((o-r)/6+l/2)/l;a===o?t=h-d:n===o?t=1/3+u-h:r===o&&(t=2/3+d-u),0>t&&(t+=1),t>1&&(t-=1)}var p=[360*t,i,c];return null!=e[3]&&p.push(e[3]),p}}function nt(e,t){var i=tt(e);if(i){for(var a=0;3>a;a++)i[a]=0>t?i[a]*(1-t)|0:(255-i[a])*t+i[a]|0,i[a]>255?i[a]=255:e[a]<0&&(i[a]=0);return ut(i,4===i.length?"rgba":"rgb")}}function rt(e){var t=tt(e);return t?((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1):void 0}function st(e,t,i){if(t&&t.length&&e>=0&&1>=e){i=i||[];var a=e*(t.length-1),n=Math.floor(a),r=Math.ceil(a),s=t[n],o=t[r],l=a-n;return i[0]=qe(Ke(s[0],o[0],l)),i[1]=qe(Ke(s[1],o[1],l)),i[2]=qe(Ke(s[2],o[2],l)),i[3]=Ue(Ke(s[3],o[3],l)),i}}function ot(e,t,i){if(t&&t.length&&e>=0&&1>=e){var a=e*(t.length-1),n=Math.floor(a),r=Math.ceil(a),s=tt(t[n]),o=tt(t[r]),l=a-n,c=ut([qe(Ke(s[0],o[0],l)),qe(Ke(s[1],o[1],l)),qe(Ke(s[2],o[2],l)),Ue(Ke(s[3],o[3],l))],"rgba");return i?{color:c,leftIndex:n,rightIndex:r,value:a}:c}}function lt(e,t,i,a){return(e=tt(e))?(e=at(e),null!=t&&(e[0]=Ge(t)),null!=i&&(e[1]=We(i)),null!=a&&(e[2]=We(a)),ut(it(e),"rgba")):void 0}function ct(e,t){return(e=tt(e))&&null!=t?(e[3]=Ue(t),ut(e,"rgba")):void 0}function ut(e,t){if(e&&e.length){var i=e[0]+","+e[1]+","+e[2];return("rgba"===t||"hsva"===t||"hsla"===t)&&(i+=","+e[3]),t+"("+i+")"}}function dt(e,t){return e[t]}function ht(e,t,i){e[t]=i}function pt(e,t,i){return(t-e)*i+e}function ft(e,t,i){return i>.5?t:e}function vt(e,t,i,a,n){var r=e.length;if(1===n)for(var s=0;r>s;s++)a[s]=pt(e[s],t[s],i);else{var o=r&&e[0].length;for(s=0;r>s;s++)for(var l=0;o>l;l++)a[s][l]=pt(e[s][l],t[s][l],i)}}function mt(e,t,i){var a=e.length,n=t.length;if(a!==n)if(a>n)e.length=n;else for(var r=a;n>r;r++)e.push(1===i?t[r]:Yf.call(t[r]));var s=e[0]&&e[0].length;for(r=0;r<e.length;r++)if(1===i)isNaN(e[r])&&(e[r]=t[r]);else for(var o=0;s>o;o++)isNaN(e[r][o])&&(e[r][o]=t[r][o])}function gt(e,t,i){if(e===t)return!0;var a=e.length;if(a!==t.length)return!1;if(1===i){for(var n=0;a>n;n++)if(e[n]!==t[n])return!1}else{var r=e[0].length;for(n=0;a>n;n++)for(var s=0;r>s;s++)if(e[n][s]!==t[n][s])return!1}return!0}function yt(e,t,i,a,n,r,s,o,l){var c=e.length;if(1===l)for(var u=0;c>u;u++)o[u]=_t(e[u],t[u],i[u],a[u],n,r,s);else{var d=e[0].length;for(u=0;c>u;u++)for(var h=0;d>h;h++)o[u][h]=_t(e[u][h],t[u][h],i[u][h],a[u][h],n,r,s)}}function _t(e,t,i,a,n,r,s){var o=.5*(i-e),l=.5*(a-t);return(2*(t-i)+o+l)*s+(-3*(t-i)-2*o-l)*r+o*n+t}function bt(e){if(p(e)){var t=e.length;if(p(e[0])){for(var i=[],a=0;t>a;a++)i.push(Yf.call(e[a]));return i}return Yf.call(e)}return e}function xt(e){return e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.floor(e[2]),"rgba("+e.join(",")+")"}function wt(e){var t=e[e.length-1].value;return p(t&&t[0])?2:1}function St(e,t,i,a,n,r){var s=e._getter,o=e._setter,l="spline"===t,c=a.length;if(c){var u,d=p(a[0].value),h=!1,f=!1,v=d?wt(a):0;a.sort((function(e,t){return e.time-t.time})),u=a[c-1].time;for(var m=[],g=[],y=a[0].value,_=!0,b=0;c>b;b++){m.push(a[b].time/u);var x=a[b].value;if(d&&gt(x,y,v)||!d&&x===y||(_=!1),y=x,"string"==typeof x){var w=tt(x);w?(x=w,h=!0):f=!0}g.push(x)}if(r||!_){var S=g[c-1];for(b=0;c-1>b;b++)d?mt(g[b],S,v):!isNaN(g[b])||isNaN(S)||f||h||(g[b]=S);d&&mt(s(e._target,n),S,v);var C,I,k,O,T,P=0,D=0;if(h)var M=[0,0,0,0];var L=function(e,t){var i;if(0>t)i=0;else if(D>t){for(i=Math.min(P+1,c-1);i>=0&&!(m[i]<=t);i--);i=Math.min(i,c-2)}else{for(i=P;c>i&&!(m[i]>t);i++);i=Math.min(i-1,c-2)}P=i,D=t;var a=m[i+1]-m[i];if(0!==a)if(C=(t-m[i])/a,l)if(k=g[i],I=g[0===i?i:i-1],O=g[i>c-2?c-1:i+1],T=g[i>c-3?c-1:i+2],d)yt(I,k,O,T,C,C*C,C*C*C,s(e,n),v);else{if(h)r=yt(I,k,O,T,C,C*C,C*C*C,M,1),r=xt(M);else{if(f)return ft(k,O,C);r=_t(I,k,O,T,C,C*C,C*C*C)}o(e,n,r)}else if(d)vt(g[i],g[i+1],C,s(e,n),v);else{var r;if(h)vt(g[i],g[i+1],C,M,1),r=xt(M);else{if(f)return ft(g[i],g[i+1],C);r=pt(g[i],g[i+1],C)}o(e,n,r)}},E=new He({target:e._target,life:u,loop:e._loop,delay:e._delay,onframe:L,ondestroy:i});return t&&"spline"!==t&&(E.easing=t),E}}}function Ct(e,t,i,a,n,r,s,o){function l(){--u||r&&r()}S(a)?(r=n,n=a,a=0):w(n)?(r=n,n="linear",a=0):w(a)?(r=a,a=0):w(i)?(r=i,i=500):i||(i=500),e.stopAnimation(),It(e,"",e,t,i,a,o);var c=e.animators.slice(),u=c.length;u||r&&r();for(var d=0;d<c.length;d++)c[d].done(l).start(n,s)}function It(e,t,i,a,n,r,s){var o={},l=0;for(var c in a)a.hasOwnProperty(c)&&(null!=i[c]?C(a[c])&&!p(a[c])?It(e,t?t+"."+c:c,i[c],a[c],n,r,s):(s?(o[c]=i[c],kt(e,t,c,a[c])):o[c]=a[c],l++):null==a[c]||s||kt(e,t,c,a[c]));l>0&&e.animate(t,!1).when(null==n?500:n,o).delay(r||0)}function kt(e,t,i,a){if(t){var n={};n[t]={},n[t][i]=a,e.attr(n)}else e.attr(i,a)}function Ot(e,t,i,a){0>i&&(e+=i,i=-i),0>a&&(t+=a,a=-a),this.x=e,this.y=t,this.width=i,this.height=a}function Tt(e){for(var t=0;e>=lv;)t|=1&e,e>>=1;return e+t}function Pt(e,t,i,a){var n=t+1;if(n===i)return 1;if(a(e[n++],e[t])<0){for(;i>n&&a(e[n],e[n-1])<0;)n++;Dt(e,t,n)}else for(;i>n&&a(e[n],e[n-1])>=0;)n++;return n-t}function Dt(e,t,i){for(i--;i>t;){var a=e[t];e[t++]=e[i],e[i--]=a}}function Mt(e,t,i,a,n){for(a===t&&a++;i>a;a++){for(var r,s=e[a],o=t,l=a;l>o;)n(s,e[r=o+l>>>1])<0?l=r:o=r+1;var c=a-o;switch(c){case 3:e[o+3]=e[o+2];case 2:e[o+2]=e[o+1];case 1:e[o+1]=e[o];break;default:for(;c>0;)e[o+c]=e[o+c-1],c--}e[o]=s}}function Lt(e,t,i,a,n,r){var s=0,o=0,l=1;if(r(e,t[i+n])>0){for(o=a-n;o>l&&r(e,t[i+n+l])>0;)s=l,0>=(l=1+(l<<1))&&(l=o);l>o&&(l=o),s+=n,l+=n}else{for(o=n+1;o>l&&r(e,t[i+n-l])<=0;)s=l,0>=(l=1+(l<<1))&&(l=o);l>o&&(l=o);var c=s;s=n-l,l=n-c}for(s++;l>s;){var u=s+(l-s>>>1);r(e,t[i+u])>0?s=u+1:l=u}return l}function Et(e,t,i,a,n,r){var s=0,o=0,l=1;if(r(e,t[i+n])<0){for(o=n+1;o>l&&r(e,t[i+n-l])<0;)s=l,0>=(l=1+(l<<1))&&(l=o);l>o&&(l=o);var c=s;s=n-l,l=n-c}else{for(o=a-n;o>l&&r(e,t[i+n+l])>=0;)s=l,0>=(l=1+(l<<1))&&(l=o);l>o&&(l=o),s+=n,l+=n}for(s++;l>s;){var u=s+(l-s>>>1);r(e,t[i+u])<0?l=u:s=u+1}return l}function At(e,t){function i(e,t){l[d]=e,c[d]=t,d+=1}function a(){for(;d>1;){var e=d-2;if(e>=1&&c[e-1]<=c[e]+c[e+1]||e>=2&&c[e-2]<=c[e]+c[e-1])c[e-1]<c[e+1]&&e--;else if(c[e]>c[e+1])break;r(e)}}function n(){for(;d>1;){var e=d-2;e>0&&c[e-1]<c[e+1]&&e--,r(e)}}function r(i){var a=l[i],n=c[i],r=l[i+1],u=c[i+1];c[i]=n+u,i===d-3&&(l[i+1]=l[i+2],c[i+1]=c[i+2]),d--;var h=Et(e[r],e,a,n,0,t);a+=h,0!=(n-=h)&&0!==(u=Lt(e[a+n-1],e,r,u,u-1,t))&&(u>=n?s(a,n,r,u):o(a,n,r,u))}function s(i,a,n,r){var s=0;for(s=0;a>s;s++)h[s]=e[i+s];var o=0,l=n,c=i;if(e[c++]=e[l++],0!=--r){if(1===a){for(s=0;r>s;s++)e[c+s]=e[l+s];return void(e[c+r]=h[o])}for(var d,p,f,v=u;;){d=0,p=0,f=!1;do{if(t(e[l],h[o])<0){if(e[c++]=e[l++],p++,d=0,0==--r){f=!0;break}}else if(e[c++]=h[o++],d++,p=0,1==--a){f=!0;break}}while(v>(d|p));if(f)break;do{if(0!==(d=Et(e[l],h,o,a,0,t))){for(s=0;d>s;s++)e[c+s]=h[o+s];if(c+=d,o+=d,1>=(a-=d)){f=!0;break}}if(e[c++]=e[l++],0==--r){f=!0;break}if(0!==(p=Lt(h[o],e,l,r,0,t))){for(s=0;p>s;s++)e[c+s]=e[l+s];if(c+=p,l+=p,0==(r-=p)){f=!0;break}}if(e[c++]=h[o++],1==--a){f=!0;break}v--}while(d>=cv||p>=cv);if(f)break;0>v&&(v=0),v+=2}if(1>(u=v)&&(u=1),1===a){for(s=0;r>s;s++)e[c+s]=e[l+s];e[c+r]=h[o]}else{if(0===a)throw new Error;for(s=0;a>s;s++)e[c+s]=h[o+s]}}else for(s=0;a>s;s++)e[c+s]=h[o+s]}function o(i,a,n,r){var s=0;for(s=0;r>s;s++)h[s]=e[n+s];var o=i+a-1,l=r-1,c=n+r-1,d=0,p=0;if(e[c--]=e[o--],0!=--a){if(1===r){for(p=1+(c-=a),d=1+(o-=a),s=a-1;s>=0;s--)e[p+s]=e[d+s];return void(e[c]=h[l])}for(var f=u;;){var v=0,m=0,g=!1;do{if(t(h[l],e[o])<0){if(e[c--]=e[o--],v++,m=0,0==--a){g=!0;break}}else if(e[c--]=h[l--],m++,v=0,1==--r){g=!0;break}}while(f>(v|m));if(g)break;do{if(0!=(v=a-Et(h[l],e,i,a,a-1,t))){for(a-=v,p=1+(c-=v),d=1+(o-=v),s=v-1;s>=0;s--)e[p+s]=e[d+s];if(0===a){g=!0;break}}if(e[c--]=h[l--],1==--r){g=!0;break}if(0!=(m=r-Lt(e[o],h,0,r,r-1,t))){for(r-=m,p=1+(c-=m),d=1+(l-=m),s=0;m>s;s++)e[p+s]=h[d+s];if(1>=r){g=!0;break}}if(e[c--]=e[o--],0==--a){g=!0;break}f--}while(v>=cv||m>=cv);if(g)break;0>f&&(f=0),f+=2}if(1>(u=f)&&(u=1),1===r){for(p=1+(c-=a),d=1+(o-=a),s=a-1;s>=0;s--)e[p+s]=e[d+s];e[c]=h[l]}else{if(0===r)throw new Error;for(d=c-(r-1),s=0;r>s;s++)e[d+s]=h[s]}}else for(d=c-(r-1),s=0;r>s;s++)e[d+s]=h[s]}var l,c,u=cv,d=0,h=[];l=[],c=[],this.mergeRuns=a,this.forceMergeRuns=n,this.pushRun=i}function jt(e,t,i,a){i||(i=0),a||(a=e.length);var n=a-i;if(!(2>n)){var r=0;if(lv>n)return void Mt(e,i,a,i+(r=Pt(e,i,a,t)),t);var s=new At(e,t),o=Tt(n);do{if(o>(r=Pt(e,i,a,t))){var l=n;l>o&&(l=o),Mt(e,i,i+l,i+r,t),r=l}s.pushRun(i,r),s.mergeRuns(),n-=r,i+=r}while(0!==n);s.forceMergeRuns()}}function Nt(e,t){return e.zlevel===t.zlevel?e.z===t.z?e.z2-t.z2:e.z-t.z:e.zlevel-t.zlevel}function Vt(e,t,i){var a=null==t.x?0:t.x,n=null==t.x2?1:t.x2,r=null==t.y?0:t.y,s=null==t.y2?0:t.y2;return t.global||(a=a*i.width+i.x,n=n*i.width+i.x,r=r*i.height+i.y,s=s*i.height+i.y),a=isNaN(a)?0:a,n=isNaN(n)?1:n,r=isNaN(r)?0:r,s=isNaN(s)?0:s,e.createLinearGradient(a,r,n,s)}function Rt(e,t,i){var a=i.width,n=i.height,r=Math.min(a,n),s=null==t.x?.5:t.x,o=null==t.y?.5:t.y,l=null==t.r?.5:t.r;return t.global||(s=s*a+i.x,o=o*n+i.y,l*=r),e.createRadialGradient(s,o,0,s,o,l)}function Ft(){return!1}function $t(e,t,i){var a=rf(),n=t.getWidth(),r=t.getHeight(),s=a.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=n+"px",s.height=r+"px",a.setAttribute("data-zr-dom-id",e)),a.width=n*i,a.height=r*i,a}function zt(e){if("string"==typeof e){var t=Sv.get(e);return t&&t.image}return e}function Bt(e,t,i,a,n){if(e){if("string"==typeof e){if(t&&t.__zrImageSrc===e||!i)return t;var r=Sv.get(e),s={hostEl:i,cb:a,cbPayload:n};return r?!Ht(t=r.image)&&r.pending.push(s):((t=new Image).onload=t.onerror=Zt,Sv.put(e,t.__cachedImgObj={image:t,pending:[s]}),t.src=t.__zrImageSrc=e),t}return e}return t}function Zt(){var e=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<e.pending.length;t++){var i=e.pending[t],a=i.cb;a&&a(this,i.cbPayload),i.hostEl.dirty()}e.pending.length=0}function Ht(e){return e&&e.width&&e.height}function qt(e,t){var i=e+":"+(t=t||Tv);if(Cv[i])return Cv[i];for(var a=(e+"").split("\n"),n=0,r=0,s=a.length;s>r;r++)n=Math.max(ai(a[r],t).width,n);return Iv>kv&&(Iv=0,Cv={}),Iv++,Cv[i]=n,n}function Gt(e,t,i,a,n,r,s,o){return s?Xt(e,t,i,a,n,r,s,o):Ut(e,t,i,a,n,r,o)}function Ut(e,t,i,a,n,r,s){var o=ni(e,t,n,r,s),l=qt(e,t);n&&(l+=n[1]+n[3]);var c=o.outerHeight,u=new Ot(Wt(0,l,i),Yt(0,c,a),l,c);return u.lineHeight=o.lineHeight,u}function Xt(e,t,i,a,n,r,s,o){var l=ri(e,{rich:s,truncate:o,font:t,textAlign:i,textPadding:n,textLineHeight:r}),c=l.outerWidth,u=l.outerHeight;return new Ot(Wt(0,c,i),Yt(0,u,a),c,u)}function Wt(e,t,i){return"right"===i?e-=t:"center"===i&&(e-=t/2),e}function Yt(e,t,i){return"middle"===i?e-=t/2:"bottom"===i&&(e-=t),e}function Kt(e,t,i){var a=t.textPosition,n=t.textDistance,r=i.x,s=i.y;n=n||0;var o=i.height,l=i.width,c=o/2,u="left",d="top";switch(a){case"left":r-=n,s+=c,u="right",d="middle";break;case"right":r+=n+l,s+=c,d="middle";break;case"top":r+=l/2,s-=n,u="center",d="bottom";break;case"bottom":r+=l/2,s+=o+n,u="center";break;case"inside":r+=l/2,s+=c,u="center",d="middle";break;case"insideLeft":r+=n,s+=c,d="middle";break;case"insideRight":r+=l-n,s+=c,u="right",d="middle";break;case"insideTop":r+=l/2,s+=n,u="center";break;case"insideBottom":r+=l/2,s+=o-n,u="center",d="bottom";break;case"insideTopLeft":r+=n,s+=n;break;case"insideTopRight":r+=l-n,s+=n,u="right";break;case"insideBottomLeft":r+=n,s+=o-n,d="bottom";break;case"insideBottomRight":r+=l-n,s+=o-n,u="right",d="bottom"}return(e=e||{}).x=r,e.y=s,e.textAlign=u,e.textVerticalAlign=d,e}function Jt(e,t,i,a,n){if(!t)return"";var r=(e+"").split("\n");n=Qt(t,i,a,n);for(var s=0,o=r.length;o>s;s++)r[s]=ei(r[s],n);return r.join("\n")}function Qt(e,t,i,a){(a=o({},a)).font=t,i=D(i,"..."),a.maxIterations=D(a.maxIterations,2);var n=a.minChar=D(a.minChar,0);a.cnCharWidth=qt("国",t);var r=a.ascCharWidth=qt("a",t);a.placeholder=D(a.placeholder,"");for(var s=e=Math.max(0,e-1),l=0;n>l&&s>=r;l++)s-=r;var c=qt(i,t);return c>s&&(i="",c=0),s=e-c,a.ellipsis=i,a.ellipsisWidth=c,a.contentWidth=s,a.containerWidth=e,a}function ei(e,t){var i=t.containerWidth,a=t.font,n=t.contentWidth;if(!i)return"";var r=qt(e,a);if(i>=r)return e;for(var s=0;;s++){if(n>=r||s>=t.maxIterations){e+=t.ellipsis;break}var o=0===s?ti(e,n,t.ascCharWidth,t.cnCharWidth):r>0?Math.floor(e.length*n/r):0;r=qt(e=e.substr(0,o),a)}return""===e&&(e=t.placeholder),e}function ti(e,t,i,a){for(var n=0,r=0,s=e.length;s>r&&t>n;r++){var o=e.charCodeAt(r);n+=o>=0&&127>=o?i:a}return r}function ii(e){return qt("国",e)}function ai(e,t){return Pv.measureText(e,t)}function ni(e,t,i,a,n){null!=e&&(e+="");var r=D(a,ii(t)),s=e?e.split("\n"):[],o=s.length*r,l=o,c=!0;if(i&&(l+=i[0]+i[2]),e&&n){c=!1;var u=n.outerHeight,d=n.outerWidth;if(null!=u&&l>u)e="",s=[];else if(null!=d)for(var h=Qt(d-(i?i[1]+i[3]:0),t,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),p=0,f=s.length;f>p;p++)s[p]=ei(s[p],h)}return{lines:s,height:o,outerHeight:l,lineHeight:r,canCacheByTextString:c}}function ri(e,t){var i={lines:[],width:0,height:0};if(null!=e&&(e+=""),!e)return i;for(var a,n=Ov.lastIndex=0;null!=(a=Ov.exec(e));){var r=a.index;r>n&&si(i,e.substring(n,r)),si(i,a[2],a[1]),n=Ov.lastIndex}n<e.length&&si(i,e.substring(n,e.length));var s=i.lines,o=0,l=0,c=[],u=t.textPadding,d=t.truncate,h=d&&d.outerWidth,p=d&&d.outerHeight;u&&(null!=h&&(h-=u[1]+u[3]),null!=p&&(p-=u[0]+u[2]));for(var f=0;f<s.length;f++){for(var v=s[f],m=0,g=0,y=0;y<v.tokens.length;y++){var _=(P=v.tokens[y]).styleName&&t.rich[P.styleName]||{},b=P.textPadding=_.textPadding,x=P.font=_.font||t.font,w=P.textHeight=D(_.textHeight,ii(x));if(b&&(w+=b[0]+b[2]),P.height=w,P.lineHeight=M(_.textLineHeight,t.textLineHeight,w),P.textAlign=_&&_.textAlign||t.textAlign,P.textVerticalAlign=_&&_.textVerticalAlign||"middle",null!=p&&o+P.lineHeight>p)return{lines:[],width:0,height:0};P.textWidth=qt(P.text,x);var S=_.textWidth,C=null==S||"auto"===S;if("string"==typeof S&&"%"===S.charAt(S.length-1))P.percentWidth=S,c.push(P),S=0;else{if(C){S=P.textWidth;var I=_.textBackgroundColor,k=I&&I.image;k&&Ht(k=zt(k))&&(S=Math.max(S,k.width*w/k.height))}var O=b?b[1]+b[3]:0;S+=O;var T=null!=h?h-g:null;null!=T&&S>T&&(!C||O>T?(P.text="",P.textWidth=S=0):(P.text=Jt(P.text,T-O,x,d.ellipsis,{minChar:d.minChar}),P.textWidth=qt(P.text,x),S=P.textWidth+O))}g+=P.width=S,_&&(m=Math.max(m,P.lineHeight))}v.width=g,v.lineHeight=m,o+=m,l=Math.max(l,g)}for(i.outerWidth=i.width=D(t.textWidth,l),i.outerHeight=i.height=D(t.textHeight,o),u&&(i.outerWidth+=u[1]+u[3],i.outerHeight+=u[0]+u[2]),f=0;f<c.length;f++){var P,L=(P=c[f]).percentWidth;P.width=parseInt(L,10)/100*l}return i}function si(e,t,i){for(var a=""===t,n=t.split("\n"),r=e.lines,s=0;s<n.length;s++){var o=n[s],l={styleName:i,text:o,isLineHolder:!o&&!a};if(s)r.push({tokens:[l]});else{var c=(r[r.length-1]||(r[0]={tokens:[]})).tokens,u=c.length;1===u&&c[0].isLineHolder?c[0]=l:(o||!u||a)&&c.push(l)}}}function oi(e){var t=(e.fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" ");return t&&j(t)||e.textFont||e.font}function li(e,t){var i,a,n,r,s,o=t.x,l=t.y,c=t.width,u=t.height,d=t.r;0>c&&(o+=c,c=-c),0>u&&(l+=u,u=-u),"number"==typeof d?i=a=n=r=d:d instanceof Array?1===d.length?i=a=n=r=d[0]:2===d.length?(i=n=d[0],a=r=d[1]):3===d.length?(i=d[0],a=r=d[1],n=d[2]):(i=d[0],a=d[1],n=d[2],r=d[3]):i=a=n=r=0,i+a>c&&(i*=c/(s=i+a),a*=c/s),n+r>c&&(n*=c/(s=n+r),r*=c/s),a+n>u&&(a*=u/(s=a+n),n*=u/s),i+r>u&&(i*=u/(s=i+r),r*=u/s),e.moveTo(o+i,l),e.lineTo(o+c-a,l),0!==a&&e.arc(o+c-a,l+a,a,-Math.PI/2,0),e.lineTo(o+c,l+u-n),0!==n&&e.arc(o+c-n,l+u-n,n,0,Math.PI/2),e.lineTo(o+r,l+u),0!==r&&e.arc(o+r,l+u-r,r,Math.PI/2,Math.PI),e.lineTo(o,l+i),0!==i&&e.arc(o+i,l+i,i,Math.PI,1.5*Math.PI)}function ci(e){return ui(e),f(e.rich,ui),e}function ui(e){if(e){e.font=oi(e);var t=e.textAlign;"middle"===t&&(t="center"),e.textAlign=null==t||Mv[t]?t:"left";var i=e.textVerticalAlign||e.textBaseline;"center"===i&&(i="middle"),e.textVerticalAlign=null==i||Lv[i]?i:"top",e.textPadding&&(e.textPadding=E(e.textPadding))}}function di(e,t,i,a,n,r){a.rich?pi(e,t,i,a,n,r):hi(e,t,i,a,n,r)}function hi(e,t,i,a,n,r){var s,o=gi(a),l=!1,c=t.__attrCachedBy===pv.PLAIN_TEXT;r!==fv?(r&&(s=r.style,l=!o&&c&&s),t.__attrCachedBy=o?pv.NONE:pv.PLAIN_TEXT):c&&(t.__attrCachedBy=pv.NONE);var u=a.font||Dv;l&&u===(s.font||Dv)||(t.font=u);var d=e.__computedFont;e.__styleFont!==u&&(e.__styleFont=u,d=e.__computedFont=t.font);var h=a.textPadding,p=a.textLineHeight,f=e.__textCotentBlock;(!f||e.__dirtyText)&&(f=e.__textCotentBlock=ni(i,d,h,p,a.truncate));var v=f.outerHeight,m=f.lines,g=f.lineHeight,y=bi(jv,e,a,n),_=y.baseX,b=y.baseY,x=y.textAlign||"left",w=y.textVerticalAlign;vi(t,a,n,_,b);var S=Yt(b,v,w),C=_,I=S;if(o||h){var k=qt(i,d);h&&(k+=h[1]+h[3]);var O=Wt(_,k,x);o&&yi(e,t,a,O,S,k,v),h&&(C=Ii(_,x,h),I+=h[0])}t.textAlign=x,t.textBaseline="middle",t.globalAlpha=a.opacity||1;for(var T=0;T<Ev.length;T++){var P=Ev[T],D=P[0],M=P[1],L=a[D];l&&L===s[D]||(t[M]=hv(t,M,L||P[2]))}I+=g/2;var E=a.textStrokeWidth,A=l?s.textStrokeWidth:null,j=!l||E!==A,N=!l||j||a.textStroke!==s.textStroke,V=wi(a.textStroke,E),R=Si(a.textFill);if(V&&(j&&(t.lineWidth=E),N&&(t.strokeStyle=V)),R&&(l&&a.textFill===s.textFill||(t.fillStyle=R)),1===m.length)V&&t.strokeText(m[0],C,I),R&&t.fillText(m[0],C,I);else for(T=0;T<m.length;T++)V&&t.strokeText(m[T],C,I),R&&t.fillText(m[T],C,I),I+=g}function pi(e,t,i,a,n,r){r!==fv&&(t.__attrCachedBy=pv.NONE);var s=e.__textCotentBlock;(!s||e.__dirtyText)&&(s=e.__textCotentBlock=ri(i,a)),fi(e,t,s,a,n)}function fi(e,t,i,a,n){var r=i.width,s=i.outerWidth,o=i.outerHeight,l=a.textPadding,c=bi(jv,e,a,n),u=c.baseX,d=c.baseY,h=c.textAlign,p=c.textVerticalAlign;vi(t,a,n,u,d);var f=Wt(u,s,h),v=Yt(d,o,p),m=f,g=v;l&&(m+=l[3],g+=l[0]);var y=m+r;gi(a)&&yi(e,t,a,f,v,s,o);for(var _=0;_<i.lines.length;_++){for(var b,x=i.lines[_],w=x.tokens,S=w.length,C=x.lineHeight,I=x.width,k=0,O=m,T=y,P=S-1;S>k&&(!(b=w[k]).textAlign||"left"===b.textAlign);)mi(e,t,b,a,C,g,O,"left"),I-=b.width,O+=b.width,k++;for(;P>=0&&"right"===(b=w[P]).textAlign;)mi(e,t,b,a,C,g,T,"right"),I-=b.width,T-=b.width,P--;for(O+=(r-(O-m)-(y-T)-I)/2;P>=k;)mi(e,t,b=w[k],a,C,g,O+b.width/2,"center"),O+=b.width,k++;g+=C}}function vi(e,t,i,a,n){if(i&&t.textRotation){var r=t.textOrigin;"center"===r?(a=i.width/2+i.x,n=i.height/2+i.y):r&&(a=r[0]+i.x,n=r[1]+i.y),e.translate(a,n),e.rotate(-t.textRotation),e.translate(-a,-n)}}function mi(e,t,i,a,n,r,s,o){var l=a.rich[i.styleName]||{};l.text=i.text;var c=i.textVerticalAlign,u=r+n/2;"top"===c?u=r+i.height/2:"bottom"===c&&(u=r+n-i.height/2),!i.isLineHolder&&gi(l)&&yi(e,t,l,"right"===o?s-i.width:"center"===o?s-i.width/2:s,u-i.height/2,i.width,i.height);var d=i.textPadding;d&&(s=Ii(s,o,d),u-=i.height/2-d[2]-i.textHeight/2),xi(t,"shadowBlur",M(l.textShadowBlur,a.textShadowBlur,0)),xi(t,"shadowColor",l.textShadowColor||a.textShadowColor||"transparent"),xi(t,"shadowOffsetX",M(l.textShadowOffsetX,a.textShadowOffsetX,0)),xi(t,"shadowOffsetY",M(l.textShadowOffsetY,a.textShadowOffsetY,0)),xi(t,"textAlign",o),xi(t,"textBaseline","middle"),xi(t,"font",i.font||Dv);var h=wi(l.textStroke||a.textStroke,f),p=Si(l.textFill||a.textFill),f=D(l.textStrokeWidth,a.textStrokeWidth);h&&(xi(t,"lineWidth",f),xi(t,"strokeStyle",h),t.strokeText(i.text,s,u)),p&&(xi(t,"fillStyle",p),t.fillText(i.text,s,u))}function gi(e){return!!(e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor)}function yi(e,t,i,a,n,r,s){var o=i.textBackgroundColor,l=i.textBorderWidth,c=i.textBorderColor,u=S(o);if(xi(t,"shadowBlur",i.textBoxShadowBlur||0),xi(t,"shadowColor",i.textBoxShadowColor||"transparent"),xi(t,"shadowOffsetX",i.textBoxShadowOffsetX||0),xi(t,"shadowOffsetY",i.textBoxShadowOffsetY||0),u||l&&c){t.beginPath();var d=i.textBorderRadius;d?li(t,{x:a,y:n,width:r,height:s,r:d}):t.rect(a,n,r,s),t.closePath()}if(u)if(xi(t,"fillStyle",o),null!=i.fillOpacity){var h=t.globalAlpha;t.globalAlpha=i.fillOpacity*i.opacity,t.fill(),t.globalAlpha=h}else t.fill();else if(C(o)){var p=o.image;(p=Bt(p,null,e,_i,o))&&Ht(p)&&t.drawImage(p,a,n,r,s)}l&&c&&(xi(t,"lineWidth",l),xi(t,"strokeStyle",c),null!=i.strokeOpacity?(h=t.globalAlpha,t.globalAlpha=i.strokeOpacity*i.opacity,t.stroke(),t.globalAlpha=h):t.stroke())}function _i(e,t){t.image=e}function bi(e,t,i,a){var n=i.x||0,r=i.y||0,s=i.textAlign,o=i.textVerticalAlign;if(a){var l=i.textPosition;if(l instanceof Array)n=a.x+Ci(l[0],a.width),r=a.y+Ci(l[1],a.height);else{var c=t&&t.calculateTextPosition?t.calculateTextPosition(Av,i,a):Kt(Av,i,a);n=c.x,r=c.y,s=s||c.textAlign,o=o||c.textVerticalAlign}var u=i.textOffset;u&&(n+=u[0],r+=u[1])}return(e=e||{}).baseX=n,e.baseY=r,e.textAlign=s,e.textVerticalAlign=o,e}function xi(e,t,i){return e[t]=hv(e,t,i),e[t]}function wi(e,t){return null==e||0>=t||"transparent"===e||"none"===e?null:e.image||e.colorStops?"#000":e}function Si(e){return null==e||"none"===e?null:e.image||e.colorStops?"#000":e}function Ci(e,t){return"string"==typeof e?e.lastIndexOf("%")>=0?parseFloat(e)/100*t:parseFloat(e):e}function Ii(e,t,i){return"right"===t?e-i[1]:"center"===t?e+i[3]/2-i[1]/2:e+i[3]}function ki(e,t){return null!=e&&(e||t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor||t.textPadding)}function Oi(e){for(var t in e=e||{},av.call(this,e),e)e.hasOwnProperty(t)&&"style"!==t&&(this[t]=e[t]);this.style=new mv(e.style,this),this._rect=null,this.__clipPaths=null}function Ti(e){Oi.call(this,e)}function Pi(e){return parseInt(e,10)}function Di(e){return!!e&&(!!e.__builtin__||"function"==typeof e.resize&&"function"==typeof e.refresh)}function Mi(e,t,i){return Bv.copy(e.getBoundingRect()),e.transform&&Bv.applyTransform(e.transform),Zv.width=t,Zv.height=i,!Bv.intersect(Zv)}function Li(e,t){if(e===t)return!1;if(!e||!t||e.length!==t.length)return!0;for(var i=0;i<e.length;i++)if(e[i]!==t[i])return!0;return!1}function Ei(e,t){for(var i=0;i<e.length;i++){var a=e[i];a.setTransform(t),t.beginPath(),a.buildPath(t,a.shape),t.clip(),a.restoreTransform(t)}}function Ai(e,t){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+e+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}function ji(e){return"mousewheel"===e&&Up.browser.firefox?"DOMMouseScroll":e}function Ni(e){var t=e.pointerType;return"pen"===t||"touch"===t}function Vi(e){e.touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout((function(){e.touching=!1,e.touchTimer=null}),700)}function Ri(e){e&&(e.zrByTouch=!0)}function Fi(e,t){return Se(e.dom,new zi(e,t),!0)}function $i(e,t){for(var i=t,a=!1;i&&9!==i.nodeType&&!(a=i.domBelongToZr||i!==t&&i===e.painterRoot);)i=i.parentNode;return a}function zi(e,t){this.type=t.type,this.target=this.currentTarget=e.dom,this.pointerType=t.pointerType,this.clientX=t.clientX,this.clientY=t.clientY}function Bi(e,t){var i=t.domHandlers;Up.pointerEventsSupported?f(Xv.pointer,(function(a){Hi(t,a,(function(t){i[a].call(e,t)}))})):(Up.touchEventsSupported&&f(Xv.touch,(function(a){Hi(t,a,(function(n){i[a].call(e,n),Vi(t)}))})),f(Xv.mouse,(function(a){Hi(t,a,(function(n){n=we(n),t.touching||i[a].call(e,n)}))})))}function Zi(e,t){function i(i){function a(a){a=we(a),$i(e,a.target)||(a=Fi(e,a),t.domHandlers[i].call(e,a))}Hi(t,i,a,{capture:!0})}Up.pointerEventsSupported?f(Wv.pointer,i):Up.touchEventsSupported||f(Wv.mouse,i)}function Hi(e,t,i,a){e.mounted[t]=i,e.listenerOpts[t]=a,Ce(e.domTarget,ji(t),i,a)}function qi(e){var t=e.mounted;for(var i in t)t.hasOwnProperty(i)&&Ie(e.domTarget,ji(i),t[i],e.listenerOpts[i]);e.mounted={}}function Gi(e,t){if(e._mayPointerCapture=null,Uv&&e._pointerCapturing^t){e._pointerCapturing=t;var i=e._globalHandlerScope;t?Zi(e,i):qi(i)}}function Ui(e,t){this.domTarget=e,this.domHandlers=t,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Xi(e,t){mf.call(this),this.dom=e,this.painterRoot=t,this._localHandlerScope=new Ui(e,Kv),Uv&&(this._globalHandlerScope=new Ui(document,Jv)),this._pointerCapturing=!1,this._mayPointerCapture=null,Bi(this,this._localHandlerScope)}function Wi(e,t){var i=new nm(Gp(),e,t);return im[i.id]=i,i}function Yi(e){if(e)e.dispose();else{for(var t in im)im.hasOwnProperty(t)&&im[t].dispose();im={}}return this}function Ki(e){return im[e]}function Ji(e,t){tm[e]=t}function Qi(e){delete im[e]}function ea(e){return e instanceof Array?e:null==e?[]:[e]}function ta(e,t,i){if(e){e[t]=e[t]||{},e.emphasis=e.emphasis||{},e.emphasis[t]=e.emphasis[t]||{};for(var a=0,n=i.length;n>a;a++){var r=i[a];!e.emphasis[t].hasOwnProperty(r)&&e[t].hasOwnProperty(r)&&(e.emphasis[t][r]=e[t][r])}}}function ia(e){return!om(e)||lm(e)||e instanceof Date?e:e.value}function aa(e){return om(e)&&!(e instanceof Array)}function na(e,t){t=(t||[]).slice();var i=v(e||[],(function(e){return{exist:e}}));return sm(t,(function(e,a){if(om(e)){for(var n=0;n<i.length;n++)if(!i[n].option&&null!=e.id&&i[n].exist.id===e.id+"")return i[n].option=e,void(t[a]=null);for(n=0;n<i.length;n++){var r=i[n].exist;if(!(i[n].option||null!=r.id&&null!=e.id||null==e.name||oa(e)||oa(r)||r.name!==e.name+""))return i[n].option=e,void(t[a]=null)}}})),sm(t,(function(e){if(om(e)){for(var t=0;t<i.length;t++){var a=i[t].exist;if(!i[t].option&&!oa(a)&&null==e.id){i[t].option=e;break}}t>=i.length&&i.push({option:e})}})),i}function ra(e){var t=F();sm(e,(function(e){var i=e.exist;i&&t.set(i.id,e)})),sm(e,(function(e){var i=e.option;A(!i||null==i.id||!t.get(i.id)||t.get(i.id)===e,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&t.set(i.id,e),!e.keyInfo&&(e.keyInfo={})})),sm(e,(function(e,i){var a=e.exist,n=e.option,r=e.keyInfo;if(om(n)){if(r.name=null!=n.name?n.name+"":a?a.name:cm+i,a)r.id=a.id;else if(null!=n.id)r.id=n.id+"";else{var s=0;do{r.id="\0"+r.name+"\0"+s++}while(t.get(r.id))}t.set(r.id,e)}}))}function sa(e){var t=e.name;return!(!t||!t.indexOf(cm))}function oa(e){return om(e)&&e.id&&0===(e.id+"").indexOf("\0_ec_\0")}function la(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?x(t.dataIndex)?v(t.dataIndex,(function(t){return e.indexOfRawIndex(t)})):e.indexOfRawIndex(t.dataIndex):null!=t.name?x(t.name)?v(t.name,(function(t){return e.indexOfName(t)})):e.indexOfName(t.name):void 0}function ca(){var e="__\0ec_inner_"+dm+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}function ua(e,t,i){if(S(t)){var a={};a[t+"Index"]=0,t=a}var n=i&&i.defaultMainType;!n||da(t,n+"Index")||da(t,n+"Id")||da(t,n+"Name")||(t[n+"Index"]=0);var r={};return sm(t,(function(a,n){if(a=t[n],"dataIndex"!==n&&"dataIndexInside"!==n){var s=n.match(/^(\w+)(Index|Id|Name)$/)||[],o=s[1],l=(s[2]||"").toLowerCase();if(!(!o||!l||null==a||"index"===l&&"none"===a||i&&i.includeMainTypes&&u(i.includeMainTypes,o)<0)){var c={mainType:o};("index"!==l||"all"!==a)&&(c[l]=a);var d=e.queryComponents(c);r[o+"Models"]=d,r[o+"Model"]=d[0]}}else r[n]=a})),r}function da(e,t){return e&&e.hasOwnProperty(t)}function ha(e,t,i){e.setAttribute?e.setAttribute(t,i):e[t]=i}function pa(e,t){return e.getAttribute?e.getAttribute(t):e[t]}function fa(e){return"auto"===e?Up.domSupported?"html":"richText":e||"html"}function va(e){var t={main:"",sub:""};return e&&(e=e.split(hm),t.main=e[0]||"",t.sub=e[1]||""),t}function ma(e){A(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e),'componentType "'+e+'" illegal')}function ga(e,t){e.$constructor=e,e.extend=function(e){Hp&&f(t,(function(t){e[t]||console.warn("Method `"+t+"` should be implemented"+(e.type?" in "+e.type:"")+".")}));var i=this,a=function(){e.$constructor?e.$constructor.apply(this,arguments):i.apply(this,arguments)};return o(a.prototype,e),a.extend=this.extend,a.superCall=_a,a.superApply=ba,d(a,this),a.superClass=i,a}}function ya(e){var t=["__\0is_clz",fm++,Math.random().toFixed(3)].join("_");e.prototype[t]=!0,Hp&&A(!e.isInstance,'The method "is" can not be defined.'),e.isInstance=function(e){return!(!e||!e[t])}}function _a(e,t){var i=L(arguments,2);return this.superClass.prototype[t].apply(e,i)}function ba(e,t,i){return this.superClass.prototype[t].apply(e,i)}function xa(e,t){function i(e){var t=a[e.main];return t&&t[pm]||((t=a[e.main]={})[pm]=!0),t}t=t||{};var a={};if(e.registerClass=function(e,t){return t&&(ma(t),(t=va(t)).sub?t.sub!==pm&&(i(t)[t.sub]=e):(Hp&&a[t.main]&&console.warn(t.main+" exists."),a[t.main]=e)),e},e.getClass=function(e,t,i){var n=a[e];if(n&&n[pm]&&(n=t?n[t]:null),i&&!n)throw new Error(t?"Component "+e+"."+(t||"")+" not exists. Load it first.":e+".type should be specified.");return n},e.getClassesByMainType=function(e){e=va(e);var t=[],i=a[e.main];return i&&i[pm]?f(i,(function(e,i){i!==pm&&t.push(e)})):t.push(i),t},e.hasClass=function(e){return e=va(e),!!a[e.main]},e.getAllClassMainTypes=function(){var e=[];return f(a,(function(t,i){e.push(i)})),e},e.hasSubTypes=function(e){e=va(e);var t=a[e.main];return t&&t[pm]},e.parseClassType=va,t.registerWhenExtend){var n=e.extend;n&&(e.extend=function(t){var i=n.call(this,t);return e.registerClass(i,t.type)})}return e}function wa(e){return e>-wm&&wm>e}function Sa(e){return e>wm||-wm>e}function Ca(e,t,i,a,n){var r=1-n;return r*r*(r*e+3*n*t)+n*n*(n*a+3*r*i)}function Ia(e,t,i,a,n){var r=1-n;return 3*(((t-e)*r+2*(i-t)*n)*r+(a-i)*n*n)}function ka(e,t,i,a,n,r){var s=a+3*(t-i)-e,o=3*(i-2*t+e),l=3*(t-e),c=e-n,u=o*o-3*s*l,d=o*l-9*s*c,h=l*l-3*o*c,p=0;if(wa(u)&&wa(d))wa(o)?r[0]=0:(C=-l/o)>=0&&1>=C&&(r[p++]=C);else{var f=d*d-4*u*h;if(wa(f)){var v=d/u,m=-v/2;(C=-o/s+v)>=0&&1>=C&&(r[p++]=C),m>=0&&1>=m&&(r[p++]=m)}else if(f>0){var g=xm(f),y=u*o+1.5*s*(-d+g),_=u*o+1.5*s*(-d-g);(C=(-o-((y=0>y?-bm(-y,Im):bm(y,Im))+(_=0>_?-bm(-_,Im):bm(_,Im))))/(3*s))>=0&&1>=C&&(r[p++]=C)}else{var b=(2*u*o-3*s*d)/(2*xm(u*u*u)),x=Math.acos(b)/3,w=xm(u),S=Math.cos(x),C=(-o-2*w*S)/(3*s),I=(m=(-o+w*(S+Cm*Math.sin(x)))/(3*s),(-o+w*(S-Cm*Math.sin(x)))/(3*s));C>=0&&1>=C&&(r[p++]=C),m>=0&&1>=m&&(r[p++]=m),I>=0&&1>=I&&(r[p++]=I)}}return p}function Oa(e,t,i,a,n){var r=6*i-12*t+6*e,s=9*t+3*a-3*e-9*i,o=3*t-3*e,l=0;if(wa(s))Sa(r)&&(u=-o/r)>=0&&1>=u&&(n[l++]=u);else{var c=r*r-4*s*o;if(wa(c))n[0]=-r/(2*s);else if(c>0){var u,d=xm(c),h=(-r-d)/(2*s);(u=(-r+d)/(2*s))>=0&&1>=u&&(n[l++]=u),h>=0&&1>=h&&(n[l++]=h)}}return l}function Ta(e,t,i,a,n,r){var s=(t-e)*n+e,o=(i-t)*n+t,l=(a-i)*n+i,c=(o-s)*n+s,u=(l-o)*n+o,d=(u-c)*n+c;r[0]=e,r[1]=s,r[2]=c,r[3]=d,r[4]=d,r[5]=u,r[6]=l,r[7]=a}function Pa(e,t,i,a,n,r,s,o,l,c,u){var d,h,p,f,v,m=.005,g=1/0;km[0]=l,km[1]=c;for(var y=0;1>y;y+=.05)Om[0]=Ca(e,i,n,s,y),Om[1]=Ca(t,a,r,o,y),g>(f=pf(km,Om))&&(d=y,g=f);g=1/0;for(var _=0;32>_&&!(Sm>m);_++)h=d-m,p=d+m,Om[0]=Ca(e,i,n,s,h),Om[1]=Ca(t,a,r,o,h),f=pf(Om,km),h>=0&&g>f?(d=h,g=f):(Tm[0]=Ca(e,i,n,s,p),Tm[1]=Ca(t,a,r,o,p),v=pf(Tm,km),1>=p&&g>v?(d=p,g=v):m*=.5);return u&&(u[0]=Ca(e,i,n,s,d),u[1]=Ca(t,a,r,o,d)),xm(g)}function Da(e,t,i,a){var n=1-a;return n*(n*e+2*a*t)+a*a*i}function Ma(e,t,i,a){return 2*((1-a)*(t-e)+a*(i-t))}function La(e,t,i,a,n){var r=e-2*t+i,s=2*(t-e),o=e-a,l=0;if(wa(r))Sa(s)&&(u=-o/s)>=0&&1>=u&&(n[l++]=u);else{var c=s*s-4*r*o;if(wa(c))(u=-s/(2*r))>=0&&1>=u&&(n[l++]=u);else if(c>0){var u,d=xm(c),h=(-s-d)/(2*r);(u=(-s+d)/(2*r))>=0&&1>=u&&(n[l++]=u),h>=0&&1>=h&&(n[l++]=h)}}return l}function Ea(e,t,i){var a=e+i-2*t;return 0===a?.5:(e-t)/a}function Aa(e,t,i,a,n){var r=(t-e)*a+e,s=(i-t)*a+t,o=(s-r)*a+r;n[0]=e,n[1]=r,n[2]=o,n[3]=o,n[4]=s,n[5]=i}function ja(e,t,i,a,n,r,s,o,l){var c,u=.005,d=1/0;km[0]=s,km[1]=o;for(var h=0;1>h;h+=.05)Om[0]=Da(e,i,n,h),Om[1]=Da(t,a,r,h),d>(m=pf(km,Om))&&(c=h,d=m);d=1/0;for(var p=0;32>p&&!(Sm>u);p++){var f=c-u,v=c+u;Om[0]=Da(e,i,n,f),Om[1]=Da(t,a,r,f);var m=pf(Om,km);if(f>=0&&d>m)c=f,d=m;else{Tm[0]=Da(e,i,n,v),Tm[1]=Da(t,a,r,v);var g=pf(Tm,km);1>=v&&d>g?(c=v,d=g):u*=.5}}return l&&(l[0]=Da(e,i,n,c),l[1]=Da(t,a,r,c)),xm(d)}function Na(e,t,i){if(0!==e.length){var a,n=e[0],r=n[0],s=n[0],o=n[1],l=n[1];for(a=1;a<e.length;a++)n=e[a],r=Pm(r,n[0]),s=Dm(s,n[0]),o=Pm(o,n[1]),l=Dm(l,n[1]);t[0]=r,t[1]=o,i[0]=s,i[1]=l}}function Va(e,t,i,a,n,r){n[0]=Pm(e,i),n[1]=Pm(t,a),r[0]=Dm(e,i),r[1]=Dm(t,a)}function Ra(e,t,i,a,n,r,s,o,l,c){var u,d=Oa,h=Ca,p=d(e,i,n,s,Vm);for(l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0,u=0;p>u;u++){var f=h(e,i,n,s,Vm[u]);l[0]=Pm(f,l[0]),c[0]=Dm(f,c[0])}for(p=d(t,a,r,o,Rm),u=0;p>u;u++){var v=h(t,a,r,o,Rm[u]);l[1]=Pm(v,l[1]),c[1]=Dm(v,c[1])}l[0]=Pm(e,l[0]),c[0]=Dm(e,c[0]),l[0]=Pm(s,l[0]),c[0]=Dm(s,c[0]),l[1]=Pm(t,l[1]),c[1]=Dm(t,c[1]),l[1]=Pm(o,l[1]),c[1]=Dm(o,c[1])}function Fa(e,t,i,a,n,r,s,o){var l=Ea,c=Da,u=Dm(Pm(l(e,i,n),1),0),d=Dm(Pm(l(t,a,r),1),0),h=c(e,i,n,u),p=c(t,a,r,d);s[0]=Pm(e,n,h),s[1]=Pm(t,r,p),o[0]=Dm(e,n,h),o[1]=Dm(t,r,p)}function $a(e,t,i,a,n,r,s,o,l){var c=oe,u=le,d=Math.abs(n-r);if(1e-4>d%Em&&d>1e-4)return o[0]=e-i,o[1]=t-a,l[0]=e+i,void(l[1]=t+a);if(Am[0]=Lm(n)*i+e,Am[1]=Mm(n)*a+t,jm[0]=Lm(r)*i+e,jm[1]=Mm(r)*a+t,c(o,Am,jm),u(l,Am,jm),0>(n%=Em)&&(n+=Em),0>(r%=Em)&&(r+=Em),n>r&&!s?r+=Em:r>n&&s&&(n+=Em),s){var h=r;r=n,n=h}for(var p=0;r>p;p+=Math.PI/2)p>n&&(Nm[0]=Lm(p)*i+e,Nm[1]=Mm(p)*a+t,c(o,Nm,o),u(l,Nm,l))}function za(e,t,i,a,n,r,s){if(0===n)return!1;var o=n,l=0;if(s>t+o&&s>a+o||t-o>s&&a-o>s||r>e+o&&r>i+o||e-o>r&&i-o>r)return!1;if(e===i)return Math.abs(r-e)<=o/2;var c=(l=(t-a)/(e-i))*r-s+(e*a-i*t)/(e-i);return o/2*o/2>=c*c/(l*l+1)}function Ba(e,t,i,a,n,r,s,o,l,c,u){return 0!==l&&(!(u>t+l&&u>a+l&&u>r+l&&u>o+l||t-l>u&&a-l>u&&r-l>u&&o-l>u||c>e+l&&c>i+l&&c>n+l&&c>s+l||e-l>c&&i-l>c&&n-l>c&&s-l>c)&&l/2>=Pa(e,t,i,a,n,r,s,o,c,u,null))}function Za(e,t,i,a,n,r,s,o,l){return 0!==s&&(!(l>t+s&&l>a+s&&l>r+s||t-s>l&&a-s>l&&r-s>l||o>e+s&&o>i+s&&o>n+s||e-s>o&&i-s>o&&n-s>o)&&s/2>=ja(e,t,i,a,n,r,o,l,null))}function Ha(e){return 0>(e%=Jm)&&(e+=Jm),e}function qa(e,t,i,a,n,r,s,o,l){if(0===s)return!1;var c=s;o-=e,l-=t;var u=Math.sqrt(o*o+l*l);if(u-c>i||i>u+c)return!1;if(Math.abs(a-n)%Qm<1e-4)return!0;if(r){var d=a;a=Ha(n),n=Ha(d)}else a=Ha(a),n=Ha(n);a>n&&(n+=Qm);var h=Math.atan2(l,o);return 0>h&&(h+=Qm),h>=a&&n>=h||h+Qm>=a&&n>=h+Qm}function Ga(e,t,i,a,n,r){if(r>t&&r>a||t>r&&a>r)return 0;if(a===t)return 0;var s=t>a?1:-1,o=(r-t)/(a-t);(1===o||0===o)&&(s=t>a?.5:-.5);var l=o*(i-e)+e;return l===n?1/0:l>n?s:0}function Ua(e,t){return Math.abs(e-t)<ig}function Xa(){var e=ng[0];ng[0]=ng[1],ng[1]=e}function Wa(e,t,i,a,n,r,s,o,l,c){if(c>t&&c>a&&c>r&&c>o||t>c&&a>c&&r>c&&o>c)return 0;var u=ka(t,a,r,o,c,ag);if(0===u)return 0;for(var d,h,p=0,f=-1,v=0;u>v;v++){var m=ag[v],g=0===m||1===m?.5:1;l>Ca(e,i,n,s,m)||(0>f&&(f=Oa(t,a,r,o,ng),ng[1]<ng[0]&&f>1&&Xa(),d=Ca(t,a,r,o,ng[0]),f>1&&(h=Ca(t,a,r,o,ng[1]))),p+=2===f?m<ng[0]?t>d?g:-g:m<ng[1]?d>h?g:-g:h>o?g:-g:m<ng[0]?t>d?g:-g:d>o?g:-g)}return p}function Ya(e,t,i,a,n,r,s,o){if(o>t&&o>a&&o>r||t>o&&a>o&&r>o)return 0;var l=La(t,a,r,o,ag);if(0===l)return 0;var c=Ea(t,a,r);if(c>=0&&1>=c){for(var u=0,d=Da(t,a,r,c),h=0;l>h;h++){var p=0===ag[h]||1===ag[h]?.5:1;s>Da(e,i,n,ag[h])||(u+=ag[h]<c?t>d?p:-p:d>r?p:-p)}return u}return p=0===ag[0]||1===ag[0]?.5:1,s>Da(e,i,n,ag[0])?0:t>r?p:-p}function Ka(e,t,i,a,n,r,s,o){if((o-=t)>i||-i>o)return 0;var l=Math.sqrt(i*i-o*o);ag[0]=-l,ag[1]=l;var c=Math.abs(a-n);if(1e-4>c)return 0;if(1e-4>c%tg){a=0,n=tg;var u=r?1:-1;return s>=ag[0]+e&&s<=ag[1]+e?u:0}r?(l=a,a=Ha(n),n=Ha(l)):(a=Ha(a),n=Ha(n)),a>n&&(n+=tg);for(var d=0,h=0;2>h;h++){var p=ag[h];if(p+e>s){var f=Math.atan2(o,p);u=r?1:-1,0>f&&(f=tg+f),(f>=a&&n>=f||f+tg>=a&&n>=f+tg)&&(f>Math.PI/2&&f<1.5*Math.PI&&(u=-u),d+=u)}}return d}function Ja(e,t,i,a,n){for(var r=0,s=0,o=0,l=0,c=0,u=0;u<e.length;){var d=e[u++];switch(d===eg.M&&u>1&&(i||(r+=Ga(s,o,l,c,a,n))),1===u&&(l=s=e[u],c=o=e[u+1]),d){case eg.M:s=l=e[u++],o=c=e[u++];break;case eg.L:if(i){if(za(s,o,e[u],e[u+1],t,a,n))return!0}else r+=Ga(s,o,e[u],e[u+1],a,n)||0;s=e[u++],o=e[u++];break;case eg.C:if(i){if(Ba(s,o,e[u++],e[u++],e[u++],e[u++],e[u],e[u+1],t,a,n))return!0}else r+=Wa(s,o,e[u++],e[u++],e[u++],e[u++],e[u],e[u+1],a,n)||0;s=e[u++],o=e[u++];break;case eg.Q:if(i){if(Za(s,o,e[u++],e[u++],e[u],e[u+1],t,a,n))return!0}else r+=Ya(s,o,e[u++],e[u++],e[u],e[u+1],a,n)||0;s=e[u++],o=e[u++];break;case eg.A:var h=e[u++],p=e[u++],f=e[u++],v=e[u++],m=e[u++],g=e[u++];u+=1;var y=1-e[u++],_=Math.cos(m)*f+h,b=Math.sin(m)*v+p;u>1?r+=Ga(s,o,_,b,a,n):(l=_,c=b);var x=(a-h)*v/f+h;if(i){if(qa(h,p,v,m,m+g,y,t,x,n))return!0}else r+=Ka(h,p,v,m,m+g,y,x,n);s=Math.cos(m+g)*f+h,o=Math.sin(m+g)*v+p;break;case eg.R:if(l=s=e[u++],c=o=e[u++],_=l+e[u++],b=c+e[u++],i){if(za(l,c,_,c,t,a,n)||za(_,c,_,b,t,a,n)||za(_,b,l,b,t,a,n)||za(l,b,l,c,t,a,n))return!0}else r+=Ga(_,c,_,b,a,n),r+=Ga(l,b,l,c,a,n);break;case eg.Z:if(i){if(za(s,o,l,c,t,a,n))return!0}else r+=Ga(s,o,l,c,a,n);s=l,o=c}}return i||Ua(o,c)||(r+=Ga(s,o,l,c,a,n)||0),0!==r}function Qa(e,t,i){return Ja(e,0,!1,t,i)}function en(e,t,i,a){return Ja(e,t,!0,i,a)}function tn(e){Oi.call(this,e),this.path=null}function an(e,t,i,a,n,r,s,o,l,c,u){var d=l*(mg/180),h=vg(d)*(e-i)/2+fg(d)*(t-a)/2,p=-1*fg(d)*(e-i)/2+vg(d)*(t-a)/2,f=h*h/(s*s)+p*p/(o*o);f>1&&(s*=pg(f),o*=pg(f));var v=(n===r?-1:1)*pg((s*s*o*o-s*s*p*p-o*o*h*h)/(s*s*p*p+o*o*h*h))||0,m=v*s*p/o,g=v*-o*h/s,y=(e+i)/2+vg(d)*m-fg(d)*g,_=(t+a)/2+fg(d)*m+vg(d)*g,b=_g([1,0],[(h-m)/s,(p-g)/o]),x=[(h-m)/s,(p-g)/o],w=[(-1*h-m)/s,(-1*p-g)/o],S=_g(x,w);yg(x,w)<=-1&&(S=mg),yg(x,w)>=1&&(S=0),0===r&&S>0&&(S-=2*mg),1===r&&0>S&&(S+=2*mg),u.addData(c,y,_,s,o,b,S,d,r)}function nn(e){if(!e)return new Km;for(var t,i=0,a=0,n=i,r=a,s=new Km,o=Km.CMD,l=e.match(bg),c=0;c<l.length;c++){for(var u,d=l[c],h=d.charAt(0),p=d.match(xg)||[],f=p.length,v=0;f>v;v++)p[v]=parseFloat(p[v]);for(var m=0;f>m;){var g,y,_,b,x,w,S,C=i,I=a;switch(h){case"l":i+=p[m++],a+=p[m++],u=o.L,s.addData(u,i,a);break;case"L":i=p[m++],a=p[m++],u=o.L,s.addData(u,i,a);break;case"m":i+=p[m++],a+=p[m++],u=o.M,s.addData(u,i,a),n=i,r=a,h="l";break;case"M":i=p[m++],a=p[m++],u=o.M,s.addData(u,i,a),n=i,r=a,h="L";break;case"h":i+=p[m++],u=o.L,s.addData(u,i,a);break;case"H":i=p[m++],u=o.L,s.addData(u,i,a);break;case"v":a+=p[m++],u=o.L,s.addData(u,i,a);break;case"V":a=p[m++],u=o.L,s.addData(u,i,a);break;case"C":u=o.C,s.addData(u,p[m++],p[m++],p[m++],p[m++],p[m++],p[m++]),i=p[m-2],a=p[m-1];break;case"c":u=o.C,s.addData(u,p[m++]+i,p[m++]+a,p[m++]+i,p[m++]+a,p[m++]+i,p[m++]+a),i+=p[m-2],a+=p[m-1];break;case"S":g=i,y=a;var k=s.len(),O=s.data;t===o.C&&(g+=i-O[k-4],y+=a-O[k-3]),u=o.C,C=p[m++],I=p[m++],i=p[m++],a=p[m++],s.addData(u,g,y,C,I,i,a);break;case"s":g=i,y=a,k=s.len(),O=s.data,t===o.C&&(g+=i-O[k-4],y+=a-O[k-3]),u=o.C,C=i+p[m++],I=a+p[m++],i+=p[m++],a+=p[m++],s.addData(u,g,y,C,I,i,a);break;case"Q":C=p[m++],I=p[m++],i=p[m++],a=p[m++],u=o.Q,s.addData(u,C,I,i,a);break;case"q":C=p[m++]+i,I=p[m++]+a,i+=p[m++],a+=p[m++],u=o.Q,s.addData(u,C,I,i,a);break;case"T":g=i,y=a,k=s.len(),O=s.data,t===o.Q&&(g+=i-O[k-4],y+=a-O[k-3]),i=p[m++],a=p[m++],u=o.Q,s.addData(u,g,y,i,a);break;case"t":g=i,y=a,k=s.len(),O=s.data,t===o.Q&&(g+=i-O[k-4],y+=a-O[k-3]),i+=p[m++],a+=p[m++],u=o.Q,s.addData(u,g,y,i,a);break;case"A":_=p[m++],b=p[m++],x=p[m++],w=p[m++],S=p[m++],an(C=i,I=a,i=p[m++],a=p[m++],w,S,_,b,x,u=o.A,s);break;case"a":_=p[m++],b=p[m++],x=p[m++],w=p[m++],S=p[m++],an(C=i,I=a,i+=p[m++],a+=p[m++],w,S,_,b,x,u=o.A,s)}}("z"===h||"Z"===h)&&(u=o.Z,s.addData(u),i=n,a=r),t=u}return s.toStatic(),s}function rn(e,t){var i=nn(e);return(t=t||{}).buildPath=function(e){if(e.setData)e.setData(i.data),(t=e.getContext())&&e.rebuildPath(t);else{var t=e;i.rebuildPath(t)}},t.applyTransform=function(e){hg(i,e),this.dirty(!0)},t}function sn(e,t){return new tn(rn(e,t))}function on(e,t){return tn.extend(rn(e,t))}function ln(e,t){for(var i=[],a=e.length,n=0;a>n;n++){var r=e[n];r.path||r.createPathProxy(),r.__dirtyPath&&r.buildPath(r.path,r.shape,!0),i.push(r.path)}var s=new tn(t);return s.createPathProxy(),s.buildPath=function(e){e.appendPath(i);var t=e.getContext();t&&e.rebuildPath(t)},s}function cn(e,t,i,a,n,r,s){var o=.5*(i-e),l=.5*(a-t);return(2*(t-i)+o+l)*s+(-3*(t-i)-2*o-l)*r+o*n+t}function un(e,t,i){var a=t.points,n=t.smooth;if(a&&a.length>=2){if(n&&"spline"!==n){var r=Pg(a,n,i,t.smoothConstraint);e.moveTo(a[0][0],a[0][1]);for(var s=a.length,o=0;(i?s:s-1)>o;o++){var l=r[2*o],c=r[2*o+1],u=a[(o+1)%s];e.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{"spline"===n&&(a=Tg(a,i)),e.moveTo(a[0][0],a[0][1]),o=1;for(var d=a.length;d>o;o++)e.lineTo(a[o][0],a[o][1])}i&&e.closePath()}}function dn(e,t,i){if(t){var a=t.x1,n=t.x2,r=t.y1,s=t.y2;e.x1=a,e.x2=n,e.y1=r,e.y2=s;var o=i&&i.lineWidth;o&&(Lg(2*a)===Lg(2*n)&&(e.x1=e.x2=pn(a,o,!0)),Lg(2*r)===Lg(2*s)&&(e.y1=e.y2=pn(r,o,!0)))}}function hn(e,t,i){if(t){var a=t.x,n=t.y,r=t.width,s=t.height;e.x=a,e.y=n,e.width=r,e.height=s;var o=i&&i.lineWidth;o&&(e.x=pn(a,o,!0),e.y=pn(n,o,!0),e.width=Math.max(pn(a+r,o,!1)-e.x,0===r?0:1),e.height=Math.max(pn(n+s,o,!1)-e.y,0===s?0:1))}}function pn(e,t,i){if(!t)return e;var a=Lg(2*e);return(a+Lg(t))%2==0?a/2:(a+(i?1:-1))/2}function fn(e,t,i){var a=e.cpx2,n=e.cpy2;return null===a||null===n?[(i?Ia:Ca)(e.x1,e.cpx1,e.cpx2,e.x2,t),(i?Ia:Ca)(e.y1,e.cpy1,e.cpy2,e.y2,t)]:[(i?Ma:Da)(e.x1,e.cpx1,e.x2,t),(i?Ma:Da)(e.y1,e.cpy1,e.y2,t)]}function vn(e){Oi.call(this,e),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function mn(e){return tn.extend(e)}function gn(e,t){return on(e,t)}function yn(e,t){ey[e]=t}function _n(e){return ey.hasOwnProperty(e)?ey[e]:void 0}function bn(e,t,i,a){var n=sn(e,t);return i&&("center"===a&&(i=wn(i,n.getBoundingRect())),Sn(n,i)),n}function xn(e,t,i){var a=new Ti({style:{image:e,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(e){if("center"===i){var n={width:e.width,height:e.height};a.setStyle(wn(t,n))}}});return a}function wn(e,t){var i,a=t.width/t.height,n=e.height*a;return i=n<=e.width?e.height:(n=e.width)/a,{x:e.x+e.width/2-n/2,y:e.y+e.height/2-i/2,width:n,height:i}}function Sn(e,t){if(e.applyTransform){var i=e.getBoundingRect().calculateTransform(t);e.applyTransform(i)}}function Cn(e){return dn(e.shape,e.shape,e.style),e}function In(e){return hn(e.shape,e.shape,e.style),e}function kn(e){return null!=e&&"none"!==e}function On(e){if("string"!=typeof e)return e;var t=ay.get(e);return t||(t=nt(e,-.1),1e4>ny&&(ay.set(e,t),ny++)),t}function Tn(e){if(e.__hoverStlDirty){e.__hoverStlDirty=!1;var t=e.__hoverStl;if(!t)return void(e.__cachedNormalStl=e.__cachedNormalZ2=null);var i=e.__cachedNormalStl={};e.__cachedNormalZ2=e.z2;var a=e.style;for(var n in t)null!=t[n]&&(i[n]=a[n]);i.fill=a.fill,i.stroke=a.stroke}}function Pn(e){var t=e.__hoverStl;if(t&&!e.__highlighted){var i=e.__zr,a=e.useHoverLayer&&i&&"canvas"===i.painter.type;if(e.__highlighted=a?"layer":"plain",!(e.isGroup||!i&&e.useHoverLayer)){var n=e,r=e.style;a&&(r=(n=i.addHover(e)).style),Jn(r),a||Tn(n),r.extendFrom(t),Dn(r,t,"fill"),Dn(r,t,"stroke"),Kn(r),a||(e.dirty(!1),e.z2+=Xg)}}}function Dn(e,t,i){!kn(t[i])&&kn(e[i])&&(e[i]=On(e[i]))}function Mn(e){var t=e.__highlighted;if(t&&(e.__highlighted=!1,!e.isGroup))if("layer"===t)e.__zr&&e.__zr.removeHover(e);else{var i=e.style,a=e.__cachedNormalStl;a&&(Jn(i),e.setStyle(a),Kn(i));var n=e.__cachedNormalZ2;null!=n&&e.z2-n===Xg&&(e.z2=n)}}function Ln(e,t,i){var a,n=Kg,r=Kg;e.__highlighted&&(n=Yg,a=!0),t(e,i),e.__highlighted&&(r=Yg,a=!0),e.isGroup&&e.traverse((function(e){!e.isGroup&&t(e,i)})),a&&e.__highDownOnUpdate&&e.__highDownOnUpdate(n,r)}function En(e,t){t=e.__hoverStl=!1!==t&&(e.hoverStyle||t||{}),e.__hoverStlDirty=!0,e.__highlighted&&(e.__cachedNormalStl=null,Mn(e),Pn(e))}function An(e){!Rn(this,e)&&!this.__highByOuter&&Ln(this,Pn)}function jn(e){!Rn(this,e)&&!this.__highByOuter&&Ln(this,Mn)}function Nn(e){this.__highByOuter|=1<<(e||0),Ln(this,Pn)}function Vn(e){!(this.__highByOuter&=~(1<<(e||0)))&&Ln(this,Mn)}function Rn(e,t){return e.__highDownSilentOnTouch&&t.zrByTouch}function Fn(e,t){$n(e,!0),Ln(e,En,t)}function $n(e,t){var i=!1===t;if(e.__highDownSilentOnTouch=e.highDownSilentOnTouch,e.__highDownOnUpdate=e.highDownOnUpdate,!i||e.__highDownDispatcher){var a=i?"off":"on";e[a]("mouseover",An)[a]("mouseout",jn),e[a]("emphasis",Nn)[a]("normal",Vn),e.__highByOuter=e.__highByOuter||0,e.__highDownDispatcher=!i}}function zn(e){return!(!e||!e.__highDownDispatcher)}function Bn(e){var t=Qg[e];return null==t&&32>=Jg&&(t=Qg[e]=Jg++),t}function Zn(e,t,i,a,n,r,s){var o,l=(n=n||Ug).labelFetcher,c=n.labelDataIndex,u=n.labelDimIndex,d=n.labelProp,h=i.getShallow("show"),p=a.getShallow("show");(h||p)&&(l&&(o=l.getFormattedLabel(c,"normal",null,u,d)),null==o&&(o=w(n.defaultText)?n.defaultText(c,n):n.defaultText));var f=h?o:null,v=p?D(l?l.getFormattedLabel(c,"emphasis",null,u,d):null,o):null;(null!=f||null!=v)&&(qn(e,i,r,n),qn(t,a,s,n,!0)),e.text=f,t.text=v}function Hn(e,t,i){var a=e.style;t&&(Jn(a),e.setStyle(t),Kn(a)),a=e.__hoverStl,i&&a&&(Jn(a),o(a,i),Kn(a))}function qn(e,t,i,a,n){return Un(e,t,a,n),i&&o(e,i),e}function Gn(e,t,i){var a,n={isRectText:!0};!1===i?a=!0:n.autoColor=i,Un(e,t,n,a)}function Un(e,t,i,a){if((i=i||Ug).isRectText){var n;i.getTextPosition?n=i.getTextPosition(t,a):"outside"===(n=t.getShallow("position")||(a?null:"inside"))&&(n="top"),e.textPosition=n,e.textOffset=t.getShallow("offset");var r=t.getShallow("rotate");null!=r&&(r*=Math.PI/180),e.textRotation=r,e.textDistance=D(t.getShallow("distance"),a?null:5)}var s,o=t.ecModel,l=o&&o.option.textStyle,c=Xn(t);if(c)for(var u in s={},c)if(c.hasOwnProperty(u)){var d=t.getModel(["rich",u]);Wn(s[u]={},d,l,i,a)}return e.rich=s,Wn(e,t,l,i,a,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),e}function Xn(e){for(var t;e&&e!==e.ecModel;){var i=(e.option||Ug).rich;if(i)for(var a in t=t||{},i)i.hasOwnProperty(a)&&(t[a]=1);e=e.parentModel}return t}function Wn(e,t,i,a,n,r){i=!n&&i||Ug,e.textFill=Yn(t.getShallow("color"),a)||i.color,e.textStroke=Yn(t.getShallow("textBorderColor"),a)||i.textBorderColor,e.textStrokeWidth=D(t.getShallow("textBorderWidth"),i.textBorderWidth),n||(r&&(e.insideRollbackOpt=a,Kn(e)),null==e.textFill&&(e.textFill=a.autoColor)),e.fontStyle=t.getShallow("fontStyle")||i.fontStyle,e.fontWeight=t.getShallow("fontWeight")||i.fontWeight,e.fontSize=t.getShallow("fontSize")||i.fontSize,e.fontFamily=t.getShallow("fontFamily")||i.fontFamily,e.textAlign=t.getShallow("align"),e.textVerticalAlign=t.getShallow("verticalAlign")||t.getShallow("baseline"),e.textLineHeight=t.getShallow("lineHeight"),e.textWidth=t.getShallow("width"),e.textHeight=t.getShallow("height"),e.textTag=t.getShallow("tag"),r&&a.disableBox||(e.textBackgroundColor=Yn(t.getShallow("backgroundColor"),a),e.textPadding=t.getShallow("padding"),e.textBorderColor=Yn(t.getShallow("borderColor"),a),e.textBorderWidth=t.getShallow("borderWidth"),e.textBorderRadius=t.getShallow("borderRadius"),e.textBoxShadowColor=t.getShallow("shadowColor"),e.textBoxShadowBlur=t.getShallow("shadowBlur"),e.textBoxShadowOffsetX=t.getShallow("shadowOffsetX"),e.textBoxShadowOffsetY=t.getShallow("shadowOffsetY")),e.textShadowColor=t.getShallow("textShadowColor")||i.textShadowColor,e.textShadowBlur=t.getShallow("textShadowBlur")||i.textShadowBlur,e.textShadowOffsetX=t.getShallow("textShadowOffsetX")||i.textShadowOffsetX,e.textShadowOffsetY=t.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function Yn(e,t){return"auto"!==e?e:t&&t.autoColor?t.autoColor:null}function Kn(e){var t,i=e.textPosition,a=e.insideRollbackOpt;if(a&&null==e.textFill){var n=a.autoColor,r=a.isRectText,s=a.useInsideStyle,o=!1!==s&&(!0===s||r&&i&&"string"==typeof i&&i.indexOf("inside")>=0),l=!o&&null!=n;(o||l)&&(t={textFill:e.textFill,textStroke:e.textStroke,textStrokeWidth:e.textStrokeWidth}),o&&(e.textFill="#fff",null==e.textStroke&&(e.textStroke=n,null==e.textStrokeWidth&&(e.textStrokeWidth=2))),l&&(e.textFill=n)}e.insideRollback=t}function Jn(e){var t=e.insideRollback;t&&(e.textFill=t.textFill,e.textStroke=t.textStroke,e.textStrokeWidth=t.textStrokeWidth,e.insideRollback=null)}function Qn(e,t){var i=t&&t.getModel("textStyle");return j([e.fontStyle||i&&i.getShallow("fontStyle")||"",e.fontWeight||i&&i.getShallow("fontWeight")||"",(e.fontSize||i&&i.getShallow("fontSize")||12)+"px",e.fontFamily||i&&i.getShallow("fontFamily")||"sans-serif"].join(" "))}function er(e,t,i,a,n,r){if("function"==typeof n&&(r=n,n=null),a&&a.isAnimationEnabled()){var s=e?"Update":"",o=a.getShallow("animationDuration"+s),l=a.getShallow("animationEasing"+s),c=a.getShallow("animationDelay"+s);"function"==typeof c&&(c=c(n,a.getAnimationDelayParams?a.getAnimationDelayParams(t,n):null)),"function"==typeof o&&(o=o(n)),o>0?t.animateTo(i,o,c||0,l,r,!!r):(t.stopAnimation(),t.attr(i),r&&r())}else t.stopAnimation(),t.attr(i),r&&r()}function tr(e,t,i,a,n){er(!0,e,t,i,a,n)}function ir(e,t,i,a,n){er(!1,e,t,i,a,n)}function ar(e,t){for(var i=je([]);e&&e!==t;)Ve(i,e.getLocalTransform(),i),e=e.parent;return i}function nr(e,t,i){return t&&!p(t)&&(t=Ef.getLocalTransform(t)),i&&(t=ze([],t)),se([],e,t)}function rr(e,t,i){var a=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),n=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),r=["left"===e?-a:"right"===e?a:0,"top"===e?-n:"bottom"===e?n:0];return r=nr(r,t,i),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function sr(e,t,i){function a(e){var t={};return e.traverse((function(e){!e.isGroup&&e.anid&&(t[e.anid]=e)})),t}function n(e){var t={position:H(e.position),rotation:e.rotation};return e.shape&&(t.shape=o({},e.shape)),t}if(e&&t){var r=a(e);t.traverse((function(e){if(!e.isGroup&&e.anid){var t=r[e.anid];if(t){var a=n(e);e.attr(n(t)),tr(e,a,i,e.dataIndex)}}}))}}function or(e,t){return v(e,(function(e){var i=e[0];i=qg(i,t.x),i=Gg(i,t.x+t.width);var a=e[1];return a=qg(a,t.y),[i,a=Gg(a,t.y+t.height)]}))}function lr(e,t){var i=qg(e.x,t.x),a=Gg(e.x+e.width,t.x+t.width),n=qg(e.y,t.y),r=Gg(e.y+e.height,t.y+t.height);return a>=i&&r>=n?{x:i,y:n,width:a-i,height:r-n}:void 0}function cr(e,t,i){var a=(t=o({rectHover:!0},t)).style={strokeNoScale:!0};return i=i||{x:-1,y:-1,width:2,height:2},e?0===e.indexOf("image://")?(a.image=e.slice(8),l(a,i),new Ti(t)):bn(e.replace("path://",""),t,i,"center"):void 0}function ur(e,t,i,a,n){for(var r=0,s=n[n.length-1];r<n.length;r++){var o=n[r];if(dr(e,t,i,a,o[0],o[1],s[0],s[1]))return!0;s=o}}function dr(e,t,i,a,n,r,s,o){var l=i-e,c=a-t,u=s-n,d=o-r,h=hr(u,d,l,c);if(pr(h))return!1;var p=e-n,f=t-r,v=hr(p,f,l,c)/h;if(0>v||v>1)return!1;var m=hr(p,f,u,d)/h;return!(0>m||m>1)}function hr(e,t,i,a){return e*a-i*t}function pr(e){return 1e-6>=e&&e>=-1e-6}function fr(e,t,i){this.parentModel=t,this.ecModel=i,this.option=e}function vr(e,t,i){for(var a=0;a<t.length&&(!t[a]||null!=(e=e&&"object"==typeof e?e[t[a]]:null));a++);return null==e&&i&&(e=i.get(t)),e}function mr(e,t){var i=dy(e).getParent;return i?i.call(e,t):e.parentModel}function gr(e){return[e||"",hy++,Math.random().toFixed(5)].join("_")}function yr(e){var t={};return e.registerSubTypeDefaulter=function(e,i){e=va(e),t[e.main]=i},e.determineSubType=function(i,a){var n=a.type;if(!n){var r=va(i).main;e.hasSubTypes(i)&&t[r]&&(n=t[r](a))}return n},e}function _r(e,t){function i(e){var i={},r=[];return f(e,(function(s){var o=a(i,s),l=n(o.originalDeps=t(s),e);o.entryCount=l.length,0===o.entryCount&&r.push(s),f(l,(function(e){u(o.predecessor,e)<0&&o.predecessor.push(e);var t=a(i,e);u(t.successor,e)<0&&t.successor.push(s)}))})),{graph:i,noEntryList:r}}function a(e,t){return e[t]||(e[t]={predecessor:[],successor:[]}),e[t]}function n(e,t){var i=[];return f(e,(function(e){u(t,e)>=0&&i.push(e)})),i}e.topologicalTravel=function(e,t,a,n){function r(e){l[e].entryCount--,0===l[e].entryCount&&c.push(e)}function s(e){u[e]=!0,r(e)}if(e.length){var o=i(t),l=o.graph,c=o.noEntryList,u={};for(f(e,(function(e){u[e]=!0}));c.length;){var d=c.pop(),h=l[d],p=!!u[d];p&&(a.call(n,d,h.originalDeps.slice()),delete u[d]),f(h.successor,p?s:r)}f(u,(function(){throw new Error("Circle dependency may exists")}))}}}function br(e){return e.replace(/^\s+|\s+$/g,"")}function xr(e,t,i,a){var n=t[1]-t[0],r=i[1]-i[0];if(0===n)return 0===r?i[0]:(i[0]+i[1])/2;if(a)if(n>0){if(e<=t[0])return i[0];if(e>=t[1])return i[1]}else{if(e>=t[0])return i[0];if(e<=t[1])return i[1]}else{if(e===t[0])return i[0];if(e===t[1])return i[1]}return(e-t[0])/n*r+i[0]}function wr(e,t){switch(e){case"center":case"middle":e="50%";break;case"left":case"top":e="0%";break;case"right":case"bottom":e="100%"}return"string"==typeof e?br(e).match(/%$/)?parseFloat(e)/100*t:parseFloat(e):null==e?NaN:+e}function Sr(e,t,i){return null==t&&(t=10),t=Math.min(Math.max(0,t),20),e=(+e).toFixed(t),i?e:+e}function Cr(e){return e.sort((function(e,t){return e-t})),e}function Ir(e){if(e=+e,isNaN(e))return 0;for(var t=1,i=0;Math.round(e*t)/t!==e;)t*=10,i++;return i}function kr(e){var t=e.toString(),i=t.indexOf("e");if(i>0){var a=+t.slice(i+1);return 0>a?-a:0}var n=t.indexOf(".");return 0>n?0:t.length-1-n}function Or(e,t){var i=Math.log,a=Math.LN10,n=Math.floor(i(e[1]-e[0])/a),r=Math.round(i(Math.abs(t[1]-t[0]))/a),s=Math.min(Math.max(-n+r,0),20);return isFinite(s)?s:20}function Tr(e,t,i){if(!e[t])return 0;var a=m(e,(function(e,t){return e+(isNaN(t)?0:t)}),0);if(0===a)return 0;for(var n=Math.pow(10,i),r=v(e,(function(e){return(isNaN(e)?0:e)/a*n*100})),s=100*n,o=v(r,(function(e){return Math.floor(e)})),l=m(o,(function(e,t){return e+t}),0),c=v(r,(function(e,t){return e-o[t]}));s>l;){for(var u=Number.NEGATIVE_INFINITY,d=null,h=0,p=c.length;p>h;++h)c[h]>u&&(u=c[h],d=h);++o[d],c[d]=0,++l}return o[t]/n}function Pr(e){var t=2*Math.PI;return(e%t+t)%t}function Dr(e){return e>-py&&py>e}function Mr(e){if(e instanceof Date)return e;if("string"==typeof e){var t=vy.exec(e);if(!t)return new Date(NaN);if(t[8]){var i=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(i-=t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,i,+(t[5]||0),+t[6]||0,+t[7]||0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,+t[7]||0)}return new Date(null==e?NaN:Math.round(e))}function Lr(e){return Math.pow(10,Er(e))}function Er(e){if(0===e)return 0;var t=Math.floor(Math.log(e)/Math.LN10);return e/Math.pow(10,t)>=10&&t++,t}function Ar(e,t){var i=Er(e),a=Math.pow(10,i),n=e/a;return e=(t?1.5>n?1:2.5>n?2:4>n?3:7>n?5:10:1>n?1:2>n?2:3>n?3:5>n?5:10)*a,i>=-20?+e.toFixed(0>i?-i:0):e}function jr(e,t){var i=(e.length-1)*t+1,a=Math.floor(i),n=+e[a-1],r=i-a;return r?n+r*(e[a]-n):n}function Nr(e){function t(e,i,a){return e.interval[a]<i.interval[a]||e.interval[a]===i.interval[a]&&(e.close[a]-i.close[a]==(a?-1:1)||!a&&t(e,i,1))}e.sort((function(e,i){return t(e,i,0)?-1:1}));for(var i=-1/0,a=1,n=0;n<e.length;){for(var r=e[n].interval,s=e[n].close,o=0;2>o;o++)r[o]<=i&&(r[o]=i,s[o]=o?1:1-a),i=r[o],a=s[o];r[0]===r[1]&&s[0]*s[1]!=1?e.splice(n,1):n++}return e}function Vr(e){return e-parseFloat(e)>=0}function Rr(e){return isNaN(e)?"-":(e=(e+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function Fr(e,t){return e=(e||"").toLowerCase().replace(/-(.)/g,(function(e,t){return t.toUpperCase()})),t&&e&&(e=e.charAt(0).toUpperCase()+e.slice(1)),e}function $r(e){return null==e?"":(e+"").replace(yy,(function(e,t){return _y[t]}))}function zr(e,t,i){x(t)||(t=[t]);var a=t.length;if(!a)return"";for(var n=t[0].$vars||[],r=0;r<n.length;r++){var s=by[r];e=e.replace(xy(s),xy(s,0))}for(var o=0;a>o;o++)for(var l=0;l<n.length;l++){var c=t[o][n[l]];e=e.replace(xy(by[l],o),i?$r(c):c)}return e}function Br(e,t,i){return f(t,(function(t,a){e=e.replace("{"+a+"}",i?$r(t):t)})),e}function Zr(e,t){var i=(e=S(e)?{color:e,extraCssText:t}:e||{}).color,a=e.type,n=(t=e.extraCssText,e.renderMode||"html"),r=e.markerId||"X";return i?"html"===n?"subItem"===a?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+$r(i)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+$r(i)+";"+(t||"")+'"></span>':{renderMode:n,content:"{marker"+r+"|}  ",style:{color:i}}:""}function Hr(e,t){return"0000".substr(0,t-(e+="").length)+e}function qr(e,t,i){("week"===e||"month"===e||"quarter"===e||"half-year"===e||"year"===e)&&(e="MM-dd\nyyyy");var a=Mr(t),n=i?"UTC":"",r=a["get"+n+"FullYear"](),s=a["get"+n+"Month"]()+1,o=a["get"+n+"Date"](),l=a["get"+n+"Hours"](),c=a["get"+n+"Minutes"](),u=a["get"+n+"Seconds"](),d=a["get"+n+"Milliseconds"]();return e.replace("MM",Hr(s,2)).replace("M",s).replace("yyyy",r).replace("yy",r%100).replace("dd",Hr(o,2)).replace("d",o).replace("hh",Hr(l,2)).replace("h",l).replace("mm",Hr(c,2)).replace("m",c).replace("ss",Hr(u,2)).replace("s",u).replace("SSS",Hr(d,3))}function Gr(e){return e?e.charAt(0).toUpperCase()+e.substr(1):e}function Ur(e){return Gt(e.text,e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich,e.truncate)}function Xr(e,t,i,a,n,r,s,o){return Gt(e,t,i,a,n,o,r,s)}function Wr(e,t){if("_blank"===t||"blank"===t){var i=window.open();i.opener=null,i.location=e}else window.open(e,t)}function Yr(e,t,i,a,n){var r=0,s=0;null==a&&(a=1/0),null==n&&(n=1/0);var o=0;t.eachChild((function(l,c){var u,d,h=l.position,p=l.getBoundingRect(),f=t.childAt(c+1),v=f&&f.getBoundingRect();if("horizontal"===e){var m=p.width+(v?-v.x+p.x:0);(u=r+m)>a||l.newline?(r=0,u=m,s+=o+i,o=p.height):o=Math.max(o,p.height)}else{var g=p.height+(v?-v.y+p.y:0);(d=s+g)>n||l.newline?(r+=o+i,s=0,d=g,o=p.width):o=Math.max(o,p.width)}l.newline||(h[0]=r,h[1]=s,"horizontal"===e?r=u+i:s=d+i)}))}function Kr(e,t,i){i=gy(i||0);var a=t.width,n=t.height,r=wr(e.left,a),s=wr(e.top,n),o=wr(e.right,a),l=wr(e.bottom,n),c=wr(e.width,a),u=wr(e.height,n),d=i[2]+i[0],h=i[1]+i[3],p=e.aspect;switch(isNaN(c)&&(c=a-o-h-r),isNaN(u)&&(u=n-l-d-s),null!=p&&(isNaN(c)&&isNaN(u)&&(p>a/n?c=.8*a:u=.8*n),isNaN(c)&&(c=p*u),isNaN(u)&&(u=c/p)),isNaN(r)&&(r=a-o-c-h),isNaN(s)&&(s=n-l-u-d),e.left||e.right){case"center":r=a/2-c/2-i[3];break;case"right":r=a-c-h}switch(e.top||e.bottom){case"middle":case"center":s=n/2-u/2-i[0];break;case"bottom":s=n-u-d}r=r||0,s=s||0,isNaN(c)&&(c=a-h-r-(o||0)),isNaN(u)&&(u=n-d-s-(l||0));var f=new Ot(r+i[3],s+i[0],c,u);return f.margin=i,f}function Jr(e,t,i,a,n){var r=!n||!n.hv||n.hv[0],s=!n||!n.hv||n.hv[1],o=n&&n.boundingMode||"all";if(r||s){var c;if("raw"===o)c="group"===e.type?new Ot(0,0,+t.width||0,+t.height||0):e.getBoundingRect();else if(c=e.getBoundingRect(),e.needLocalTransform()){var u=e.getLocalTransform();(c=c.clone()).applyTransform(u)}t=Kr(l({width:c.width,height:c.height},t),i,a);var d=e.position,h=r?t.x-c.x:0,p=s?t.y-c.y:0;e.attr("position","raw"===o?[h,p]:[d[0]+h,d[1]+p])}}function Qr(e,t,i){function a(i,a){var s={},l=0,c={},u=0,d=2;if(Cy(i,(function(t){c[t]=e[t]})),Cy(i,(function(e){n(t,e)&&(s[e]=c[e]=t[e]),r(s,e)&&l++,r(c,e)&&u++})),o[a])return r(t,i[1])?c[i[2]]=null:r(t,i[2])&&(c[i[1]]=null),c;if(u!==d&&l){if(l>=d)return s;for(var h=0;h<i.length;h++){var p=i[h];if(!n(s,p)&&n(e,p)){s[p]=e[p];break}}return s}return c}function n(e,t){return e.hasOwnProperty(t)}function r(e,t){return null!=e[t]&&"auto"!==e[t]}function s(e,t,i){Cy(e,(function(e){t[e]=i[e]}))}!C(i)&&(i={});var o=i.ignoreSize;!x(o)&&(o=[o,o]);var l=a(ky[0],0),c=a(ky[1],1);s(ky[0],e,l),s(ky[1],e,c)}function es(e){return ts({},e)}function ts(e,t){return t&&e&&Cy(Iy,(function(i){t.hasOwnProperty(i)&&(e[i]=t[i])})),e}function is(e){var t=[];return f(Dy.getClassesByMainType(e),(function(e){t=t.concat(e.prototype.dependencies||[])})),t=v(t,(function(e){return va(e).main})),"dataset"!==e&&u(t,"dataset")<=0&&t.unshift("dataset"),t}function as(e,t){for(var i=e.length,a=0;i>a;a++)if(e[a].length>t)return e[a];return e[i-1]}function ns(e){this.fromDataset=e.fromDataset,this.data=e.data||(e.sourceFormat===Ry?{}:[]),this.sourceFormat=e.sourceFormat||Fy,this.seriesLayoutBy=e.seriesLayoutBy||zy,this.dimensionsDefine=e.dimensionsDefine,this.encodeDefine=e.encodeDefine&&F(e.encodeDefine),this.startIndex=e.startIndex||0,this.dimensionsDetectCount=e.dimensionsDetectCount}function rs(e){var t=e.option.source,i=Fy;if(k(t))i=$y;else if(x(t)){0===t.length&&(i=Ny);for(var a=0,n=t.length;n>a;a++){var r=t[a];if(null!=r){if(x(r)){i=Ny;break}if(C(r)){i=Vy;break}}}}else if(C(t)){for(var s in t)if(t.hasOwnProperty(s)&&p(t[s])){i=Ry;break}}else if(null!=t)throw new Error("Invalid data");Hy(e).sourceFormat=i}function ss(e){return Hy(e).source}function os(e){Hy(e).datasetMap=F()}function ls(e){var t=e.option,i=t.data,a=k(i)?$y:jy,n=!1,r=t.seriesLayoutBy,s=t.sourceHeader,o=t.dimensions,l=vs(e);if(l){var c=l.option;i=c.source,a=Hy(l).sourceFormat,n=!0,r=r||c.seriesLayoutBy,null==s&&(s=c.sourceHeader),o=o||c.dimensions}var u=cs(i,a,r,s,o);Hy(e).source=new ns({data:i,fromDataset:n,seriesLayoutBy:r,sourceFormat:a,dimensionsDefine:u.dimensionsDefine,startIndex:u.startIndex,dimensionsDetectCount:u.dimensionsDetectCount,encodeDefine:t.encode})}function cs(e,t,i,a,n){if(!e)return{dimensionsDefine:us(n)};var r,s;if(t===Ny)"auto"===a||null==a?ds((function(e){null!=e&&"-"!==e&&(S(e)?null==s&&(s=1):s=0)}),i,e,10):s=a?1:0,n||1!==s||(n=[],ds((function(e,t){n[t]=null!=e?e:""}),i,e)),r=n?n.length:i===By?e.length:e[0]?e[0].length:null;else if(t===Vy)n||(n=hs(e));else if(t===Ry)n||(n=[],f(e,(function(e,t){n.push(t)})));else if(t===jy){var o=ia(e[0]);r=x(o)&&o.length||1}else t===$y&&Hp&&A(!!n,"dimensions must be given if data is TypedArray.");return{startIndex:s,dimensionsDefine:us(n),dimensionsDetectCount:r}}function us(e){if(e){var t=F();return v(e,(function(e){if(null==(e=o({},C(e)?e:{name:e})).name)return e;e.name+="",null==e.displayName&&(e.displayName=e.name);var i=t.get(e.name);return i?e.name+="-"+i.count++:t.set(e.name,{count:1}),e}))}}function ds(e,t,i,a){if(null==a&&(a=1/0),t===By)for(var n=0;n<i.length&&a>n;n++)e(i[n]?i[n][0]:null,n);else{var r=i[0]||[];for(n=0;n<r.length&&a>n;n++)e(r[n],n)}}function hs(e){for(var t,i=0;i<e.length&&!(t=e[i++]););if(t){var a=[];return f(t,(function(e,t){a.push(t)})),a}}function ps(e,t,i){function a(e,t,i){for(var a=0;i>a;a++)e.push(t+a)}function n(e){var t=e.dimsDef;return t?t.length:1}var r={},s=vs(t);if(!s||!e)return r;var o,l,c=[],u=[],d=t.ecModel,h=Hy(d).datasetMap,p=s.uid+"_"+i.seriesLayoutBy;f(e=e.slice(),(function(t,i){!C(t)&&(e[i]={name:t}),"ordinal"===t.type&&null==o&&(o=i,l=n(e[i])),r[t.name]=[]}));var v=h.get(p)||h.set(p,{categoryWayDim:l,valueWayDim:0});return f(e,(function(e,t){var i=e.name,s=n(e);if(null==o){var l=v.valueWayDim;a(r[i],l,s),a(u,l,s),v.valueWayDim+=s}else o===t?(a(r[i],0,s),a(c,0,s)):(l=v.categoryWayDim,a(r[i],l,s),a(u,l,s),v.categoryWayDim+=s)})),c.length&&(r.itemName=c),u.length&&(r.seriesName=u),r}function fs(e,t,i){var a={};if(!vs(e))return a;var n,r=t.sourceFormat,s=t.dimensionsDefine;(r===Vy||r===Ry)&&f(s,(function(e,t){"name"===(C(e)?e.name:e)&&(n=t)}));var o=function(){function e(e){return null!=e.v&&null!=e.n}for(var a={},o={},l=[],c=0,u=Math.min(5,i);u>c;c++){var d=gs(t.data,r,t.seriesLayoutBy,s,t.startIndex,c);l.push(d);var h=d===Zy.Not;if(h&&null==a.v&&c!==n&&(a.v=c),(null==a.n||a.n===a.v||!h&&l[a.n]===Zy.Not)&&(a.n=c),e(a)&&l[a.n]!==Zy.Not)return a;h||(d===Zy.Might&&null==o.v&&c!==n&&(o.v=c),(null==o.n||o.n===o.v)&&(o.n=c))}return e(a)?a:e(o)?o:null}();if(o){a.value=o.v;var l=null!=n?n:o.n;a.itemName=[l],a.seriesName=[l]}return a}function vs(e){var t=e.option;return t.data?void 0:e.ecModel.getComponent("dataset",t.datasetIndex||0)}function ms(e,t){return gs(e.data,e.sourceFormat,e.seriesLayoutBy,e.dimensionsDefine,e.startIndex,t)}function gs(e,t,i,a,n,r){function s(e){var t=S(e);return null!=e&&isFinite(e)&&""!==e?t?Zy.Might:Zy.Not:t&&"-"!==e?Zy.Must:void 0}var o,l,c,u=5;if(k(e))return Zy.Not;if(a){var d=a[r];C(d)?(l=d.name,c=d.type):S(d)&&(l=d)}if(null!=c)return"ordinal"===c?Zy.Must:Zy.Not;if(t===Ny)if(i===By){for(var h=e[r],p=0;p<(h||[]).length&&u>p;p++)if(null!=(o=s(h[n+p])))return o}else for(p=0;p<e.length&&u>p;p++){var f=e[n+p];if(f&&null!=(o=s(f[r])))return o}else if(t===Vy){if(!l)return Zy.Not;for(p=0;p<e.length&&u>p;p++)if((v=e[p])&&null!=(o=s(v[l])))return o}else if(t===Ry){if(!l)return Zy.Not;if(!(h=e[l])||k(h))return Zy.Not;for(p=0;p<h.length&&u>p;p++)if(null!=(o=s(h[p])))return o}else if(t===jy)for(p=0;p<e.length&&u>p;p++){var v,m=ia(v=e[p]);if(!x(m))return Zy.Not;if(null!=(o=s(m[r])))return o}return Zy.Not}function ys(e,t){if(t){var i=t.seiresIndex,a=t.seriesId,n=t.seriesName;return null!=i&&e.componentIndex!==i||null!=a&&e.id!==a||null!=n&&e.name!==n}}function _s(e,t){var i=e.color&&!e.colorLayer;f(t,(function(t,a){"colorLayer"===a&&i||Dy.hasClass(a)||("object"==typeof t?e[a]=e[a]?r(e[a],t,!1):n(t):null==e[a]&&(e[a]=t))}))}function bs(e){e=e,this.option={},this.option[qy]=1,this._componentsMap=F({series:[]}),this._seriesIndices,this._seriesIndicesMap,_s(e,this._theme.option),r(e,Ly,!1),this.mergeOption(e)}function xs(e,t){x(t)||(t=t?[t]:[]);var i={};return f(t,(function(t){i[t]=(e.get(t)||[]).slice()})),i}function ws(e,t,i){return t.type?t.type:i?i.subType:Dy.determineSubType(e,t)}function Ss(e,t){e._seriesIndicesMap=F(e._seriesIndices=v(t,(function(e){return e.componentIndex}))||[])}function Cs(e,t){return t.hasOwnProperty("subType")?g(e,(function(e){return e.subType===t.subType})):e}function Is(e){if(Hp&&!e._seriesIndices)throw new Error("Option should contains series.")}function ks(e){f(Uy,(function(t){this[t]=_(e[t],e)}),this)}function Os(){this._coordinateSystems=[]}function Ts(e){this._api=e,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Ps(e,t,i){var a,n,r=[],s=[],o=e.timeline;if(e.baseOption&&(n=e.baseOption),(o||e.options)&&(n=n||{},r=(e.options||[]).slice()),e.media){n=n||{};var l=e.media;Wy(l,(function(e){e&&e.option&&(e.query?s.push(e):a||(a=e))}))}return n||(n=e),n.timeline||(n.timeline=o),Wy([n].concat(r).concat(v(s,(function(e){return e.option}))),(function(e){Wy(t,(function(t){t(e,i)}))})),{baseOption:n,timelineOptions:r,mediaDefault:a,mediaList:s}}function Ds(e,t,i){var a={width:t,height:i,aspectratio:t/i},n=!0;return f(e,(function(e,t){var i=t.match(Qy);if(i&&i[1]&&i[2]){var r=i[1],s=i[2].toLowerCase();Ms(a[s],e,r)||(n=!1)}})),n}function Ms(e,t,i){return"min"===i?e>=t:"max"===i?t>=e:e===t}function Ls(e,t){return e.join(",")===t.join(",")}function Es(e,t){Wy(t=t||{},(function(t,i){if(null!=t){var a=e[i];if(Dy.hasClass(i)){t=ea(t);var n=na(a=ea(a),t);e[i]=Ky(n,(function(e){return e.option&&e.exist?Jy(e.exist,e.option,!0):e.exist||e.option}))}else e[i]=Jy(a,t,!0)}}))}function As(e){var t=e&&e.itemStyle;if(t)for(var i=0,a=i_.length;a>i;i++){var n=i_[i],s=t.normal,o=t.emphasis;s&&s[n]&&(e[n]=e[n]||{},e[n].normal?r(e[n].normal,s[n]):e[n].normal=s[n],s[n]=null),o&&o[n]&&(e[n]=e[n]||{},e[n].emphasis?r(e[n].emphasis,o[n]):e[n].emphasis=o[n],o[n]=null)}}function js(e,t,i){if(e&&e[t]&&(e[t].normal||e[t].emphasis)){var a=e[t].normal,n=e[t].emphasis;a&&(i?(e[t].normal=e[t].emphasis=null,l(e[t],a)):e[t]=a),n&&(e.emphasis=e.emphasis||{},e.emphasis[t]=n)}}function Ns(e){js(e,"itemStyle"),js(e,"lineStyle"),js(e,"areaStyle"),js(e,"label"),js(e,"labelLine"),js(e,"upperLabel"),js(e,"edgeLabel")}function Vs(e,t){var i=t_(e)&&e[t],a=t_(i)&&i.textStyle;if(a)for(var n=0,r=um.length;r>n;n++)t=um[n],a.hasOwnProperty(t)&&(i[t]=a[t])}function Rs(e){e&&(Ns(e),Vs(e,"label"),e.emphasis&&Vs(e.emphasis,"label"))}function Fs(e){if(t_(e)){As(e),Ns(e),Vs(e,"label"),Vs(e,"upperLabel"),Vs(e,"edgeLabel"),e.emphasis&&(Vs(e.emphasis,"label"),Vs(e.emphasis,"upperLabel"),Vs(e.emphasis,"edgeLabel")),(i=e.markPoint)&&(As(i),Rs(i)),(a=e.markLine)&&(As(a),Rs(a));var t=e.markArea;t&&Rs(t);var i,a,n=e.data;if("graph"===e.type){n=n||e.nodes;var r=e.links||e.edges;if(r&&!k(r))for(var s=0;s<r.length;s++)Rs(r[s]);f(e.categories,(function(e){Ns(e)}))}if(n&&!k(n))for(s=0;s<n.length;s++)Rs(n[s]);if((i=e.markPoint)&&i.data){var o=i.data;for(s=0;s<o.length;s++)Rs(o[s])}if((a=e.markLine)&&a.data){var l=a.data;for(s=0;s<l.length;s++)x(l[s])?(Rs(l[s][0]),Rs(l[s][1])):Rs(l[s])}"gauge"===e.type?(Vs(e,"axisLabel"),Vs(e,"title"),Vs(e,"detail")):"treemap"===e.type?(js(e.breadcrumb,"itemStyle"),f(e.levels,(function(e){Ns(e)}))):"tree"===e.type&&Ns(e.leaves)}}function $s(e){return x(e)?e:e?[e]:[]}function zs(e){return(x(e)?e[0]:e)||{}}function Bs(e,t){t=t.split(",");for(var i=e,a=0;a<t.length&&null!=(i=i&&i[t[a]]);a++);return i}function Zs(e,t,i,a){t=t.split(",");for(var n,r=e,s=0;s<t.length-1;s++)null==r[n=t[s]]&&(r[n]={}),r=r[n];(a||null==r[t[s]])&&(r[t[s]]=i)}function Hs(e){f(n_,(function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])}))}function qs(e){f(e,(function(t,i){var a=[],n=[NaN,NaN],r=[t.stackResultDimension,t.stackedOverDimension],s=t.data,o=t.isStackedByIndex,l=s.map(r,(function(r,l,c){var u,d,h=s.get(t.stackedDimension,c);if(isNaN(h))return n;o?d=s.getRawIndex(c):u=s.get(t.stackedByDimension,c);for(var p=NaN,f=i-1;f>=0;f--){var v=e[f];if(o||(d=v.data.rawIndexOf(v.stackedByDimension,u)),d>=0){var m=v.data.getByRawIndex(v.stackResultDimension,d);if(h>=0&&m>0||0>=h&&0>m){h+=m,p=m;break}}}return a[0]=h,a[1]=p,a}));s.hostModel.setData(l),t.data=l}))}function Gs(e,t){ns.isInstance(e)||(e=ns.seriesDataToSource(e)),this._source=e;var i=this._data=e.data,a=e.sourceFormat;if(a===$y){if(Hp&&null==t)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=t,this._data=i}var n=c_[a===Ny?a+"_"+e.seriesLayoutBy:a];Hp&&A(n,"Invalide sourceFormat: "+a),o(this,n)}function Us(){return this._data.length}function Xs(e){return this._data[e]}function Ws(e){for(var t=0;t<e.length;t++)this._data.push(e[t])}function Ys(e,t,i){return null!=i?e[i]:e}function Ks(e,t,i,a){return Js(e[a],this._dimensionInfos[t])}function Js(e,t){var i=t&&t.type;if("ordinal"===i){var a=t&&t.ordinalMeta;return a?a.parseAndCollect(e):e}return"time"===i&&"number"!=typeof e&&null!=e&&"-"!==e&&(e=+Mr(e)),null==e||""===e?NaN:+e}function Qs(e,t,i){if(e){var a=e.getRawDataItem(t);if(null!=a){var n,r,s=e.getProvider().getSource().sourceFormat,o=e.getDimensionInfo(i);return o&&(n=o.name,r=o.index),u_[s](a,t,r,n)}}}function eo(e,t,i){if(e){var a=e.getProvider().getSource().sourceFormat;if(a===jy||a===Vy){var n=e.getRawDataItem(t);return a!==jy||C(n)||(n=null),n?n[i]:void 0}}}function to(e){return new io(e)}function io(e){e=e||{},this._reset=e.reset,this._plan=e.plan,this._count=e.count,this._onDirty=e.onDirty,this._dirty=!0,this.context}function ao(e,t,i,a,n,r){v_.reset(i,a,n,r),e._callingProgress=t,e._callingProgress({start:i,end:a,count:a-i,next:v_.next},e.context)}function no(e,t){var i,a;e._dueIndex=e._outputDueEnd=e._dueEnd=0,e._settedOutputEnd=null,!t&&e._reset&&((i=e._reset(e.context))&&i.progress&&(a=i.forceFirstProgress,i=i.progress),x(i)&&!i.length&&(i=null)),e._progress=i,e._modBy=e._modDataCount=null;var n=e._downstream;return n&&n.dirty(),a}function ro(e){var t=e.name;sa(e)||(e.name=so(e)||t)}function so(e){var t=e.getRawData(),i=t.mapDimension("seriesName",!0),a=[];return f(i,(function(e){var i=t.getDimensionInfo(e);i.displayName&&a.push(i.displayName)})),a.join(" ")}function oo(e){return e.model.getRawData().count()}function lo(e){var t=e.model;return t.setData(t.getRawData().cloneShallow()),co}function co(e,t){t.outputData&&e.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function uo(e,t){f(e.CHANGABLE_METHODS,(function(i){e.wrapMethod(i,b(ho,t))}))}function ho(e){var t=po(e);t&&t.setOutputEnd(this.count())}function po(e){var t=(e.ecModel||{}).scheduler,i=t&&t.getPipeline(e.uid);if(i){var a=i.currentTask;if(a){var n=a.agentStubMap;n&&(a=n.get(e.uid))}return a}}function fo(){this.group=new ov,this.uid=gr("viewChart"),this.renderTask=to({plan:go,reset:yo}),this.renderTask.context={view:this}}function vo(e,t,i){if(e&&(e.trigger(t,i),e.isGroup&&!zn(e)))for(var a=0,n=e.childCount();n>a;a++)vo(e.childAt(a),t,i)}function mo(e,t,i){var a=la(e,t),n=t&&null!=t.highlightKey?Bn(t.highlightKey):null;null!=a?f(ea(a),(function(t){vo(e.getItemGraphicEl(t),i,n)})):e.eachItemGraphicEl((function(e){vo(e,i,n)}))}function go(e){return w_(e.model)}function yo(e){var t=e.model,i=e.ecModel,a=e.api,n=e.payload,r=t.pipelineContext.progressiveRender,s=e.view,o=n&&x_(n).updateMethod,l=r?"incrementalPrepareRender":o&&s[o]?o:"render";return"render"!==l&&s[l](t,i,a,n),C_[l]}function _o(e,t,i){function a(){u=(new Date).getTime(),d=null,e.apply(s,o||[])}var n,r,s,o,l,c=0,u=0,d=null;t=t||0;var h=function(){n=(new Date).getTime(),s=this,o=arguments;var e=l||t,h=l||i;l=null,r=n-(h?c:u)-e,clearTimeout(d),h?d=setTimeout(a,e):r>=0?a():d=setTimeout(a,-r),c=n};return h.clear=function(){d&&(clearTimeout(d),d=null)},h.debounceNextCall=function(e){l=e},h}function bo(e,t,i,a){var n=e[t];if(n){var r=n[I_]||n,s=n[O_];if(n[k_]!==i||s!==a){if(null==i||!a)return e[t]=r;(n=e[t]=_o(r,i,"debounce"===a))[I_]=r,n[O_]=a,n[k_]=i}return n}}function xo(e,t){var i=e[t];i&&i[I_]&&(e[t]=i[I_])}function wo(e,t,i,a){this.ecInstance=e,this.api=t,this.unfinished,i=this._dataProcessorHandlers=i.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=i.concat(a),this._stageTaskMap=F()}function So(e,t,i,a,n){function r(e,t){return e.setDirty&&(!e.dirtyMap||e.dirtyMap.get(t.__pipeline.id))}var s;n=n||{},f(t,(function(t){if(!n.visualType||n.visualType===t.visualType){var o=e._stageTaskMap.get(t.uid),l=o.seriesTaskMap,c=o.overallTask;if(c){var u,d=c.agentStubMap;d.each((function(e){r(n,e)&&(e.dirty(),u=!0)})),u&&c.dirty(),A_(c,a);var h=e.getPerformArgs(c,n.block);d.each((function(e){e.perform(h)})),s|=c.perform(h)}else l&&l.each((function(o){r(n,o)&&o.dirty();var l=e.getPerformArgs(o,n.block);l.skip=!t.performRawSeries&&i.isSeriesFiltered(o.context.model),A_(o,a),s|=o.perform(l)}))}})),e.unfinished|=s}function Co(e,t,i,a,n){function r(i){var r=i.uid,o=s.get(r)||s.set(r,to({plan:Do,reset:Mo,count:Eo}));o.context={model:i,ecModel:a,api:n,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:e},Ao(e,i,o)}var s=i.seriesTaskMap||(i.seriesTaskMap=F()),o=t.seriesType,l=t.getTargetSeries;t.createOnAllSeries?a.eachRawSeries(r):o?a.eachRawSeriesByType(o,r):l&&l(a,n).each(r);var c=e._pipelineMap;s.each((function(e,t){c.get(t)||(e.dispose(),s.removeKey(t))}))}function Io(e,t,i,a,n){function r(t){var i=t.uid,a=o.get(i);a||(a=o.set(i,to({reset:Oo,onDirty:Po})),s.dirty()),a.context={model:t,overallProgress:u,modifyOutputEnd:d},a.agent=s,a.__block=u,Ao(e,t,a)}var s=i.overallTask=i.overallTask||to({reset:ko});s.context={ecModel:a,api:n,overallReset:t.overallReset,scheduler:e};var o=s.agentStubMap=s.agentStubMap||F(),l=t.seriesType,c=t.getTargetSeries,u=!0,d=t.modifyOutputEnd;l?a.eachRawSeriesByType(l,r):c?c(a,n).each(r):(u=!1,f(a.getSeries(),r));var h=e._pipelineMap;o.each((function(e,t){h.get(t)||(e.dispose(),s.dirty(),o.removeKey(t))}))}function ko(e){e.overallReset(e.ecModel,e.api,e.payload)}function Oo(e){return e.overallProgress&&To}function To(){this.agent.dirty(),this.getDownstream().dirty()}function Po(){this.agent&&this.agent.dirty()}function Do(e){return e.plan&&e.plan(e.model,e.ecModel,e.api,e.payload)}function Mo(e){e.useClearVisual&&e.data.clearAllVisual();var t=e.resetDefines=ea(e.reset(e.model,e.ecModel,e.api,e.payload));return t.length>1?v(t,(function(e,t){return Lo(t)})):j_}function Lo(e){return function(t,i){var a=i.data,n=i.resetDefines[e];if(n&&n.dataEach)for(var r=t.start;r<t.end;r++)n.dataEach(a,r);else n&&n.progress&&n.progress(t,a)}}function Eo(e){return e.data.count()}function Ao(e,t,i){var a=t.uid,n=e._pipelineMap.get(a);!n.head&&(n.head=i),n.tail&&n.tail.pipe(i),n.tail=i,i.__idxInPipeline=n.count++,i.__pipeline=n}function jo(e){N_=null;try{e(V_,R_)}catch(e){}return N_}function No(e,t){for(var i in t.prototype)e[i]=z}function Vo(e){for(S(e)&&(e=(new DOMParser).parseFromString(e,"text/xml")),9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}function Ro(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function Fo(e,t){for(var i=e.firstChild;i;){if(1===i.nodeType){var a=i.getAttribute("offset");a=a.indexOf("%")>0?parseInt(a,10)/100:a?parseFloat(a):0;var n=i.getAttribute("stop-color")||"#000000";t.addColorStop(a,n)}i=i.nextSibling}}function $o(e,t){e&&e.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),l(t.__inheritedStyle,e.__inheritedStyle))}function zo(e){for(var t=j(e).split(G_),i=[],a=0;a<t.length;a+=2){var n=parseFloat(t[a]),r=parseFloat(t[a+1]);i.push([n,r])}return i}function Bo(e,t,i,a){var n=t.__inheritedStyle||{},r="text"===t.type;if(1===e.nodeType&&(Ho(e,t),o(n,qo(e)),!a))for(var s in W_)if(W_.hasOwnProperty(s)){var l=e.getAttribute(s);null!=l&&(n[W_[s]]=l)}var c=r?"textFill":"fill",u=r?"textStroke":"stroke";t.style=t.style||new mv;var d=t.style;null!=n.fill&&d.set(c,Zo(n.fill,i)),null!=n.stroke&&d.set(u,Zo(n.stroke,i)),f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(e){var t="lineWidth"===e&&r?"textStrokeWidth":e;null!=n[e]&&d.set(t,parseFloat(n[e]))})),n.textBaseline&&"auto"!==n.textBaseline||(n.textBaseline="alphabetic"),"alphabetic"===n.textBaseline&&(n.textBaseline="bottom"),"start"===n.textAlign&&(n.textAlign="left"),"end"===n.textAlign&&(n.textAlign="right"),f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(e){null!=n[e]&&d.set(e,n[e])})),n.lineDash&&(t.style.lineDash=j(n.lineDash).split(G_)),d[u]&&"none"!==d[u]&&(t[u]=!0),t.__inheritedStyle=n}function Zo(e,t){var i=t&&e&&e.match(Y_);return i?t[j(i[1])]:e}function Ho(e,t){var i=e.getAttribute("transform");if(i){i=i.replace(/,/g," ");var a=null,n=[];i.replace(K_,(function(e,t,i){n.push(t,i)}));for(var r=n.length-1;r>0;r-=2){var s=n[r],o=n[r-1];switch(a=a||Ae(),o){case"translate":s=j(s).split(G_),Re(a,a,[parseFloat(s[0]),parseFloat(s[1]||0)]);break;case"scale":s=j(s).split(G_),$e(a,a,[parseFloat(s[0]),parseFloat(s[1]||s[0])]);break;case"rotate":s=j(s).split(G_),Fe(a,a,parseFloat(s[0]));break;case"skew":s=j(s).split(G_),console.warn("Skew transform is not supported yet");break;case"matrix":s=j(s).split(G_),a[0]=parseFloat(s[0]),a[1]=parseFloat(s[1]),a[2]=parseFloat(s[2]),a[3]=parseFloat(s[3]),a[4]=parseFloat(s[4]),a[5]=parseFloat(s[5])}}t.setLocalTransform(a)}}function qo(e){var t=e.getAttribute("style"),i={};if(!t)return i;var a,n={};for(J_.lastIndex=0;null!=(a=J_.exec(t));)n[a[1]]=a[2];for(var r in W_)W_.hasOwnProperty(r)&&null!=n[r]&&(i[W_[r]]=n[r]);return i}function Go(e,t,i){var a=t/e.width,n=i/e.height,r=Math.min(a,n);return{scale:[r,r],position:[-(e.x+e.width/2)*r+t/2,-(e.y+e.height/2)*r+i/2]}}function Uo(e,t){return function(i,a,n){return!t&&this._disposed?void ul(this.id):(i=i&&i.toLowerCase(),void mf.prototype[e].call(this,i,a,n))}}function Xo(){mf.call(this)}function Wo(e,t,a){function r(e,t){return e.__prio-t.__prio}a=a||{},"string"==typeof t&&(t=Tb[t]),this.id,this.group,this._dom=e;var s="canvas";Hp&&(s=("undefined"==typeof window?i.g:window).__ECHARTS__DEFAULT__RENDERER__||s);var o=this._zr=Wi(e,{renderer:a.renderer||s,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height});this._throttledZrFlush=_o(_(o.flush,o),17),(t=n(t))&&s_(t,!0),this._theme=t,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Os;var l=this._api=fl(this);jt(Ob,r),jt(Cb,r),this._scheduler=new wo(this,l,Cb,Ob),mf.call(this,this._ecEventProcessor=new vl),this._messageCenter=new Xo,this._initEvents(),this.resize=_(this.resize,this),this._pendingActions=[],o.animation.on("frame",this._onframe,this),al(o,this),N(this)}function Yo(e,t,i){if(this._disposed)ul(this.id);else{var a,n=this._model,r=this._coordSysMgr.getCoordinateSystems();t=ua(n,t);for(var s=0;s<r.length;s++){var o=r[s];if(o[e]&&null!=(a=o[e](n,t,i)))return a}Hp&&console.warn("No coordinate system that supports "+e+" found by the given finder.")}}function Ko(e){var t=e._model,i=e._scheduler;i.restorePipelines(t),i.prepareStageTasks(),nl(e,"component",t,i),nl(e,"chart",t,i),i.plan()}function Jo(e,t,i,a,n){function r(a){a&&a.__alive&&a[t]&&a[t](a.__model,s,e._api,i)}var s=e._model;if(a){var o={};o[a+"Id"]=i[a+"Id"],o[a+"Index"]=i[a+"Index"],o[a+"Name"]=i[a+"Name"];var l={mainType:a,query:o};n&&(l.subType=n);var c=i.excludeSeriesId;null!=c&&(c=F(ea(c))),s&&s.eachComponent(l,(function(t){c&&null!=c.get(t.id)||r(e["series"===a?"_chartsMap":"_componentsMap"][t.__viewId])}),e)}else ab(e._componentsViews.concat(e._chartsViews),r)}function Qo(e,t){var i=e._chartsMap,a=e._scheduler;t.eachSeries((function(e){a.updateStreamModes(e,i[e.__viewId])}))}function el(e,t){var i=e.type,a=e.escapeConnect,n=wb[i],r=n.actionInfo,s=(r.update||"update").split(":"),c=s.pop();s=null!=s[0]&&sb(s[0]),this[mb]=!0;var u=[e],d=!1;e.batch&&(d=!0,u=v(e.batch,(function(t){return(t=l(o({},t),e)).batch=null,t})));var h,p=[],f="highlight"===i||"downplay"===i;ab(u,(function(e){(h=(h=n.action(e,this._model,this._api))||o({},e)).type=r.event||h.type,p.push(h),f?Jo(this,c,e,"series"):s&&Jo(this,c,e,s.main,s.sub)}),this),"none"===c||f||s||(this[gb]?(Ko(this),bb.update.call(this,e),this[gb]=!1):bb[c].call(this,e)),h=d?{type:r.event||i,escapeConnect:a,batch:p}:p[0],this[mb]=!1,!t&&this._messageCenter.trigger(h.type,h)}function tl(e){for(var t=this._pendingActions;t.length;){var i=t.shift();el.call(this,i,e)}}function il(e){!e&&this.trigger("updated")}function al(e,t){e.on("rendered",(function(){t.trigger("rendered"),!e.animation.isFinished()||t[gb]||t._scheduler.unfinished||t._pendingActions.length||t.trigger("finished")}))}function nl(e,t,i,a){function n(e){var t="_ec_"+e.id+"_"+e.type,n=o[t];if(!n){var u=sb(e.type),d=r?y_.getClass(u.main,u.sub):fo.getClass(u.sub);Hp&&ib(d,u.sub+" does not exist."),(n=new d).init(i,c),o[t]=n,s.push(n),l.add(n.group)}e.__viewId=n.__id=t,n.__alive=!0,n.__model=e,n.group.__ecComponentInfo={mainType:e.mainType,index:e.componentIndex},!r&&a.prepareView(n,e,i,c)}for(var r="component"===t,s=r?e._componentsViews:e._chartsViews,o=r?e._componentsMap:e._chartsMap,l=e._zr,c=e._api,u=0;u<s.length;u++)s[u].__alive=!1;for(r?i.eachComponent((function(e,t){"series"!==e&&n(t)})):i.eachSeries(n),u=0;u<s.length;){var d=s[u];d.__alive?u++:(!r&&d.renderTask.dispose(),l.remove(d.group),d.dispose(i,c),s.splice(u,1),delete o[d.__id],d.__id=d.group.__ecComponentInfo=null)}}function rl(e){e.clearColorPalette(),e.eachSeries((function(e){e.clearColorPalette()}))}function sl(e,t,i,a){ol(e,t,i,a),ab(e._chartsViews,(function(e){e.__alive=!1})),ll(e,t,i,a),ab(e._chartsViews,(function(e){e.__alive||e.remove(t,i)}))}function ol(e,t,i,a,n){ab(n||e._componentsViews,(function(e){var n=e.__model;e.render(n,t,i,a),pl(n,e)}))}function ll(e,t,i,a,n){var r,s=e._scheduler;t.eachSeries((function(t){var i=e._chartsMap[t.__viewId];i.__alive=!0;var o=i.renderTask;s.updatePayload(o,a),n&&n.get(t.uid)&&o.dirty(),r|=o.perform(s.getPerformArgs(o)),i.group.silent=!!t.get("silent"),pl(t,i),hl(t,i)})),s.unfinished|=r,dl(e,t),D_(e._zr.dom,t)}function cl(e,t){ab(kb,(function(i){i(e,t)}))}function ul(e){Hp&&console.warn("Instance "+e+" has been disposed")}function dl(e,t){var i=e._zr.storage,a=0;i.traverse((function(){a++})),a>t.get("hoverLayerThreshold")&&!Up.node&&t.eachSeries((function(t){if(!t.preventUsingHoverLayer){var i=e._chartsMap[t.__viewId];i.__alive&&i.group.traverse((function(e){e.useHoverLayer=!0}))}}))}function hl(e,t){var i=e.get("blendMode")||null;Hp&&!Up.canvasSupported&&i&&"source-over"!==i&&console.warn("Only canvas support blendMode"),t.group.traverse((function(e){e.isGroup||e.style.blend!==i&&e.setStyle("blend",i),e.eachPendingDisplayable&&e.eachPendingDisplayable((function(e){e.setStyle("blend",i)}))}))}function pl(e,t){var i=e.get("z"),a=e.get("zlevel");t.group.traverse((function(e){"group"!==e.type&&(null!=i&&(e.z=i),null!=a&&(e.zlevel=a))}))}function fl(e){var t=e._coordSysMgr;return o(new ks(e),{getCoordinateSystems:_(t.getCoordinateSystems,t),getComponentByElement:function(t){for(;t;){var i=t.__ecComponentInfo;if(null!=i)return e._model.getComponent(i.mainType,i.index);t=t.parent}}})}function vl(){this.eventInfo}function ml(e){function t(e,t){for(var i=0;i<e.length;i++)e[i][r]=t}var i=0,a=1,n=2,r="__connectUpdateStatus";ab(Sb,(function(s,o){e._messageCenter.on(o,(function(s){if(Mb[e.group]&&e[r]!==i){if(s&&s.escapeConnect)return;var o=e.makeActionFromEvent(s),l=[];ab(Db,(function(t){t!==e&&t.group===e.group&&l.push(t)})),t(l,i),ab(l,(function(e){e[r]!==a&&e.dispatchAction(o)})),t(l,n)}}))}))}function gl(e,t,i){if(Hp){if(am.replace(".","")-0<lb.zrender.replace(".","")-0)throw new Error("zrender/src "+am+" is too old for ECharts "+ob+". Current version need ZRender "+lb.zrender+"+");if(!e)throw new Error("Initialize failed: invalid dom.")}var a=xl(e);if(a)return Hp&&console.warn("There is a chart instance already initialized on the dom."),a;Hp&&(!O(e)||"CANVAS"===e.nodeName.toUpperCase()||(e.clientWidth||i&&null!=i.width)&&(e.clientHeight||i&&null!=i.height)||console.warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload."));var n=new Wo(e,t,i);return n.id="ec_"+Lb++,Db[n.id]=n,ha(e,Ab,n.id),ml(n),n}function yl(e){if(x(e)){var t=e;e=null,ab(t,(function(t){null!=t.group&&(e=t.group)})),e=e||"g_"+Eb++,ab(t,(function(t){t.group=e}))}return Mb[e]=!0,e}function _l(e){Mb[e]=!1}function bl(e){"string"==typeof e?e=Db[e]:e instanceof Wo||(e=xl(e)),e instanceof Wo&&!e.isDisposed()&&e.dispose()}function xl(e){return Db[pa(e,Ab)]}function wl(e){return Db[e]}function Sl(e,t){Tb[e]=t}function Cl(e){Ib.push(e)}function Il(e,t){Ll(Cb,e,t,ub)}function kl(e){kb.push(e)}function Ol(e,t,i){"function"==typeof t&&(i=t,t="");var a=rb(e)?e.type:[e,e={event:t}][0];e.event=(e.event||a).toLowerCase(),t=e.event,ib(yb.test(a)&&yb.test(t)),wb[a]||(wb[a]={action:i,actionInfo:e}),Sb[t]=a}function Tl(e,t){Os.register(e,t)}function Pl(e){var t=Os.get(e);return t?t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice():void 0}function Dl(e,t){Ll(Ob,e,t,hb,"layout")}function Ml(e,t){Ll(Ob,e,t,fb,"visual")}function Ll(e,t,i,a,n){if((nb(t)||rb(t))&&(i=t,t=a),Hp){if(isNaN(t)||null==t)throw new Error("Illegal priority");ab(e,(function(e){ib(e.__raw!==i)}))}var r=wo.wrapStageHandler(i,n);return r.__prio=t,r.__raw=i,e.push(r),r}function El(e,t){Pb[e]=t}function Al(e){return Dy.extend(e)}function jl(e){return y_.extend(e)}function Nl(e){return g_.extend(e)}function Vl(e){return fo.extend(e)}function Rl(e){a("createCanvas",e)}function Fl(e,t,i){eb.registerMap(e,t,i)}function $l(e){var t=eb.retrieveMap(e);return t&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}}function zl(e){return e}function Bl(e,t,i,a,n){this._old=e,this._new=t,this._oldKeyGetter=i||zl,this._newKeyGetter=a||zl,this.context=n}function Zl(e,t,i,a,n){for(var r=0;r<e.length;r++){var s="_ec_"+n[a](e[r],r),o=t[s];null==o?(i.push(s),t[s]=r):(o.length||(t[s]=o=[o]),o.push(r))}}function Hl(e){var t={},i=t.encode={},a=F(),n=[],r=[],s=t.userOutput={dimensionNames:e.dimensions.slice(),encode:{}};f(e.dimensions,(function(t){var o=e.getDimensionInfo(t),l=o.coordDim;if(l){Hp&&A(null==Vb.get(l));var c=o.coordDimIndex;ql(i,l)[c]=t,o.isExtraCoord||(a.set(l,1),Ul(o.type)&&(n[0]=t),ql(s.encode,l)[c]=o.index),o.defaultTooltip&&r.push(t)}Vb.each((function(e,t){var a=ql(i,t),n=o.otherDims[t];null!=n&&!1!==n&&(a[n]=o.name)}))}));var o=[],l={};a.each((function(e,t){var a=i[t];l[t]=a[0],o=o.concat(a)})),t.dataDimsOnCoord=o,t.encodeFirstDimNotExtra=l;var c=i.label;c&&c.length&&(n=c.slice());var u=i.tooltip;return u&&u.length?r=u.slice():r.length||(r=n.slice()),i.defaultedLabel=n,i.defaultedTooltip=r,t}function ql(e,t){return e.hasOwnProperty(t)||(e[t]=[]),e[t]}function Gl(e){return"category"===e?"ordinal":"time"===e?"time":"float"}function Ul(e){return!("ordinal"===e||"time"===e)}function Xl(e){null!=e&&o(this,e),this.otherDims={}}function Wl(e){return e._rawCount>65535?Zb:qb}function Yl(e){var t=e.constructor;return t===Array?e.slice():new t(e)}function Kl(e,t){f(Gb.concat(t.__wrappedMethods||[]),(function(i){t.hasOwnProperty(i)&&(e[i]=t[i])})),e.__wrappedMethods=t.__wrappedMethods,f(Ub,(function(i){e[i]=n(t[i])})),e._calculationInfo=o(t._calculationInfo)}function Jl(e,t,i,a,n){var r=Bb[t.type],s=a-1,o=t.name,l=e[o][s];if(l&&l.length<i){for(var c=new r(Math.min(n-s*i,i)),u=0;u<l.length;u++)c[u]=l[u];e[o][s]=c}for(var d=a*i;n>d;d+=i)e[o].push(new r(Math.min(n-d,i)))}function Ql(e){var t=e._invertedIndicesMap;f(t,(function(i,a){var n=e._dimensionInfos[a].ordinalMeta;if(n){i=t[a]=new Hb(n.categories.length);for(var r=0;r<i.length;r++)i[r]=$b;for(r=0;r<e._count;r++)i[e.get(a,r)]=r}}))}function ec(e,t,i){var a;if(null!=t){var n=e._chunkSize,r=Math.floor(i/n),s=i%n,o=e.dimensions[t],l=e._storage[o][r];if(l){a=l[s];var c=e._dimensionInfos[o].ordinalMeta;c&&c.categories.length&&(a=c.categories[a])}}return a}function tc(e){return e}function ic(e){return e<this._count&&e>=0?this._indices[e]:-1}function ac(e,t){var i=e._idList[t];return null==i&&(i=ec(e,e._idDimIdx,t)),null==i&&(i=zb+t),i}function nc(e){return x(e)||(e=[e]),e}function rc(e,t){for(var i=0;i<t.length;i++)e._dimensionInfos[t[i]]||console.error("Unkown dimension "+t[i])}function sc(e,t){var i=e.dimensions,a=new Xb(v(i,e.getDimensionInfo,e),e.hostModel);Kl(a,e);for(var n=a._storage={},r=e._storage,s=0;s<i.length;s++){var o=i[s];r[o]&&(u(t,o)>=0?(n[o]=oc(r[o]),a._rawExtent[o]=lc(),a._extent[o]=null):n[o]=r[o])}return a}function oc(e){for(var t=new Array(e.length),i=0;i<e.length;i++)t[i]=Yl(e[i]);return t}function lc(){return[1/0,-1/0]}function cc(e,t,i){function a(e,t,i){null!=Vb.get(t)?e.otherDims[t]=i:(e.coordDim=t,e.coordDimIndex=i,c.set(t,!0))}ns.isInstance(t)||(t=ns.seriesDataToSource(t)),i=i||{},e=(e||[]).slice();for(var r=(i.dimsDef||[]).slice(),s=F(),c=F(),u=[],d=uc(t,e,r,i.dimCount),h=0;d>h;h++){var p=r[h]=o({},C(r[h])?r[h]:{name:r[h]}),v=p.name,m=u[h]=new Xl;null!=v&&null==s.get(v)&&(m.name=m.displayName=v,s.set(v,h)),null!=p.type&&(m.type=p.type),null!=p.displayName&&(m.displayName=p.displayName)}var g=i.encodeDef;!g&&i.encodeDefaulter&&(g=i.encodeDefaulter(t,d)),(g=F(g)).each((function(e,t){if(1===(e=ea(e).slice()).length&&!S(e[0])&&e[0]<0)g.set(t,!1);else{var i=g.set(t,[]);f(e,(function(e,n){S(e)&&(e=s.get(e)),null!=e&&d>e&&(i[n]=e,a(u[e],t,n))}))}}));var y=0;f(e,(function(e){var t,i,r;if(S(e))t=e,e={};else{t=e.name;var s=e.ordinalMeta;e.ordinalMeta=null,(e=n(e)).ordinalMeta=s,i=e.dimsDef,r=e.otherDims,e.name=e.coordDim=e.coordDimIndex=e.dimsDef=e.otherDims=null}if(!1!==(o=g.get(t))){var o;if(!(o=ea(o)).length)for(var c=0;c<(i&&i.length||1);c++){for(;y<u.length&&null!=u[y].coordDim;)y++;y<u.length&&o.push(y++)}f(o,(function(n,s){var o=u[n];if(a(l(o,e),t,s),null==o.name&&i){var c=i[s];!C(c)&&(c={name:c}),o.name=o.displayName=c.name,o.defaultTooltip=c.defaultTooltip}r&&l(o.otherDims,r)}))}}));var _=i.generateCoord,b=i.generateCoordCount,x=null!=b;b=_?b||1:0;for(var w=_||"value",I=0;d>I;I++)null==(m=u[I]=u[I]||new Xl).coordDim&&(m.coordDim=dc(w,c,x),m.coordDimIndex=0,(!_||0>=b)&&(m.isExtraCoord=!0),b--),null==m.name&&(m.name=dc(m.coordDim,s)),null!=m.type||ms(t,I,m.name)!==Zy.Must&&(!m.isExtraCoord||null==m.otherDims.itemName&&null==m.otherDims.seriesName)||(m.type="ordinal");return u}function uc(e,t,i,a){var n=Math.max(e.dimensionsDetectCount||1,t.length,i.length,a||0);return f(t,(function(e){var t=e.dimsDef;t&&(n=Math.max(n,t.length))})),n}function dc(e,t,i){if(i||null!=t.get(e)){for(var a=0;null!=t.get(e+a);)a++;e+=a}return t.set(e,!0),e}function hc(e){this.coordSysName=e,this.coordSysDims=[],this.axisMap=F(),this.categoryAxisMap=F(),this.firstCategoryDimIndex=null}function pc(e){var t=e.get("coordinateSystem"),i=new hc(t),a=Jb[t];return a?(a(e,i,i.axisMap,i.categoryAxisMap),i):void 0}function fc(e){return"category"===e.get("type")}function vc(e,t,i){var a,n,r,s,o=(i=i||{}).byIndex,l=i.stackedCoordDimension,c=!(!e||!e.get("stack"));if(f(t,(function(e,i){S(e)&&(t[i]=e={name:e}),c&&!e.isExtraCoord&&(o||a||!e.ordinalMeta||(a=e),n||"ordinal"===e.type||"time"===e.type||l&&l!==e.coordDim||(n=e))})),!n||o||a||(o=!0),n){r="__\0ecstackresult",s="__\0ecstackedover",a&&(a.createInvertedIndices=!0);var u=n.coordDim,d=n.type,h=0;f(t,(function(e){e.coordDim===u&&h++})),t.push({name:r,coordDim:u,coordDimIndex:h,type:d,isExtraCoord:!0,isCalculationCoord:!0}),h++,t.push({name:s,coordDim:s,coordDimIndex:h,type:d,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:n&&n.name,stackedByDimension:a&&a.name,isStackedByIndex:o,stackedOverDimension:s,stackResultDimension:r}}function mc(e,t){return!!t&&t===e.getCalculationInfo("stackedDimension")}function gc(e,t){return mc(e,t)?e.getCalculationInfo("stackResultDimension"):t}function yc(e,t,i){i=i||{},ns.isInstance(e)||(e=ns.seriesDataToSource(e));var a,n=t.get("coordinateSystem"),r=Os.get(n),s=pc(t);s&&(a=v(s.coordSysDims,(function(e){var t={name:e},i=s.axisMap.get(e);if(i){var a=i.get("type");t.type=Gl(a)}return t}))),a||(a=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]);var o,l,c=Kb(e,{coordDimensions:a,generateCoord:i.generateCoord,encodeDefaulter:i.useEncodeDefaulter?b(ps,a,t):null});s&&f(c,(function(e,t){var i=e.coordDim,a=s.categoryAxisMap.get(i);a&&(null==o&&(o=t),e.ordinalMeta=a.getOrdinalMeta()),null!=e.otherDims.itemName&&(l=!0)})),l||null==o||(c[o].otherDims.itemName=0);var u=vc(t,c),d=new Xb(c,t);d.setCalculationInfo(u);var h=null!=o&&_c(e)?function(e,t,i,a){return a===o?i:this.defaultDimValueGetter(e,t,i,a)}:null;return d.hasItemOption=!1,d.initData(e,null,h),d}function _c(e){if(e.sourceFormat===jy){var t=bc(e.data||[]);return null!=t&&!x(ia(t))}}function bc(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}function xc(e){this._setting=e||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function wc(e){this.categories=e.categories||[],this._needCollect=e.needCollect,this._deduplication=e.deduplication,this._map}function Sc(e){return e._map||(e._map=F(e.categories))}function Cc(e){return C(e)&&null!=e.value?e.value:e+""}function Ic(e,t,i,a){var n={},r=e[1]-e[0],s=n.interval=Ar(r/t,!0);null!=i&&i>s&&(s=n.interval=i),null!=a&&s>a&&(s=n.interval=a);var o=n.intervalPrecision=kc(s);return Tc(n.niceTickExtent=[ix(Math.ceil(e[0]/s)*s,o),ix(Math.floor(e[1]/s)*s,o)],e),n}function kc(e){return kr(e)+2}function Oc(e,t,i){e[t]=Math.max(Math.min(e[t],i[1]),i[0])}function Tc(e,t){!isFinite(e[0])&&(e[0]=t[0]),!isFinite(e[1])&&(e[1]=t[1]),Oc(e,0,t),Oc(e,1,t),e[0]>e[1]&&(e[0]=e[1])}function Pc(e){return e.get("stack")||rx+e.seriesIndex}function Dc(e){return e.dim+e.index}function Mc(e,t){var i=[];return t.eachSeriesByType(e,(function(e){Vc(e)&&!Rc(e)&&i.push(e)})),i}function Lc(e){var t={};f(e,(function(e){var i=e.coordinateSystem.getBaseAxis();if("time"===i.type||"value"===i.type)for(var a=e.getData(),n=i.dim+"_"+i.index,r=a.mapDimension(i.dim),s=0,o=a.count();o>s;++s){var l=a.get(r,s);t[n]?t[n].push(l):t[n]=[l]}}));var i=[];for(var a in t)if(t.hasOwnProperty(a)){var n=t[a];if(n){n.sort((function(e,t){return e-t}));for(var r=null,s=1;s<n.length;++s){var o=n[s]-n[s-1];o>0&&(r=null===r?o:Math.min(r,o))}i[a]=r}}return i}function Ec(e){var t=Lc(e),i=[];return f(e,(function(e){var a,n=e.coordinateSystem.getBaseAxis(),r=n.getExtent();if("category"===n.type)a=n.getBandWidth();else if("value"===n.type||"time"===n.type){var s=n.dim+"_"+n.index,o=t[s],l=Math.abs(r[1]-r[0]),c=n.scale.getExtent(),u=Math.abs(c[1]-c[0]);a=o?l/u*o:l}else{var d=e.getData();a=Math.abs(r[1]-r[0])/d.count()}var h=wr(e.get("barWidth"),a),p=wr(e.get("barMaxWidth"),a),f=wr(e.get("barMinWidth")||1,a),v=e.get("barGap"),m=e.get("barCategoryGap");i.push({bandWidth:a,barWidth:h,barMaxWidth:p,barMinWidth:f,barGap:v,barCategoryGap:m,axisKey:Dc(n),stackId:Pc(e)})})),Ac(i)}function Ac(e){var t={};f(e,(function(e){var i=e.axisKey,a=e.bandWidth,n=t[i]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},r=n.stacks;t[i]=n;var s=e.stackId;r[s]||n.autoWidthCount++,r[s]=r[s]||{width:0,maxWidth:0};var o=e.barWidth;o&&!r[s].width&&(r[s].width=o,o=Math.min(n.remainedWidth,o),n.remainedWidth-=o);var l=e.barMaxWidth;l&&(r[s].maxWidth=l);var c=e.barMinWidth;c&&(r[s].minWidth=c);var u=e.barGap;null!=u&&(n.gap=u);var d=e.barCategoryGap;null!=d&&(n.categoryGap=d)}));var i={};return f(t,(function(e,t){i[t]={};var a=e.stacks,n=e.bandWidth,r=wr(e.categoryGap,n),s=wr(e.gap,1),o=e.remainedWidth,l=e.autoWidthCount,c=(o-r)/(l+(l-1)*s);c=Math.max(c,0),f(a,(function(e){var t=e.maxWidth,i=e.minWidth;if(e.width){var a=e.width;t&&(a=Math.min(a,t)),i&&(a=Math.max(a,i)),e.width=a,o-=a+s*a,l--}else a=c,t&&a>t&&(a=Math.min(t,o)),i&&i>a&&(a=i),a!==c&&(e.width=a,o-=a+s*a,l--)})),c=(o-r)/(l+(l-1)*s),c=Math.max(c,0);var u,d=0;f(a,(function(e){e.width||(e.width=c),u=e,d+=e.width*(1+s)})),u&&(d-=u.width*s);var h=-d/2;f(a,(function(e,a){i[t][a]=i[t][a]||{bandWidth:n,offset:h,width:e.width},h+=e.width*(1+s)}))})),i}function jc(e,t,i){if(e&&t){var a=e[Dc(t)];return null!=a&&null!=i&&(a=a[Pc(i)]),a}}function Nc(e,t){var i=Mc(e,t),a=Ec(i),n={};f(i,(function(e){var t=e.getData(),i=e.coordinateSystem,r=i.getBaseAxis(),s=Pc(e),o=a[Dc(r)][s],l=o.offset,c=o.width,u=i.getOtherAxis(r),d=e.get("barMinHeight")||0;n[s]=n[s]||[],t.setLayout({bandWidth:o.bandWidth,offset:l,size:c});for(var h=t.mapDimension(u.dim),p=t.mapDimension(r.dim),f=mc(t,h),v=u.isHorizontal(),m=Fc(r,u,f),g=0,y=t.count();y>g;g++){var _,b,x,w,S,C=t.get(h,g),I=t.get(p,g),k=C>=0?"p":"n",O=m;f&&(n[s][I]||(n[s][I]={p:m,n:m}),O=n[s][I][k]),v?(_=O,b=(S=i.dataToPoint([C,I]))[1]+l,x=S[0]-m,w=c,Math.abs(x)<d&&(x=(0>x?-1:1)*d),isNaN(x)||f&&(n[s][I][k]+=x)):(_=(S=i.dataToPoint([I,C]))[0]+l,b=O,x=c,w=S[1]-m,Math.abs(w)<d&&(w=(0>=w?-1:1)*d),isNaN(w)||f&&(n[s][I][k]+=w)),t.setItemLayout(g,{x:_,y:b,width:x,height:w})}}),this)}function Vc(e){return e.coordinateSystem&&"cartesian2d"===e.coordinateSystem.type}function Rc(e){return e.pipelineContext&&e.pipelineContext.large}function Fc(e,t){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}function $c(e,t){return Sx(e,xx(t))}function zc(e,t){var i,a,n,r=e.type,s=t.getMin(),o=t.getMax(),l=e.getExtent();"ordinal"===r?i=t.getCategories().length:(x(a=t.get("boundaryGap"))||(a=[a||0,a||0]),"boolean"==typeof a[0]&&(Hp&&console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),a=[0,0]),a[0]=wr(a[0],1),a[1]=wr(a[1],1),n=l[1]-l[0]||Math.abs(l[0])),"dataMin"===s?s=l[0]:"function"==typeof s&&(s=s({min:l[0],max:l[1]})),"dataMax"===o?o=l[1]:"function"==typeof o&&(o=o({min:l[0],max:l[1]}));var c=null!=s,u=null!=o;null==s&&(s="ordinal"===r?i?0:NaN:l[0]-a[0]*n),null==o&&(o="ordinal"===r?i?i-1:NaN:l[1]+a[1]*n),(null==s||!isFinite(s))&&(s=NaN),(null==o||!isFinite(o))&&(o=NaN),e.setBlank(T(s)||T(o)||"ordinal"===r&&!e.getOrdinalMeta().categories.length),t.getNeedCrossZero()&&(s>0&&o>0&&!c&&(s=0),0>s&&0>o&&!u&&(o=0));var d=t.ecModel;if(d&&"time"===r){var h,p=Mc("bar",d);if(f(p,(function(e){h|=e.getBaseAxis()===t.axis})),h){var v=Ec(p),m=Bc(s,o,t,v);s=m.min,o=m.max}}return{extent:[s,o],fixMin:c,fixMax:u}}function Bc(e,t,i,a){var n=i.axis.getExtent(),r=n[1]-n[0],s=jc(a,i.axis);if(void 0===s)return{min:e,max:t};var o=1/0;f(s,(function(e){o=Math.min(e.offset,o)}));var l=-1/0;f(s,(function(e){l=Math.max(e.offset+e.width,l)})),o=Math.abs(o),l=Math.abs(l);var c=o+l,u=t-e,d=u/(1-(o+l)/r)-u;return{min:e-=d*(o/c),max:t+=d*(l/c)}}function Zc(e,t){var i=zc(e,t),a=i.extent,n=t.get("splitNumber");"log"===e.type&&(e.base=t.get("logBase"));var r=e.type;e.setExtent(a[0],a[1]),e.niceExtent({splitNumber:n,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:"interval"===r||"time"===r?t.get("minInterval"):null,maxInterval:"interval"===r||"time"===r?t.get("maxInterval"):null});var s=t.get("interval");null!=s&&e.setInterval&&e.setInterval(s)}function Hc(e,t){if(t=t||e.get("type"))switch(t){case"category":return new tx(e.getOrdinalMeta?e.getOrdinalMeta():e.getCategories(),[1/0,-1/0]);case"value":return new nx;default:return(xc.getClass(t)||nx).create(e)}}function qc(e){var t=e.scale.getExtent(),i=t[0],a=t[1];return!(i>0&&a>0||0>i&&0>a)}function Gc(e){var t=e.getLabelModel().get("formatter"),i="category"===e.type?e.scale.getExtent()[0]:null;return"string"==typeof t?t=function(t){return function(i){return i=e.scale.getLabel(i),t.replace("{value}",null!=i?i:"")}}(t):"function"==typeof t?function(a,n){return null!=i&&(n=a-i),t(Uc(e,a),n)}:function(t){return e.scale.getLabel(t)}}function Uc(e,t){return"category"===e.type?e.scale.getLabel(t):t}function Xc(e){var t=e.model,i=e.scale;if(t.get("axisLabel.show")&&!i.isBlank()){var a,n,r="category"===e.type,s=i.getExtent();n=r?i.count():(a=i.getTicks()).length;var o,l=e.getLabelModel(),c=Gc(e),u=1;n>40&&(u=Math.ceil(n/40));for(var d=0;n>d;d+=u){var h=c(a?a[d]:s[0]+d),p=Wc(l.getTextRect(h),l.get("rotate")||0);o?o.union(p):o=p}return o}}function Wc(e,t){var i=t*Math.PI/180,a=e.plain(),n=a.width,r=a.height,s=n*Math.abs(Math.cos(i))+Math.abs(r*Math.sin(i)),o=n*Math.abs(Math.sin(i))+Math.abs(r*Math.cos(i));return new Ot(a.x,a.y,s,o)}function Yc(e){var t=e.get("interval");return null==t?"auto":t}function Kc(e){return"category"===e.type&&0===Yc(e.getLabelModel())}function Jc(e,t){if("image"!==this.type){var i=this.style,a=this.shape;a&&"line"===a.symbolType?i.stroke=e:this.__isEmptyBrush?(i.stroke=e,i.fill=t||"#fff"):(i.fill&&(i.fill=e),i.stroke&&(i.stroke=e)),this.dirty(!1)}}function Qc(e,t,i,a,n,r,s){var o,l=0===e.indexOf("empty");return l&&(e=e.substr(5,1).toLowerCase()+e.substr(6)),(o=0===e.indexOf("image://")?xn(e.slice(8),new Ot(t,i,a,n),s?"center":"cover"):0===e.indexOf("path://")?bn(e.slice(7),{},new Ot(t,i,a,n),s?"center":"cover"):new Nx({shape:{symbolType:e,x:t,y:i,width:a,height:n}})).__isEmptyBrush=l,o.setColor=Jc,o.setColor(r),o}function eu(e){return yc(e.getSource(),e)}function tu(e,t){var i=t;fr.isInstance(t)||h(i=new fr(t),Px);var a=Hc(i);return a.setExtent(e[0],e[1]),Zc(a,i),a}function iu(e){h(e,Px)}function au(e,t){return Math.abs(e-t)<Fx}function nu(e,t,i){var a=0,n=e[0];if(!n)return!1;for(var r=1;r<e.length;r++){var s=e[r];a+=Ga(n[0],n[1],s[0],s[1],t,i),n=s}var o=e[0];return au(n[0],o[0])&&au(n[1],o[1])||(a+=Ga(n[0],n[1],o[0],o[1],t,i)),0!==a}function ru(e,t,i){if(this.name=e,this.geometries=t,i)i=[i[0],i[1]];else{var a=this.getBoundingRect();i=[a.x+a.width/2,a.y+a.height/2]}this.center=i}function su(e){if(!e.UTF8Encoding)return e;var t=e.UTF8Scale;null==t&&(t=1024);for(var i=e.features,a=0;a<i.length;a++)for(var n=i[a].geometry,r=n.coordinates,s=n.encodeOffsets,o=0;o<r.length;o++){var l=r[o];if("Polygon"===n.type)r[o]=ou(l,s[o],t);else if("MultiPolygon"===n.type)for(var c=0;c<l.length;c++){var u=l[c];l[c]=ou(u,s[o][c],t)}}return e.UTF8Encoding=!1,e}function ou(e,t,i){for(var a=[],n=t[0],r=t[1],s=0;s<e.length;s+=2){var o=e.charCodeAt(s)-64,l=e.charCodeAt(s+1)-64;o=o>>1^-(1&o),l=l>>1^-(1&l),n=o+=n,r=l+=r,a.push([o/i,l/i])}return a}function lu(e){return"category"===e.type?uu(e):pu(e)}function cu(e,t){return"category"===e.type?hu(e,t):{ticks:e.scale.getTicks()}}function uu(e){var t=e.getLabelModel(),i=du(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}function du(e,t){var i,a,n=fu(e,"labels"),r=Yc(t),s=vu(n,r);return s||(i=w(r)?xu(e,r):bu(e,a="auto"===r?gu(e):r),mu(n,r,{labels:i,labelCategoryInterval:a}))}function hu(e,t){var i,a,n=fu(e,"ticks"),r=Yc(t),s=vu(n,r);if(s)return s;if((!t.get("show")||e.scale.isBlank())&&(i=[]),w(r))i=xu(e,r,!0);else if("auto"===r){var o=du(e,e.getLabelModel());a=o.labelCategoryInterval,i=v(o.labels,(function(e){return e.tickValue}))}else i=bu(e,a=r,!0);return mu(n,r,{ticks:i,tickCategoryInterval:a})}function pu(e){var t=e.scale.getTicks(),i=Gc(e);return{labels:v(t,(function(t,a){return{formattedLabel:i(t,a),rawLabel:e.scale.getLabel(t),tickValue:t}}))}}function fu(e,t){return zx(e)[t]||(zx(e)[t]=[])}function vu(e,t){for(var i=0;i<e.length;i++)if(e[i].key===t)return e[i].value}function mu(e,t,i){return e.push({key:t,value:i}),i}function gu(e){var t=zx(e).autoInterval;return null!=t?t:zx(e).autoInterval=e.calculateCategoryInterval()}function yu(e){var t=_u(e),i=Gc(e),a=(t.axisRotate-t.labelRotate)/180*Math.PI,n=e.scale,r=n.getExtent(),s=n.count();if(r[1]-r[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=r[0],c=e.dataToCoord(l+1)-e.dataToCoord(l),u=Math.abs(c*Math.cos(a)),d=Math.abs(c*Math.sin(a)),h=0,p=0;l<=r[1];l+=o){var f=0,v=0,m=Gt(i(l),t.font,"center","top");f=1.3*m.width,v=1.3*m.height,h=Math.max(h,f,7),p=Math.max(p,v,7)}var g=h/u,y=p/d;isNaN(g)&&(g=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(g,y))),b=zx(e.model),x=e.getExtent(),w=b.lastAutoInterval,S=b.lastTickCount;return null!=w&&null!=S&&Math.abs(w-_)<=1&&Math.abs(S-s)<=1&&w>_&&b.axisExtend0===x[0]&&b.axisExtend1===x[1]?_=w:(b.lastTickCount=s,b.lastAutoInterval=_,b.axisExtend0=x[0],b.axisExtend1=x[1]),_}function _u(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}function bu(e,t,i){function a(e){l.push(i?e:{formattedLabel:n(e),rawLabel:r.getLabel(e),tickValue:e})}var n=Gc(e),r=e.scale,s=r.getExtent(),o=e.getLabelModel(),l=[],c=Math.max((t||0)+1,1),u=s[0],d=r.count();0!==u&&c>1&&d/c>2&&(u=Math.round(Math.ceil(u/c)*c));var h=Kc(e),p=o.get("showMinLabel")||h,f=o.get("showMaxLabel")||h;p&&u!==s[0]&&a(s[0]);for(var v=u;v<=s[1];v+=c)a(v);return f&&v-c!==s[1]&&a(s[1]),l}function xu(e,t,i){var a=e.scale,n=Gc(e),r=[];return f(a.getTicks(),(function(e){var s=a.getLabel(e);t(e,s)&&r.push(i?e:{formattedLabel:n(e),rawLabel:s,tickValue:e})})),r}function wu(e,t){var i=(e[1]-e[0])/t/2;e[0]+=i,e[1]-=i}function Su(e,t,i,a){function n(e,t){return e=Sr(e),t=Sr(t),d?e>t:t>e}var r=t.length;if(e.onBand&&!i&&r){var s,o,l=e.getExtent();if(1===r)t[0].coord=l[0],s=t[1]={coord:l[0]};else{var c=t[r-1].tickValue-t[0].tickValue,u=(t[r-1].coord-t[0].coord)/c;f(t,(function(e){e.coord-=u/2})),o=1+e.scale.getExtent()[1]-t[r-1].tickValue,s={coord:t[r-1].coord+u*o},t.push(s)}var d=l[0]>l[1];n(t[0].coord,l[0])&&(a?t[0].coord=l[0]:t.shift()),a&&n(l[0],t[0].coord)&&t.unshift({coord:l[0]}),n(l[1],s.coord)&&(a?s.coord=l[1]:t.pop()),a&&n(s.coord,l[1])&&t.push({coord:l[1]})}}function Cu(e){return this._axes[e]}function Iu(e){Ux.call(this,e)}function ku(e,t){return t.type||(t.data?"category":"value")}function Ou(e,t){return e.getCoordSysModel()===t}function Tu(e,t,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(e,t,i),this.model=e}function Pu(e,t,i,a){function n(e){return e.dim+"_"+e.index}i.getAxesOnZeroOf=function(){return r?[r]:[]};var r,s=e[t],o=i.model,l=o.get("axisLine.onZero"),c=o.get("axisLine.onZeroAxisIndex");if(l){if(null!=c)Du(s[c])&&(r=s[c]);else for(var u in s)if(s.hasOwnProperty(u)&&Du(s[u])&&!a[n(s[u])]){r=s[u];break}r&&(a[n(r)]=!0)}}function Du(e){return e&&"category"!==e.type&&"time"!==e.type&&qc(e)}function Mu(e,t){var i=e.getExtent(),a=i[0]+i[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return a-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return a-e+t}}function Lu(e){return v(iw,(function(t){var i=e.getReferringComponents(t)[0];if(Hp&&!i)throw new Error(t+' "'+P(e.get(t+"Index"),e.get(t+"Id"),0)+'" not found');return i}))}function Eu(e){return"cartesian2d"===e.get("coordinateSystem")}function Au(e,t){var i=e.mapDimension("defaultedLabel",!0),a=i.length;if(1===a)return Qs(e,t,i[0]);if(a){for(var n=[],r=0;r<i.length;r++){var s=Qs(e,t,i[r]);n.push(s)}return n.join(" ")}}function ju(e,t,i,a,n,r){Zn(e,t,i.getModel("label"),i.getModel("emphasis.label"),{labelFetcher:n,labelDataIndex:r,defaultText:Au(n.getData(),r),isRectText:!0,autoColor:a}),Nu(e),Nu(t)}function Nu(e,t){"outside"===e.textPosition&&(e.textPosition=t)}function Vu(e,t,i){var a=e.getArea(),n=e.getBaseAxis().isHorizontal(),r=a.x,s=a.y,o=a.width,l=a.height,c=i.get("lineStyle.width")||2;r-=c/2,s-=c/2,o+=c,l+=c,r=Math.floor(r),o=Math.round(o);var u=new Ag({shape:{x:r,y:s,width:o,height:l}});return t&&(u.shape[n?"width":"height"]=0,ir(u,{shape:{width:o,height:l}},i)),u}function Ru(e,t,i){var a=e.getArea(),n=new kg({shape:{cx:Sr(e.cx,1),cy:Sr(e.cy,1),r0:Sr(a.r0,1),r:Sr(a.r,1),startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});return t&&(n.shape.endAngle=a.startAngle,ir(n,{shape:{endAngle:a.endAngle}},i)),n}function Fu(e,t,i){return e?"polar"===e.type?Ru(e,t,i):"cartesian2d"===e.type?Vu(e,t,i):null:null}function $u(e,t){var i=e.getArea&&e.getArea();if("cartesian2d"===e.type){var a=e.getBaseAxis();if("category"!==a.type||!a.onBand){var n=t.getLayout("bandWidth");a.isHorizontal()?(i.x-=n,i.width+=2*n):(i.y-=n,i.height+=2*n)}}return i}function zu(e,t,i){i.style.text=null,tr(i,{shape:{width:0}},t,e,(function(){i.parent&&i.parent.remove(i)}))}function Bu(e,t,i){i.style.text=null,tr(i,{shape:{r:i.shape.r0}},t,e,(function(){i.parent&&i.parent.remove(i)}))}function Zu(e){return null!=e.startAngle&&null!=e.endAngle&&e.startAngle===e.endAngle}function Hu(e,t,i,a,n,r,s,o){var c=t.getItemVisual(i,"color"),u=t.getItemVisual(i,"opacity"),d=t.getVisual("borderColor"),h=a.getModel("itemStyle"),p=a.getModel("emphasis.itemStyle").getBarItemStyle();o||e.setShape("r",h.get("barBorderRadius")||0),e.useStyle(l({stroke:Zu(n)?"none":d,fill:Zu(n)?"none":c,opacity:u},h.getBarItemStyle()));var f=a.getShallow("cursor");f&&e.attr("cursor",f);var v=s?n.height>0?"bottom":"top":n.width>0?"left":"right";o||ju(e.style,p,a,c,r,i,v),Zu(n)&&(p.fill=p.stroke="none"),Fn(e,p)}function qu(e,t){var i=e.get(ow)||0,a=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),n=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(i,a,n)}function Gu(e,t,i){var a=e.getData(),n=[],r=a.getLayout("valueAxisHorizontal")?1:0;n[1-r]=a.getLayout("valueAxisStart");var s=a.getLayout("largeDataIndices"),o=a.getLayout("barWidth"),l=e.getModel("backgroundStyle");if(e.get("showBackground",!0)){var c=a.getLayout("largeBackgroundPoints"),u=[];u[1-r]=a.getLayout("backgroundStart");var d=new fw({shape:{points:c},incremental:!!i,__startPoint:u,__baseDimIdx:r,__largeDataIndices:s,__barWidth:o,silent:!0,z2:0});Wu(d,l,a),t.add(d)}var h=new fw({shape:{points:a.getLayout("largePoints")},incremental:!!i,__startPoint:n,__baseDimIdx:r,__largeDataIndices:s,__barWidth:o});t.add(h),Xu(h,e,a),h.seriesIndex=e.seriesIndex,e.get("silent")||(h.on("mousedown",vw),h.on("mousemove",vw))}function Uu(e,t,i){var a=e.__baseDimIdx,n=1-a,r=e.shape.points,s=e.__largeDataIndices,o=Math.abs(e.__barWidth/2),l=e.__startPoint[n];lw[0]=t,lw[1]=i;for(var c=lw[a],u=lw[1-a],d=c-o,h=c+o,p=0,f=r.length/2;f>p;p++){var v=2*p,m=r[v+a],g=r[v+n];if(m>=d&&h>=m&&(g>=l?u>=l&&g>=u:u>=g&&l>=u))return s[p]}return-1}function Xu(e,t,i){var a=i.getVisual("borderColor")||i.getVisual("color"),n=t.getModel("itemStyle").getItemStyle(["color","borderColor"]);e.useStyle(n),e.style.fill=null,e.style.stroke=a,e.style.lineWidth=i.getLayout("barWidth")}function Wu(e,t,i){var a=t.get("borderColor")||t.get("color"),n=t.getItemStyle(["color","borderColor"]);e.useStyle(n),e.style.fill=null,e.style.stroke=a,e.style.lineWidth=i.getLayout("barWidth")}function Yu(e,t,i){var a,n="polar"===i.type;return a=n?i.getArea():i.grid.getRect(),n?{cx:a.cx,cy:a.cy,r0:e?a.r0:t.r0,r:e?a.r:t.r,startAngle:e?t.startAngle:0,endAngle:e?t.endAngle:2*Math.PI}:{x:e?t.x:a.x,y:e?a.y:t.y,width:e?t.width:a.width,height:e?a.height:t.height}}function Ku(e,t,i){return new("polar"===e.type?kg:Ag)({shape:Yu(t,i,e),silent:!0,z2:0})}function Ju(e,t,i,a){var n,r,s=Pr(i-e.rotation),o=a[0]>a[1],l="start"===t&&!o||"start"!==t&&o;return Dr(s-mw/2)?(r=l?"bottom":"top",n="center"):Dr(s-1.5*mw)?(r=l?"top":"bottom",n="center"):(r="middle",n=1.5*mw>s&&s>mw/2?l?"left":"right":l?"right":"left"),{rotation:s,textAlign:n,textVerticalAlign:r}}function Qu(e,t,i){if(!Kc(e.axis)){var a=e.get("axisLabel.showMinLabel"),n=e.get("axisLabel.showMaxLabel");i=i||[];var r=(t=t||[])[0],s=t[1],o=t[t.length-1],l=t[t.length-2],c=i[0],u=i[1],d=i[i.length-1],h=i[i.length-2];!1===a?(ed(r),ed(c)):td(r,s)&&(a?(ed(s),ed(u)):(ed(r),ed(c))),!1===n?(ed(o),ed(d)):td(l,o)&&(n?(ed(l),ed(h)):(ed(o),ed(d)))}}function ed(e){e&&(e.ignore=!0)}function td(e,t){var i=e&&e.getBoundingRect().clone(),a=t&&t.getBoundingRect().clone();if(i&&a){var n=je([]);return Fe(n,n,-e.rotation),i.applyTransform(Ve([],n,e.getLocalTransform())),a.applyTransform(Ve([],n,t.getLocalTransform())),i.intersect(a)}}function id(e){return"middle"===e||"center"===e}function ad(e,t,i,a,n){for(var r=[],s=[],o=[],l=0;l<e.length;l++){var c=e[l].coord;s[0]=c,s[1]=0,o[0]=c,o[1]=i,t&&(se(s,s,t),se(o,o,t));var u=new Ng({anid:n+"_"+e[l].tickValue,subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:a,z2:2,silent:!0});r.push(u)}return r}function nd(e,t,i){var a=t.axis,n=t.getModel("axisTick");if(n.get("show")&&!a.scale.isBlank()){for(var r=n.getModel("lineStyle"),s=i.tickDirection*n.get("length"),o=ad(a.getTicksCoords(),e._transform,s,l(r.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}),"ticks"),c=0;c<o.length;c++)e.group.add(o[c]);return o}}function rd(e,t,i){var a=t.axis,n=t.getModel("minorTick");if(n.get("show")&&!a.scale.isBlank()){var r=a.getMinorTicksCoords();if(r.length)for(var s=n.getModel("lineStyle"),o=i.tickDirection*n.get("length"),c=l(s.getLineStyle(),l(t.getModel("axisTick").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})),u=0;u<r.length;u++)for(var d=ad(r[u],e._transform,o,c,"minorticks_"+u),h=0;h<d.length;h++)e.group.add(d[h])}}function sd(e,t,i){var a=t.axis;if(P(i.axisLabelShow,t.get("axisLabel.show"))&&!a.scale.isBlank()){var n=t.getModel("axisLabel"),r=n.get("margin"),s=a.getViewLabels(),o=(P(i.labelRotate,n.get("rotate"))||0)*mw/180,l=bw(i.rotation,o,i.labelDirection),c=t.getCategories&&t.getCategories(!0),u=[],d=xw(t),h=t.get("triggerEvent");return f(s,(function(s,o){var p=s.tickValue,f=s.formattedLabel,v=s.rawLabel,m=n;c&&c[p]&&c[p].textStyle&&(m=new fr(c[p].textStyle,n,t.ecModel));var g=m.getTextColor()||t.get("axisLine.lineStyle.color"),y=[a.dataToCoord(p),i.labelOffset+i.labelDirection*r],_=new wg({anid:"label_"+p,position:y,rotation:l.rotation,silent:d,z2:10});qn(_.style,m,{text:f,textAlign:m.getShallow("align",!0)||l.textAlign,textVerticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||l.textVerticalAlign,textFill:"function"==typeof g?g("category"===a.type?v:"value"===a.type?p+"":p,o):g}),h&&(_.eventData=_w(t),_.eventData.targetType="axisLabel",_.eventData.value=v),e._dumbGroup.add(_),_.updateTransform(),u.push(_),e.group.add(_),_.decomposeTransform()})),u}}function od(e,t){var i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return ld(i,e,t),i.seriesInvolved&&ud(i,e),i}function ld(e,t,i){var a=t.getComponent("tooltip"),n=t.getComponent("axisPointer"),r=n.get("link",!0)||[],s=[];ww(i.getCoordinateSystems(),(function(i){function o(a,o,l){var d=l.model.getModel("axisPointer",n),h=d.get("show");if(h&&("auto"!==h||a||md(d))){null==o&&(o=d.get("triggerTooltip"));var p=(d=a?cd(l,u,n,t,a,o):d).get("snap"),f=gd(l.model),v=o||p||"category"===l.type,m=e.axesInfo[f]={key:f,axis:l,coordSys:i,axisPointerModel:d,triggerTooltip:o,involveSeries:v,snap:p,useHandle:md(d),seriesModels:[]};c[f]=m,e.seriesInvolved|=v;var g=dd(r,l);if(null!=g){var y=s[g]||(s[g]={axesInfo:{}});y.axesInfo[f]=m,y.mapper=r[g].mapper,m.linkGroup=y}}}if(i.axisPointerEnabled){var l=gd(i.model),c=e.coordSysAxesInfo[l]={};e.coordSysMap[l]=i;var u=i.model.getModel("tooltip",a);if(ww(i.getAxes(),Sw(o,!1,null)),i.getTooltipAxes&&a&&u.get("show")){var d="axis"===u.get("trigger"),h="cross"===u.get("axisPointer.type"),p=i.getTooltipAxes(u.get("axisPointer.axis"));(d||h)&&ww(p.baseAxes,Sw(o,!h||"cross",d)),h&&ww(p.otherAxes,Sw(o,"cross",!1))}}}))}function cd(e,t,i,a,r,s){var o=t.getModel("axisPointer"),c={};ww(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(e){c[e]=n(o.get(e))})),c.snap="category"!==e.type&&!!s,"cross"===o.get("type")&&(c.type="line");var u=c.label||(c.label={});if(null==u.show&&(u.show=!1),"cross"===r){var d=o.get("label.show");if(u.show=null==d||d,!s){var h=c.lineStyle=o.get("crossStyle");h&&l(u,h.textStyle)}}return e.model.getModel("axisPointer",new fr(c,i,a))}function ud(e,t){t.eachSeries((function(t){var i=t.coordinateSystem,a=t.get("tooltip.trigger",!0),n=t.get("tooltip.show",!0);i&&"none"!==a&&!1!==a&&"item"!==a&&!1!==n&&!1!==t.get("axisPointer.show",!0)&&ww(e.coordSysAxesInfo[gd(i.model)],(function(e){var a=e.axis;i.getAxis(a.dim)===a&&(e.seriesModels.push(t),null==e.seriesDataCount&&(e.seriesDataCount=0),e.seriesDataCount+=t.getData().count())}))}),this)}function dd(e,t){for(var i=t.model,a=t.dim,n=0;n<e.length;n++){var r=e[n]||{};if(hd(r[a+"AxisId"],i.id)||hd(r[a+"AxisIndex"],i.componentIndex)||hd(r[a+"AxisName"],i.name))return n}}function hd(e,t){return"all"===e||x(e)&&u(e,t)>=0||e===t}function pd(e){var t=fd(e);if(t){var i=t.axisPointerModel,a=t.axis.scale,n=i.option,r=i.get("status"),s=i.get("value");null!=s&&(s=a.parse(s));var o=md(i);null==r&&(n.status=o?"show":"hide");var l=a.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==s||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),n.value=s,o&&(n.status=t.axis.scale.isBlank()?"hide":"show")}}function fd(e){var t=(e.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[gd(e)]}function vd(e){var t=fd(e);return t&&t.axisPointerModel}function md(e){return!!e.get("handle.show")}function gd(e){return e.type+"||"+e.id}function yd(e,t,i,a,n,r){var s=Cw.getAxisPointerClass(e.axisPointerClass);if(s){var o=vd(t);o?(e._axisPointer||(e._axisPointer=new s)).render(t,o,a,r):_d(e,a)}}function _d(e,t,i){var a=e._axisPointer;a&&a.dispose(t,i),e._axisPointer=null}function bd(e,t,i){i=i||{};var a=e.coordinateSystem,n=t.axis,r={},s=n.getAxesOnZeroOf()[0],o=n.position,l=s?"onZero":o,c=n.dim,u=a.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=t.get("offset")||0,f="x"===c?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(s){var v=s.toGlobalCoord(s.dataToCoord(0));f[h.onZero]=Math.max(Math.min(v,f[1]),f[0])}r.position=["y"===c?f[h[l]]:d[0],"x"===c?f[h[l]]:d[3]],r.rotation=Math.PI/2*("x"===c?0:1);var m={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=m[o],r.labelOffset=s?f[h[o]]-f[h.onZero]:0,t.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),P(i.labelInside,t.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var g=t.get("axisLabel.rotate");return r.labelRotate="top"===l?-g:g,r.z2=1,r}function xd(e,t,i,a){var n=i.axis;if(!n.scale.isBlank()){var r=i.getModel("splitArea"),s=r.getModel("areaStyle"),o=s.get("color"),c=a.coordinateSystem.getRect(),u=n.getTicksCoords({tickModel:r,clamp:!0});if(u.length){var d=o.length,h=e.__splitAreaColors,p=F(),f=0;if(h)for(var v=0;v<u.length;v++){var m=h.get(u[v].tickValue);if(null!=m){f=(m+(d-1)*v)%d;break}}var g=n.toGlobalCoord(u[0].coord),y=s.getAreaStyle();for(o=x(o)?o:[o],v=1;v<u.length;v++){var _,b,w,S,C=n.toGlobalCoord(u[v].coord);n.isHorizontal()?(_=g,b=c.y,w=C-_,S=c.height,g=_+w):(_=c.x,b=g,w=c.width,g=b+(S=C-b));var I=u[v-1].tickValue;null!=I&&p.set(I,f),t.add(new Ag({anid:null!=I?"area_"+I:null,shape:{x:_,y:b,width:w,height:S},style:l({fill:o[f]},y),silent:!0})),f=(f+1)%d}e.__splitAreaColors=p}}}function wd(e){e.__splitAreaColors=null}function Sd(e,t,i){ov.call(this),this.updateData(e,t,i)}function Cd(e){return[e[0]/2,e[1]/2]}function Id(e,t){this.parent.drift(e,t)}function kd(e,t){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===t){var i=this.__symbolOriginalScale,a=i[1]/i[0],n={scale:[Math.max(1.1*i[0],i[0]+3),Math.max(1.1*i[1],i[1]+3*a)]};this.animateTo(n,400,"elasticOut")}else"normal"===t&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function Od(e){this.group=new ov,this._symbolCtor=e||Sd}function Td(e,t,i,a){return!(!t||isNaN(t[0])||isNaN(t[1])||a.isIgnore&&a.isIgnore(i)||a.clipShape&&!a.clipShape.contain(t[0],t[1])||"none"===e.getItemVisual(i,"symbol"))}function Pd(e){return null==e||C(e)||(e={isIgnore:e}),e||{}}function Dd(e){var t=e.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function Md(e,t,i){var a,n=e.getBaseAxis(),r=e.getOtherAxis(n),s=Ld(r,i),o=n.dim,l=r.dim,c=t.mapDimension(l),u=t.mapDimension(o),d="x"===l||"radius"===l?1:0,h=v(e.dimensions,(function(e){return t.mapDimension(e)})),p=t.getCalculationInfo("stackResultDimension");return(a|=mc(t,h[0]))&&(h[0]=p),(a|=mc(t,h[1]))&&(h[1]=p),{dataDimsForPoint:h,valueStart:s,valueAxisDim:l,baseAxisDim:o,stacked:!!a,valueDim:c,baseDim:u,baseDataOffset:d,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function Ld(e,t){var i=0,a=e.scale.getExtent();return"start"===t?i=a[0]:"end"===t?i=a[1]:a[0]>0?i=a[0]:a[1]<0&&(i=a[1]),i}function Ed(e,t,i,a){var n=NaN;e.stacked&&(n=i.get(i.getCalculationInfo("stackedOverDimension"),a)),isNaN(n)&&(n=e.valueStart);var r=e.baseDataOffset,s=[];return s[r]=i.get(e.baseDim,a),s[1-r]=n,t.dataToPoint(s)}function Ad(e,t){var i=[];return t.diff(e).add((function(e){i.push({cmd:"+",idx:e})})).update((function(e,t){i.push({cmd:"=",idx:t,idx1:e})})).remove((function(e){i.push({cmd:"-",idx:e})})).execute(),i}function jd(e){return isNaN(e[0])||isNaN(e[1])}function Nd(e,t,i,a,n,r,s,o,l,c){return"none"!==c&&c?Vd.apply(this,arguments):Rd.apply(this,arguments)}function Vd(e,t,i,a,n,r,s,o,l,c,u){for(var d=0,h=i,p=0;a>p;p++){var f=t[h];if(h>=n||0>h)break;if(jd(f)){if(u){h+=r;continue}break}if(h===i)e[r>0?"moveTo":"lineTo"](f[0],f[1]);else if(l>0){var v=t[d],m="y"===c?1:0,g=(f[m]-v[m])*l;$w(Bw,v),Bw[m]=v[m]+g,$w(Zw,f),Zw[m]=f[m]-g,e.bezierCurveTo(Bw[0],Bw[1],Zw[0],Zw[1],f[0],f[1])}else e.lineTo(f[0],f[1]);d=h,h+=r}return p}function Rd(e,t,i,a,n,r,s,o,l,c,u){for(var d=0,h=i,p=0;a>p;p++){var f=t[h];if(h>=n||0>h)break;if(jd(f)){if(u){h+=r;continue}break}if(h===i)e[r>0?"moveTo":"lineTo"](f[0],f[1]),$w(Bw,f);else if(l>0){var v=h+r,m=t[v];if(u)for(;m&&jd(t[v]);)m=t[v+=r];var g=.5,y=t[d];if(!(m=t[v])||jd(m))$w(Zw,f);else{var _,b;if(jd(m)&&!u&&(m=f),X(zw,m,y),"x"===c||"y"===c){var x="x"===c?0:1;_=Math.abs(f[x]-y[x]),b=Math.abs(f[x]-m[x])}else _=hf(f,y),b=hf(f,m);Fw(Zw,f,zw,-l*(1-(g=b/(b+_))))}Vw(Bw,Bw,o),Rw(Bw,Bw,s),Vw(Zw,Zw,o),Rw(Zw,Zw,s),e.bezierCurveTo(Bw[0],Bw[1],Zw[0],Zw[1],f[0],f[1]),Fw(Bw,f,zw,l*g)}else e.lineTo(f[0],f[1]);d=h,h+=r}return p}function Fd(e,t){var i=[1/0,1/0],a=[-1/0,-1/0];if(t)for(var n=0;n<e.length;n++){var r=e[n];r[0]<i[0]&&(i[0]=r[0]),r[1]<i[1]&&(i[1]=r[1]),r[0]>a[0]&&(a[0]=r[0]),r[1]>a[1]&&(a[1]=r[1])}return{min:t?i:a,max:t?a:i}}function $d(e,t){if(e.length===t.length){for(var i=0;i<e.length;i++){var a=e[i],n=t[i];if(a[0]!==n[0]||a[1]!==n[1])return}return!0}}function zd(e,t){var i=[],a=[],n=[],r=[];return Na(e,i,a),Na(t,n,r),Math.max(Math.abs(i[0]-n[0]),Math.abs(i[1]-n[1]),Math.abs(a[0]-r[0]),Math.abs(a[1]-r[1]))}function Bd(e){return"number"==typeof e?e:e?.5:0}function Zd(e,t,i){if(!i.valueDim)return[];for(var a=[],n=0,r=t.count();r>n;n++)a.push(Ed(i,e,t,n));return a}function Hd(e,t,i){for(var a=t.getBaseAxis(),n="x"===a.dim||"radius"===a.dim?0:1,r=[],s=0;s<e.length-1;s++){var o=e[s+1],l=e[s];r.push(l);var c=[];switch(i){case"end":c[n]=o[n],c[1-n]=l[1-n],r.push(c);break;case"middle":var u=(l[n]+o[n])/2,d=[];c[n]=d[n]=u,c[1-n]=l[1-n],d[1-n]=o[1-n],r.push(c),r.push(d);break;default:c[n]=l[n],c[1-n]=o[1-n],r.push(c)}}return e[s]&&r.push(e[s]),r}function qd(e,t){var i=e.getVisual("visualMeta");if(i&&i.length&&e.count()){if("cartesian2d"!==t.type)return void(Hp&&console.warn("Visual map on line style is only supported on cartesian2d."));for(var a,n,r=i.length-1;r>=0;r--){var s=i[r].dimension,o=e.dimensions[s],l=e.getDimensionInfo(o);if("x"===(a=l&&l.coordDim)||"y"===a){n=i[r];break}}if(!n)return void(Hp&&console.warn("Visual map on line style only support x or y dimension."));var c=t.getAxis(a),u=v(n.stops,(function(e){return{coord:c.toGlobalCoord(c.dataToCoord(e.value)),color:e.color}})),d=u.length,h=n.outerColors.slice();d&&u[0].coord>u[d-1].coord&&(u.reverse(),h.reverse());var p=10,m=u[0].coord-p,g=u[d-1].coord+p,y=g-m;if(.001>y)return"transparent";f(u,(function(e){e.offset=(e.coord-m)/y})),u.push({offset:d?u[d-1].offset:.5,color:h[1]||"transparent"}),u.unshift({offset:d?u[0].offset:.5,color:h[0]||"transparent"});var _=new Bg(0,0,0,0,u,!0);return _[a]=m,_[a+"2"]=g,_}}function Gd(e,t,i){var a=e.get("showAllSymbol"),n="auto"===a;if(!a||n){var r=i.getAxesByScale("ordinal")[0];if(r&&(!n||!Ud(r,t))){var s=t.mapDimension(r.dim),o={};return f(r.getViewLabels(),(function(e){o[e.tickValue]=1})),function(e){return!o.hasOwnProperty(t.get(s,e))}}}}function Ud(e,t){var i=e.getExtent(),a=Math.abs(i[1]-i[0])/e.scale.count();isNaN(a)&&(a=0);for(var n=t.count(),r=Math.max(1,Math.round(n/5)),s=0;n>s;s+=r)if(1.5*Sd.getSymbolSize(t,s)[e.isHorizontal()?1:0]>a)return!1;return!0}function Xd(e,t,i){if("cartesian2d"===e.type){var a=e.getBaseAxis().isHorizontal(),n=Vu(e,t,i);if(!i.get("clip",!0)){var r=n.shape,s=Math.max(r.width,r.height);a?(r.y-=s,r.height+=2*s):(r.x-=s,r.width+=2*s)}return n}return Ru(e,t,i)}function Wd(e,t){this.getAllNames=function(){var e=t();return e.mapArray(e.getName)},this.containName=function(e){return t().indexOfName(e)>=0},this.indexOfName=function(t){return e().indexOfName(t)},this.getItemVisual=function(t,i){return e().getItemVisual(t,i)}}function Yd(e,t,i,a){var n=t.getData(),r=this.dataIndex,s=n.getName(r),o=t.get("selectedOffset");a.dispatchAction({type:"pieToggleSelect",from:e,name:s,seriesId:t.id}),n.each((function(e){Kd(n.getItemGraphicEl(e),n.getItemLayout(e),t.isSelected(n.getName(e)),o,i)}))}function Kd(e,t,i,a,n){var r=(t.startAngle+t.endAngle)/2,s=i?a:0,o=[Math.cos(r)*s,Math.sin(r)*s];n?e.animate().when(200,{position:o}).start("bounceOut"):e.attr("position",o)}function Jd(e,t){ov.call(this);var i=new kg({z2:2}),a=new Mg,n=new wg;this.add(i),this.add(a),this.add(n),this.updateData(e,t,!0)}function Qd(e,t,i,a,n,r,s,o,l,c){function u(t,i,a){for(var n=t;i>n&&!(e[n].y+a>l+s);n++)if(e[n].y+=a,n>t&&i>n+1&&e[n+1].y>e[n].y+e[n].height)return void d(n,a/2);d(i-1,a/2)}function d(t,i){for(var a=t;a>=0&&!(e[a].y-i<l)&&(e[a].y-=i,!(a>0&&e[a].y>e[a-1].y+e[a-1].height));a--);}function h(e,t,i,a,n,r){for(var s=t?Number.MAX_VALUE:0,o=0,l=e.length;l>o;o++)if("none"===e[o].labelAlignTo){var c=Math.abs(e[o].y-a),u=e[o].len,d=e[o].len2,h=n+u>c?Math.sqrt((n+u+d)*(n+u+d)-c*c):Math.abs(e[o].x-i);t&&h>=s&&(h=s-10),!t&&s>=h&&(h=s+10),e[o].x=i+h*r,s=h}}e.sort((function(e,t){return e.y-t.y}));for(var p,f=0,v=e.length,m=[],g=[],y=0;v>y;y++){if("outer"===e[y].position&&"labelLine"===e[y].labelAlignTo){var _=e[y].x-c;e[y].linePoints[1][0]+=_,e[y].x=c}0>(p=e[y].y-f)&&u(y,v,-p,n),f=e[y].y+e[y].height}for(0>s-f&&d(v-1,f-s),y=0;v>y;y++)e[y].y>=i?g.push(e[y]):m.push(e[y]);h(m,!1,t,i,a,n),h(g,!0,t,i,a,n)}function eh(e,t,i,a,n,r,s,o){for(var l=[],c=[],u=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<e.length;h++)th(e[h])||(e[h].x<t?(u=Math.min(u,e[h].x),l.push(e[h])):(d=Math.max(d,e[h].x),c.push(e[h])));for(Qd(c,t,i,a,1,n,r,s,o,d),Qd(l,t,i,a,-1,n,r,s,o,u),h=0;h<e.length;h++){var p=e[h];if(!th(p)){var f=p.linePoints;if(f){var v,m="edge"===p.labelAlignTo,g=p.textRect.width;(v=m?p.x<t?f[2][0]-p.labelDistance-s-p.labelMargin:s+n-p.labelMargin-f[2][0]-p.labelDistance:p.x<t?p.x-s-p.bleedMargin:s+n-p.x-p.bleedMargin)<p.textRect.width&&(p.text=Jt(p.text,v,p.font),"edge"===p.labelAlignTo&&(g=qt(p.text,p.font)));var y=f[1][0]-f[2][0];m?f[2][0]=p.x<t?s+p.labelMargin+g+p.labelDistance:s+n-p.labelMargin-g-p.labelDistance:(f[2][0]=p.x<t?p.x+p.labelDistance:p.x-p.labelDistance,f[1][0]=f[2][0]+y),f[1][1]=f[2][1]=p.y}}}}function th(e){return"center"===e.position}function ih(e,t){return Kr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function ah(e,t,i){var a,n={},r="toggleSelected"===e;return i.eachComponent("legend",(function(i){r&&null!=a?i[a?"select":"unSelect"](t.name):"allSelect"===e||"inverseSelect"===e?i[e]():(i[e](t.name),a=i.isSelected(t.name)),f(i.getData(),(function(e){var t=e.get("name");if("\n"!==t&&""!==t){var a=i.isSelected(t);n[t]=n.hasOwnProperty(t)?n[t]&&a:a}}))})),"allSelect"===e||"inverseSelect"===e?{selected:n}:{name:t.name,selected:n}}function nh(e,t){var i=gy(t.get("padding")),a=t.getItemStyle(["color","opacity"]);return a.fill=t.get("backgroundColor"),e=new Ag({shape:{x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2],r:t.get("borderRadius")},style:a,silent:!0,z2:-1})}function rh(e,t,i,a,n,r){var s;return"line"!==t&&t.indexOf("empty")<0?(s=i.getItemStyle(),e.style.stroke=a,r||(s.stroke=n)):s=i.getItemStyle(["borderWidth","borderColor"]),e.setStyle(s)}function sh(e,t,i,a){lh(e,t,i,a),i.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),oh(e,t,i,a)}function oh(e,t,i,a){var n=i.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:a})}function lh(e,t,i,a){var n=i.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:a})}function ch(e,t,i){var a=[1,1];a[e.getOrient().index]=0,Qr(t,i,{type:"box",ignoreSize:a})}function uh(e,t,i,a,n){var r=e.axis;if(!r.scale.isBlank()&&r.containData(t)){if(!e.involveSeries)return void i.showPointer(e,t);var s=dh(t,e),l=s.payloadBatch,c=s.snapToValue;l[0]&&null==n.seriesIndex&&o(n,l[0]),!a&&e.snap&&r.containData(c)&&null!=c&&(t=c),i.showPointer(e,t,l,n),i.showTooltip(e,s,c)}}function dh(e,t){var i=t.axis,a=i.dim,n=e,r=[],s=Number.MAX_VALUE,o=-1;return SS(t.seriesModels,(function(t){var l,c,u=t.getData().mapDimension(a,!0);if(t.getAxisTooltipData){var d=t.getAxisTooltipData(u,e,i);c=d.dataIndices,l=d.nestestValue}else{if(!(c=t.getData().indicesOfNearest(u[0],e,"category"===i.type?.5:null)).length)return;l=t.getData().get(u[0],c[0])}if(null!=l&&isFinite(l)){var h=e-l,p=Math.abs(h);s>=p&&((s>p||h>=0&&0>o)&&(s=p,o=h,n=l,r.length=0),SS(c,(function(e){r.push({seriesIndex:t.seriesIndex,dataIndexInside:e,dataIndex:t.getData().getRawIndex(e)})})))}})),{payloadBatch:r,snapToValue:n}}function hh(e,t,i,a){e[t.key]={value:i,payloadBatch:a}}function ph(e,t,i,a){var n=i.payloadBatch,r=t.axis,s=r.model,o=t.axisPointerModel;if(t.triggerTooltip&&n.length){var l=t.coordSys.model,c=gd(l),u=e.map[c];u||(u=e.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},e.list.push(u)),u.dataByAxis.push({axisDim:r.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:a,valueLabelOpt:{precision:o.get("label.precision"),formatter:o.get("label.formatter")},seriesDataIndices:n.slice()})}}function fh(e,t,i){var a=i.axesInfo=[];SS(t,(function(t,i){var n=t.axisPointerModel.option,r=e[i];r?(!t.useHandle&&(n.status="show"),n.value=r.value,n.seriesDataIndices=(r.payloadBatch||[]).slice()):!t.useHandle&&(n.status="hide"),"show"===n.status&&a.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:n.value})}))}function vh(e,t,i,a){if(!_h(t)&&e.list.length){var n=((e.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:e.list})}else a({type:"hideTip"})}function mh(e,t,i){var a=i.getZr(),n="axisPointerLastHighlights",r=IS(a)[n]||{},s=IS(a)[n]={};SS(e,(function(e){var t=e.axisPointerModel.option;"show"===t.status&&SS(t.seriesDataIndices,(function(e){var t=e.seriesIndex+" | "+e.dataIndex;s[t]=e}))}));var o=[],l=[];f(r,(function(e,t){!s[t]&&l.push(e)})),f(s,(function(e,t){!r[t]&&o.push(e)})),l.length&&i.dispatchAction({type:"downplay",escapeConnect:!0,batch:l}),o.length&&i.dispatchAction({type:"highlight",escapeConnect:!0,batch:o})}function gh(e,t){for(var i=0;i<(e||[]).length;i++){var a=e[i];if(t.axis.dim===a.axisDim&&t.axis.model.componentIndex===a.axisIndex)return a}}function yh(e){var t=e.axis.model,i={},a=i.axisDim=e.axis.dim;return i.axisIndex=i[a+"AxisIndex"]=t.componentIndex,i.axisName=i[a+"AxisName"]=t.name,i.axisId=i[a+"AxisId"]=t.id,i}function _h(e){return!e||null==e[0]||isNaN(e[0])||null==e[1]||isNaN(e[1])}function bh(e,t,i){if(!Up.node){var a=t.getZr();OS(a).records||(OS(a).records={}),xh(a,t),(OS(a).records[e]||(OS(a).records[e]={})).handler=i}}function xh(e,t){function i(i,a){e.on(i,(function(i){var n=Ih(t);TS(OS(e).records,(function(e){e&&a(e,i,n.dispatchAction)})),wh(n.pendings,t)}))}OS(e).initialized||(OS(e).initialized=!0,i("click",b(Ch,"click")),i("mousemove",b(Ch,"mousemove")),i("globalout",Sh))}function wh(e,t){var i,a=e.showTip.length,n=e.hideTip.length;a?i=e.showTip[a-1]:n&&(i=e.hideTip[n-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}function Sh(e,t,i){e.handler("leave",null,i)}function Ch(e,t,i,a){t.handler(e,i,a)}function Ih(e){var t={showTip:[],hideTip:[]},i=function i(a){var n=t[a.type];n?n.push(a):(a.dispatchAction=i,e.dispatchAction(a))};return{dispatchAction:i,pendings:t}}function kh(e,t){if(!Up.node){var i=t.getZr();(OS(i).records||{})[e]&&(OS(i).records[e]=null)}}function Oh(){}function Th(e,t,i,a){Ph(DS(i).lastProp,a)||(DS(i).lastProp=a,t?tr(i,a,e):(i.stopAnimation(),i.attr(a)))}function Ph(e,t){if(C(e)&&C(t)){var i=!0;return f(t,(function(t,a){i=i&&Ph(e[a],t)})),!!i}return e===t}function Dh(e,t){e[t.get("label.show")?"show":"hide"]()}function Mh(e){return{position:e.position.slice(),rotation:e.rotation||0}}function Lh(e,t,i){var a=t.get("z"),n=t.get("zlevel");e&&e.traverse((function(e){"group"!==e.type&&(null!=a&&(e.z=a),null!=n&&(e.zlevel=n),e.silent=i)}))}function Eh(e){var t,i=e.get("type"),a=e.getModel(i+"Style");return"line"===i?(t=a.getLineStyle()).fill=null:"shadow"===i&&((t=a.getAreaStyle()).stroke=null),t}function Ah(e,t,i,a,n){var r=Nh(i.get("value"),t.axis,t.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),s=i.getModel("label"),o=gy(s.get("padding")||0),l=s.getFont(),c=Gt(r,l),u=n.position,d=c.width+o[1]+o[3],h=c.height+o[0]+o[2],p=n.align;"right"===p&&(u[0]-=d),"center"===p&&(u[0]-=d/2);var f=n.verticalAlign;"bottom"===f&&(u[1]-=h),"middle"===f&&(u[1]-=h/2),jh(u,d,h,a);var v=s.get("backgroundColor");v&&"auto"!==v||(v=t.get("axisLine.lineStyle.color")),e.label={shape:{x:0,y:0,width:d,height:h,r:s.get("borderRadius")},position:u.slice(),style:{text:r,textFont:l,textFill:s.getTextColor(),textPosition:"inside",textPadding:o,fill:v,stroke:s.get("borderColor")||"transparent",lineWidth:s.get("borderWidth")||0,shadowBlur:s.get("shadowBlur"),shadowColor:s.get("shadowColor"),shadowOffsetX:s.get("shadowOffsetX"),shadowOffsetY:s.get("shadowOffsetY")},z2:10}}function jh(e,t,i,a){var n=a.getWidth(),r=a.getHeight();e[0]=Math.min(e[0]+t,n)-t,e[1]=Math.min(e[1]+i,r)-i,e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0)}function Nh(e,t,i,a,n){e=t.scale.parse(e);var r=t.scale.getLabel(e,{precision:n.precision}),s=n.formatter;if(s){var o={value:Uc(t,e),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};f(a,(function(e){var t=i.getSeriesByIndex(e.seriesIndex),a=e.dataIndexInside,n=t&&t.getDataParams(a);n&&o.seriesData.push(n)})),S(s)?r=s.replace("{value}",r):w(s)&&(r=s(o))}return r}function Vh(e,t,i){var a=Ae();return Fe(a,a,i.rotation),Re(a,a,i.position),nr([e.dataToCoord(t),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],a)}function Rh(e,t,i,a,n,r){var s=gw.innerTextLayout(i.rotation,0,i.labelDirection);i.labelMargin=n.get("label.margin"),Ah(t,a,n,r,{position:Vh(a.axis,e,i),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function Fh(e,t,i){return{x1:e[i=i||0],y1:e[1-i],x2:t[i],y2:t[1-i]}}function $h(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}}function zh(e,t){var i={};return i[t.dim+"AxisIndex"]=t.index,e.getCartesian(i)}function Bh(e){return"x"===e.dim?0:1}function Zh(e){var t="cubic-bezier(0.23, 1, 0.32, 1)",i="left "+e+"s "+t+",top "+e+"s "+t;return v(VS,(function(e){return e+"transition:"+i})).join(";")}function Hh(e){var t=[],i=e.get("fontSize"),a=e.getTextColor();a&&t.push("color:"+a),t.push("font:"+e.getFont());var n=e.get("lineHeight");null==n&&(n=Math.round(3*i/2)),i&&t.push("line-height:"+n+"px");var r=e.get("textShadowColor"),s=e.get("textShadowBlur")||0,o=e.get("textShadowOffsetX")||0,l=e.get("textShadowOffsetY")||0;return s&&t.push("text-shadow:"+o+"px "+l+"px "+s+"px "+r),jS(["decoration","align"],(function(i){var a=e.get(i);a&&t.push("text-"+i+":"+a)})),t.join(";")}function qh(e){var t=[],i=e.get("transitionDuration"),a=e.get("backgroundColor"),n=e.getModel("textStyle"),r=e.get("padding");return i&&t.push(Zh(i)),a&&(Up.canvasSupported?t.push("background-Color:"+a):(t.push("background-Color:#"+rt(a)),t.push("filter:alpha(opacity=70)"))),jS(["width","color","radius"],(function(i){var a="border-"+i,n=NS(a),r=e.get(n);null!=r&&t.push(a+":"+r+("color"===i?"":"px"))})),t.push(Hh(n)),null!=r&&t.push("padding:"+gy(r).join("px ")+"px"),t.join(";")+";"}function Gh(e,t,i,a,n){var r=t&&t.painter;if(i){var s=r&&r.getViewportRoot();s&&ve(e,s,document.body,a,n)}else{e[0]=a,e[1]=n;var o=r&&r.getViewportRootOffset();o&&(e[0]+=o.offsetLeft,e[1]+=o.offsetTop)}e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function Uh(e,t,i){if(Up.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var n=this._zr=t.getZr(),r=this._appendToBody=i&&i.appendToBody;this._styleCoord=[0,0,0,0],Gh(this._styleCoord,n,r,t.getWidth()/2,t.getHeight()/2),r?document.body.appendChild(a):e.appendChild(a),this._container=e,this._show=!1,this._hideTimeout;var s=this;a.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},a.onmousemove=function(e){if(e=e||window.event,!s._enterable){var t=n.handler;Se(n.painter.getViewportRoot(),e,!0),t.dispatch("mousemove",e)}},a.onmouseleave=function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}}function Xh(e,t,i,a){e[0]=i,e[1]=a,e[2]=e[0]/t.getWidth(),e[3]=e[1]/t.getHeight()}function Wh(e){var t=this._zr=e.getZr();this._styleCoord=[0,0,0,0],Xh(this._styleCoord,t,e.getWidth()/2,e.getHeight()/2),this._show=!1,this._hideTimeout}function Yh(e){for(var t=e.pop();e.length;){var i=e.pop();i&&(fr.isInstance(i)&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),t=new fr(i,t,t.ecModel))}return t}function Kh(e,t){return e.dispatchAction||_(t.dispatchAction,t)}function Jh(e,t,i,a,n,r,s){var o=i.getOuterSize(),l=o.width,c=o.height;return null!=r&&(e+l+r>a?e-=l+r:e+=r),null!=s&&(t+c+s>n?t-=c+s:t+=s),[e,t]}function Qh(e,t,i,a,n){var r=i.getOuterSize(),s=r.width,o=r.height;return e=Math.min(e+s,a)-s,t=Math.min(t+o,n)-o,[e=Math.max(e,0),t=Math.max(t,0)]}function ep(e,t,i){var a=i[0],n=i[1],r=5,s=0,o=0,l=t.width,c=t.height;switch(e){case"inside":s=t.x+l/2-a/2,o=t.y+c/2-n/2;break;case"top":s=t.x+l/2-a/2,o=t.y-n-r;break;case"bottom":s=t.x+l/2-a/2,o=t.y+c+r;break;case"left":s=t.x-a-r,o=t.y+c/2-n/2;break;case"right":s=t.x+l+r,o=t.y+c/2-n/2}return[s,o]}function tp(e){return"center"===e||"middle"===e}function ip(e){return u(ZS,e)>=0}function ap(e,t){var i=v(e=e.slice(),Gr),a=v(t=(t||[]).slice(),Gr);return function(n,r){f(e,(function(e,s){for(var o={name:e,capital:i[s]},l=0;l<t.length;l++)o[t[l]]=e+a[l];n.call(r,o)}))}}function np(e,t,i){function a(e,t){return u(t.nodes,e)>=0}function n(e,a){var n=!1;return t((function(t){f(i(e,t)||[],(function(e){a.records[t.name][e]&&(n=!0)}))})),n}function r(e,a){a.nodes.push(e),t((function(t){f(i(e,t)||[],(function(e){a.records[t.name][e]=!0}))}))}return function(i){function s(e){!a(e,l)&&n(e,l)&&(r(e,l),o=!0)}var o,l={nodes:[],records:{}};if(t((function(e){l.records[e.name]={}})),!i)return l;r(i,l);do{o=!1,e(s)}while(o);return l}}function rp(e,t){var i=e[t]-e[1-t];return{span:Math.abs(i),sign:i>0?-1:0>i?1:t?-1:1}}function sp(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}function op(e,t,i){var a=[1/0,-1/0];return GS(i,(function(e){var i=e.getData();i&&GS(i.mapDimension(t,!0),(function(e){var t=i.getApproximateExtent(e);t[0]<a[0]&&(a[0]=t[0]),t[1]>a[1]&&(a[1]=t[1])}))})),a[1]<a[0]&&(a=[NaN,NaN]),lp(e,a),a}function lp(e,t){var i=e.getAxisModel(),a=i.getMin(!0),n="category"===i.get("type"),r=n&&i.getCategories().length;null!=a&&"dataMin"!==a&&"function"!=typeof a?t[0]=a:n&&(t[0]=r>0?0:NaN);var s=i.getMax(!0);return null!=s&&"dataMax"!==s&&"function"!=typeof s?t[1]=s:n&&(t[1]=r>0?r-1:NaN),i.get("scale",!0)||(t[0]>0&&(t[0]=0),t[1]<0&&(t[1]=0)),t}function cp(e,t){var i=e.getAxisModel(),a=e._percentWindow,n=e._valueWindow;if(a){var r=Or(n,[0,500]);r=Math.min(r,20);var s=t||0===a[0]&&100===a[1];i.setRange(s?null:+n[0].toFixed(r),s?null:+n[1].toFixed(r))}}function up(e){var t=e._minMaxSpan={},i=e._dataZoomModel,a=e._dataExtent;GS(["min","max"],(function(n){var r=i.get(n+"Span"),s=i.get(n+"ValueSpan");null!=s&&(s=e.getAxisModel().axis.scale.parse(s)),null!=s?r=xr(a[0]+s,a,[0,100],!0):null!=r&&(s=xr(r,[0,100],a,!0)-a[0]),t[n+"Span"]=r,t[n+"ValueSpan"]=s}))}function dp(e){var t={};return WS(["start","end","startValue","endValue","throttle"],(function(i){e.hasOwnProperty(i)&&(t[i]=e[i])})),t}function hp(e,t){var i=e._rangePropMode,a=e.get("rangeMode");WS([["start","startValue"],["end","endValue"]],(function(e,n){var r=null!=t[e[0]],s=null!=t[e[1]];r&&!s?i[n]="percent":!r&&s?i[n]="value":a?i[n]=a[n]:r&&(i[n]="percent")}))}function pp(e){return{x:"y",y:"x",radius:"angle",angle:"radius"}[e]}function fp(e){return"vertical"===e?"ns-resize":"ew-resize"}function vp(e,t){return!!mp(e)[t]}function mp(e){return e[hC]||(e[hC]={})}function gp(e){this.pointerChecker,this._zr=e,this._opt={};var t=_,i=t(yp,this),a=t(_p,this),r=t(bp,this),s=t(xp,this),o=t(wp,this);mf.call(this),this.setPointerChecker=function(e){this.pointerChecker=e},this.enable=function(t,c){this.disable(),this._opt=l(n(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),(!0===t||"move"===t||"pan"===t)&&(e.on("mousedown",i),e.on("mousemove",a),e.on("mouseup",r)),(!0===t||"scale"===t||"zoom"===t)&&(e.on("mousewheel",s),e.on("pinch",o))},this.disable=function(){e.off("mousedown",i),e.off("mousemove",a),e.off("mouseup",r),e.off("mousewheel",s),e.off("pinch",o)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function yp(e){if(!(ke(e)||e.target&&e.target.draggable)){var t=e.offsetX,i=e.offsetY;this.pointerChecker&&this.pointerChecker(e,t,i)&&(this._x=t,this._y=i,this._dragging=!0)}}function _p(e){if(this._dragging&&Ip("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!vp(this._zr,"globalPan")){var t=e.offsetX,i=e.offsetY,a=this._x,n=this._y,r=t-a,s=i-n;this._x=t,this._y=i,this._opt.preventDefaultMouseMove&&Sf(e.event),Cp(this,"pan","moveOnMouseMove",e,{dx:r,dy:s,oldX:a,oldY:n,newX:t,newY:i})}}function bp(e){ke(e)||(this._dragging=!1)}function xp(e){var t=Ip("zoomOnMouseWheel",e,this._opt),i=Ip("moveOnMouseWheel",e,this._opt),a=e.wheelDelta,n=Math.abs(a),r=e.offsetX,s=e.offsetY;if(0!==a&&(t||i)){if(t){var o=n>3?1.4:n>1?1.2:1.1;Sp(this,"zoom","zoomOnMouseWheel",e,{scale:a>0?o:1/o,originX:r,originY:s})}if(i){var l=Math.abs(a);Sp(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(a>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:r,originY:s})}}}function wp(e){vp(this._zr,"globalPan")||Sp(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY})}function Sp(e,t,i,a,n){e.pointerChecker&&e.pointerChecker(a,n.originX,n.originY)&&(Sf(a.event),Cp(e,t,i,a,n))}function Cp(e,t,i,a,n){n.isAvailableBehavior=_(Ip,null,i,a),e.trigger(t,n)}function Ip(e,t,i){var a=i[e];return!e||a&&(!S(a)||t.event[a+"Key"])}function kp(e,t){var i=Pp(e),a=t.dataZoomId,n=t.coordId;f(i,(function(e){var i=e.dataZoomInfos;i[a]&&u(t.allCoordIds,n)<0&&(delete i[a],e.count--)})),Mp(i);var r=i[n];r||((r=i[n]={coordId:n,dataZoomInfos:{},count:0}).controller=Dp(e,r),r.dispatchAction=b(Lp,e)),!r.dataZoomInfos[a]&&r.count++,r.dataZoomInfos[a]=t;var s=Ep(r.dataZoomInfos);r.controller.enable(s.controlType,s.opt),r.controller.setPointerChecker(t.containsPoint),bo(r,"dispatchAction",t.dataZoomModel.get("throttle",!0),"fixRate")}function Op(e,t){var i=Pp(e);f(i,(function(e){e.controller.dispose();var i=e.dataZoomInfos;i[t]&&(delete i[t],e.count--)})),Mp(i)}function Tp(e){return e.type+"\0_"+e.id}function Pp(e){var t=e.getZr();return t[pC]||(t[pC]={})}function Dp(e,t){var i=new gp(e.getZr());return f(["pan","zoom","scrollMove"],(function(e){i.on(e,(function(i){var a=[];f(t.dataZoomInfos,(function(n){if(i.isAvailableBehavior(n.dataZoomModel.option)){var r=(n.getRange||{})[e],s=r&&r(t.controller,i);!n.dataZoomModel.get("disabled",!0)&&s&&a.push({dataZoomId:n.dataZoomId,start:s[0],end:s[1]})}})),a.length&&t.dispatchAction(a)}))})),i}function Mp(e){f(e,(function(t,i){t.count||(t.controller.dispose(),delete e[i])}))}function Lp(e,t){e.dispatchAction({type:"dataZoom",batch:t})}function Ep(e){var t,i="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},n=!0;return f(e,(function(e){var r=e.dataZoomModel,s=!r.get("disabled",!0)&&(!r.get("zoomLock",!0)||"move");a[i+s]>a[i+t]&&(t=s),n&=r.get("preventDefaultMouseMove",!0)})),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!n}}}function Ap(e){return function(t,i,a,n){var r=this._range,s=r.slice(),o=t.axisModels[0];if(o){var l=e(s,o,t,i,a,n);return qS(l,s,[0,100],"all"),this._range=s,r[0]!==s[0]||r[1]!==s[1]?s:void 0}}}function jp(e,t,i,a){var n=i.type;Hp&&A(n,"graphic type MUST be set");var r=yC.hasOwnProperty(n)?yC[n]:_n(n);Hp&&A(r,"graphic type can not be found");var s=new r(i);t.add(s),a.set(e,s),s.__ecGraphicId=e}function Np(e,t){var i=e&&e.parent;i&&("group"===e.type&&e.traverse((function(e){Np(e,t)})),t.removeKey(e.__ecGraphicId),i.remove(e))}function Vp(e){return e=o({},e),f(["id","parentId","$action","hv","bounding"].concat(Iy),(function(t){delete e[t]})),e}function Rp(e,t){var i;return f(t,(function(t){null!=e[t]&&"auto"!==e[t]&&(i=!0)})),i}function Fp(e,t){var i=e.exist;if(t.id=e.keyInfo.id,!t.type&&i&&(t.type=i.type),null==t.parentId){var a=t.parentOption;a?t.parentId=a.id:i&&(t.parentId=i.parentId)}t.parentOption=null}function $p(e,t,i){var a=o({},i),n=e[t],s=i.$action||"merge";if("merge"===s)if(n){if(Hp){var l=i.type;A(!l||n.type===l,'Please set $action: "replace" to change `type`')}r(n,a,!0),Qr(n,a,{ignoreSize:!0}),ts(i,n)}else e[t]=a;else"replace"===s?e[t]=a:"remove"===s&&n&&(e[t]=null)}function zp(e,t){e&&(e.hv=t.hv=[Rp(t,["left","right"]),Rp(t,["top","bottom"])],"group"===e.type&&(null==e.width&&(e.width=t.width=0),null==e.height&&(e.height=t.height=0)))}function Bp(e,t){var i=e.eventData;e.silent||e.ignore||i||(i=e.eventData={componentType:"graphic",componentIndex:t.componentIndex,name:e.name}),i&&(i.info=e.info)}var Zp;"undefined"!=typeof window?Zp=window.__DEV__:void 0!==i.g&&(Zp=i.g.__DEV__),void 0===Zp&&(Zp=!0);var Hp=Zp,qp=2311,Gp=function(){return qp++},Up="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:t(navigator.userAgent),Xp={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Wp={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Yp=Object.prototype.toString,Kp=Array.prototype,Jp=Kp.forEach,Qp=Kp.filter,ef=Kp.slice,tf=Kp.map,af=Kp.reduce,nf={},rf=function(){return nf.createCanvas()};nf.createCanvas=function(){return document.createElement("canvas")};var sf,of="__ec_primitive__";R.prototype={constructor:R,get:function(e){return this.data.hasOwnProperty(e)?this.data[e]:null},set:function(e,t){return this.data[e]=t},each:function(e,t){for(var i in void 0!==t&&(e=_(e,t)),this.data)this.data.hasOwnProperty(i)&&e(this.data[i],i)},removeKey:function(e){delete this.data[e]}};var lf=(Object.freeze||Object)({$override:a,clone:n,merge:r,mergeAll:s,extend:o,defaults:l,createCanvas:rf,getContext:c,indexOf:u,inherits:d,mixin:h,isArrayLike:p,each:f,map:v,reduce:m,filter:g,find:y,bind:_,curry:b,isArray:x,isFunction:w,isString:S,isObject:C,isBuiltInObject:I,isTypedArray:k,isDom:O,eqNaN:T,retrieve:P,retrieve2:D,retrieve3:M,slice:L,normalizeCssArray:E,assert:A,trim:j,setAsPrimitive:N,isPrimitive:V,createHashMap:F,concatArray:$,noop:z}),cf="undefined"==typeof Float32Array?Array:Float32Array,uf=W,df=Y,hf=ie,pf=ae,ff=(Object.freeze||Object)({create:B,copy:Z,clone:H,set:q,add:G,scaleAndAdd:U,sub:X,len:W,length:uf,lenSquare:Y,lengthSquare:df,mul:K,div:J,dot:Q,scale:ee,normalize:te,distance:ie,dist:hf,distanceSquare:ae,distSquare:pf,negate:ne,lerp:re,applyTransform:se,min:oe,max:le});ce.prototype={constructor:ce,_dragStart:function(e){for(var t=e.target;t&&!t.draggable;)t=t.parent;t&&(this._draggingTarget=t,t.dragging=!0,this._x=e.offsetX,this._y=e.offsetY,this.dispatchToElement(ue(t,e),"dragstart",e.event))},_drag:function(e){var t=this._draggingTarget;if(t){var i=e.offsetX,a=e.offsetY,n=i-this._x,r=a-this._y;this._x=i,this._y=a,t.drift(n,r,e),this.dispatchToElement(ue(t,e),"drag",e.event);var s=this.findHover(i,a,t).target,o=this._dropTarget;this._dropTarget=s,t!==s&&(o&&s!==o&&this.dispatchToElement(ue(o,e),"dragleave",e.event),s&&s!==o&&this.dispatchToElement(ue(s,e),"dragenter",e.event))}},_dragEnd:function(e){var t=this._draggingTarget;t&&(t.dragging=!1),this.dispatchToElement(ue(t,e),"dragend",e.event),this._dropTarget&&this.dispatchToElement(ue(this._dropTarget,e),"drop",e.event),this._draggingTarget=null,this._dropTarget=null}};var vf=Array.prototype.slice,mf=function(e){this._$handlers={},this._$eventProcessor=e};mf.prototype={constructor:mf,one:function(e,t,i,a){return he(this,e,t,i,a,!0)},on:function(e,t,i,a){return he(this,e,t,i,a,!1)},isSilent:function(e){var t=this._$handlers;return!t[e]||!t[e].length},off:function(e,t){var i=this._$handlers;if(!e)return this._$handlers={},this;if(t){if(i[e]){for(var a=[],n=0,r=i[e].length;r>n;n++)i[e][n].h!==t&&a.push(i[e][n]);i[e]=a}i[e]&&0===i[e].length&&delete i[e]}else delete i[e];return this},trigger:function(e){var t=this._$handlers[e],i=this._$eventProcessor;if(t){var a=arguments,n=a.length;n>3&&(a=vf.call(a,1));for(var r=t.length,s=0;r>s;){var o=t[s];if(i&&i.filter&&null!=o.query&&!i.filter(e,o.query))s++;else{switch(n){case 1:o.h.call(o.ctx);break;case 2:o.h.call(o.ctx,a[1]);break;case 3:o.h.call(o.ctx,a[1],a[2]);break;default:o.h.apply(o.ctx,a)}o.one?(t.splice(s,1),r--):s++}}}return i&&i.afterTrigger&&i.afterTrigger(e),this},triggerWithContext:function(e){var t=this._$handlers[e],i=this._$eventProcessor;if(t){var a=arguments,n=a.length;n>4&&(a=vf.call(a,1,a.length-1));for(var r=a[a.length-1],s=t.length,o=0;s>o;){var l=t[o];if(i&&i.filter&&null!=l.query&&!i.filter(e,l.query))o++;else{switch(n){case 1:l.h.call(r);break;case 2:l.h.call(r,a[1]);break;case 3:l.h.call(r,a[1],a[2]);break;default:l.h.apply(r,a)}l.one?(t.splice(o,1),s--):o++}}}return i&&i.afterTrigger&&i.afterTrigger(e),this}};var gf=Math.log(2),yf="___zrEVENTSAVED",_f=[],bf="undefined"!=typeof window&&!!window.addEventListener,xf=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wf=[],Sf=bf?function(e){e.preventDefault(),e.stopPropagation(),e.cancelBubble=!0}:function(e){e.returnValue=!1,e.cancelBubble=!0},Cf=function(){this._track=[]};Cf.prototype={constructor:Cf,recognize:function(e,t,i){return this._doTrack(e,t,i),this._recognize(e)},clear:function(){return this._track.length=0,this},_doTrack:function(e,t,i){var a=e.touches;if(a){for(var n={points:[],touches:[],target:t,event:e},r=0,s=a.length;s>r;r++){var o=a[r],l=be(i,o,{});n.points.push([l.zrX,l.zrY]),n.touches.push(o)}this._track.push(n)}},_recognize:function(e){for(var t in If)if(If.hasOwnProperty(t)){var i=If[t](this._track,e);if(i)return i}}};var If={pinch:function(e,t){var i=e.length;if(i){var a=(e[i-1]||{}).points,n=(e[i-2]||{}).points||a;if(n&&n.length>1&&a&&a.length>1){var r=Oe(a)/Oe(n);!isFinite(r)&&(r=1),t.pinchScale=r;var s=Te(a);return t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:e[0].target,event:t}}}}},kf="silent";Me.prototype.dispose=function(){};var Of=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Tf=function(e,t,i,a){mf.call(this),this.storage=e,this.painter=t,this.painterRoot=a,i=i||new Me,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,ce.call(this),this.setHandlerProxy(i)};Tf.prototype={constructor:Tf,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(f(Of,(function(t){e.on&&e.on(t,this[t],this)}),this),e.handler=this),this.proxy=e},mousemove:function(e){var t=e.zrX,i=e.zrY,a=Ee(this,t,i),n=this._hovered,r=n.target;r&&!r.__zr&&(r=(n=this.findHover(n.x,n.y)).target);var s=this._hovered=a?{x:t,y:i}:this.findHover(t,i),o=s.target,l=this.proxy;l.setCursor&&l.setCursor(o?o.cursor:"default"),r&&o!==r&&this.dispatchToElement(n,"mouseout",e),this.dispatchToElement(s,"mousemove",e),o&&o!==r&&this.dispatchToElement(s,"mouseover",e)},mouseout:function(e){var t=e.zrEventControl,i=e.zrIsToLocalDOM;"only_globalout"!==t&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==t&&!i&&this.trigger("globalout",{type:"globalout",event:e})},resize:function(){this._hovered={}},dispatch:function(e,t){var i=this[e];i&&i.call(this,t)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(e){var t=this.proxy;t.setCursor&&t.setCursor(e)},dispatchToElement:function(e,t,i){var a=(e=e||{}).target;if(!a||!a.silent){for(var n="on"+t,r=Pe(t,e,i);a&&(a[n]&&(r.cancelBubble=a[n].call(a,r)),a.trigger(t,r),a=a.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(t,r),this.painter&&this.painter.eachOtherLayer((function(e){"function"==typeof e[n]&&e[n].call(e,r),e.trigger&&e.trigger(t,r)})))}},findHover:function(e,t,i){for(var a=this.storage.getDisplayList(),n={x:e,y:t},r=a.length-1;r>=0;r--){var s;if(a[r]!==i&&!a[r].ignore&&(s=Le(a[r],e,t))&&(!n.topTarget&&(n.topTarget=a[r]),s!==kf)){n.target=a[r];break}}return n},processGesture:function(e,t){this._gestureMgr||(this._gestureMgr=new Cf);var i=this._gestureMgr;"start"===t&&i.clear();var a=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===t&&i.clear(),a){var n=a.type;e.gestureEvent=n,this.dispatchToElement({target:a.target},n,a.event)}}},f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(e){Tf.prototype[e]=function(t){var i,a,n=t.zrX,r=t.zrY,s=Ee(this,n,r);if("mouseup"===e&&s||(a=(i=this.findHover(n,r)).target),"mousedown"===e)this._downEl=a,this._downPoint=[t.zrX,t.zrY],this._upEl=a;else if("mouseup"===e)this._upEl=a;else if("click"===e){if(this._downEl!==this._upEl||!this._downPoint||hf(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(i,e,t)}})),h(Tf,mf),h(Tf,ce);var Pf="undefined"==typeof Float32Array?Array:Float32Array,Df=(Object.freeze||Object)({create:Ae,identity:je,copy:Ne,mul:Ve,translate:Re,rotate:Fe,scale:$e,invert:ze,clone:Be}),Mf=je,Lf=5e-5,Ef=function(e){(e=e||{}).position||(this.position=[0,0]),null==e.rotation&&(this.rotation=0),e.scale||(this.scale=[1,1]),this.origin=this.origin||null},Af=Ef.prototype;Af.transform=null,Af.needLocalTransform=function(){return Ze(this.rotation)||Ze(this.position[0])||Ze(this.position[1])||Ze(this.scale[0]-1)||Ze(this.scale[1]-1)};var jf=[];Af.updateTransform=function(){var e=this.parent,t=e&&e.transform,i=this.needLocalTransform(),a=this.transform;if(i||t){a=a||Ae(),i?this.getLocalTransform(a):Mf(a),t&&(i?Ve(a,e.transform,a):Ne(a,e.transform)),this.transform=a;var n=this.globalScaleRatio;if(null!=n&&1!==n){this.getGlobalScale(jf);var r=jf[0]<0?-1:1,s=jf[1]<0?-1:1,o=((jf[0]-r)*n+r)/jf[0]||0,l=((jf[1]-s)*n+s)/jf[1]||0;a[0]*=o,a[1]*=o,a[2]*=l,a[3]*=l}this.invTransform=this.invTransform||Ae(),ze(this.invTransform,a)}else a&&Mf(a)},Af.getLocalTransform=function(e){return Ef.getLocalTransform(this,e)},Af.setTransform=function(e){var t=this.transform,i=e.dpr||1;t?e.setTransform(i*t[0],i*t[1],i*t[2],i*t[3],i*t[4],i*t[5]):e.setTransform(i,0,0,i,0,0)},Af.restoreTransform=function(e){var t=e.dpr||1;e.setTransform(t,0,0,t,0,0)};var Nf=[],Vf=Ae();Af.setLocalTransform=function(e){if(e){var t=e[0]*e[0]+e[1]*e[1],i=e[2]*e[2]+e[3]*e[3],a=this.position,n=this.scale;Ze(t-1)&&(t=Math.sqrt(t)),Ze(i-1)&&(i=Math.sqrt(i)),e[0]<0&&(t=-t),e[3]<0&&(i=-i),a[0]=e[4],a[1]=e[5],n[0]=t,n[1]=i,this.rotation=Math.atan2(-e[1]/i,e[0]/t)}},Af.decomposeTransform=function(){if(this.transform){var e=this.parent,t=this.transform;e&&e.transform&&(Ve(Nf,e.invTransform,t),t=Nf);var i=this.origin;i&&(i[0]||i[1])&&(Vf[4]=i[0],Vf[5]=i[1],Ve(Nf,t,Vf),Nf[4]-=i[0],Nf[5]-=i[1],t=Nf),this.setLocalTransform(t)}},Af.getGlobalScale=function(e){var t=this.transform;return e=e||[],t?(e[0]=Math.sqrt(t[0]*t[0]+t[1]*t[1]),e[1]=Math.sqrt(t[2]*t[2]+t[3]*t[3]),t[0]<0&&(e[0]=-e[0]),t[3]<0&&(e[1]=-e[1]),e):(e[0]=1,e[1]=1,e)},Af.transformCoordToLocal=function(e,t){var i=[e,t],a=this.invTransform;return a&&se(i,i,a),i},Af.transformCoordToGlobal=function(e,t){var i=[e,t],a=this.transform;return a&&se(i,i,a),i},Ef.getLocalTransform=function(e,t){Mf(t=t||[]);var i=e.origin,a=e.scale||[1,1],n=e.rotation||0,r=e.position||[0,0];return i&&(t[4]-=i[0],t[5]-=i[1]),$e(t,t,a),n&&Fe(t,t,n),i&&(t[4]+=i[0],t[5]+=i[1]),t[4]+=r[0],t[5]+=r[1],t};var Rf={linear:function(e){return e},quadraticIn:function(e){return e*e},quadraticOut:function(e){return e*(2-e)},quadraticInOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)},cubicIn:function(e){return e*e*e},cubicOut:function(e){return--e*e*e+1},cubicInOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},quarticIn:function(e){return e*e*e*e},quarticOut:function(e){return 1- --e*e*e*e},quarticInOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},quinticIn:function(e){return e*e*e*e*e},quinticOut:function(e){return--e*e*e*e*e+1},quinticInOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},sinusoidalIn:function(e){return 1-Math.cos(e*Math.PI/2)},sinusoidalOut:function(e){return Math.sin(e*Math.PI/2)},sinusoidalInOut:function(e){return.5*(1-Math.cos(Math.PI*e))},exponentialIn:function(e){return 0===e?0:Math.pow(1024,e-1)},exponentialOut:function(e){return 1===e?1:1-Math.pow(2,-10*e)},exponentialInOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))},circularIn:function(e){return 1-Math.sqrt(1-e*e)},circularOut:function(e){return Math.sqrt(1- --e*e)},circularInOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},elasticIn:function(e){var t,i=.1,a=.4;return 0===e?0:1===e?1:(!i||1>i?(i=1,t=a/4):t=a*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/a))},elasticOut:function(e){var t,i=.1,a=.4;return 0===e?0:1===e?1:(!i||1>i?(i=1,t=a/4):t=a*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin(2*(e-t)*Math.PI/a)+1)},elasticInOut:function(e){var t,i=.1,a=.4;return 0===e?0:1===e?1:(!i||1>i?(i=1,t=a/4):t=a*Math.asin(1/i)/(2*Math.PI),(e*=2)<1?-.5*i*Math.pow(2,10*(e-=1))*Math.sin(2*(e-t)*Math.PI/a):i*Math.pow(2,-10*(e-=1))*Math.sin(2*(e-t)*Math.PI/a)*.5+1)},backIn:function(e){var t=1.70158;return e*e*((t+1)*e-t)},backOut:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},backInOut:function(e){var t=2.5949095;return(e*=2)<1?.5*e*e*((t+1)*e-t):.5*((e-=2)*e*((t+1)*e+t)+2)},bounceIn:function(e){return 1-Rf.bounceOut(1-e)},bounceOut:function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bounceInOut:function(e){return.5>e?.5*Rf.bounceIn(2*e):.5*Rf.bounceOut(2*e-1)+.5}};He.prototype={constructor:He,step:function(e,t){if(this._initialized||(this._startTime=e+this._delay,this._initialized=!0),this._paused)this._pausedTime+=t;else{var i=(e-this._startTime-this._pausedTime)/this._life;if(!(0>i)){i=Math.min(i,1);var a=this.easing,n="string"==typeof a?Rf[a]:a,r="function"==typeof n?n(i):i;return this.fire("frame",r),1===i?this.loop?(this.restart(e),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(e){var t=(e-this._startTime-this._pausedTime)%this._life;this._startTime=e-t+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(e,t){this[e="on"+e]&&this[e](this._target,t)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Ff=function(){this.head=null,this.tail=null,this._len=0},$f=Ff.prototype;$f.insert=function(e){var t=new zf(e);return this.insertEntry(t),t},$f.insertEntry=function(e){this.head?(this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e):this.head=this.tail=e,this._len++},$f.remove=function(e){var t=e.prev,i=e.next;t?t.next=i:this.head=i,i?i.prev=t:this.tail=t,e.next=e.prev=null,this._len--},$f.len=function(){return this._len},$f.clear=function(){this.head=this.tail=null,this._len=0};var zf=function(e){this.value=e,this.next,this.prev},Bf=function(e){this._list=new Ff,this._map={},this._maxSize=e||10,this._lastRemovedEntry=null},Zf=Bf.prototype;Zf.put=function(e,t){var i=this._list,a=this._map,n=null;if(null==a[e]){var r=i.len(),s=this._lastRemovedEntry;if(r>=this._maxSize&&r>0){var o=i.head;i.remove(o),delete a[o.key],n=o.value,this._lastRemovedEntry=o}s?s.value=t:s=new zf(t),s.key=e,i.insertEntry(s),a[e]=s}return n},Zf.get=function(e){var t=this._map[e],i=this._list;return null!=t?(t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value):void 0},Zf.clear=function(){this._list.clear(),this._map={}};var Hf={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},qf=new Bf(20),Gf=null,Uf=st,Xf=ot,Wf=(Object.freeze||Object)({parse:tt,lift:nt,toHex:rt,fastLerp:st,fastMapToColor:Uf,lerp:ot,mapToColor:Xf,modifyHSL:lt,modifyAlpha:ct,stringify:ut}),Yf=Array.prototype.slice,Kf=function(e,t,i,a){this._tracks={},this._target=e,this._loop=t||!1,this._getter=i||dt,this._setter=a||ht,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Kf.prototype={when:function(e,t){var i=this._tracks;for(var a in t)if(t.hasOwnProperty(a)){if(!i[a]){i[a]=[];var n=this._getter(this._target,a);if(null==n)continue;0!==e&&i[a].push({time:0,value:bt(n)})}i[a].push({time:e,value:t[a]})}return this},during:function(e){return this._onframeList.push(e),this},pause:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].pause();this._paused=!0},resume:function(){for(var e=0;e<this._clipList.length;e++)this._clipList[e].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var e=this._doneList,t=e.length,i=0;t>i;i++)e[i].call(this)},start:function(e,t){var i,a=this,n=0,r=function(){--n||a._doneCallback()};for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var o=St(this,e,r,this._tracks[s],s,t);o&&(this._clipList.push(o),n++,this.animation&&this.animation.addClip(o),i=o)}if(i){var l=i.onframe;i.onframe=function(e,t){l(e,t);for(var i=0;i<a._onframeList.length;i++)a._onframeList[i](e,t)}}return n||this._doneCallback(),this},stop:function(e){for(var t=this._clipList,i=this.animation,a=0;a<t.length;a++){var n=t[a];e&&n.onframe(this._target,1),i&&i.removeClip(n)}t.length=0},delay:function(e){return this._delay=e,this},done:function(e){return e&&this._doneList.push(e),this},getClips:function(){return this._clipList}};var Jf=1;"undefined"!=typeof window&&(Jf=Math.max(window.devicePixelRatio||1,1));var Qf=Jf,ev=function(){},tv=ev,iv=function(){this.animators=[]};iv.prototype={constructor:iv,animate:function(e,t){var i,a=!1,n=this,r=this.__zr;if(e){var s=e.split("."),o=n;a="shape"===s[0];for(var l=0,c=s.length;c>l;l++)o&&(o=o[s[l]]);o&&(i=o)}else i=n;if(i){var d=n.animators,h=new Kf(i,t);return h.during((function(){n.dirty(a)})).done((function(){d.splice(u(d,h),1)})),d.push(h),r&&r.animation.addAnimator(h),h}tv('Property "'+e+'" is not existed in element '+n.id)},stopAnimation:function(e){for(var t=this.animators,i=t.length,a=0;i>a;a++)t[a].stop(e);return t.length=0,this},animateTo:function(e,t,i,a,n,r){Ct(this,e,t,i,a,n,r)},animateFrom:function(e,t,i,a,n,r){Ct(this,e,t,i,a,n,r,!0)}};var av=function(e){Ef.call(this,e),mf.call(this,e),iv.call(this,e),this.id=e.id||Gp()};av.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(e,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":e=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=e,i[5]+=t,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(e,t){if("position"===e||"scale"===e||"origin"===e){if(t){var i=this[e];i||(i=this[e]=[]),i[0]=t[0],i[1]=t[1]}}else this[e]=t},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(e,t){if("string"==typeof e)this.attrKV(e,t);else if(C(e))for(var i in e)e.hasOwnProperty(i)&&this.attrKV(i,e[i]);return this.dirty(!1),this},setClipPath:function(e){var t=this.__zr;t&&e.addSelfToZr(t),this.clipPath&&this.clipPath!==e&&this.removeClipPath(),this.clipPath=e,e.__zr=t,e.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var e=this.clipPath;e&&(e.__zr&&e.removeSelfFromZr(e.__zr),e.__zr=null,e.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(e){this.__zr=e;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.addAnimator(t[i]);this.clipPath&&this.clipPath.addSelfToZr(e)},removeSelfFromZr:function(e){this.__zr=null;var t=this.animators;if(t)for(var i=0;i<t.length;i++)e.animation.removeAnimator(t[i]);this.clipPath&&this.clipPath.removeSelfFromZr(e)}},h(av,iv),h(av,Ef),h(av,mf);var nv=se,rv=Math.min,sv=Math.max;Ot.prototype={constructor:Ot,union:function(e){var t=rv(e.x,this.x),i=rv(e.y,this.y);this.width=sv(e.x+e.width,this.x+this.width)-t,this.height=sv(e.y+e.height,this.y+this.height)-i,this.x=t,this.y=i},applyTransform:function(){var e=[],t=[],i=[],a=[];return function(n){if(n){e[0]=i[0]=this.x,e[1]=a[1]=this.y,t[0]=a[0]=this.x+this.width,t[1]=i[1]=this.y+this.height,nv(e,e,n),nv(t,t,n),nv(i,i,n),nv(a,a,n),this.x=rv(e[0],t[0],i[0],a[0]),this.y=rv(e[1],t[1],i[1],a[1]);var r=sv(e[0],t[0],i[0],a[0]),s=sv(e[1],t[1],i[1],a[1]);this.width=r-this.x,this.height=s-this.y}}}(),calculateTransform:function(e){var t=this,i=e.width/t.width,a=e.height/t.height,n=Ae();return Re(n,n,[-t.x,-t.y]),$e(n,n,[i,a]),Re(n,n,[e.x,e.y]),n},intersect:function(e){if(!e)return!1;e instanceof Ot||(e=Ot.create(e));var t=this,i=t.x,a=t.x+t.width,n=t.y,r=t.y+t.height,s=e.x,o=e.x+e.width,l=e.y,c=e.y+e.height;return!(s>a||i>o||l>r||n>c)},contain:function(e,t){var i=this;return e>=i.x&&e<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},clone:function(){return new Ot(this.x,this.y,this.width,this.height)},copy:function(e){this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Ot.create=function(e){return new Ot(e.x,e.y,e.width,e.height)};var ov=function(e){for(var t in e=e||{},av.call(this,e),e)e.hasOwnProperty(t)&&(this[t]=e[t]);this._children=[],this.__storage=null,this.__dirty=!0};ov.prototype={constructor:ov,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(e){return this._children[e]},childOfName:function(e){for(var t=this._children,i=0;i<t.length;i++)if(t[i].name===e)return t[i]},childCount:function(){return this._children.length},add:function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},addBefore:function(e,t){if(e&&e!==this&&e.parent!==this&&t&&t.parent===this){var i=this._children,a=i.indexOf(t);a>=0&&(i.splice(a,0,e),this._doAdd(e))}return this},_doAdd:function(e){e.parent&&e.parent.remove(e),e.parent=this;var t=this.__storage,i=this.__zr;t&&t!==e.__storage&&(t.addToStorage(e),e instanceof ov&&e.addChildrenToStorage(t)),i&&i.refresh()},remove:function(e){var t=this.__zr,i=this.__storage,a=this._children,n=u(a,e);return 0>n||(a.splice(n,1),e.parent=null,i&&(i.delFromStorage(e),e instanceof ov&&e.delChildrenFromStorage(i)),t&&t.refresh()),this},removeAll:function(){var e,t,i=this._children,a=this.__storage;for(t=0;t<i.length;t++)e=i[t],a&&(a.delFromStorage(e),e instanceof ov&&e.delChildrenFromStorage(a)),e.parent=null;return i.length=0,this},eachChild:function(e,t){for(var i=this._children,a=0;a<i.length;a++){var n=i[a];e.call(t,n,a)}return this},traverse:function(e,t){for(var i=0;i<this._children.length;i++){var a=this._children[i];e.call(t,a),"group"===a.type&&a.traverse(e,t)}return this},addChildrenToStorage:function(e){for(var t=0;t<this._children.length;t++){var i=this._children[t];e.addToStorage(i),i instanceof ov&&i.addChildrenToStorage(e)}},delChildrenFromStorage:function(e){for(var t=0;t<this._children.length;t++){var i=this._children[t];e.delFromStorage(i),i instanceof ov&&i.delChildrenFromStorage(e)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(e){for(var t=null,i=new Ot(0,0,0,0),a=e||this._children,n=[],r=0;r<a.length;r++){var s=a[r];if(!s.ignore&&!s.invisible){var o=s.getBoundingRect(),l=s.getLocalTransform(n);l?(i.copy(o),i.applyTransform(l),(t=t||i.clone()).union(i)):(t=t||o.clone()).union(o)}}return t||i}},d(ov,av);var lv=32,cv=7,uv=function(){this._roots=[],this._displayList=[],this._displayListLen=0};uv.prototype={constructor:uv,traverse:function(e,t){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(e,t)},getDisplayList:function(e,t){return t=t||!1,e&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(e){this._displayListLen=0;for(var t=this._roots,i=this._displayList,a=0,n=t.length;n>a;a++)this._updateAndAddDisplayable(t[a],null,e);i.length=this._displayListLen,Up.canvasSupported&&jt(i,Nt)},_updateAndAddDisplayable:function(e,t,i){if(!e.ignore||i){e.beforeUpdate(),e.__dirty&&e.update(),e.afterUpdate();var a=e.clipPath;if(a){t=t?t.slice():[];for(var n=a,r=e;n;)n.parent=r,n.updateTransform(),t.push(n),r=n,n=n.clipPath}if(e.isGroup){for(var s=e._children,o=0;o<s.length;o++){var l=s[o];e.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,t,i)}e.__dirty=!1}else e.__clipPaths=t,this._displayList[this._displayListLen++]=e}},addRoot:function(e){e.__storage!==this&&(e instanceof ov&&e.addChildrenToStorage(this),this.addToStorage(e),this._roots.push(e))},delRoot:function(e){if(null==e){for(var t=0;t<this._roots.length;t++){var i=this._roots[t];i instanceof ov&&i.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(e instanceof Array){t=0;for(var a=e.length;a>t;t++)this.delRoot(e[t])}else{var n=u(this._roots,e);n>=0&&(this.delFromStorage(e),this._roots.splice(n,1),e instanceof ov&&e.delChildrenFromStorage(this))}},addToStorage:function(e){return e&&(e.__storage=this,e.dirty(!1)),this},delFromStorage:function(e){return e&&(e.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Nt};var dv={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},hv=function(e,t,i){return dv.hasOwnProperty(t)?i*=e.dpr:i},pv={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},fv=9,vv=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],mv=function(e){this.extendFrom(e,!1)};mv.prototype={constructor:mv,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(e,t,i){var a=this,n=i&&i.style,r=!n||e.__attrCachedBy!==pv.STYLE_BIND;e.__attrCachedBy=pv.STYLE_BIND;for(var s=0;s<vv.length;s++){var o=vv[s],l=o[0];(r||a[l]!==n[l])&&(e[l]=hv(e,l,a[l]||o[1]))}if((r||a.fill!==n.fill)&&(e.fillStyle=a.fill),(r||a.stroke!==n.stroke)&&(e.strokeStyle=a.stroke),(r||a.opacity!==n.opacity)&&(e.globalAlpha=null==a.opacity?1:a.opacity),(r||a.blend!==n.blend)&&(e.globalCompositeOperation=a.blend||"source-over"),this.hasStroke()){var c=a.lineWidth;e.lineWidth=c/(this.strokeNoScale&&t&&t.getLineScale?t.getLineScale():1)}},hasFill:function(){var e=this.fill;return null!=e&&"none"!==e},hasStroke:function(){var e=this.stroke;return null!=e&&"none"!==e&&this.lineWidth>0},extendFrom:function(e,t){if(e)for(var i in e)!e.hasOwnProperty(i)||!0!==t&&(!1===t?this.hasOwnProperty(i):null==e[i])||(this[i]=e[i])},set:function(e,t){"string"==typeof e?this[e]=t:this.extendFrom(e,!0)},clone:function(){var e=new this.constructor;return e.extendFrom(this,!0),e},getGradient:function(e,t,i){for(var a=("radial"===t.type?Rt:Vt)(e,t,i),n=t.colorStops,r=0;r<n.length;r++)a.addColorStop(n[r].offset,n[r].color);return a}};for(var gv=mv.prototype,yv=0;yv<vv.length;yv++){var _v=vv[yv];_v[0]in gv||(gv[_v[0]]=_v[1])}mv.getGradient=gv.getGradient;var bv=function(e,t){this.image=e,this.repeat=t,this.type="pattern"};bv.prototype.getCanvasPattern=function(e){return e.createPattern(this.image,this.repeat||"repeat")};var xv=function(e,t,i){var a;i=i||Qf,"string"==typeof e?a=$t(e,t,i):C(e)&&(e=(a=e).id),this.id=e,this.dom=a;var n=a.style;n&&(a.onselectstart=Ft,n["-webkit-user-select"]="none",n["user-select"]="none",n["-webkit-touch-callout"]="none",n["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",n.padding=0,n.margin=0,n["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=t,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i};xv.prototype={constructor:xv,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var e=this.dpr;this.domBack=$t("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},resize:function(e,t){var i=this.dpr,a=this.dom,n=a.style,r=this.domBack;n&&(n.width=e+"px",n.height=t+"px"),a.width=e*i,a.height=t*i,r&&(r.width=e*i,r.height=t*i,1!==i&&this.ctxBack.scale(i,i))},clear:function(e,t){var i,a=this.dom,n=this.ctx,r=a.width,s=a.height,o=(t=t||this.clearColor,this.motionBlur&&!e),l=this.lastFrameAlpha,c=this.dpr;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,r/c,s/c)),n.clearRect(0,0,r,s),t&&"transparent"!==t&&(t.colorStops?(i=t.__canvasGradient||mv.getGradient(n,t,{x:0,y:0,width:r,height:s}),t.__canvasGradient=i):t.image&&(i=bv.prototype.getCanvasPattern.call(t,n)),n.save(),n.fillStyle=i||t,n.fillRect(0,0,r,s),n.restore()),o){var u=this.domBack;n.save(),n.globalAlpha=l,n.drawImage(u,0,0,r,s),n.restore()}}};var wv="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(e){setTimeout(e,16)},Sv=new Bf(50),Cv={},Iv=0,kv=5e3,Ov=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Tv="12px sans-serif",Pv={measureText:function(e,t){var i=c();return i.font=t||Tv,i.measureText(e)}},Dv=Tv,Mv={left:1,right:1,center:1},Lv={top:1,bottom:1,middle:1},Ev=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Av={},jv={},Nv=new Ot,Vv=function(){};Vv.prototype={constructor:Vv,drawRectText:function(e,t){var i=this.style;t=i.textRect||t,this.__dirty&&ci(i,!0);var a=i.text;if(null!=a&&(a+=""),ki(a,i)){e.save();var n=this.transform;i.transformText?this.setTransform(e):n&&(Nv.copy(t),Nv.applyTransform(n),t=Nv),di(this,e,a,i,t,fv),e.restore()}}},Oi.prototype={constructor:Oi,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(e,t){return this.rectContain(e,t)},traverse:function(e,t){e.call(t,this)},rectContain:function(e,t){var i=this.transformCoordToLocal(e,t);return this.getBoundingRect().contain(i[0],i[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(e){return this.animate("style",e)},attrKV:function(e,t){"style"!==e?av.prototype.attrKV.call(this,e,t):this.style.set(t)},setStyle:function(e,t){return this.style.set(e,t),this.dirty(!1),this},useStyle:function(e){return this.style=new mv(e,this),this.dirty(!1),this},calculateTextPosition:null},d(Oi,av),h(Oi,Vv),Ti.prototype={constructor:Ti,type:"image",brush:function(e,t){var i=this.style,a=i.image;i.bind(e,this,t);var n=this._image=Bt(a,this._image,this,this.onload);if(n&&Ht(n)){var r=i.x||0,s=i.y||0,o=i.width,l=i.height,c=n.width/n.height;if(null==o&&null!=l?o=l*c:null==l&&null!=o?l=o/c:null==o&&null==l&&(o=n.width,l=n.height),this.setTransform(e),i.sWidth&&i.sHeight){var u=i.sx||0,d=i.sy||0;e.drawImage(n,u,d,i.sWidth,i.sHeight,r,s,o,l)}else if(i.sx&&i.sy){var h=o-(u=i.sx),p=l-(d=i.sy);e.drawImage(n,u,d,h,p,r,s,o,l)}else e.drawImage(n,r,s,o,l);null!=i.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))}},getBoundingRect:function(){var e=this.style;return this._rect||(this._rect=new Ot(e.x||0,e.y||0,e.width||0,e.height||0)),this._rect}},d(Ti,Oi);var Rv=1e5,Fv=314159,$v=.01,zv=.001,Bv=new Ot(0,0,0,0),Zv=new Ot(0,0,0,0),Hv=function(e,t,i){this.type="canvas";var a=!e.nodeName||"CANVAS"===e.nodeName.toUpperCase();this._opts=i=o({},i||{}),this.dpr=i.devicePixelRatio||Qf,this._singleCanvas=a,this.root=e;var n=e.style;n&&(n["-webkit-tap-highlight-color"]="transparent",n["-webkit-user-select"]=n["user-select"]=n["-webkit-touch-callout"]="none",e.innerHTML=""),this.storage=t;var r=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,a){var l=e.width,c=e.height;null!=i.width&&(l=i.width),null!=i.height&&(c=i.height),this.dpr=i.devicePixelRatio||1,e.width=l*this.dpr,e.height=c*this.dpr,this._width=l,this._height=c;var u=new xv(e,this,this.dpr);u.__builtin__=!0,u.initContext(),s[Fv]=u,u.zlevel=Fv,r.push(Fv),this._domRoot=e}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=Ai(this._width,this._height);e.appendChild(d)}this._hoverlayer=null,this._hoverElements=[]};Hv.prototype={constructor:Hv,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var e=this.getViewportRoot();return e?{offsetLeft:e.offsetLeft||0,offsetTop:e.offsetTop||0}:void 0},refresh:function(e){var t=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(t,e,this._redrawId);for(var a=0;a<i.length;a++){var n=i[a],r=this._layers[n];if(!r.__builtin__&&r.refresh){var s=0===a?this._backgroundColor:null;r.refresh(s)}}return this.refreshHover(),this},addHover:function(e,t){if(!e.__hoverMir){var i=new e.constructor({style:e.style,shape:e.shape,z:e.z,z2:e.z2,silent:e.silent});return i.__from=e,e.__hoverMir=i,t&&i.setStyle(t),this._hoverElements.push(i),i}},removeHover:function(e){var t=e.__hoverMir,i=this._hoverElements,a=u(i,t);a>=0&&i.splice(a,1),e.__hoverMir=null},clearHover:function(){for(var e=this._hoverElements,t=0;t<e.length;t++){var i=e[t].__from;i&&(i.__hoverMir=null)}e.length=0},refreshHover:function(){var e=this._hoverElements,t=e.length,i=this._hoverlayer;if(i&&i.clear(),t){jt(e,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(Rv));var a={};i.ctx.save();for(var n=0;t>n;){var r=e[n],s=r.__from;s&&s.__zr?(n++,s.invisible||(r.transform=s.transform,r.invTransform=s.invTransform,r.__clipPaths=s.__clipPaths,this._doPaintEl(r,i,!0,a))):(e.splice(n,1),s.__hoverMir=null,t--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(Rv)},_paintList:function(e,t,i){if(this._redrawId===i){t=t||!1,this._updateLayerStatus(e);var a=this._doPaintList(e,t);if(this._needsManuallyCompositing&&this._compositeManually(),!a){var n=this;wv((function(){n._paintList(e,t,i)}))}}},_compositeManually:function(){var e=this.getLayer(Fv).ctx,t=this._domRoot.width,i=this._domRoot.height;e.clearRect(0,0,t,i),this.eachBuiltinLayer((function(a){a.virtual&&e.drawImage(a.dom,0,0,t,i)}))},_doPaintList:function(e,t){for(var i=[],a=0;a<this._zlevelList.length;a++){var n=this._zlevelList[a];(o=this._layers[n]).__builtin__&&o!==this._hoverlayer&&(o.__dirty||t)&&i.push(o)}for(var r=!0,s=0;s<i.length;s++){var o,l=(o=i[s]).ctx,c={};l.save();var u=t?o.__startIndex:o.__drawIndex,d=!t&&o.incremental&&Date.now,h=d&&Date.now(),p=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,p);else if(u===o.__startIndex){var v=e[u];v.incremental&&v.notClear&&!t||o.clear(!1,p)}-1===u&&(console.error("For some unknown reason. drawIndex is -1"),u=o.__startIndex);for(var m=u;m<o.__endIndex;m++){var g=e[m];if(this._doPaintEl(g,o,t,c),g.__dirty=g.__dirtyText=!1,d&&Date.now()-h>15)break}o.__drawIndex=m,o.__drawIndex<o.__endIndex&&(r=!1),c.prevElClipPaths&&l.restore(),l.restore()}return Up.wxa&&f(this._layers,(function(e){e&&e.ctx&&e.ctx.draw&&e.ctx.draw()})),r},_doPaintEl:function(e,t,i,a){var n=t.ctx,r=e.transform;if(!(!t.__dirty&&!i||e.invisible||0===e.style.opacity||r&&!r[0]&&!r[3]||e.culling&&Mi(e,this._width,this._height))){var s=e.__clipPaths,o=a.prevElClipPaths;(!o||Li(s,o))&&(o&&(n.restore(),a.prevElClipPaths=null,a.prevEl=null),s&&(n.save(),Ei(s,n),a.prevElClipPaths=s)),e.beforeBrush&&e.beforeBrush(n),e.brush(n,a.prevEl||null),a.prevEl=e,e.afterBrush&&e.afterBrush(n)}},getLayer:function(e,t){this._singleCanvas&&!this._needsManuallyCompositing&&(e=Fv);var i=this._layers[e];return i||((i=new xv("zr_"+e,this,this.dpr)).zlevel=e,i.__builtin__=!0,this._layerConfig[e]?r(i,this._layerConfig[e],!0):this._layerConfig[e-$v]&&r(i,this._layerConfig[e-$v],!0),t&&(i.virtual=t),this.insertLayer(e,i),i.initContext()),i},insertLayer:function(e,t){var i=this._layers,a=this._zlevelList,n=a.length,r=null,s=-1,o=this._domRoot;if(i[e])tv("ZLevel "+e+" has been used already");else if(Di(t)){if(n>0&&e>a[0]){for(s=0;n-1>s&&!(a[s]<e&&a[s+1]>e);s++);r=i[a[s]]}if(a.splice(s+1,0,e),i[e]=t,!t.virtual)if(r){var l=r.dom;l.nextSibling?o.insertBefore(t.dom,l.nextSibling):o.appendChild(t.dom)}else o.firstChild?o.insertBefore(t.dom,o.firstChild):o.appendChild(t.dom)}else tv("Layer of zlevel "+e+" is not valid")},eachLayer:function(e,t){var i,a,n=this._zlevelList;for(a=0;a<n.length;a++)i=n[a],e.call(t,this._layers[i],i)},eachBuiltinLayer:function(e,t){var i,a,n,r=this._zlevelList;for(n=0;n<r.length;n++)a=r[n],(i=this._layers[a]).__builtin__&&e.call(t,i,a)},eachOtherLayer:function(e,t){var i,a,n,r=this._zlevelList;for(n=0;n<r.length;n++)a=r[n],(i=this._layers[a]).__builtin__||e.call(t,i,a)},getLayers:function(){return this._layers},_updateLayerStatus:function(e){function t(e){n&&(n.__endIndex!==e&&(n.__dirty=!0),n.__endIndex=e)}if(this.eachBuiltinLayer((function(e){e.__dirty=e.__used=!1})),this._singleCanvas)for(var i=1;i<e.length;i++)if((o=e[i]).zlevel!==e[i-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}var a,n=null,r=0;for(i=0;i<e.length;i++){var s,o,l=(o=e[i]).zlevel;a!==l&&(a=l,r=0),o.incremental?((s=this.getLayer(l+zv,this._needsManuallyCompositing)).incremental=!0,r=1):s=this.getLayer(l+(r>0?$v:0),this._needsManuallyCompositing),s.__builtin__||tv("ZLevel "+l+" has been used by unkown layer "+s.id),s!==n&&(s.__used=!0,s.__startIndex!==i&&(s.__dirty=!0),s.__startIndex=i,s.__drawIndex=s.incremental?-1:i,t(i),n=s),o.__dirty&&(s.__dirty=!0,s.incremental&&s.__drawIndex<0&&(s.__drawIndex=i))}t(i),this.eachBuiltinLayer((function(e){!e.__used&&e.getElementCount()>0&&(e.__dirty=!0,e.__startIndex=e.__endIndex=e.__drawIndex=0),e.__dirty&&e.__drawIndex<0&&(e.__drawIndex=e.__startIndex)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(e){e.clear()},setBackgroundColor:function(e){this._backgroundColor=e},configLayer:function(e,t){if(t){var i=this._layerConfig;i[e]?r(i[e],t,!0):i[e]=t;for(var a=0;a<this._zlevelList.length;a++){var n=this._zlevelList[a];n!==e&&n!==e+$v||r(this._layers[n],i[e],!0)}}},delLayer:function(e){var t=this._layers,i=this._zlevelList,a=t[e];a&&(a.dom.parentNode.removeChild(a.dom),delete t[e],i.splice(u(i,e),1))},resize:function(e,t){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var a=this._opts;if(null!=e&&(a.width=e),null!=t&&(a.height=t),e=this._getSize(0),t=this._getSize(1),i.style.display="",this._width!==e||t!==this._height){for(var n in i.style.width=e+"px",i.style.height=t+"px",this._layers)this._layers.hasOwnProperty(n)&&this._layers[n].resize(e,t);f(this._progressiveLayers,(function(i){i.resize(e,t)})),this.refresh(!0)}this._width=e,this._height=t}else{if(null==e||null==t)return;this._width=e,this._height=t,this.getLayer(Fv).resize(e,t)}return this},clearLayer:function(e){var t=this._layers[e];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(e){if(e=e||{},this._singleCanvas&&!this._compositeManually)return this._layers[Fv].dom;var t=new xv("image",this,e.pixelRatio||this.dpr);if(t.initContext(),t.clear(!1,e.backgroundColor||this._backgroundColor),e.pixelRatio<=this.dpr){this.refresh();var i=t.dom.width,a=t.dom.height,n=t.ctx;this.eachLayer((function(e){e.__builtin__?n.drawImage(e.dom,0,0,i,a):e.renderToCanvas&&(t.ctx.save(),e.renderToCanvas(t.ctx),t.ctx.restore())}))}else for(var r={},s=this.storage.getDisplayList(!0),o=0;o<s.length;o++){var l=s[o];this._doPaintEl(l,t,!0,r)}return t.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(e){var t=this._opts,i=["width","height"][e],a=["clientWidth","clientHeight"][e],n=["paddingLeft","paddingTop"][e],r=["paddingRight","paddingBottom"][e];if(null!=t[i]&&"auto"!==t[i])return parseFloat(t[i]);var s=this.root,o=document.defaultView.getComputedStyle(s);return(s[a]||Pi(o[i])||Pi(s.style[i]))-(Pi(o[n])||0)-(Pi(o[r])||0)|0},pathToImage:function(e,t){t=t||this.dpr;var i=document.createElement("canvas"),a=i.getContext("2d"),n=e.getBoundingRect(),r=e.style,s=r.shadowBlur*t,o=r.shadowOffsetX*t,l=r.shadowOffsetY*t,c=r.hasStroke()?r.lineWidth:0,u=Math.max(c/2,-o+s),d=Math.max(c/2,o+s),h=Math.max(c/2,-l+s),p=Math.max(c/2,l+s),f=n.width+u+d,v=n.height+h+p;i.width=f*t,i.height=v*t,a.scale(t,t),a.clearRect(0,0,f,v),a.dpr=t;var m={position:e.position,rotation:e.rotation,scale:e.scale};e.position=[u-n.x,h-n.y],e.rotation=0,e.scale=[1,1],e.updateTransform(),e&&e.brush(a);var g=new Ti({style:{x:0,y:0,image:i}});return null!=m.position&&(g.position=e.position=m.position),null!=m.rotation&&(g.rotation=e.rotation=m.rotation),null!=m.scale&&(g.scale=e.scale=m.scale),g}};var qv=function(e){e=e||{},this.stage=e.stage||{},this.onframe=e.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,mf.call(this)};qv.prototype={constructor:qv,addClip:function(e){this._clips.push(e)},addAnimator:function(e){e.animation=this;for(var t=e.getClips(),i=0;i<t.length;i++)this.addClip(t[i])},removeClip:function(e){var t=u(this._clips,e);t>=0&&this._clips.splice(t,1)},removeAnimator:function(e){for(var t=e.getClips(),i=0;i<t.length;i++)this.removeClip(t[i]);e.animation=null},_update:function(){for(var e=(new Date).getTime()-this._pausedTime,t=e-this._time,i=this._clips,a=i.length,n=[],r=[],s=0;a>s;s++){var o=i[s],l=o.step(e,t);l&&(n.push(l),r.push(o))}for(s=0;a>s;)i[s]._needsRemove?(i[s]=i[a-1],i.pop(),a--):s++;for(a=n.length,s=0;a>s;s++)r[s].fire(n[s]);this._time=e,this.onframe(t),this.trigger("frame",t),this.stage.update&&this.stage.update()},_startLoop:function(){function e(){t._running&&(wv(e),!t._paused&&t._update())}var t=this;this._running=!0,wv(e)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(e,t){var i=new Kf(e,(t=t||{}).loop,t.getter,t.setter);return this.addAnimator(i),i}},h(qv,mf);var Gv=300,Uv=Up.domSupported,Xv=function(){var e=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],t=["touchstart","touchend","touchmove"],i={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},a=v(e,(function(e){var t=e.replace("mouse","pointer");return i.hasOwnProperty(t)?t:e}));return{mouse:e,touch:t,pointer:a}}(),Wv={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Yv=zi.prototype;Yv.stopPropagation=Yv.stopImmediatePropagation=Yv.preventDefault=z;var Kv={mousedown:function(e){e=Se(this.dom,e),this._mayPointerCapture=[e.zrX,e.zrY],this.trigger("mousedown",e)},mousemove:function(e){e=Se(this.dom,e);var t=this._mayPointerCapture;!t||e.zrX===t[0]&&e.zrY===t[1]||Gi(this,!0),this.trigger("mousemove",e)},mouseup:function(e){e=Se(this.dom,e),Gi(this,!1),this.trigger("mouseup",e)},mouseout:function(e){e=Se(this.dom,e),this._pointerCapturing&&(e.zrEventControl="no_globalout");var t=e.toElement||e.relatedTarget;e.zrIsToLocalDOM=$i(this,t),this.trigger("mouseout",e)},touchstart:function(e){Ri(e=Se(this.dom,e)),this._lastTouchMoment=new Date,this.handler.processGesture(e,"start"),Kv.mousemove.call(this,e),Kv.mousedown.call(this,e)},touchmove:function(e){Ri(e=Se(this.dom,e)),this.handler.processGesture(e,"change"),Kv.mousemove.call(this,e)},touchend:function(e){Ri(e=Se(this.dom,e)),this.handler.processGesture(e,"end"),Kv.mouseup.call(this,e),+new Date-this._lastTouchMoment<Gv&&Kv.click.call(this,e)},pointerdown:function(e){Kv.mousedown.call(this,e)},pointermove:function(e){Ni(e)||Kv.mousemove.call(this,e)},pointerup:function(e){Kv.mouseup.call(this,e)},pointerout:function(e){Ni(e)||Kv.mouseout.call(this,e)}};f(["click","mousewheel","dblclick","contextmenu"],(function(e){Kv[e]=function(t){t=Se(this.dom,t),this.trigger(e,t)}}));var Jv={pointermove:function(e){Ni(e)||Jv.mousemove.call(this,e)},pointerup:function(e){Jv.mouseup.call(this,e)},mousemove:function(e){this.trigger("mousemove",e)},mouseup:function(e){var t=this._pointerCapturing;Gi(this,!1),this.trigger("mouseup",e),t&&(e.zrEventControl="only_globalout",this.trigger("mouseout",e))}},Qv=Xi.prototype;Qv.dispose=function(){qi(this._localHandlerScope),Uv&&qi(this._globalHandlerScope)},Qv.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},h(Xi,mf);var em=!Up.canvasSupported,tm={canvas:Hv},im={},am="4.3.2",nm=function(e,t,i){i=i||{},this.dom=t,this.id=e;var a=this,n=new uv,r=i.renderer;if(em){if(!tm.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");r="vml"}else r&&tm[r]||(r="canvas");var s=new tm[r](t,n,i,e);this.storage=n,this.painter=s;var o=Up.node||Up.worker?null:new Xi(s.getViewportRoot(),s.root);this.handler=new Tf(n,s,o,s.root),this.animation=new qv({stage:{update:_(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=n.delFromStorage,c=n.addToStorage;n.delFromStorage=function(e){l.call(n,e),e&&e.removeSelfFromZr(a)},n.addToStorage=function(e){c.call(n,e),e.addSelfToZr(a)}};nm.prototype={constructor:nm,getId:function(){return this.id},add:function(e){this.storage.addRoot(e),this._needsRefresh=!0},remove:function(e){this.storage.delRoot(e),this._needsRefresh=!0},configLayer:function(e,t){this.painter.configLayer&&this.painter.configLayer(e,t),this._needsRefresh=!0},setBackgroundColor:function(e){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(e),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var e;this._needsRefresh&&(e=!0,this.refreshImmediately()),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately()),e&&this.trigger("rendered")},addHover:function(e,t){if(this.painter.addHover){var i=this.painter.addHover(e,t);return this.refreshHover(),i}},removeHover:function(e){this.painter.removeHover&&(this.painter.removeHover(e),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(e){e=e||{},this.painter.resize(e.width,e.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(e,t){return this.painter.pathToImage(e,t)},setCursorStyle:function(e){this.handler.setCursorStyle(e)},findHover:function(e,t){return this.handler.findHover(e,t)},on:function(e,t,i){this.handler.on(e,t,i)},off:function(e,t){this.handler.off(e,t)},trigger:function(e,t){this.handler.trigger(e,t)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,Qi(this.id)}};var rm=(Object.freeze||Object)({version:am,init:Wi,dispose:Yi,getInstance:Ki,registerPainter:Ji}),sm=f,om=C,lm=x,cm="series\0",um=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],dm=0,hm=".",pm="___EC__COMPONENT__CONTAINER___",fm=0,vm=function(e){for(var t=0;t<e.length;t++)e[t][1]||(e[t][1]=e[t][0]);return function(t,i,a){for(var n={},r=0;r<e.length;r++){var s=e[r][1];if(!(i&&u(i,s)>=0||a&&u(a,s)<0)){var o=t.getShallow(s);null!=o&&(n[e[r][0]]=o)}}return n}},mm=vm([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),gm={getLineStyle:function(e){var t=mm(this,e);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(e){null==e&&(e=1);var t=this.get("type"),i=Math.max(e,2),a=4*e;return"solid"!==t&&null!=t&&("dashed"===t?[a,a]:[i,i])}},ym=vm([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),_m={getAreaStyle:function(e,t){return ym(this,e,t)}},bm=Math.pow,xm=Math.sqrt,wm=1e-8,Sm=1e-4,Cm=xm(3),Im=1/3,km=B(),Om=B(),Tm=B(),Pm=Math.min,Dm=Math.max,Mm=Math.sin,Lm=Math.cos,Em=2*Math.PI,Am=B(),jm=B(),Nm=B(),Vm=[],Rm=[],Fm={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},$m=[],zm=[],Bm=[],Zm=[],Hm=Math.min,qm=Math.max,Gm=Math.cos,Um=Math.sin,Xm=Math.sqrt,Wm=Math.abs,Ym="undefined"!=typeof Float32Array,Km=function(e){this._saveData=!e,this._saveData&&(this.data=[]),this._ctx=null};Km.prototype={constructor:Km,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(e,t,i){i=i||0,this._ux=Wm(i/Qf/e)||0,this._uy=Wm(i/Qf/t)||0},getContext:function(){return this._ctx},beginPath:function(e){return this._ctx=e,e&&e.beginPath(),e&&(this.dpr=e.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(e,t){return this.addData(Fm.M,e,t),this._ctx&&this._ctx.moveTo(e,t),this._x0=e,this._y0=t,this._xi=e,this._yi=t,this},lineTo:function(e,t){var i=Wm(e-this._xi)>this._ux||Wm(t-this._yi)>this._uy||this._len<5;return this.addData(Fm.L,e,t),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(e,t):this._ctx.lineTo(e,t)),i&&(this._xi=e,this._yi=t),this},bezierCurveTo:function(e,t,i,a,n,r){return this.addData(Fm.C,e,t,i,a,n,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(e,t,i,a,n,r):this._ctx.bezierCurveTo(e,t,i,a,n,r)),this._xi=n,this._yi=r,this},quadraticCurveTo:function(e,t,i,a){return this.addData(Fm.Q,e,t,i,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(e,t,i,a):this._ctx.quadraticCurveTo(e,t,i,a)),this._xi=i,this._yi=a,this},arc:function(e,t,i,a,n,r){return this.addData(Fm.A,e,t,i,i,a,n-a,0,r?0:1),this._ctx&&this._ctx.arc(e,t,i,a,n,r),this._xi=Gm(n)*i+e,this._yi=Um(n)*i+t,this},arcTo:function(e,t,i,a,n){return this._ctx&&this._ctx.arcTo(e,t,i,a,n),this},rect:function(e,t,i,a){return this._ctx&&this._ctx.rect(e,t,i,a),this.addData(Fm.R,e,t,i,a),this},closePath:function(){this.addData(Fm.Z);var e=this._ctx,t=this._x0,i=this._y0;return e&&(this._needsDash()&&this._dashedLineTo(t,i),e.closePath()),this._xi=t,this._yi=i,this},fill:function(e){e&&e.fill(),this.toStatic()},stroke:function(e){e&&e.stroke(),this.toStatic()},setLineDash:function(e){if(e instanceof Array){this._lineDash=e,this._dashIdx=0;for(var t=0,i=0;i<e.length;i++)t+=e[i];this._dashSum=t}return this},setLineDashOffset:function(e){return this._dashOffset=e,this},len:function(){return this._len},setData:function(e){var t=e.length;this.data&&this.data.length===t||!Ym||(this.data=new Float32Array(t));for(var i=0;t>i;i++)this.data[i]=e[i];this._len=t},appendPath:function(e){e instanceof Array||(e=[e]);for(var t=e.length,i=0,a=this._len,n=0;t>n;n++)i+=e[n].len();for(Ym&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+i)),n=0;t>n;n++)for(var r=e[n].data,s=0;s<r.length;s++)this.data[a++]=r[s];this._len=a},addData:function(e){if(this._saveData){var t=this.data;this._len+arguments.length>t.length&&(this._expandData(),t=this.data);for(var i=0;i<arguments.length;i++)t[this._len++]=arguments[i];this._prevCmd=e}},_expandData:function(){if(!(this.data instanceof Array)){for(var e=[],t=0;t<this._len;t++)e[t]=this.data[t];this.data=e}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(e,t){var i,a,n=this._dashSum,r=this._dashOffset,s=this._lineDash,o=this._ctx,l=this._xi,c=this._yi,u=e-l,d=t-c,h=Xm(u*u+d*d),p=l,f=c,v=s.length;for(0>r&&(r=n+r),p-=(r%=n)*(u/=h),f-=r*(d/=h);u>0&&e>=p||0>u&&p>=e||0===u&&(d>0&&t>=f||0>d&&f>=t);)p+=u*(i=s[a=this._dashIdx]),f+=d*i,this._dashIdx=(a+1)%v,u>0&&l>p||0>u&&p>l||d>0&&c>f||0>d&&f>c||o[a%2?"moveTo":"lineTo"](u>=0?Hm(p,e):qm(p,e),d>=0?Hm(f,t):qm(f,t));u=p-e,d=f-t,this._dashOffset=-Xm(u*u+d*d)},_dashedBezierTo:function(e,t,i,a,n,r){var s,o,l,c,u,d=this._dashSum,h=this._dashOffset,p=this._lineDash,f=this._ctx,v=this._xi,m=this._yi,g=Ca,y=0,_=this._dashIdx,b=p.length,x=0;for(0>h&&(h=d+h),h%=d,s=0;1>s;s+=.1)o=g(v,e,i,n,s+.1)-g(v,e,i,n,s),l=g(m,t,a,r,s+.1)-g(m,t,a,r,s),y+=Xm(o*o+l*l);for(;b>_&&!((x+=p[_])>h);_++);for(s=(x-h)/y;1>=s;)c=g(v,e,i,n,s),u=g(m,t,a,r,s),_%2?f.moveTo(c,u):f.lineTo(c,u),s+=p[_]/y,_=(_+1)%b;_%2!=0&&f.lineTo(n,r),o=n-c,l=r-u,this._dashOffset=-Xm(o*o+l*l)},_dashedQuadraticTo:function(e,t,i,a){var n=i,r=a;i=(i+2*e)/3,a=(a+2*t)/3,e=(this._xi+2*e)/3,t=(this._yi+2*t)/3,this._dashedBezierTo(e,t,i,a,n,r)},toStatic:function(){var e=this.data;e instanceof Array&&(e.length=this._len,Ym&&(this.data=new Float32Array(e)))},getBoundingRect:function(){$m[0]=$m[1]=Bm[0]=Bm[1]=Number.MAX_VALUE,zm[0]=zm[1]=Zm[0]=Zm[1]=-Number.MAX_VALUE;for(var e=this.data,t=0,i=0,a=0,n=0,r=0;r<e.length;){var s=e[r++];switch(1===r&&(a=t=e[r],n=i=e[r+1]),s){case Fm.M:t=a=e[r++],i=n=e[r++],Bm[0]=a,Bm[1]=n,Zm[0]=a,Zm[1]=n;break;case Fm.L:Va(t,i,e[r],e[r+1],Bm,Zm),t=e[r++],i=e[r++];break;case Fm.C:Ra(t,i,e[r++],e[r++],e[r++],e[r++],e[r],e[r+1],Bm,Zm),t=e[r++],i=e[r++];break;case Fm.Q:Fa(t,i,e[r++],e[r++],e[r],e[r+1],Bm,Zm),t=e[r++],i=e[r++];break;case Fm.A:var o=e[r++],l=e[r++],c=e[r++],u=e[r++],d=e[r++],h=e[r++]+d;r+=1;var p=1-e[r++];1===r&&(a=Gm(d)*c+o,n=Um(d)*u+l),$a(o,l,c,u,d,h,p,Bm,Zm),t=Gm(h)*c+o,i=Um(h)*u+l;break;case Fm.R:Va(a=t=e[r++],n=i=e[r++],a+e[r++],n+e[r++],Bm,Zm);break;case Fm.Z:t=a,i=n}oe($m,$m,Bm),le(zm,zm,Zm)}return 0===r&&($m[0]=$m[1]=zm[0]=zm[1]=0),new Ot($m[0],$m[1],zm[0]-$m[0],zm[1]-$m[1])},rebuildPath:function(e){for(var t,i,a,n,r,s,o=this.data,l=this._ux,c=this._uy,u=this._len,d=0;u>d;){var h=o[d++];switch(1===d&&(t=a=o[d],i=n=o[d+1]),h){case Fm.M:t=a=o[d++],i=n=o[d++],e.moveTo(a,n);break;case Fm.L:r=o[d++],s=o[d++],(Wm(r-a)>l||Wm(s-n)>c||d===u-1)&&(e.lineTo(r,s),a=r,n=s);break;case Fm.C:e.bezierCurveTo(o[d++],o[d++],o[d++],o[d++],o[d++],o[d++]),a=o[d-2],n=o[d-1];break;case Fm.Q:e.quadraticCurveTo(o[d++],o[d++],o[d++],o[d++]),a=o[d-2],n=o[d-1];break;case Fm.A:var p=o[d++],f=o[d++],v=o[d++],m=o[d++],g=o[d++],y=o[d++],_=o[d++],b=o[d++],x=v>m?v:m,w=v>m?1:v/m,S=v>m?m/v:1,C=g+y;Math.abs(v-m)>.001?(e.translate(p,f),e.rotate(_),e.scale(w,S),e.arc(0,0,x,g,C,1-b),e.scale(1/w,1/S),e.rotate(-_),e.translate(-p,-f)):e.arc(p,f,x,g,C,1-b),1===d&&(t=Gm(g)*v+p,i=Um(g)*m+f),a=Gm(C)*v+p,n=Um(C)*m+f;break;case Fm.R:t=a=o[d],i=n=o[d+1],e.rect(o[d++],o[d++],o[d++],o[d++]);break;case Fm.Z:e.closePath(),a=t,n=i}}}},Km.CMD=Fm;var Jm=2*Math.PI,Qm=2*Math.PI,eg=Km.CMD,tg=2*Math.PI,ig=1e-4,ag=[-1,-1,-1],ng=[-1,-1],rg=bv.prototype.getCanvasPattern,sg=Math.abs,og=new Km(!0);tn.prototype={constructor:tn,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(e,t){var i,a=this.style,n=this.path||og,r=a.hasStroke(),s=a.hasFill(),o=a.fill,l=a.stroke,c=s&&!!o.colorStops,u=r&&!!l.colorStops,d=s&&!!o.image,h=r&&!!l.image;a.bind(e,this,t),this.setTransform(e),this.__dirty&&(c&&(i=i||this.getBoundingRect(),this._fillGradient=a.getGradient(e,o,i)),u&&(i=i||this.getBoundingRect(),this._strokeGradient=a.getGradient(e,l,i))),c?e.fillStyle=this._fillGradient:d&&(e.fillStyle=rg.call(o,e)),u?e.strokeStyle=this._strokeGradient:h&&(e.strokeStyle=rg.call(l,e));var p=a.lineDash,f=a.lineDashOffset,v=!!e.setLineDash,m=this.getGlobalScale();if(n.setScale(m[0],m[1],this.segmentIgnoreThreshold),this.__dirtyPath||p&&!v&&r?(n.beginPath(e),p&&!v&&(n.setLineDash(p),n.setLineDashOffset(f)),this.buildPath(n,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(e.beginPath(),this.path.rebuildPath(e)),s)if(null!=a.fillOpacity){var g=e.globalAlpha;e.globalAlpha=a.fillOpacity*a.opacity,n.fill(e),e.globalAlpha=g}else n.fill(e);p&&v&&(e.setLineDash(p),e.lineDashOffset=f),r&&(null!=a.strokeOpacity?(g=e.globalAlpha,e.globalAlpha=a.strokeOpacity*a.opacity,n.stroke(e),e.globalAlpha=g):n.stroke(e)),p&&v&&e.setLineDash([]),null!=a.text&&(this.restoreTransform(e),this.drawRectText(e,this.getBoundingRect()))},buildPath:function(){},createPathProxy:function(){this.path=new Km},getBoundingRect:function(){var e=this._rect,t=this.style,i=!e;if(i){var a=this.path;a||(a=this.path=new Km),this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape,!1)),e=a.getBoundingRect()}if(this._rect=e,t.hasStroke()){var n=this._rectWithStroke||(this._rectWithStroke=e.clone());if(this.__dirty||i){n.copy(e);var r=t.lineWidth,s=t.strokeNoScale?this.getLineScale():1;t.hasFill()||(r=Math.max(r,this.strokeContainThreshold||4)),s>1e-10&&(n.width+=r/s,n.height+=r/s,n.x-=r/s/2,n.y-=r/s/2)}return n}return e},contain:function(e,t){var i=this.transformCoordToLocal(e,t),a=this.getBoundingRect(),n=this.style;if(e=i[0],t=i[1],a.contain(e,t)){var r=this.path.data;if(n.hasStroke()){var s=n.lineWidth,o=n.strokeNoScale?this.getLineScale():1;if(o>1e-10&&(n.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),en(r,s/o,e,t)))return!0}if(n.hasFill())return Qa(r,e,t)}return!1},dirty:function(e){null==e&&(e=!0),e&&(this.__dirtyPath=e,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(e){return this.animate("shape",e)},attrKV:function(e,t){"shape"===e?(this.setShape(t),this.__dirtyPath=!0,this._rect=null):Oi.prototype.attrKV.call(this,e,t)},setShape:function(e,t){var i=this.shape;if(i){if(C(e))for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);else i[e]=t;this.dirty(!0)}return this},getLineScale:function(){var e=this.transform;return e&&sg(e[0]-1)>1e-10&&sg(e[3]-1)>1e-10?Math.sqrt(sg(e[0]*e[3]-e[2]*e[1])):1}},tn.extend=function(e){var t=function(t){tn.call(this,t),e.style&&this.style.extendFrom(e.style,!1);var i=e.shape;if(i){this.shape=this.shape||{};var a=this.shape;for(var n in i)!a.hasOwnProperty(n)&&i.hasOwnProperty(n)&&(a[n]=i[n])}e.init&&e.init.call(this,t)};for(var i in d(t,tn),e)"style"!==i&&"shape"!==i&&(t.prototype[i]=e[i]);return t},d(tn,Oi);var lg=Km.CMD,cg=[[],[],[]],ug=Math.sqrt,dg=Math.atan2,hg=function(e,t){var i,a,n,r,s,o=e.data,l=lg.M,c=lg.C,u=lg.L,d=lg.R,h=lg.A,p=lg.Q;for(n=0,r=0;n<o.length;){switch(i=o[n++],r=n,a=0,i){case l:case u:a=1;break;case c:a=3;break;case p:a=2;break;case h:var f=t[4],v=t[5],m=ug(t[0]*t[0]+t[1]*t[1]),g=ug(t[2]*t[2]+t[3]*t[3]),y=dg(-t[1]/g,t[0]/m);o[n]*=m,o[n++]+=f,o[n]*=g,o[n++]+=v,o[n++]*=m,o[n++]*=g,o[n++]+=y,o[n++]+=y,r=n+=2;break;case d:_[0]=o[n++],_[1]=o[n++],se(_,_,t),o[r++]=_[0],o[r++]=_[1],_[0]+=o[n++],_[1]+=o[n++],se(_,_,t),o[r++]=_[0],o[r++]=_[1]}for(s=0;a>s;s++){var _;(_=cg[s])[0]=o[n++],_[1]=o[n++],se(_,_,t),o[r++]=_[0],o[r++]=_[1]}}},pg=Math.sqrt,fg=Math.sin,vg=Math.cos,mg=Math.PI,gg=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])},yg=function(e,t){return(e[0]*t[0]+e[1]*t[1])/(gg(e)*gg(t))},_g=function(e,t){return(e[0]*t[1]<e[1]*t[0]?-1:1)*Math.acos(yg(e,t))},bg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,xg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,wg=function(e){Oi.call(this,e)};wg.prototype={constructor:wg,type:"text",brush:function(e,t){var i=this.style;this.__dirty&&ci(i,!0),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var a=i.text;return null!=a&&(a+=""),ki(a,i)?(this.setTransform(e),di(this,e,a,i,null,t),void this.restoreTransform(e)):void(e.__attrCachedBy=pv.NONE)},getBoundingRect:function(){var e=this.style;if(this.__dirty&&ci(e,!0),!this._rect){var t=e.text;null!=t?t+="":t="";var i=Gt(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich);if(i.x+=e.x||0,i.y+=e.y||0,wi(e.textStroke,e.textStrokeWidth)){var a=e.textStrokeWidth;i.x-=a/2,i.y-=a/2,i.width+=a,i.height+=a}this._rect=i}return this._rect}},d(wg,Oi);var Sg=tn.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(e,t,i){i&&e.moveTo(t.cx+t.r,t.cy),e.arc(t.cx,t.cy,t.r,0,2*Math.PI,!0)}}),Cg=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Ig=function(e){return Up.browser.ie&&Up.browser.version>=11?function(){var t,i=this.__clipPaths,a=this.style;if(i)for(var n=0;n<i.length;n++){var r=i[n],s=r&&r.shape,o=r&&r.type;if(s&&("sector"===o&&s.startAngle===s.endAngle||"rect"===o&&(!s.width||!s.height))){for(var l=0;l<Cg.length;l++)Cg[l][2]=a[Cg[l][0]],a[Cg[l][0]]=Cg[l][1];t=!0;break}}if(e.apply(this,arguments),t)for(l=0;l<Cg.length;l++)a[Cg[l][0]]=Cg[l][2]}:e},kg=tn.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Ig(tn.prototype.brush),buildPath:function(e,t){var i=t.cx,a=t.cy,n=Math.max(t.r0||0,0),r=Math.max(t.r,0),s=t.startAngle,o=t.endAngle,l=t.clockwise,c=Math.cos(s),u=Math.sin(s);e.moveTo(c*n+i,u*n+a),e.lineTo(c*r+i,u*r+a),e.arc(i,a,r,s,o,!l),e.lineTo(Math.cos(o)*n+i,Math.sin(o)*n+a),0!==n&&e.arc(i,a,n,o,s,l),e.closePath()}}),Og=tn.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(e,t){var i=t.cx,a=t.cy,n=2*Math.PI;e.moveTo(i+t.r,a),e.arc(i,a,t.r,0,n,!1),e.moveTo(i+t.r0,a),e.arc(i,a,t.r0,0,n,!0)}}),Tg=function(e,t){for(var i=e.length,a=[],n=0,r=1;i>r;r++)n+=ie(e[r-1],e[r]);var s=n/2;for(s=i>s?i:s,r=0;s>r;r++){var o,l,c,u=r/(s-1)*(t?i:i-1),d=Math.floor(u),h=u-d,p=e[d%i];t?(o=e[(d-1+i)%i],l=e[(d+1)%i],c=e[(d+2)%i]):(o=e[0===d?d:d-1],l=e[d>i-2?i-1:d+1],c=e[d>i-3?i-1:d+2]);var f=h*h,v=h*f;a.push([cn(o[0],p[0],l[0],c[0],h,f,v),cn(o[1],p[1],l[1],c[1],h,f,v)])}return a},Pg=function(e,t,i,a){var n,r,s,o,l=[],c=[],u=[],d=[];if(a){s=[1/0,1/0],o=[-1/0,-1/0];for(var h=0,p=e.length;p>h;h++)oe(s,s,e[h]),le(o,o,e[h]);oe(s,s,a[0]),le(o,o,a[1])}for(h=0,p=e.length;p>h;h++){var f=e[h];if(i)n=e[h?h-1:p-1],r=e[(h+1)%p];else{if(0===h||h===p-1){l.push(H(e[h]));continue}n=e[h-1],r=e[h+1]}X(c,r,n),ee(c,c,t);var v=ie(f,n),m=ie(f,r),g=v+m;0!==g&&(v/=g,m/=g),ee(u,c,-v),ee(d,c,m);var y=G([],f,u),_=G([],f,d);a&&(le(y,y,s),oe(y,y,o),le(_,_,s),oe(_,_,o)),l.push(y),l.push(_)}return i&&l.push(l.shift()),l},Dg=tn.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(e,t){un(e,t,!0)}}),Mg=tn.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(e,t){un(e,t,!1)}}),Lg=Math.round,Eg={},Ag=tn.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(e,t){var i,a,n,r;this.subPixelOptimize?(hn(Eg,t,this.style),i=Eg.x,a=Eg.y,n=Eg.width,r=Eg.height,Eg.r=t.r,t=Eg):(i=t.x,a=t.y,n=t.width,r=t.height),t.r?li(e,t):e.rect(i,a,n,r),e.closePath()}}),jg={},Ng=tn.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var i,a,n,r;this.subPixelOptimize?(dn(jg,t,this.style),i=jg.x1,a=jg.y1,n=jg.x2,r=jg.y2):(i=t.x1,a=t.y1,n=t.x2,r=t.y2);var s=t.percent;0!==s&&(e.moveTo(i,a),1>s&&(n=i*(1-s)+n*s,r=a*(1-s)+r*s),e.lineTo(n,r))},pointAt:function(e){var t=this.shape;return[t.x1*(1-e)+t.x2*e,t.y1*(1-e)+t.y2*e]}}),Vg=[],Rg=tn.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(e,t){var i=t.x1,a=t.y1,n=t.x2,r=t.y2,s=t.cpx1,o=t.cpy1,l=t.cpx2,c=t.cpy2,u=t.percent;0!==u&&(e.moveTo(i,a),null==l||null==c?(1>u&&(Aa(i,s,n,u,Vg),s=Vg[1],n=Vg[2],Aa(a,o,r,u,Vg),o=Vg[1],r=Vg[2]),e.quadraticCurveTo(s,o,n,r)):(1>u&&(Ta(i,s,l,n,u,Vg),s=Vg[1],l=Vg[2],n=Vg[3],Ta(a,o,c,r,u,Vg),o=Vg[1],c=Vg[2],r=Vg[3]),e.bezierCurveTo(s,o,l,c,n,r)))},pointAt:function(e){return fn(this.shape,e,!1)},tangentAt:function(e){var t=fn(this.shape,e,!0);return te(t,t)}}),Fg=tn.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(e,t){var i=t.cx,a=t.cy,n=Math.max(t.r,0),r=t.startAngle,s=t.endAngle,o=t.clockwise,l=Math.cos(r),c=Math.sin(r);e.moveTo(l*n+i,c*n+a),e.arc(i,a,n,r,s,!o)}}),$g=tn.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var e=this.__dirtyPath,t=this.shape.paths,i=0;i<t.length;i++)e=e||t[i].__dirtyPath;this.__dirtyPath=e,this.__dirty=this.__dirty||e},beforeBrush:function(){this._updatePathDirty();for(var e=this.shape.paths||[],t=this.getGlobalScale(),i=0;i<e.length;i++)e[i].path||e[i].createPathProxy(),e[i].path.setScale(t[0],t[1],e[i].segmentIgnoreThreshold)},buildPath:function(e,t){for(var i=t.paths||[],a=0;a<i.length;a++)i[a].buildPath(e,i[a].shape,!0)},afterBrush:function(){for(var e=this.shape.paths||[],t=0;t<e.length;t++)e[t].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),tn.prototype.getBoundingRect.call(this)}}),zg=function(e){this.colorStops=e||[]};zg.prototype={constructor:zg,addColorStop:function(e,t){this.colorStops.push({offset:e,color:t})}};var Bg=function(e,t,i,a,n,r){this.x=null==e?0:e,this.y=null==t?0:t,this.x2=null==i?1:i,this.y2=null==a?0:a,this.type="linear",this.global=r||!1,zg.call(this,n)};Bg.prototype={constructor:Bg},d(Bg,zg);var Zg=function(e,t,i,a,n){this.x=null==e?.5:e,this.y=null==t?.5:t,this.r=null==i?.5:i,this.type="radial",this.global=n||!1,zg.call(this,a)};Zg.prototype={constructor:Zg},d(Zg,zg),vn.prototype.incremental=!0,vn.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},vn.prototype.addDisplayable=function(e,t){t?this._temporaryDisplayables.push(e):this._displayables.push(e),this.dirty()},vn.prototype.addDisplayables=function(e,t){t=t||!1;for(var i=0;i<e.length;i++)this.addDisplayable(e[i],t)},vn.prototype.eachPendingDisplayable=function(e){for(var t=this._cursor;t<this._displayables.length;t++)e&&e(this._displayables[t]);for(t=0;t<this._temporaryDisplayables.length;t++)e&&e(this._temporaryDisplayables[t])},vn.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(t=this._displayables[e]).parent=this,t.update(),t.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var t;(t=this._temporaryDisplayables[e]).parent=this,t.update(),t.parent=null}},vn.prototype.brush=function(e){for(var t=this._cursor;t<this._displayables.length;t++)(i=this._displayables[t]).beforeBrush&&i.beforeBrush(e),i.brush(e,t===this._cursor?null:this._displayables[t-1]),i.afterBrush&&i.afterBrush(e);for(this._cursor=t,t=0;t<this._temporaryDisplayables.length;t++){var i;(i=this._temporaryDisplayables[t]).beforeBrush&&i.beforeBrush(e),i.brush(e,0===t?null:this._temporaryDisplayables[t-1]),i.afterBrush&&i.afterBrush(e)}this._temporaryDisplayables=[],this.notClear=!0};var Hg=[];vn.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Ot(1/0,1/0,-1/0,-1/0),t=0;t<this._displayables.length;t++){var i=this._displayables[t],a=i.getBoundingRect().clone();i.needLocalTransform()&&a.applyTransform(i.getLocalTransform(Hg)),e.union(a)}this._rect=e}return this._rect},vn.prototype.contain=function(e,t){var i=this.transformCoordToLocal(e,t);if(this.getBoundingRect().contain(i[0],i[1]))for(var a=0;a<this._displayables.length;a++)if(this._displayables[a].contain(e,t))return!0;return!1},d(vn,Oi);var qg=Math.max,Gg=Math.min,Ug={},Xg=1,Wg={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Yg="emphasis",Kg="normal",Jg=1,Qg={},ey={},ty=ln,iy=pn,ay=F(),ny=0;yn("circle",Sg),yn("sector",kg),yn("ring",Og),yn("polygon",Dg),yn("polyline",Mg),yn("rect",Ag),yn("line",Ng),yn("bezierCurve",Rg),yn("arc",Fg);var ry=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:Xg,CACHED_LABEL_STYLE_PROPERTIES:Wg,extendShape:mn,extendPath:gn,registerShape:yn,getShapeClass:_n,makePath:bn,makeImage:xn,mergePath:ty,resizePath:Sn,subPixelOptimizeLine:Cn,subPixelOptimizeRect:In,subPixelOptimize:iy,setElementHoverStyle:En,setHoverStyle:Fn,setAsHighDownDispatcher:$n,isHighDownDispatcher:zn,getHighlightDigit:Bn,setLabelStyle:Zn,modifyLabelStyle:Hn,setTextStyle:qn,setText:Gn,getFont:Qn,updateProps:tr,initProps:ir,getTransform:ar,applyTransform:nr,transformDirection:rr,groupTransition:sr,clipPointsByRect:or,clipRectByRect:lr,createIcon:cr,linePolygonIntersect:ur,lineLineIntersect:dr,Group:ov,Image:Ti,Text:wg,Circle:Sg,Sector:kg,Ring:Og,Polygon:Dg,Polyline:Mg,Rect:Ag,Line:Ng,BezierCurve:Rg,Arc:Fg,IncrementalDisplayable:vn,CompoundPath:$g,LinearGradient:Bg,RadialGradient:Zg,BoundingRect:Ot}),sy=["textStyle","color"],oy={getTextColor:function(e){var t=this.ecModel;return this.getShallow("color")||(!e&&t?t.get(sy):null)},getFont:function(){return Qn({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(e){return Gt(e,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},ly=vm([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),cy={getItemStyle:function(e,t){var i=ly(this,e,t),a=this.getBorderLineDash();return a&&(i.lineDash=a),i},getBorderLineDash:function(){var e=this.get("borderType");return"solid"===e||null==e?null:"dashed"===e?[5,5]:[1,1]}},uy=h,dy=ca();fr.prototype={constructor:fr,init:null,mergeOption:function(e){r(this.option,e,!0)},get:function(e,t){return null==e?this.option:vr(this.option,this.parsePath(e),!t&&mr(this,e))},getShallow:function(e,t){var i=this.option,a=null==i?i:i[e],n=!t&&mr(this,e);return null==a&&n&&(a=n.getShallow(e)),a},getModel:function(e,t){var i;return new fr(null==e?this.option:vr(this.option,e=this.parsePath(e)),t=t||(i=mr(this,e))&&i.getModel(e),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(n(this.option))},setReadOnly:function(){},parsePath:function(e){return"string"==typeof e&&(e=e.split(".")),e},customizeGetParent:function(e){dy(this).getParent=e},isAnimationEnabled:function(){if(!Up.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},ga(fr),ya(fr),uy(fr,gm),uy(fr,_m),uy(fr,oy),uy(fr,cy);var hy=0,py=1e-4,fy=9007199254740991,vy=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,my=(Object.freeze||Object)({linearMap:xr,parsePercent:wr,round:Sr,asc:Cr,getPrecision:Ir,getPrecisionSafe:kr,getPixelPrecision:Or,getPercentWithPrecision:Tr,MAX_SAFE_INTEGER:fy,remRadian:Pr,isRadianAroundZero:Dr,parseDate:Mr,quantity:Lr,quantityExponent:Er,nice:Ar,quantile:jr,reformIntervals:Nr,isNumeric:Vr}),gy=E,yy=/([&<>"'])/g,_y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},by=["a","b","c","d","e","f","g"],xy=function(e,t){return"{"+e+(null==t?"":t)+"}"},wy=Jt,Sy=(Object.freeze||Object)({addCommas:Rr,toCamelCase:Fr,normalizeCssArray:gy,encodeHTML:$r,formatTpl:zr,formatTplSimple:Br,getTooltipMarker:Zr,formatTime:qr,capitalFirst:Gr,truncateText:wy,getTextBoundingRect:Ur,getTextRect:Xr,windowOpen:Wr}),Cy=f,Iy=["left","right","top","bottom","width","height"],ky=[["width","left","right"],["height","top","bottom"]],Oy=Yr,Ty=(b(Yr,"vertical"),b(Yr,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),Py=ca(),Dy=fr.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(e,t,i,a){fr.call(this,e,t,i,a),this.uid=gr("ec_cpt_model")},init:function(e,t,i){this.mergeDefaultAndTheme(e,i)},mergeDefaultAndTheme:function(e,t){var i=this.layoutMode,a=i?es(e):{};r(e,t.getTheme().get(this.mainType)),r(e,this.getDefaultOption()),i&&Qr(e,a,i)},mergeOption:function(e){r(this.option,e,!0);var t=this.layoutMode;t&&Qr(this.option,e,t)},optionUpdated:function(){},getDefaultOption:function(){var e=Py(this);if(!e.defaultOption){for(var t=[],i=this.constructor;i;){var a=i.prototype.defaultOption;a&&t.push(a),i=i.superClass}for(var n={},s=t.length-1;s>=0;s--)n=r(n,t[s],!0);e.defaultOption=n}return e.defaultOption},getReferringComponents:function(e){return this.ecModel.queryComponents({mainType:e,index:this.get(e+"Index",!0),id:this.get(e+"Id",!0)})}});xa(Dy,{registerWhenExtend:!0}),yr(Dy),_r(Dy,is),h(Dy,Ty);var My="";"undefined"!=typeof navigator&&(My=navigator.platform||"");var Ly={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:My.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ey=ca(),Ay={clearColorPalette:function(){Ey(this).colorIdx=0,Ey(this).colorNameMap={}},getColorFromPalette:function(e,t,i){var a=Ey(t=t||this),n=a.colorIdx||0,r=a.colorNameMap=a.colorNameMap||{};if(r.hasOwnProperty(e))return r[e];var s=ea(this.get("color",!0)),o=this.get("colorLayer",!0),l=null!=i&&o?as(o,i):s;if((l=l||s)&&l.length){var c=l[n];return e&&(r[e]=c),a.colorIdx=(n+1)%l.length,c}}},jy="original",Ny="arrayRows",Vy="objectRows",Ry="keyedColumns",Fy="unknown",$y="typedArray",zy="column",By="row";ns.seriesDataToSource=function(e){return new ns({data:e,sourceFormat:k(e)?$y:jy,fromDataset:!1})},ya(ns);var Zy={Must:1,Might:2,Not:3},Hy=ca(),qy="\0_ec_inner",Gy=fr.extend({init:function(e,t,i,a){i=i||{},this.option=null,this._theme=new fr(i),this._optionManager=a},setOption:function(e,t){A(!(qy in e),"please use chart.getOption()"),this._optionManager.setOption(e,t),this.resetOption(null)},resetOption:function(e){var t=!1,i=this._optionManager;if(!e||"recreate"===e){var a=i.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this.mergeOption(a)):bs.call(this,a),t=!0}if(("timeline"===e||"media"===e)&&this.restoreData(),!e||"recreate"===e||"timeline"===e){var n=i.getTimelineOption(this);n&&(this.mergeOption(n),t=!0)}if(!e||"recreate"===e||"media"===e){var r=i.getMediaOption(this,this._api);r.length&&f(r,(function(e){this.mergeOption(e,t=!0)}),this)}return t},mergeOption:function(e){function t(t,n){var r=ea(e[t]),s=na(a.get(t),r);ra(s),f(s,(function(e){var i=e.option;C(i)&&(e.keyInfo.mainType=t,e.keyInfo.subType=ws(t,i,e.exist))}));var l=xs(a,n);i[t]=[],a.set(t,[]),f(s,(function(e,n){var r=e.exist,s=e.option;if(A(C(s)||r,"Empty component definition"),s){var c=Dy.getClass(t,e.keyInfo.subType,!0);if(r&&r.constructor===c)r.name=e.keyInfo.name,r.mergeOption(s,this),r.optionUpdated(s,!1);else{var u=o({dependentModels:l,componentIndex:n},e.keyInfo);o(r=new c(s,this,this,u),u),r.init(s,this,this,u),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);a.get(t)[n]=r,i[t][n]=r.option}),this),"series"===t&&Ss(this,a.get("series"))}var i=this.option,a=this._componentsMap,s=[];os(this),f(e,(function(e,t){null!=e&&(Dy.hasClass(t)?t&&s.push(t):i[t]=null==i[t]?n(e):r(i[t],e,!0))})),Dy.topologicalTravel(s,Dy.getAllClassMainTypes(),t,this),this._seriesIndicesMap=F(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var e=n(this.option);return f(e,(function(t,i){if(Dy.hasClass(i)){for(var a=(t=ea(t)).length-1;a>=0;a--)oa(t[a])&&t.splice(a,1);e[i]=t}})),delete e[qy],e},getTheme:function(){return this._theme},getComponent:function(e,t){var i=this._componentsMap.get(e);return i?i[t||0]:void 0},queryComponents:function(e){var t=e.mainType;if(!t)return[];var i,a=e.index,n=e.id,r=e.name,s=this._componentsMap.get(t);if(!s||!s.length)return[];if(null!=a)x(a)||(a=[a]),i=g(v(a,(function(e){return s[e]})),(function(e){return!!e}));else if(null!=n){var o=x(n);i=g(s,(function(e){return o&&u(n,e.id)>=0||!o&&e.id===n}))}else if(null!=r){var l=x(r);i=g(s,(function(e){return l&&u(r,e.name)>=0||!l&&e.name===r}))}else i=s.slice();return Cs(i,e)},findComponents:function(e){function t(e){var t=n+"Index",i=n+"Id",a=n+"Name";return!e||null==e[t]&&null==e[i]&&null==e[a]?null:{mainType:n,index:e[t],id:e[i],name:e[a]}}function i(t){return e.filter?g(t,e.filter):t}var a=e.query,n=e.mainType,r=t(a);return i(Cs(r?this.queryComponents(r):this._componentsMap.get(n),e))},eachComponent:function(e,t,i){var a=this._componentsMap;"function"==typeof e?(i=t,t=e,a.each((function(e,a){f(e,(function(e,n){t.call(i,a,e,n)}))}))):S(e)?f(a.get(e),t,i):C(e)&&f(this.findComponents(e),t,i)},getSeriesByName:function(e){return g(this._componentsMap.get("series"),(function(t){return t.name===e}))},getSeriesByIndex:function(e){return this._componentsMap.get("series")[e]},getSeriesByType:function(e){return g(this._componentsMap.get("series"),(function(t){return t.subType===e}))},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(e,t){Is(this),f(this._seriesIndices,(function(i){var a=this._componentsMap.get("series")[i];e.call(t,a,i)}),this)},eachRawSeries:function(e,t){f(this._componentsMap.get("series"),e,t)},eachSeriesByType:function(e,t,i){Is(this),f(this._seriesIndices,(function(a){var n=this._componentsMap.get("series")[a];n.subType===e&&t.call(i,n,a)}),this)},eachRawSeriesByType:function(e,t,i){return f(this.getSeriesByType(e),t,i)},isSeriesFiltered:function(e){return Is(this),null==this._seriesIndicesMap.get(e.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(e,t){Is(this),Ss(this,g(this._componentsMap.get("series"),e,t))},restoreData:function(e){var t=this._componentsMap;Ss(this,t.get("series"));var i=[];t.each((function(e,t){i.push(t)})),Dy.topologicalTravel(i,Dy.getAllClassMainTypes(),(function(i){f(t.get(i),(function(t){("series"!==i||!ys(t,e))&&t.restoreData()}))}))}});h(Gy,Ay);var Uy=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],Xy={};Os.prototype={constructor:Os,create:function(e,t){var i=[];f(Xy,(function(a){var n=a.create(e,t);i=i.concat(n||[])})),this._coordinateSystems=i},update:function(e,t){f(this._coordinateSystems,(function(i){i.update&&i.update(e,t)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Os.register=function(e,t){Xy[e]=t},Os.get=function(e){return Xy[e]};var Wy=f,Yy=n,Ky=v,Jy=r,Qy=/^(min|max)?(.+)$/;Ts.prototype={constructor:Ts,setOption:function(e,t){e&&f(ea(e.series),(function(e){e&&e.data&&k(e.data)&&N(e.data)})),e=Yy(e);var i=this._optionBackup,a=Ps.call(this,e,t,!i);this._newBaseOption=a.baseOption,i?(Es(i.baseOption,a.baseOption),a.timelineOptions.length&&(i.timelineOptions=a.timelineOptions),a.mediaList.length&&(i.mediaList=a.mediaList),a.mediaDefault&&(i.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(e){var t=this._optionBackup;return this._timelineOptions=Ky(t.timelineOptions,Yy),this._mediaList=Ky(t.mediaList,Yy),this._mediaDefault=Yy(t.mediaDefault),this._currentMediaIndices=[],Yy(e?t.baseOption:this._newBaseOption)},getTimelineOption:function(e){var t,i=this._timelineOptions;if(i.length){var a=e.getComponent("timeline");a&&(t=Yy(i[a.getCurrentIndex()],!0))}return t},getMediaOption:function(){var e=this._api.getWidth(),t=this._api.getHeight(),i=this._mediaList,a=this._mediaDefault,n=[],r=[];if(!i.length&&!a)return r;for(var s=0,o=i.length;o>s;s++)Ds(i[s].query,e,t)&&n.push(s);return!n.length&&a&&(n=[-1]),n.length&&!Ls(n,this._currentMediaIndices)&&(r=Ky(n,(function(e){return Yy(-1===e?a.option:i[e].option)}))),this._currentMediaIndices=n,r}};var e_=f,t_=C,i_=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],a_=function(e,t){e_($s(e.series),(function(e){t_(e)&&Fs(e)}));var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),e_(i,(function(t){e_($s(e[t]),(function(e){e&&(Vs(e,"axisLabel"),Vs(e.axisPointer,"label"))}))})),e_($s(e.parallel),(function(e){var t=e&&e.parallelAxisDefault;Vs(t,"axisLabel"),Vs(t&&t.axisPointer,"label")})),e_($s(e.calendar),(function(e){js(e,"itemStyle"),Vs(e,"dayLabel"),Vs(e,"monthLabel"),Vs(e,"yearLabel")})),e_($s(e.radar),(function(e){Vs(e,"name")})),e_($s(e.geo),(function(e){t_(e)&&(Rs(e),e_($s(e.regions),(function(e){Rs(e)})))})),e_($s(e.timeline),(function(e){Rs(e),js(e,"label"),js(e,"itemStyle"),js(e,"controlStyle",!0);var t=e.data;x(t)&&f(t,(function(e){C(e)&&(js(e,"label"),js(e,"itemStyle"))}))})),e_($s(e.toolbox),(function(e){js(e,"iconStyle"),e_(e.feature,(function(e){js(e,"iconStyle")}))})),Vs(zs(e.axisPointer),"label"),Vs(zs(e.tooltip).axisPointer,"label")},n_=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],r_=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],s_=function(e,t){a_(e,t),e.series=ea(e.series),f(e.series,(function(e){if(C(e)){var t=e.type;if("line"===t)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===t||"gauge"===t)null!=e.clockWise&&(e.clockwise=e.clockWise);else if("gauge"===t){var i=Bs(e,"pointer.color");null!=i&&Zs(e,"itemStyle.color",i)}Hs(e)}})),e.dataRange&&(e.visualMap=e.dataRange),f(r_,(function(t){var i=e[t];i&&(x(i)||(i=[i]),f(i,(function(e){Hs(e)})))}))},o_=function(e){var t=F();e.eachSeries((function(e){var i=e.get("stack");if(i){var a=t.get(i)||t.set(i,[]),n=e.getData(),r={stackResultDimension:n.getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:e};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;a.length&&n.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(r)}})),t.each(qs)},l_=Gs.prototype;l_.pure=!1,l_.persistent=!0,l_.getSource=function(){return this._source};var c_={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(e){return this._data[e+this._source.startIndex]},appendData:Ws},arrayRows_row:{pure:!0,count:function(){var e=this._data[0];return e?Math.max(0,e.length-this._source.startIndex):0},getItem:function(e){e+=this._source.startIndex;for(var t=[],i=this._data,a=0;a<i.length;a++){var n=i[a];t.push(n?n[e]:null)}return t},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Us,getItem:Xs,appendData:Ws},keyedColumns:{pure:!0,count:function(){var e=this._source.dimensionsDefine[0].name,t=this._data[e];return t?t.length:0},getItem:function(e){for(var t=[],i=this._source.dimensionsDefine,a=0;a<i.length;a++){var n=this._data[i[a].name];t.push(n?n[e]:null)}return t},appendData:function(e){var t=this._data;f(e,(function(e,i){for(var a=t[i]||(t[i]=[]),n=0;n<(e||[]).length;n++)a.push(e[n])}))}},original:{count:Us,getItem:Xs,appendData:Ws},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(e,t){e-=this._offset,t=t||[];for(var i=this._dimSize*e,a=0;a<this._dimSize;a++)t[a]=this._data[i+a];return t},appendData:function(e){Hp&&A(k(e),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=e},clean:function(){this._offset+=this.count(),this._data=null}}},u_={arrayRows:Ys,objectRows:function(e,t,i,a){return null!=i?e[a]:e},keyedColumns:Ys,original:function(e,t,i){var a=ia(e);return null!=i&&a instanceof Array?a[i]:a},typedArray:Ys},d_={arrayRows:Ks,objectRows:function(e,t){return Js(e[t],this._dimensionInfos[t])},keyedColumns:Ks,original:function(e,t,i,a){var n=e&&(null==e.value?e:e.value);return!this._rawData.pure&&aa(e)&&(this.hasItemOption=!0),Js(n instanceof Array?n[a]:n,this._dimensionInfos[t])},typedArray:function(e,t,i,a){return e[a]}},h_=/\{@(.+?)\}/g,p_={getDataParams:function(e,t){var i=this.getData(t),a=this.getRawValue(e,t),n=i.getRawIndex(e),r=i.getName(e),s=i.getRawDataItem(e),o=i.getItemVisual(e,"color"),l=i.getItemVisual(e,"borderColor"),c=this.ecModel.getComponent("tooltip"),u=fa(c&&c.get("renderMode")),d=this.mainType,h="series"===d,p=i.userOutput;return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:r,dataIndex:n,data:s,dataType:t,value:a,color:o,borderColor:l,dimensionNames:p?p.dimensionNames:null,encode:p?p.encode:null,marker:Zr({color:o,renderMode:u}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(e,t,i,a,n){t=t||"normal";var r=this.getData(i),s=r.getItemModel(e),o=this.getDataParams(e,i);null!=a&&o.value instanceof Array&&(o.value=o.value[a]);var l=s.get("normal"===t?[n||"label","formatter"]:[t,n||"label","formatter"]);return"function"==typeof l?(o.status=t,o.dimensionIndex=a,l(o)):"string"==typeof l?zr(l,o).replace(h_,(function(t,i){var a=i.length;return"["===i.charAt(0)&&"]"===i.charAt(a-1)&&(i=+i.slice(1,a-1)),Qs(r,e,i)})):void 0},getRawValue:function(e,t){return Qs(this.getData(t),e)},formatTooltip:function(){}},f_=io.prototype;f_.perform=function(e){function t(e){return!(e>=1)&&(e=1),e}var i,a=this._upstream,n=e&&e.skip;if(this._dirty&&a){var r=this.context;r.data=r.outputData=a.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(i=this._plan(this.context));var s,o=t(this._modBy),l=this._modDataCount||0,c=t(e&&e.modBy),u=e&&e.modDataCount||0;(o!==c||l!==u)&&(i="reset"),(this._dirty||"reset"===i)&&(this._dirty=!1,s=no(this,n)),this._modBy=c,this._modDataCount=u;var d=e&&e.step;if(a?(Hp&&A(null!=a._outputDueEnd),this._dueEnd=a._outputDueEnd):(Hp&&A(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var h=this._dueIndex,p=Math.min(null!=d?this._dueIndex+d:1/0,this._dueEnd);if(!n&&(s||p>h)){var f=this._progress;if(x(f))for(var v=0;v<f.length;v++)ao(this,f[v],h,p,c,u);else ao(this,f,h,p,c,u)}this._dueIndex=p;var m=null!=this._settedOutputEnd?this._settedOutputEnd:p;Hp&&A(m>=this._outputDueEnd),this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var v_=function(){function e(){return i>a?a++:null}function t(){var e=a%s*n+Math.ceil(a/s),t=a>=i?null:r>e?e:a;return a++,t}var i,a,n,r,s,o={reset:function(l,c,u,d){a=l,i=c,n=u,r=d,s=Math.ceil(r/n),o.next=n>1&&r>0?t:e}};return o}();f_.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},f_.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},f_.pipe=function(e){Hp&&A(e&&!e._disposed&&e!==this),(this._downstream!==e||this._dirty)&&(this._downstream=e,e._upstream=this,e.dirty())},f_.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},f_.getUpstream=function(){return this._upstream},f_.getDownstream=function(){return this._downstream},f_.setOutputEnd=function(e){this._outputDueEnd=this._settedOutputEnd=e};var m_=ca(),g_=Dy.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(e,t,i){this.seriesIndex=this.componentIndex,this.dataTask=to({count:oo,reset:lo}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i),ls(this);var a=this.getInitialData(e,i);uo(a,this),this.dataTask.context.data=a,Hp&&A(a,"getInitialData returned invalid data."),m_(this).dataBeforeProcessed=a,ro(this)},mergeDefaultAndTheme:function(e,t){var i=this.layoutMode,a=i?es(e):{},n=this.subType;Dy.hasClass(n)&&(n+="Series"),r(e,t.getTheme().get(this.subType)),r(e,this.getDefaultOption()),ta(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&Qr(e,a,i)},mergeOption:function(e,t){e=r(this.option,e,!0),this.fillDataTextStyle(e.data);var i=this.layoutMode;i&&Qr(this.option,e,i),ls(this);var a=this.getInitialData(e,t);uo(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,m_(this).dataBeforeProcessed=a,ro(this)},fillDataTextStyle:function(e){if(e&&!k(e))for(var t=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&ta(e[i],"label",t)},getInitialData:function(){},appendData:function(e){this.getRawData().appendData(e.data)},getData:function(e){var t=po(this);if(t){var i=t.context.data;return null==e?i:i.getLinkedData(e)}return m_(this).data},setData:function(e){var t=po(this);if(t){var i=t.context;i.data!==e&&t.modifyOutputEnd&&t.setOutputEnd(e.count()),i.outputData=e,t!==this.dataTask&&(i.data=e)}m_(this).data=e},getSource:function(){return ss(this)},getRawData:function(){return m_(this).dataBeforeProcessed},getBaseAxis:function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},formatTooltip:function(e,t,i,a){function n(i){function n(e,i){var n=d.getDimensionInfo(i);if(n&&!1!==n.otherDims.tooltip){var h=n.type,p="sub"+s.seriesIndex+"at"+u,f=Zr({color:y,type:"subItem",renderMode:a,markerId:p}),v="string"==typeof f?f:f.content,m=(r?v+$r(n.displayName||"-")+": ":"")+$r("ordinal"===h?e+"":"time"===h?t?"":qr("yyyy/MM/dd hh:mm:ss",e):Rr(e));m&&o.push(m),l&&(c[p]=y,++u)}}var r=m(i,(function(e,t,i){var a=d.getDimensionInfo(i);return e|(a&&!1!==a.tooltip&&null!=a.displayName)}),0),o=[];h.length?f(h,(function(t){n(Qs(d,e,t),t)})):f(i,n);var p=r?l?"\n":"<br/>":"",v=p+o.join(p||", ");return{renderMode:a,content:v,style:c}}function r(e){return{renderMode:a,content:$r(Rr(e)),style:c}}var s=this,o="html"===(a=a||"html")?"<br/>":"\n",l="richText"===a,c={},u=0,d=this.getData(),h=d.mapDimension("defaultedTooltip",!0),p=h.length,v=this.getRawValue(e),g=x(v),y=d.getItemVisual(e,"color");C(y)&&y.colorStops&&(y=(y.colorStops[0]||{}).color),y=y||"transparent";var _=(p>1||g&&!p?n(v):r(p?Qs(d,e,h[0]):g?v[0]:v)).content,b=s.seriesIndex+"at"+u,w=Zr({color:y,type:"item",renderMode:a,markerId:b});c[b]=y,++u;var S=d.getName(e),I=this.name;sa(this)||(I=""),I=I?$r(I)+(t?": ":o):"";var k="string"==typeof w?w:w.content;return{html:t?k+I+_:I+k+(S?$r(S)+": "+_:_),markers:c}},isAnimationEnabled:function(){if(Up.node)return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),e},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(e,t,i){var a=this.ecModel,n=Ay.getColorFromPalette.call(this,e,t,i);return n||(n=a.getColorFromPalette(e,t,i)),n},coordDimToDataDim:function(e){return this.getRawData().mapDimension(e,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});h(g_,p_),h(g_,Ay);var y_=function(){this.group=new ov,this.uid=gr("viewComponent")};y_.prototype={constructor:y_,init:function(){},render:function(){},dispose:function(){},filterForExposedEvent:null};var __=y_.prototype;__.updateView=__.updateLayout=__.updateVisual=function(){},ga(y_),xa(y_,{registerWhenExtend:!0});var b_=function(){var e=ca();return function(t){var i=e(t),a=t.pipelineContext,n=i.large,r=i.progressiveRender,s=i.large=a&&a.large,o=i.progressiveRender=a&&a.progressiveRender;return!!(n^s||r^o)&&"reset"}},x_=ca(),w_=b_();fo.prototype={type:"chart",init:function(){},render:function(){},highlight:function(e,t,i,a){mo(e.getData(),a,"emphasis")},downplay:function(e,t,i,a){mo(e.getData(),a,"normal")},remove:function(){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var S_=fo.prototype;S_.updateView=S_.updateLayout=S_.updateVisual=function(e,t,i,a){this.render(e,t,i,a)},ga(fo,["dispose"]),xa(fo,{registerWhenExtend:!0}),fo.markUpdateMethod=function(e,t){x_(e).updateMethod=t};var C_={incrementalPrepareRender:{progress:function(e,t){t.view.incrementalRender(e,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(e,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}},I_="\0__throttleOriginMethod",k_="\0__throttleRate",O_="\0__throttleType",T_={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var i=e.getData(),a=(e.visualColorAccessPath||"itemStyle.color").split("."),n=e.get(a),r=!w(n)||n instanceof zg?null:n;(!n||r)&&(n=e.getColorFromPalette(e.name,null,t.getSeriesCount())),i.setVisual("color",n);var s=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),o=e.get(s);if(i.setVisual("borderColor",o),!t.isSeriesFiltered(e)){r&&i.each((function(t){i.setItemVisual(t,"color",r(e.getDataParams(t)))}));var l=function(e,t){var i=e.getItemModel(t),n=i.get(a,!0),r=i.get(s,!0);null!=n&&e.setItemVisual(t,"color",n),null!=r&&e.setItemVisual(t,"borderColor",r)};return{dataEach:i.hasItemOption?l:null}}}},P_={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},D_=function(e,t){function i(e,t){if("string"!=typeof e)return e;var i=e;return f(t,(function(e,t){i=i.replace(new RegExp("\\{\\s*"+t+"\\s*\\}","g"),e)})),i}function a(e){var t=s.get(e);if(null==t){for(var i=e.split("."),a=P_.aria,n=0;n<i.length;++n)a=a[i[n]];return a}return t}function n(){var e=t.getModel("title").option;return e&&e.length&&(e=e[0]),e&&e.text}function r(e){return P_.series.typeNames[e]||"自定义图"}var s=t.getModel("aria");if(s.get("show")){if(s.get("description"))return void e.setAttribute("aria-label",s.get("description"));var o=0;t.eachSeries((function(){++o}),this);var l,c=s.get("data.maxCount")||10,u=s.get("series.maxCount")||10,d=Math.min(o,u);if(!(1>o)){var h=n();l=h?i(a("general.withTitle"),{title:h}):a("general.withoutTitle");var p=[];l+=i(a(o>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:o}),t.eachSeries((function(e,t){if(d>t){var n,s=e.get("name"),l="series."+(o>1?"multiple":"single")+".";n=i(n=a(s?l+"withName":l+"withoutName"),{seriesId:e.seriesIndex,seriesName:e.get("name"),seriesType:r(e.subType)});var u=e.getData();window.data=u,n+=u.count()>c?i(a("data.partialData"),{displayCnt:c}):a("data.allData");for(var h=[],f=0;f<u.count();f++)if(c>f){var v=u.getName(f),m=Qs(u,f);h.push(i(a(v?"data.withName":"data.withoutName"),{name:v,value:m}))}n+=h.join(a("data.separator.middle"))+a("data.separator.end"),p.push(n)}})),l+=p.join(a("series.multiple.separator.middle"))+a("series.multiple.separator.end"),e.setAttribute("aria-label",l)}}},M_=Math.PI,L_=function(e,t){l(t=t||{},{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var i=new ov,a=new Ag({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});i.add(a);var n=t.fontSize+" sans-serif",r=new Ag({style:{fill:"none",text:t.text,font:n,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});if(i.add(r),t.showSpinner){var s=new Fg({shape:{startAngle:-M_/2,endAngle:-M_/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001});s.animateShape(!0).when(1e3,{endAngle:3*M_/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:3*M_/2}).delay(300).start("circularInOut"),i.add(s)}return i.resize=function(){var i=qt(t.text,n),o=t.showSpinner?t.spinnerRadius:0,l=(e.getWidth()-2*o-(t.showSpinner&&i?10:0)-i)/2-(t.showSpinner?0:i/2),c=e.getHeight()/2;t.showSpinner&&s.setShape({cx:l,cy:c}),r.setShape({x:l-o,y:c-o,width:2*o,height:2*o}),a.setShape({x:0,y:0,width:e.getWidth(),height:e.getHeight()})},i.resize(),i},E_=wo.prototype;E_.restoreData=function(e,t){e.restoreData(t),this._stageTaskMap.each((function(e){var t=e.overallTask;t&&t.dirty()}))},E_.getPerformArgs=function(e,t){if(e.__pipeline){var i=this._pipelineMap.get(e.__pipeline.id),a=i.context,n=!t&&i.progressiveEnabled&&(!a||a.progressiveRender)&&e.__idxInPipeline>i.blockIndex?i.step:null,r=a&&a.modDataCount;return{step:n,modBy:null!=r?Math.ceil(r/n):null,modDataCount:r}}},E_.getPipeline=function(e){return this._pipelineMap.get(e)},E_.updateStreamModes=function(e,t){var i=this._pipelineMap.get(e.uid),a=e.getData().count(),n=i.progressiveEnabled&&t.incrementalPrepareRender&&a>=i.threshold,r=e.get("large")&&a>=e.get("largeThreshold"),s="mod"===e.get("progressiveChunkMode")?a:null;e.pipelineContext=i.context={progressiveRender:n,modDataCount:s,large:r}},E_.restorePipelines=function(e){var t=this,i=t._pipelineMap=F();e.eachSeries((function(e){var a=e.getProgressive(),n=e.uid;i.set(n,{id:n,head:null,tail:null,threshold:e.getProgressiveThreshold(),progressiveEnabled:a&&!(e.preventIncremental&&e.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),Ao(t,e,e.dataTask)}))},E_.prepareStageTasks=function(){var e=this._stageTaskMap,t=this.ecInstance.getModel(),i=this.api;f(this._allHandlers,(function(a){var n=e.get(a.uid)||e.set(a.uid,[]);a.reset&&Co(this,a,n,t,i),a.overallReset&&Io(this,a,n,t,i)}),this)},E_.prepareView=function(e,t,i,a){var n=e.renderTask,r=n.context;r.model=t,r.ecModel=i,r.api=a,n.__block=!e.incrementalPrepareRender,Ao(this,t,n)},E_.performDataProcessorTasks=function(e,t){So(this,this._dataProcessorHandlers,e,t,{block:!0})},E_.performVisualTasks=function(e,t,i){So(this,this._visualHandlers,e,t,i)},E_.performSeriesTasks=function(e){var t;e.eachSeries((function(e){t|=e.dataTask.perform()})),this.unfinished|=t},E_.plan=function(){this._pipelineMap.each((function(e){var t=e.tail;do{if(t.__block){e.blockIndex=t.__idxInPipeline;break}t=t.getUpstream()}while(t)}))};var A_=E_.updatePayload=function(e,t){"remain"!==t&&(e.context.payload=t)},j_=Lo(0);wo.wrapStageHandler=function(e,t){return w(e)&&(e={overallReset:e,seriesType:jo(e)}),e.uid=gr("stageHandler"),t&&(e.visualType=t),e};var N_,V_={},R_={};No(V_,Gy),No(R_,ks),V_.eachSeriesByType=V_.eachRawSeriesByType=function(e){N_=e},V_.eachComponent=function(e){"series"===e.mainType&&e.subType&&(N_=e.subType)};var F_=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],$_={color:F_,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],F_]},z_="#eee",B_=function(){return{axisLine:{lineStyle:{color:z_}},axisTick:{lineStyle:{color:z_}},axisLabel:{textStyle:{color:z_}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:z_}}}},Z_=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],H_={color:Z_,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:z_},crossStyle:{color:z_},label:{color:"#000"}}},legend:{textStyle:{color:z_}},textStyle:{color:z_},title:{textStyle:{color:z_}},toolbox:{iconStyle:{normal:{borderColor:z_}}},dataZoom:{textStyle:{color:z_}},visualMap:{textStyle:{color:z_}},timeline:{lineStyle:{color:z_},itemStyle:{normal:{color:Z_[1]}},label:{normal:{textStyle:{color:z_}}},controlStyle:{normal:{color:z_,borderColor:z_}}},timeAxis:B_(),logAxis:B_(),valueAxis:B_(),categoryAxis:B_(),line:{symbol:"circle"},graph:{color:Z_},gauge:{title:{textStyle:{color:z_}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};H_.categoryAxis.splitLine.show=!1,Dy.extend({type:"dataset",defaultOption:{seriesLayoutBy:zy,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){rs(this)}}),y_.extend({type:"dataset"});var q_=tn.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(e,t){var i=.5522848,a=t.cx,n=t.cy,r=t.rx,s=t.ry,o=r*i,l=s*i;e.moveTo(a-r,n),e.bezierCurveTo(a-r,n-l,a-o,n-s,a,n-s),e.bezierCurveTo(a+o,n-s,a+r,n-l,a+r,n),e.bezierCurveTo(a+r,n+l,a+o,n+s,a,n+s),e.bezierCurveTo(a-o,n+s,a-r,n+l,a-r,n),e.closePath()}}),G_=/[\s,]+/;Ro.prototype.parse=function(e,t){t=t||{};var i=Vo(e);if(!i)throw new Error("Illegal svg");var a=new ov;this._root=a;var n,r,s=i.getAttribute("viewBox")||"",o=parseFloat(i.getAttribute("width")||t.width),l=parseFloat(i.getAttribute("height")||t.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),Bo(i,a,null,!0);for(var c=i.firstChild;c;)this._parseNode(c,a),c=c.nextSibling;if(s){var u=j(s).split(G_);u.length>=4&&(n={x:parseFloat(u[0]||0),y:parseFloat(u[1]||0),width:parseFloat(u[2]),height:parseFloat(u[3])})}if(n&&null!=o&&null!=l&&(r=Go(n,o,l),!t.ignoreViewBox)){var d=a;(a=new ov).add(d),d.scale=r.scale.slice(),d.position=r.position.slice()}return t.ignoreRootClip||null==o||null==l||a.setClipPath(new Ag({shape:{x:0,y:0,width:o,height:l}})),{root:a,width:o,height:l,viewBoxRect:n,viewBoxTransform:r}},Ro.prototype._parseNode=function(e,t){var i,a,n=e.nodeName.toLowerCase();if("defs"===n?this._isDefine=!0:"text"===n&&(this._isText=!0),this._isDefine){if(a=X_[n]){var r=a.call(this,e),s=e.getAttribute("id");s&&(this._defs[s]=r)}}else(a=U_[n])&&(i=a.call(this,e,t),t.add(i));for(var o=e.firstChild;o;)1===o.nodeType&&this._parseNode(o,i),3===o.nodeType&&this._isText&&this._parseText(o,i),o=o.nextSibling;"defs"===n?this._isDefine=!1:"text"===n&&(this._isText=!1)},Ro.prototype._parseText=function(e,t){if(1===e.nodeType){var i=e.getAttribute("dx")||0,a=e.getAttribute("dy")||0;this._textX+=parseFloat(i),this._textY+=parseFloat(a)}var n=new wg({style:{text:e.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});$o(t,n),Bo(e,n,this._defs);var r=n.style.fontSize;r&&9>r&&(n.style.fontSize=9,n.scale=n.scale||[1,1],n.scale[0]*=r/9,n.scale[1]*=r/9);var s=n.getBoundingRect();return this._textX+=s.width,t.add(n),n};var U_={g:function(e,t){var i=new ov;return $o(t,i),Bo(e,i,this._defs),i},rect:function(e,t){var i=new Ag;return $o(t,i),Bo(e,i,this._defs),i.setShape({x:parseFloat(e.getAttribute("x")||0),y:parseFloat(e.getAttribute("y")||0),width:parseFloat(e.getAttribute("width")||0),height:parseFloat(e.getAttribute("height")||0)}),i},circle:function(e,t){var i=new Sg;return $o(t,i),Bo(e,i,this._defs),i.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),r:parseFloat(e.getAttribute("r")||0)}),i},line:function(e,t){var i=new Ng;return $o(t,i),Bo(e,i,this._defs),i.setShape({x1:parseFloat(e.getAttribute("x1")||0),y1:parseFloat(e.getAttribute("y1")||0),x2:parseFloat(e.getAttribute("x2")||0),y2:parseFloat(e.getAttribute("y2")||0)}),i},ellipse:function(e,t){var i=new q_;return $o(t,i),Bo(e,i,this._defs),i.setShape({cx:parseFloat(e.getAttribute("cx")||0),cy:parseFloat(e.getAttribute("cy")||0),rx:parseFloat(e.getAttribute("rx")||0),ry:parseFloat(e.getAttribute("ry")||0)}),i},polygon:function(e,t){var i=e.getAttribute("points");i&&(i=zo(i));var a=new Dg({shape:{points:i||[]}});return $o(t,a),Bo(e,a,this._defs),a},polyline:function(e,t){var i=new tn;$o(t,i),Bo(e,i,this._defs);var a=e.getAttribute("points");return a&&(a=zo(a)),new Mg({shape:{points:a||[]}})},image:function(e,t){var i=new Ti;return $o(t,i),Bo(e,i,this._defs),i.setStyle({image:e.getAttribute("xlink:href"),x:e.getAttribute("x"),y:e.getAttribute("y"),width:e.getAttribute("width"),height:e.getAttribute("height")}),i},text:function(e,t){var i=e.getAttribute("x")||0,a=e.getAttribute("y")||0,n=e.getAttribute("dx")||0,r=e.getAttribute("dy")||0;this._textX=parseFloat(i)+parseFloat(n),this._textY=parseFloat(a)+parseFloat(r);var s=new ov;return $o(t,s),Bo(e,s,this._defs),s},tspan:function(e,t){var i=e.getAttribute("x"),a=e.getAttribute("y");null!=i&&(this._textX=parseFloat(i)),null!=a&&(this._textY=parseFloat(a));var n=e.getAttribute("dx")||0,r=e.getAttribute("dy")||0,s=new ov;return $o(t,s),Bo(e,s,this._defs),this._textX+=n,this._textY+=r,s},path:function(e,t){var i=sn(e.getAttribute("d")||"");return $o(t,i),Bo(e,i,this._defs),i}},X_={lineargradient:function(e){var t=parseInt(e.getAttribute("x1")||0,10),i=parseInt(e.getAttribute("y1")||0,10),a=parseInt(e.getAttribute("x2")||10,10),n=parseInt(e.getAttribute("y2")||0,10),r=new Bg(t,i,a,n);return Fo(e,r),r},radialgradient:function(){}},W_={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},Y_=/url\(\s*#(.*?)\)/,K_=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,J_=/([^\s:;]+)\s*:\s*([^:;]+)/g,Q_=F(),eb={registerMap:function(e,t,i){var a;return x(t)?a=t:t.svg?a=[{type:"svg",source:t.svg,specialAreas:t.specialAreas}]:(t.geoJson&&!t.features&&(i=t.specialAreas,t=t.geoJson),a=[{type:"geoJSON",source:t,specialAreas:i}]),f(a,(function(e){var t=e.type;"geoJson"===t&&(t=e.type="geoJSON");var i=tb[t];Hp&&A(i,"Illegal map type: "+t),i(e)})),Q_.set(e,a)},retrieveMap:function(e){return Q_.get(e)}},tb={geoJSON:function(e){var t=e.source;e.geoJSON=S(t)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t},svg:function(e){e.svgXML=Vo(e.source)}},ib=A,ab=f,nb=w,rb=C,sb=Dy.parseClassType,ob="4.9.0",lb={zrender:"4.3.2"},cb=1,ub=1e3,db=900,hb=1e3,pb=2e3,fb=3e3,vb={PROCESSOR:{FILTER:ub,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:hb,PROGRESSIVE_LAYOUT:1100,GLOBAL:pb,CHART:fb,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},mb="__flagInMainProcess",gb="__optionUpdated",yb=/^[a-zA-Z0-9_]+$/;Xo.prototype.on=Uo("on",!0),Xo.prototype.off=Uo("off",!0),Xo.prototype.one=Uo("one",!0),h(Xo,mf);var _b=Wo.prototype;_b._onframe=function(){if(!this._disposed){var e=this._scheduler;if(this[gb]){var t=this[gb].silent;this[mb]=!0,Ko(this),bb.update.call(this),this[mb]=!1,this[gb]=!1,tl.call(this,t),il.call(this,t)}else if(e.unfinished){var i=cb,a=this._model,n=this._api;e.unfinished=!1;do{var r=+new Date;e.performSeriesTasks(a),e.performDataProcessorTasks(a),Qo(this,a),e.performVisualTasks(a),ll(this,this._model,n,"remain"),i-=+new Date-r}while(i>0&&e.unfinished);e.unfinished||this._zr.flush()}}},_b.getDom=function(){return this._dom},_b.getZr=function(){return this._zr},_b.setOption=function(e,t,i){if(Hp&&ib(!this[mb],"`setOption` should not be called during main process."),this._disposed)ul(this.id);else{var a;if(rb(t)&&(i=t.lazyUpdate,a=t.silent,t=t.notMerge),this[mb]=!0,!this._model||t){var n=new Ts(this._api),r=this._theme,s=this._model=new Gy;s.scheduler=this._scheduler,s.init(null,null,r,n)}this._model.setOption(e,Ib),i?(this[gb]={silent:a},this[mb]=!1):(Ko(this),bb.update.call(this),this._zr.flush(),this[gb]=!1,this[mb]=!1,tl.call(this,a),il.call(this,a))}},_b.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},_b.getModel=function(){return this._model},_b.getOption=function(){return this._model&&this._model.getOption()},_b.getWidth=function(){return this._zr.getWidth()},_b.getHeight=function(){return this._zr.getHeight()},_b.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},_b.getRenderedCanvas=function(e){if(Up.canvasSupported)return(e=e||{}).pixelRatio=e.pixelRatio||1,e.backgroundColor=e.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(e)},_b.getSvgDataURL=function(){if(Up.svgSupported){var e=this._zr;return f(e.storage.getDisplayList(),(function(e){e.stopAnimation(!0)})),e.painter.toDataURL()}},_b.getDataURL=function(e){if(!this._disposed){var t=(e=e||{}).excludeComponents,i=this._model,a=[],n=this;ab(t,(function(e){i.eachComponent({mainType:e},(function(e){var t=n._componentsMap[e.__viewId];t.group.ignore||(a.push(t),t.group.ignore=!0)}))}));var r="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return ab(a,(function(e){e.group.ignore=!1})),r}ul(this.id)},_b.getConnectedDataURL=function(e){if(this._disposed)ul(this.id);else if(Up.canvasSupported){var t="svg"===e.type,i=this.group,a=Math.min,r=Math.max,s=1/0;if(Mb[i]){var o=s,l=s,c=-s,u=-s,d=[],h=e&&e.pixelRatio||1;f(Db,(function(s){if(s.group===i){var h=t?s.getZr().painter.getSvgDom().innerHTML:s.getRenderedCanvas(n(e)),p=s.getDom().getBoundingClientRect();o=a(p.left,o),l=a(p.top,l),c=r(p.right,c),u=r(p.bottom,u),d.push({dom:h,left:p.left,top:p.top})}}));var p=(c*=h)-(o*=h),v=(u*=h)-(l*=h),m=rf(),g=Wi(m,{renderer:t?"svg":"canvas"});if(g.resize({width:p,height:v}),t){var y="";return ab(d,(function(e){var t=e.left-o,i=e.top-l;y+='<g transform="translate('+t+","+i+')">'+e.dom+"</g>"})),g.painter.getSvgRoot().innerHTML=y,e.connectedBackgroundColor&&g.painter.setBackgroundColor(e.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}return e.connectedBackgroundColor&&g.add(new Ag({shape:{x:0,y:0,width:p,height:v},style:{fill:e.connectedBackgroundColor}})),ab(d,(function(e){var t=new Ti({style:{x:e.left*h-o,y:e.top*h-l,image:e.dom}});g.add(t)})),g.refreshImmediately(),m.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},_b.convertToPixel=b(Yo,"convertToPixel"),_b.convertFromPixel=b(Yo,"convertFromPixel"),_b.containPixel=function(e,t){var i;if(!this._disposed)return f(e=ua(this._model,e),(function(e,a){a.indexOf("Models")>=0&&f(e,(function(e){var n=e.coordinateSystem;if(n&&n.containPoint)i|=!!n.containPoint(t);else if("seriesModels"===a){var r=this._chartsMap[e.__viewId];r&&r.containPoint?i|=r.containPoint(t,e):Hp&&console.warn(a+": "+(r?"The found component do not support containPoint.":"No view mapping to the found component."))}else Hp&&console.warn(a+": containPoint is not supported")}),this)}),this),!!i;ul(this.id)},_b.getVisual=function(e,t){var i=(e=ua(this._model,e,{defaultMainType:"series"})).seriesModel;Hp&&(i||console.warn("There is no specified seires model"));var a=i.getData(),n=e.hasOwnProperty("dataIndexInside")?e.dataIndexInside:e.hasOwnProperty("dataIndex")?a.indexOfRawIndex(e.dataIndex):null;return null!=n?a.getItemVisual(n,t):a.getVisual(t)},_b.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},_b.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]};var bb={prepareAndUpdate:function(e){Ko(this),bb.update.call(this,e)},update:function(e){var t=this._model,i=this._api,a=this._zr,n=this._coordSysMgr,r=this._scheduler;if(t){r.restoreData(t,e),r.performSeriesTasks(t),n.create(t,i),r.performDataProcessorTasks(t,e),Qo(this,t),n.update(t,i),rl(t),r.performVisualTasks(t,e),sl(this,t,i,e);var s=t.get("backgroundColor")||"transparent";if(Up.canvasSupported)a.setBackgroundColor(s);else{var o=tt(s);s=ut(o,"rgb"),0===o[3]&&(s="transparent")}cl(t,i)}},updateTransform:function(e){var t=this._model,i=this,a=this._api;if(t){var n=[];t.eachComponent((function(r,s){var o=i.getViewOfComponentModel(s);if(o&&o.__alive)if(o.updateTransform){var l=o.updateTransform(s,t,a,e);l&&l.update&&n.push(o)}else n.push(o)}));var r=F();t.eachSeries((function(n){var s=i._chartsMap[n.__viewId];if(s.updateTransform){var o=s.updateTransform(n,t,a,e);o&&o.update&&r.set(n.uid,1)}else r.set(n.uid,1)})),rl(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0,dirtyMap:r}),ll(i,t,a,e,r),cl(t,this._api)}},updateView:function(e){var t=this._model;t&&(fo.markUpdateMethod(e,"updateView"),rl(t),this._scheduler.performVisualTasks(t,e,{setDirty:!0}),sl(this,this._model,this._api,e),cl(t,this._api))},updateVisual:function(e){bb.update.call(this,e)},updateLayout:function(e){bb.update.call(this,e)}};_b.resize=function(e){if(Hp&&ib(!this[mb],"`resize` should not be called during main process."),this._disposed)ul(this.id);else{this._zr.resize(e);var t=this._model;if(this._loadingFX&&this._loadingFX.resize(),t){var i=t.resetOption("media"),a=e&&e.silent;this[mb]=!0,i&&Ko(this),bb.update.call(this),this[mb]=!1,tl.call(this,a),il.call(this,a)}}},_b.showLoading=function(e,t){if(this._disposed)ul(this.id);else if(rb(e)&&(t=e,e=""),e=e||"default",this.hideLoading(),Pb[e]){var i=Pb[e](this._api,t),a=this._zr;this._loadingFX=i,a.add(i)}else Hp&&console.warn("Loading effects "+e+" not exists.")},_b.hideLoading=function(){return this._disposed?void ul(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),void(this._loadingFX=null))},_b.makeActionFromEvent=function(e){var t=o({},e);return t.type=Sb[e.type],t},_b.dispatchAction=function(e,t){if(this._disposed)ul(this.id);else if(rb(t)||(t={silent:!!t}),wb[e.type]&&this._model){if(this[mb])return void this._pendingActions.push(e);el.call(this,e,t.silent),t.flush?this._zr.flush(!0):!1!==t.flush&&Up.browser.weChat&&this._throttledZrFlush(),tl.call(this,t.silent),il.call(this,t.silent)}},_b.appendData=function(e){if(this._disposed)ul(this.id);else{var t=e.seriesIndex,i=this.getModel().getSeriesByIndex(t);Hp&&ib(e.data&&i),i.appendData(e),this._scheduler.unfinished=!0}},_b.on=Uo("on",!1),_b.off=Uo("off",!1),_b.one=Uo("one",!1);var xb=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];_b._initEvents=function(){ab(xb,(function(e){var t=function(t){var i,a=this.getModel(),n=t.target,r="globalout"===e;if(r)i={};else if(n&&null!=n.dataIndex){var s=n.dataModel||a.getSeriesByIndex(n.seriesIndex);i=s&&s.getDataParams(n.dataIndex,n.dataType,n)||{}}else n&&n.eventData&&(i=o({},n.eventData));if(i){var l=i.componentType,c=i.componentIndex;("markLine"===l||"markPoint"===l||"markArea"===l)&&(l="series",c=i.seriesIndex);var u=l&&null!=c&&a.getComponent(l,c),d=u&&this["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];Hp&&(r||u&&d||console.warn("model or view can not be found by params")),i.event=t,i.type=e,this._ecEventProcessor.eventInfo={targetEl:n,packedEvent:i,model:u,view:d},this.trigger(e,i)}};t.zrEventfulCallAtLast=!0,this._zr.on(e,t,this)}),this),ab(Sb,(function(e,t){this._messageCenter.on(t,(function(e){this.trigger(t,e)}),this)}),this)},_b.isDisposed=function(){return this._disposed},_b.clear=function(){return this._disposed?void ul(this.id):void this.setOption({series:[]},!0)},_b.dispose=function(){if(this._disposed)ul(this.id);else{this._disposed=!0,ha(this.getDom(),Ab,"");var e=this._api,t=this._model;ab(this._componentsViews,(function(i){i.dispose(t,e)})),ab(this._chartsViews,(function(i){i.dispose(t,e)})),this._zr.dispose(),delete Db[this.id]}},h(Wo,mf),vl.prototype={constructor:vl,normalizeQuery:function(e){var t={},i={},a={};if(S(e)){var n=sb(e);t.mainType=n.main||null,t.subType=n.sub||null}else{var r=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};f(e,(function(e,n){for(var o=!1,l=0;l<r.length;l++){var c=r[l],u=n.lastIndexOf(c);if(u>0&&u===n.length-c.length){var d=n.slice(0,u);"data"!==d&&(t.mainType=d,t[c.toLowerCase()]=e,o=!0)}}s.hasOwnProperty(n)&&(i[n]=e,o=!0),o||(a[n]=e)}))}return{cptQuery:t,dataQuery:i,otherQuery:a}},filter:function(e,t){function i(e,t,i,a){return null==e[i]||t[a||i]===e[i]}var a=this.eventInfo;if(!a)return!0;var n=a.targetEl,r=a.packedEvent,s=a.model,o=a.view;if(!s||!o)return!0;var l=t.cptQuery,c=t.dataQuery;return i(l,s,"mainType")&&i(l,s,"subType")&&i(l,s,"index","componentIndex")&&i(l,s,"name")&&i(l,s,"id")&&i(c,r,"name")&&i(c,r,"dataIndex")&&i(c,r,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(e,t.otherQuery,n,r))},afterTrigger:function(){this.eventInfo=null}};var wb={},Sb={},Cb=[],Ib=[],kb=[],Ob=[],Tb={},Pb={},Db={},Mb={},Lb=new Date-0,Eb=new Date-0,Ab="_echarts_instance_",jb=_l;Ml(pb,T_),Cl(s_),Il(db,o_),El("default",L_),Ol({type:"highlight",event:"highlight",update:"highlight"},z),Ol({type:"downplay",event:"downplay",update:"downplay"},z),Sl("light",$_),Sl("dark",H_);var Nb={};Bl.prototype={constructor:Bl,add:function(e){return this._add=e,this},update:function(e){return this._update=e,this},remove:function(e){return this._remove=e,this},execute:function(){var e=this._old,t=this._new,i={},a=[],n=[];for(Zl(e,{},a,"_oldKeyGetter",this),Zl(t,i,n,"_newKeyGetter",this),r=0;r<e.length;r++)null!=(o=i[s=a[r]])?((c=o.length)?(1===c&&(i[s]=null),o=o.shift()):i[s]=null,this._update&&this._update(o,r)):this._remove&&this._remove(r);for(var r=0;r<n.length;r++){var s=n[r];if(i.hasOwnProperty(s)){var o;if(null==(o=i[s]))continue;if(o.length)for(var l=0,c=o.length;c>l;l++)this._add&&this._add(o[l]);else this._add&&this._add(o)}}}};var Vb=F(["tooltip","label","itemName","itemId","seriesName"]),Rb=C,Fb="undefined",$b=-1,zb="e\0\0",Bb={float:typeof Float64Array===Fb?Array:Float64Array,int:typeof Int32Array===Fb?Array:Int32Array,ordinal:Array,number:Array,time:Array},Zb=typeof Uint32Array===Fb?Array:Uint32Array,Hb=typeof Int32Array===Fb?Array:Int32Array,qb=typeof Uint16Array===Fb?Array:Uint16Array,Gb=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Ub=["_extent","_approximateExtent","_rawExtent"],Xb=function(e,t){e=e||["x","y"];for(var i={},a=[],n={},r=0;r<e.length;r++){var s=e[r];S(s)?s=new Xl({name:s}):s instanceof Xl||(s=new Xl(s));var o=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=o,s.coordDimIndex=0),s.otherDims=s.otherDims||{},a.push(o),i[o]=s,s.index=r,s.createInvertedIndices&&(n[o]=[])}this.dimensions=a,this._dimensionInfos=i,this.hostModel=t,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=Hl(this),this._invertedIndicesMap=n,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},Wb=Xb.prototype;Wb.type="list",Wb.hasItemOption=!0,Wb.getDimension=function(e){return("number"==typeof e||!isNaN(e)&&!this._dimensionInfos.hasOwnProperty(e))&&(e=this.dimensions[e]),e},Wb.getDimensionInfo=function(e){return this._dimensionInfos[this.getDimension(e)]},Wb.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Wb.mapDimension=function(e,t){var i=this._dimensionsSummary;if(null==t)return i.encodeFirstDimNotExtra[e];var a=i.encode[e];return!0===t?(a||[]).slice():a&&a[t]},Wb.initData=function(e,t,i){var a=ns.isInstance(e)||p(e);if(a&&(e=new Gs(e,this.dimensions.length)),Hp&&!a&&("function"!=typeof e.getItem||"function"!=typeof e.count))throw new Error("Inavlid data provider.");this._rawData=e,this._storage={},this._indices=null,this._nameList=t||[],this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=d_[this._rawData.getSource().sourceFormat],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._dimValueGetterArrayRows=d_.arrayRows,this._rawExtent={},this._initDataFromProvider(0,e.count()),e.pure&&(this.hasItemOption=!1)},Wb.getProvider=function(){return this._rawData},Wb.appendData=function(e){Hp&&A(!this._indices,"appendData can only be called on raw data.");var t=this._rawData,i=this.count();t.appendData(e);var a=t.count();t.persistent||(a+=i),this._initDataFromProvider(i,a)},Wb.appendValues=function(e,t){for(var i=this._chunkSize,a=this._storage,n=this.dimensions,r=n.length,s=this._rawExtent,o=this.count(),l=o+Math.max(e.length,t?t.length:0),c=this._chunkCount,u=0;r>u;u++)s[g=n[u]]||(s[g]=lc()),a[g]||(a[g]=[]),Jl(a,this._dimensionInfos[g],i,c,l),this._chunkCount=a[g].length;for(var d=new Array(r),h=o;l>h;h++){for(var p=h-o,f=Math.floor(h/i),v=h%i,m=0;r>m;m++){var g=n[m],y=this._dimValueGetterArrayRows(e[p]||d,g,p,m);a[g][f][v]=y;var _=s[g];y<_[0]&&(_[0]=y),y>_[1]&&(_[1]=y)}t&&(this._nameList[h]=t[p])}this._rawCount=this._count=l,this._extent={},Ql(this)},Wb._initDataFromProvider=function(e,t){if(!(e>=t)){for(var i,a=this._chunkSize,n=this._rawData,r=this._storage,s=this.dimensions,o=s.length,l=this._dimensionInfos,c=this._nameList,u=this._idList,d=this._rawExtent,h=this._nameRepeatCount={},p=this._chunkCount,f=0;o>f;f++){d[x=s[f]]||(d[x]=lc());var v=l[x];0===v.otherDims.itemName&&(i=this._nameDimIdx=f),0===v.otherDims.itemId&&(this._idDimIdx=f),r[x]||(r[x]=[]),Jl(r,v,a,p,t),this._chunkCount=r[x].length}for(var m=new Array(o),g=e;t>g;g++){m=n.getItem(g,m);for(var y=Math.floor(g/a),_=g%a,b=0;o>b;b++){var x,w=r[x=s[b]][y],S=this._dimValueGetter(m,x,g,b);w[_]=S;var C=d[x];S<C[0]&&(C[0]=S),S>C[1]&&(C[1]=S)}if(!n.pure){var I=c[g];if(m&&null==I)if(null!=m.name)c[g]=I=m.name;else if(null!=i){var k=s[i],O=r[k][y];if(O){I=O[_];var T=l[k].ordinalMeta;T&&T.categories.length&&(I=T.categories[I])}}var P=null==m?null:m.id;null==P&&null!=I&&(h[I]=h[I]||0,P=I,h[I]>0&&(P+="__ec__"+h[I]),h[I]++),null!=P&&(u[g]=P)}}!n.persistent&&n.clean&&n.clean(),this._rawCount=this._count=t,this._extent={},Ql(this)}},Wb.count=function(){return this._count},Wb.getIndices=function(){var e=this._indices;if(e){var t=e.constructor,i=this._count;if(t===Array){n=new t(i);for(var a=0;i>a;a++)n[a]=e[a]}else n=new t(e.buffer,0,i)}else{var n=new(t=Wl(this))(this.count());for(a=0;a<n.length;a++)n[a]=a}return n},Wb.get=function(e,t){if(!(t>=0&&t<this._count))return NaN;var i=this._storage;if(!i[e])return NaN;t=this.getRawIndex(t);var a=Math.floor(t/this._chunkSize),n=t%this._chunkSize;return i[e][a][n]},Wb.getByRawIndex=function(e,t){if(!(t>=0&&t<this._rawCount))return NaN;var i=this._storage[e];if(!i)return NaN;var a=Math.floor(t/this._chunkSize),n=t%this._chunkSize;return i[a][n]},Wb._getFast=function(e,t){var i=Math.floor(t/this._chunkSize),a=t%this._chunkSize;return this._storage[e][i][a]},Wb.getValues=function(e,t){var i=[];x(e)||(t=e,e=this.dimensions);for(var a=0,n=e.length;n>a;a++)i.push(this.get(e[a],t));return i},Wb.hasValue=function(e){for(var t=this._dimensionsSummary.dataDimsOnCoord,i=0,a=t.length;a>i;i++)if(isNaN(this.get(t[i],e)))return!1;return!0},Wb.getDataExtent=function(e){e=this.getDimension(e);var t=this._storage[e],i=lc();if(!t)return i;var a,n=this.count();if(!this._indices)return this._rawExtent[e].slice();if(a=this._extent[e])return a.slice();for(var r=(a=i)[0],s=a[1],o=0;n>o;o++){var l=this._getFast(e,this.getRawIndex(o));r>l&&(r=l),l>s&&(s=l)}return a=[r,s],this._extent[e]=a,a},Wb.getApproximateExtent=function(e){return e=this.getDimension(e),this._approximateExtent[e]||this.getDataExtent(e)},Wb.setApproximateExtent=function(e,t){t=this.getDimension(t),this._approximateExtent[t]=e.slice()},Wb.getCalculationInfo=function(e){return this._calculationInfo[e]},Wb.setCalculationInfo=function(e,t){Rb(e)?o(this._calculationInfo,e):this._calculationInfo[e]=t},Wb.getSum=function(e){var t=0;if(this._storage[e])for(var i=0,a=this.count();a>i;i++){var n=this.get(e,i);isNaN(n)||(t+=n)}return t},Wb.getMedian=function(e){var t=[];this.each(e,(function(e){isNaN(e)||t.push(e)}));var i=[].concat(t).sort((function(e,t){return e-t})),a=this.count();return 0===a?0:a%2==1?i[(a-1)/2]:(i[a/2]+i[a/2-1])/2},Wb.rawIndexOf=function(e,t){var i=e&&this._invertedIndicesMap[e];if(Hp&&!i)throw new Error("Do not supported yet");var a=i[t];return null==a||isNaN(a)?$b:a},Wb.indexOfName=function(e){for(var t=0,i=this.count();i>t;t++)if(this.getName(t)===e)return t;return-1},Wb.indexOfRawIndex=function(e){if(e>=this._rawCount||0>e)return-1;if(!this._indices)return e;var t=this._indices,i=t[e];if(null!=i&&i<this._count&&i===e)return e;for(var a=0,n=this._count-1;n>=a;){var r=(a+n)/2|0;if(t[r]<e)a=r+1;else{if(!(t[r]>e))return r;n=r-1}}return-1},Wb.indicesOfNearest=function(e,t,i){var a=[];if(!this._storage[e])return a;null==i&&(i=1/0);for(var n=1/0,r=-1,s=0,o=0,l=this.count();l>o;o++){var c=t-this.get(e,o),u=Math.abs(c);i>=u&&((n>u||u===n&&c>=0&&0>r)&&(n=u,r=c,s=0),c===r&&(a[s++]=o))}return a.length=s,a},Wb.getRawIndex=tc,Wb.getRawDataItem=function(e){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(e));for(var t=[],i=0;i<this.dimensions.length;i++){var a=this.dimensions[i];t.push(this.get(a,e))}return t},Wb.getName=function(e){var t=this.getRawIndex(e);return this._nameList[t]||ec(this,this._nameDimIdx,t)||""},Wb.getId=function(e){return ac(this,this.getRawIndex(e))},Wb.each=function(e,t,i,a){if(this._count){"function"==typeof e&&(a=i,i=t,t=e,e=[]),i=i||a||this,e=v(nc(e),this.getDimension,this),Hp&&rc(this,e);for(var n=e.length,r=0;r<this.count();r++)switch(n){case 0:t.call(i,r);break;case 1:t.call(i,this.get(e[0],r),r);break;case 2:t.call(i,this.get(e[0],r),this.get(e[1],r),r);break;default:for(var s=0,o=[];n>s;s++)o[s]=this.get(e[s],r);o[s]=r,t.apply(i,o)}}},Wb.filterSelf=function(e,t,i,a){if(this._count){"function"==typeof e&&(a=i,i=t,t=e,e=[]),i=i||a||this,e=v(nc(e),this.getDimension,this),Hp&&rc(this,e);for(var n=this.count(),r=new(Wl(this))(n),s=[],o=e.length,l=0,c=e[0],u=0;n>u;u++){var d,h=this.getRawIndex(u);if(0===o)d=t.call(i,u);else if(1===o){var p=this._getFast(c,h);d=t.call(i,p,u)}else{for(var f=0;o>f;f++)s[f]=this._getFast(c,h);s[f]=u,d=t.apply(i,s)}d&&(r[l++]=h)}return n>l&&(this._indices=r),this._count=l,this._extent={},this.getRawIndex=this._indices?ic:tc,this}},Wb.selectRange=function(e){if(this._count){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);Hp&&rc(this,t);var a=t.length;if(a){var n=this.count(),r=new(Wl(this))(n),s=0,o=t[0],l=e[o][0],c=e[o][1],u=!1;if(!this._indices){var d=0;if(1===a){for(var h=this._storage[t[0]],p=0;p<this._chunkCount;p++)for(var f=h[p],v=Math.min(this._count-p*this._chunkSize,this._chunkSize),m=0;v>m;m++)((x=f[m])>=l&&c>=x||isNaN(x))&&(r[s++]=d),d++;u=!0}else if(2===a){h=this._storage[o];var g=this._storage[t[1]],y=e[t[1]][0],_=e[t[1]][1];for(p=0;p<this._chunkCount;p++){f=h[p];var b=g[p];for(v=Math.min(this._count-p*this._chunkSize,this._chunkSize),m=0;v>m;m++){var x=f[m],w=b[m];(x>=l&&c>=x||isNaN(x))&&(w>=y&&_>=w||isNaN(w))&&(r[s++]=d),d++}}u=!0}}if(!u)if(1===a)for(m=0;n>m;m++){var S=this.getRawIndex(m);((x=this._getFast(o,S))>=l&&c>=x||isNaN(x))&&(r[s++]=S)}else for(m=0;n>m;m++){var C=!0;for(S=this.getRawIndex(m),p=0;a>p;p++){var I=t[p];((x=this._getFast(i,S))<e[I][0]||x>e[I][1])&&(C=!1)}C&&(r[s++]=this.getRawIndex(m))}return n>s&&(this._indices=r),this._count=s,this._extent={},this.getRawIndex=this._indices?ic:tc,this}}},Wb.mapArray=function(e,t,i,a){"function"==typeof e&&(a=i,i=t,t=e,e=[]),i=i||a||this;var n=[];return this.each(e,(function(){n.push(t&&t.apply(this,arguments))}),i),n},Wb.map=function(e,t,i,a){i=i||a||this,e=v(nc(e),this.getDimension,this),Hp&&rc(this,e);var n=sc(this,e);n._indices=this._indices,n.getRawIndex=n._indices?ic:tc;for(var r=n._storage,s=[],o=this._chunkSize,l=e.length,c=this.count(),u=[],d=n._rawExtent,h=0;c>h;h++){for(var p=0;l>p;p++)u[p]=this.get(e[p],h);u[l]=h;var f=t&&t.apply(i,u);if(null!=f){"object"!=typeof f&&(s[0]=f,f=s);for(var m=this.getRawIndex(h),g=Math.floor(m/o),y=m%o,_=0;_<f.length;_++){var b=e[_],x=f[_],w=d[b],S=r[b];S&&(S[g][y]=x),x<w[0]&&(w[0]=x),x>w[1]&&(w[1]=x)}}}return n},Wb.downSample=function(e,t,i,a){for(var n=sc(this,[e]),r=n._storage,s=[],o=Math.floor(1/t),l=r[e],c=this.count(),u=this._chunkSize,d=n._rawExtent[e],h=new(Wl(this))(c),p=0,f=0;c>f;f+=o){o>c-f&&(o=c-f,s.length=o);for(var v=0;o>v;v++){var m=this.getRawIndex(f+v),g=Math.floor(m/u),y=m%u;s[v]=l[g][y]}var _=i(s),b=this.getRawIndex(Math.min(f+a(s,_)||0,c-1)),x=b%u;l[Math.floor(b/u)][x]=_,_<d[0]&&(d[0]=_),_>d[1]&&(d[1]=_),h[p++]=b}return n._count=p,n._indices=h,n.getRawIndex=ic,n},Wb.getItemModel=function(e){var t=this.hostModel;return new fr(this.getRawDataItem(e),t,t&&t.ecModel)},Wb.diff=function(e){var t=this;return new Bl(e?e.getIndices():[],this.getIndices(),(function(t){return ac(e,t)}),(function(e){return ac(t,e)}))},Wb.getVisual=function(e){var t=this._visual;return t&&t[e]},Wb.setVisual=function(e,t){if(Rb(e))for(var i in e)e.hasOwnProperty(i)&&this.setVisual(i,e[i]);else this._visual=this._visual||{},this._visual[e]=t},Wb.setLayout=function(e,t){if(Rb(e))for(var i in e)e.hasOwnProperty(i)&&this.setLayout(i,e[i]);else this._layout[e]=t},Wb.getLayout=function(e){return this._layout[e]},Wb.getItemLayout=function(e){return this._itemLayouts[e]},Wb.setItemLayout=function(e,t,i){this._itemLayouts[e]=i?o(this._itemLayouts[e]||{},t):t},Wb.clearItemLayouts=function(){this._itemLayouts.length=0},Wb.getItemVisual=function(e,t,i){var a=this._itemVisuals[e],n=a&&a[t];return null!=n||i?n:this.getVisual(t)},Wb.setItemVisual=function(e,t,i){var a=this._itemVisuals[e]||{},n=this.hasItemVisual;if(this._itemVisuals[e]=a,Rb(t))for(var r in t)t.hasOwnProperty(r)&&(a[r]=t[r],n[r]=!0);else a[t]=i,n[t]=!0},Wb.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var Yb=function(e){e.seriesIndex=this.seriesIndex,e.dataIndex=this.dataIndex,e.dataType=this.dataType};Wb.setItemGraphicEl=function(e,t){var i=this.hostModel;t&&(t.dataIndex=e,t.dataType=this.dataType,t.seriesIndex=i&&i.seriesIndex,"group"===t.type&&t.traverse(Yb,t)),this._graphicEls[e]=t},Wb.getItemGraphicEl=function(e){return this._graphicEls[e]},Wb.eachItemGraphicEl=function(e,t){f(this._graphicEls,(function(i,a){i&&e&&e.call(t,i,a)}))},Wb.cloneShallow=function(e){if(!e){var t=v(this.dimensions,this.getDimensionInfo,this);e=new Xb(t,this.hostModel)}if(e._storage=this._storage,Kl(e,this),this._indices){var i=this._indices.constructor;e._indices=new i(this._indices)}else e._indices=null;return e.getRawIndex=e._indices?ic:tc,e},Wb.wrapMethod=function(e,t){var i=this[e];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(e),this[e]=function(){var e=i.apply(this,arguments);return t.apply(this,[e].concat(L(arguments)))})},Wb.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Wb.CHANGABLE_METHODS=["filterSelf","selectRange"];var Kb=function(e,t){return cc((t=t||{}).coordDimensions||[],e,{dimsDef:t.dimensionsDefine||e.dimensionsDefine,encodeDef:t.encodeDefine||e.encodeDefine,dimCount:t.dimensionsCount,encodeDefaulter:t.encodeDefaulter,generateCoord:t.generateCoord,generateCoordCount:t.generateCoordCount})},Jb={cartesian2d:function(e,t,i,a){var n=e.getReferringComponents("xAxis")[0],r=e.getReferringComponents("yAxis")[0];if(Hp){if(!n)throw new Error('xAxis "'+P(e.get("xAxisIndex"),e.get("xAxisId"),0)+'" not found');if(!r)throw new Error('yAxis "'+P(e.get("xAxisIndex"),e.get("yAxisId"),0)+'" not found')}t.coordSysDims=["x","y"],i.set("x",n),i.set("y",r),fc(n)&&(a.set("x",n),t.firstCategoryDimIndex=0),fc(r)&&(a.set("y",r),t.firstCategoryDimIndex,t.firstCategoryDimIndex=1)},singleAxis:function(e,t,i,a){var n=e.getReferringComponents("singleAxis")[0];if(Hp&&!n)throw new Error("singleAxis should be specified.");t.coordSysDims=["single"],i.set("single",n),fc(n)&&(a.set("single",n),t.firstCategoryDimIndex=0)},polar:function(e,t,i,a){var n=e.getReferringComponents("polar")[0],r=n.findAxisModel("radiusAxis"),s=n.findAxisModel("angleAxis");if(Hp){if(!s)throw new Error("angleAxis option not found");if(!r)throw new Error("radiusAxis option not found")}t.coordSysDims=["radius","angle"],i.set("radius",r),i.set("angle",s),fc(r)&&(a.set("radius",r),t.firstCategoryDimIndex=0),fc(s)&&(a.set("angle",s),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t){t.coordSysDims=["lng","lat"]},parallel:function(e,t,i,a){var n=e.ecModel,r=n.getComponent("parallel",e.get("parallelIndex")),s=t.coordSysDims=r.dimensions.slice();f(r.parallelAxisIndex,(function(e,r){var o=n.getComponent("parallelAxis",e),l=s[r];i.set(l,o),fc(o)&&null==t.firstCategoryDimIndex&&(a.set(l,o),t.firstCategoryDimIndex=r)}))}};xc.prototype.parse=function(e){return e},xc.prototype.getSetting=function(e){return this._setting[e]},xc.prototype.contain=function(e){var t=this._extent;return e>=t[0]&&e<=t[1]},xc.prototype.normalize=function(e){var t=this._extent;return t[1]===t[0]?.5:(e-t[0])/(t[1]-t[0])},xc.prototype.scale=function(e){var t=this._extent;return e*(t[1]-t[0])+t[0]},xc.prototype.unionExtent=function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1])},xc.prototype.unionExtentFromData=function(e,t){this.unionExtent(e.getApproximateExtent(t))},xc.prototype.getExtent=function(){return this._extent.slice()},xc.prototype.setExtent=function(e,t){var i=this._extent;isNaN(e)||(i[0]=e),isNaN(t)||(i[1]=t)},xc.prototype.isBlank=function(){return this._isBlank},xc.prototype.setBlank=function(e){this._isBlank=e},xc.prototype.getLabel=null,ga(xc),xa(xc,{registerWhenExtend:!0}),wc.createByAxisModel=function(e){var t=e.option,i=t.data,a=i&&v(i,Cc);return new wc({categories:a,needCollect:!a,deduplication:!1!==t.dedplication})};var Qb=wc.prototype;Qb.getOrdinal=function(e){return Sc(this).get(e)},Qb.parseAndCollect=function(e){var t,i=this._needCollect;if("string"!=typeof e&&!i)return e;if(i&&!this._deduplication)return t=this.categories.length,this.categories[t]=e,t;var a=Sc(this);return null==(t=a.get(e))&&(i?(t=this.categories.length,this.categories[t]=e,a.set(e,t)):t=NaN),t};var ex=xc.prototype,tx=xc.extend({type:"ordinal",init:function(e,t){(!e||x(e))&&(e=new wc({categories:e})),this._ordinalMeta=e,this._extent=t||[0,e.categories.length-1]},parse:function(e){return"string"==typeof e?this._ordinalMeta.getOrdinal(e):Math.round(e)},contain:function(e){return e=this.parse(e),ex.contain.call(this,e)&&null!=this._ordinalMeta.categories[e]},normalize:function(e){return ex.normalize.call(this,this.parse(e))},scale:function(e){return Math.round(ex.scale.call(this,e))},getTicks:function(){for(var e=[],t=this._extent,i=t[0];i<=t[1];)e.push(i),i++;return e},getLabel:function(e){return this.isBlank()?void 0:this._ordinalMeta.categories[e]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:z,niceExtent:z});tx.create=function(){return new tx};var ix=Sr,ax=Sr,nx=xc.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(e,t){var i=this._extent;isNaN(e)||(i[0]=parseFloat(e)),isNaN(t)||(i[1]=parseFloat(t))},unionExtent:function(e){var t=this._extent;e[0]<t[0]&&(t[0]=e[0]),e[1]>t[1]&&(t[1]=e[1]),nx.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval},setInterval:function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=kc(e)},getTicks:function(e){var t=this._interval,i=this._extent,a=this._niceExtent,n=this._intervalPrecision,r=[];if(!t)return r;var s=1e4;i[0]<a[0]&&r.push(e?ax(a[0]-t,n):i[0]);for(var o=a[0];o<=a[1]&&(r.push(o),(o=ax(o+t,n))!==r[r.length-1]);)if(r.length>s)return[];var l=r.length?r[r.length-1]:a[1];return i[1]>l&&r.push(e?ax(l+t,n):i[1]),r},getMinorTicks:function(e){for(var t=this.getTicks(!0),i=[],a=this.getExtent(),n=1;n<t.length;n++){for(var r=t[n],s=t[n-1],o=0,l=[],c=(r-s)/e;e-1>o;){var u=Sr(s+(o+1)*c);u>a[0]&&u<a[1]&&l.push(u),o++}i.push(l)}return i},getLabel:function(e,t){if(null==e)return"";var i=t&&t.precision;return null==i?i=kr(e)||0:"auto"===i&&(i=this._intervalPrecision),Rr(e=ax(e,i,!0))},niceTicks:function(e,t,i){e=e||5;var a=this._extent,n=a[1]-a[0];if(isFinite(n)){0>n&&(n=-n,a.reverse());var r=Ic(a,e,t,i);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},niceExtent:function(e){var t=this._extent;if(t[0]===t[1])if(0!==t[0]){var i=t[0];e.fixMax||(t[1]+=i/2),t[0]-=i/2}else t[1]=1;var a=t[1]-t[0];isFinite(a)||(t[0]=0,t[1]=1),this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var n=this._interval;e.fixMin||(t[0]=ax(Math.floor(t[0]/n)*n)),e.fixMax||(t[1]=ax(Math.ceil(t[1]/n)*n))}});nx.create=function(){return new nx};var rx="__ec_stack_",sx=.5,ox="undefined"!=typeof Float32Array?Float32Array:Array,lx={seriesType:"bar",plan:b_(),reset:function(e){function t(e,t){for(var i,h=e.count,p=new ox(2*h),f=new ox(2*h),v=new ox(h),m=[],g=[],y=0,_=0;null!=(i=e.next());)g[u]=t.get(o,i),g[1-u]=t.get(l,i),m=a.dataToPoint(g,null,m),f[y]=c?n.x+n.width:m[0],p[y++]=m[0],f[y]=c?m[1]:n.y+n.height,p[y++]=m[1],v[_++]=i;t.setLayout({largePoints:p,largeDataIndices:v,largeBackgroundPoints:f,barWidth:d,valueAxisStart:Fc(r,s,!1),backgroundStart:c?n.x:n.y,valueAxisHorizontal:c})}if(Vc(e)&&Rc(e)){var i=e.getData(),a=e.coordinateSystem,n=a.grid.getRect(),r=a.getBaseAxis(),s=a.getOtherAxis(r),o=i.mapDimension(s.dim),l=i.mapDimension(r.dim),c=s.isHorizontal(),u=c?0:1,d=jc(Ec([e]),r,e).width;return d>sx||(d=sx),{progress:t}}}},cx=nx.prototype,ux=Math.ceil,dx=Math.floor,hx=1e3,px=60*hx,fx=60*px,vx=24*fx,mx=function(e,t,i,a){for(;a>i;){var n=i+a>>>1;e[n][1]<t?i=n+1:a=n}return i},gx=nx.extend({type:"time",getLabel:function(e){var t=this._stepLvl,i=new Date(e);return qr(t[0],i,this.getSetting("useUTC"))},niceExtent:function(e){var t=this._extent;if(t[0]===t[1]&&(t[0]-=vx,t[1]+=vx),t[1]===-1/0&&1/0===t[0]){var i=new Date;t[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),t[0]=t[1]-vx}this.niceTicks(e.splitNumber,e.minInterval,e.maxInterval);var a=this._interval;e.fixMin||(t[0]=Sr(dx(t[0]/a)*a)),e.fixMax||(t[1]=Sr(ux(t[1]/a)*a))},niceTicks:function(e,t,i){e=e||10;var a=this._extent,n=a[1]-a[0],r=n/e;null!=t&&t>r&&(r=t),null!=i&&r>i&&(r=i);var s=yx.length,o=mx(yx,r,0,s),l=yx[Math.min(o,s-1)],c=l[1];"year"===l[0]&&(c*=Ar(n/c/e,!0));var u=this.getSetting("useUTC")?0:60*new Date(+a[0]||+a[1]).getTimezoneOffset()*1e3,d=[Math.round(ux((a[0]-u)/c)*c+u),Math.round(dx((a[1]-u)/c)*c+u)];Tc(d,a),this._stepLvl=l,this._interval=c,this._niceExtent=d},parse:function(e){return+Mr(e)}});f(["contain","normalize"],(function(e){gx.prototype[e]=function(t){return cx[e].call(this,this.parse(t))}}));var yx=[["hh:mm:ss",hx],["hh:mm:ss",5*hx],["hh:mm:ss",10*hx],["hh:mm:ss",15*hx],["hh:mm:ss",30*hx],["hh:mm\nMM-dd",px],["hh:mm\nMM-dd",5*px],["hh:mm\nMM-dd",10*px],["hh:mm\nMM-dd",15*px],["hh:mm\nMM-dd",30*px],["hh:mm\nMM-dd",fx],["hh:mm\nMM-dd",2*fx],["hh:mm\nMM-dd",6*fx],["hh:mm\nMM-dd",12*fx],["MM-dd\nyyyy",vx],["MM-dd\nyyyy",2*vx],["MM-dd\nyyyy",3*vx],["MM-dd\nyyyy",4*vx],["MM-dd\nyyyy",5*vx],["MM-dd\nyyyy",6*vx],["week",7*vx],["MM-dd\nyyyy",10*vx],["week",14*vx],["week",21*vx],["month",31*vx],["week",42*vx],["month",62*vx],["week",70*vx],["quarter",95*vx],["month",31*vx*4],["month",31*vx*5],["half-year",380*vx/2],["month",31*vx*8],["month",31*vx*10],["year",380*vx]];gx.create=function(e){return new gx({useUTC:e.ecModel.get("useUTC")})};var _x=xc.prototype,bx=nx.prototype,xx=kr,Sx=Sr,Cx=Math.floor,Ix=Math.ceil,kx=Math.pow,Ox=Math.log,Tx=xc.extend({type:"log",base:10,$constructor:function(){xc.apply(this,arguments),this._originalScale=new nx},getTicks:function(e){var t=this._originalScale,i=this._extent,a=t.getExtent();return v(bx.getTicks.call(this,e),(function(e){var n=Sr(kx(this.base,e));return n=e===i[0]&&t.__fixMin?$c(n,a[0]):n,e===i[1]&&t.__fixMax?$c(n,a[1]):n}),this)},getMinorTicks:bx.getMinorTicks,getLabel:bx.getLabel,scale:function(e){return e=_x.scale.call(this,e),kx(this.base,e)},setExtent:function(e,t){var i=this.base;e=Ox(e)/Ox(i),t=Ox(t)/Ox(i),bx.setExtent.call(this,e,t)},getExtent:function(){var e=this.base,t=_x.getExtent.call(this);t[0]=kx(e,t[0]),t[1]=kx(e,t[1]);var i=this._originalScale,a=i.getExtent();return i.__fixMin&&(t[0]=$c(t[0],a[0])),i.__fixMax&&(t[1]=$c(t[1],a[1])),t},unionExtent:function(e){this._originalScale.unionExtent(e);var t=this.base;e[0]=Ox(e[0])/Ox(t),e[1]=Ox(e[1])/Ox(t),_x.unionExtent.call(this,e)},unionExtentFromData:function(e,t){this.unionExtent(e.getApproximateExtent(t))},niceTicks:function(e){e=e||10;var t=this._extent,i=t[1]-t[0];if(!(1/0===i||0>=i)){var a=Lr(i);for(.5>=e/i*a&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var n=[Sr(Ix(t[0]/a)*a),Sr(Cx(t[1]/a)*a)];this._interval=a,this._niceExtent=n}},niceExtent:function(e){bx.niceExtent.call(this,e);var t=this._originalScale;t.__fixMin=e.fixMin,t.__fixMax=e.fixMax}});f(["contain","normalize"],(function(e){Tx.prototype[e]=function(t){return t=Ox(t)/Ox(this.base),_x[e].call(this,t)}})),Tx.create=function(){return new Tx};var Px={getMin:function(e){var t=this.option,i=e||null==t.rangeStart?t.min:t.rangeStart;return this.axis&&null!=i&&"dataMin"!==i&&"function"!=typeof i&&!T(i)&&(i=this.axis.scale.parse(i)),i},getMax:function(e){var t=this.option,i=e||null==t.rangeEnd?t.max:t.rangeEnd;return this.axis&&null!=i&&"dataMax"!==i&&"function"!=typeof i&&!T(i)&&(i=this.axis.scale.parse(i)),i},getNeedCrossZero:function(){var e=this.option;return null==e.rangeStart&&null==e.rangeEnd&&!e.scale},getCoordSysModel:z,setRange:function(e,t){this.option.rangeStart=e,this.option.rangeEnd=t},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Dx=mn({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var i=t.cx,a=t.cy,n=t.width/2,r=t.height/2;e.moveTo(i,a-r),e.lineTo(i+n,a+r),e.lineTo(i-n,a+r),e.closePath()}}),Mx=mn({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(e,t){var i=t.cx,a=t.cy,n=t.width/2,r=t.height/2;e.moveTo(i,a-r),e.lineTo(i+n,a),e.lineTo(i,a+r),e.lineTo(i-n,a),e.closePath()}}),Lx=mn({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var i=t.x,a=t.y,n=t.width/5*3,r=Math.max(n,t.height),s=n/2,o=s*s/(r-s),l=a-r+s+o,c=Math.asin(o/s),u=Math.cos(c)*s,d=Math.sin(c),h=Math.cos(c),p=.6*s,f=.7*s;e.moveTo(i-u,l+o),e.arc(i,l,s,Math.PI-c,2*Math.PI+c),e.bezierCurveTo(i+u-d*p,l+o+h*p,i,a-f,i,a),e.bezierCurveTo(i,a-f,i-u+d*p,l+o+h*p,i-u,l+o),e.closePath()}}),Ex=mn({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(e,t){var i=t.height,a=t.width,n=t.x,r=t.y,s=a/3*2;e.moveTo(n,r),e.lineTo(n+s,r+i),e.lineTo(n,r+i/4*3),e.lineTo(n-s,r+i),e.lineTo(n,r),e.closePath()}}),Ax={line:function(e,t,i,a,n){n.x1=e,n.y1=t+a/2,n.x2=e+i,n.y2=t+a/2},rect:function(e,t,i,a,n){n.x=e,n.y=t,n.width=i,n.height=a},roundRect:function(e,t,i,a,n){n.x=e,n.y=t,n.width=i,n.height=a,n.r=Math.min(i,a)/4},square:function(e,t,i,a,n){var r=Math.min(i,a);n.x=e,n.y=t,n.width=r,n.height=r},circle:function(e,t,i,a,n){n.cx=e+i/2,n.cy=t+a/2,n.r=Math.min(i,a)/2},diamond:function(e,t,i,a,n){n.cx=e+i/2,n.cy=t+a/2,n.width=i,n.height=a},pin:function(e,t,i,a,n){n.x=e+i/2,n.y=t+a/2,n.width=i,n.height=a},arrow:function(e,t,i,a,n){n.x=e+i/2,n.y=t+a/2,n.width=i,n.height=a},triangle:function(e,t,i,a,n){n.cx=e+i/2,n.cy=t+a/2,n.width=i,n.height=a}},jx={};f({line:Ng,rect:Ag,roundRect:Ag,square:Ag,circle:Sg,diamond:Mx,pin:Lx,arrow:Ex,triangle:Dx},(function(e,t){jx[t]=new e}));var Nx=mn({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(e,t,i){var a=Kt(e,t,i),n=this.shape;return n&&"pin"===n.symbolType&&"inside"===t.textPosition&&(a.y=i.y+.4*i.height),a},buildPath:function(e,t,i){var a=t.symbolType;if("none"!==a){var n=jx[a];n||(n=jx[a="rect"]),Ax[a](t.x,t.y,t.width,t.height,n.shape),n.buildPath(e,n.shape,i)}}}),Vx={isDimensionStacked:mc,enableDataStack:vc,getStackedDimension:gc},Rx=(Object.freeze||Object)({createList:eu,getLayoutRect:Kr,dataStack:Vx,createScale:tu,mixinAxisModelCommonMethods:iu,completeDimensions:cc,createDimensions:Kb,createSymbol:Qc}),Fx=1e-8;ru.prototype={constructor:ru,properties:null,getBoundingRect:function(){var e=this._rect;if(e)return e;for(var t=Number.MAX_VALUE,i=[t,t],a=[-t,-t],n=[],r=[],s=this.geometries,o=0;o<s.length;o++)"polygon"===s[o].type&&(Na(s[o].exterior,n,r),oe(i,i,n),le(a,a,r));return 0===o&&(i[0]=i[1]=a[0]=a[1]=0),this._rect=new Ot(i[0],i[1],a[0]-i[0],a[1]-i[1])},contain:function(e){var t=this.getBoundingRect(),i=this.geometries;if(!t.contain(e[0],e[1]))return!1;e:for(var a=0,n=i.length;n>a;a++)if("polygon"===i[a].type){var r=i[a].exterior,s=i[a].interiors;if(nu(r,e[0],e[1])){for(var o=0;o<(s?s.length:0);o++)if(nu(s[o]))continue e;return!0}}return!1},transformTo:function(e,t,i,a){var n=this.getBoundingRect(),r=n.width/n.height;i?a||(a=i/r):i=r*a;for(var s=new Ot(e,t,i,a),o=n.calculateTransform(s),l=this.geometries,c=0;c<l.length;c++)if("polygon"===l[c].type){for(var u=l[c].exterior,d=l[c].interiors,h=0;h<u.length;h++)se(u[h],u[h],o);for(var p=0;p<(d?d.length:0);p++)for(h=0;h<d[p].length;h++)se(d[p][h],d[p][h],o)}(n=this._rect).copy(s),this.center=[n.x+n.width/2,n.y+n.height/2]},cloneShallow:function(e){null==e&&(e=this.name);var t=new ru(e,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t}};var $x=function(e,t){return su(e),v(g(e.features,(function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0})),(function(e){var i=e.properties,a=e.geometry,n=a.coordinates,r=[];"Polygon"===a.type&&r.push({type:"polygon",exterior:n[0],interiors:n.slice(1)}),"MultiPolygon"===a.type&&f(n,(function(e){e[0]&&r.push({type:"polygon",exterior:e[0],interiors:e.slice(1)})}));var s=new ru(i[t||"name"],r,i.cp);return s.properties=i,s}))},zx=ca(),Bx=[0,1],Zx=function(e,t,i){this.dim=e,this.scale=t,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1};Zx.prototype={constructor:Zx,contain:function(e){var t=this._extent,i=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);return e>=i&&a>=e},containData:function(e){return this.scale.contain(e)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(e){return Or(e||this.scale.getExtent(),this._extent)},setExtent:function(e,t){var i=this._extent;i[0]=e,i[1]=t},dataToCoord:function(e,t){var i=this._extent,a=this.scale;return e=a.normalize(e),this.onBand&&"ordinal"===a.type&&wu(i=i.slice(),a.count()),xr(e,Bx,i,t)},coordToData:function(e,t){var i=this._extent,a=this.scale;this.onBand&&"ordinal"===a.type&&wu(i=i.slice(),a.count());var n=xr(e,i,Bx,t);return this.scale.scale(n)},pointToData:function(){},getTicksCoords:function(e){var t=(e=e||{}).tickModel||this.getTickModel(),i=v(cu(this,t).ticks,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this);return Su(this,i,t.get("alignWithLabel"),e.clamp),i},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");e>0&&100>e||(e=5);var t=v(this.scale.getMinorTicks(e),(function(e){return v(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this);return t},getViewLabels:function(){return lu(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);0===i&&(i=1);var a=Math.abs(e[1]-e[0]);return Math.abs(a)/i},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return yu(this)}};var Hx=$x,qx={};f(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],(function(e){qx[e]=lf[e]}));var Gx={};f(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],(function(e){Gx[e]=ry[e]}));var Ux=function(e){this._axes={},this._dimList=[],this.name=e||""};Ux.prototype={constructor:Ux,type:"cartesian",getAxis:function(e){return this._axes[e]},getAxes:function(){return v(this._dimList,Cu,this)},getAxesByScale:function(e){return e=e.toLowerCase(),g(this.getAxes(),(function(t){return t.scale.type===e}))},addAxis:function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},dataToCoord:function(e){return this._dataCoordConvert(e,"dataToCoord")},coordToData:function(e){return this._dataCoordConvert(e,"coordToData")},_dataCoordConvert:function(e,t){for(var i=this._dimList,a=e instanceof Array?[]:{},n=0;n<i.length;n++){var r=i[n],s=this._axes[r];a[r]=s[t](e[r])}return a}},Iu.prototype={constructor:Iu,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(e){var t=this.getAxis("x"),i=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},containData:function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},dataToPoint:function(e,t,i){var a=this.getAxis("x"),n=this.getAxis("y");return(i=i||[])[0]=a.toGlobalCoord(a.dataToCoord(e[0])),i[1]=n.toGlobalCoord(n.dataToCoord(e[1])),i},clampData:function(e,t){var i=this.getAxis("x").scale,a=this.getAxis("y").scale,n=i.getExtent(),r=a.getExtent(),s=i.parse(e[0]),o=a.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(n[0],n[1]),s),Math.max(n[0],n[1])),t[1]=Math.min(Math.max(Math.min(r[0],r[1]),o),Math.max(r[0],r[1])),t},pointToData:function(e,t){var i=this.getAxis("x"),a=this.getAxis("y");return(t=t||[])[0]=i.coordToData(i.toLocalCoord(e[0])),t[1]=a.coordToData(a.toLocalCoord(e[1])),t},getOtherAxis:function(e){return this.getAxis("x"===e.dim?"y":"x")},getArea:function(){var e=this.getAxis("x").getGlobalExtent(),t=this.getAxis("y").getGlobalExtent(),i=Math.min(e[0],e[1]),a=Math.min(t[0],t[1]);return new Ot(i,a,Math.max(e[0],e[1])-i,Math.max(t[0],t[1])-a)}},d(Iu,Ux);var Xx=function(e,t,i,a,n){Zx.call(this,e,t,i),this.type=a||"value",this.position=n||"bottom"};Xx.prototype={constructor:Xx,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var e=this.position;return"top"===e||"bottom"===e},getGlobalExtent:function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},toLocalCoord:null,toGlobalCoord:null},d(Xx,Zx);var Wx={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Yx={};Yx.categoryAxis=r({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Wx),Yx.valueAxis=r({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},Wx),Yx.timeAxis=l({scale:!0,min:"dataMin",max:"dataMax"},Yx.valueAxis),Yx.logAxis=l({scale:!0,logBase:10},Yx.valueAxis);var Kx=["value","category","time","log"],Jx=function(e,t,i,a){f(Kx,(function(n){t.extend({type:e+"Axis."+n,mergeDefaultAndTheme:function(t,a){var s=this.layoutMode,o=s?es(t):{};r(t,a.getTheme().get(n+"Axis")),r(t,this.getDefaultOption()),t.type=i(e,t),s&&Qr(t,o,s)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=wc.createByAxisModel(this))},getCategories:function(e){var t=this.option;return"category"===t.type?e?t.data:this.__ordinalMeta.categories:void 0},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:s([{},Yx[n+"Axis"],a],!0)})})),Dy.registerSubTypeDefaulter(e+"Axis",b(i,e))},Qx=Dy.extend({type:"cartesian2dAxis",axis:null,init:function(){Qx.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Qx.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Qx.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});r(Qx.prototype,Px);var ew={offset:0};Jx("x",Qx,ku,ew),Jx("y",Qx,ku,ew),Dy.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var tw=Tu.prototype;tw.type="grid",tw.axisPointerEnabled=!0,tw.getRect=function(){return this._rect},tw.update=function(e,t){var i=this._axesMap;this._updateScale(e,this.model),f(i.x,(function(e){Zc(e.scale,e.model)})),f(i.y,(function(e){Zc(e.scale,e.model)}));var a={};f(i.x,(function(e){Pu(i,"y",e,a)})),f(i.y,(function(e){Pu(i,"x",e,a)})),this.resize(this.model,t)},tw.resize=function(e,t,i){function a(){f(r,(function(e){var t=e.isHorizontal(),i=t?[0,n.width]:[0,n.height],a=e.inverse?1:0;e.setExtent(i[a],i[1-a]),Mu(e,t?n.x:n.y)}))}var n=Kr(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._rect=n;var r=this._axesList;a(),!i&&e.get("containLabel")&&(f(r,(function(e){if(!e.model.get("axisLabel.inside")){var t=Xc(e);if(t){var i=e.isHorizontal()?"height":"width",a=e.model.get("axisLabel.margin");n[i]-=t[i]+a,"top"===e.position?n.y+=t.height+a:"left"===e.position&&(n.x+=t.width+a)}}})),a())},tw.getAxis=function(e,t){var i=this._axesMap[e];if(null!=i){if(null==t)for(var a in i)if(i.hasOwnProperty(a))return i[a];return i[t]}},tw.getAxes=function(){return this._axesList.slice()},tw.getCartesian=function(e,t){if(null!=e&&null!=t){var i="x"+e+"y"+t;return this._coordsMap[i]}C(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var a=0,n=this._coordsList;a<n.length;a++)if(n[a].getAxis("x").index===e||n[a].getAxis("y").index===t)return n[a]},tw.getCartesians=function(){return this._coordsList.slice()},tw.convertToPixel=function(e,t,i){var a=this._findConvertTarget(e,t);return a.cartesian?a.cartesian.dataToPoint(i):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(i)):null},tw.convertFromPixel=function(e,t,i){var a=this._findConvertTarget(e,t);return a.cartesian?a.cartesian.pointToData(i):a.axis?a.axis.coordToData(a.axis.toLocalCoord(i)):null},tw._findConvertTarget=function(e,t){var i,a,n=t.seriesModel,r=t.xAxisModel||n&&n.getReferringComponents("xAxis")[0],s=t.yAxisModel||n&&n.getReferringComponents("yAxis")[0],o=t.gridModel,l=this._coordsList;return n?u(l,i=n.coordinateSystem)<0&&(i=null):r&&s?i=this.getCartesian(r.componentIndex,s.componentIndex):r?a=this.getAxis("x",r.componentIndex):s?a=this.getAxis("y",s.componentIndex):o&&o.coordinateSystem===this&&(i=this._coordsList[0]),{cartesian:i,axis:a}},tw.containPoint=function(e){var t=this._coordsList[0];return t?t.containPoint(e):void 0},tw._initCartesian=function(e,t){function i(i){return function(s,o){if(Ou(s,e,t)){var l=s.get("position");"x"===i?"top"!==l&&"bottom"!==l&&(l=a.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=a.left?"right":"left"),a[l]=!0;var c=new Xx(i,Hc(s),[0,0],s.get("type"),l),u="category"===c.type;c.onBand=u&&s.get("boundaryGap"),c.inverse=s.get("inverse"),s.axis=c,c.model=s,c.grid=this,c.index=o,this._axesList.push(c),n[i][o]=c,r[i]++}}}var a={left:!1,right:!1,top:!1,bottom:!1},n={x:{},y:{}},r={x:0,y:0};return t.eachComponent("xAxis",i("x"),this),t.eachComponent("yAxis",i("y"),this),r.x&&r.y?(this._axesMap=n,void f(n.x,(function(t,i){f(n.y,(function(a,n){var r="x"+i+"y"+n,s=new Iu(r);s.grid=this,s.model=e,this._coordsMap[r]=s,this._coordsList.push(s),s.addAxis(t),s.addAxis(a)}),this)}),this)):(this._axesMap={},void(this._axesList=[]))},tw._updateScale=function(e,t){function i(e,t){f(e.mapDimension(t.dim,!0),(function(i){t.scale.unionExtentFromData(e,gc(e,i))}))}f(this._axesList,(function(e){e.scale.setExtent(1/0,-1/0)})),e.eachSeries((function(a){if(Eu(a)){var n=Lu(a,e),r=n[0],s=n[1];if(!Ou(r,t,e)||!Ou(s,t,e))return;var o=this.getCartesian(r.componentIndex,s.componentIndex),l=a.getData(),c=o.getAxis("x"),u=o.getAxis("y");"list"===l.type&&(i(l,c,a),i(l,u,a))}}),this)},tw.getTooltipAxes=function(e){var t=[],i=[];return f(this.getCartesians(),(function(a){var n=null!=e&&"auto"!==e?a.getAxis(e):a.getBaseAxis(),r=a.getOtherAxis(n);u(t,n)<0&&t.push(n),u(i,r)<0&&i.push(r)})),{baseAxes:t,otherAxes:i}};var iw=["xAxis","yAxis"];Tu.create=function(e,t){var i=[];return e.eachComponent("grid",(function(a,n){var r=new Tu(a,e,t);r.name="grid_"+n,r.resize(a,t,!0),a.coordinateSystem=r,i.push(r)})),e.eachSeries((function(t){if(Eu(t)){var i=Lu(t,e),a=i[0],n=i[1],r=a.getCoordSysModel();if(Hp){if(!r)throw new Error('Grid "'+P(a.get("gridIndex"),a.get("gridId"),0)+'" not found');if(a.getCoordSysModel()!==n.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid")}var s=r.coordinateSystem;t.coordinateSystem=s.getCartesian(a.componentIndex,n.componentIndex)}})),i},Tu.dimensions=Tu.prototype.dimensions=Iu.prototype.dimensions,Os.register("cartesian2d",Tu);var aw=g_.extend({type:"series.__base_bar__",getInitialData:function(){return yc(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(e){var t=this.coordinateSystem;if(t){var i=t.dataToPoint(t.clampData(e)),a=this.getData(),n=a.getLayout("offset"),r=a.getLayout("size");return i[t.getBaseAxis().isHorizontal()?0:1]+=n+r/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});aw.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var e=this.get("progressiveThreshold"),t=this.get("largeThreshold");return t>e&&(e=t),e},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var nw=vm([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),rw={getBarItemStyle:function(e){var t=nw(this,e);if(this.getBorderLineDash){var i=this.getBorderLineDash();i&&(t.lineDash=i)}return t}},sw=mn({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(e,t){var i=t.cx,a=t.cy,n=Math.max(t.r0||0,0),r=Math.max(t.r,0),s=.5*(r-n),o=n+s,l=t.startAngle,c=t.endAngle,u=t.clockwise,d=Math.cos(l),h=Math.sin(l),p=Math.cos(c),f=Math.sin(c);(u?c-l<2*Math.PI:l-c<2*Math.PI)&&(e.moveTo(d*n+i,h*n+a),e.arc(d*o+i,h*o+a,s,-Math.PI+l,l,!u)),e.arc(i,a,r,l,c,!u),e.moveTo(p*r+i,f*r+a),e.arc(p*o+i,f*o+a,s,c-2*Math.PI,c-Math.PI,!u),0!==n&&(e.arc(i,a,n,c,l,u),e.moveTo(d*n+i,f*n+a)),e.closePath()}}),ow=["itemStyle","barBorderWidth"],lw=[0,0];o(fr.prototype,rw),Vl({type:"bar",render:function(e,t,i){this._updateDrawMode(e);var a=e.get("coordinateSystem");return"cartesian2d"===a||"polar"===a?this._isLargeDraw?this._renderLarge(e,t,i):this._renderNormal(e,t,i):Hp&&console.warn("Only cartesian2d and polar supported for bar."),this.group},incrementalPrepareRender:function(e){this._clear(),this._updateDrawMode(e)},incrementalRender:function(e,t){this._incrementalRenderLarge(e,t)},_updateDrawMode:function(e){var t=e.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(e){var t,i=this.group,a=e.getData(),n=this._data,r=e.coordinateSystem,s=r.getBaseAxis();"cartesian2d"===r.type?t=s.isHorizontal():"polar"===r.type&&(t="angle"===s.dim);var o=e.isAnimationEnabled()?e:null,l=e.get("clip",!0),c=$u(r,a);i.removeClipPath();var u=e.get("roundCap",!0),d=e.get("showBackground",!0),h=e.getModel("backgroundStyle"),p=h.get("barBorderRadius")||0,f=[],v=this._backgroundEls||[],m=function(e){var i=pw[r.type](a,e),n=Ku(r,t,i);return n.useStyle(h.getBarItemStyle()),"cartesian2d"===r.type&&n.setShape("r",p),f[e]=n,n};a.diff(n).add((function(n){var s=a.getItemModel(n),h=pw[r.type](a,n,s);if(d&&m(n),a.hasValue(n)){if(l&&dw[r.type](c,h))return void i.remove(p);var p=hw[r.type](n,h,t,o,!1,u);a.setItemGraphicEl(n,p),i.add(p),Hu(p,a,n,s,h,e,t,"polar"===r.type)}})).update((function(s,g){var y=a.getItemModel(s),_=pw[r.type](a,s,y);if(d){var b;0===v.length?b=m(g):((b=v[g]).useStyle(h.getBarItemStyle()),"cartesian2d"===r.type&&b.setShape("r",p),f[s]=b);var x=pw[r.type](a,s);tr(b,{shape:Yu(t,x,r)},o,s)}var w=n.getItemGraphicEl(g);if(a.hasValue(s)){if(l&&dw[r.type](c,_))return void i.remove(w);w?tr(w,{shape:_},o,s):w=hw[r.type](s,_,t,o,!0,u),a.setItemGraphicEl(s,w),i.add(w),Hu(w,a,s,y,_,e,t,"polar"===r.type)}else i.remove(w)})).remove((function(e){var t=n.getItemGraphicEl(e);"cartesian2d"===r.type?t&&zu(e,o,t):t&&Bu(e,o,t)})).execute();var g=this._backgroundGroup||(this._backgroundGroup=new ov);g.removeAll();for(var y=0;y<f.length;++y)g.add(f[y]);i.add(g),this._backgroundEls=f,this._data=a},_renderLarge:function(e){this._clear(),Gu(e,this.group);var t=e.get("clip",!0)?Fu(e.coordinateSystem,!1,e):null;t?this.group.setClipPath(t):this.group.removeClipPath()},_incrementalRenderLarge:function(e,t){this._removeBackground(),Gu(t,this.group,!0)},dispose:z,remove:function(e){this._clear(e)},_clear:function(e){var t=this.group,i=this._data;e&&e.get("animation")&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl((function(t){"sector"===t.type?Bu(t.dataIndex,e,t):zu(t.dataIndex,e,t)}))):t.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}});var cw=Math.max,uw=Math.min,dw={cartesian2d:function(e,t){var i=t.width<0?-1:1,a=t.height<0?-1:1;0>i&&(t.x+=t.width,t.width=-t.width),0>a&&(t.y+=t.height,t.height=-t.height);var n=cw(t.x,e.x),r=uw(t.x+t.width,e.x+e.width),s=cw(t.y,e.y),o=uw(t.y+t.height,e.y+e.height);t.x=n,t.y=s,t.width=r-n,t.height=o-s;var l=t.width<0||t.height<0;return 0>i&&(t.x+=t.width,t.width=-t.width),0>a&&(t.y+=t.height,t.height=-t.height),l},polar:function(e,t){var i=t.r0<=t.r?1:-1;if(0>i){var a=t.r;t.r=t.r0,t.r0=a}a=uw(t.r,e.r);var n=cw(t.r0,e.r0);t.r=a,t.r0=n;var r=0>a-n;return 0>i&&(a=t.r,t.r=t.r0,t.r0=a),r}},hw={cartesian2d:function(e,t,i,a,n){var r=new Ag({shape:o({},t),z2:1});if(r.name="item",a){var s=i?"height":"width",l={};r.shape[s]=0,l[s]=t[s],ry[n?"updateProps":"initProps"](r,{shape:l},a,e)}return r},polar:function(e,t,i,a,n,r){var s=t.startAngle<t.endAngle,o=new(!i&&r?sw:kg)({shape:l({clockwise:s},t),z2:1});if(o.name="item",a){var c=i?"r":"endAngle",u={};o.shape[c]=i?0:t.startAngle,u[c]=t[c],ry[n?"updateProps":"initProps"](o,{shape:u},a,e)}return o}},pw={cartesian2d:function(e,t,i){var a=e.getItemLayout(t),n=i?qu(i,a):0,r=a.width>0?1:-1,s=a.height>0?1:-1;return{x:a.x+r*n/2,y:a.y+s*n/2,width:a.width-r*n,height:a.height-s*n}},polar:function(e,t){var i=e.getItemLayout(t);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle}}},fw=tn.extend({type:"largeBar",shape:{points:[]},buildPath:function(e,t){for(var i=t.points,a=this.__startPoint,n=this.__baseDimIdx,r=0;r<i.length;r+=2)a[n]=i[r+n],e.moveTo(a[0],a[1]),e.lineTo(i[r],i[r+1])}}),vw=_o((function(e){var t=this,i=Uu(t,e.offsetX,e.offsetY);t.dataIndex=i>=0?i:null}),30,!1),mw=Math.PI,gw=function(e,t){this.opt=t,this.axisModel=e,l(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new ov;var i=new ov({position:t.position.slice(),rotation:t.rotation});i.updateTransform(),this._transform=i.transform,this._dumbGroup=i};gw.prototype={constructor:gw,hasBuilder:function(e){return!!yw[e]},add:function(e){yw[e].call(this)},getGroup:function(){return this.group}};var yw={axisLine:function(){var e=this.opt,t=this.axisModel;if(t.get("axisLine.show")){var i=this.axisModel.axis.getExtent(),a=this._transform,n=[i[0],0],r=[i[1],0];a&&(se(n,n,a),se(r,r,a));var s=o({lineCap:"round"},t.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Ng({anid:"line",subPixelOptimize:!0,shape:{x1:n[0],y1:n[1],x2:r[0],y2:r[1]},style:s,strokeContainThreshold:e.strokeContainThreshold||5,silent:!0,z2:1}));var l=t.get("axisLine.symbol"),c=t.get("axisLine.symbolSize"),u=t.get("axisLine.symbolOffset")||0;if("number"==typeof u&&(u=[u,u]),null!=l){"string"==typeof l&&(l=[l,l]),("string"==typeof c||"number"==typeof c)&&(c=[c,c]);var d=c[0],h=c[1];f([{rotate:e.rotation+Math.PI/2,offset:u[0],r:0},{rotate:e.rotation-Math.PI/2,offset:u[1],r:Math.sqrt((n[0]-r[0])*(n[0]-r[0])+(n[1]-r[1])*(n[1]-r[1]))}],(function(t,i){if("none"!==l[i]&&null!=l[i]){var a=Qc(l[i],-d/2,-h/2,d,h,s.stroke,!0),r=t.r+t.offset,o=[n[0]+r*Math.cos(e.rotation),n[1]-r*Math.sin(e.rotation)];a.attr({rotation:t.rotate,position:o,silent:!0,z2:11}),this.group.add(a)}}),this)}}},axisTickLabel:function(){var e=this.axisModel,t=this.opt,i=nd(this,e,t);Qu(e,sd(this,e,t),i),rd(this,e,t)},axisName:function(){var e=this.opt,t=this.axisModel,i=P(e.axisName,t.get("name"));if(i){var a,n,r=t.get("nameLocation"),s=e.nameDirection,l=t.getModel("nameTextStyle"),c=t.get("nameGap")||0,u=this.axisModel.axis.getExtent(),d=u[0]>u[1]?-1:1,h=["start"===r?u[0]-d*c:"end"===r?u[1]+d*c:(u[0]+u[1])/2,id(r)?e.labelOffset+s*c:0],p=t.get("nameRotate");null!=p&&(p=p*mw/180),id(r)?a=bw(e.rotation,null!=p?p:e.rotation,s):(a=Ju(e,r,p||0,u),null!=(n=e.axisNameAvailableWidth)&&(n=Math.abs(n/Math.sin(a.rotation)),!isFinite(n)&&(n=null)));var f=l.getFont(),v=t.get("nameTruncate",!0)||{},m=v.ellipsis,g=P(e.nameTruncateMaxWidth,v.maxWidth,n),y=null!=m&&null!=g?wy(i,g,f,m,{minChar:2,placeholder:v.placeholder}):i,_=t.get("tooltip",!0),b=t.mainType,x={componentType:b,name:i,$vars:["name"]};x[b+"Index"]=t.componentIndex;var w=new wg({anid:"name",__fullText:i,__truncatedText:y,position:h,rotation:a.rotation,silent:xw(t),z2:1,tooltip:_&&_.show?o({content:i,formatter:function(){return i},formatterParams:x},_):null});qn(w.style,l,{text:y,textFont:f,textFill:l.getTextColor()||t.get("axisLine.lineStyle.color"),textAlign:l.get("align")||a.textAlign,textVerticalAlign:l.get("verticalAlign")||a.textVerticalAlign}),t.get("triggerEvent")&&(w.eventData=_w(t),w.eventData.targetType="axisName",w.eventData.name=i),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},_w=gw.makeAxisEventDataBase=function(e){var t={componentType:e.mainType,componentIndex:e.componentIndex};return t[e.mainType+"Index"]=e.componentIndex,t},bw=gw.innerTextLayout=function(e,t,i){var a,n,r=Pr(t-e);return Dr(r)?(n=i>0?"top":"bottom",a="center"):Dr(r-mw)?(n=i>0?"bottom":"top",a="center"):(n="middle",a=r>0&&mw>r?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:a,textVerticalAlign:n}},xw=gw.isLabelSilent=function(e){var t=e.get("tooltip");return e.get("silent")||!(e.get("triggerEvent")||t&&t.show)},ww=f,Sw=b,Cw=jl({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(e,t,i,a){this.axisPointerClass&&pd(e),Cw.superApply(this,"render",arguments),yd(this,e,t,i,a,!0)},updateAxisPointer:function(e,t,i,a){yd(this,e,t,i,a,!1)},remove:function(e,t){var i=this._axisPointer;i&&i.remove(t),Cw.superApply(this,"remove",arguments)},dispose:function(e,t){_d(this,t),Cw.superApply(this,"dispose",arguments)}}),Iw=[];Cw.registerAxisPointerClass=function(e,t){if(Hp&&Iw[e])throw new Error("axisPointer "+e+" exists");Iw[e]=t},Cw.getAxisPointerClass=function(e){return e&&Iw[e]};var kw=["axisLine","axisTickLabel","axisName"],Ow=["splitArea","splitLine","minorSplitLine"],Tw=Cw.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,i,a){this.group.removeAll();var n=this._axisGroup;if(this._axisGroup=new ov,this.group.add(this._axisGroup),e.get("show")){var r=e.getCoordSysModel(),s=bd(r,e),o=new gw(e,s);f(kw,o.add,o),this._axisGroup.add(o.getGroup()),f(Ow,(function(t){e.get(t+".show")&&this["_"+t](e,r)}),this),sr(n,this._axisGroup,e),Tw.superCall(this,"render",e,t,i,a)}},remove:function(){wd(this)},_splitLine:function(e,t){var i=e.axis;if(!i.scale.isBlank()){var a=e.getModel("splitLine"),n=a.getModel("lineStyle"),r=n.get("color");r=x(r)?r:[r];for(var s=t.coordinateSystem.getRect(),o=i.isHorizontal(),c=0,u=i.getTicksCoords({tickModel:a}),d=[],h=[],p=n.getLineStyle(),f=0;f<u.length;f++){var v=i.toGlobalCoord(u[f].coord);o?(d[0]=v,d[1]=s.y,h[0]=v,h[1]=s.y+s.height):(d[0]=s.x,d[1]=v,h[0]=s.x+s.width,h[1]=v);var m=c++%r.length,g=u[f].tickValue;this._axisGroup.add(new Ng({anid:null!=g?"line_"+u[f].tickValue:null,subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:l({stroke:r[m]},p),silent:!0}))}}},_minorSplitLine:function(e,t){var i=e.axis,a=e.getModel("minorSplitLine").getModel("lineStyle"),n=t.coordinateSystem.getRect(),r=i.isHorizontal(),s=i.getMinorTicksCoords();if(s.length)for(var o=[],l=[],c=a.getLineStyle(),u=0;u<s.length;u++)for(var d=0;d<s[u].length;d++){var h=i.toGlobalCoord(s[u][d].coord);r?(o[0]=h,o[1]=n.y,l[0]=h,l[1]=n.y+n.height):(o[0]=n.x,o[1]=h,l[0]=n.x+n.width,l[1]=h),this._axisGroup.add(new Ng({anid:"minor_line_"+s[u][d].tickValue,subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:c,silent:!0}))}},_splitArea:function(e,t){xd(this,this._axisGroup,e,t)}});Tw.extend({type:"xAxis"}),Tw.extend({type:"yAxis"}),jl({type:"grid",render:function(e){this.group.removeAll(),e.get("show")&&this.group.add(new Ag({shape:e.coordinateSystem.getRect(),style:l({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))}}),Cl((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})})),Dl(vb.VISUAL.LAYOUT,b(Nc,"bar")),Dl(vb.VISUAL.PROGRESSIVE_LAYOUT,lx),Ml({seriesType:"bar",reset:function(e){e.getData().setVisual("legendSymbol","roundRect")}}),g_.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(e){if(Hp){var t=e.coordinateSystem;if("polar"!==t&&"cartesian2d"!==t)throw new Error("Line not support coordinateSystem besides cartesian and polar")}return yc(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Pw=Sd.prototype,Dw=Sd.getSymbolSize=function(e,t){var i=e.getItemVisual(t,"symbolSize");return i instanceof Array?i.slice():[+i,+i]};Pw._createSymbol=function(e,t,i,a,n){this.removeAll();var r=Qc(e,-1,-1,2,2,t.getItemVisual(i,"color"),n);r.attr({z2:100,culling:!0,scale:Cd(a)}),r.drift=Id,this._symbolType=e,this.add(r)},Pw.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(e)},Pw.getSymbolPath=function(){return this.childAt(0)},Pw.getScale=function(){return this.childAt(0).scale},Pw.highlight=function(){this.childAt(0).trigger("emphasis")},Pw.downplay=function(){this.childAt(0).trigger("normal")},Pw.setZ=function(e,t){var i=this.childAt(0);i.zlevel=e,i.z=t},Pw.setDraggable=function(e){var t=this.childAt(0);t.draggable=e,t.cursor=e?"move":t.cursor},Pw.updateData=function(e,t,i){this.silent=!1;var a=e.getItemVisual(t,"symbol")||"circle",n=e.hostModel,r=Dw(e,t),s=a!==this._symbolType;if(s){var o=e.getItemVisual(t,"symbolKeepAspect");this._createSymbol(a,e,t,r,o)}else(l=this.childAt(0)).silent=!1,tr(l,{scale:Cd(r)},n,t);if(this._updateCommon(e,t,r,i),s){var l=this.childAt(0),c=i&&i.fadeIn,u={scale:l.scale.slice()};c&&(u.style={opacity:l.style.opacity}),l.scale=[0,0],c&&(l.style.opacity=0),ir(l,u,n,t)}this._seriesModel=n};var Mw=["itemStyle"],Lw=["emphasis","itemStyle"],Ew=["label"],Aw=["emphasis","label"];Pw._updateCommon=function(e,t,i,a){function n(t){return w?e.getName(t):Au(e,t)}var r=this.childAt(0),s=e.hostModel,l=e.getItemVisual(t,"color");"image"!==r.type?r.useStyle({strokeNoScale:!0}):r.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var c=a&&a.itemStyle,u=a&&a.hoverItemStyle,d=a&&a.symbolOffset,h=a&&a.labelModel,p=a&&a.hoverLabelModel,f=a&&a.hoverAnimation,v=a&&a.cursorStyle;if(!a||e.hasItemOption){var m=a&&a.itemModel?a.itemModel:e.getItemModel(t);c=m.getModel(Mw).getItemStyle(["color"]),u=m.getModel(Lw).getItemStyle(),d=m.getShallow("symbolOffset"),h=m.getModel(Ew),p=m.getModel(Aw),f=m.getShallow("hoverAnimation"),v=m.getShallow("cursor")}else u=o({},u);var g=r.style,y=e.getItemVisual(t,"symbolRotate");r.attr("rotation",(y||0)*Math.PI/180||0),d&&r.attr("position",[wr(d[0],i[0]),wr(d[1],i[1])]),v&&r.attr("cursor",v),r.setColor(l,a&&a.symbolInnerColor),r.setStyle(c);var _=e.getItemVisual(t,"opacity");null!=_&&(g.opacity=_);var b=e.getItemVisual(t,"liftZ"),x=r.__z2Origin;null!=b?null==x&&(r.__z2Origin=r.z2,r.z2+=b):null!=x&&(r.z2=x,r.__z2Origin=null);var w=a&&a.useNameLabel;Zn(g,u,h,p,{labelFetcher:s,labelDataIndex:t,defaultText:n,isRectText:!0,autoColor:l}),r.__symbolOriginalScale=Cd(i),r.hoverStyle=u,r.highDownOnUpdate=f&&s.isAnimationEnabled()?kd:null,Fn(r)},Pw.fadeOut=function(e,t){var i=this.childAt(0);this.silent=i.silent=!0,!(t&&t.keepLabel)&&(i.style.text=null),tr(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,e)},d(Sd,ov);var jw=Od.prototype;jw.updateData=function(e,t){t=Pd(t);var i=this.group,a=e.hostModel,n=this._data,r=this._symbolCtor,s=Dd(e);n||i.removeAll(),e.diff(n).add((function(a){var n=e.getItemLayout(a);if(Td(e,n,a,t)){var o=new r(e,a,s);o.attr("position",n),e.setItemGraphicEl(a,o),i.add(o)}})).update((function(o,l){var c=n.getItemGraphicEl(l),u=e.getItemLayout(o);return Td(e,u,o,t)?(c?(c.updateData(e,o,s),tr(c,{position:u},a)):(c=new r(e,o)).attr("position",u),i.add(c),void e.setItemGraphicEl(o,c)):void i.remove(c)})).remove((function(e){var t=n.getItemGraphicEl(e);t&&t.fadeOut((function(){i.remove(t)}))})).execute(),this._data=e},jw.isPersistent=function(){return!0},jw.updateLayout=function(){var e=this._data;e&&e.eachItemGraphicEl((function(t,i){var a=e.getItemLayout(i);t.attr("position",a)}))},jw.incrementalPrepareUpdate=function(e){this._seriesScope=Dd(e),this._data=null,this.group.removeAll()},jw.incrementalUpdate=function(e,t,i){function a(e){e.isGroup||(e.incremental=e.useHoverLayer=!0)}i=Pd(i);for(var n=e.start;n<e.end;n++){var r=t.getItemLayout(n);if(Td(t,r,n,i)){var s=new this._symbolCtor(t,n,this._seriesScope);s.traverse(a),s.attr("position",r),this.group.add(s),t.setItemGraphicEl(n,s)}}},jw.remove=function(e){var t=this.group,i=this._data;i&&e?i.eachItemGraphicEl((function(e){e.fadeOut((function(){t.remove(e)}))})):t.removeAll()};var Nw=function(e,t,i,a,n,r,s,o){for(var l=Ad(e,t),c=[],u=[],d=[],h=[],p=[],f=[],v=[],m=Md(n,t,s),g=Md(r,e,o),y=0;y<l.length;y++){var _=l[y],b=!0;switch(_.cmd){case"=":var x=e.getItemLayout(_.idx),w=t.getItemLayout(_.idx1);(isNaN(x[0])||isNaN(x[1]))&&(x=w.slice()),c.push(x),u.push(w),d.push(i[_.idx]),h.push(a[_.idx1]),v.push(t.getRawIndex(_.idx1));break;case"+":var S=_.idx;c.push(n.dataToPoint([t.get(m.dataDimsForPoint[0],S),t.get(m.dataDimsForPoint[1],S)])),u.push(t.getItemLayout(S).slice()),d.push(Ed(m,n,t,S)),h.push(a[S]),v.push(t.getRawIndex(S));break;case"-":S=_.idx;var C=e.getRawIndex(S);C!==S?(c.push(e.getItemLayout(S)),u.push(r.dataToPoint([e.get(g.dataDimsForPoint[0],S),e.get(g.dataDimsForPoint[1],S)])),d.push(i[S]),h.push(Ed(g,r,e,S)),v.push(C)):b=!1}b&&(p.push(_),f.push(f.length))}f.sort((function(e,t){return v[e]-v[t]}));var I=[],k=[],O=[],T=[],P=[];for(y=0;y<f.length;y++)S=f[y],I[y]=c[S],k[y]=u[S],O[y]=d[S],T[y]=h[S],P[y]=p[S];return{current:I,next:k,stackedOnCurrent:O,stackedOnNext:T,status:P}},Vw=oe,Rw=le,Fw=U,$w=Z,zw=[],Bw=[],Zw=[],Hw=tn.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:Ig(tn.prototype.brush),buildPath:function(e,t){var i=t.points,a=0,n=i.length,r=Fd(i,t.smoothConstraint);if(t.connectNulls){for(;n>0&&jd(i[n-1]);n--);for(;n>a&&jd(i[a]);a++);}for(;n>a;)a+=Nd(e,i,a,n,n,1,r.min,r.max,t.smooth,t.smoothMonotone,t.connectNulls)+1}}),qw=tn.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:Ig(tn.prototype.brush),buildPath:function(e,t){var i=t.points,a=t.stackedOnPoints,n=0,r=i.length,s=t.smoothMonotone,o=Fd(i,t.smoothConstraint),l=Fd(a,t.smoothConstraint);if(t.connectNulls){for(;r>0&&jd(i[r-1]);r--);for(;r>n&&jd(i[n]);n++);}for(;r>n;){var c=Nd(e,i,n,r,r,1,o.min,o.max,t.smooth,s,t.connectNulls);Nd(e,a,n+c-1,c,r,-1,l.min,l.max,t.stackedOnSmooth,s,t.connectNulls),n+=c+1,e.closePath()}}});fo.extend({type:"line",init:function(){var e=new ov,t=new Od;this.group.add(t.group),this._symbolDraw=t,this._lineGroup=e},render:function(e,t,i){var a=e.coordinateSystem,n=this.group,r=e.getData(),s=e.getModel("lineStyle"),o=e.getModel("areaStyle"),c=r.mapArray(r.getItemLayout),u="polar"===a.type,d=this._coordSys,h=this._symbolDraw,p=this._polyline,f=this._polygon,v=this._lineGroup,m=e.get("animation"),g=!o.isEmpty(),y=o.get("origin"),_=Zd(a,r,Md(a,r,y)),b=e.get("showSymbol"),x=b&&!u&&Gd(e,r,a),w=this._data;w&&w.eachItemGraphicEl((function(e,t){e.__temp&&(n.remove(e),w.setItemGraphicEl(t,null))})),b||h.remove(),n.add(v);var S,C=!u&&e.get("step");a&&a.getArea&&e.get("clip",!0)&&(null!=(S=a.getArea()).width?(S.x-=.1,S.y-=.1,S.width+=.2,S.height+=.2):S.r0&&(S.r0-=.5,S.r1+=.5)),this._clipShapeForSymbol=S,p&&d.type===a.type&&C===this._step?(g&&!f?f=this._newPolygon(c,_,a,m):f&&!g&&(v.remove(f),f=this._polygon=null),v.setClipPath(Xd(a,!1,e)),b&&h.updateData(r,{isIgnore:x,clipShape:S}),r.eachItemGraphicEl((function(e){e.stopAnimation(!0)})),$d(this._stackedOnPoints,_)&&$d(this._points,c)||(m?this._updateAnimation(r,_,a,i,C,y):(C&&(c=Hd(c,a,C),_=Hd(_,a,C)),p.setShape({points:c}),f&&f.setShape({points:c,stackedOnPoints:_})))):(b&&h.updateData(r,{isIgnore:x,clipShape:S}),C&&(c=Hd(c,a,C),_=Hd(_,a,C)),p=this._newPolyline(c,a,m),g&&(f=this._newPolygon(c,_,a,m)),v.setClipPath(Xd(a,!0,e)));var I=qd(r,a)||r.getVisual("color");p.useStyle(l(s.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"}));var k=e.get("smooth");if(k=Bd(e.get("smooth")),p.setShape({smooth:k,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")}),f){var O=r.getCalculationInfo("stackedOnSeries"),T=0;f.useStyle(l(o.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel"})),O&&(T=Bd(O.get("smooth"))),f.setShape({smooth:k,stackedOnSmooth:T,smoothMonotone:e.get("smoothMonotone"),connectNulls:e.get("connectNulls")})}this._data=r,this._coordSys=a,this._stackedOnPoints=_,this._points=c,this._step=C,this._valueOrigin=y},dispose:function(){},highlight:function(e,t,i,a){var n=e.getData(),r=la(n,a);if(!(r instanceof Array)&&null!=r&&r>=0){var s=n.getItemGraphicEl(r);if(!s){var o=n.getItemLayout(r);if(!o)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(o[0],o[1]))return;(s=new Sd(n,r)).position=o,s.setZ(e.get("zlevel"),e.get("z")),s.ignore=isNaN(o[0])||isNaN(o[1]),s.__temp=!0,n.setItemGraphicEl(r,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else fo.prototype.highlight.call(this,e,t,i,a)},downplay:function(e,t,i,a){var n=e.getData(),r=la(n,a);if(null!=r&&r>=0){var s=n.getItemGraphicEl(r);s&&(s.__temp?(n.setItemGraphicEl(r,null),this.group.remove(s)):s.downplay())}else fo.prototype.downplay.call(this,e,t,i,a)},_newPolyline:function(e){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new Hw({shape:{points:e},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(e,t){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new qw({shape:{points:e,stackedOnPoints:t},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_updateAnimation:function(e,t,i,a,n,r){var s=this._polyline,o=this._polygon,l=e.hostModel,c=Nw(this._data,e,this._stackedOnPoints,t,this._coordSys,i,this._valueOrigin,r),u=c.current,d=c.stackedOnCurrent,h=c.next,p=c.stackedOnNext;if(n&&(u=Hd(c.current,i,n),d=Hd(c.stackedOnCurrent,i,n),h=Hd(c.next,i,n),p=Hd(c.stackedOnNext,i,n)),zd(u,h)>3e3||o&&zd(d,p)>3e3)return s.setShape({points:h}),void(o&&o.setShape({points:h,stackedOnPoints:p}));s.shape.__points=c.current,s.shape.points=u,tr(s,{shape:{points:h}},l),o&&(o.setShape({points:u,stackedOnPoints:d}),tr(o,{shape:{points:h,stackedOnPoints:p}},l));for(var f=[],v=c.status,m=0;m<v.length;m++)if("="===v[m].cmd){var g=e.getItemGraphicEl(v[m].idx1);g&&f.push({el:g,ptIdx:m})}s.animators&&s.animators.length&&s.animators[0].during((function(){for(var e=0;e<f.length;e++)f[e].el.attr("position",s.shape.__points[f[e].ptIdx])}))},remove:function(){var e=this.group,t=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),t&&t.eachItemGraphicEl((function(i,a){i.__temp&&(e.remove(i),t.setItemGraphicEl(a,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Gw=function(e,t,i){return{seriesType:e,performRawSeries:!0,reset:function(e,a){function n(t,i){if(p){var a=e.getRawValue(i),n=e.getDataParams(i);u&&t.setItemVisual(i,"symbol",s(a,n)),d&&t.setItemVisual(i,"symbolSize",o(a,n)),h&&t.setItemVisual(i,"symbolRotate",c(a,n))}if(t.hasItemOption){var r=t.getItemModel(i),l=r.getShallow("symbol",!0),f=r.getShallow("symbolSize",!0),v=r.getShallow("symbolRotate",!0),m=r.getShallow("symbolKeepAspect",!0);null!=l&&t.setItemVisual(i,"symbol",l),null!=f&&t.setItemVisual(i,"symbolSize",f),null!=v&&t.setItemVisual(i,"symbolRotate",v),null!=m&&t.setItemVisual(i,"symbolKeepAspect",m)}}var r=e.getData(),s=e.get("symbol"),o=e.get("symbolSize"),l=e.get("symbolKeepAspect"),c=e.get("symbolRotate"),u=w(s),d=w(o),h=w(c),p=u||d||h,f=!u&&s?s:t,v=d?null:o;return r.setVisual({legendSymbol:i||f,symbol:f,symbolSize:v,symbolKeepAspect:l,symbolRotate:c}),a.isSeriesFiltered(e)?void 0:{dataEach:r.hasItemOption||p?n:null}}}},Uw=function(e){return{seriesType:e,plan:b_(),reset:function(e){function t(e,t){for(var i=e.end-e.start,o=n&&new Float32Array(i*s),l=e.start,c=0,u=[],d=[];l<e.end;l++){var h;if(1===s){var p=t.get(r[0],l);h=!isNaN(p)&&a.dataToPoint(p,null,d)}else{p=u[0]=t.get(r[0],l);var f=u[1]=t.get(r[1],l);h=!isNaN(p)&&!isNaN(f)&&a.dataToPoint(u,null,d)}n?(o[c++]=h?h[0]:NaN,o[c++]=h?h[1]:NaN):t.setItemLayout(l,h&&h.slice()||[NaN,NaN])}n&&t.setLayout("symbolPoints",o)}var i=e.getData(),a=e.coordinateSystem,n=e.pipelineContext.large;if(a){var r=v(a.dimensions,(function(e){return i.mapDimension(e)})).slice(0,2),s=r.length,o=i.getCalculationInfo("stackResultDimension");return mc(i,r[0])&&(r[0]=o),mc(i,r[1])&&(r[1]=o),s&&{progress:t}}}}},Xw={average:function(e){for(var t=0,i=0,a=0;a<e.length;a++)isNaN(e[a])||(t+=e[a],i++);return 0===i?NaN:t/i},sum:function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i]||0;return t},max:function(e){for(var t=-1/0,i=0;i<e.length;i++)e[i]>t&&(t=e[i]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,i=0;i<e.length;i++)e[i]<t&&(t=e[i]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},Ww=function(e){return Math.round(e.length/2)},Yw=function(e){return{seriesType:e,modifyOutputEnd:!0,reset:function(e){var t=e.getData(),i=e.get("sampling"),a=e.coordinateSystem;if("cartesian2d"===a.type&&i){var n,r=a.getBaseAxis(),s=a.getOtherAxis(r),o=r.getExtent(),l=Math.abs(o[1]-o[0]),c=Math.round(t.count()/l);c>1&&("string"==typeof i?n=Xw[i]:"function"==typeof i&&(n=i),n&&e.setData(t.downSample(t.mapDimension(s.dim),1/c,n,Ww)))}}}};Ml(Gw("line","circle","line")),Dl(Uw("line")),Il(vb.PROCESSOR.STATISTIC,Yw("line"));var Kw=function(e,t,i){t=x(t)&&{coordDimensions:t}||o({},t);var a=e.getSource(),n=Kb(a,t),r=new Xb(n,e);return r.initData(a,i),r},Jw={updateSelectedMap:function(e){this._targetList=x(e)?e.slice():[],this._selectTargetMap=m(e||[],(function(e,t){return e.set(t.name,t),e}),F())},select:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);"single"===this.get("selectedMode")&&this._selectTargetMap.each((function(e){e.selected=!1})),i&&(i.selected=!0)},unSelect:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);i&&(i.selected=!1)},toggleSelected:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return null!=i?(this[i.selected?"unSelect":"select"](e,t),i.selected):void 0},isSelected:function(e,t){var i=null!=t?this._targetList[t]:this._selectTargetMap.get(e);return i&&i.selected}},Qw=Nl({type:"series.pie",init:function(e){Qw.superApply(this,"init",arguments),this.legendVisualProvider=new Wd(_(this.getData,this),_(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(e)},mergeOption:function(e){Qw.superCall(this,"mergeOption",e),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(){return Kw(this,{coordDimensions:["value"],encodeDefaulter:b(fs,this)})},_createSelectableList:function(){for(var e=this.getRawData(),t=e.mapDimension("value"),i=[],a=0,n=e.count();n>a;a++)i.push({name:e.getName(a),value:e.get(t,a),selected:eo(e,a,"selected")});return i},getDataParams:function(e){var t=this.getData(),i=Qw.superCall(this,"getDataParams",e),a=[];return t.each(t.mapDimension("value"),(function(e){a.push(e)})),i.percent=Tr(a,e,t.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(e){ta(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});h(Qw,Jw);var eS=Jd.prototype;eS.updateData=function(e,t,i){var a=this.childAt(0),n=this.childAt(1),r=this.childAt(2),s=e.hostModel,c=e.getItemModel(t),u=e.getItemLayout(t),d=o({},u);d.label=null;var h=s.getShallow("animationTypeUpdate");i?(a.setShape(d),"scale"===s.getShallow("animationType")?(a.shape.r=u.r0,ir(a,{shape:{r:u.r}},s,t)):(a.shape.endAngle=u.startAngle,tr(a,{shape:{endAngle:u.endAngle}},s,t))):"expansion"===h?a.setShape(d):tr(a,{shape:d},s,t);var p=e.getItemVisual(t,"color");a.useStyle(l({lineJoin:"bevel",fill:p},c.getModel("itemStyle").getItemStyle())),a.hoverStyle=c.getModel("emphasis.itemStyle").getItemStyle();var f=c.getShallow("cursor");f&&a.attr("cursor",f),Kd(this,e.getItemLayout(t),s.isSelected(e.getName(t)),s.get("selectedOffset"),s.get("animation"));var v=!i&&"transition"===h;this._updateLabel(e,t,v),this.highDownOnUpdate=s.get("silent")?null:function(e,t){var i=s.isAnimationEnabled()&&c.get("hoverAnimation");"emphasis"===t?(n.ignore=n.hoverIgnore,r.ignore=r.hoverIgnore,i&&(a.stopAnimation(!0),a.animateTo({shape:{r:u.r+s.get("hoverOffset")}},300,"elasticOut"))):(n.ignore=n.normalIgnore,r.ignore=r.normalIgnore,i&&(a.stopAnimation(!0),a.animateTo({shape:{r:u.r}},300,"elasticOut")))},Fn(this)},eS._updateLabel=function(e,t,i){var a=this.childAt(1),n=this.childAt(2),r=e.hostModel,s=e.getItemModel(t),o=e.getItemLayout(t).label,l=e.getItemVisual(t,"color");if(!o||isNaN(o.x)||isNaN(o.y))n.ignore=n.normalIgnore=n.hoverIgnore=a.ignore=a.normalIgnore=a.hoverIgnore=!0;else{var c={points:o.linePoints||[[o.x,o.y],[o.x,o.y],[o.x,o.y]]},u={x:o.x,y:o.y};i?(tr(a,{shape:c},r,t),tr(n,{style:u},r,t)):(a.attr({shape:c}),n.attr({style:u})),n.attr({rotation:o.rotation,origin:[o.x,o.y],z2:10});var d=s.getModel("label"),h=s.getModel("emphasis.label"),p=s.getModel("labelLine"),f=s.getModel("emphasis.labelLine");l=e.getItemVisual(t,"color"),Zn(n.style,n.hoverStyle={},d,h,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:o.text,autoColor:l,useInsideStyle:!!o.inside},{textAlign:o.textAlign,textVerticalAlign:o.verticalAlign,opacity:e.getItemVisual(t,"opacity")}),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!h.get("show"),a.ignore=a.normalIgnore=!p.get("show"),a.hoverIgnore=!f.get("show"),a.setStyle({stroke:l,opacity:e.getItemVisual(t,"opacity")}),a.setStyle(p.getModel("lineStyle").getLineStyle()),a.hoverStyle=f.getModel("lineStyle").getLineStyle();var v=p.get("smooth");v&&!0===v&&(v=.4),a.setShape({smooth:v})}},d(Jd,ov);var tS=(fo.extend({type:"pie",init:function(){var e=new ov;this._sectorGroup=e},render:function(e,t,i,a){if(!a||a.from!==this.uid){var n=e.getData(),r=this._data,s=this.group,o=t.get("animation"),l=!r,c=e.get("animationType"),u=e.get("animationTypeUpdate"),d=b(Yd,this.uid,e,o,i),h=e.get("selectedMode");if(n.diff(r).add((function(e){var t=new Jd(n,e);l&&"scale"!==c&&t.eachChild((function(e){e.stopAnimation(!0)})),h&&t.on("click",d),n.setItemGraphicEl(e,t),s.add(t)})).update((function(e,t){var i=r.getItemGraphicEl(t);l||"transition"===u||i.eachChild((function(e){e.stopAnimation(!0)})),i.updateData(n,e),i.off("click"),h&&i.on("click",d),s.add(i),n.setItemGraphicEl(e,i)})).remove((function(e){var t=r.getItemGraphicEl(e);s.remove(t)})).execute(),o&&n.count()>0&&(l?"scale"!==c:"transition"!==u)){for(var p=n.getItemLayout(0),f=1;isNaN(p.startAngle)&&f<n.count();++f)p=n.getItemLayout(f);var v=Math.max(i.getWidth(),i.getHeight())/2,m=_(s.removeClipPath,s);s.setClipPath(this._createClipPath(p.cx,p.cy,v,p.startAngle,p.clockwise,m,e,l))}else s.removeClipPath();this._data=n}},dispose:function(){},_createClipPath:function(e,t,i,a,n,r,s,o){var l=new kg({shape:{cx:e,cy:t,r0:0,r:i,startAngle:a,endAngle:a,clockwise:n}});return(o?ir:tr)(l,{shape:{endAngle:a+(n?1:-1)*Math.PI*2}},s,r),l},containPoint:function(e,t){var i=t.getData().getItemLayout(0);if(i){var a=e[0]-i.cx,n=e[1]-i.cy,r=Math.sqrt(a*a+n*n);return r<=i.r&&r>=i.r0}}}),function(e,t){f(t,(function(t){t.update="updateView",Ol(t,(function(i,a){var n={};return a.eachComponent({mainType:"series",subType:e,query:i},(function(e){e[t.method]&&e[t.method](i.name,i.dataIndex);var a=e.getData();a.each((function(t){var i=a.getName(t);n[i]=e.isSelected(i)||!1}))})),{name:i.name,selected:n,seriesId:i.seriesId}}))}))}),iS=function(e){return{getTargetSeries:function(t){var i={},a=F();return t.eachSeriesByType(e,(function(e){e.__paletteScope=i,a.set(e.uid,e)})),a},reset:function(e){var t=e.getRawData(),i={},a=e.getData();a.each((function(e){var t=a.getRawIndex(e);i[t]=e})),t.each((function(n){var r,s=i[n],o=null!=s&&a.getItemVisual(s,"color",!0),l=null!=s&&a.getItemVisual(s,"borderColor",!0);if(o&&l||(r=t.getItemModel(n)),!o){var c=r.get("itemStyle.color")||e.getColorFromPalette(t.getName(n)||n+"",e.__paletteScope,t.count());null!=s&&a.setItemVisual(s,"color",c)}if(!l){var u=r.get("itemStyle.borderColor");null!=s&&a.setItemVisual(s,"borderColor",u)}}))}}},aS=Math.PI/180,nS=function(e,t,i,a,n,r){var s,o,l=e.getData(),c=[],u=!1,d=(e.get("minShowLabelAngle")||0)*aS;l.each((function(a){var r=l.getItemLayout(a),h=l.getItemModel(a),p=h.getModel("label"),f=p.get("position")||h.get("emphasis.label.position"),v=p.get("distanceToLabelLine"),m=p.get("alignTo"),g=wr(p.get("margin"),i),y=p.get("bleedMargin"),_=p.getFont(),b=h.getModel("labelLine"),x=b.get("length");x=wr(x,i);var w=b.get("length2");if(w=wr(w,i),!(r.angle<d)){var S,C,I,k,O=(r.startAngle+r.endAngle)/2,T=Math.cos(O),P=Math.sin(O);s=r.cx,o=r.cy;var D=e.getFormattedLabel(a,"normal")||l.getName(a),M=Gt(D,_,k,"top"),L="inside"===f||"inner"===f;if("center"===f)S=r.cx,C=r.cy,k="center";else{var E=(L?(r.r+r.r0)/2*T:r.r*T)+s,A=(L?(r.r+r.r0)/2*P:r.r*P)+o;if(S=E+3*T,C=A+3*P,!L){var j=E+T*(x+t-r.r),N=A+P*(x+t-r.r),V=j+(0>T?-1:1)*w;S="edge"===m?0>T?n+g:n+i-g:V+(0>T?-v:v),C=N,I=[[E,A],[j,N],[V,N]]}k=L?"center":"edge"===m?T>0?"right":"left":T>0?"left":"right"}var R,F=p.get("rotate");R="number"==typeof F?F*(Math.PI/180):F?0>T?-O+Math.PI:-O:0,u=!!R,r.label={x:S,y:C,position:f,height:M.height,len:x,len2:w,linePoints:I,textAlign:k,verticalAlign:"middle",rotation:R,inside:L,labelDistance:v,labelAlignTo:m,labelMargin:g,bleedMargin:y,textRect:M,text:D,font:_},L||c.push(r.label)}})),!u&&e.get("avoidLabelOverlap")&&eh(c,s,o,t,i,a,n,r)},rS=2*Math.PI,sS=Math.PI/180,oS=function(e,t,i){t.eachSeriesByType(e,(function(e){var t=e.getData(),a=t.mapDimension("value"),n=ih(e,i),r=e.get("center"),s=e.get("radius");x(s)||(s=[0,s]),x(r)||(r=[r,r]);var o=wr(n.width,i.getWidth()),l=wr(n.height,i.getHeight()),c=Math.min(o,l),u=wr(r[0],o)+n.x,d=wr(r[1],l)+n.y,h=wr(s[0],c/2),p=wr(s[1],c/2),f=-e.get("startAngle")*sS,v=e.get("minAngle")*sS,m=0;t.each(a,(function(e){!isNaN(e)&&m++}));var g=t.getSum(a),y=Math.PI/(g||m)*2,_=e.get("clockwise"),b=e.get("roseType"),w=e.get("stillShowZeroSum"),S=t.getDataExtent(a);S[0]=0;var C=rS,I=0,k=f,O=_?1:-1;if(t.each(a,(function(e,i){var a;if(isNaN(e))t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:_,cx:u,cy:d,r0:h,r:b?NaN:p,viewRect:n});else{v>(a="area"!==b?0===g&&w?y:e*y:rS/m)?(a=v,C-=v):I+=e;var r=k+O*a;t.setItemLayout(i,{angle:a,startAngle:k,endAngle:r,clockwise:_,cx:u,cy:d,r0:h,r:b?xr(e,S,[h,p]):p,viewRect:n}),k=r}})),rS>C&&m)if(.001>=C){var T=rS/m;t.each(a,(function(e,i){if(!isNaN(e)){var a=t.getItemLayout(i);a.angle=T,a.startAngle=f+O*i*T,a.endAngle=f+O*(i+1)*T}}))}else y=C/I,k=f,t.each(a,(function(e,i){if(!isNaN(e)){var a=t.getItemLayout(i),n=a.angle===v?v:e*y;a.startAngle=k,a.endAngle=k+O*n,k+=O*n}}));nS(e,p,n.width,n.height,n.x,n.y)}))},lS=function(e){return{seriesType:e,reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var a=e.getData();a.filterSelf((function(e){for(var t=a.getName(e),n=0;n<i.length;n++)if(!i[n].isSelected(t))return!1;return!0}))}}}};tS("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),Ml(iS("pie")),Dl(b(oS,"pie")),Il(lS("pie")),Al({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),jl({type:"title",render:function(e,t,i){if(this.group.removeAll(),e.get("show")){var a=this.group,n=e.getModel("textStyle"),r=e.getModel("subtextStyle"),s=e.get("textAlign"),o=D(e.get("textBaseline"),e.get("textVerticalAlign")),l=new wg({style:qn({},n,{text:e.get("text"),textFill:n.getTextColor()},{disableBox:!0}),z2:10}),c=l.getBoundingRect(),u=e.get("subtext"),d=new wg({style:qn({},r,{text:u,textFill:r.getTextColor(),y:c.height+e.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),h=e.get("link"),p=e.get("sublink"),f=e.get("triggerEvent",!0);l.silent=!h&&!f,d.silent=!p&&!f,h&&l.on("click",(function(){Wr(h,"_"+e.get("target"))})),p&&d.on("click",(function(){Wr(p,"_"+e.get("subtarget"))})),l.eventData=d.eventData=f?{componentType:"title",componentIndex:e.componentIndex}:null,a.add(l),u&&a.add(d);var v=a.getBoundingRect(),m=e.getBoxLayoutParams();m.width=v.width,m.height=v.height;var g=Kr(m,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));s||("middle"===(s=e.get("left")||e.get("right"))&&(s="center"),"right"===s?g.x+=g.width:"center"===s&&(g.x+=g.width/2)),o||("center"===(o=e.get("top")||e.get("bottom"))&&(o="middle"),"bottom"===o?g.y+=g.height:"middle"===o&&(g.y+=g.height/2),o=o||"top"),a.attr("position",[g.x,g.y]);var y={textAlign:s,textVerticalAlign:o};l.setStyle(y),d.setStyle(y),v=a.getBoundingRect();var _=g.margin,b=e.getItemStyle(["color","opacity"]);b.fill=e.get("backgroundColor");var x=new Ag({shape:{x:v.x-_[3],y:v.y-_[0],width:v.width+_[1]+_[3],height:v.height+_[0]+_[2],r:e.get("borderRadius")},style:b,subPixelOptimize:!0,silent:!0});a.add(x)}}});var cS=P_.legend.selector,uS={all:{type:"all",title:n(cS.all)},inverse:{type:"inverse",title:n(cS.inverse)}},dS=Al({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(e,t,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},mergeOption:function(e){dS.superCall(this,"mergeOption",e),this._updateSelector(e)},_updateSelector:function(e){var t=e.selector;!0===t&&(t=e.selector=["all","inverse"]),x(t)&&f(t,(function(e,i){S(e)&&(e={type:e}),t[i]=r(e,uS[e.type])}))},optionUpdated:function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,i=0;i<e.length;i++){var a=e[i].get("name");if(this.isSelected(a)){this.select(a),t=!0;break}}!t&&this.select(e[0].get("name"))}},_updateData:function(e){var t=[],i=[];e.eachRawSeries((function(a){var n,r=a.name;if(i.push(r),a.legendVisualProvider){var s=a.legendVisualProvider.getAllNames();e.isSeriesFiltered(a)||(i=i.concat(s)),s.length?t=t.concat(s):n=!0}else n=!0;n&&sa(a)&&t.push(a.name)})),this._availableNames=i;var a=v(this.get("data")||t,(function(e){return("string"==typeof e||"number"==typeof e)&&(e={name:e}),new fr(e,this,this.ecModel)}),this);this._data=a},getData:function(){return this._data},select:function(e){var t=this.option.selected;"single"===this.get("selectedMode")&&f(this._data,(function(e){t[e.get("name")]=!1})),t[e]=!0},unSelect:function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},toggleSelected:function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},allSelect:function(){var e=this._data,t=this.option.selected;f(e,(function(e){t[e.get("name",!0)]=!0}))},inverseSelect:function(){var e=this._data,t=this.option.selected;f(e,(function(e){var i=e.get("name",!0);t.hasOwnProperty(i)||(t[i]=!0),t[i]=!t[i]}))},isSelected:function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&u(this._availableNames,e)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});Ol("legendToggleSelect","legendselectchanged",b(ah,"toggleSelected")),Ol("legendAllSelect","legendselectall",b(ah,"allSelect")),Ol("legendInverseSelect","legendinverseselect",b(ah,"inverseSelect")),Ol("legendSelect","legendselected",b(ah,"select")),Ol("legendUnSelect","legendunselected",b(ah,"unSelect"));var hS=b,pS=f,fS=ov,vS=jl({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new fS),this._backgroundEl,this.group.add(this._selectorGroup=new fS),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(e,t,i){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var n=e.get("align"),r=e.get("orient");n&&"auto"!==n||(n="right"===e.get("left")&&"vertical"===r?"right":"left");var s=e.get("selector",!0),o=e.get("selectorPosition",!0);!s||o&&"auto"!==o||(o="horizontal"===r?"end":"start"),this.renderInner(n,e,t,i,s,r,o);var c=e.getBoxLayoutParams(),u={width:i.getWidth(),height:i.getHeight()},d=e.get("padding"),h=Kr(c,u,d),p=this.layoutInner(e,n,h,a,s,o),f=Kr(l({width:p.width,height:p.height},c),u,d);this.group.attr("position",[f.x-p.x,f.y-p.y]),this.group.add(this._backgroundEl=nh(p,e))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(e,t,i,a,n,r,s){var o=this.getContentGroup(),l=F(),c=t.get("selectedMode"),u=[];i.eachRawSeries((function(e){!e.get("legendHoverLink")&&u.push(e.id)})),pS(t.getData(),(function(n,r){var s=n.get("name");if(this.newlineDisabled||""!==s&&"\n"!==s){var d=i.getSeriesByName(s)[0];if(!l.get(s)){if(d){var h=d.getData(),p=h.getVisual("color"),f=h.getVisual("borderColor");"function"==typeof p&&(p=p(d.getDataParams(0))),"function"==typeof f&&(f=f(d.getDataParams(0)));var v=h.getVisual("legendSymbol")||"roundRect",m=h.getVisual("symbol");this._createItem(s,r,n,t,v,m,e,p,f,c).on("click",hS(sh,s,null,a,u)).on("mouseover",hS(oh,d.name,null,a,u)).on("mouseout",hS(lh,d.name,null,a,u)),l.set(s,!0)}else i.eachRawSeries((function(i){if(!l.get(s)&&i.legendVisualProvider){var o=i.legendVisualProvider;if(!o.containName(s))return;var d=o.indexOfName(s),h=o.getItemVisual(d,"color"),p=o.getItemVisual(d,"borderColor"),f="roundRect";this._createItem(s,r,n,t,f,null,e,h,p,c).on("click",hS(sh,null,s,a,u)).on("mouseover",hS(oh,null,s,a,u)).on("mouseout",hS(lh,null,s,a,u)),l.set(s,!0)}}),this);Hp&&(l.get(s)||console.warn(s+" series not exists. Legend data should be same with series name or data name."))}}else o.add(new fS({newline:!0}))}),this),n&&this._createSelector(n,t,a,r,s)},_createSelector:function(e,t,i){function a(e){var a=e.type,r=new wg({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===a?"legendAllSelect":"legendInverseSelect"})}});n.add(r);var s=t.getModel("selectorLabel"),o=t.getModel("emphasis.selectorLabel");Zn(r.style,r.hoverStyle={},s,o,{defaultText:e.title,isRectText:!1}),Fn(r)}var n=this.getSelectorGroup();pS(e,(function(e){a(e)}))},_createItem:function(e,t,i,a,n,r,s,l,c,u){var d=a.get("itemWidth"),h=a.get("itemHeight"),p=a.get("inactiveColor"),f=a.get("inactiveBorderColor"),v=a.get("symbolKeepAspect"),m=a.getModel("itemStyle"),g=a.isSelected(e),y=new fS,_=i.getModel("textStyle"),b=i.get("icon"),x=i.getModel("tooltip"),w=x.parentModel,S=Qc(n=b||n,0,0,d,h,g?l:p,null==v||v);if(y.add(rh(S,n,m,c,f,g)),!b&&r&&(r!==n||"none"===r)){var C=.8*h;"none"===r&&(r="circle");var I=Qc(r,(d-C)/2,(h-C)/2,C,C,g?l:p,null==v||v);y.add(rh(I,r,m,c,f,g))}var k="left"===s?d+5:-5,O=s,T=a.get("formatter"),P=e;"string"==typeof T&&T?P=T.replace("{name}",null!=e?e:""):"function"==typeof T&&(P=T(e)),y.add(new wg({style:qn({},_,{text:P,x:k,y:h/2,textFill:g?_.getTextColor():p,textAlign:O,textVerticalAlign:"middle"})}));var D=new Ag({shape:y.getBoundingRect(),invisible:!0,tooltip:x.get("show")?o({content:e,formatter:w.get("formatter",!0)||function(){return e},formatterParams:{componentType:"legend",legendIndex:a.componentIndex,name:e,$vars:["name"]}},x.option):null});return y.add(D),y.eachChild((function(e){e.silent=!0})),D.silent=!u,this.getContentGroup().add(y),Fn(y),y.__legendDataIndex=t,y},layoutInner:function(e,t,i,a,n,r){var s=this.getContentGroup(),o=this.getSelectorGroup();Oy(e.get("orient"),s,e.get("itemGap"),i.width,i.height);var l=s.getBoundingRect(),c=[-l.x,-l.y];if(n){Oy("horizontal",o,e.get("selectorItemGap",!0));var u=o.getBoundingRect(),d=[-u.x,-u.y],h=e.get("selectorButtonGap",!0),p=e.getOrient().index,f=0===p?"width":"height",v=0===p?"height":"width",m=0===p?"y":"x";"end"===r?d[p]+=l[f]+h:c[p]+=u[f]+h,d[1-p]+=l[v]/2-u[v]/2,o.attr("position",d),s.attr("position",c);var g={x:0,y:0};return g[f]=l[f]+h+u[f],g[v]=Math.max(l[v],u[v]),g[m]=Math.min(0,u[m]+d[1-p]),g}return s.attr("position",c),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}}),mS=function(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0}))};Il(vb.PROCESSOR.SERIES_FILTER,mS),Dy.registerSubTypeDefaulter("legend",(function(){return"plain"}));var gS=dS.extend({type:"legend.scroll",setScrollDataIndex:function(e){this.option.scrollDataIndex=e},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(e,t,i,a){var n=es(e);gS.superCall(this,"init",e,t,i,a),ch(this,e,n)},mergeOption:function(e,t){gS.superCall(this,"mergeOption",e,t),ch(this,this.option,e)}}),yS=ov,_S=["width","height"],bS=["x","y"],xS=vS.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){xS.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new yS),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new yS),this._showController},resetInner:function(){xS.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(e,t,i,a,n,r,s){function o(e,i){var n=e+"DataIndex",r=cr(t.get("pageIcons",!0)[t.getOrient().name][i],{onclick:_(l._pageGo,l,n,t,a)},{x:-u[0]/2,y:-u[1]/2,width:u[0],height:u[1]});r.name=e,c.add(r)}var l=this;xS.superCall(this,"renderInner",e,t,i,a,n,r,s);var c=this._controllerGroup,u=t.get("pageIconSize",!0);x(u)||(u=[u,u]),o("pagePrev",0);var d=t.getModel("pageTextStyle");c.add(new wg({name:"pageText",style:{textFill:d.getTextColor(),font:d.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),o("pageNext",1)},layoutInner:function(e,t,i,a,r,s){var o=this.getSelectorGroup(),l=e.getOrient().index,c=_S[l],u=bS[l],d=_S[1-l],h=bS[1-l];r&&Oy("horizontal",o,e.get("selectorItemGap",!0));var p=e.get("selectorButtonGap",!0),f=o.getBoundingRect(),v=[-f.x,-f.y],m=n(i);r&&(m[c]=i[c]-f[c]-p);var g=this._layoutContentAndController(e,a,m,l,c,d,h);if(r){if("end"===s)v[l]+=g[c]+p;else{var y=f[c]+p;v[l]-=y,g[u]-=y}g[c]+=f[c]+p,v[1-l]+=g[h]+g[d]/2-f[d]/2,g[d]=Math.max(g[d],f[d]),g[h]=Math.min(g[h],f[h]+v[1-l]),o.attr("position",v)}return g},_layoutContentAndController:function(e,t,i,a,n,r,s){var o=this.getContentGroup(),l=this._containerGroup,c=this._controllerGroup;Oy(e.get("orient"),o,e.get("itemGap"),a?i.width:null,a?null:i.height),Oy("horizontal",c,e.get("pageButtonItemGap",!0));var u=o.getBoundingRect(),d=c.getBoundingRect(),h=this._showController=u[n]>i[n],p=[-u.x,-u.y];t||(p[a]=o.position[a]);var f=[0,0],v=[-d.x,-d.y],m=D(e.get("pageButtonGap",!0),e.get("itemGap",!0));h&&("end"===e.get("pageButtonPosition",!0)?v[a]+=i[n]-d[n]:f[a]+=d[n]+m),v[1-a]+=u[r]/2-d[r]/2,o.attr("position",p),l.attr("position",f),c.attr("position",v);var g={x:0,y:0};if(g[n]=h?i[n]:u[n],g[r]=Math.max(u[r],d[r]),g[s]=Math.min(0,d[s]+v[1-a]),l.__rectSize=i[n],h){var y={x:0,y:0};y[n]=Math.max(i[n]-d[n]-m,0),y[r]=g[r],l.setClipPath(new Ag({shape:y})),l.__rectSize=y[n]}else c.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var _=this._getPageInfo(e);return null!=_.pageIndex&&tr(o,{position:_.contentPosition},!!h&&e),this._updatePageInfoView(e,_),g},_pageGo:function(e,t,i){var a=this._getPageInfo(t)[e];null!=a&&i.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:t.id})},_updatePageInfoView:function(e,t){var i=this._controllerGroup;f(["pagePrev","pageNext"],(function(a){var n=null!=t[a+"DataIndex"],r=i.childOfName(a);r&&(r.setStyle("fill",n?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),r.cursor=n?"pointer":"default")}));var a=i.childOfName("pageText"),n=e.get("pageFormatter"),r=t.pageIndex,s=null!=r?r+1:0,o=t.pageCount;a&&n&&a.setStyle("text",S(n)?n.replace("{current}",s).replace("{total}",o):n({current:s,total:o}))},_getPageInfo:function(e){function t(e){if(e){var t=e.getBoundingRect(),i=t[l]+e.position[s];return{s:i,e:i+t[o],i:e.__legendDataIndex}}}function i(e,t){return e.e>=t&&e.s<=t+r}var a=e.get("scrollDataIndex",!0),n=this.getContentGroup(),r=this._containerGroup.__rectSize,s=e.getOrient().index,o=_S[s],l=bS[s],c=this._findTargetItemIndex(a),u=n.children(),d=u[c],h=u.length,p=h?1:0,f={contentPosition:n.position.slice(),pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return f;var v=t(d);f.contentPosition[s]=-v.s;for(var m=c+1,g=v,y=v,_=null;h>=m;++m)(!(_=t(u[m]))&&y.e>g.s+r||_&&!i(_,g.s))&&(g=y.i>g.i?y:_)&&(null==f.pageNextDataIndex&&(f.pageNextDataIndex=g.i),++f.pageCount),y=_;for(m=c-1,g=v,y=v,_=null;m>=-1;--m)(_=t(u[m]))&&i(y,_.s)||!(g.i<y.i)||(y=g,null==f.pagePrevDataIndex&&(f.pagePrevDataIndex=g.i),++f.pageCount,++f.pageIndex),g=_;return f},_findTargetItemIndex:function(e){return this._showController?(this.getContentGroup().eachChild((function(a,n){var r=a.__legendDataIndex;null==i&&null!=r&&(i=n),r===e&&(t=n)})),null!=t?t:i):0;var t,i}});Ol("legendScroll","legendscroll",(function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(i)}))}));var wS=function(e,t){var i,a=[],n=e.seriesIndex;if(null==n||!(i=t.getSeriesByIndex(n)))return{point:[]};var r=i.getData(),s=la(r,e);if(null==s||0>s||x(s))return{point:[]};var o=r.getItemGraphicEl(s),l=i.coordinateSystem;if(i.getTooltipPosition)a=i.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)a=l.dataToPoint(r.getValues(v(l.dimensions,(function(e){return r.mapDimension(e)})),s,!0))||[];else if(o){var c=o.getBoundingRect().clone();c.applyTransform(o.transform),a=[c.x+c.width/2,c.y+c.height/2]}return{point:a,el:o}},SS=f,CS=b,IS=ca(),kS=function(e,t,i){var a=e.currTrigger,n=[e.x,e.y],r=e,s=e.dispatchAction||_(i.dispatchAction,i),o=t.getComponent("axisPointer").coordSysAxesInfo;if(o){_h(n)&&(n=wS({seriesIndex:r.seriesIndex,dataIndex:r.dataIndex},t).point);var l=_h(n),c=r.axesInfo,u=o.axesInfo,d="leave"===a||_h(n),h={},p={},f={list:[],map:{}},v={showPointer:CS(hh,p),showTooltip:CS(ph,f)};SS(o.coordSysMap,(function(e,t){var i=l||e.containPoint(n);SS(o.coordSysAxesInfo[t],(function(e){var t=e.axis,a=gh(c,e);if(!d&&i&&(!c||a)){var r=a&&a.value;null!=r||l||(r=t.pointToData(n)),null!=r&&uh(e,r,v,!1,h)}}))}));var m={};return SS(u,(function(e,t){var i=e.linkGroup;i&&!p[t]&&SS(i.axesInfo,(function(t,a){var n=p[a];if(t!==e&&n){var r=n.value;i.mapper&&(r=e.axis.scale.parse(i.mapper(r,yh(t),yh(e)))),m[e.key]=r}}))})),SS(m,(function(e,t){uh(u[t],e,v,!0,h)})),fh(p,u,h),vh(f,n,e,s),mh(u,s,i),h}},OS=(Al({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),ca()),TS=f,PS=jl({type:"axisPointer",render:function(e,t,i){var a=t.getComponent("tooltip"),n=e.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";bh("axisPointer",i,(function(e,t,i){"none"!==n&&("leave"===e||n.indexOf(e)>=0)&&i({type:"updateAxisPointer",currTrigger:e,x:t&&t.offsetX,y:t&&t.offsetY})}))},remove:function(e,t){kh(t.getZr(),"axisPointer"),PS.superApply(this._model,"remove",arguments)},dispose:function(e,t){kh("axisPointer",t),PS.superApply(this._model,"dispose",arguments)}}),DS=ca(),MS=n,LS=_;Oh.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(e,t,i,a){var n=t.get("value"),r=t.get("status");if(this._axisModel=e,this._axisPointerModel=t,this._api=i,a||this._lastValue!==n||this._lastStatus!==r){this._lastValue=n,this._lastStatus=r;var s=this._group,o=this._handle;if(!r||"hide"===r)return s&&s.hide(),void(o&&o.hide());s&&s.show(),o&&o.show();var l={};this.makeElOption(l,n,e,t,i);var c=l.graphicKey;c!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=c;var u=this._moveAnimation=this.determineAnimation(e,t);if(s){var d=b(Th,t,u);this.updatePointerEl(s,l,d,t),this.updateLabelEl(s,l,d,t)}else s=this._group=new ov,this.createPointerEl(s,l,e,t),this.createLabelEl(s,l,e,t),i.getZr().add(s);Lh(s,t,!0),this._renderHandle(n)}},remove:function(e){this.clear(e)},dispose:function(e){this.clear(e)},determineAnimation:function(e,t){var i=t.get("animation"),a=e.axis,n="category"===a.type,r=t.get("snap");if(!r&&!n)return!1;if("auto"===i||null==i){var s=this.animationThreshold;if(n&&a.getBandWidth()>s)return!0;if(r){var o=fd(e).seriesDataCount,l=a.getExtent();return Math.abs(l[0]-l[1])/o>s}return!1}return!0===i},makeElOption:function(){},createPointerEl:function(e,t){var i=t.pointer;if(i){var a=DS(e).pointerEl=new ry[i.type](MS(t.pointer));e.add(a)}},createLabelEl:function(e,t,i,a){if(t.label){var n=DS(e).labelEl=new Ag(MS(t.label));e.add(n),Dh(n,a)}},updatePointerEl:function(e,t,i){var a=DS(e).pointerEl;a&&t.pointer&&(a.setStyle(t.pointer.style),i(a,{shape:t.pointer.shape}))},updateLabelEl:function(e,t,i,a){var n=DS(e).labelEl;n&&(n.setStyle(t.label.style),i(n,{shape:t.label.shape,position:t.label.position}),Dh(n,a))},_renderHandle:function(e){if(!this._dragging&&this.updateHandleTransform){var t,i=this._axisPointerModel,a=this._api.getZr(),n=this._handle,r=i.getModel("handle"),s=i.get("status");if(!r.get("show")||!s||"hide"===s)return n&&a.remove(n),void(this._handle=null);this._handle||(t=!0,n=this._handle=cr(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(e){Sf(e.event)},onmousedown:LS(this._onHandleDragMove,this,0,0),drift:LS(this._onHandleDragMove,this),ondragend:LS(this._onHandleDragEnd,this)}),a.add(n)),Lh(n,i,!1);var o=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];n.setStyle(r.getItemStyle(null,o));var l=r.get("size");x(l)||(l=[l,l]),n.attr("scale",[l[0]/2,l[1]/2]),bo(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate"),this._moveHandleToValue(e,t)}},_moveHandleToValue:function(e,t){Th(this._axisPointerModel,!t&&this._moveAnimation,this._handle,Mh(this.getHandleTransform(e,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(e,t){var i=this._handle;if(i){this._dragging=!0;var a=this.updateHandleTransform(Mh(i),[e,t],this._axisModel,this._axisPointerModel);this._payloadInfo=a,i.stopAnimation(),i.attr(Mh(a)),DS(i).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var e=this._payloadInfo,t=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:t.axis.dim,axisIndex:t.componentIndex}]})}},_onHandleDragEnd:function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(e){this._lastValue=null,this._lastStatus=null;var t=e.getZr(),i=this._group,a=this._handle;t&&i&&(this._lastGraphicKey=null,i&&t.remove(i),a&&t.remove(a),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(e,t,i){return{x:e[i=i||0],y:e[1-i],width:t[i],height:t[1-i]}}},Oh.prototype.constructor=Oh,ga(Oh);var ES=Oh.extend({makeElOption:function(e,t,i,a,n){var r=i.axis,s=r.grid,o=a.get("type"),l=zh(s,r).getOtherAxis(r).getGlobalExtent(),c=r.toGlobalCoord(r.dataToCoord(t,!0));if(o&&"none"!==o){var u=Eh(a),d=AS[o](r,c,l);d.style=u,e.graphicKey=d.type,e.pointer=d}Rh(t,e,bd(s.model,i),i,a,n)},getHandleTransform:function(e,t,i){var a=bd(t.axis.grid.model,t,{labelInside:!1});return a.labelMargin=i.get("handle.margin"),{position:Vh(t.axis,e,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(e,t,i){var a=i.axis,n=a.grid,r=a.getGlobalExtent(!0),s=zh(n,a).getOtherAxis(a).getGlobalExtent(),o="x"===a.dim?0:1,l=e.position;l[o]+=t[o],l[o]=Math.min(r[1],l[o]),l[o]=Math.max(r[0],l[o]);var c=(s[1]+s[0])/2,u=[c,c];u[o]=l[o];var d=[{verticalAlign:"middle"},{align:"center"}];return{position:l,rotation:e.rotation,cursorPoint:u,tooltipOption:d[o]}}}),AS={line:function(e,t,i){return{type:"Line",subPixelOptimize:!0,shape:Fh([t,i[0]],[t,i[1]],Bh(e))}},shadow:function(e,t,i){var a=Math.max(1,e.getBandWidth()),n=i[1]-i[0];return{type:"Rect",shape:$h([t-a/2,i[0]],[a,n],Bh(e))}}};Cw.registerAxisPointerClass("CartesianAxisPointer",ES),Cl((function(e){if(e){(!e.axisPointer||0===e.axisPointer.length)&&(e.axisPointer={});var t=e.axisPointer.link;t&&!x(t)&&(e.axisPointer.link=[t])}})),Il(vb.PROCESSOR.STATISTIC,(function(e,t){e.getComponent("axisPointer").coordSysAxesInfo=od(e,t)})),Ol({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},kS),Al({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var jS=f,NS=Fr,VS=["","-webkit-","-moz-","-o-"],RS="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";Uh.prototype={constructor:Uh,_enterable:!0,update:function(e){var t=this._container,i=t.currentStyle||document.defaultView.getComputedStyle(t),a=t.style;"absolute"!==a.position&&"absolute"!==i.position&&(a.position="relative"),e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2],t=this._styleCoord[3],i=e*this._zr.getWidth(),a=t*this._zr.getHeight();this.moveTo(i,a)},show:function(e){clearTimeout(this._hideTimeout);var t=this.el,i=this._styleCoord;t.style.cssText=RS+qh(e)+";left:"+i[0]+"px;top:"+i[1]+"px;"+(e.get("extraCssText")||""),t.style.display=t.innerHTML?"block":"none",t.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(e){this.el.innerHTML=null==e?"":e},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el;return[e.clientWidth,e.clientHeight]},moveTo:function(e,t){var i=this._styleCoord;Gh(i,this._zr,this._appendToBody,e,t);var a=this.el.style;a.left=i[0]+"px",a.top=i[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(_(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var e=this.el.clientWidth,t=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var i=document.defaultView.getComputedStyle(this.el);i&&(e+=parseInt(i.borderLeftWidth,10)+parseInt(i.borderRightWidth,10),t+=parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10))}return{width:e,height:t}}},Wh.prototype={constructor:Wh,_enterable:!0,update:function(e){e.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var e=this._styleCoord[2],t=this._styleCoord[3],i=e*this._zr.getWidth(),a=t*this._zr.getHeight();this.moveTo(i,a)},show:function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(e,t,i){this.el&&this._zr.remove(this.el);for(var a={},n=e,r="{marker",s="|}",o=n.indexOf(r);o>=0;){var l=n.indexOf(s),c=n.substr(o+r.length,l-o-r.length);a["marker"+c]=c.indexOf("sub")>-1?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:t[c],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:t[c]},o=(n=n.substr(l+1)).indexOf("{marker")}var u=i.getModel("textStyle"),d=u.get("fontSize"),h=i.get("textLineHeight");null==h&&(h=Math.round(3*d/2)),this.el=new wg({style:qn({},u,{rich:a,text:e,textBackgroundColor:i.get("backgroundColor"),textBorderRadius:i.get("borderRadius"),textFill:i.get("textStyle.color"),textPadding:i.get("padding"),textLineHeight:h}),z:i.get("z")}),this._zr.add(this.el);var p=this;this.el.on("mouseover",(function(){p._enterable&&(clearTimeout(p._hideTimeout),p._show=!0),p._inContent=!0})),this.el.on("mouseout",(function(){p._enterable&&p._show&&p.hideLater(p._hideDelay),p._inContent=!1}))},setEnterable:function(e){this._enterable=e},getSize:function(){var e=this.el.getBoundingRect();return[e.width,e.height]},moveTo:function(e,t){if(this.el){var i=this._styleCoord;Xh(i,this._zr,e,t),this.el.attr("position",[i[0],i[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(e){!this._show||this._inContent&&this._enterable||(e?(this._hideDelay=e,this._show=!1,this._hideTimeout=setTimeout(_(this.hide,this),e)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var e=this.getSize();return{width:e[0],height:e[1]}}};var FS=_,$S=f,zS=wr,BS=new Ag({shape:{x:-1,y:-1,width:2,height:2}});jl({type:"tooltip",init:function(e,t){if(!Up.node){var i,a=e.getComponent("tooltip"),n=a.get("renderMode");this._renderMode=fa(n),"html"===this._renderMode?(i=new Uh(t.getDom(),t,{appendToBody:a.get("appendToBody",!0)}),this._newLine="<br/>"):(i=new Wh(t),this._newLine="\n"),this._tooltipContent=i}},render:function(e,t,i){if(!Up.node){this.group.removeAll(),this._tooltipModel=e,this._ecModel=t,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=e.get("alwaysShowContent");var a=this._tooltipContent;a.update(e),a.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var e=this._tooltipModel.get("triggerOn");bh("itemTooltip",this._api,FS((function(t,i,a){"none"!==e&&(e.indexOf(t)>=0?this._tryShow(i,a):"leave"===t&&this._hide(a))}),this))},_keepShow:function(){var e=this._tooltipModel,t=this._ecModel,i=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!i.isDisposed()&&a.manuallyShowTip(e,t,i,{x:a._lastX,y:a._lastY})}))}},manuallyShowTip:function(e,t,i,a){if(a.from!==this.uid&&!Up.node){var n=Kh(a,i);this._ticket="";var r=a.dataByCoordSys;if(a.tooltip&&null!=a.x&&null!=a.y){var s=BS;s.position=[a.x,a.y],s.update(),s.tooltip=a.tooltip,this._tryShow({offsetX:a.x,offsetY:a.y,target:s},n)}else if(r)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:a.dataByCoordSys,tooltipOption:a.tooltipOption},n);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(e,t,i,a))return;var o=wS(a,t),l=o.point[0],c=o.point[1];null!=l&&null!=c&&this._tryShow({offsetX:l,offsetY:c,position:a.position,target:o.el},n)}else null!=a.x&&null!=a.y&&(i.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:i.getZr().findHover(a.x,a.y).target},n))}},manuallyHideTip:function(e,t,i,a){var n=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,a.from!==this.uid&&this._hide(Kh(a,i))},_manuallyAxisShowTip:function(e,t,i,a){var n=a.seriesIndex,r=a.dataIndex,s=t.getComponent("axisPointer").coordSysAxesInfo;if(null!=n&&null!=r&&null!=s){var o=t.getSeriesByIndex(n);if(o&&"axis"===(e=Yh([o.getData().getItemModel(r),o,(o.coordinateSystem||{}).model,e])).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:r,position:a.position}),!0}},_tryShow:function(e,t){var i=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var a=e.dataByCoordSys;a&&a.length?this._showAxisTooltip(a,e):i&&null!=i.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(e,i,t)):i&&i.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(e,i,t)):(this._lastDataByCoordSys=null,this._hide(t))}},_showOrMove:function(e,t){var i=e.get("showDelay");t=_(t,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(t,i):t()},_showAxisTooltip:function(e,t){var i=this._ecModel,a=this._tooltipModel,n=[t.offsetX,t.offsetY],s=[],o=[],l=Yh([t.tooltipOption,a]),c=this._renderMode,u=this._newLine,d={};$S(e,(function(e){$S(e.dataByAxis,(function(e){var t=i.getComponent(e.axisDim+"Axis",e.axisIndex),a=e.value,n=[];if(t&&null!=a){var l=Nh(a,t.axis,i,e.seriesDataIndices,e.valueLabelOpt);f(e.seriesDataIndices,(function(s){var u=i.getSeriesByIndex(s.seriesIndex),h=s.dataIndexInside,p=u&&u.getDataParams(h);if(p.axisDim=e.axisDim,p.axisIndex=e.axisIndex,p.axisType=e.axisType,p.axisId=e.axisId,p.axisValue=Uc(t.axis,a),p.axisValueLabel=l,p){o.push(p);var f,v=u.formatTooltip(h,!0,null,c);if(C(v)){f=v.html;var m=v.markers;r(d,m)}else f=v;n.push(f)}}));var h=l;s.push("html"!==c?n.join(u):(h?$r(h)+u:"")+n.join(u))}}))}),this),s.reverse(),s=s.join(this._newLine+this._newLine);var h=t.position;this._showOrMove(l,(function(){this._updateContentNotChangedOnAxis(e)?this._updatePosition(l,h,n[0],n[1],this._tooltipContent,o):this._showTooltipContent(l,s,o,Math.random(),n[0],n[1],h,void 0,d)}))},_showSeriesItemTooltip:function(e,t,i){var a=this._ecModel,n=t.seriesIndex,r=a.getSeriesByIndex(n),s=t.dataModel||r,o=t.dataIndex,l=t.dataType,c=s.getData(l),u=Yh([c.getItemModel(o),s,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),d=u.get("trigger");if(null==d||"item"===d){var h,p,f=s.getDataParams(o,l),v=s.formatTooltip(o,!1,l,this._renderMode);C(v)?(h=v.html,p=v.markers):(h=v,p=null);var m="item_"+s.name+"_"+o;this._showOrMove(u,(function(){this._showTooltipContent(u,h,f,m,e.offsetX,e.offsetY,e.position,e.target,p)})),i({type:"showTip",dataIndexInside:o,dataIndex:c.getRawIndex(o),seriesIndex:n,from:this.uid})}},_showComponentItemTooltip:function(e,t,i){var a=t.tooltip;"string"==typeof a&&(a={content:a,formatter:a});var n=new fr(a,this._tooltipModel,this._ecModel),r=n.get("content"),s=Math.random();this._showOrMove(n,(function(){this._showTooltipContent(n,r,n.get("formatterParams")||{},s,e.offsetX,e.offsetY,e.position,t)})),i({type:"showTip",from:this.uid})},_showTooltipContent:function(e,t,i,a,n,r,s,o,l){if(this._ticket="",e.get("showContent")&&e.get("show")){var c=this._tooltipContent,u=e.get("formatter");s=s||e.get("position");var d=t;if(u&&"string"==typeof u)d=zr(u,i,!0);else if("function"==typeof u){var h=FS((function(t,a){t===this._ticket&&(c.setContent(a,l,e),this._updatePosition(e,s,n,r,c,i,o))}),this);this._ticket=a,d=u(i,a,h)}c.setContent(d,l,e),c.show(e),this._updatePosition(e,s,n,r,c,i,o)}},_updatePosition:function(e,t,i,a,n,r,s){var o=this._api.getWidth(),l=this._api.getHeight();t=t||e.get("position");var c=n.getSize(),u=e.get("align"),d=e.get("verticalAlign"),h=s&&s.getBoundingRect().clone();if(s&&h.applyTransform(s.transform),"function"==typeof t&&(t=t([i,a],r,n.el,h,{viewSize:[o,l],contentSize:c.slice()})),x(t))i=zS(t[0],o),a=zS(t[1],l);else if(C(t)){t.width=c[0],t.height=c[1];var p=Kr(t,{width:o,height:l});i=p.x,a=p.y,u=null,d=null}else if("string"==typeof t&&s)i=(f=ep(t,h,c))[0],a=f[1];else{var f;i=(f=Jh(i,a,n,o,l,u?null:20,d?null:20))[0],a=f[1]}u&&(i-=tp(u)?c[0]/2:"right"===u?c[0]:0),d&&(a-=tp(d)?c[1]/2:"bottom"===d?c[1]:0),e.get("confine")&&(i=(f=Qh(i,a,n,o,l))[0],a=f[1]),n.moveTo(i,a)},_updateContentNotChangedOnAxis:function(e){var t=this._lastDataByCoordSys,i=!!t&&t.length===e.length;return i&&$S(t,(function(t,a){var n=t.dataByAxis||{},r=(e[a]||{}).dataByAxis||[];(i&=n.length===r.length)&&$S(n,(function(e,t){var a=r[t]||{},n=e.seriesDataIndices||[],s=a.seriesDataIndices||[];(i&=e.value===a.value&&e.axisType===a.axisType&&e.axisId===a.axisId&&n.length===s.length)&&$S(n,(function(e,t){var a=s[t];i&=e.seriesIndex===a.seriesIndex&&e.dataIndex===a.dataIndex}))}))})),this._lastDataByCoordSys=e,!!i},_hide:function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},dispose:function(e,t){Up.node||(this._tooltipContent.dispose(),kh("itemTooltip",t))}}),Ol({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),Ol({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){})),Dy.registerSubTypeDefaulter("dataZoom",(function(){return"slider"}));var ZS=["cartesian2d","polar","singleAxis"],HS=ap(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),qS=function(e,t,i,a,n,r){e=e||0;var s=i[1]-i[0];if(null!=n&&(n=sp(n,[0,s])),null!=r&&(r=Math.max(r,null!=n?n:0)),"all"===a){var o=Math.abs(t[1]-t[0]);o=sp(o,[0,s]),n=r=sp(o,[n,r]),a=0}t[0]=sp(t[0],i),t[1]=sp(t[1],i);var l=rp(t,a);t[a]+=e;var c=n||0,u=i.slice();l.sign<0?u[0]+=c:u[1]-=c,t[a]=sp(t[a],u);var d=rp(t,a);return null!=n&&(d.sign!==l.sign||d.span<n)&&(t[1-a]=t[a]+l.sign*n),d=rp(t,a),null!=r&&d.span>r&&(t[1-a]=t[a]+d.sign*r),t},GS=f,US=Cr,XS=function(e,t,i,a){this._dimName=e,this._axisIndex=t,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=a,this._dataZoomModel=i};XS.prototype={constructor:XS,hostedBy:function(e){return this._dataZoomModel===e},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var e=[],t=this.ecModel;return t.eachSeries((function(i){if(ip(i.get("coordinateSystem"))){var a=this._dimName,n=t.queryComponents({mainType:a+"Axis",index:i.get(a+"AxisIndex"),id:i.get(a+"AxisId")})[0];this._axisIndex===(n&&n.componentIndex)&&e.push(i)}}),this),e},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,t,i,a=this._dimName,n=this.ecModel,r=this.getAxisModel();return"x"===a||"y"===a?(t="gridIndex",e="x"===a?"y":"x"):(t="polarIndex",e="angle"===a?"radius":"angle"),n.eachComponent(e+"Axis",(function(e){(e.get(t)||0)===(r.get(t)||0)&&(i=e)})),i},getMinMaxSpan:function(){return n(this._minMaxSpan)},calculateDataWindow:function(e){function t(e,t,i,a,r){var s=r?"Span":"ValueSpan";qS(0,e,i,"all",c["min"+s],c["max"+s]);for(var o=0;2>o;o++)t[o]=xr(e[o],i,a,!0),r&&(t[o]=n.parse(t[o]))}var i,a=this._dataExtent,n=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[];GS(["start","end"],(function(t,c){var u=e[t],d=e[t+"Value"];"percent"===r[c]?(null==u&&(u=s[c]),d=n.parse(xr(u,s,a))):(i=!0,u=xr(d=null==d?a[c]:n.parse(d),a,s)),l[c]=d,o[c]=u})),US(l),US(o);var c=this._minMaxSpan;return i?t(l,o,a,s,!1):t(o,l,s,a,!0),{valueWindow:l,percentWindow:o}},reset:function(e){if(e===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=op(this,this._dimName,t),up(this);var i=this.calculateDataWindow(e.settledOption);this._valueWindow=i.valueWindow,this._percentWindow=i.percentWindow,cp(this)}},restore:function(e){e===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,cp(this,!0))},filterData:function(e){function t(e){return e>=r[0]&&e<=r[1]}if(e===this._dataZoomModel){var i=this._dimName,a=this.getTargetSeriesModels(),n=e.get("filterMode"),r=this._valueWindow;"none"!==n&&GS(a,(function(e){var a=e.getData(),s=a.mapDimension(i,!0);s.length&&("weakFilter"===n?a.filterSelf((function(e){for(var t,i,n,o=0;o<s.length;o++){var l=a.get(s[o],e),c=!isNaN(l),u=l<r[0],d=l>r[1];if(c&&!u&&!d)return!0;c&&(n=!0),u&&(t=!0),d&&(i=!0)}return n&&t&&i})):GS(s,(function(i){if("empty"===n)e.setData(a=a.map(i,(function(e){return t(e)?e:NaN})));else{var s={};s[i]=r,a.selectRange(s)}})),GS(s,(function(e){a.setApproximateExtent(r,e)})))}))}}};var WS=f,YS=HS,KS=Al({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(e,t,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var a=dp(e);this.settledOption=a,this.mergeDefaultAndTheme(e,i),this.doInit(a)},mergeOption:function(e){var t=dp(e);r(this.option,e,!0),r(this.settledOption,t,!0),this.doInit(t)},doInit:function(e){var t=this.option;Up.canvasSupported||(t.realtime=!1),this._setDefaultThrottle(e),hp(this,e);var i=this.settledOption;WS([["start","startValue"],["end","endValue"]],(function(e,a){"value"===this._rangePropMode[a]&&(t[e[0]]=i[e[0]]=null)}),this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var e=this._axisProxies;this.eachTargetAxis((function(t,i,a,n){var r=this.dependentModels[t.axis][i],s=r.__dzAxisProxy||(r.__dzAxisProxy=new XS(t.name,i,this,n));e[t.name+"_"+i]=s}),this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();YS((function(t){var i=t.axisIndex;e[i]=ea(e[i])}),this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,t=!1;YS((function(i){null!=e[i.axisIndex]&&(t=!0)}),this);var i=e.orient;return null==i&&t?"orient":t?void 0:(null==i&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var e=!0,t=this.get("orient",!0),i=this.option,a=this.dependentModels;if(e){var n="vertical"===t?"y":"x";a[n+"Axis"].length?(i[n+"AxisIndex"]=[0],e=!1):WS(a.singleAxis,(function(a){e&&a.get("orient",!0)===t&&(i.singleAxisIndex=[a.componentIndex],e=!1)}))}e&&YS((function(t){if(e){var a=[],n=this.dependentModels[t.axis];if(n.length&&!a.length)for(var r=0,s=n.length;s>r;r++)"category"===n[r].get("type")&&a.push(r);i[t.axisIndex]=a,a.length&&(e=!1)}}),this),e&&this.ecModel.eachSeries((function(e){this._isSeriesHasAllAxesTypeOf(e,"value")&&YS((function(t){var a=i[t.axisIndex],n=e.get(t.axisIndex),r=e.get(t.axisId),s=e.ecModel.queryComponents({mainType:t.axis,index:n,id:r})[0];if(Hp&&!s)throw new Error(t.axis+' "'+P(n,r,0)+'" not found');u(a,n=s.componentIndex)<0&&a.push(n)}))}),this)},_autoSetOrient:function(){var e;this.eachTargetAxis((function(t){!e&&(e=t.name)}),this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(e,t){var i=!0;return YS((function(a){var n=e.get(a.axisIndex),r=this.dependentModels[a.axis][n];r&&r.get("type")===t||(i=!1)}),this),i},_setDefaultThrottle:function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var t=this.ecModel.option;this.option.throttle=t.animation&&t.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var e;return YS((function(t){if(null==e){var i=this.get(t.axisIndex);i.length&&(e=this.dependentModels[t.axis][i[0]])}}),this),e},eachTargetAxis:function(e,t){var i=this.ecModel;YS((function(a){WS(this.get(a.axisIndex),(function(n){e.call(t,a,n,this,i)}),this)}),this)},getAxisProxy:function(e,t){return this._axisProxies[e+"_"+t]},getAxisModel:function(e,t){var i=this.getAxisProxy(e,t);return i&&i.getAxisModel()},setRawRange:function(e){var t=this.option,i=this.settledOption;WS([["start","startValue"],["end","endValue"]],(function(a){(null!=e[a[0]]||null!=e[a[1]])&&(t[a[0]]=i[a[0]]=e[a[0]],t[a[1]]=i[a[1]]=e[a[1]])}),this),hp(this,e)},setCalculatedRange:function(e){var t=this.option;WS(["start","startValue","end","endValue"],(function(i){t[i]=e[i]}))},getPercentRange:function(){var e=this.findRepresentativeAxisProxy();return e?e.getDataPercentWindow():void 0},getValueRange:function(e,t){if(null!=e||null!=t)return this.getAxisProxy(e,t).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(e){if(e)return e.__dzAxisProxy;var t=this._axisProxies;for(var i in t)if(t.hasOwnProperty(i)&&t[i].hostedBy(this))return t[i];for(var i in t)if(t.hasOwnProperty(i)&&!t[i].hostedBy(this))return t[i]},getRangePropMode:function(){return this._rangePropMode.slice()}}),JS=y_.extend({type:"dataZoom",render:function(e,t,i){this.dataZoomModel=e,this.ecModel=t,this.api=i},getTargetCoordInfo:function(){function e(e,t,i,a){for(var n,r=0;r<i.length;r++)if(i[r].model===e){n=i[r];break}n||i.push(n={model:e,axisModels:[],coordIndex:a}),n.axisModels.push(t)}var t=this.dataZoomModel,i=this.ecModel,a={};return t.eachTargetAxis((function(t,n){var r=i.getComponent(t.axis,n);if(r){var s=r.getCoordSysModel();s&&e(s,r,a[s.mainType]||(a[s.mainType]=[]),s.componentIndex)}}),this),a}}),QS=(KS.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),Ag),eC=xr,tC=Cr,iC=_,aC=f,nC=7,rC=1,sC=30,oC="horizontal",lC="vertical",cC=5,uC=["line","bar","candlestick","scatter"],dC=JS.extend({type:"dataZoom.slider",init:function(e,t){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=t},render:function(e,t,i,a){return dC.superApply(this,"render",arguments),bo(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=e.get("orient"),!1===this.dataZoomModel.get("show")?void this.group.removeAll():(a&&"dataZoom"===a.type&&a.from===this.uid||this._buildView(),void this._updateView())},remove:function(){dC.superApply(this,"remove",arguments),xo(this,"_dispatchZoomAction")},dispose:function(){dC.superApply(this,"dispose",arguments),xo(this,"_dispatchZoomAction")},_buildView:function(){var e=this.group;e.removeAll(),this._resetLocation(),this._resetInterval();var t=this._displayables.barGroup=new ov;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(t),this._positionGroup()},_resetLocation:function(){var e=this.dataZoomModel,t=this.api,i=this._findCoordRect(),a={width:t.getWidth(),height:t.getHeight()},n=this._orient===oC?{right:a.width-i.x-i.width,top:a.height-sC-nC,width:i.width,height:sC}:{right:nC,top:i.y,width:sC,height:i.height},r=es(e.option);f(["right","top","width","height"],(function(e){"ph"===r[e]&&(r[e]=n[e])}));var s=Kr(r,a,e.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===lC&&this._size.reverse()},_positionGroup:function(){var e=this.group,t=this._location,i=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),n=a&&a.get("inverse"),r=this._displayables.barGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(i!==oC||n?i===oC&&n?{scale:s?[-1,1]:[-1,-1]}:i!==lC||n?{scale:s?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:s?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:s?[1,1]:[1,-1]});var o=e.getBoundingRect([r]);e.attr("position",[t.x-o.x,t.y-o.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var e=this.dataZoomModel,t=this._size,i=this._displayables.barGroup;i.add(new QS({silent:!0,shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:e.get("backgroundColor")},z2:-40})),i.add(new QS({shape:{x:0,y:0,width:t[0],height:t[1]},style:{fill:"transparent"},z2:0,onclick:_(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(e){var t=this._size,i=e.series,a=i.getRawData(),n=i.getShadowDim?i.getShadowDim():e.otherDim;if(null!=n){var r=a.getDataExtent(n),s=.3*(r[1]-r[0]);r=[r[0]-s,r[1]+s];var o,c=[0,t[1]],u=[0,t[0]],d=[[t[0],0],[0,0]],h=[],p=u[1]/(a.count()-1),f=0,v=Math.round(a.count()/t[0]);a.each([n],(function(e,t){if(v>0&&t%v)f+=p;else{var i=null==e||isNaN(e)||""===e,a=i?0:eC(e,r,c,!0);i&&!o&&t?(d.push([d[d.length-1][0],0]),h.push([h[h.length-1][0],0])):!i&&o&&(d.push([f,0]),h.push([f,0])),d.push([f,a]),h.push([f,a]),f+=p,o=i}}));var m=this.dataZoomModel;this._displayables.barGroup.add(new Dg({shape:{points:d},style:l({fill:m.get("dataBackgroundColor")},m.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new Mg({shape:{points:h},style:m.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var e=this.dataZoomModel,t=e.get("showDataShadow");if(!1!==t){var i,a=this.ecModel;return e.eachTargetAxis((function(n,r){f(e.getAxisProxy(n.name,r).getTargetSeriesModels(),(function(e){if(!(i||!0!==t&&u(uC,e.get("type"))<0)){var s,o=a.getComponent(n.axis,r).axis,l=pp(n.name),c=e.coordinateSystem;null!=l&&c.getOtherAxis&&(s=c.getOtherAxis(o).inverse),l=e.getData().mapDimension(l),i={thisAxis:o,series:e,thisDim:n.name,otherDim:l,otherAxisInverse:s}}}),this)}),this),i}},_renderHandle:function(){var e=this._displayables,t=e.handles=[],i=e.handleLabels=[],a=this._displayables.barGroup,n=this._size,r=this.dataZoomModel;a.add(e.filler=new QS({draggable:!0,cursor:fp(this._orient),drift:iC(this._onDragMove,this,"all"),ondragstart:iC(this._showDataInfo,this,!0),ondragend:iC(this._onDragEnd,this),onmouseover:iC(this._showDataInfo,this,!0),onmouseout:iC(this._showDataInfo,this,!1),style:{fill:r.get("fillerColor"),textPosition:"inside"}})),a.add(new QS({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:rC,fill:"rgba(0,0,0,0)"}})),aC([0,1],(function(e){var n=cr(r.get("handleIcon"),{cursor:fp(this._orient),draggable:!0,drift:iC(this._onDragMove,this,e),ondragend:iC(this._onDragEnd,this),onmouseover:iC(this._showDataInfo,this,!0),onmouseout:iC(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),s=n.getBoundingRect();this._handleHeight=wr(r.get("handleSize"),this._size[1]),this._handleWidth=s.width/s.height*this._handleHeight,n.setStyle(r.getModel("handleStyle").getItemStyle());var o=r.get("handleColor");null!=o&&(n.style.fill=o),a.add(t[e]=n);var l=r.textStyleModel;this.group.add(i[e]=new wg({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:l.getTextColor(),textFont:l.getFont()},z2:10}))}),this)},_resetInterval:function(){var e=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[eC(e[0],[0,100],t,!0),eC(e[1],[0,100],t,!0)]},_updateInterval:function(e,t){var i=this.dataZoomModel,a=this._handleEnds,n=this._getViewExtent(),r=i.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];qS(t,a,n,i.get("zoomLock")?"all":e,null!=r.minSpan?eC(r.minSpan,s,n,!0):null,null!=r.maxSpan?eC(r.maxSpan,s,n,!0):null);var o=this._range,l=this._range=tC([eC(a[0],n,s,!0),eC(a[1],n,s,!0)]);return!o||o[0]!==l[0]||o[1]!==l[1]},_updateView:function(e){var t=this._displayables,i=this._handleEnds,a=tC(i.slice()),n=this._size;aC([0,1],(function(e){var a=t.handles[e],r=this._handleHeight;a.attr({scale:[r/2,r/2],position:[i[e],n[1]/2-r/2]})}),this),t.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:n[1]}),this._updateDataInfo(e)},_updateDataInfo:function(e){function t(e){var t=ar(a.handles[e].parent,this.group),i=rr(0===e?"right":"left",t),o=this._handleWidth/2+cC,l=nr([d[e]+(0===e?-o:o),this._size[1]/2],t);n[e].setStyle({x:l[0],y:l[1],textVerticalAlign:r===oC?"middle":i,textAlign:r===oC?i:"center",text:s[e]})}var i=this.dataZoomModel,a=this._displayables,n=a.handleLabels,r=this._orient,s=["",""];if(i.get("showDetail")){var o=i.findRepresentativeAxisProxy();if(o){var l=o.getAxisModel().axis,c=this._range,u=e?o.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:o.getDataValueWindow();s=[this._formatLabel(u[0],l),this._formatLabel(u[1],l)]}}var d=tC(this._handleEnds.slice());t.call(this,0),t.call(this,1)},_formatLabel:function(e,t){var i=this.dataZoomModel,a=i.get("labelFormatter"),n=i.get("labelPrecision");(null==n||"auto"===n)&&(n=t.getPixelPrecision());var r=null==e||isNaN(e)?"":"category"===t.type||"time"===t.type?t.scale.getLabel(Math.round(e)):e.toFixed(Math.min(n,20));return w(a)?a(e,r):S(a)?a.replace("{value}",r):r},_showDataInfo:function(e){e=this._dragging||e;var t=this._displayables.handleLabels;t[0].attr("invisible",!e),t[1].attr("invisible",!e)},_onDragMove:function(e,t,i,a){this._dragging=!0,Sf(a.event);var n=nr([t,i],this._displayables.barGroup.getLocalTransform(),!0),r=this._updateInterval(e,n[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),r&&s&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(e){var t=this._size,i=this._displayables.barGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>t[0]||i[1]<0||i[1]>t[1])){var a=this._handleEnds,n=(a[0]+a[1])/2,r=this._updateInterval("all",i[0]-n);this._updateView(),r&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var e=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:e[0],end:e[1]})},_findCoordRect:function(){var e;if(aC(this.getTargetCoordInfo(),(function(t){if(!e&&t.length){var i=t[0].model.coordinateSystem;e=i.getRect&&i.getRect()}})),!e){var t=this.api.getWidth(),i=this.api.getHeight();e={x:.2*t,y:.2*i,width:.6*t,height:.6*i}}return e}});Il({getTargetSeries:function(e){var t=F();return e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(e,i,a){f(a.getAxisProxy(e.name,i).getTargetSeriesModels(),(function(e){t.set(e.uid,e)}))}))})),t},modifyOutputEnd:!0,overallReset:function(e,t){e.eachComponent("dataZoom",(function(e){e.eachTargetAxis((function(e,i,a){a.getAxisProxy(e.name,i).reset(a,t)})),e.eachTargetAxis((function(e,i,a){a.getAxisProxy(e.name,i).filterData(a,t)}))})),e.eachComponent("dataZoom",(function(e){var t=e.findRepresentativeAxisProxy(),i=t.getDataPercentWindow(),a=t.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:a[0],endValue:a[1]})}))}}),Ol("dataZoom",(function(e,t){var i=np(_(t.eachComponent,t,"dataZoom"),HS,(function(e,t){return e.get(t.axisIndex)})),a=[];t.eachComponent({mainType:"dataZoom",query:e},(function(e){a.push.apply(a,i(e).nodes)})),f(a,(function(t){t.setRawRange({start:e.start,end:e.end,startValue:e.startValue,endValue:e.endValue})}))})),KS.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var hC="\0_ec_interaction_mutex";Ol({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){})),h(gp,mf);var pC="\0_ec_dataZoom_roams",fC=_,vC=JS.extend({type:"dataZoom.inside",init:function(){this._range},render:function(e,t,i){vC.superApply(this,"render",arguments),this._range=e.getPercentRange(),f(this.getTargetCoordInfo(),(function(t,a){var n=v(t,(function(e){return Tp(e.model)}));f(t,(function(t){var r=t.model,s={};f(["pan","zoom","scrollMove"],(function(e){s[e]=fC(mC[e],this,t,a)}),this),kp(i,{coordId:Tp(r),allCoordIds:n,containsPoint:function(e,t,i){return r.coordinateSystem.containPoint([t,i])},dataZoomId:e.id,dataZoomModel:e,getRange:s})}),this)}),this)},dispose:function(){Op(this.api,this.dataZoomModel.id),vC.superApply(this,"dispose",arguments),this._range=null}}),mC={zoom:function(e,t,i,a){var n=this._range,r=n.slice(),s=e.axisModels[0];if(s){var o=gC[t](null,[a.originX,a.originY],s,i,e),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(r[1]-r[0])+r[0],c=Math.max(1/a.scale,0);r[0]=(r[0]-l)*c+l,r[1]=(r[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return qS(0,r,[0,100],0,u.minSpan,u.maxSpan),this._range=r,n[0]!==r[0]||n[1]!==r[1]?r:void 0}},pan:Ap((function(e,t,i,a,n,r){var s=gC[a]([r.oldX,r.oldY],[r.newX,r.newY],t,n,i);return s.signal*(e[1]-e[0])*s.pixel/s.pixelLength})),scrollMove:Ap((function(e,t,i,a,n,r){return gC[a]([0,0],[r.scrollDelta,r.scrollDelta],t,n,i).signal*(e[1]-e[0])*r.scrollDelta}))},gC={grid:function(e,t,i,a,n){var r=i.axis,s={},o=n.model.coordinateSystem.getRect();return e=e||[0,0],"x"===r.dim?(s.pixel=t[0]-e[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=r.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=r.inverse?-1:1),s},polar:function(e,t,i,a,n){var r=i.axis,s={},o=n.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),c=o.getAngleAxis().getExtent();return e=e?o.pointToCoord(e):[0,0],t=o.pointToCoord(t),"radiusAxis"===i.mainType?(s.pixel=t[0]-e[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=r.inverse?1:-1):(s.pixel=t[1]-e[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=r.inverse?-1:1),s},singleAxis:function(e,t,i,a,n){var r=i.axis,s=n.model.coordinateSystem.getRect(),o={};return e=e||[0,0],"horizontal"===r.orient?(o.pixel=t[0]-e[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=r.inverse?1:-1):(o.pixel=t[1]-e[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=r.inverse?-1:1),o}},yC={path:null,compoundPath:null,group:ov,image:Ti,text:wg};Cl((function(e){var t=e.graphic;x(t)?e.graphic=t[0]&&t[0].elements?[e.graphic[0]]:[{elements:t}]:t&&!t.elements&&(e.graphic=[{elements:[t]}])}));var _C=Al({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(){var e=this.option.elements;this.option.elements=null,_C.superApply(this,"mergeOption",arguments),this.option.elements=e},optionUpdated:function(e,t){var i=this.option,a=(t?i:e).elements,n=i.elements=t?[]:i.elements,r=[];this._flatten(a,r);var s=na(n,r);ra(s);var o=this._elOptionsToUpdate=[];f(s,(function(e,t){var i=e.option;Hp&&A(C(i)||e.exist,"Empty graphic option definition"),i&&(o.push(i),Fp(e,i),$p(n,t,i),zp(n[t],i))}),this);for(var l=n.length-1;l>=0;l--)null==n[l]?n.splice(l,1):delete n[l].$action},_flatten:function(e,t,i){f(e,(function(e){if(e){i&&(e.parentOption=i),t.push(e);var a=e.children;"group"===e.type&&a&&this._flatten(a,t,e),delete e.children}}),this)},useElOptionsToUpdate:function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e}});jl({type:"graphic",init:function(){this._elMap=F(),this._lastGraphicModel},render:function(e,t,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},_updateElements:function(e){var t=e.useElOptionsToUpdate();if(t){var i=this._elMap,a=this.group;f(t,(function(t){var n=t.$action,r=t.id,s=i.get(r),o=t.parentId,l=null!=o?i.get(o):a,c=t.style;"text"===t.type&&c&&(t.hv&&t.hv[1]&&(c.textVerticalAlign=c.textBaseline=null),!c.hasOwnProperty("textFill")&&c.fill&&(c.textFill=c.fill),!c.hasOwnProperty("textStroke")&&c.stroke&&(c.textStroke=c.stroke));var u=Vp(t);Hp&&s&&A(l===s.parent,"Changing parent is not supported."),n&&"merge"!==n?"replace"===n?(Np(s,i),jp(r,l,u,i)):"remove"===n&&Np(s,i):s?s.attr(u):jp(r,l,u,i);var d=i.get(r);d&&(d.__ecGraphicWidthOption=t.width,d.__ecGraphicHeightOption=t.height,Bp(d,e,t))}))}},_relocate:function(e,t){for(var i=e.option.elements,a=this.group,n=this._elMap,r=t.getWidth(),s=t.getHeight(),o=0;o<i.length;o++){var l=i[o];if((u=n.get(l.id))&&u.isGroup){var c=(d=u.parent)===a;u.__ecGraphicWidth=wr(u.__ecGraphicWidthOption,c?r:d.__ecGraphicWidth)||0,u.__ecGraphicHeight=wr(u.__ecGraphicHeightOption,c?s:d.__ecGraphicHeight)||0}}for(o=i.length-1;o>=0;o--){var u,d;l=i[o],(u=n.get(l.id))&&Jr(u,l,(d=u.parent)===a?{width:r,height:s}:{width:d.__ecGraphicWidth,height:d.__ecGraphicHeight},null,{hv:l.hv,boundingMode:l.bounding})}},_clear:function(){var e=this._elMap;e.each((function(t){Np(t,e)})),this._elMap=F()},dispose:function(){this._clear()}}),e.version=ob,e.dependencies=lb,e.PRIORITY=vb,e.init=gl,e.connect=yl,e.disConnect=_l,e.disconnect=jb,e.dispose=bl,e.getInstanceByDom=xl,e.getInstanceById=wl,e.registerTheme=Sl,e.registerPreprocessor=Cl,e.registerProcessor=Il,e.registerPostUpdate=kl,e.registerAction=Ol,e.registerCoordinateSystem=Tl,e.getCoordinateSystemDimensions=Pl,e.registerLayout=Dl,e.registerVisual=Ml,e.registerLoading=El,e.extendComponentModel=Al,e.extendComponentView=jl,e.extendSeriesModel=Nl,e.extendChartView=Vl,e.setCanvasCreator=Rl,e.registerMap=Fl,e.getMap=$l,e.dataTool=Nb,e.zrender=rm,e.number=my,e.format=Sy,e.throttle=_o,e.helper=Rx,e.matrix=Df,e.vector=ff,e.color=Wf,e.parseGeoJSON=$x,e.parseGeoJson=Hx,e.util=qx,e.graphic=Gx,e.List=Xb,e.Model=fr,e.Axis=Zx,e.env=Up}(t)},55867:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(56318));i(57024),i(61026),i(87033),i(35948),i(94522),i(9042),i(5580);var r=a(i(6089)),s="ACCOUNT_SELECT_LAST",o={props:{value:{type:[Number,String]},type:{type:String,validator:function(e){return["system","db"].includes(e)}}},data:()=>({isLoading:!1,wholeList:[{},{},{}],systemAccountList:[{},{},{}],dbAccountList:[{},{},{}]}),computed:{accountList(){return"system"===this.type?this.systemAccountList:"db"===this.type?this.dbAccountList:this.wholeList}},watch:{type(){this.initDefaultAccount()}},created(){this.fetchAppAccount()},methods:{fetchAppAccount(){var e=this;this.isLoading=!0,r.default.fetchAccountWhole().then((function(t){var i=[],a=[];t.forEach((function(e){e.isSystem?i.push(e):a.push(e)})),e.systemAccountList=Object.freeze(i),e.dbAccountList=Object.freeze(a),e.wholeList=Object.freeze(t),e.initDefaultAccount()})).finally((function(){e.isLoading=!1}))},initDefaultAccount(){var e=this;if(this.value)this.accountList.find((function(t){return t.id===e.value}))||this.handleChange("");else{var t=~~localStorage.getItem(s);if(t&&this.accountList.find((function(e){return e.id===t})))this.handleChange(t);else{var i=this.accountList.find((function(e){return"root"===e.alias}));if(i)this.handleChange(i.id);else{var a=(0,n.default)(this.accountList,1)[0];a&&this.handleChange(a.id)}}}},handleCreate(){var e=this.$router.resolve({name:"accountList"}).href;this.$refs.select.close(),window.open(e)},handleClick(e){e&&this.fetchAppAccount()},handleChange(e){e!==this.value&&(localStorage.setItem(s,e),this.$emit("input",e),this.$emit("change",e))}}};t.Z=o},55738:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X$",{value:!0}),t.ZP=t.nI=void 0,i(71959),i(87033),i(63762),i(78004),i(57024),i(35948),i(70969),i(7170),i(35927),i(6919),i(94522),i(92974),i(70201),i(61026),i(93282);var n=a(i(32558)),r=a(i(97122)),s=a(i(83491)),o=a(i(77094)),l=a(i(18306)),c=i(1064),u=a(i(77789));i(59388),i(49257),i(9738),i(96408),i(7263),i(55085),i(32083),i(33706),i(15093),i(34623),i(80825),i(83181),i(76914),i(95960),i(57629),i(79142),i(56249);var d=a(i(81865)),h=a(i(44068)),p=a(i(12e3)),f=a(i(49135)),v=a(i(94498)),m=a(i(63715)),g=i(41980),y=a(i(42152)),_=Object.keys(y.default).reduce((function(e,t){return e[t]=c.Base64.encode(y.default[t]),e}),{});t.nI=_;var b=u.default.require("ace/ext/language_tools"),x={Shell:"sh",Bat:"batchfile",Perl:"perl",Python:"python",Powershell:"powershell",SQL:"sql"},w="ace_editor_history",S={name:"AceEditor",components:{ScrollFaker:v.default,Empty:m.default},inheritAttrs:!1,props:{value:{type:String},height:{type:Number,default:480},readonly:{type:Boolean,default:!1},readonlyTips:{type:String,default:"只读模式不支持编辑"},lang:{type:String,required:!0},options:{type:[String,Array],default:function(){return Object.keys(x)}},customEnable:{type:Boolean,default:!0},constants:{type:Array,default:function(){return[]}},beforeLangChange:{type:Function,default:function(){return Promise.resolve()}}},data(){return{isLoading:!1,content:"",currentLang:this.lang,isFullScreen:!1,isShowHistoryPanel:!1,tabHeight:40,historyList:[{},{},{}],currentUser:{}}},computed:{boxStyle(){var e={position:"absolute",top:0,left:0,width:"100%",height:"100%"};return this.isFullScreen&&(e.position="fixed",e.zIndex=window.__bk_zIndex_manager.nextZIndex(),e.height="100vh"),e},editorStyle(){var e=this.showTabHeader?40:0;return{height:this.isFullScreen?"calc(100vh - ".concat(e,"px)"):"".concat(this.height-e,"px")}},showTabHeader(){return"string"!=typeof this.options},tabList(){return Array.isArray(this.options)?this.options.reduce((function(e,t){return Object.prototype.hasOwnProperty.call(x,t)&&(e[t]=x[t]),e}),{}):[]},mode(){return"ace/mode/".concat(x[this.currentLang])}},watch:{value:{handler(e){if(this.readonly&&(this.editor.setValue(c.Base64.decode(e)),this.editor.clearSelection()),""!==e||""===this.content){var t=c.Base64.decode(e);this.content!==t&&(this.editor.setValue(t),this.editor.clearSelection())}else this.editor.setValue("")}},lang(e){var t=this;this.currentLang!==e&&(this.currentLang=e,setTimeout((function(){t.editor.getSession().setMode(t.mode)})))},readonly(e){this.editor.setReadOnly(e)},constants:{handler(){},immediate:!0}},created(){var e=this;this.selfId="ace_editor_".concat((0,l.default)(1,1e3),"_").concat(Date.now()),this.valueMemo={},this.hasChanged=!1,this.historyEnable=!1,this.historyTimer="",this.fetchUserInfo(),this.fetchTemplate(),this.syntaxCheck=(0,o.default)((function(t){h.default.getScriptValidation({content:t,scriptType:(0,g.formatScriptTypeValue)(e.currentLang)}).then((function(t){e.$store.commit("setScriptCheckError",(0,s.default)(t,(function(e){return e.isDangerous}))),e.editor.getSession().setAnnotations(t)}))}),300),this.completer={getCompletions:function(t,i,a,n,r){r(null,e.constants.map((function(e){return{name:e.name,value:"${".concat(e.name,"}"),caption:e.name,meta:"Global Variable",type:e.typeDescription,description:e.description,score:1e3}})))},getDocTooltip(e){var t;"Global Variable"===e.meta&&e.description&&(e.docHTML=["<b>description</b>","<hr />",(t=e.description,t.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;"))].join(""))}}},beforeDestroy(){this.handleExitFullScreen()},mounted(){var e=this;this.initEditor(),b.addCompleter(this.completer),document.body.addEventListener("click",this.handleHideHistory),document.body.addEventListener("keyup",this.handleExitByESC),this.$once("hook:beforeDestroy",(function(){clearTimeout(e.historyTimer),e.isChange&&e.pushLocalStorage(),(0,r.default)(e.editor.completers,(function(t){return t===e.completer})),document.body.removeEventListener("click",e.handleHideHistory),document.body.removeEventListener("keyup",e.handleExitByESC)}))},methods:{fetchUserInfo(){var e=this;f.default.fetchUserInfo().then((function(t){e.currentUser=Object.freeze(t)}))},fetchTemplate(){var e=this;this.isLoading=!0,(this.customEnable?d.default.fetchTemplate():Promise.resolve([])).then((function(t){var i=t.reduce((function(e,t){return e[(0,g.formatScriptTypeValue)(t.scriptLanguage)]=c.Base64.decode(t.scriptContent),e}),{});e.defaultScriptMap=Object.assign({},y.default,i),e.content=e.readonly||e.value?c.Base64.decode(e.value||""):e.defaultScriptMap[e.lang],e.editor.setValue(e.content),e.editor.scrollToLine(1/0),e.editor.clearSelection()})).finally((function(){e.isLoading=!1}))},initEditor(){var e=this,t=u.default.edit(this.selfId);t.getSession().setMode(this.mode),t.setOptions({fontSize:13,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,wrapBehavioursEnabled:!0,autoScrollEditorIntoView:!0,copyWithEmptySelection:!0,useElasticTabstops:!0,printMarginColumn:!0,printMargin:80,scrollPastEnd:.2}),t.setTheme("ace/theme/monokai"),t.setShowPrintMargin(!1),t.$blockScrolling=1/0,t.setReadOnly(this.readonly),t.on("change",(function(){e.content=t.getValue();var i=c.Base64.encode(e.content);e.content&&!e.readonly&&e.syntaxCheck(i),e.editor.getSession().setAnnotations([]),e.historyEnable&&(e.hasChanged=!0),e.$emit("input",i),e.$emit("change",i)})),t.on("focus",(function(){e.historyEnable=!0})),t.on("paste",(function(e){var t,i;e.text=(t=e.text,(i=document.createElement("textarea")).value=t,i.value)})),this.editor=t,this.$once("hook:beforeDestroy",(function(){t.destroy(),t.container.remove()})),this.watchEditAction();var i=document.querySelector("#".concat(this.selfId));i.addEventListener("keydown",this.handleReadonlyWarning),this.$once("hook:beforeDestroy",(function(){i.removeEventListener("keydown",e.handleReadonlyWarning)}))},resize(){var e=this;this.$nextTick((function(){e.editor.resize()}))},setValue(e){this.editor.setValue(c.Base64.decode(e)),this.editor.clearSelection(),this.editor.scrollToLine(1/0)},resetValue(){this.editor.setValue(this.defaultScriptMap[this.lang]),this.editor.clearSelection(),this.editor.scrollToLine(1/0)},watchEditAction(){var e=this;this.readonly||(this.historyTimer=setTimeout((function(){e.historyEnable&&e.hasChanged&&e.pushLocalStorage(),e.hasChanged=!1,e.watchEditAction()}),6e4))},pushLocalStorage(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"自动保存";if(this.value){var t="".concat(e,"_").concat(window.PROJECT_CONFIG.SCOPE_TYPE,"_").concat(window.PROJECT_CONFIG.SCOPE_ID,"_").concat(this.currentUser.username,"_").concat((0,g.prettyDateTimeFormat)(Date.now())),i=JSON.parse(localStorage.getItem(w));(0,n.default)(i)||(i=[]),i.length>0&&i[0].content===this.value||(i.unshift({name:t,content:this.value,lang:this.lang}),localStorage.setItem(w,JSON.stringify(i.slice(0,25))))}},handleReadonlyWarning(e){this.readonly&&("textarea"===e.target.type&&(["Escape","Meta","ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight"].includes(e.code)||(!e.metaKey&&!e.ctrlKey||["KeyV","KeyX"].includes(e.code))&&this.messageWarn(this.readonlyTips)))},handleLangChange(e){var t=this;if(!this.readonly&&this.currentLang!==e){var i=this.beforeLangChange();Promise.resolve().then((function(){return"function"==typeof i.then?i:i?Promise.resolve():Promise.reject(new Error("error"))})).then((function(){t.$emit("on-mode-change",e),t.valueMemo[t.currentLang]=t.content,t.currentLang=e,t.editor.getSession().setMode(t.mode),Object.prototype.hasOwnProperty.call(t.valueMemo,t.currentLang)?t.editor.setValue(t.valueMemo[t.currentLang]):t.editor.setValue(t.defaultScriptMap[t.currentLang]),t.editor.clearSelection()}))}},handleShowHistory(){var e=JSON.parse(localStorage.getItem(w));(0,n.default)(e)?this.historyList=Object.freeze(e):this.historyList=[],this.isShowHistoryPanel=!0},handleHideHistory(){this.isShowHistoryPanel=!1},handleChangeValueFromHistory(e){this.$emit("on-mode-change",e.lang),this.editor.setValue(c.Base64.decode(e.content)),this.editor.clearSelection(),this.handleHideHistory()},handleSaveHistory:(0,o.default)((function(){this.pushLocalStorage("手动保存"),this.handleShowHistory()}),300),handleUploadScript(){this.$refs.upload.click()},handleStartUpload(e){var t=this,i=e.target.files;if(i.length){var a=i[0].name,n=a.substr(a.lastIndexOf(".")+1),r={sh:"Shell",bat:"Bat",pl:"Perl",py:"Python",ps1:"powershell",sql:"SQL"};if(r[n]){this.isLoading=!0;var s=new FormData;s.append("script",i[0]),p.default.getUploadContent(s).then((function(e){t.handleLangChange(r[n]),t.editor.setValue(c.Base64.decode(e.content))})).finally((function(){t.isLoading=!1})),this.$refs.upload.value=""}else this.$bkMessage({theme:"error",message:"脚本类型不支持"})}},handleFullScreen(){var e=this;this.isFullScreen=!0,this.messageInfo("按 Esc 即可退出全屏模式"),document.body.appendChild(this.$refs.contentWrapper),this.$nextTick((function(){e.editor.resize()}))},handleExitFullScreen(){var e=this;this.isFullScreen=!1,this.$refs.aceEditor.appendChild(this.$refs.contentWrapper),this.$nextTick((function(){e.editor.resize()}))},handleExitByESC(e){"Escape"===e.code&&this.isFullScreen&&this.handleExitFullScreen()}}};t.ZP=S},66437:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(16513)),r={components:{AskPermission:a(i(51801)).default},data:()=>({isAppleFlag:!0,isNotPermission:!1}),created(){var e=this;this.applyText="去申请",this.appliedText="已申请",n.default.$once("permission-catch",this.permissionHold),this.$once("hook:beforeDestroy",(function(){n.default.$off("permission-catch",e.permissionHold)}))},methods:{permissionHold(e){this.isNotPermission=!0,this.authResult=e},handleApply(){window.open(this.authResult.applyUrl,"_blank"),this.isAppleFlag=!1},handleReload(){location.reload()}}};t.Z=r},44769:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(77094)),r=i(41980),s={name:"",props:{target:{type:Function,default:function(){return document.querySelector(".jb-navigation-main").querySelector(".scroll-faker-content")}},size:{type:String,default:"normal"},fixed:{type:Boolean,default:!0}},data:()=>({isShow:!1}),computed:{classes(){return"theme-".concat(this.size)},styles(){return this.fixed?{position:"fixed",right:"34px",bottom:"92px"}:{}}},mounted(){var e=this;this.smartPosition(),window.addEventListener("resize",this.smartPosition);var t=new MutationObserver((function(t){e.smartPosition()}));t.observe(this.target(),{subtree:!0,childList:!0,attributeName:!0,characterData:!0}),this.$once("hook:beforeDestroy",(function(){t.takeRecords(),t.disconnect(),window.removeEventListener("resize",e.smartPosition)}))},methods:{smartPosition:(0,n.default)((function(){var e=this.target();if(e){var t=e.getBoundingClientRect().height,i=e.scrollHeight;this.isShow=i>t+30}}),300),handleBackTop(){var e=this.target();(0,r.scrollTopSmooth)(e,0)}}};t.Z=s},56244:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(70969),i(87033),i(9042),i(7170),i(23232),i(80433);var a=i(41980),n={},r={name:"ChooseIpExtendAction",props:{list:{type:Array,default:function(){return[]}},invalidList:{type:Array,default:function(){return[]}},copyable:{type:Boolean,default:!1}},created(){this.id="action_extend_".concat(Math.random(),"_").concat(Math.random())},mounted(){this.init()},beforeDestroy(){n[this.id].hide(),delete n[this.id]},methods:{init(){var e=this;n[this.id]=this.$bkPopover(this.$el,{theme:"server-panel-action-extend-popover",interactive:!0,placement:"bottom",content:this.$refs.popoverContent,trigger:"mouseover",arrow:!0,onShow:function(){Object.keys(n).forEach((function(t){t!==e.id&&n[t].hide()}))}})},handleWraperClick(){this.handleClose()},handleHide(){var e=this;this.leaveTimer=setTimeout((function(){e.handleClose()}),3e3)},handleCopyAll(){if(this.list.length<1&&this.invalidList.length<1)this.messageWarn("你还未选择主机");else{var e=this.list.map((function(e){return e.ip})),t=this.invalidList.map((function(e){return e.ip}));e=[...e,...t],(0,a.execCopy)(e.join("\n"),"复制成功".concat("（",e.length,"个IP","）"))}},handleCopyFail(){if(this.list.length<1&&this.invalidList.length<1)this.messageWarn("你还未选择主机");else{var e=[];if(this.list.forEach((function(t){t.alive||e.push(t.ip)})),e.length<1&&this.invalidList.length<1)this.messageWarn("暂无异常主机");else{var t=this.invalidList.map((function(e){return e.ip}));e=[...e,...t],(0,a.execCopy)(e.join("\n"),"复制成功".concat("（",e.length,"个异常IP","）"))}}},handleShow(){clearTimeout(this.leaveTimer)},handleClose(){n[this.id]&&n[this.id].hide()}}};t.Z=r},54073:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(70969),i(87033),i(9042);var a={},n={name:"JbPopoverConfirm",created(){this.id="dropdown_menu_".concat(Math.random(),"_").concat(Math.random())},mounted(){this.init()},beforeDestroy(){a[this.id].hide(),delete a[this.id]},methods:{init(){var e=this;a[this.id]=this.$bkPopover(this.$el,{theme:"server-panel-dropdown-menu-popover",interactive:!0,placement:"bottom-start",content:this.$refs.popoverContent,trigger:"mouseover",arrow:!0,onShow:function(){Object.keys(a).forEach((function(t){t!==e.id&&a[t].hide()}))}})},handleHide(){var e=this;this.leaveTimer=setTimeout((function(){a[e.id].hide()}),2e3)},handleShow(){clearTimeout(this.leaveTimer)},handleClose(){a[this.id].hide()}}};t.Z=n},79447:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(70201);var n={name:"",components:{Empty:a(i(63715)).default},props:{list:{type:Array,required:!0},editable:{type:Boolean,default:!1},maxHeight:{type:Number,default:-1},appendNums:{type:Number,default:0},diff:{type:Object,default:function(){return{}}},isSearch:{type:Boolean,default:!1}},data:()=>({page:1,offset:30}),computed:{styles(){var e={width:"100%"};return this.list.length+this.appendNums>10&&this.maxHeight>0&&(e.height="410px"),e},renderList(){return Object.freeze(this.list.slice(0,this.page*this.offset))},isShowMorePage(){return this.renderList.length<this.list.length},isEmpty(){return this.list.length<1&&!this.$slots.appendBefore},emptyType(){return this.isSearch?"search":""}},methods:{handleRemove(e){this.$emit("on-change",e)},handlePage(){this.page+=1}}};t.Z=n},56689:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i={name:"",props:{value:{type:String,default:""},placeholder:String},data(){return{localValue:this.value,focused:!1}},computed:{stylees(){var e={};return this.focused?e["z-index"]=9999:(e.height="30px",e.overflow="hidden",e["white-space"]="pre",e["text-overflow"]="ellipsis"),e},showPlaceholder(){return!this.focused&&!this.localValue}},methods:{handleInputFocus(){var e=this;this.$refs.input.focus(),setTimeout((function(){e.$refs.input.selectionStart=e.localValue.length,e.$refs.input.selectionEnd=e.localValue.length}))},handleInput(e){var t=e.target.outerText;this.localValue=t,this.$emit("input",t),this.$emit("change",t)},handleFocus(){this.focused=!0},handleBlur(){this.focused=!1,this.$refs.input.scrollTop=0},handlePaste(e){e.preventDefault(),e.stopPropagation();var t="",i=e.originalEvent||e;i.clipboardData&&i.clipboardData.getData?t=i.clipboardData.getData("text/plain"):window.clipboardData&&window.clipboardData.getData&&(t=window.clipboardData.getData("Text")),document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,t):document.execCommand("paste",!1,t)}}};t.Z=i},52885:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522);var n=a(i(48373)),r=a(i(65442)),s=a(i(29181)),o=a(i(61007)),l=a(i(30545)),c=i(6615),u={name:"",components:{HostTable:r.default,SidesliderBox:s.default,StatisticsText:o.default,ActionExtend:l.default},props:{value:{type:Boolean,default:!1},data:{type:Object,required:!0}},data:()=>({isLoading:!1,statisticsData:{},list:[{},{},{}]}),created(){this.data.id&&this.fetchDynamicGroup()},methods:{fetchDynamicGroup(){var e=this;this.isLoading=!0,n.default.fetchHostOfDynamicGroup({id:this.data.id}).then((function(t){t.length<1?e.isError=!0:(e.statisticsData=(0,c.statisticsHost)(t[0].ipListStatus),e.list=Object.freeze((0,c.sortHost)(t[0].ipListStatus)))})).finally((function(){e.isLoading=!1}))},handleClose(){this.list=[],this.statisticsData={},this.$emit("input",!1),this.$emit("change",!1)}}};t.Z=u},65728:function(e,t,i){"use strict";i(35927),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(70969),i(57024),i(61026),i(87033),i(9042),i(35948),i(94522),i(7170),i(92974),i(63762),i(40782),i(90004),i(71959),i(45974),i(78004);var n=a(i(33610)),r=a(i(56318)),s=a(i(36410)),o=a(i(77094)),l=a(i(45812)),c=a(i(48373)),u=a(i(49135)),d=i(46790),h=a(i(63715)),p=i(6615),f=a(i(75016)),v=a(i(65442)),m=a(i(45220));function g(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}var y="#".concat(window.PROJECT_CONFIG.SCOPE_TYPE,"#").concat(window.PROJECT_CONFIG.SCOPE_ID),_={name:"",components:{Empty:h.default,MultInput:f.default,HostTable:v.default,DropdownMenu:m.default},inheritAttrs:!1,props:{topologyNodeTree:{type:Array,default:function(){return[]}},topologyLoading:{type:Boolean,default:!0},ipList:{type:Array,default:function(){return[]}},dialogHeight:{type:Number,required:!0}},data(){return this.selfChange=!1,{isLoading:!0,isNodeEmpty:!1,isRenderEmptyTopoNode:!1,currentUser:{},selectedNodeId:y,renderList:[{},{},{}],checkedMap:{},isCheckedAll:!1,searchContent:"",agentFilter:"",pagination:{total:0,page:1,pageSize:0}}},computed:{pageCheckInfo(){var e={indeterminate:!1,checked:!1},t=Object.keys(this.checkedMap).length;return e.indeterminate=t>0,e.checked=t>0&&t>=this.pagination.total,e},isSearch(){return[0,1].includes(this.agentFilter)||!!this.searchContent}},watch:{ipList:{handler(e){if(this.selfChange)this.selfChange=!1;else{var t={};e.forEach((function(e){t[e.realId]=e})),this.pagination.page=1,this.checkedMap=Object.freeze(t)}},immediate:!0},topologyLoading(e){e||this.resetTopoTree()}},created(){this.fetchUserInfo()},mounted(){this.calcPageSize(),this.fetchTopologyHost()},methods:{fetchUserInfo(){var e=this;u.default.fetchUserInfo().then((function(t){e.currentUser=Object.freeze(t),e.isRenderEmptyTopoNode=d.topoNodeCache.getItem(t.username)}))},fetchTopologyHost:(0,l.default)((function(){var e=this;if(this.selectedNodeId){var t=(0,p.parseIdInfo)(this.selectedNodeId),i=(0,r.default)(t,2),a=i[0],n=i[1],s=this.pagination,o=s.page,l=s.pageSize;this.isLoading=!0,c.default.fetchTopologyHost({appTopoNodeList:[{objectId:a,instanceId:n}],agentStatus:this.agentFilter,searchContent:this.searchContent,pageSize:l,start:(o-1)*l}).then((function(t){e.renderList=Object.freeze(t.data.map((function(e){return Object.assign({realId:(0,p.generateHostRealId)(e)},e)}))),e.pagination.total=t.total})).finally((function(){e.isLoading=!1}))}}),300),fetchTopologyHostWhole:(0,l.default)((function(e){var t=this;if(this.selectedNodeId){var i=(0,p.parseIdInfo)(this.selectedNodeId),a=(0,r.default)(i,2),s=a[0],o=a[1],l=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?g(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):g(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.checkedMap);this.isLoading=!0,c.default.fetchTopogyIPs({appTopoNodeList:[{objectId:s,instanceId:o}],agentStatus:this.agentFilter,searchContent:this.searchContent}).then((function(i){i.data.forEach((function(t){var i=t.split(":"),a=(0,r.default)(i,2),n=a[0],s=a[1];e?l[t]={ip:s,cloudAreaInfo:{id:n},realId:t}:delete l[t]})),t.checkedMap=Object.freeze(l),t.triggerChange()})).finally((function(){t.isLoading=!1}))}}),300),resetTopoTree(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=(0,p.filterTopology)(this.topologyNodeTree,this.isRenderEmptyTopoNode),n=e&&e.length>0?e:[this.selectedNodeId];this.$refs.tree.setData(a),this.$nextTick((function(){a.length<1||(t.$refs.tree.setSelected(t.selectedNodeId,{emitEvent:i}),n.forEach((function(e){t.$refs.tree.setExpanded(e)})))}))},calcPageSize(){var e=Math.floor((this.dialogHeight-154-116)/41);this.pagination.pageSize=e},triggerChange(){this.selfChange=!0,this.$emit("on-change","ipList",Object.values(this.checkedMap))},handleFilterEmptyToggle(e){this.isRenderEmptyTopoNode=!this.isRenderEmptyTopoNode;var t=this.$refs.tree.getNodeById(this.selectedNodeId);this.isRenderEmptyTopoNode?(e.stopPropagation(),d.topoNodeCache.clearItem()):(t.data.payload.count<1?this.selectedNodeId=y:e.stopPropagation(),d.topoNodeCache.setItem(this.currentUser.username));var i=this.$refs.tree.nodes.reduce((function(e,t){return t.expanded&&e.push(t.id),e}),[]);this.resetTopoTree(i,!0)},handleNodeSearch:(0,o.default)((function(e){var t=this,i=this.$refs.tree.filter(e);i.length>0&&this.$nextTick((function(){t.$refs.tree.setSelected(i[0].id,{emitEvent:!0})})),this.isNodeEmpty=i.length<1}),300),handleNodeChange(e){this.selectedNodeId=e.id,this.pagination.page=1,e.expanded||this.$refs.tree.setExpanded(this.selectedNodeId,{expanded:!0}),this.fetchTopologyHost()},handleHostSearch:(0,o.default)((function(e){var t=(0,s.default)(e);if(this.searchContent!==t){var i=t.replace(/\s/g,"");this.searchContent=i?t:"",this.pagination.page=1,this.fetchTopologyHost()}}),300),handleAgentFiler(e){this.pagination.page=1,this.agentFilter=e,this.fetchTopologyHost()},handleToggleWholeAll(){this.isCheckedAll=!this.isCheckedAll,this.fetchTopologyHostWhole(this.isCheckedAll)},handleHostCheck(e){var t=Object.assign({},this.checkedMap);t[e.realId]?delete t[e.realId]:t[e.realId]={ip:e.ip,cloudAreaInfo:{id:e.cloudAreaInfo.id},realId:e.realId},this.checkedMap=Object.freeze(t),this.triggerChange()},handlePageChange(e){this.pagination.page=e,this.fetchTopologyHost()}}};t.Z=_},5052:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(7170),i(70969),i(71959),i(87033),i(9042),i(45974);var n=a(i(56318)),r=a(i(77094)),s=a(i(41834)),o=a(i(49135)),l=i(46790),c=a(i(63715)),u=i(6615),d={name:"",components:{Empty:c.default},inheritAttrs:!1,props:{topologyNodeTree:{type:Array,default:function(){return[]}},topologyLoading:{type:Boolean,default:!0},topoNodeList:{type:Array,required:!0}},data:()=>({currentUser:{},isRenderEmptyTopoNode:!1,isSearchEmpty:!1,emptyTopologyOfAllBusiness:"biz_set"===window.PROJECT_CONFIG.SCOPE_TYPE}),watch:{topoNodeList(e,t){var i=this;this.isSelfChange?this.isSelfChange=!1:e.length<1?(0,u.resetTree)(this.topologyNodeTree,(function(e){i.$refs.tree.setChecked(e.id,{checked:!1}),i.$refs.tree.setDisabled(e.id,{disabled:!1})})):this.recoverTreeState(e,t)}},created(){this.isSelfChange=!1,this.isTreeRefresh=!1,this.fetchUserInfo()},mounted(){var e=this;this.emptyTopologyOfAllBusiness||this.$nextTick((function(){e.$refs.tree.setData(e.topologyNodeTree),e.$refs.tree.setExpanded(e.topologyNodeTree[0].id,{expanded:!0}),e.recoverTreeState(e.topoNodeList)}))},methods:{fetchUserInfo(){var e=this;o.default.fetchUserInfo().then((function(t){e.currentUser=Object.freeze(t),e.isRenderEmptyTopoNode=l.topoNodeCache.getItem(t.username)}))},recoverTreeState(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.isSearchEmpty=this.topologyNodeTree.length<1;var i=e.length<t.length,a=t.map((function(e){return"#".concat(e.type,"#").concat(e.id)})),n=e.map((function(e){return"#".concat(e.type,"#").concat(e.id)}));if(i){var r=(0,s.default)(a,n);this.isTreeRefresh=!0,this.$refs.tree.setChecked(r,{emitEvent:!0,checked:!1})}else{var o=n;o.length>0&&(this.isTreeRefresh=!0,this.$refs.tree.setChecked(o,{emitEvent:!0,checked:!0}))}},handleFilterEmptyToggle(e){var t=this;this.isRenderEmptyTopoNode=!this.isRenderEmptyTopoNode,this.isRenderEmptyTopoNode?(e.stopPropagation(),l.topoNodeCache.clearItem()):l.topoNodeCache.setItem(this.currentUser.username);var i=this.$refs.tree.nodes.reduce((function(e,t){return t.expanded&&e.push(t.id),e}),[]),a=(0,u.filterTopology)(this.topologyNodeTree,this.isRenderEmptyTopoNode);this.$refs.tree.setData(a),this.$nextTick((function(){a.length<1||(t.$refs.tree.setChecked(t.topoNodeList.map((function(e){return"#".concat(e.type,"#").concat(e.id)})),{emitEvent:!1}),i.forEach((function(e){t.$refs.tree.setExpanded(e)})))}))},handleCheckChange(e,t){var i=this,a=function(e){var t={};if(e.length<1)return[];return function e(a){for(var n=null,r=0;r<a.length;){var o=a[r];if(n=i.$refs.tree.getNodeById(o),!t[o])break;r++}if(r>=a.length)return a;var l=(0,u.findAllChildNodeId)(n),c=(0,s.default)(a,l);return t[n.id]=!0,e(c)}(e)}(e);if(this.isTreeRefresh)return this.isSelfChange=!1,void(this.isTreeRefresh=!1);this.isSelfChange=!0,this.$emit("on-change","topoNodeList",a.map((function(e){var t=(0,u.parseIdInfo)(e),i=(0,n.default)(t,2);return{type:i[0],id:i[1]}})))},handleSearch:(0,r.default)((function(e){if(!this.emptyTopologyOfAllBusiness){var t=this.$refs.tree.filter(e);this.isSearchEmpty=t.length<1}}),300)}};t.Z=d},91342:function(e,t,i){"use strict";i(35927),i(45974),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(70201),i(87033),i(9042),i(35948),i(94522),i(70969),i(58794),i(56259),i(63762),i(95179);var n=a(i(33610)),r=a(i(77094)),s=a(i(48373)),o=a(i(1249)),l=i(41980);function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d={name:"",components:{HostTable:a(i(65442)).default},inheritAttrs:!1,props:{dynamicGroupList:{type:Array,required:!0},dialogHeight:{type:Number,required:!0}},data(){return this.selfChange=!1,{isLoading:!1,isEmpty:!1,hasNotGroup:!0,list:[{},{},{}],tempList:[{},{},{}],checkedMap:{},CMDBCreateGroupUrl:"",pagination:{page:1,pageSize:0,total:0}}},computed:{renderList(){var e=this.pagination,t=e.page,i=e.pageSize;return Object.freeze(this.tempList.slice((t-1)*i,t*i))},pageCheckInfo(){var e={indeterminate:!1,checked:!1},t=Object.keys(this.checkedMap).length;return e.indeterminate=t>0,e.checked=t>0&&t>=this.pagination.total,e}},watch:{dynamicGroupList:{handler(e){if(this.selfChange)this.selfChange=!1;else{var t={};e.forEach((function(e){t[e]=!0})),this.pagination.page=1,this.checkedMap=Object.freeze(t)}},immediate:!0}},mounted(){this.calcPageSize(),this.fetchDynamicGroup()},methods:{fetchDynamicGroup(){var e=this;this.isLoading=!0,s.default.fetchDynamicGroup().then((function(t){if(e.list=Object.freeze(t),e.tempList=Object.freeze(t),e.pagination.total=t.length,e.hasNotGroup=t.length<1,e.hasNotGroup)return e.fetchCMDBUrl()})).finally((function(){e.isLoading=!1}))},fetchCMDBUrl(){var e=this;return o.default.fetchRelatedSystemUrls().then((function(t){e.CMDBCreateGroupUrl="".concat(t.BK_CMDB_ROOT_URL,"/#/business/").concat(window.PROJECT_CONFIG.SCOPE_ID,"/custom-query")}))},calcPageSize(){var e=Math.floor((this.dialogHeight-154-116)/40);this.pagination.pageSize=e},trigger(){this.selfChange=!0,this.$emit("on-change","dynamicGroupList",Object.keys(this.checkedMap))},handleGroupSearch:(0,r.default)((function(e){if(e.trim()){var t=[],i=new RegExp((0,l.encodeRegexp)(e),"i");this.list.forEach((function(e){i.test(e.name)&&t.push(e)})),this.tempList=Object.freeze(t)}else this.tempList=this.list;this.pagination.total=this.tempList.length}),300),handleToggleWholeAll(){var e=u({},this.checkedMap),t=this.pageCheckInfo.checked;this.tempList.forEach((function(i){t?delete e[i.id]:e[i.id]=!0})),this.checkedMap=Object.freeze(e),this.trigger()},handleGroupCheck(e){var t=u({},this.checkedMap);t[e]?delete t[e]:t[e]=!0,this.checkedMap=Object.freeze(t),this.trigger()},handlePreview(e){this.$emit("on-group-preview",{name:e.name,id:e.id})},handlePageChange(e){this.pagination.page=e}}};t.Z=d},75971:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(23232),i(80433),i(45974),i(87033),i(63762),i(40782),i(9042),i(14370),i(56259),i(95179),i(70969),i(78004),i(35948),i(94522),i(71959);var n=a(i(56318)),r=a(i(36410)),s=a(i(45812)),o=a(i(48373)),l=i(41980),c=i(6615),u={name:"",inheritAttrs:!1,props:{previewId:{type:String,required:!0},dialogHeight:{type:Number,required:!0}},data:()=>({isSubmiting:!1,ipInputText:"",inputItemList:[{},{},{}],invalidIPList:[{},{},{}],errorIPList:[{},{},{}],isFocusError:!1}),computed:{inputRows(){return Math.floor((this.dialogHeight-65-130-15)/18)},isError(){return this.invalidIPList.length>0||this.errorIPList.length>0}},methods:{updateInputValue(){var e=this;this.ipInputText=[...this.invalidIPList,...this.errorIPList].join("\n"),setTimeout((function(){e.$refs.input.setCurValue(e.ipInputText)}))},handleInputClick(){this.isFocusError=!1},handleHighlightInvilad(){this.isFocusError=!0;var e=this.$refs.input.$el.querySelector("textarea"),t=this.invalidIPList.join("\n");e.focus(),e.selectionStart=0,e.selectionEnd=t.length},handleRemoveInvalid(){this.invalidIPList=[],this.updateInputValue()},handleHightlightError(){this.isFocusError=!0;var e=this.$refs.input.$el.querySelector("textarea");e.focus();var t=this.invalidIPList.join("\n"),i=this.errorIPList.join("\n"),a=t.length>0?t.length+1:0;e.selectionStart=a,e.selectionEnd=a+i.length},handleRemoveError(){this.errorIPList=[],this.updateInputValue()},handleIPChange:(0,s.default)((function(e){var t=(0,r.default)(e);this.invalidIPList=[],this.errorIPList=[],t?(this.inputItemList=e.split(/[;,；，\n|]+/).filter((function(e){return!!e})),this.$emit("on-input-change",!0)):(this.inputItemList=[],this.$emit("on-input-change",!1))}),60),handleAddHost(){var e=this;if(!(this.inputItemList.length<1)){var t=/(((\d+:)?)(?:(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d))))/,i=[],a=[];this.inputItemList.forEach((function(e){var r=e.match(t);if(r){var s=(0,n.default)(r,1)[0];if(new RegExp("([\\d:.]".concat((0,l.encodeRegexp)(s),")|(").concat((0,l.encodeRegexp)(s),"[\\d.])")).test(e))a.push(e);else{i.push(s);var o=e.replace(new RegExp("(".concat((0,l.encodeRegexp)(s),")|(\\s)"),"g"),"");o&&a.push(o)}}else a.push(e)})),this.isSubmiting=!0;var r={ipList:i};window.IPInputScope&&(r.actionScope=window.IPInputScope),o.default.fetchHostOfHost(r).then((function(t){var n=[],r={};t.forEach((function(e){var t=e.ip,i=e.cloudAreaInfo;n.push({realId:(0,c.generateHostRealId)(e),ip:t,cloudAreaInfo:{id:i.id}}),r[t]=!0,r["".concat(i.id,":").concat(t)]=!0})),n.length>0&&e.$emit("on-change","ipInput",n),e.invalidIPList=i.reduce((function(e,t){return r[t]||e.push(t),e}),[]),e.errorIPList=a,e.inputItemList=[],e.updateInputValue(),e.$emit("on-input-change",!1)})).finally((function(){e.isSubmiting=!1}))}}}};t.Z=u},75626:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i={name:"",props:{value:{type:Boolean,default:!1}},data:()=>({styles:{}}),watch:{value:{handler(e){e&&(this.styles={"z-index":window.__bk_zIndex_manager.nextZIndex()})},immediate:!0}},methods:{handleClose(){this.$emit("input",!1),this.$emit("change",!1)}}};t.Z=i},35647:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i={props:{data:{type:Object,require:!0}}};t.Z=i},31713:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(23232),i(80433),i(7170),i(92974),i(87033),i(35948),i(94522);var n=a(i(33610)),r=a(i(18306)),s=a(i(48373)),o=a(i(39986)),l=i(6615),c=a(i(23793)),u=a(i(26786)),d=a(i(77527)),h=a(i(46438)),p=a(i(49557)),f=a(i(29181)),v=a(i(57027));function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function g(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var y={name:"ChooseIp",components:{RenderBusinessTopology:c.default,RenderDynamicBusinessTopology:u.default,RenderDynamicGroup:d.default,RenderIpInput:h.default,PreviewGroup:p.default,SidesliderBox:f.default,Preview:v.default},model:{prop:"show",event:"input"},props:{show:{type:Boolean,default:!1},hostNodeInfo:{type:Object,default:function(){return new o.default({}).hostNodeInfo}},required:{type:Boolean,default:!1},errorTips:{type:String,default:"服务器不能为空"}},data(){return this.ipListTopolagyLast=[],{isShowDialog:!1,isLoading:!0,isSubmitDisable:!1,showChoosePreview:!1,showGroupPreview:!1,activeTab:"static",dialogHeight:0,topologyNodeTree:[],topoNodeList:[{},{},{}],ipList:[{},{},{}],dynamicGroupList:[{},{},{}],previewGroup:{},error:"",currentChangeClass:"",ipInputStatus:!1}},computed:{panelCom(){return{static:c.default,dynamic:u.default,group:d.default,input:h.default}[this.activeTab]},containerStyles(){return{height:"".concat(this.dialogHeight-58,"px")}},contentStyles(){return{height:"".concat(this.dialogHeight-58-42,"px")}},isEmpty(){return!this.topoNodeList.length&&!this.ipList.length&&!this.dynamicGroupList.length},actionResult(){var e=[];if(this.ipList.length>0&&e.push('<span class="strong number choose-host">'.concat(this.ipList.length,"</span>","台主机")),this.topoNodeList.length>0&&e.push('<span class="strong number choose-node">'.concat(this.topoNodeList.length,"</span>","个节点")),this.dynamicGroupList.length>0&&e.push('<span class="strong number choose-group">'.concat(this.dynamicGroupList.length,"</span>","个分组")),e.length<1)return"";var t=e.join("，");return t&&(t="<span>".concat("已选择","：</span>",t)),t}},watch:{show:{handler(e){e&&this.fetchTopologyWithCount(),this.ipInputStatus=!1,this.isShowDialog=e,this.isSubmitDisable=!1},immediate:!0},hostNodeInfo:{handler(e){if(this.isSelfChange)this.isSelfChange=!1;else{var t=e.dynamicGroupList,i=void 0===t?[]:t,a=e.ipList,n=void 0===a?[]:a,r=e.topoNodeList,s=void 0===r?[]:r;this.topoNodeList=Object.freeze([...s]),this.ipList=Object.freeze(n.map((function(e){return Object.assign(g({realId:(0,l.generateHostRealId)(e)},e))}))),this.ipListTopolagyLast=this.ipList,this.dynamicGroupList=Object.freeze(i)}},immediate:!0}},created(){this.previewId="chooseIPPreview_".concat((0,r.default)(1,99999999)),this.isSelfChange=!1,this.hostInput=[],this.mediaWidth=[1240,1400,1560,1720]},mounted(){this.calcDialogHeight()},methods:{fetchTopologyWithCount(){var e=this;this.isLoading=!0,s.default.fetchTopologyWithCount().then((function(t){e.topologyNodeTree=Object.freeze((0,l.bigTreeTransformTopologyOfTopology)([t]))})).finally((function(){e.isLoading=!1}))},calcDialogHeight(){var e=.8*window.innerHeight;this.dialogHeight=e<660?660:e},handleTabChange(e){this.activeTab=e},handleChange(e,t){switch(this.error="",e){case"ipList":this.ipList=Object.freeze((0,l.mergeTopologyHost)(this.ipList,this.ipListTopolagyLast,t)),this.ipListTopolagyLast=t,this.currentChangeClass="host";break;case"ipInput":this.ipList=Object.freeze((0,l.mergeInputHost)(this.ipList,t)),this.currentChangeClass="host";break;case"topoNodeList":this.topoNodeList=Object.freeze(t),this.currentChangeClass="node";break;case"dynamicGroupList":this.dynamicGroupList=Object.freeze(t),this.currentChangeClass="group";break;default:return""}},handleInputChange(e){this.ipInputStatus=e},handleInputAnimate(e){this.isSubmitDisable=e},handleShowChoosePreview(){this.showChoosePreview=!0},handlePreviewChange(e){var t=e.dynamicGroupList,i=e.ipList,a=e.topoNodeList;this.topoNodeList=Object.freeze(a),this.ipList=Object.freeze(i),this.dynamicGroupList=Object.freeze(t)},handleGroupPreview(e){this.previewGroup=e,this.showGroupPreview=!0},reset(){this.topoNodeList=[],this.ipList=[],this.dynamicGroupList=[]},close(){this.activeTab="static",this.$emit("on-cancel"),this.$emit("input",!1)},handleSubmit(){var e=this;return Promise.resolve().then((function(){e.required&&e.isEmpty?e.error="源文件的服务器列表不允许为空":Promise.resolve().then((function(){e.isSelfChange=!0,e.$emit("on-change",{ipList:e.ipList,topoNodeList:e.topoNodeList,dynamicGroupList:e.dynamicGroupList}),e.close()}))}))},handleCancle(){var e=this.hostNodeInfo,t=e.dynamicGroupList,i=void 0===t?[]:t,a=e.ipList,n=void 0===a?[]:a,r=e.topoNodeList,s=void 0===r?[]:r;this.topoNodeList=Object.freeze([...s]),this.ipList=Object.freeze(n.map((function(e){return g(g({},e),{},{realId:(0,l.generateHostRealId)(e)})}))),this.dynamicGroupList=Object.freeze(i),this.ipListTopolagyLast=this.ipList,this.isShowDialog=!1,this.close()}}};t.Z=y},83065:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={name:"",components:{ServerPanel:a(i(29637)).default},props:{value:{type:Boolean,default:!1},host:{type:Array,default:function(){return[]}},node:{type:Array,default:function(){return[]}},group:{type:Array,default:function(){return[]}}},data:()=>({hostNodeInfoLocal:{}}),computed:{hostNodeInfo(){return{ipList:this.host,dynamicGroupList:this.group,topoNodeList:this.node}},resultText(){var e=this.hostNodeInfoLocal,t=e.dynamicGroupList,i=void 0===t?[]:t,a=e.ipList,n=void 0===a?[]:a,r=e.topoNodeList,s=void 0===r?[]:r,o=[];return n.length>0&&o.push('<span class="strong number choose-host">'.concat(n.length,"</span>","台主机")),s.length>0&&o.push('<span class="strong number choose-node">'.concat(s.length,"</span>","个节点")),i.length>0&&o.push('<span class="strong number choose-group">'.concat(i.length,"</span>","个分组")),o.length<1?"（".concat("暂无已选项","）"):"（".concat(o.join("，"),"）")}},watch:{hostNodeInfo:{handler(e){this.hostNodeInfoLocal=Object.freeze(e)},immediate:!0}},created(){this.innerChange=!1},methods:{getElementTarget:()=>document.querySelector("#chooseIPServerPreview"),handleServerPanelChange(e){this.innerChange=!0,this.hostNodeInfoLocal=Object.freeze(e)},handleSubmit(){this.innerChange&&this.$emit("on-change",this.hostNodeInfoLocal),this.handleClose()},handleClose(){this.innerChange=!1,this.$emit("input",!1),this.$emit("change",!1)}}};t.Z=n},55674:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(61026),i(60259),i(23232),i(80433),i(87033),i(58794),i(63762),i(56259),i(95179),i(9042),i(90004);var n=i(41980),r=a(i(39986)),s=a(i(64784)),o=a(i(41306)),l=a(i(66897)),c=a(i(54476)),u=a(i(18164)),d=i(6615),h=function(e,t){e.length>0||e.includes(t)||e.push(t)},p={name:"ServerPanel",components:{ServerNode:s.default,ServerHost:o.default,ServerGroup:l.default,HostDetail:c.default,HostSearch:u.default},props:{hostNodeInfo:{type:Object,default:function(){return new r.default}},editable:{type:Boolean,default:!1},renderWithEmpty:{type:Boolean,default:!1},hostDetailAppend:{type:Function,default:function(){return document.querySelector("body")}},searchMode:{type:Boolean,default:!1},searchData:{type:Array,default:function(){return[]}},nodeDiff:{type:Object,default:function(){return{}}},hostDiff:{type:Object,default:function(){return{}}},groupDiff:{type:Object,default:function(){return{}}}},data:()=>({activePanel:[],showDetail:!1,viewInfo:{},nodeInfo:[],hostList:[{},{},{}],groupList:[{},{},{}],requestQueue:[]}),computed:{needRender(){return!!this.renderWithEmpty||(this.nodeInfo.length||this.hostList.length||this.groupList.length)},classes(){var e=[];return this.searchMode&&e.push("show-search"),e}},watch:{hostNodeInfo:{handler(e){var t=e.dynamicGroupList,i=e.ipList,a=e.topoNodeList;this.hostList=Object.freeze(i),i.length>0&&h(this.activePanel,"host"),this.nodeInfo=Object.freeze(a),a.length>0&&h(this.activePanel,"node"),this.groupList=Object.freeze(t),t.length>0&&h(this.activePanel,"group")},immediate:!0}},methods:{getAllIP(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[];this.$refs.host&&t.push(...this.$refs.host.getAllHost()),this.$refs.node&&t.push(...this.$refs.node.getAllHost()),this.$refs.group&&t.push(...this.$refs.group.getAllHost());var i={},a={};return t.forEach((function(e){i[e.ip]=1,1!==e.alive&&(a[e.ip]=1)})),e?Object.keys(a):Object.keys(i)},getAllHost(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===e.trim())return this.$refs.host.getAllHost();if(!/^[0-9.]+$/g.test(e))return[];var t=new RegExp("".concat((0,n.encodeRegexp)(e.trim()))),i={};return this.$refs.host&&this.$refs.host.getAllHost().forEach((function(e){t.test(e.ip)&&(i[(0,d.generateHostRealId)(e)]=e)})),Object.values(i)},removeAllInvalidHost(){this.$refs.host&&this.$refs.host.removeAllInvalidHost(),this.$refs.node&&this.$refs.node.removeAllInvalidHost(),this.$refs.group&&this.$refs.group.removeAllInvalidHost()},refresh(){this.$refs.host&&this.$refs.host.refresh(),this.$refs.node&&this.$refs.node.refresh(),this.$refs.group&&this.$refs.group.refresh()},trigger(){this.$emit("on-change",{ipList:this.hostList,topoNodeList:this.nodeInfo,dynamicGroupList:this.groupList})},handleLoading(e){e?this.requestQueue.push(!0):this.requestQueue.pop()},handleView(e){this.showDetail=!0,this.viewInfo=Object.freeze(e)},handleHostChange(e){this.hostList=Object.freeze(e),this.trigger()},handleNodeChange(e){this.nodeInfo=Object.freeze(e),this.trigger()},handleGroupChange(e){this.groupList=Object.freeze(e),this.trigger()},handleSearchChange(e){var t={};e.forEach((function(e){t[e.realId]=!0}));var i=[];this.$refs.host.list.forEach((function(e){t[e.realId]||i.push(e)})),this.hostList=Object.freeze(i),this.trigger()}}};t.Z=p},11838:function(e,t,i){"use strict";i(35927),i(45974),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(71959),i(87033),i(35948),i(94522),i(9042),i(90004),i(23232),i(80433),i(77036);var n=a(i(33610)),r=a(i(77094)),s=a(i(48373)),o=a(i(12584)),l=a(i(30545)),c=a(i(65442)),u=a(i(61007)),d=i(6615);function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f={name:"ViewGroup",components:{JbCollapseItem:o.default,ActionExtend:l.default,HostTable:c.default,StatisticsText:u.default},props:{data:{type:Array,required:!0},editable:{type:Boolean,default:!1},diff:{type:Object,default:function(){return{}}}},data:()=>({list:[{},{},{}],invalidList:[{},{},{}],isLoading:!1,isRequestError:!1}),watch:{data:{handler(e){this.isInnerChange?this.isInnerChange=!1:e.length<1?this.list=[]:this.fetchDynamicGroup()},immediate:!0}},created(){this.isInnerChange=!1,this.groupMap={}},methods:{fetchDynamicGroup(){var e=this;this.isLoading=!0;var t=this.data.reduce((function(e,t){return e[t]=t,e}),{});s.default.fetchHostOfDynamicGroup({id:this.data.join(",")}).then((function(i){var a=[];e.groupMap={},i.forEach((function(i){var n=i.id,r=i.name,s=i.ipListStatus,o=(0,d.statisticsHost)(s);delete t[n],a.push(p({id:n,name:r},o)),e.groupMap[n]=p(p({id:n,name:r},o),{},{host:Object.freeze(s)})})),e.list=Object.freeze(a),e.invalidList=Object.freeze(Object.values(t))})).catch((function(){e.isRequestError=!0})).finally((function(){e.isLoading=!1}))},refresh:(0,r.default)((function(){this.fetchDynamicGroup()}),300),getAllHost(){var e=[];for(var t in this.groupMap)e.push(...this.groupMap[t].host);return e},removeAllInvalidHost(){this.invalidList=[],this.triggerChange()},triggerChange(){this.isInnerChange=!0;var e=[...this.invalidList];this.list.forEach((function(t){e.push(t.id)})),this.$emit("on-change",e)},handleRefresh(){this.fetchDynamicGroup()},handleInvalidRemove(e){var t=[...this.invalidList];t.splice(e,1),this.invalidList=Object.freeze(t),this.triggerChange()},handleRemoveAll(){this.data.length<1?this.messageSuccess("你还未选择动态分组"):(this.list=[],this.groupMap={},this.invalidList=[],this.triggerChange(),this.messageSuccess("移除成功"))},handleRemove(e){var t=this.list[e],i=[...this.list];i.splice(e,1),this.list=Object.freeze(i),delete this.groupMap[t.id],this.triggerChange(),this.messageSuccess("移除成功")},handleView(e){this.$emit("on-view",Object.freeze(this.groupMap[e]))}}};t.Z=f},58860:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(30545)),r=a(i(29181)),s=a(i(61007)),o=a(i(65442)),l=i(6615),c={name:"HostDetail",components:{ActionExtend:n.default,SidesliderBox:r.default,StatisticsText:s.default,HostTable:o.default},model:{prop:"show",event:"input"},props:{append:{type:Function,required:!0},show:{type:Boolean,default:!1},data:{type:Object,default:function(){return{host:[]}}}},data:()=>({list:[{},{},{}]}),watch:{data:{handler(e){e.host?this.list=Object.freeze((0,l.sortHost)(e.host)):this.list=[]},immediate:!0}},mounted(){var e=this;this.append().appendChild(this.$refs.hostDetail),this.$once("hook:beforeDestroy",(function(){var t=e.append();e.append()&&t.removeChild(e.$refs.hostDetail)}))},methods:{handleClose(){this.currentPage=1,this.$emit("input",!1),this.$emit("change",!1)}}};t.Z=c},37e3:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(9042);var n=a(i(65442)),r=a(i(30545)),s=i(6615),o={name:"",components:{HostTable:n.default,ActionExtend:r.default},props:{data:{type:Array,required:!0},editable:{type:Boolean,default:!1}},data:()=>({list:[{},{},{}],statisticsData:{}}),computed:{classes(){return{scroll:this.data.length>10}}},watch:{data:{handler(e){this.isInnerChange?this.isInnerChange=!1:(this.page=1,this.list=Object.freeze((0,s.sortHost)(e)),this.statisticsData=(0,s.statisticsHost)(e))},immediate:!0}},methods:{handleRemoveAll(){if(this.list.length<1)this.messageSuccess("没有可移除主机");else{var e=this.list;this.list=[],this.isInnerChange=!0,this.$emit("on-change",e),this.messageSuccess("移除全部主机成功")}},handleRemoveFail(){var e=[],t=[];this.list.forEach((function(i){i.alive?e.push(i):t.push(i)})),e.length!==this.list.length?(this.list=Object.freeze(e),this.isInnerChange=!0,this.$emit("on-change",t),this.messageSuccess("移除异常主机成功")):this.messageSuccess("没有可移除主机")},handleRemoveOne(e){var t=[],i=null;this.list.forEach((function(a){a.realId!==e?t.push(a):i=a})),this.list=Object.freeze(t),i&&(this.isInnerChange=!0,this.$emit("on-change",[i]))}}};t.Z=o},34525:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(9042),i(92974),i(35948),i(94522),i(90004),i(23232),i(80433);var n=a(i(77094)),r=a(i(48373)),s=a(i(12584)),o=a(i(30545)),l=a(i(65442)),c=i(6615),u={name:"ViewHost",components:{JbCollapseItem:s.default,ActionExtend:o.default,HostTable:l.default},props:{data:{type:Array,required:!0},editable:{type:Boolean,default:!1},allPanel:{type:Boolean,default:!1},diff:{type:Object,default:function(){return{}}}},data:()=>({isLoading:!1,isRequestError:!1,list:[{},{},{}],invalidList:[{},{},{}]}),computed:{statisticsData(){return(0,c.statisticsHost)(this.list)}},watch:{data:{handler(e){this.isInnerChange?this.isInnerChange=!1:e.length<1?this.list=[]:this.fetchHostOfHost()},immediate:!0}},created(){this.isInnerChange=!1},methods:{fetchHostOfHost(){var e=this;this.isLoading=!0;var t=[],i={};this.data.forEach((function(e){var a=(0,c.generateHostRealId)(e);t.push(a),i[a]=Object.assign({realId:a},e)})),r.default.fetchHostOfHost({ipList:t}).then((function(t){var a=[];e.invalidList=[],t.forEach((function(e){var t=(0,c.generateHostRealId)(e);i[t]&&(a.push(Object.assign({realId:t},e)),delete i[t])})),e.list=Object.freeze((0,c.sortHost)(a)),e.invalidList=Object.freeze(Object.values(i)),e.isRequestError=!1})).catch((function(){e.isRequestError=!0})).finally((function(){e.isLoading=!1}))},refresh:(0,n.default)((function(){this.fetchHostOfHost()}),300),getAllHost(){return[...this.invalidList,...this.list]},removeAllInvalidHost(){this.invalidList=[],this.triggerChange()},getAllInvalidHost(){return this.invalidList},triggerChange(){this.isInnerChange=!0,this.$emit("on-change",[...this.invalidList,...this.list])},handleRefresh(){this.fetchHostOfHost()},handleInvalidRemove(e){var t=[];this.invalidList.forEach((function(i){e.realId!==i.realId&&t.push(i)})),this.invalidList=Object.freeze(t),this.triggerChange()},handleRemoveAll(){this.list.length<1&&this.invalidList.length<1?this.messageSuccess("没有可移除主机"):(this.invalidList=[],this.list=[],this.messageSuccess("移除全部主机成功"),this.triggerChange())},handleRemoveOne(e){var t=[];this.list.forEach((function(i){i.realId!==e&&t.push(i)})),this.list=Object.freeze(t),this.triggerChange()},handleRemoveFail(){var e=[],t=[];this.list.forEach((function(i){i.alive?e.push(i):t.push(i)})),t.length<1&&this.invalidList.length<1?this.messageSuccess("没有可移除主机"):(this.invalidList=[],this.list=Object.freeze(e),this.messageSuccess("移除异常主机成功"),this.triggerChange())}}};t.Z=u},42135:function(e,t,i){"use strict";i(35927),i(45974),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(70969),i(71959),i(87033),i(35948),i(94522),i(9042),i(7170),i(90004),i(92974),i(23232),i(80433),i(77036);var n=a(i(33610)),r=a(i(77094)),s=a(i(88052)),o=a(i(48373)),l=a(i(12584)),c=a(i(30545)),u=a(i(65442)),d=a(i(61007)),h=i(6615);function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var v={name:"ViewNode",components:{JbCollapseItem:l.default,ActionExtend:c.default,HostTable:u.default,StatisticsText:d.default},props:{data:{type:Array,required:!0},editable:{type:Boolean,default:!1},diff:{type:Object,default:function(){return{}}}},data:()=>({isLoading:!1,isNodeListLoading:!0,list:[{},{},{}],invalidList:[{},{},{}],wholePathMap:{},isRequestError:!1}),watch:{data:{handler(e){this.isInnerChange?this.isInnerChange=!1:e.length<1?this.list=[]:this.fetchNodeDetail()},immediate:!0}},created(){this.isInnerChange=!1,this.nodeMap={}},methods:{fetchNodeDetail(){var e=this;this.isLoading=!0,this.isNodeListLoading=!0;var t=this.data.reduce((function(e,t){return e["#".concat(t.type,"#").concat(t.id)]=t,e}),{});o.default.fetchNodePath(this.data).then((function(i){e.nodeMap={};var a=[];i.forEach((function(e){if(e){var i,n,r,o=e.map((function(e){return e.instanceName})).join(" / "),l=(0,s.default)(e),c=l.objectId,u=l.instanceId,d=(n=(i=l).objectId,r=i.instanceId,"#".concat(n,"#").concat(r));delete t[d],a.push({key:d,id:u,name:o,type:c})}})),e.invalidList=Object.freeze(Object.values(t)),e.list=Object.freeze(a),e.fetchHostOfNode()})).catch((function(){e.isRequestError=!0})).finally((function(){e.isLoading=!1}))},fetchHostOfNode(){var e=this,t=this.list.reduce((function(e,t){return e[t.key]=Object.assign({},t,{isHostLoading:!0}),e}),{});this.list=Object.freeze(Object.values(t)),o.default.fetchNodeInfo(this.list.map((function(e){return{id:e.id,type:e.type}}))).then((function(i){e.nodeMap={},i.forEach((function(i){var a=i.nodeType,n=i.id,r=i.ipListStatus,s=void 0===r?[]:r,o="#".concat(a,"#").concat(n),l=(0,h.statisticsHost)(s);t[o]=Object.assign({},t[o],f(f({},l),{},{isHostLoading:!1})),e.nodeMap[o]=Object.assign({},t[o],f(f({},l),{},{host:Object.freeze(s)}))})),e.list=Object.freeze(Object.values(t))})).finally((function(){e.isNodeListLoading=!1}))},refresh:(0,r.default)((function(){this.isNodeListLoading||this.fetchHostOfNode()}),300),getAllHost(){var e=[];for(var t in this.nodeMap)e.push(...this.nodeMap[t].host);return e},removeAllInvalidHost(){this.invalidList=[],this.triggerChange()},triggerChange(){this.isInnerChange=!0,this.$emit("on-change",[...this.invalidList,...this.list])},handleRefresh(){this.fetchNodeDetail()},handleInvalidRemove(e){var t=[...this.invalidList];t.splice(e,1),this.invalidList=Object.freeze(t),this.triggerChange()},handleRemoveAll(){this.data.length<1?this.messageSuccess("你还未选择节点"):(this.list=[],this.nodeMap={},this.invalidList=[],this.triggerChange(),this.messageSuccess("移除成功"))},handleRemoveOne(e){var t=this.list[e],i=[...this.list];i.splice(e,1),this.list=Object.freeze(i),delete this.nodeMap[t.id],this.triggerChange(),this.messageSuccess("移除成功")},handleViewHostList(e){this.isNodeListLoading?this.messageError("节点主机列表加载中"):this.$emit("on-view",Object.freeze(this.nodeMap[e]))}}};t.Z=v},74339:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(9042);var a={name:"JbDetailLayout",props:{mode:{type:String,default:"normal"},layout:{type:String,default:"horizontal"},isWarp:{type:Boolean}},created(){this.childrenNum=this.$slots.default},updated(){var e=this.$slots.default;this.childrenNum!==e&&(this.init(),this.childrenNum=e)},mounted(){this.$refs.detailLayout.getBoundingClientRect().width>0&&this.init()},methods:{init(){if("vertical"!==this.layout){var e=this.$refs.detailLayout.querySelectorAll(".detail-label"),t=0;e.forEach((function(e){var i=e.getBoundingClientRect().width;t=Math.max(t,i)})),e.forEach((function(e){e.style.width="".concat(t,"px")}))}}}};t.Z=a},3558:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i={name:"",props:{label:{type:String,default:""},layout:{type:String,default:""}}};t.Z=i},65788:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(35927),i(6919),i(58794),i(87033),i(35948);var a={props:{data:{type:Object,required:!0},placement:{type:String,required:!0},readonly:{type:Boolean,default:!1}},data:()=>({showError:!1,value:""}),computed:{isError(){return 1===this.data.required&&!this.value},descPopover(){return{theme:"light",extCls:"variable-desc-tippy",trigger:"click mouseenter",hideOnClick:!1,content:this.data.description,disabled:!this.data.description}}},watch:{placement(e){this.data.description&&this.$refs.input.$el._tippy.set({placement:e})}},created(){this.init()},methods:{init(){this.value=this.data.defaultValue||this.data.value},handleChange(e){this.value=e.trim(),window.changeAlert=!0},reset(){this.init()},validate(){var e=this,t=this.data,i=t.type,a={id:t.id,name:t.name,type:i,value:this.value,server:{}};return new Promise((function(t,i){if(e.isError)return i(new Error("string error"));t(a)}))}}};t.Z=a},93415:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(35927),i(6919),i(87033),i(35948);var n=a(i(39986)),r=a(i(96481)),s=a(i(29637)),o={components:{ChooseIp:r.default,ServerPanel:s.default},props:{data:{type:Object,required:!0},readonly:{type:Boolean,default:!1}},data:()=>({isShowChooseIp:!1,hostNodeInfo:{}}),computed:{isNotEmpty(){return!n.default.isHostNodeInfoEmpty(this.hostNodeInfo)},isError(){return 1===this.data.required&&!this.isNotEmpty},descPopover(){return{theme:"light",extCls:"variable-desc-tippy",trigger:"click mouseenter",hideOnClick:!1,content:this.data.description,disabled:!this.data.description}}},created(){this.init()},methods:{init(){this.data.defaultTargetValue?this.hostNodeInfo=this.data.defaultTargetValue.hostNodeInfo:this.hostNodeInfo=this.data.targetValue.hostNodeInfo},removeAllInvalidHost(){window.changeAlert=!0,this.$refs.choostIP.removeAllInvalidHost()},handleChooseIp(){this.isShowChooseIp=!0},handleClear(){var e=new n.default({}).hostNodeInfo;this.hostNodeInfo=e,window.changeAlert=!0},handleChange(e){this.hostNodeInfo=Object.freeze(e),window.changeAlert=!0},reset(){this.init()},validate(){var e=this,t=this.data,i=t.type,a={id:t.id,name:t.name,type:i,value:"",targetValue:{hostNodeInfo:this.hostNodeInfo}};return new Promise((function(t,i){if(e.isError)return i(new Error("host error"));t(a)}))}}};t.Z=o},45484:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(87033),i(35948);var n=a(i(42472)),r=a(i(262)),s=a(i(58333)),o=a(i(18277)),l=a(i(38886)),c=a(i(44492)),u={props:{type:{type:Number,required:!0},data:{type:Object,required:!0},layout:{type:String,default:"horizontal"}},data:()=>({isError:!1,placement:""}),computed:{typeCom(){var e={1:r.default,2:s.default,3:o.default,4:l.default,5:c.default,6:c.default};return Object.prototype.hasOwnProperty.call(e,this.type)?e[this.type]:"div"},boxClasses(){var e={"variable-required":1===this.data.required};return"vertical"===this.layout&&(e.vertical=!0),e}},mounted(){if(this.type!==n.default.TYPE_HOST){var e=this.$refs.varBox.clientWidth,t=this.$refs.varName.clientWidth,i=this.$refs.varValue.clientWidth;this.placement=t+i+220>e?"top":"right"}else this.placement="right"},methods:{removeAllInvalidHost(){this.$refs.target.removeAllInvalidHost&&this.$refs.target.removeAllInvalidHost()},reset(){this.$refs.target.reset()},validate(){var e=this;return this.$refs.target.validate().then((function(t){return e.isError=!1,Promise.resolve(t)})).catch((function(t){return e.isError=!0,document.querySelector(".variable-value-error").scrollIntoView(),Promise.reject(t)}))}}};t.Z=u},22392:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(35927),i(6919),i(58794),i(87033),i(35948);var a={props:{data:{type:Object,required:!0},placement:{type:String,required:!0},readonly:{type:Boolean,default:!1}},data:()=>({showError:!1,value:""}),computed:{isError(){return 1===this.data.required&&!this.value},descPopover(){return{theme:"light",extCls:"variable-desc-tippy",trigger:"click mouseenter",hideOnClick:!1,content:this.data.description,disabled:!this.data.description}}},watch:{placement(e){this.data.description&&this.$refs.input.$el._tippy.set({placement:e})}},created(){this.init()},methods:{init(){this.value=this.data.defaultValue||this.data.value},handleChange(e){this.value=e.trim(),window.changeAlert=!0},reset(){this.init()},validate(){var e=this,t=this.data,i=t.type,a={id:t.id,name:t.name,type:i,value:this.value,targetValue:{}};return 1!==this.data.required?Promise.resolve(a):new Promise((function(t,i){if(e.isError)return i(new Error("namespace error"));t(a)}))}}};t.Z=a},98886:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(35927),i(6919),i(58794),i(87033),i(35948);var a={props:{data:{type:Object,required:!0},placement:{type:String,required:!0},readonly:{type:Boolean,default:!1}},data:()=>({showError:!1,value:""}),computed:{isError(){return 1===this.data.required&&!this.value},descPopover(){return{theme:"light",extCls:"variable-desc-tippy",trigger:"click mouseenter",hideOnClick:!1,content:this.data.description,disabled:!this.data.description}}},watch:{placement(e){this.data.description&&this.$refs.input.$el._tippy.set({placement:e})}},created(){this.init()},methods:{init(){this.value=this.data.defaultValue||this.data.value},handleChange(e){this.value=e.trim(),window.changeAlert=!0},reset(){this.init()},validate(){var e=this,t=this.data,i=t.type,a={id:t.id,name:t.name,type:i,value:this.value,targetValue:{}};return new Promise((function(t,i){if(e.isError)return i(new Error("password error"));t(a)}))}}};t.Z=a},93812:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(35927),i(6919),i(58794),i(87033),i(35948);var a={props:{data:{type:Object,required:!0},placement:{type:String,required:!0},readonly:{type:Boolean,default:!1}},data:()=>({showError:!1,value:""}),computed:{isError(){return 1===this.data.required&&!this.value},descPopover(){return{theme:"light",extCls:"variable-desc-tippy",trigger:"click mouseenter",hideOnClick:!1,content:this.data.description,disabled:!this.data.description}}},watch:{placement(e){this.data.description&&this.$refs.input.$el._tippy.set({placement:e})}},created(){this.init()},methods:{init(){this.value=this.data.defaultValue||this.data.value},handleChange(e){this.value=e.trim(),window.changeAlert=!0},reset(){this.init()},validate(){var e=this,t=this.data,i=t.type,a={id:t.id,name:t.name,type:i,value:this.value,targetValue:{}};return new Promise((function(t,i){if(e.isError)return i(new Error("string error"));t(a)}))}}};t.Z=a},38283:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(9042);var a={name:"GlobalVariableLayout",props:{type:{type:String,default:"horizontal"}},computed:{classes(){var e={"global-variable-layout":!0};return"horizontal"!==this.type&&(e.vertical=!0),e}},updated(){var e=this.$slots.default;this.childrenNum!==e&&(this.childrenNum=e,this.init())},mounted(){"horizontal"===this.type&&this.init()},methods:{init(){if(this.$refs.layout.getBoundingClientRect().width>0){var e=this.$refs.layout,t=0,i=e.querySelectorAll(".variable-name");i.forEach((function(e){var i=e.querySelector("span").getBoundingClientRect().width;t=Math.max(t,i)})),i.forEach((function(e){e.style.width="".concat(t,"px")}))}}}};t.Z=a},97471:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024);var a={name:"globalVariableToggleDisplay",props:{count:{type:Number,required:!0}},data:()=>({isOpen:!1}),methods:{handleToggle(){this.isOpen=!this.isOpen}}};t.Z=a},49517:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={components:{ServerPanel:a(i(29637)).default},props:{data:{type:Object,required:!0}}};t.Z=n},14396:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024);var n=a(i(87718)),r=a(i(39170)),s={props:{type:{type:Number,required:!0},valueWidth:{type:String,default:"500px"},data:{type:Object,required:!0},layout:{type:String,default:"horizontal"}},data:()=>({isError:!1,isEmpty:!1}),computed:{typeCom(){var e={1:n.default,2:n.default,3:r.default,4:n.default,5:n.default,6:n.default};return Object.prototype.hasOwnProperty.call(e,this.type)?e[this.type]:"div"},classes(){var e={};return this.isEmpty||"vertical"===this.layout&&(e.vertical=!0),e}},mounted(){var e=this,t=this.$watch((function(){return e.$refs.value.isEmpty}),(function(t){e.isEmpty=Boolean(t)}),{immediate:!0});this.$once("hook:beforeDestroy",(function(){t()}))}};t.Z=s},86358:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i={props:{data:{type:Object,required:!0}}};t.Z=i},50188:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i={inject:["collapse"],data:()=>({iconType:"arrow-full-right"}),mounted(){var e=this,t=this.$watch((function(){return e.$refs.collapseItem.isActive}),(function(t){e.iconType=t?"arrow-full-down":"arrow-full-right"}),{immediate:!0});this.$once("hook:beforeDestroy",(function(){t()}))}};t.Z=i},25031:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(7170),i(94522),i(23232),i(80433);var n=a(i(33610)),r=a(i(38502)),s=a(i(39986));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c={name:"JbEditHost",components:{ChooseIp:a(i(96481)).default},props:{mode:{type:String,default:"block"},field:{type:String,required:!0},value:{type:Object,default:new s.default({})},width:{type:String,default:"auto"},remoteHander:{type:Function,default:function(){return Promise.resolve()}},rules:{type:Array,default:function(){return[]}}},data(){return{localValue:this.value,isShowChooseIp:!1,error:"",isEditing:!1,isSubmiting:!1}},computed:{renderHtml(){if(!this.localValue)return"--";var e=this.localValue.hostNodeInfo||{},t=e.dynamicGroupList,i=e.ipList,a=e.topoNodeList,n=[];return i.length>0&&n.push('<span class="number strong">'.concat(i.length,"</span>","台主机")),a.length>0&&n.push('<span class="number strong">'.concat(a.length,"</span>","个节点")),t.length>0&&n.push('<span class="number strong">'.concat(t.length,"</span>","个分组")),n.length>0?n.join("\n"):"--"},styles(){return{width:this.width}},isBlock(){return"block"===this.mode}},watch:{value:{handler(e){this.localValue=Object.freeze((0,r.default)(e))},immediate:!0}},methods:{doValidator(){var e=this,t=this.rules.map((function(t){return function(e,t){return new Promise((function(i,a){if(e.required&&!t&&a(e.message),e.validator&&"function"==typeof e.validator){var n=e.validator(t);if(!n.then)return n?i():a(e.message);n.then((function(t){return t?i():a(e.message)})).catch((function(){a(e.message)}))}else i()}))}(t,e.localValue)}));return this.isValidatoring=!0,Promise.all(t).finally((function(){e.isValidatoring=!1}))},triggerChange(){var e=this;this.doValidator().then((function(){e.isEditing=!1,e.localValue!==e.value&&(e.isSubmiting=!0,e.remoteHander({[e.field]:e.localValue}).then((function(){e.$emit("on-change",{[e.field]:e.localValue}),e.messageSuccess("编辑成功")})).catch((function(){e.localValue=e.value})).finally((function(){e.isSubmiting=!1})))})).catch((function(t){e.error=t}))},handleBlockShowEdit(){this.isBlock&&this.handleShowEdit()},handleShowEdit(){document.body.click(),this.isShowChooseIp=!0},handleHostChange(e){this.localValue=Object.freeze(l(l({},this.localValue),{},{hostNodeInfo:e})),this.triggerChange()}}};t.Z=c},43200:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(7170),i(94522),i(23232),i(80433),i(58794);var a={name:"JbEditInput",props:{mode:{type:String,default:""},field:{type:String,required:!0},value:{type:String,default:""},width:{type:String,default:"auto"},remoteHander:{type:Function,default:function(){return Promise.resolve()}},rules:{type:Array,default:function(){return[]}}},data(){return{newVal:this.value,error:"",isEditing:!1,isSubmiting:!1}},computed:{styles(){return{width:this.width}},isBlock(){return"block"===this.mode}},watch:{value(e){this.newVal=e}},mounted(){var e=this;this.isValidatoring=!1,document.body.addEventListener("click",this.handleHideEdit),this.$once("hook:beforeDestroy",(function(){document.body.removeEventListener("click",e.handleHideEdit)}))},methods:{doValidator(){var e=this,t=this.rules.map((function(t){return function(e,t){return new Promise((function(i,a){if(e.required&&!t&&a(e.message),e.validator&&"function"==typeof e.validator){var n=e.validator(t);if(!n.then)return n?i():a(e.message);n.then((function(t){return t?i():a(e.message)})).catch((function(){a(e.message)}))}else i()}))}(t,e.newVal)}));return this.isValidatoring=!0,Promise.all(t).finally((function(){e.isValidatoring=!1}))},triggerChange(){var e=this;this.doValidator().then((function(){e.isEditing=!1,e.newVal!==e.value&&(e.isSubmiting=!0,e.remoteHander({[e.field]:e.newVal}).then((function(){e.$emit("on-change",{[e.field]:e.newVal}),e.messageSuccess("编辑成功")})).catch((function(){e.newVal=e.value})).finally((function(){e.isSubmiting=!1})))})).catch((function(t){e.error=t}))},handleBlockShowEdit(){this.isBlock&&this.handleShowEdit()},handleShowEdit(){var e=this;document.body.click(),this.isEditing=!0,this.$nextTick((function(){e.$refs.input.focus()}))},handleInputChange(e){this.newVal=e.trim()},handleInputBlur(){this.triggerChange()},handleInputEnter(e,t){this.isEditing&&"Enter"===t.key&&13===t.keyCode&&this.triggerChange()},handleHideEdit(e){if(!this.isValidatoring&&!this.error){if(e.path&&e.path.length>0)for(var t=0;t<e.path.length;t++){if("jb-edit-input"===e.path[t].className)return}this.isEditing=!1}}}};t.Z=a},14179:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(71959),i(87033),i(9042),i(35948),i(7170),i(23232),i(80433),i(94522),i(63762),i(92186);var n=a(i(38502)),r=i(41980),s=a(i(15578)),o=[],l={name:"JbEditTag",components:{JbTagSelect:s.default},props:{field:{type:String,required:!0},value:{type:Array,default:function(){return[]}},shortcurt:{type:Boolean,default:!1},remoteHander:{type:Function,default:function(){return Promise.resolve()}},rules:{type:Array,default:function(){return[]}}},data(){return{isEditing:!1,isLoading:!1,localValue:this.value}},computed:{text(){return this.localValue.map((function(e){return e.name})).join("，")}},watch:{value:{handler(e){this.localValue=e,this.memoValue=[...this.value]},immediate:!0}},mounted(){var e=this;document.body.addEventListener("click",this.hideEdit),this.$once("hook:beforeDestroy",(function(){document.body.removeEventListener("click",e.hideEdit)}))},methods:{triggerRemote(){var e=this;this.isEditing=!1,function(e,t){if(e.length!==t.length)return!1;if(0===e.length)return!0;var i=e.reduce((function(e,t){return e[t.id]=!0,e}),{});return t.forEach((function(e){delete i[e.id]})),Object.keys(i).length<1}(this.memoValue,this.localValue)||(this.isLoading=!0,this.remoteHander({[this.field]:this.localValue.map((function(e){return{id:e.id}}))}).then((function(){e.memoValue=e.localValue,e.messageSuccess("编辑成功"),e.$emit("on-change",{[e.field]:e.localValue})})).finally((function(){e.isLoading=!1})))},hideEdit(e){if(this.isEditing){if(e.path&&e.path.length>0)for(var t=0;t<e.path.length;t++){var i=e.path[t];if(/tippy-popper/.test(i.className)||/job-tag-create-dialog/.test(i.className))return}this.triggerRemote()}},handleTagValueChange(e){this.localValue=Object.freeze(e)},handleEdit(){var e=this;document.body.click(),this.$nextTick((function(){e.isEditing=!0,setTimeout((function(){e.$refs.tagSelect.show()}))}))},handleTextClick(){this.shortcurt&&this.handleEdit()},handleCopy(){this.localValue.length<1?this.$bkMessage({theme:"warning",message:"标签为空"}):(o=(0,n.default)(this.localValue),(0,r.execCopy)(this.text))},handlePaste(){o.length<1?this.$bkMessage({theme:"warning",message:"请先复制标签"}):(this.localValue=[...new Set([...this.localValue,...o])],this.triggerRemote())}}};t.Z=l},56828:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(87033),i(35948),i(70201),i(94522),i(95179),i(35949);var n=a(i(36410)),r={name:"JbEditTextarea",components:{JbTextarea:a(i(13447)).default},props:{mode:{type:String,default:""},field:{type:String,required:!0},value:{type:String,default:""},singleRowRender:{type:Boolean,default:!1},rows:{type:Number,default:3},remoteHander:{type:Function,default:function(){return Promise.resolve()}},rules:{type:Array,default:function(){return[]}},readonly:{type:Boolean,default:!1}},data(){return{isEditing:!1,isSubmiting:!1,isExpand:!1,newVal:this.value,renderLength:0}},computed:{renderText(){return this.newVal.length===this.renderLength||this.isExpand?this.newVal:this.renderLength<1?this.newVal?this.newVal:"--":"".concat(this.newVal.slice(0,this.renderLength),"...")},isShowMore(){return this.newVal.length>this.renderLength&&this.renderLength>0},boxStyles(){var e={"max-height":this.isExpand?"unset":"78px"};return this.singleRowRender&&(e.height="26px",e["max-width"]="100%",e["text-overflow"]="ellipsis",e["white-space"]="nowrap"),e},isBlock(){return"block"===this.mode}},watch:{value:{handler(e){this.newVal=e,this.newVal&&this.calcEllTextLength()},immediate:!0}},mounted(){var e=this;document.body.addEventListener("click",this.handleHideInput),this.$once("hook:beforeDestroy",(function(){document.body.removeEventListener("click",e.handleHideInput)}))},methods:{calcEllTextLength(){var e=this;this.$slots.default||this.isExpand||setTimeout((function(){var t=e.newVal.length,i=document.createElement("div");i.style.opacity=0,i.style.zIndex="-1",e.singleRowRender&&(i.style.wordBreak="keep-all",i.style.whiteSpace="pre"),e.$refs.valueTextBox.appendChild(i);var a=0,n=1;!function r(){var s=e.newVal.slice(0,n);i.innerText="".concat(s," 展开展开"),Promise.resolve().then((function(){(a=i.getBoundingClientRect().height)<=72&&n<t&&(n+=2,r())}))}(),setTimeout((function(){e.renderLength=0,a>24&&(e.renderLength=n>=t?t:n-4),e.$refs.valueTextBox.removeChild(i)}))}))},handleBlockShowEdit(){this.isBlock&&this.handleShowInput()},handleShowInput(){var e=this;document.body.click(),this.isEditing=!0,this.$nextTick((function(){e.$refs.input.focus()}))},handleInputBlur(){var e=this;this.isEditing=!1,this.newVal!==this.value&&(this.isSubmiting=!0,this.remoteHander({[this.field]:this.newVal}).then((function(){e.$emit("on-change",{[e.field]:e.newVal}),e.calcEllTextLength(),e.messageSuccess("编辑成功")})).finally((function(){e.isSubmiting=!1})))},handleHideInput(e){if(e.path&&e.path.length>0)for(var t=0;t<e.path.length;t++){if("jb-edit-textarea"===e.path[t].className)return}this.isEditing=!1},handleCopy(e){var t=e.clipboardData||window.clipboardData;if(t){var i=window.getSelection().toString();i&&i.indexOf(this.renderText)>-1&&(i=this.value),i&&(e.preventDefault(),t.setData("text/plain",(0,n.default)(i,"\n")))}},handleExpandAll(){this.isExpand=!this.isExpand}}};t.Z=r},80995:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(23232),i(87033),i(92186),i(80433),i(9042),i(7170),i(71959),i(35948),i(94522),i(63762),i(40782),i(5580);var n=a(i(35058)),r=a(i(36410)),s=a(i(14791)),o=a(i(32558)),l=a(i(38502)),c=i(46790),u=a(i(52113)),d=function(e){var t=(0,l.default)(e),i={},a=new Set;return t.forEach((function(e){e&&(a.has(e.id)&&a.delete(e.id),a.add(e.id),i[e.id]=e)})),[...a].map((function(e){return Object.freeze(i[e])}))},h={name:"JbSearchSelect",components:{SearchSelect:u.default},props:{data:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},value:{type:Array,default:function(){return[]}},parseUrl:{type:Boolean,default:!0},appendValue:{type:Array,default:function(){return[]}}},data:()=>({searchValue:[]}),watch:{value:{handler(e){var t=[];this.$refs.searchSelect&&(t=this.$refs.searchSelect.chipList),this.searchValue=d([...t,...e])},immediate:!0},appendValue:{handler(e){var t=this;setTimeout((function(){if(t.$refs.searchSelect){var i=e.reduce((function(e,t){return e[t.id]=!0,e}),{}),a=[];t.$refs.searchSelect.chipList.forEach((function(e){i[e.id]||a.push(e)})),t.searchValue=Object.freeze([...a,...e])}}))},immediate:!0}},created(){this.parseUrl&&this.parseURLData()},methods:{parseURLData(){var e=this;this.URLQuery=this.$route.query;for(var t=[],i={},a=[],n=function(n){var r=e.data[n];if(!Object.prototype.hasOwnProperty.call(e.URLQuery,r.id))return"continue";var s=e.URLQuery[r.id];r.multiable?i[r.id]=s.split(","):i[r.id]=s;var l=Promise.resolve();l=r.remoteMethod?r.remoteMethod():r.children?Promise.resolve(r.children):Promise.resolve(s);var c=r.id,u=r.name,d=e.URLQuery[c];l.then((function(e){var i={},a=[];if(a=r.multiable?d.split(","):[d],(0,o.default)(e)){var n=[];if(a.forEach((function(t){var i=e.find((function(e){return"".concat(e.id)==="".concat(t)}));i&&n.push({id:i.id,name:i.name})})),n.length<1)return;i={id:c,name:u,values:n}}else{var s=[];if(a.forEach((function(e){e&&s.push({id:e,name:e})})),s.length<1)return;i={id:c,name:u,values:s}}t.push(i)})),a.push(l)},r=0;r<this.data.length;r++)n(r);Promise.all(a).finally((function(){var a=[];e.$refs.searchSelect&&(a=e.$refs.searchSelect.chipList),e.searchValue=d([...a,...t]),setTimeout((function(){e.$emit("on-change",i),e.$emit("input",i)}))}))},handleChange(e){var t={},i=function(e){return e.id},a=function(e){return(0,s.default)(e)?(0,r.default)(e):e};e.forEach((function(e){var n="function"==typeof e.map?e.map:i;e.multiable?t[e.id]=e.values.map((function(e){return a(n(e))})):e.values?t[e.id]=a(n(e.values[0])):t[e.id]=a(n(e))}));["operator","creator","lastModifyUser"].forEach((function(e){(0,n.default)(t,e)&&c.userSearchCache.setItem(t[e])})),this.$emit("on-change",t),this.$emit("input",t)},checkEmpty(){return this.$refs.searchSelect.chipList.length<1},reset(){this.searchValue=[],this.$refs.searchSelect.reset()}}};t.Z=h},42063:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(94243),i(57024),i(5580),i(87033),i(70201),i(63762),i(2156),i(58794),i(70969),i(7170),i(23232),i(80433),i(78004),i(56259),i(95179),i(61026),i(77036);var n=a(i(91167)),r=a(i(33610)),s=a(i(45812)),o=a(i(72898)),l=a(i(5068)),c=i(12023),u=a(i(24213)),d=a(i(47939)),h=a(i(47047)),p=a(i(35157));function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}var v={name:"BkSearchSelect",provide(){return{searchSelect:this}},components:{RenderTag:a(i(60311)).default},model:{prop:"values",event:"change"},props:{data:{default:function(){return[]},validator:e=>!!Array.isArray(e)},explainCode:{type:String,default:"："},placeholder:{type:String,default:u.default.t("bk.searchSelect.placeholder")},emptyText:{type:String,default:u.default.t("bk.searchSelect.emptyText")},displayKey:{type:String,default:"name"},primaryKey:{type:String,default:"id"},condition:{type:Object,default:()=>({})},values:{type:Array,default:()=>[]},remoteEmptyText:{type:String,default:u.default.t("bk.searchSelect.remoteEmptyText")},remoteLoadingText:{type:String,default:u.default.t("bk.searchSelect.remoteLoadingText")},showCondition:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},defaultFocus:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},maxTagWidth:{type:Number,default:100}},data(){return{menu:(0,c.generatorMenu)(),chipList:[{},{},{}],maxRenderTagNums:-1,textareaWidth:0,focused:this.defaultFocus,localValue:"",defaultCondition:{},validateStr:""}},computed:{currentSelectKey(){var e=this;return this.data.find((function(t){return t[e.primaryKey]===e.menu.id}))||{}},defaultInputKey(){for(var e=0;e<this.data.length;e++){var t=this.data[e];if(!(t.remote||t.children||t.remoteMethod)&&t.default)return t}return null},placeholderText(){return this.chipList.length>0?"":this.placeholder},renderTagList(){return this.focused||this.maxRenderTagNums<1?this.chipList:this.chipList.slice(0,this.maxRenderTagNums)},isShowTagMultLine(){return!this.focused&&this.maxRenderTagNums>0},tagGroupStyles(){return{width:"calc(100% - 50px)","max-height":this.focused?"320px":"30px","white-space":this.focused?"initial":"nowrap"}},searchInputBoxStyles(){var e={position:"relative",width:this.focused?"".concat(this.textareaWidth,"px"):"auto","min-width":"20px","max-width":"100%"};return this.chipList.length<1&&(e.width="100%"),e},isClearable(){return!this.readonly&&this.clearable&&this.chipList.length>0}},watch:{values:{handler(e){e!==this.chipList&&(this.chipList=e)},deep:!0,immediate:!0},menu:{handler(){this.updateLocalInput()},deep:!0}},created(){this.panelInstance=null,this.popperInstance=null,this.renderTagInstance=null,this.defaultCondition={name:u.default.t("bk.searchSelect.condition")},this.defaultCondition[this.displayKey]||(this.defaultCondition[this.displayKey]=u.default.t("bk.searchSelect.condition")),this.inputTips=u.default.t("bk.searchSelect.tips"),this.calcTextareaWidth=(0,s.default)(this._calcTextareaWidth,30),this.showPopper=(0,s.default)(this._showMenu,50),this.remoteExecuteImmediate()},beforeDestroy(){this.popperInstance&&this.popperInstance.destroy(!0)},methods:{_calcTextareaWidth(){var e=this;this.$nextTick((function(){var t=e.$refs.realInputContent.getBoundingClientRect().width;e.textareaWidth=t+20}))},_showKeyMenu(e){if(!this.panelInstance){var t=null;e&&"BKSearchKey"===e.$options.name?t=e:((t=new o.default(d.default)).searchSelect=this,t.$on("select",this.handleKeyChange),t.$on("select-conditon",this.handleKeyConditonChange)),t.needRender&&(!t._isMounted&&t.$mount(),t.generatorList(),this.panelInstance=t)}},_showValueMenu(e){if(!this.panelInstance){var t=this.localValue,i=this.currentSelectKey[this.displayKey]+this.explainCode||"";t=t.slice(i.length);var a=this.menu.condition[this.displayKey]||"";t=t.slice(a.length);var n=null;e&&"BKSearchValue"===e.$options.name?n=e:((n=new o.default(h.default)).searchSelect=this,n.$on("select-condition",this.handleValueConditionChange),n.$on("select-check",this.handleMultCheck),n.$on("change",this.handleValueChange),n.$on("cancel",this.handleValueCancel)),n.search=t.trim(),n.currentItem=this.currentSelectKey,n.menu=this.menu,n.needRender&&(!n._isMounted&&n.$mount(),n.generatorList(),this.panelInstance=n)}},_showSuggestMenu(e){if(!this.panelInstance){var t=null;e&&"BKSearchSuggest"===e.$options.name?t=e:((t=new o.default(p.default)).searchSelect=this,t.$on("select",this.handleMenuSuggestSelect)),t.needRender&&(!t._isMounted&&t.$mount(),t.generatorList(),this.panelInstance=t)}},_showMenu(){var e=this;this.popperInstance||(this.popperInstance=(0,l.default)(this.$refs.input,function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){(0,r.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},c.popperConfig)));var t=this.panelInstance;this.panelInstance=null,setTimeout((function(){if(e._showKeyMenu(t),e._showValueMenu(t),e._showSuggestMenu(t),!e.panelInstance)return t&&t.$destroy(),void e.hidePopper(t);t&&t.$options.name!==e.panelInstance.$options.name&&t.$destroy(),e.popperInstance.set({zIndex:window.__bk_zIndex_manager.nextZIndex()}),e.popperInstance.setContent(e.panelInstance.$el),e.popperInstance.popperInstance.update(),e.popperInstance.show(),e.renderTagInstance&&e.renderTagInstance.hidePopper()}))},hidePopper(){this.panelInstance&&(this.panelInstance.$destroy(),this.panelInstance=null),this.popperInstance&&this.popperInstance.hide(0)},remoteExecuteImmediate(){var e=this;this._remoteKeyImmediateChildrenMap={};for(var t=function(t){var i=e.data[t];"function"==typeof i.remoteMethod&&i.remoteExecuteImmediate&&(0,n.default)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.remoteMethod();case 3:a=t.sent,e._remoteKeyImmediateChildrenMap[i[e.primaryKey]]=a,t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})))()},i=0;i<this.data.length;i++)t(i)},updateLocalInput(){var e=this;if(this.menu.id){var t="".concat(this.currentSelectKey[this.displayKey]).concat(this.explainCode);this.menu.condition[this.primaryKey]&&(t+="".concat(this.menu.condition[this.displayKey]," ")),t+=this.menu.checked.map((function(t){return t[e.displayKey]})).join(" | "),this.localValue=t}else this.localValue="";this.calcTextareaWidth(),setTimeout((function(){e.$refs.textarea.focus()}))},valueValidate(e){var t=!0;return this.currentSelectKey&&this.currentSelectKey.validate&&"function"==typeof this.currentSelectKey.validate?"string"==typeof(t=this.currentSelectKey.validate([...e],this.currentSelectKey))?(this.validateStr=t,t=!1):t&&(this.validateStr=""):this.validateStr="",t},appendChipList(e){if(this.valueValidate(e.values)){var t=[...this.chipList];t.push(e);for(var i={},a=[],n=t.length-1;n>=0;n--){var r=t[n][this.primaryKey];r?i[r]||(a.unshift(t[n]),i[r]=!0):a.unshift(t[n])}this.chipList=Object.freeze(a),this.triggerChange()}},triggerChange(){this.menu=(0,c.generatorMenu)(),this.$emit("change",[...this.chipList])},handleSearchSelectClick(){this.handleInputFocus()},handleInputFocus(){this.renderTagInstance&&this.renderTagInstance.hidePopper(),this.readonly||(this.focused=!0,this.$refs.textarea.focus(),this.showPopper(),this.$emit("focus"))},handleInputOutSide(e){var t=this;if(this.focused){for(var i=e.target.parentNode;i&&i.classList;){if(i.classList.contains("jb-bk-search-list")||i.classList.contains("jb-bk-search-select"))return;i=i.parentNode}this.hidePopper(),this.maxRenderTagNums=-1,this.focused=!1,this.$nextTick((function(){for(var e=t.$refs.tagGroup.querySelectorAll(".search-tag-box"),i=t.$refs.searchSelect.getBoundingClientRect().width,a=0,n=0;n<e.length;n++){var r=e[n].getBoundingClientRect().width;if(!(a+r+50<i)){t.maxRenderTagNums=n;break}a=a+r+6}})),this.$emit("blur")}},handleInputChange(e){var t=e.target.value.replace(/[\r\n]/,"");""===t&&(this.menu=(0,c.generatorMenu)()),this.localValue=t,this.calcTextareaWidth(),this.showPopper(),this.$emit("input",e)},keyDelete(e){if(this.menu.checked.length>0){e.preventDefault();var t=[...this.menu.checked];return t.pop(),void(this.menu.checked=Object.freeze(t))}var i=this.menu.condition[this.displayKey],a=this.currentSelectKey[this.displayKey]+this.explainCode;if(i&&a+i===this.localValue)return e.preventDefault(),this.menu.checked=[],this.menu.condition={},void this.showPopper();if(this.currentSelectKey[this.primaryKey]&&new RegExp("".concat((0,c.encodeRegexp)(this.explainCode),"$")).test(this.localValue))return e.preventDefault(),this.menu=(0,c.generatorMenu)(),void this.showPopper();if(""===this.localValue&&this.chipList.length>0){var n=[...this.chipList];n.pop(),this.chipList=Object.freeze(n),this.triggerChange(),this.showPopper()}},keySubmit(){if(this.localValue)if(this.currentSelectKey[this.primaryKey]){if(this.currentSelectKey.children||"function"==typeof this.currentSelectKey.remoteMethod)return;var e=this.currentSelectKey[this.displayKey]+this.explainCode,t=this.menu.condition[this.displayKey]||"";if(this.localValue.trim()===e+t)return void this.showPopper();var i=this.localValue.replace(e,"");t&&(i=i.replace(this.menu.condition[this.displayKey],""));var a=this.currentSelectKey[this.primaryKey],n=this.currentSelectKey[this.displayKey];this.appendChipList({[this.primaryKey]:a,[this.displayKey]:n,values:[{[this.primaryKey]:i,[this.displayKey]:i}],condition:this.menu.condition}),this.showPopper()}else if(this.defaultInputKey){var r=this.defaultInputKey[this.primaryKey],s=this.defaultInputKey[this.displayKey];this.appendChipList({[this.primaryKey]:r,[this.displayKey]:s,values:[{[this.primaryKey]:this.localValue,[this.displayKey]:this.localValue}]}),this.showPopper()}else this.appendChipList({[this.primaryKey]:this.localValue,[this.displayKey]:this.localValue,values:[]}),this.showPopper()},handleInputKeydown(e){if(this.readonly)e.preventDefault();else if(["ArrowDown","ArrowUp"].includes(e.code))e.preventDefault();else if(["Backspace"].includes(e.code))this.keyDelete(e);else if(["Enter","NumpadEnter"].includes(e.code)&&!e.isComposing){if(e.preventDefault(),this.popperInstance&&this.popperInstance.state.isVisible)return;this.keySubmit(e)}},handleSubmit(e){var t=this;this.keySubmit(),setTimeout((function(){t.$refs.textarea.blur(),t.focused=!1,t.hidePopper()}),100),this.$emit("clear",e)},handleTagChange(e,t){var i=[...this.chipList];i.splice(e,1,t),this.chipList=Object.freeze(i),this.triggerChange(!1)},handleTagDelete(e){var t=[...this.chipList];t.splice(e,1),this.chipList=Object.freeze(t),this.triggerChange()},handleClearAll(){this.menu=(0,c.generatorMenu)(),this.chipList=[],this.triggerChange(),this.showPopper(),this.$emit("clear")},handleKeyChange(e){this.menu=(0,c.generatorMenu)(),this.menu.id=e[this.primaryKey],this.showPopper()},handleKeyConditonChange(e){this.appendChipList(e),this.showPopper()},handleValueConditionChange(e){this.menu.condition=e,this.showPopper()},handleMultCheck(e){this.menu.checked=Object.freeze(e)},handleValueChange(){var e=this.currentSelectKey[this.primaryKey],t=this.currentSelectKey[this.displayKey];this.appendChipList({[this.primaryKey]:e,[this.displayKey]:t,values:this.menu.checked,condition:this.menu.condition}),this.showPopper()},handleValueCancel(){this.menu=(0,c.generatorMenu)(),this.showPopper()},handleMenuSuggestSelect(e){this.appendChipList(e),this.showPopper()},getInputInstance(){return this.$refs.textarea},reset(){this.maxRenderTagNums=-1,this.chipList=[],this.$emit("change",[])}}};t.Z=v},17245:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(71959),i(87033),i(9042),i(7170),i(35927),i(6919);var n=a(i(77094)),r={name:"BKSearchKey",mixins:[a(i(68022)).default],data:()=>({condition:{},list:[{},{},{}],activeIndex:-1}),computed:{needRender(){return!this.searchSelect.menu.id&&""===this.searchSelect.localValue},isCondition(){var e=this.searchSelect;return!(e.chipList.length<1)&&(e.chipList[e.chipList.length-1][e.primaryKey]===e.defaultCondition[e.primaryKey]&&this.searchSelect.showCondition)}},created(){this.generatorList=(0,n.default)(this._generatorList,100)},mounted(){document.body.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){this.activeIndex=-1,document.body.removeEventListener("keydown",this.handleKeydown)},methods:{_generatorList(){var e=this.searchSelect,t=e.primaryKey,i=e.data,a=e.chipList.reduce((function(e,i){return e[i[t]]=!0,e}),{}),n=[];i.forEach((function(e){a[e[t]]||n.push(e)})),this.list=Object.freeze(n)},handleKeydown(e){this.needRender&&(27!==e.keyCode?13===e.keyCode&&this.activeIndex>-1?this.handleClick(this.list[this.activeIndex],this.activeIndex):this.scrollActiveToView(e):this.activeIndex=-1)},handleClick(e,t){this.$emit("select",e,t)},handleCondition(){this.$emit("select-conditon",this.condition)}},render(e){var t=this;if(!this.needRender)return null;var i=this.searchSelect,a=i.condition,n=i.displayKey;return e("div",{class:"jb-bk-search-list",attrs:{role:"key-menu",tabIndex:"-1"}},[t.isCondition?e("div",{class:"search-condition",on:{click:t.handleCondition}},[a[n]]):"",function(e){return t.list.length<1?e("div",{class:"search-loading"},[t.searchSelect.remoteEmptyText]):e("ul",{ref:"list",class:"search-menu"},[t.list.map((function(i,a){return e("li",{class:{"search-menu-item":!0,active:a===t.activeIndex}},[e("div",{class:"item-name",on:{click:function(){return t.handleClick(i,a)}}},[e("span",[i[n]]),i.description?e("span",{class:"item-description"},["(",i.description,")"]):""])])}))])}(e)])}};t.Z=r},12445:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610));i(57024),i(5580),i(87033),i(23232),i(80433),i(70969),i(7170),i(63762),i(2156),i(58794),i(70201),i(78004),i(61026);var r=a(i(72898)),s=a(i(5068)),o=i(12023),l=a(i(47047));function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d=null,h={name:"",inject:["searchSelect"],props:{index:{type:Number,required:!0},data:{type:Object,required:!0}},data:()=>({isEditing:!1,textareaWidth:0,localValue:"",keyBoxWidth:"",searchSelectWidth:0,menu:(0,o.generatorMenu)()}),computed:{textareaStyles(){return{position:"relative",width:"".concat(this.textareaWidth,"px"),"max-width":"".concat(this.searchSelectWidth-this.keyBoxWidth-20,"px")}},valueStyles(){var e=this.searchSelect,t=e.isTagMultLine,i=e.maxTagWidth;return t&&i>0?{"max-width":"".concat(i,"px"),height:"22px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}:{}},conditionText(){var e="";return Object.keys(this.menu.condition).length>0&&(e=this.menu.condition[this.searchSelect.displayKey]),e},currentItem(){var e=this;return this.searchSelect.data.find((function(t){return t.id===e.data.id}))}},watc:{data(){this.updateLocalValue()}},created(){this.menu={id:this.data.id,checked:this.data.values,condition:this.data.condition||{}},this.updateLocalValue(),this.memoValue=this.localValue,this.searchSelect.$once("show-menu",this.hidePopper)},mounted(){this.searchSelect.renderTagInstance=this,this.keyBoxWidth=this.$refs.keyBox.getBoundingClientRect().width,document.body.addEventListener("click",this.handleInputOutSide)},beforeDestroy(){document.body.removeEventListener("click",this.handleInputOutSide)},methods:{calcTextareaWidth(){var e=this;this.$nextTick((function(){var t=e.$refs.realContent.getBoundingClientRect().width;e.textareaWidth=t+20}))},updateLocalValue(){var e=this.searchSelect.displayKey,t="",i=this.menu.condition[e];i&&(t="".concat(i," "));var a=this.menu.checked;a&&a.length>0&&(t="".concat(t).concat(a.map((function(t){return t[e]})).join(" | "))),this.localValue=t,this.calcTextareaWidth()},showPopper(){d&&d!==this&&d.hidePopper(),d=this,this.popperInstance||(this.popperInstance=(0,s.default)(this.$refs.valueBox,u({},o.popperConfig))),this.menuInstance||(this.menuInstance=new r.default(l.default),this.menuInstance.searchSelect=this.searchSelect,this.menuInstance.$on("select-condition",this.handleConditionSelect),this.menuInstance.$on("select-check",this.handleMultCheck),this.menuInstance.$on("change",this.handleSubmit),this.menuInstance.$on("cancel",this.handleMultCancel)),this.menuInstance.search=this.localValue.slice(this.conditionText.length).trim(),this.menuInstance.currentItem=this.currentItem,this.menuInstance.menu=this.menu,this.menuInstance.needRender&&(this.menuInstance.$mount(),this.menuInstance.generatorList(),this.popperInstance.set({zIndex:window.__bk_zIndex_manager.nextZIndex()}),this.popperInstance.setContent(this.menuInstance.$el),this.popperInstance.show())},hidePopper(){this.isEditing=!1,this.popperInstance&&(this.popperInstance.hide(0),this.popperInstance.destroy(),this.popperInstance=null),this.menuInstance&&(this.menuInstance.$destroy(),this.menuInstance=null)},handleWraperClick(e){e.stopPropagation()},handleInputOutSide(e){for(var t=e.target.parentNode;t&&t.classList;){if(t.classList.contains("jb-bk-search-list")||t.classList.contains("bk-search-select"))return;t=t.parentNode}this.localValue=this.memoValue,this.hidePopper()},handleTagClick(e){var t=this;this.isEditing||(this.searchSelect.focused?(setTimeout((function(){t.$refs.textarea.focus(),t.$refs.textarea.selectionStart=t.conditionText.length,t.$refs.textarea.selectionEnd=t.localValue.length})),this.calcTextareaWidth(),this.isEditing=!0,this.searchSelectWidth=this.searchSelect.$refs.searchSelect.getBoundingClientRect().width,this.searchSelect.hidePopper(),this.showPopper()):this.$emit("focus"))},handleTagInput(e){var t=this;if(this.localValue=e.target.value.replace(/\n/,""),this.calcTextareaWidth(),this.menuInstance){if(this.menuInstance.search=this.localValue,this.menuInstance.isCondition){var i=this.menu.condition[this.searchSelect.displayKey]||"";(!i||i.length>this.localValue.length||i.length===this.localValue.length&&i!==this.localValue)&&(this.menu=u(u({},this.menu),{},{condition:{},checked:[]}),setTimeout((function(){t.menuInstance&&t.menuInstance.generatorList()})))}this.showPopper()}},handleRemove(){this.$emit("delete",this.index)},handleMultCheck(e){this.menu.checked=Object.freeze(e),this.updateLocalValue()},handleKeydown(e){if(["Backspace"].includes(e.code)&&""===this.localValue)return this.handleRemove(),void this.hidePopper();if(["ArrowDown","ArrowUp"].includes(e.code))e.preventDefault();else if(["Enter","NumpadEnter"].includes(e.code)){if(e.preventDefault(),this.popperInstance&&this.popperInstance.state.isVisible)return;var t=this.searchSelect,i=t.displayKey,a=t.primaryKey,n=this.localValue;if(this.conditionText&&(n=this.localValue.slice(this.conditionText.length)),""===n)return;this.menu.checked=[{[i]:n,[a]:n}],this.handleSubmit()}},handleSubmit(e){var t=u(u({},this.data),{},{values:this.menu.checked});this.hidePopper(),this.updateLocalValue(),this.memoValue=this.localValue,this.$emit("change",this.index,t)},handleMultCancel(){this.localValue=this.memoValue,this.hidePopper()},handleConditionSelect(e){this.menu.condition=Object.freeze(u({},e)),this.updateLocalValue(),this.showPopper(),this.menuInstance.needRender||(this.popperInstance.hide(0),this.$refs.textarea.focus())},renderKey(e){var t=this.searchSelect,i=t.displayKey,a=t.explainCode;return e("div",{ref:"keyBox",class:"tag-label"},[this.data[i],a])},renderValue(e){var t=this;return e("div",{ref:"valueBox",class:"tag-value",on:{click:this.handleWraperClick}},[e("div",{style:"position: absolute; top: -9999px; left: -9999px;"},[e("pre",{ref:"realContent",style:"display: block; visibility: hidden; font: inherit;"},[this.localValue])]),function(e){return t.isEditing?e("div",{style:t.textareaStyles},[e("div",{style:"min-height: 22px; white-space: normal; word-break: break-all; visibility: hidden;"},[t.localValue]),e("textarea",{ref:"textarea",class:"tag-value-edit",attrs:{spellcheck:"false"},domProps:{value:t.localValue},on:{keydown:t.handleKeydown,input:t.handleTagInput}})]):e("div",{style:t.valueStyles,on:{click:t.handleTagClick}},[t.localValue])}(e)])},renderClear(e){return this.searchSelect.readonly||this.isEditing?null:e("i",{class:"tag-clear bk-icon icon-close",on:{click:this.handleRemove}})}},render(e){return e("div",{class:{"search-tag-box":!0,focused:this.isEditing}},[e("div",{class:"search-tag"},[this.renderKey(e),this.renderValue(e)]),this.renderClear(e)])}};t.Z=h},94359:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(9042),i(71959),i(56259),i(63762),i(95179),i(7170),i(35927),i(6919);var n=a(i(77094)),r=i(12023),s={name:"BKSearchSuggest",mixins:[a(i(68022)).default],data:()=>({activeIndex:-1,list:[{},{},{}]}),computed:{needRender(){return!(this.searchSelect.menu.id||!this.searchSelect.localValue)}},watch:{list(e){var t=this,i=this.searchSelect,a=i.primaryKey,n=i.defaultInputKey;this.activeIndex=-1,n&&e.forEach((function(e,i){n[a]===e.keyId&&(t.activeIndex=i)}))}},created(){this.generatorList=(0,n.default)(this._generatorList,100)},mounted(){document.body.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){document.body.removeEventListener("keydown",this.handleKeydown)},methods:{_generatorList(){for(var e=this.searchSelect,t=e.data,i=e.chipList,a=e.localValue,n=e.displayKey,s=e.primaryKey,o=e._remoteKeyImmediateChildrenMap,l=i.reduce((function(e,t){return e[t[s]]=!0,e}),{}),c=a,u=[],d=function(e){var i=t[e];if(l[i[s]])return"continue";if("function"==typeof i.remoteMethod&&!i.inputInclude&&!i.remoteExecuteImmediate)return"continue";var a=o[i[s]]||i.children;return a?(a.forEach((function(e){new RegExp((0,r.encodeRegexp)(c),"i").test(e.name)&&u.push({keyName:i[n],keyId:i[s],valueName:e[n],valueId:e[s],payload:i})})),"continue"):"function"==typeof i.validate&&!0!==i.validate([{name:c}])?"continue":void u.push({keyName:i[n],keyId:i[s],valueName:c,valueId:c,payload:i})},h=0;h<t.length;h++)d(h);this.list=Object.freeze(u)},handleKeydown(e){this.needRender&&(27!==e.keyCode?13===e.keyCode&&this.activeIndex>-1?this.handleClick(this.list[this.activeIndex]):(this.scrollActiveToView(e),this.$emit("enter-invalid-toggle",!0)):this.activeIndex=-1)},handleClick(e){var t=this.searchSelect.displayKey,i=this.searchSelect.primaryKey;this.$emit("select",{[i]:e.keyId,[t]:e.keyName,values:[{[i]:e.valueId,[t]:e.valueName}]})},renderList(e){var t=this;return this.list.length<1?e("div",{class:"search-loading"},[this.searchSelect.remoteEmptyText]):e("div",{ref:"list",class:"search-suggest-menu-wraper"},[e("table",{class:"search-suggest-menu-list"},[this.list.map((function(i,a){return e("tr",{class:{"search-suggest-menu-item":!0,active:a===t.activeIndex},key:a,on:{click:function(){return t.handleClick(i)}}},[e("td",{class:"search-suggest-item-label"},[i.keyName,"："]),e("td",{class:"search-suggest-item-value"},[e("div",{class:"value-text"},[i.valueName]),i.payload&&i.payload.description?e("div",{class:"description-text"},["(",i.payload.description,")"]):""])])}))])])}},render(e){return this.needRender?e("div",{class:"jb-bk-search-list",attrs:{role:"suggest-menu",tabIndex:"-1"}},[this.renderList(e)]):null}};t.Z=s},17851:function(e,t,i){"use strict";i(35927),i(45974),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(94243),i(63762),i(2156),i(40782),i(87033),i(9042),i(78004),i(58794),i(56259),i(95179),i(71959),i(23232),i(80433),i(90004),i(7170);var n=a(i(33610)),r=a(i(91167)),s=a(i(77094)),o=a(i(24213)),l=a(i(68022)),c=i(12023);function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}var d={name:"BKSearchValue",mixins:[l.default],data:()=>({activeIndex:-1,list:[{},{},{}],search:"",currentItem:{},menu:{},error:"",loading:!1,checkeMap:{}}),computed:{needRender(){var e=this.currentItem;return!!e.id&&(!(!e.conditions||!e.conditions.length||this.menu.condition[this.searchSelect.primaryKey])||!!(e.children&&e.children.length>0||"function"==typeof e.remoteMethod))},isMultiable(){var e=this.currentItem;return(!e.conditions||!e.conditions.length)&&e.multiable},isCondition(){var e=this.currentItem;return e.conditions&&e.conditions.length>0}},watch:{list(e){if(this.activeIndex=-1,this.isMultiable){if(!this.search)return;var t=this.searchSelect,i=t.primaryKey,a=t.displayKey,n={};this.search.split(/[｜|]/).forEach((function(t){if(t.replace(/[ {2}\n]/,"")){var r=t.trim(),s=new RegExp("^".concat((0,c.encodeRegexp)(r),"$"),"i");e.forEach((function(e){s.test(e[a])&&(n[e[i]]=e)}))}})),this.checkeMap=Object.freeze(n)}else{if(!this.search)return void(this.activeIndex=0);for(var r=new RegExp((0,c.encodeRegexp)(this.search),"i"),s=0;s<e.length;s++)if(r.test(e[s][this.searchSelect.displayKey]))return void(this.activeIndex=s)}}},created(){var e=this;setTimeout((function(){var t=e.menu.checked.reduce((function(e,t){return e[t.id]=t,e}),{});e.checkeMap=Object.freeze(t)})),this.generatorList=(0,s.default)(this._generatorList,200)},mounted(){document.body.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){document.body.removeEventListener("keydown",this.handleKeydown)},methods:{_generatorList(){var e=this;return(0,r.default)(regeneratorRuntime.mark((function t(){var i,a,n,r,s,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.currentItem,e.error=!1,e.needRender){t.next=4;break}return t.abrupt("return");case 4:if(!e.isCondition||e.menu.condition[e.searchSelect.primaryKey]){t.next=8;break}return e.loading=!1,e.list=Object.freeze([...i.conditions]),t.abrupt("return");case 8:if(!(i.children&&i.children.length>0)){t.next=12;break}return e.loading=!1,e.list=Object.freeze([...i.children]),t.abrupt("return");case 12:if(a="","function"!=typeof i.remoteMethod){t.next=20;break}if(n=e.searchSelect,r=n._remoteKeyImmediateChildrenMap,s=n.primaryKey,!(o=r[i[s]])){t.next=19;break}return e.list=Object.freeze([...o]),t.abrupt("return");case 19:a=i.remoteMethod;case 20:if(!a){t.next=35;break}return e.loading=!0,t.prev=22,t.next=25,a(e.search,i,0);case 25:l=t.sent,e.list=Object.freeze([...l]),t.next=32;break;case 29:t.prev=29,t.t0=t.catch(22),e.error=!0;case 32:return t.prev=32,e.loading=!1,t.finish(32);case 35:case"end":return t.stop()}}),t,null,[[22,29,32,35]])})))()},handleClick(e){if(e.disabled)return!1;if(this.isCondition&&Object.keys(this.menu.condition).length<1)this.$emit("select-condition",e);else{var t=this.searchSelect.primaryKey;if(this.isMultiable){var i=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.checkeMap),a=e[t];i[a]?delete i[a]:i[a]=e,this.checkeMap=Object.freeze(i),this.$emit("select-check",Object.values(this.checkeMap))}else{var r={[e[t]]:e};this.checkeMap=Object.freeze(r),this.handleSubmit()}}},handleKeydown(e){if(this.needRender&&!(this.isMultiable||this.list.length<1))if(13!==event.keyCode)this.scrollActiveToView(event);else{if(this.activeIndex<0)return;this.handleClick(this.list[this.activeIndex],this.activeIndex)}},handleSubmit(e){this.$emit("select-check",Object.values(this.checkeMap)),this.$emit("change")},handleCancel(){this.$emit("cancel")},renderContent(e){var t=this;if(this.error)return e("div",{class:"search-error"},[this.error]);if(this.loading)return e("div",{class:"search-loading"},[this.searchSelect.remoteLoadingText]);if(this.needRender&&!this.list.length)return e("div",{class:"search-loading"},[this.searchSelect.remoteEmptyText]);return e("div",[function(e){var i=t.searchSelect.displayKey,a=t.searchSelect.primaryKey;return e("ul",{ref:"list",class:"search-menu"},[t.list.map((function(n,r){var s=n[a];return e("li",{class:{"search-menu-item":!0,"is-group":!!n.isGroup,"is-disabled":n.disabled,active:t.activeIndex===r}},[e("div",{class:"item-name",on:{click:function(e){return t.handleClick(n,r,s)}}},[n[i]]),t.isMultiable&&t.checkeMap[n.id]?e("i",{class:"bk-icon icon-check-1 item-icon"}):""])}))])}(e),function(e){return t.isMultiable?e("div",{class:"search-list-footer"},[e("div",{class:{"footer-btn":!0,disabled:Object.keys(t.checkeMap).length<1},on:{click:t.handleSubmit}},[o.default.t("bk.searchSelect.ok")]),e("div",{class:"footer-btn",on:{click:t.handleCancel}},[o.default.t("bk.searchSelect.cancel")])]):""}(e)])}},render(e){return this.needRender?e("div",{class:"jb-bk-search-list",attrs:{tabIndex:"-1",role:"search-value"}},[this.renderContent(e)]):null}};t.Z=d},41541:function(e,t,i){"use strict";i(35927),i(45974),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610));i(7170),i(87033),i(35948),i(94522),i(71959),i(9042);var r=a(i(34601)),s=a(i(60299)),o=i(41980);function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}var c={name:"JbTagSelect",components:{OperationTag:a(i(60174)).default},props:{value:{type:Array,default:function(){return[]}}},data:()=>({isLoading:!0,isShowCreate:!1,realValue:[],publicScript:!0,list:[{},{},{}]}),watch:{value:{handler(e){this.realValue=e.map((function(e){return e.id}))},immediate:!0}},created(){this.publicScript=(0,o.checkPublicScript)(this.$route),this.fetchData()},methods:{fetchData(){var e=this;return this.isLoading=!0,(this.publicScript?r.default.fetchTagList:s.default.fetchWholeList)().then((function(t){e.list=Object.freeze(t)})).finally((function(){e.isLoading=!1}))},show(){this.$refs.select.show()},handleChange(e){var t=e.reduce((function(e,t){return e[t]=!0,e}),{}),i=[];this.list.forEach((function(e){t[e.id]&&i.push(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e))})),this.$emit("on-change",i),this.$emit("change",i),this.$emit("input",i)},handleCreate(){this.$refs.select.close(),this.isShowCreate=!0},handleTagNew(e){var t=this;this.fetchData().then((function(){t.realValue.push(e.id),t.isShowCreate=!1,t.$refs.select.show()}))}}};t.Z=c},31185:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(23232),i(80433),i(70969),i(45974),i(87033),i(61026),i(60259),i(35948),i(94522),i(9042),i(71959),i(56259),i(63762),i(95179);var n=a(i(38502)),r=a(i(46117)),s=i(41980),o=a(i(4159)),l={name:"JobUserSelector",components:{UserSelector:o.default},props:{user:{type:Array,default:function(){return[]}},role:{type:Array,default:function(){return[]}},limit:{type:Number,default:10},showRole:{type:Boolean,default:!0},showDisableUser:{type:Boolean,default:!0},filterList:{type:Array,default:function(){return[]}}},data:()=>({isLoading:!1,checkedUserNums:0,roleList:[{},{},{}],defaultValue:[],disabledUsers:[]}),computed:{realLimit(){return this.limit+this.checkedUserNums}},watch:{user:{handler(){var e=this,t=[...this.user];this.showRole&&(t=[...this.role].concat(t)),this.defaultValue=t.filter((function(t){return!e.filterList.includes(t)}))},immediate:!0},role:{handler(){var e=this,t=[...this.role,...this.user];this.defaultValue=t.filter((function(t){return!e.filterList.includes(t)}))},immediate:!0}},created(){this.historyKey="job-user-selector-cache",this.roleCacheMap={},this.fetchRoleList()},methods:{fetchRoleList(){var e=this;this.showRole&&(this.isLoading=!0,r.default.fetchRoleList().then((function(t){var i=[],a={};t.forEach((function(t){e.filterList.includes(t.code)||(i.push({display_name:t.name,username:t.code,type:"role"}),a[t.code]=t.name)})),e.roleList=Object.freeze(i),e.roleCacheMap=a})).finally((function(){e.isLoading=!1})))},checkUsernameFilter(e){return this.filterList.includes(e)},formatDefaultAlternate(){var e=this,t=[];if(this.roleList.length>0&&t.push({display_name:"角色",username:"role",children:(0,n.default)(this.roleList)}),localStorage.getItem(this.historyKey)){var i=(JSON.parse(localStorage.getItem(this.historyKey))||[]).reduce((function(t,i){return"user"!==i.type||e.checkUsernameFilter(i.username)||t.push(i),t}),[]);t.push({display_name:"最近输入",username:"history",children:i})}return t},handleFuzzySearch(e){var t=this,i={limit:this.realLimit,prefixStr:e},a=function(i){var a=[];if(t.showRole){var n=new RegExp((0,s.encodeRegexp)(e)),r=t.roleList.filter((function(e){return n.test(e.display_name)||n.test(e.username)}));r.length>0&&a.push({display_name:"角色",username:"role",children:r})}if(i.length<1)return a;t.disabledUsers=[];var o=[];return i.forEach((function(e){t.filterList.includes(e.englishName)||(t.showDisableUser||e.enable)&&(e.enable||t.disabledUsers.push(e.englishName),o.push({display_name:e.englishName,username:e.englishName,type:"user"}))})),a.push({display_name:"用户",username:"user",children:Object.freeze(o)}),a};return r.default.fetchAllUsers(i).then((function(e){return{next:!1,results:a(e)}}))},renderTag(e,t){var i=t.username,a="user";return this.roleCacheMap[t.username]&&(i=this.roleCacheMap[t.username],a="user-group-gray"),e("div",{class:"jb-user-seletor-member-tag",key:t.index,attrs:{title:i}},[e("icon",{attrs:{type:a},class:"tag-icon"}),e("span",{class:"text"},[i])])},renterMerberItem(e,t){var i=t.user,a=t.disabled;return e("div",{class:{"jb-user-selector-member-item":!0,"is-disabled":a},attrs:{title:i.display_name}},[i.logo?e("img",{class:"img",attrs:{src:i.logo}}):e("icon",{attrs:{type:"role"===i.type?"user-group-gray":"user"},class:"item-icon"}),e("span",{class:"text"},[i.display_name]),a?e("icon",{attrs:{type:"forbid",svg:!0},class:"forbid-icon"}):""])},handleChange(e){var t=this,i=[],a=[];e.forEach((function(e){t.roleCacheMap[e]?i.push(e):a.push(e)})),this.checkedUserNums=a.length,this.$emit("on-change",a,i)}}};t.Z=l},43462:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(70969),i(87033),i(9042);var n=a(i(18306)),r={},s={created(){this.id="".concat((0,n.default)(1,1e3),"_").concat(Date.now(),"_PopoverRef"),this.timer=""},mounted(){this.init()},methods:{init(){var e=this;r[this.id]=this.$bkPopover(this.$el,{theme:"list-operation-extend-popover light",interactive:!0,placement:"bottom",content:this.$refs.content,trigger:"click",arrow:!0,size:"small",onShow:function(){Object.keys(r).forEach((function(t){t!==e.id&&r[t].hide()}))}})},handleClick(){r[this.id].hide()}}};t.Z=s},45637:function(e,t,i){"use strict";i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610));i(35927),i(6919),i(87033),i(35948),i(94522);var r=i(30651),s=a(i(60299)),o=a(i(24152)),l=i(41980),c=i(61681);function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var h={name:"",props:{value:{type:Boolean,default:!1},data:{type:Object,default:function(){return{name:"",description:""}}}},setup(e,t){var i=(0,r.reactive)({isSubmiting:!1,formData:{name:"",description:""}}),a=(0,r.ref)(null),n=(0,r.computed)((function(){return e.data.id>0})),u=(0,r.computed)((function(){return n.value?{title:"编辑标签",okText:"保存"}:{title:"新建标签",okText:"提交"}})),h=(0,r.getCurrentInstance)().proxy,p={name:[{required:!0,message:"标签名不能为空",trigger:"blur"},{validator:c.tagNameRule.validator,message:c.tagNameRule.message,trigger:"blur"},{validator:function(t){return s.default.checkName({id:e.data.id||0,name:t})},message:"标签名已存在，请重新输入",trigger:"blur"}]};(0,r.watch)((function(){return e.value}),(function(t){if(t){var a=e.data,n=a.name,r=a.description;i.formData={name:n,description:r}}}),{immediate:!0});var f=function(){t.emit("change",!1),t.emit("input",!1),i.formData={name:"",description:""}};return d(d({},(0,r.toRefs)(i)),{},{formRef:a,dialogInfo:u,rules:p,handleSubmit:function(){return i.isSubmiting=!0,a.value.validate().then((function(){return n.value?s.default.updateTag(d({id:e.data.id},i.formData)).then((function(){window.changeAlert=!1,t.emit("on-change"),h.messageSuccess("编辑标签成功"),f()})):s.default.createTag(i.formData).then((function(e){window.changeAlert=!1,t.emit("on-change",new o.default(e)),h.messageSuccess("新建标签成功"),f()}))})).finally((function(){i.isSubmiting=!1}))},handleCancel:function(){(0,l.leaveConfirm)().then((function(){f()}))}})}};t.Z=h},59042:function(e,t,i){"use strict";i(35927),i(45974),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(23232),i(80433),i(87033),i(9042),i(63762),i(40782),i(85604),i(92186),i(47140),i(35948),i(94522);var n=a(i(33610)),r=a(i(56959)),s=a(i(63715)),o=a(i(16513)),l=i(41980),c=i(46790);function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var h={components:{Empty:s.default},inheritAttrs:!1,props:{dataSource:{type:Function,required:!0},name:String,ignoreUrl:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},paginationSmall:{type:Boolean,default:!1},primaryKey:{type:String,default:"id"},searchControl:{type:Function}},data:()=>({isRendered:!1,isRequesting:!1,isLoading:!0,isSearching:!1,data:[{},{},{}],tableMaxHeight:"",rowSelectMemo:Object.create(null),selectNums:0,params:{},pagination:{count:0,current:1,limit:10}}),computed:{isPageChecked(){if(Object.keys(this.rowSelectMemo).length<1)return!1;for(var e=!0,t=0;t<this.data.length;t++)if(!this.rowSelectMemo[this.data[t][this.primaryKey]]){e=!1;break}return e},isWholeChecked(){return this.selectNums>0&&this.selectNums>=this.pagination.count},realPagination(){return d(d({},this.pagination),{},{small:this.paginationSmall})}},watch:{rowSelectMemo(){this.selectNums=Object.keys(this.rowSelectMemo).length,this.data=[...this.data]}},created(){var e=this,t=this.$route.query.listSelectIds;t&&(t.split(",").forEach((function(t){e.rowSelectMemo[e.primaryKey]=!0})),setTimeout((function(){e.triggerSelectChange()}))),this.defaultSort={},this.requestParamsMemo={},this.ignoreUrl||this.parseURL()},mounted(){var e=this;this.init(),this.$on("onFetch",(function(t){t&&(e.params=Object.freeze(t),e.waitingInit||(e.pagination.current=1),e.waitingInit=!1);var i=e.pagination.limit,a=parseInt(e.pagination.current-1,10)*i,n=d(d(d({},e.defaultSortParams),e.params),{},{pageSize:i,start:a});e.ignoreUrl||(c.routerCache.setItem(e.$route.name,n),window.history.replaceState({},"","?".concat((0,l.buildURLParams)(n)))),e.requestParamsMemo=n,e.isRequesting=!0;var r={data:[{},{},{},{},{},{},{},{},{}],total:100};e.pagination=d(d({},e.pagination),{},{count:r.total||0}),e.$emit("on-refresh",r),setTimeout((function(){e.data=r.data,e.isSearching=!e.checkSearchEmpty()})),e.ignoreUrl||!Object.prototype.hasOwnProperty.call(r,"existAny")||r.existAny||o.default.$emit("page-empty"),e.isLoading=!1,e.isRequesting=!1}))},methods:{init(){var e=(0,l.getOffset)(this.$refs.renderList).top,t=window.innerHeight-e-42-63-20,i=Math.floor(t/42),a=new Set([10,20,50,100,i]);a.has(this.pagination.limit)||a.add(this.pagination.limit),this.pagination.limitList=[...a].sort((function(e,t){return e-t})),this.waitingInit||(this.pagination.limit=i),this.tableMaxHeight=42+42*i+63,this.isRendered=!0},parseURL(){this.URLQuery=this.$route.query;var e=~~this.URLQuery.pageSize,t=~~this.URLQuery.start;this.waitingInit=!1,e&&(this.pagination.current=parseInt(t/e,10)+1,this.pagination.limit=e,this.waitingInit=!0);var i=this.URLQuery,a=i.orderField,n=i.order;a&&(this.defaultSort.prop=a,this.defaultSort.order=~~n?"ascending":"descending"),this.defaultSortParams={},Object.prototype.hasOwnProperty.call(this.URLQuery,"orderField")&&Object.prototype.hasOwnProperty.call(this.URLQuery,"order")&&(this.defaultSortParams={orderField:a,order:n})},resetSelect(){this.handleClearAllSelect()},fetchWhole(){var e=this;this.isWholeChecked||this.$request(this.dataSource(d(d({},this.requestParamsMemo),{},{pageSize:-1,start:-1})),(function(){e.isLoading=!0})).then((function(t){var i={};t.data.forEach((function(t){i[t[e.primaryKey]]=t})),e.rowSelectMemo=Object.freeze(i),e.triggerSelectChange()})).finally((function(){e.isLoading=!1}))},renderHeader(e){var t=this;return e("div",{class:"select-cell"},[t.isWholeChecked?e("div",{class:"jb-whole-check",on:{click:t.handleClearAllSelect}}):e("bk-checkbox",{attrs:{checked:t.isPageChecked},nativeOn:{click:t.handlePageSelectToggle}}),e("bk-popover",{attrs:{placement:"bottom-start",theme:"light jb-table-select-menu",arrow:!1,size:"regular"}},[e("icon",{class:"select-menu-flag",attrs:{type:"down-small"}}),e("div",{slot:"content",class:"jb-table-select-plan"},[e("div",{class:"item",on:{click:this.handlePageSelect}},["本页全选"]),e("div",{class:"item",on:{click:this.fetchWhole}},["跨页全选"])])])])},triggerSelectChange(){var e=this,t=[];Object.keys(this.rowSelectMemo).forEach((function(i){(0,r.default)(e.rowSelectMemo[i])?t.push(e.rowSelectMemo[i]):t.push({[e.primaryKey]:i})})),this.$emit("on-selection-change",t)},handleSort(e){if(e.prop)this.params=Object.freeze(d(d({},this.params),{},{orderField:e.prop,order:{descending:0,ascending:1}[e.order]}));else{var t=d({},this.params);delete t.orderField,delete t.order,this.params=Object.freeze(t)}this.$emit("onFetch")},handlePageChange(e){this.pagination.current=e,this.$emit("onFetch")},handleLimitChange(e){this.pagination.current=1,this.pagination.limit=e,this.$emit("onFetch")},handlePageSelectToggle(){var e=this,t=d({},this.rowSelectMemo);this.data.forEach((function(i){e.isPageChecked?delete t[i[e.primaryKey]]:t[i[e.primaryKey]]=i})),this.rowSelectMemo=Object.freeze(t),this.triggerSelectChange()},handlePageSelect(){var e=this;if(!this.isPageChecked){var t=d({},this.rowSelectMemo);this.data.forEach((function(i){t[i[e.primaryKey]]=i})),this.rowSelectMemo=Object.freeze(t),this.triggerSelectChange()}},handleRowSelect(e,t){var i=d({},this.rowSelectMemo);t?i[e[this.primaryKey]]=e:delete i[e[this.primaryKey]],this.rowSelectMemo=Object.freeze(i),this.triggerSelectChange()},handleClearAllSelect(){this.rowSelectMemo=Object.create(null),this.triggerSelectChange()},checkSearchEmpty(){if(!this.searchControl||"function"!=typeof this.searchControl)return!1;var e=this.searchControl();return!(!e||"function"!=typeof e.checkEmpty)&&e.checkEmpty()},handleClearSearch(){var e=this.searchControl();"function"==typeof e.reset&&e.reset()}}};t.Z=h},39795:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522),i(7170),i(70969);var n=a(i(48373)),r=a(i(39986)),s={name:"",components:{ServerPanel:a(i(29637)).default},props:{title:{type:String,required:!0},hostNodeInfo:{type:Object,required:!0},separator:{type:String,default:"，"}},data:()=>({isLoading:!1,isShowDetail:!1,data:{normalNum:0,abnormalNum:0}}),computed:{isEmpty(){return r.default.isHostNodeInfoEmpty(this.hostNodeInfo)}},watch:{hostNodeInfo(){this.fetchData()}},created(){this.fetchData()},methods:{fetchData(){var e=this;if(this.isEmpty||this.isLoading)this.isLoading=!1;else{this.isLoading=!0;var t=this.hostNodeInfo,i=t.dynamicGroupList,a=t.ipList,r=t.topoNodeList;n.default.fetchHostStatistics({appTopoNodeList:r.map((function(e){return{objectId:e.type,instanceId:e.id}})),dynamicGroupIds:i,ipList:a.map((function(e){return"".concat(e.cloudAreaInfo.id,":").concat(e.ip)}))}).then((function(t){e.data=t})).finally((function(){e.isLoading=!1}))}},handleShowDetail(){this.isShowDetail=!0},handleClose(){this.isShowDetail=!1}}};t.Z=s},66525:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(58794);var a={name:"",props:{value:{type:String,default:""},placeholder:String,resize:{type:Boolean,default:!1}},data(){return{localValue:this.value,focused:!1}},computed:{stylees(){var e={};return this.focused?e["z-index"]=1999:(e.height="30px",e.overflow="hidden",e["white-space"]="pre",e["text-overflow"]="ellipsis"),e},showPlaceholder(){return!this.focused&&!this.localValue}},mounted(){this.init()},methods:{init(){this.$refs.input.innerText=this.value},focus(){this.$refs.input.focus()},handleInputFocus(){var e=this;this.focus(),setTimeout((function(){e.$refs.input.selectionStart=e.localValue.length,e.$refs.input.selectionEnd=e.localValue.length}))},handleInput(e){var t=e.target.outerText;this.localValue=t.trim(),this.$emit("input",this.localValue),this.$emit("change",this.localValue)},handleFocus(){this.focused=!0},handleBlur(){this.focused=!1,this.$refs.input.scrollTop=0,this.$emit("blur",this.localValue)},handlePaste(e){e.preventDefault(),e.stopPropagation();var t="",i=e.originalEvent||e;i.clipboardData&&i.clipboardData.getData?t=i.clipboardData.getData("text/plain"):window.clipboardData&&window.clipboardData.getData&&(t=window.clipboardData.getData("Text")),document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,t):document.execCommand("paste",!1,t)}}};t.Z=a},67114:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i={name:"",props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},created(){this.tips={content:"步骤有执行失败的目标，将会自动忽略并进入下一步",width:310,placement:"right"}},methods:{handleChange(e){this.$emit("on-change",this.field,e)}}};t.Z=i},9059:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(5580),i(87033);var n=a(i(36410)),r=a(i(39986)),s=i(41980),o=a(i(34109)),l=a(i(96481)),c=a(i(29637)),u={components:{ComposeFormItem:o.default,ChooseIp:l.default,ServerPanel:c.default},inheritAttrs:!1,props:{taskHostNode:{type:Object,required:!0},variable:{type:Array,default:function(){return[]}},property:{type:String},mode:{type:String,default:""}},data:()=>({isShowChooseIp:!1,searchText:"",isSearchMode:!1,searchData:[],targetType:"variable",localVariable:"",localHost:{}}),computed:{isGolbalVariableType(){return"variable"===this.targetType},isShowServerPanel(){return!this.isGolbalVariableType&&!r.default.isHostNodeInfoEmpty(this.localHost)},isShowServerAction(){return!this.isGolbalVariableType&&!r.default.isHostNodeInfoEmpty(this.localHost)},isClearFailDisabled(){return this.localHost.ipList.length<1},isShowHostSearchInput(){return!this.isGolbalVariableType&&this.localHost.ipList.length>0},targetSelectorStyle:()=>({width:"120px"})},watch:{taskHostNode:{handler(e){var t=e.hostNodeInfo,i=e.variable;this.localHost=t,this.localVariable=i,"onlyHost"!==this.mode&&r.default.isHostNodeInfoEmpty(this.localHost)||(this.targetType="hostNodeInfo")},immediate:!0}},created(){var e=this;this.isGolbalVariableType&&(this.localVariable?this.variable.find((function(t){return t.name===e.localVariable}))||setTimeout((function(){e.handleVariableChange("")})):this.variable.length>0&&setTimeout((function(){e.handleVariableChange(e.variable[0].name)}))),this.rules=[{validator:function(){return e.isGolbalVariableType?Boolean(e.localVariable):!r.default.isHostNodeInfoEmpty(e.localHost)},message:"目标服务器必填",trigger:"change"}]},methods:{triggerChange(){var e=new r.default({});this.isGolbalVariableType?e.variable=this.localVariable:e.hostNodeInfo=this.localHost,e.isEmpty||this.$refs.targetServerRef.clearValidator(),this.$emit("on-change",Object.freeze(e))},handleTargetTypeChange(e){this.targetType=e,this.triggerChange()},handleShowChooseIp(){this.isShowChooseIp=!0,this.searchText=""},handleVariableChange(e){this.localVariable=e,this.triggerChange()},handleHostChange(e){this.localHost=Object.freeze(e),this.triggerChange()},handleCopyAll(){var e=this.$refs.serverPanel.getAllIP();e.length<1?this.messageWarn("你还未选择主机"):(0,s.execCopy)(e.join("\n"),"复制成功".concat("（",e.length,"个IP","）"))},handleCopyFail(){var e=this.$refs.serverPanel.getAllIP(!0);e.length<1?this.messageWarn("暂无异常主机"):(0,s.execCopy)(e.join("\n"),"复制成功".concat("（",e.length,"个IP","）"))},handleClearAll(){var e=new r.default({}).hostNodeInfo;this.localHost=Object.freeze(e),this.messageSuccess("清空成功"),this.triggerChange()},handleRefreshHost(){this.$refs.serverPanel.refresh()},handleHostSearch(e){this.searchText=(0,n.default)(e),this.searchData=Object.freeze(this.$refs.serverPanel.getAllHost(e))}}};t.Z=u},51346:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(63762);var n={components:{JbInput:a(i(86234)).default},props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}},label:{type:String,default:"步骤名称"},placeholder:{type:String,default:"请输入步骤名称"}},created(){this.rules=[{required:!0,message:"".concat(this.label,"必填"),trigger:"blur"},{validator:function(e){return/^[^\\|/:*<>"?]{1,60}$/.test(e)},message:"".concat(this.label,"不允许包含",'\\ | / : * < > " ?'),trigger:"blur"}]},methods:{handleChange(e){this.$emit("on-change",this.field,e)}}};t.Z=n},91889:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(70969),i(87033),i(9042);var a={},n={name:"SourceFileExtendAction",created(){this.id="action_extend_".concat(Math.random(),"_").concat(Date.now())},mounted(){this.init()},beforeDestroy(){a[this.id].hide(),delete a[this.id]},methods:{init(){var e=this;a[this.id]=this.$bkPopover(this.$el,{theme:"source-file-action-extend-popover",interactive:!0,placement:"bottom",content:this.$refs.popoverContent,trigger:"mouseover",arrow:!0,onShow:function(){Object.keys(a).forEach((function(t){t!==e.id&&a[t].hide()}))}})},handleWraperClick(){this.handleClose()},handleHide(){var e=this;this.leaveTimer=setTimeout((function(){e.handleClose()}),3e3)},handleShow(){clearTimeout(this.leaveTimer)},handleClose(){a[this.id]&&a[this.id].hide()}}};t.Z=n},47997:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(71959),i(87033),i(63762),i(40782),i(70201);var n=a(i(36410)),r=a(i(38061)),s=i(61681),o=function(e){return e.split("\n").reduce((function(e,t){var i=(0,n.default)(t);return i&&e.push(i),e}),[])},l={name:"",components:{SmartInput:r.default},props:{value:{type:Array,default:""},mode:{type:String,default:"edit"}},data:()=>({showEdit:!1,isError:!1,renderValue:[],tempValue:"",error:""}),computed:{displayRows(){return this.renderValue.slice(0,3)},hasMore(){return this.renderValue.length>3},styles(){return this.showEdit?{visibility:"hidden"}:{visibility:"visible"}}},watch:{value:{handler(e){this.renderValue=e,this.tempValue=e.join("\n")},immediate:!0}},methods:{handleShowEdit(){var e=this;this.showEdit=!0,this.$nextTick((function(){e.$refs.pathEdit.focus()}))},handleEditChange(e){this.error="",e||(this.error="路径不能为空"),this.tempValue=e},handleEditSubmit(){if(this.error)this.$refs.pathEdit.focused=!0;else{var e=o(this.tempValue);if(!e.every((function(e){return s.filePathRule.validator(e)})))return this.error="路径格式不正确",this.showEdit=!0,void(this.$refs.pathEdit.focused=!0);this.showEdit=!1,this.renderValue=e,this.$emit("on-change",e)}},handleCreateSubmit(e){this.tempValue=e;var t=o(this.tempValue);t.every((function(e){return s.filePathRule.validator(e)}))?(this.error="",this.renderValue=t,this.$emit("on-change",t)):this.error="路径格式不正确"},handleCreteaBlur(){this.error&&(this.$refs.pathSubmit.focused=!0)}}};t.Z=l},30638:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522),i(70969);var n=a(i(33610)),r=a(i(38502)),s=i(45614),o=a(i(1249));function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var u={name:"SourceFileBase",components:{ViewFile:a(i(47010)).default},inheritAttrs:!1,props:{field:{type:String,default:""},data:{type:Array,default:function(){return[]}}},data:()=>({isConfigLoading:!0,isAddServerFile:!1,sourceFileList:[{},{},{}],showFileView:!1,fileMaxUploadSize:"2GB",ENABLE_FEATURE_FILE_MANAGE:!1}),watch:{data:{handler(e){this.isSelfChange?this.isSelfChange=!1:e.length<1&&this.sourceFileList.length>0?this.sourceFileList=[]:this.sourceFileList.length<1&&(this.sourceFileList=(0,r.default)(e),this.isAddServerFile=this.sourceFileList.some((function(e){return e.isServerFile})))},immediate:!0},sourceFileList(e){e.length>0&&this.$refs.item.clearValidator()}},created(){var e=this;this.rules=[{validator:function(){return e.sourceFileList.length<1&&(e.updateFileUploadFailed(!1),e.updateFileUploading(!1)),e.sourceFileList.length},message:"源文件必填",trigger:"blur"},{validator:function(){for(var t=0;t<e.sourceFileList.length;t++){var i=e.sourceFileList[t];if(i.isLocalFile&&"danger"===i.uploadStatus)return e.updateFileUploadFailed(!0),!1}return e.updateFileUploadFailed(!1),!0},message:"本地源文件上传失败",trigger:"blur"},{validator:function(){for(var t=0;t<e.sourceFileList.length;t++){var i=e.sourceFileList[t];if(i.isLocalFile&&"primary"===i.uploadStatus)return e.updateFileUploading(!0),!1}return e.updateFileUploading(!1),!0},message:"本地源文件上传未完成",trigger:"change"},{validator:function(){for(var t=0;t<e.sourceFileList.length;t++){var i=e.sourceFileList[t];if(i.isServerFile&&i.fileLocation.length<1)return!1}return!0},message:"服务器源文件路径必填",trigger:"change"},{validator:function(){for(var t=0;t<e.sourceFileList.length;t++){var i=e.sourceFileList[t];if(i.isServerFile&&(i.isVar&&i.host.isEmpty))return!1}return!0},message:"服务器源文件中服务器列表不能为空",trigger:"change"}],this.uploadFileTipsConfig={allowHtml:!0,width:"335px",theme:"light",trigger:"mouseenter",content:"#uploadFileTips",placement:"right-start"},this.fetchJobConfig()},mounted(){var e=this,t=this.$watch((function(){return e.$refs.serverFileView.isShow}),(function(t){e.showFileView=t}),{immediate:!0});this.$once("hook:beforeDestroy",(function(){t()}))},methods:c(c({},(0,s.mapMutations)("distroFile",["updateFileUploading","updateFileUploadFailed"])),{},{fetchJobConfig(){var e=this;this.isConfigLoading=!0,o.default.fetchJobConfig().then((function(t){var i=t.FILE_UPLOAD_SETTING,a=i.amount,n=i.unit;e.fileMaxUploadSize="".concat(a).concat(n),e.ENABLE_FEATURE_FILE_MANAGE=t.ENABLE_FEATURE_FILE_MANAGE})).finally((function(){e.isConfigLoading=!1}))},triggerChange(){this.isSelfChange=!0,this.$emit("on-change",this.sourceFileList)},handleAddServerFile(){this.isAddServerFile=!0},handleAddSourceFile(){this.$refs.serverFileView.handleAddSourceFile()},handlerUploadLocalFile(){this.isAddLocalFile=!0,this.$refs.serverFileView.startUploadLocalFile()},handleSourceFileChange(e){this.sourceFileList=Object.freeze(e),this.triggerChange()}})};t.Z=u},71152:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(9042),i(23232),i(80433),i(92186);var n=a(i(12584)),r=a(i(78669)),s=a(i(26782)),o=a(i(74654)),l=a(i(509)),c={name:"SourceFileView",components:{JbCollapseItem:n.default,ActionExtend:r.default,LocalFile:s.default,ServerFile:o.default,SourceFile:l.default},inheritAttrs:!1,model:{prop:"showAddServerFile",event:"update"},props:{showAddServerFile:{type:Boolean,default:!1},isAddSourceFile:{type:Boolean,defaule:!1},mode:{type:String,default:""},data:{type:Array,default:function(){return[]}},account:{type:Array,default:function(){return[]}}},data:()=>({activeResult:[],localFileList:[{},{},{}],serverFileList:[{},{},{}],sourceFileList:[{},{},{}]}),computed:{isShow(){return this.isShowLocalFile||this.isShowServerFile||this.isShowSourceFile},isShowLocalFile(){return this.localFileList.length>0},isShowServerFile(){return this.showAddServerFile},isShowSourceFile(){return this.sourceFileList.length>0}},watch:{data:{handler(e){var t=this;this.isInnerChange?this.isInnerChange=!1:(this.activeResult=[],this.localFileList=[],this.serverFileList=[],this.sourceFileList=[],e.forEach((function(e){e.isServerFile?t.serverFileList.push(e):e.isLocalFile?t.localFileList.push(e):e.isSourceFile&&t.sourceFileList.push(e)})),this.localFileList.length>0&&this.activeResult.push("local"),(this.showAddServerFile||this.serverFileList.length>0)&&this.activeResult.push("server"),this.sourceFileList.length>0&&this.activeResult.push("source"))},immediate:!0},showAddServerFile(e){e&&this.activeResult.push("server")},isAddSourceFile(e){e&&this.activeResult.push("source")}},methods:{trigger(){this.isInnerChange=!0,this.$emit("on-change",[...this.localFileList,...this.serverFileList,...this.sourceFileList])},handleServerClose(){this.$emit("update",!1)},handleServerFileChange(e){e.length>0&&(this.activeResult=[...new Set([...this.activeResult,"server"])]),this.serverFileList=Object.freeze(e),this.trigger()},handleAddSourceFile(){this.$refs.sourceFile.handleShowSourceDialog()},handleSourceFileChange(e){e.length>0&&(this.activeResult=[...new Set([...this.activeResult,"source"])]),this.sourceFileList=Object.freeze(e),this.trigger()},startUploadLocalFile(){this.$refs.localFile.startUpload()},handleLocalFileChange(e){e.length>0&&(this.activeResult=[...new Set([...this.activeResult,"local"])]),this.localFileList=Object.freeze(e),this.trigger()},handleRemoveAllLocal(){this.localFileList=[],this.trigger()}}};t.Z=c},23072:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(70969),i(23232),i(80433),i(87033),i(9042),i(30254),i(56259),i(63762),i(95179),i(7170),i(77036);var n=a(i(67713)),r=a(i(1249)),s=a(i(36166)),o=i(41980),l={name:"",props:{data:{type:Array,required:!0}},data:()=>({fileList:[{},{},{}],FILE_UPLOAD_SETTING:{amount:2,unit:"GB",restrictMode:-1,suffixList:[{},{},{}]}}),computed:{fileUploadMaxBytes(){var e=this.FILE_UPLOAD_SETTING,t=e.amount,i=e.unit,a={GB:1073741824,MB:1048576};return a[i.toUpperCase()]?Number(t)*a[i]:i},fileMaxUploadSizeText(){var e=this.FILE_UPLOAD_SETTING,t=e.amount,i=e.unit;return"".concat(t).concat(i)}},watch:{data:{handler(e){this.innerChange?this.innerChange=!1:this.fileList.length<1&&(this.fileList=e)},immediate:!0}},created(){this.fetchJobConfig()},methods:{fetchJobConfig(){var e=this;r.default.fetchJobConfig().then((function(t){e.FILE_UPLOAD_SETTING=t.FILE_UPLOAD_SETTING}))},startUpload(){this.$refs.uploadInput.click()},triggerChange(){this.innerChange=!0,this.$emit("on-change",[...this.fileList])},handleStartUpload(e){var t=this,i=e.target.files,a=[],r=new FormData,l=[],c=[],u=[],d=[],h=this.FILE_UPLOAD_SETTING,p=h.restrictMode,f=h.suffixList,v=void 0===f?[]:f;Array.from(i).forEach((function(e){var i=e.name,n=e.size;if(v&&v.length>0){var h=new RegExp("(".concat(v.map((function(e){return(0,o.encodeRegexp)(e)})).join("|"),")$"));if(1===p&&!h.test(i))return void u.push(i);if(0===p&&h.test(i))return void d.push(i)}if(t.fileList.some((function(e){return e.fileLocationText===i})))l.push(i);else if(n>t.fileUploadMaxBytes)c.push(i);else{var f=new s.default({fileLocation:[i],fileSize:n,fileType:s.default.typeLocal});a.push(f),r.append("uploadFiles",e)}})),u.length>0&&this.messageError("文件".concat("[",u.join(" / "),"]","的类型不在允许范围：").concat(v.join("、"))),d.length>0&&this.messageError("文件".concat("[",d.join(" / "),"]","的类型在不允许范围：").concat(v.join("、"))),l.length>0&&this.messageError("文件".concat("[",l.join(" / "),"]","已添加")),c.length>0&&this.messageError("文件".concat("[",c.join(" / "),"]","上传失败（本地文件最大仅支持").concat(this.fileMaxUploadSizeText,"）")),a.length<1?this.$refs.uploadInput.value="":(this.fileList.push(...a),n.default.getUploadFileContent(r,{onUploadProgress:function(e){a.forEach((function(t){var i=e.loaded,a=e.total;t.loaded=i,t.loadTotal=a}))}}).then((function(e){a.forEach((function(t,i){var a=e[i],n=a.md5,r=a.filePath,s=a.fileSize;t.fileHash=n,t.fileLocation=[r],t.fileSize=s,t.uploadStatus="success"})),t.triggerChange()})).catch((function(){a.forEach((function(e){e.uploadStatus="danger"}))})),this.$refs.uploadInput.value="",this.triggerChange())},handlerRemove(e){this.fileList.splice(e,1),this.triggerChange()}}};t.Z=l},48800:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610)),r=a(i(93435)),s=i(45614),o=a(i(39986)),l=a(i(36166)),c=i(88777),u=a(i(96481)),d=a(i(64571)),h=a(i(71336));function p(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?p(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):p(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var v=function(){return new l.default({fileLocation:[],fileType:l.default.typeServer,account:""})},m={name:"",components:{ChooseIp:u.default,AccountSelect:d.default,EditFilePath:h.default},props:{data:{type:Array,required:!0},account:{type:Array,required:!0},variable:{type:Array,required:!0}},data(){return{isShowChooseIp:!1,hasSaved:this.data.length>0,sourceFileType:"globalVar",serverFile:new l.default(v()),reset:0}},created(){this.variable.length>0&&(this.handleVariableChange(this.variable[0].name),window.changeAlert=!1,this.editNewSourceFile(!1))},methods:f(f({},(0,s.mapMutations)("distroFile",["editNewSourceFile"])),{},{handleFileChange(e){this.serverFile.fileLocation=e,window.changeAlert=!0,this.editNewSourceFile(!0)},handleSourceFileTypeChange(e){this.sourceFileType=e,this.serverFile.host=new o.default({});var t=(0,c.findParent)(this,"JbFormItem");t&&setTimeout((function(){t.clearValidator()}))},handleVariableChange(e){if(e){this.serverFile.host.variable=e,window.changeAlert=!0,this.editNewSourceFile(!0);var t=(0,c.findParent)(this,"JbFormItem");t&&setTimeout((function(){t.clearValidator()}))}},handleShowChooseIp(){this.isShowChooseIp=!0},handleHostChange(e){window.changeAlert=!0,this.serverFile.host.hostNodeInfo=e,this.editNewSourceFile(!0)},handleAccountChange(e){if(""!==e){var t=(0,r.default)(this.account,(function(t){return t.id===e})).id;this.serverFile.account=t;var i=(0,c.findParent)(this,"JbFormItem");i&&setTimeout((function(){i.clearValidator()}))}},handleAddNew(){this.hasSaved=!1},handlerSave(){this.$emit("on-change",this.serverFile),this.handlerCancel()},handlerCancel(){var e=this;this.$emit("on-cancel"),this.serverFile=v(),this.sourceFileType="globalVar",this.$refs.chooseIp.reset(),this.reset+=1,this.hasSaved=!0,setTimeout((function(){e.editNewSourceFile(!1)}))}})};t.Z=m},70990:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522),i(5580),i(23232),i(80433),i(77036);var n=a(i(33610)),r=i(45614),s=a(i(6089)),o=a(i(39986)),l=a(i(96481)),c=a(i(83797)),u=a(i(64571)),d=a(i(83040)),h=a(i(54691)),p=a(i(71336));function f(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function v(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?f(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):f(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var m={name:"SourceFileServer",components:{ChooseIp:l.default,RenderServerAgent:c.default,AccountSelect:u.default,AddOnlyHost:d.default,AddHostAndVariable:h.default,EditFilePath:p.default},inheritAttrs:!1,props:{data:{type:Array,required:!0},mode:{type:String,default:""},variable:{type:Array,default:function(){return[]}}},data:()=>({isLoading:!0,serverFileList:[{},{},{}],currentHost:{},accountList:[{},{},{}],isShowChooseIp:!1,currentIndex:0}),computed:{addCom(){return this.isLoading?"div":"onlyHost"===this.mode?d.default:h.default},agentSeparator(){return"onlyHost"===this.mode?"、":"\n"}},watch:{data:{handler(e){this.innerChange?this.innerChange=!1:this.serverFileList=e},immediate:!0}},created(){this.fetchAccount(),this.editNewSourceFile(!1)},methods:v(v({},(0,r.mapMutations)("distroFile",["editNewSourceFile"])),{},{fetchAccount(){var e=this;s.default.fetchAccountWhole({category:1}).then((function(t){e.accountList=t})).finally((function(){e.isLoading=!1}))},findVariableValue(e){var t=this.variable.find((function(t){return t.name===e}));return t?t.defaultTargetValue.hostNodeInfo:new o.default({}).hostNodeInfo},triggerChange(){this.innerChange=!0,this.$emit("on-change",[...this.serverFileList])},handleFilePathEdit(e,t){this.serverFileList[t].fileLocation=e,this.triggerChange()},handleHostEdit(e){this.isShowChooseIp=!0,this.currentIndex=e,this.currentHost=this.data[e].host.hostNodeInfo},handleHostChange(e){this.serverFileList[this.currentIndex].host.hostNodeInfo=e,this.triggerChange()},handleVariableChange(e,t){this.serverFileList[t].host.variable=e,this.triggerChange()},handleEditAccount(e){this.serverFileList[e].isEditAccount=!0,this.editAccountIndex=e,this.triggerChange()},handleAccountChange(e,t){this.serverFileList[t].account=e,this.triggerChange()},handlerRemove(e){this.serverFileList.splice(e,1),this.triggerChange()},handleAddSave(e){this.serverFileList.push(e),this.triggerChange()},handleAddCancel(){this.serverFileList.length<1&&this.$emit("on-close")}})};t.Z=m},16021:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610)),r=a(i(93435)),s=i(45614),o=a(i(36166)),l=i(88777),c=a(i(96481)),u=a(i(64571)),d=a(i(71336));function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f=function(){return new o.default({fileLocation:[],fileType:o.default.typeServer,account:""})},v={name:"",components:{ChooseIp:c.default,AccountSelect:u.default,EditFilePath:d.default},props:{data:{type:Array,required:!0},account:{type:Array,required:!0}},data(){return{isShowChooseIp:!1,hasSaved:this.data.length>0,serverFile:new o.default(f())}},methods:p(p({},(0,s.mapMutations)("distroFile",["editNewSourceFile"])),{},{handleFileChange(e){window.changeAlert=!0,this.serverFile.fileLocation=e,this.editNewSourceFile(!0)},handleHostChange(e){this.serverFile.host.hostNodeInfo=Object.freeze(e),window.changeAlert=!0,this.editNewSourceFile(!0)},handleShowChooseIp(){this.isShowChooseIp=!0},handleAccountChange(e){if(""!==e){var t=(0,r.default)(this.account,(function(t){return t.id===e})).id;this.serverFile.account=t;var i=(0,l.findParent)(this,"JbFormItem");i&&setTimeout((function(){i.clearValidator()}))}},handleAddNew(){this.hasSaved=!1},handlerSave(){this.$emit("on-change",this.serverFile),this.handlerCancel()},handlerCancel(){var e=this;this.$emit("on-cancel"),this.serverFile=f(),this.$refs.chooseIp.reset(),this.hasSaved=!0,setTimeout((function(){e.editNewSourceFile(!1)}))}})};t.Z=v},1327:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(23232),i(80433);var n=a(i(36166)),r=a(i(33221)),s=a(i(34850)),o="selectFileSource",l="selectFile",c={components:{SelectFileSource:r.default,SelectFile:s.default},props:{value:{type:Boolean,defaule:!1},sourceFile:{type:Object,defaule:function(){return{}}}},data:()=>({isLoading:!1,selectStep:o,fileSourceId:"",fileLocation:[]}),computed:{panelCom(){return this.fileSourceId?{[o]:r.default,[l]:s.default}[this.selectStep]:r.default},isSelectedEmpty(){return this.fileLocation.length<1}},watch:{value:{handler(e){if(e)if(this.sourceFile.fileSourceId){var t=this.sourceFile,i=t.fileSourceId,a=t.fileLocation;this.fileSourceId=i,this.fileLocation=a,this.selectStep=l}else this.fileSourceId="",this.fileLocation=[],this.selectStep=o},immediate:!0}},methods:{handleSourceChange(e){this.fileSourceId=e.id,this.selectStep=l,this.fileLocation=[]},handelFileChange(e){this.fileLocation=Object.freeze([...e])},handleSubmit(){var e=new n.default({fileSourceId:this.fileSourceId,fileType:3,fileLocation:this.fileLocation});this.$emit("on-change",e),this.handleCancle()},handleCancle(){this.$emit("input",!1)}}};t.Z=c},88380:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522);var n=a(i(77480)),r={components:{ListActionLayout:a(i(80712)).default},data:()=>({isLoading:!1,tableData:[],searchParams:[]}),created(){this.fetchData()},methods:{fetchData(){var e=this;this.isLoading=!0,n.default.availableSourceList(this.searchParams).then((function(t){var i=t.data;e.tableData=Object.freeze(i)})).finally((function(){e.isLoading=!1}))},handleSearch(e){this.searchParams={alias:e},this.fetchData()},handleGoBucket(e){this.$emit("on-source-change",e)}}};t.Z=r},12989:function(e,t,i){"use strict";i(35927),i(43364),i(23232),i(58596),i(80433);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(71959),i(87033),i(63762),i(40782),i(70969),i(9042),i(70201),i(35948),i(94522),i(85604),i(45974),i(5580),i(92974);var n=a(i(33610)),r=a(i(56318)),s=a(i(36410)),o=a(i(82087)),l=a(i(80712)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=u(t);if(i&&i.has(e))return i.get(e);var a={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=n?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}a.default=e,i&&i.set(e,a);return a}(i(86093));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(u=function(e){return e?i:t})(e)}function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var p={components:{ListActionLayout:l.default,RenderFileListColumn:c.default},props:{fileSourceId:{type:Number,required:!0},fileLocation:{type:Array,default:function(){return[]}}},data:()=>({isLoading:!1,renderColumns:{},tableData:[],path:"",name:"",pagination:{count:0,current:1,limit:10,"limit-list":[10],small:!0,"show-total-count":!0,"show-limit":!1},rowSelectMemo:{},fileSourceInfo:{alias:"alias"}}),computed:{pathStack(){return this.path.split("/").reduce((function(e,t){if(t){var i=e.length>0?e[e.length-1].path:"";e.push({path:"".concat(i).concat(t,"/"),name:t})}return e}),[])},isPageCheckedInfo(){var e=0,t=0,i=this.tableData.length;if(Object.keys(this.rowSelectMemo).length>0)for(var a=0;a<i;a++){var n=this.tableData[a];n.dir?t+=1:this.rowSelectMemo[n.completePath]&&(e+=1)}return{checked:i>0&&e+t===i,indeterminate:i>0&&e>0}}},watch:{fileLocation:{handler(e){var t=this;if(this.isInnerChange)this.isInnerChange=!1;else{this.rowSelectMemo=Object.freeze(e.reduce((function(e,t){return e[t]=!0,e}),{}));var i=function(e){return e.split("/").length};if(e.length>0){var a=(0,r.default)(e,1)[0];e.forEach((function(e){i(a)>i(e)&&(a=e)})),this.path=a.split("/").slice(0,-1).join("/")}setTimeout((function(){t.fetchData()}))}},immediate:!0}},created(){this.wholeTableRowSelect=!1,this.isInnerChange=!1},methods:{fetchData(){var e=this;this.isLoading=!0,o.default.fetchgetListFileNode({fileSourceId:this.fileSourceId,path:this.path,name:this.name,pageSize:this.pagination.limit,start:parseInt(this.pagination.current-1,10)*this.pagination.limit}).then((function(t){e.tableData=Object.freeze(t.data),e.renderColumns=Object.freeze(t.metaData.properties.filter((function(e){return"buttonGroup"!==e.type}))),e.fileSourceInfo=Object.freeze(t.fileSourceInfo),e.pagination=h(h({},e.pagination),{},{count:t.total})})).finally((function(){e.isLoading=!1}))},renderHeader(e){return e("bk-checkbox",{attrs:{value:this.wholeTableRowSelect},on:{change:this.handlePageSelectToggle}})},resetSearchParams(){this.wholeTableRowSelect=!1,this.name="",this.pagination.current=1},triggerChange(){this.isInnerChange=!0,this.$emit("on-file-change",Object.keys(this.rowSelectMemo))},handleBackLast(){var e=this.pathStack[this.pathStack.length-2];this.handlePathLocation(e.path)},handleGoSourceList(){this.$emit("on-source-change",{id:""})},handlePathLocation(e){(0,s.default)(e,"/")!==(0,s.default)(this.path,"/")&&(this.resetSearchParams(),this.path=e,this.fetchData())},handleLink(e){this.resetSearchParams(),this.path=e,this.fetchData()},handleSearch(e){this.resetSearchParams(),this.name=e,this.fetchData()},handlePageSelectToggle(e){var t=this;this.isLoading=!0,o.default.fetchgetListFileNode({fileSourceId:this.fileSourceId,path:this.path,name:this.name,pageSize:-1,start:0}).then((function(i){var a=i.data,n=i.metaData.properties.find((function(e){var t=e.type;return(0,c.checkIsCheckboxColumn)(t)}));if(n){var r=Object.assign({},t.rowSelectMemo);a.forEach((function(t){e?(0,c.parseCondition)(n.enable,t)&&(r[t.completePath]=!0):delete r[t.completePath]})),t.rowSelectMemo=Object.freeze(r),t.triggerChange()}})).finally((function(){t.isLoading=!1}))},handleRowSelect(e,t){var i=Object.assign({},this.rowSelectMemo);t?i[e]=!0:delete i[e],this.rowSelectMemo=Object.freeze(i),this.triggerChange()},handlePageChange(e){this.pagination.current=e,this.fetchData()}}};t.Z=p},60592:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(70201);var a={name:"",props:{data:{type:Array,default:function(){return[]}}},data:()=>({}),computed:{renderData(){return this.data.slice(0,3)},hasMore(){return this.data.length>3}},methods:{}};t.Z=a},42:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024);var n=a(i(77480)),r={props:{fileSourceId:{type:Number,required:!0}},data:()=>({isLoading:!1,fileSourceAlias:""}),created(){this.fetchSourceFileInfo()},methods:{fetchSourceFileInfo(){var e=this;n.default.getSourceInfo({id:this.fileSourceId}).then((function(t){e.fileSourceAlias=t.alias}))},handleGoFileSource(){var e=this.$router.resolve({name:"fileList",query:{fileSourceId:this.fileSourceId}}).href;window.open(e,"_blank")}}};t.Z=r},77079:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(23232),i(80433),i(77036);var n=a(i(89415)),r=a(i(69385)),s=a(i(34014)),o={components:{ChooseSourceFile:n.default,RenderFileName:s.default,RenderSourceName:r.default},props:{data:{type:Array,default:function(){return[]}}},data:()=>({isShowSourceFile:!1,editSourceFileIndex:-1,list:[{},{},{}]}),watch:{data:{handler(e){this.innerChange?this.innerChange=!1:this.list=Object.freeze(e)},immediate:!0}},methods:{triggerChange(){this.innerChange=!0,this.$emit("on-change",[...this.list])},handleSourceFileChange(e){var t=[...this.list];this.editSourceFileIndex>-1?t.splice(this.editSourceFileIndex,1,e):t.push(e),this.list=Object.freeze(t),this.editSourceFileIndex=-1,this.triggerChange()},handleShowSourceDialog(){this.isShowSourceFile=!0,this.editSourceFileIndex=-1},handleEditSourceFile(e){this.isShowSourceFile=!0,this.editSourceFileIndex=e},handlerRemove(e){var t=[...this.list];t.splice(this.editSourceFileIndex,1),this.list=Object.freeze(t),this.triggerChange()}}};t.Z=o},12606:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(5068)),r={props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},methods:{showTips(){this.popperInstance||(this.popperInstance=(0,n.default)(this.$refs.input.$el,{arrow:!0,placement:"right",trigger:"manual",theme:"light",interactive:!0,hideOnClick:!1,animation:"slide-toggle",lazy:!1,size:"small",boundary:"window",distance:20,zIndex:window.__bk_zIndex_manager.nextZIndex()}),this.popperInstance.setContent(this.$refs.tips)),this.popperInstance.show()},hideTips(){this.isMouseenter||this.popperInstance.hide()},handleMouseenter(){clearTimeout(this.hideTimer),this.showTips()},handleMouseleave(){var e=this;this.isMouseenter=!1,this.hideTimer=setTimeout((function(){e.isInputFocus||e.hideTips()}),100)},handleInputFocus(){this.isInputFocus=!0,this.showTips()},handleInputBlur(){this.isInputFocus=!1,this.hideTips()},handleTipsMouseenter(){clearTimeout(this.hideTimer),this.isMouseenter=!0},handleChange(e){this.$emit("on-change",this.field,e)}}};t.Z=r},33238:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(27559)),r=a(i(73524)),s=a(i(43807)),o=a(i(32105)),l=a(i(51397)),c=a(i(92578)),u=a(i(21828)),d=a(i(42875)),h=a(i(41158)),p=a(i(68229)),f=a(i(77006)),v={stepName:r.default,sourceFileOfExecution:o.default,sourceFileOfTemplate:l.default,targetPath:c.default,errorHandle:n.default,transferMode:u.default,executeAccount:d.default,targetServerOfTemplate:h.default,targetServerOfExecution:p.default,timeout:s.default,speedLimit:f.default},m={name:"ExecuteFileItemFactory",inheritAttrs:!1,props:{name:{type:String,default:""}},computed:{itemCom(){return Object.prototype.hasOwnProperty.call(v,this.name)?v[this.name]:"div"}}};t.Z=m},9455:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={components:{AccountSelect:a(i(64571)).default},props:{field:{type:String,required:!0},formData:{type:Object,required:!0}},created(){this.rules=[{required:!0,message:"执行账号必填",trigger:"blur"}]},methods:{handleChange(e){this.$emit("on-change",this.field,e)}}};t.Z=n},54225:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(7170);var n=a(i(36166)),r={components:{SourceFile:a(i(80241)).default},inheritAttrs:!1,props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},data:()=>({fileSources:[]}),watch:{formData:{handler(e){this.fileSources=Object.freeze(e[this.field].map((function(e){var t=new n.default(e);return t.loaded=1,t.uploadStatus="success",t})))},immediate:!0}},methods:{handleSourceFileChange(e){var t=e.map((function(e){return{fileHash:e.fileHash,fileLocation:e.fileLocation,fileType:e.fileType,fileSize:"".concat(e.fileSize),host:e.host,account:e.account,id:e.id,fileSourceId:e.fileSourceId}}));this.$emit("on-change",this.field,Object.freeze(t))}}};t.Z=r},5401:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(7170);var n=a(i(36166)),r={name:"SourceFileOfTemplate",components:{SourceFile:a(i(80241)).default},inheritAttrs:!1,props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}},variable:{type:Array,default:function(){return[]}}},data:()=>({isAddServeFile:!1,fileSources:[]}),watch:{formData:{handler(e){this.fileSources=Object.freeze(e[this.field].map((function(e){var t=new n.default(e);return t.loaded=1,t.uploadStatus="success",t})))},immediate:!0}},methods:{handleSourceFileChange(e){var t=e.map((function(e){return{fileHash:e.fileHash,fileLocation:e.fileLocation,fileType:e.fileType,fileSize:"".concat(e.fileSize),host:e.host,account:e.account,id:e.id,fileSourceId:e.fileSourceId}}));this.$emit("on-change",this.field,Object.freeze(t))}}};t.Z=r},33116:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i={name:"",props:{field:{type:String,required:!0},label:{type:String,default:"限速"},formData:{type:Object,default:function(){return{}}}},data:()=>({enabled:!1}),watch:{formData:{handler(e){e[this.field]>0&&(this.enabled=!0)},immediate:!0}},created(){this.speedLimitTipsConfig={allowHtml:!0,width:"325px",theme:"light",trigger:"mouseenter",content:"#targetPathTips",placement:"right-start",delay:[0,1e7]}},methods:{handleEnableChange(e){this.enabled=e,this.$emit("on-change",this.field,e?10:0)},handleChange(e){this.$emit("on-change",this.field,e)}}};t.Z=i},63909:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(36410)),r=a(i(5068)),s=i(41980),o=i(61681),l={props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}},tipsPlacement:{type:String,default:"right-start"}},watch:{tipsPlacement(e){this.popperInstance&&this.popperInstance.set({placement:e})}},created(){this.rules=[{required:!0,message:"目标路径必填",trigger:"blur"},{validator:o.filePathRule.validator,message:"目标路径格式错误",trigger:"blur"}],this.isMouseenter=!1},beforeDestroy(){this.popperInstance&&(this.popperInstance.hide(),this.popperInstance.destroy())},methods:{showTips(){this.popperInstance||(this.popperInstance=(0,r.default)(this.$refs.input.$el,{arrow:!0,placement:this.tipsPlacement,trigger:"manual",theme:"light",interactive:!0,hideOnClick:!1,animation:"slide-toggle",lazy:!1,size:"small",boundary:"window",distance:20,zIndex:window.__bk_zIndex_manager.nextZIndex()}),this.popperInstance.setContent(this.$refs.targetPathTips)),this.popperInstance.show()},hideTips(){this.isMouseenter||this.popperInstance.hide()},handleMouseenter(){clearTimeout(this.hideTimer),this.showTips()},handleMouseleave(){var e=this;this.isMouseenter=!1,this.hideTimer=setTimeout((function(){e.isInputFocus||e.hideTips()}),100)},handleInputFocus(){this.isInputFocus=!0,this.showTips()},handleInputBlur(){this.isInputFocus=!1,this.hideTips()},handleTipsMouseenter(){clearTimeout(this.hideTimer),this.isMouseenter=!0},handleCopy(e){(0,s.execCopy)(e)},handleChange(e){this.$emit("on-change",this.field,(0,n.default)(e))}}};t.Z=l},80121:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={components:{ExecuteTarget:a(i(27564)).default},inheritAttrs:!1,props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},methods:{handleTargetChange(e){this.$emit("on-change",this.field,Object.freeze(e))}}};t.Z=n},81274:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={components:{ExecuteTarget:a(i(27564)).default},inheritAttrs:!1,props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},methods:{handleTargetChange(e){this.$emit("on-change",this.field,Object.freeze(e))}}};t.Z=n},81356:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(85604),i(61026);var a={name:"",props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},data:()=>({radioValue:2}),computed:{showSelectCheck(){return-1===this.radioValue}},watch:{formData:{handler(e){var t=parseInt(e[this.field],10);[3,4].includes(t)?this.radioValue=-1:this.radioValue=t},immediate:!0,deep:!0}},created(){this.strictTips={content:"严谨判断目标路径是否存在，若不存在将直接终止任务。",width:180},this.constraintTips={content:"不论目标路径是否存在，都将强制按照用户填写的目标路径进行传输（路径不存在会自动创建）。",width:210},this.safeTips={content:"避免因源或目标机器有同名文件时被覆盖，该模式下将按用户选择的规则在目标路径后面追加创建相应的文件夹。",width:210}},methods:{handleChange(e){var t=-1===e?3:e;this.$emit("on-change",this.field,t)},handleSelectChange(e){this.$emit("on-change",this.field,e)}}};t.Z=a},68225:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(73524)),r=a(i(27559)),s=a(i(43807)),o=a(i(33577)),l=a(i(33707)),c=a(i(78735)),u=a(i(74882)),d=a(i(75475)),h=a(i(26838)),p=a(i(510)),f={name:"ExecuteScriptItemFactory",props:{name:{type:String,required:!0}},computed:{itemCom(){var e={scriptName:n.default,scriptSourceOfExecution:o.default,scriptSourceOfTemplate:l.default,errorHandle:r.default,scriptContent:c.default,scriptParam:u.default,scriptTimeout:s.default,scriptAccount:d.default,executeTargetOfTemplate:h.default,executeTargetOfExecution:p.default};return Object.prototype.hasOwnProperty.call(e,this.name)?e[this.name]:"div"}}};t.Z=f},52918:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=i(41980),r={components:{AccountSelect:a(i(64571)).default},props:{field:{type:String,required:!0},scriptLanguageField:{type:String},formData:{type:Object,required:!0}},computed:{accountType(){return"SQL"===(0,n.formatScriptTypeValue)(this.formData[this.scriptLanguageField])?"db":"system"}},created(){this.rules=[{required:!0,message:"执行账号必填",trigger:"blur"}]},methods:{handleChange(e){this.$emit("on-change",this.field,e)}}};t.Z=r},63932:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={components:{ExecuteTarget:a(i(27564)).default},props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},methods:{handleTargetChange(e){this.$emit("on-change",this.field,Object.freeze(e))}}};t.Z=n},88717:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={components:{ExecuteTarget:a(i(27564)).default},props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},methods:{handleTargetChange(e){this.$emit("on-change",this.field,Object.freeze(e))}}};t.Z=n},61948:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033);var n=a(i(44068)),r=a(i(72075)),s=a(i(45673)),o=i(41980),l={components:{AceEditor:s.default},props:{contentField:{type:String,required:!0},scriptSourceField:{type:String,required:!0},languageField:{type:String,required:!0},formData:{type:Object,default:function(){return{}}},scriptVariables:{type:Array,default:function(){return[]}}},data:()=>({lang:"Shell",isReadonly:!1}),computed:{isContentLoading(){return this.formData.isScriptContentLoading}},watch:{formData:{handler(e){var t=this;this.isReadonly=e[this.scriptSourceField]!==r.default.scriptStep.TYPE_SOURCE_LOCAL,this.lang=(0,o.formatScriptTypeValue)(e[this.languageField]),this.isReadonly?this.rules=[]:this.rules=[{required:!0,message:"脚本内容必填",trigger:"change"},{validator:function(i){return n.default.getScriptValidation({content:i,scriptType:e[t.languageField]}).then((function(e){return t.$store.commit("setScriptCheckError",e.some((function(e){return e.isDangerous}))),!0}))},message:"脚本内容检测失败",trigger:"blur"}]},deep:!0,immediate:!0},"formData.content"(e){e&&this.$refs.item.clearValidator()}},created(){this.rules=[]},methods:{handleTypeChange(e){this.$emit("on-change",this.languageField,(0,o.formatScriptTypeValue)(e))},handleChange(e){this.$emit("on-change",this.contentField,e)}}};t.Z=l},87329:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n={components:{JbInput:a(i(86234)).default},props:{paramField:{type:String,required:!0},secureField:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},computed:{paramType(){return this.formData[this.secureField]?"password":"text"}},methods:{handleParamChange(e){this.$emit("on-change",this.paramField,e)},handleSecureParam(e){this.$emit("on-change",this.secureField,e)}}};t.Z=n},13640:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522);var n=a(i(44068)),r=a(i(12e3)),s=a(i(72075)),o={components:{ComposeFormItem:a(i(34109)).default},props:{scriptSourceField:{type:String,required:!0},scriptIdField:{type:String,required:!0},scriptVersionIdField:{type:String},contentField:{type:String,required:!0},languageField:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},data:()=>({scripList:[{},{},{}],publicScripList:[{},{},{}],scriptSource:"local",referType:2}),computed:{authView(){return this.formData[this.scriptSourceField]===s.default.scriptStep.TYPE_SOURCE_BUSINESS?"script/view":"public_script/view"},authCreate(){return this.formData[this.scriptSourceField]===s.default.scriptStep.TYPE_SOURCE_BUSINESS?"script/create":"public_script/create"},isScriptRefer(){return"refer"===this.scriptSource},scripListDisplay(){var e=this.formData[this.scriptSourceField];return e===s.default.scriptStep.TYPE_SOURCE_BUSINESS?this.scripList:e===s.default.scriptStep.TYPE_SOURCE_PUBLIC?this.publicScripList:[]},newBtnText(){return this.formData[this.scriptSourceField]===s.default.scriptStep.TYPE_SOURCE_BUSINESS?"新建业务脚本":"新建公共脚本"},rules(){return this.isScriptRefer?[{required:!0,message:"请选择引用脚本",trigger:"blur"}]:[]}},watch:{formData:{handler(){this.initScriptSource()},immediate:!0},"formData.scriptId"(e){e&&this.$refs.scriptId.clearValidator()}},created(){this.formData[this.scriptVersionIdField]&&this.handleScriptVersionIdChange(this.formData[this.scriptVersionIdField]),this.fetchScriptList(),this.fetchPublicScriptList()},methods:{fetchScriptList(){var e=this;n.default.getOnlineScriptList().then((function(t){e.scripList=t}))},fetchPublicScriptList(){var e=this;r.default.getOnlineScriptList().then((function(t){e.publicScripList=t}))},initScriptSource(){this.formData[this.scriptSourceField]!==s.default.scriptStep.TYPE_SOURCE_LOCAL?(this.scriptSource="refer",this.referType=this.formData[this.scriptSourceField]):this.scriptSource="local"},handleScriptSourceChange(e){var t="local"===e?s.default.scriptStep.TYPE_SOURCE_LOCAL:s.default.scriptStep.TYPE_SOURCE_BUSINESS;this.$emit("on-reset",{[this.scriptSourceField]:t,[this.scriptIdField]:"",[this.scriptVersionIdField]:""})},handleReferScriptTypeChange(e){e!==this.formData[this.scriptSourceField]&&this.$emit("on-reset",{[this.scriptSourceField]:e,[this.scriptIdField]:"",[this.scriptVersionIdField]:""})},handleScriptVersionIdChange(e){var t=this;e&&(this.$emit("on-reset",{isScriptContentLoading:!0}),n.default.versionDetail({id:e}).then((function(i){var a=i.id,n=i.content,r=i.type,o=i.publicScript,l=s.default.scriptStep.TYPE_SOURCE_BUSINESS;o&&(l=s.default.scriptStep.TYPE_SOURCE_PUBLIC),t.$emit("on-reset",{[t.scriptSourceField]:l,[t.scriptIdField]:a,[t.contentField]:n,[t.languageField]:r,[t.scriptVersionIdField]:e})})).finally((function(){t.$emit("on-reset",{isScriptContentLoading:!1})})))},handleGoScriptDetail(){var e=this.formData[this.scriptSourceField]===s.default.scriptStep.TYPE_SOURCE_PUBLIC?"publicScriptVersion":"scriptVersion",t=this.$router.resolve({name:e,params:{id:this.formData[this.scriptIdField]},query:{scriptVersionId:this.formData[this.scriptVersionIdField]}}).href;window.open(t)},handleGoCreate(){var e=this.formData[this.scriptSourceField]===s.default.scriptStep.TYPE_SOURCE_PUBLIC?"createPublicScript":"createScript",t=this.$router.resolve({name:e}).href;window.open(t)}}};t.Z=o},89173:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522);var n=a(i(56318)),r=a(i(33610)),s=a(i(97122)),o=a(i(38502)),l=a(i(44068)),c=a(i(12e3)),u=a(i(72075));function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,r.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var p={components:{ComposeFormItem:a(i(34109)).default},props:{scriptSourceField:{type:String,required:!0},scriptIdField:{type:String,required:!0},scriptVersionIdField:{type:String},contentField:{type:String,required:!0},languageField:{type:String,required:!0},scriptStatusField:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},data:()=>({defaultScript:{},scriptGroup:[],publicScriptGroup:[],sourceType:"local",referType:2}),computed:{authView(){return this.formData[this.scriptSourceField]===u.default.scriptStep.TYPE_SOURCE_BUSINESS?"script/view":"public_script/view"},authCreate(){return this.formData[this.scriptSourceField]===u.default.scriptStep.TYPE_SOURCE_BUSINESS?"script/create":"public_script/create"},scriptGroupComponent(){return this.scriptListDisplay.length>1?"bk-option-group":"div"},isScriptRefer(){return"refer"===this.sourceType},scriptListDisplay(){var e=this.formData[this.scriptSourceField];return e===u.default.scriptStep.TYPE_SOURCE_BUSINESS?this.scriptGroup:e===u.default.scriptStep.TYPE_SOURCE_PUBLIC?this.publicScriptGroup:[]},newBtnText(){return this.formData[this.scriptSourceField]===u.default.scriptStep.TYPE_SOURCE_BUSINESS?"新建业务脚本":"新建公共脚本"},rules(){return this.isScriptRefer?[{required:!0,message:"请选择引用脚本",trigger:"blur"}]:[]}},watch:{formData:{handler(){this.initScriptSource()},immediate:!0},"formData.scriptId"(e){e&&this.$refs.scriptId.clearValidator()}},created(){this.scriptListMemo=[],this.publicScriptListMemo=[],this.initScriptContent(),this.fetchScriptList(),this.fetchPublicScriptList()},methods:{fetchScriptList(){var e=this;l.default.getOnlineScriptList().then((function(t){e.scriptGroup=[t],e.scriptListMemo=t,e.composeGroup()}))},fetchPublicScriptList(){var e=this;c.default.getOnlineScriptList().then((function(t){e.publicScriptGroup=[t],e.publicScriptListMemo=t,e.composeGroup()}))},fetchScriptVersionDetail:e=>l.default.versionDetail(e),initScriptSource(){this.formData[this.scriptSourceField]!==u.default.scriptStep.TYPE_SOURCE_LOCAL?(this.sourceType="refer",this.referType=this.formData[this.scriptSourceField]):this.sourceType="local"},initScriptContent(){var e=this;(this.formData[this.scriptIdField]||this.formData[this.scriptVersionIdField])&&(this.$emit("on-reset",{isScriptContentLoading:!0}),this.fetchScriptVersionDetail({id:this.formData[this.scriptVersionIdField]}).then((function(t){var i=t.content,a=t.publicScript?u.default.scriptStep.TYPE_SOURCE_PUBLIC:u.default.scriptStep.TYPE_SOURCE_BUSINESS;e.defaultScript=t,e.composeGroup(),e.$emit("on-reset",{[e.contentField]:i,[e.scriptSourceField]:a})})).finally((function(){e.$emit("on-reset",{isScriptContentLoading:!1})})))},composeGroup(){if(this.defaultScript.id){var e=this.defaultScript.publicScript,t=e?(0,o.default)(this.publicScriptListMemo):(0,o.default)(this.scriptListMemo);if(!(t.length<1)){if(!this.formData[this.scriptStatusField])return this.scriptGroup=Object.freeze([this.scriptListMemo]),void(this.publicScriptGroup=Object.freeze([this.publicScriptListMemo]));var i=[],a=h(h({},this.defaultScript),{},{name:"".concat(this.defaultScript.name,"（","当前版本","）")});i.push(a);var r=(0,s.default)(t,(function(e){return e.id===a.id})),l=(0,n.default)(r,1)[0];l&&(l.name="".concat(l.name,"（","新版本","）"),i.unshift(l)),e?(this.scriptGroup=Object.freeze([this.scriptListMemo]),this.publicScriptGroup=Object.freeze([i,t])):(this.scriptGroup=Object.freeze([i,t]),this.publicScriptGroup=Object.freeze([this.publicScriptListMemo]))}}},handleScriptSourceChange(e){var t="local"===e?u.default.scriptStep.TYPE_SOURCE_LOCAL:u.default.scriptStep.TYPE_SOURCE_BUSINESS;this.$emit("on-reset",{[this.scriptIdField]:"",[this.scriptVersionIdField]:"",[this.scriptSourceField]:t})},handleReferScriptTypeChange(e){this.$emit("on-reset",{[this.scriptSourceField]:e,[this.scriptIdField]:"",[this.scriptVersionIdField]:""})},handleScriptVersionIdChange(e){var t=this;e&&(this.$emit("on-reset",{isScriptContentLoading:!0}),this.fetchScriptVersionDetail({id:e}).then((function(i){var a=i.id,n=i.type,r=i.content;t.$emit("on-reset",{[t.scriptIdField]:a,[t.contentField]:r,[t.languageField]:n,[t.scriptVersionIdField]:e,[t.scriptStatusField]:0,isScriptContentLoading:!1})})).finally((function(){t.$emit("on-reset",{isScriptContentLoading:!1})})))},handleGoScriptDetail(){var e=this.formData[this.scriptSourceField]===u.default.scriptStep.TYPE_SOURCE_PUBLIC?"publicScriptVersion":"scriptVersion",t=this.$router.resolve({name:e,params:{id:this.formData[this.scriptIdField]},query:{scriptVersionId:this.formData[this.scriptVersionIdField]}});window.open(t.href)},handleGoCreate(){var e=this.formData[this.scriptSourceField]===u.default.scriptStep.TYPE_SOURCE_PUBLIC?"createPublicScript":"createScript",t=this.$router.resolve({name:e}).href;window.open(t)}}};t.Z=p},95747:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(34527)),r=a(i(13826)),s={name:"",components:{Task:n.default,Step:r.default},props:{type:{type:String,required:!0},data:{type:Object,default:function(){return{}}}},data:()=>({titleMaxWidth:100,offsetRight:"unset",initialStatusWidth:0}),computed:{themeCom(){var e={task:n.default,step:r.default};return Object.prototype.hasOwnProperty.call(e,this.type)?e[this.type]:"div"}},mounted(){var e=this,t=document.querySelector("#sitePageTitle").getBoundingClientRect().width,i=document.querySelector("#siteHeaderStatusBar");i.appendChild(this.$el);var a=i.getBoundingClientRect().width;this.initialStatusWidth||(this.initialStatusWidth=a);var n=t-a-40;this.titleMaxWidth=n<100?100:n,this.$once("hook:beforeDestroy",(function(){if(e.$el)try{i.removeChild(e.$el)}catch(e){}}))}};t.Z=s},85769:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(87033),i(35948),i(94522),i(7170);var n=a(i(67713)),r=a(i(39986)),s=a(i(52189)),o=a(i(97388)),l=a(i(63715)),c={name:"",components:{GlobalVariableLayout:s.default,GlobalVariable:o.default,Empty:l.default},props:{id:{type:[Number,String],default:0}},data:()=>({isLoading:!1,taskVariables:[{},{},{}]}),computed:{isShowVar(){return this.taskVariables.length>0}},watch:{id:{handler(e){e&&this.fetchTaskVariables(e)},immediate:!0}},methods:{fetchTaskVariables(e){var t=this;this.$request(n.default.fetchStepInstanceParam({id:e}),(function(){t.isLoading=!0})).then((function(e){t.taskVariables=Object.freeze(e.map((function(e){var t=e.id,i=e.name,a=e.type,n=e.value,s=e.targetValue;return{id:t,name:i,type:a,defaultValue:n,defaultTargetValue:new r.default(s||{})}})))})).finally((function(){t.isLoading=!1}))}}};t.Z=c},74540:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(87033),i(35948),i(94522),i(85604);var n=a(i(67713)),r={name:"",components:{Empty:a(i(63715)).default},props:{id:{type:[Number,String],default:0},from:{type:String,default:""}},data:()=>({isLoading:!0,data:[{},{},{}]}),created(){this.fetchTaskOperationLog()},methods:{fetchTaskOperationLog(e){var t=this;this.$request(n.default.fetchTaskOperationLog({id:this.id}),(function(){t.isLoading=!0})).then((function(e){t.data=e})).finally((function(){t.isLoading=!1}))},handleView(e){var t={name:"historyStep",params:{taskInstanceId:e.taskInstanceId},query:{stepInstanceId:e.stepInstanceId,retryCount:e.retry,from:this.from||this.$route.query.from}},i=this.$route.query,a=i.stepInstanceId,n=i.retryCount,r=void 0===n?0:n;parseInt(a,10)!==e.stepInstanceId||parseInt(r,10)!==e.retry?(this.$emit("on-change"),this.$router.push(t)):this.messageWarn("正在查看")}}};t.Z=r},92997:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(27195)),r=a(i(89572)),s=a(i(87061)),o=a(i(95403)),l=a(i(23255)),c=a(i(68683)),u=a(i(7605)),d=a(i(97034)),h=a(i(55079)),p=a(i(75366)),f={confirm:{operationCode:6,title:"确定继续执行？",desc:"将继续执行后面的步骤"},confirmForced:{operationCode:9,title:"确定终止流程？",desc:"人工确认步骤终止后，需「重新发起确认」才可恢复"},confirmRetry:{operationCode:10,title:"确定重新发起确认？",desc:"将会再次发送消息通知相关的确认人"},allRetry:{operationCode:8,title:"确定全部重试？",desc:"该步骤的所有IP 都将重新执行"},failIpRetry:{operationCode:2,title:"确定失败IP重试？",desc:"仅作用于本次执行失败的 IP"},skip:{operationCode:3,title:"确定进入下一步？",desc:"跳过当前步骤进入下一步"},forced:{operationCode:"",title:"确定终止执行任务？",desc:"终止动作仅对当前还未执行完成的IP有效"},forcedRetry:{operationCode:8,title:"确定重试并继续？",desc:"该步骤的所有IP 都将重新执行"},forcedSkip:{operationCode:12,title:"确定跳过并进入下一步？",desc:"将不再等待强制终止动作的结果，直接进入下一步"},next:{operationCode:11,title:"确定进入下一步？",desc:"跳过当前步骤进入下一步"}},v={props:{name:{type:String,required:!0},displayStyle:{type:String,default:"task"},confirmHandler:{type:Function,default:function(){}}},computed:{actionCom(){return{confirm:n.default,confirmForced:r.default,confirmRetry:s.default,allRetry:o.default,failIpRetry:l.default,skip:c.default,forced:u.default,forcedRetry:d.default,forcedSkip:h.default,next:p.default}[this.name]},confirmInfo(){return f[this.name]}},methods:{handleConfirm(){return this.confirmHandler(this.confirmInfo.operationCode)},handleConfirmShow(){this.$emit("on-show")},handleConfirmCancel(){this.$emit("on-cancel")}}};t.Z=v},6696:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var a=i(41980),n={name:"",data(){return{showContent:!this.loading,offsetLeft:0,contentOffsetTop:0,footerHeight:46}},computed:{contentStyles(){var e=this.contentOffsetTop+20+this.footerHeight;return{height:"calc(100vh - ".concat(e,"px)")}}},mounted(){this.contentOffsetTop=(0,a.getOffset)(this.$refs.content).top}};t.Z=n},78896:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(45812)),r=a(i(93435)),s=a(i(44068)),o=a(i(12e3)),l=i(41980),c=i(46790),u=a(i(45673)),d=a(i(15621)),h=a(i(4027)),p=a(i(93962)),f=a(i(2317)),v=a(i(27223)),m={name:"",components:{AceEditor:u.default,DetailLayout:d.default,DetailItem:h.default,JbPopoverConfirm:p.default,Layout:f.default,RenderLog:v.default},inheritAttrs:!1,props:{scriptVersionList:{type:Array,default:function(){return[]}},scriptInfo:{type:Object,required:!0}},data:()=>({isLoading:!1,isExceLoading:!1,contentTab:"content",contentHeight:0}),computed:{contentCom(){return{content:u.default,log:v.default}[this.contentTab]},isCopyCreateDisabled(){return!!(0,r.default)(this.scriptVersionList,(function(e){return e.isDraft}))},contentStyles(){return{height:"".concat(this.contentHeight,"px")}}},watch:{scriptInfo(){this.contentTab="content"}},created(){var e=this;this.publicScript=(0,l.checkPublicScript)(this.$route),this.serviceHandler=this.publicScript?o.default:s.default,window.addEventListener("resize",this.init),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e.init)}))},mounted(){this.calcContentHeight();var e=(0,n.default)(this.calcContentHeight,60);window.addEventListener("resize",e),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e)}))},methods:{calcContentHeight(){var e=(0,l.getOffset)(this.$refs.content).top;this.contentHeight=window.innerHeight-e-20},handleFullScreen(){"content"===this.contentTab&&this.$refs.aceEditor.handleFullScreen()},handleChangeDispaly(e){this.contentTab=e},handleOnline(){var e=this;return this.serviceHandler.scriptVersionOnline({id:this.scriptInfo.id,versionId:this.scriptInfo.scriptVersionId}).then((function(){e.messageSuccess("操作成功"),e.$emit("on-edit-change")}))},handleRemove(){var e=this;return this.serviceHandler.scriptVersionRemove({versionId:this.scriptInfo.scriptVersionId}).then((function(){if(e.messageSuccess("删除成功"),e.scriptVersionList.length<2){var t=e.publicScript?"publicScriptList":"scriptList";e.$router.push({name:t})}else setTimeout((function(){e.$emit("on-delete",!0)}))}))},handleOffline(){var e=this;return this.serviceHandler.scriptVersionOffline({id:this.scriptInfo.id,versionId:this.scriptInfo.scriptVersionId}).then((function(){e.messageSuccess("操作成功"),e.$emit("on-edit-change")}))},handleCopyAndCreate(){this.$emit("on-go-copy-create",{scriptVersionId:this.scriptInfo.scriptVersionId})},handleDebugScript(){c.debugScriptCache.setItem(this.scriptInfo.content);var e=this.$router.resolve({name:"fastExecuteScript",query:{model:"debugScript"}}).href;window.open(e)},handleGoSync(){var e=this.publicScript?"scriptPublicSync":"scriptSync";this.$router.push({name:e,params:{scriptId:this.scriptInfo.id,scriptVersionId:this.scriptInfo.scriptVersionId}})},handleEdit(e){this.$emit("on-go-edit",{scriptVersionId:this.scriptInfo.scriptVersionId})},handleGoExce(){this.$router.push({name:"fastExecuteScript",params:{taskInstanceId:0,scriptVersionId:this.scriptInfo.scriptVersionId},query:{from:"scriptVersion"}})}}};t.Z=m},63687:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(61026);var n=a(i(40021)),r=a(i(4839)),s={name:"RenderRelatedScript",props:{mode:{type:String,validator:e=>["scriptList","scriptVersionList"].includes(e),default:"scriptList"},info:{type:Object,required:!0}},data:()=>({listTab:"template"}),computed:{listCom(){return{template:n.default,plan:r.default}[this.listTab]},params(){var e={scriptId:this.info.id};return"scriptVersionList"===this.mode&&(e.scriptVersionId=this.info.scriptVersionId),e}},methods:{handleTabChange(e){this.listTab=e}}};t.Z=s},46642:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522),i(9042),i(56259),i(63762),i(95179),i(45974),i(78004),i(70969);var n=a(i(44068)),r=a(i(12e3)),s=i(41980),o={name:"",components:{JbSearchSelect:a(i(2645)).default},props:{params:{type:Object,required:!0}},data:()=>({isLoading:!1,wholeList:[{},{},{}],renderList:[{},{},{}]}),created(){this.publicScript=(0,s.checkPublicScript)(this.$route),this.serviceHandler=this.publicScript?r.default:n.default,this.fetchData(),this.searchSelect=[{name:"名称",id:"name",default:!0},{name:"版本号",id:"scriptVersion"}]},methods:{fetchData(){var e=this;this.isLoading=!0,this.serviceHandler.citeInfo(this.params).then((function(t){var i=t.citedTaskPlanList;e.wholeList=Object.freeze(i),e.renderList=e.wholeList})).finally((function(){e.isLoading=!1}))},handleSearch(e){var t=this.wholeList;Object.keys(e).forEach((function(i){var a=new RegExp((0,s.encodeRegexp)(e[i]),"i"),n=i;"name"===i&&(n="taskPlanName"),t=t.filter((function(e){return a.test(e[n])}))})),this.renderList=Object.freeze(t)},handleGoPlanDetail(e){var t=this.$router.resolve({name:"viewPlan",params:{templateId:e.taskTemplateId},query:{viewPlanId:e.taskPlanId}}).href;window.open(t.replace(/^\/[^/]+\/\d+/,"/".concat(e.scopeType,"/").concat(e.scopeId)))}}};t.Z=o},6252:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522),i(9042),i(56259),i(63762),i(95179),i(45974),i(78004),i(70969);var n=a(i(44068)),r=a(i(12e3)),s=i(41980),o={name:"",components:{JbSearchSelect:a(i(2645)).default},props:{params:{type:Object,required:!0}},data:()=>({isLoading:!1,wholeList:[{},{},{}],renderList:[{},{},{}]}),created(){this.publicScript=(0,s.checkPublicScript)(this.$route),this.serviceHandler=this.publicScript?r.default:n.default,this.fetchData(),this.searchSelect=[{name:"名称",id:"name",default:!0},{name:"版本号",id:"scriptVersion"}]},methods:{fetchData(){var e=this;this.$request(this.serviceHandler.citeInfo(this.params),(function(){e.isLoading=!0})).then((function(t){var i=t.citedTemplateList;e.wholeList=Object.freeze(i),e.renderList=e.wholeList})).finally((function(){e.isLoading=!1}))},handleSearch(e){var t=this.wholeList;Object.keys(e).forEach((function(i){var a=new RegExp((0,s.encodeRegexp)(e[i]),"i"),n=i;"name"===i&&(n="taskTemplateName"),t=t.filter((function(e){return a.test(e[n])}))})),this.renderList=Object.freeze(t)},handleGoTemplateDetail(e){var t=this.$router.resolve({name:"templateDetail",params:{id:e.taskTemplateId}}).href;window.open(t.replace(/^\/[^/]+\/\d+/,"/".concat(e.scopeType,"/").concat(e.scopeId)))}}};t.Z=o},83987:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(71959),i(87033);var n=a(i(45812)),r=a(i(84484)),s=i(41980),o=i(61681),l={name:"",props:{data:{type:Object,required:!0}},data:()=>({isSubmiting:!1,isEditing:!1,inputWidth:"auto",localValue:"",errorInfo:""}),watch:{data:{handler(){this.localValue=this.data.name||"",this.localValueMemo=this.localValue},immediate:!0}},mounted(){var e=this;document.body.addEventListener("click",this.hideCallback),this.$once("hook:beforeDestroy",(function(){document.body.removeEventListener("click",e.hideCallback)}))},methods:{hideCallback(){this.isEditing&&this.handleSubmit()},handleEdit(){var e=this;this.isSubmiting=!1,this.isEditing=!0,this.errorInfo="",this.inputWidth=this.$refs.text.getBoundingClientRect().width,setTimeout((function(){e.$refs.input.$el.querySelector(".bk-form-input").focus()}))},handleInput:(0,n.default)((function(e){var t=window.innerWidth,i=(0,s.calcTextWidth)(e,this.$refs.box)+60;i<=t-(0,s.getOffset)(this.$refs.box).left-230&&i>this.inputWidth&&(this.inputWidth=i)}),60),handleSubmit(){var e=this;this.errorInfo="",this.localValueMemo!==this.localValue?(this.localValue?o.planNameRule.validator(this.localValue)||(this.errorInfo=o.planNameRule.message):this.errorInfo="方案名称必填",this.errorInfo||(this.isSubmiting=!0,r.default.planCheckName({templateId:this.data.templateId,planId:this.data.id,name:this.localValue}).then((function(t){if(!t)return e.isSubmiting=!1,void(e.errorInfo="方案名称已存在，请重新输入");r.default.planUpdate({id:e.data.id,templateId:e.data.templateId,name:e.localValue,variables:e.data.variableList,enableSteps:e.data.stepList.reduce((function(e,t){return t.enable&&e.push(t.id),e}),[])}).then((function(){e.localValueMemo=e.localValue,e.isEditing=!1,e.$emit("on-edit-success"),e.messageSuccess("执行方案名称编辑成功")}))})))):this.isEditing=!1}}};t.Z=l},32112:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(70969);var n=a(i(33610)),r=a(i(77094)),s=i(91341),o=i(41980),l=a(i(41641));function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d={name:"",components:{ContentLoader:s.ContentLoader,BackTop:l.default},props:{title:String,mode:String,planName:String,loading:{type:Boolean,default:!1},bottomOffset:{type:Number,default:0}},data(){return{showContent:!this.loading,layoutOffsetTop:0,contentOffsetTop:0,footerOffsetLeft:0,isFooterFixed:!1}},computed:{layoutStyles(){return{height:"calc(100vh - ".concat(this.layoutOffsetTop,"px - ").concat(this.bottomOffset,"px)")}},contentStyles(){return{"max-height":"calc(100vh - ".concat(this.contentOffsetTop,"px - 60px - ").concat(this.bottomOffset,"px)")}},footerStyles(){var e={"padding-left":"".concat(this.footerOffsetLeft,"px")};return this.isFooterFixed?u(u({},e),{},{"box-shadow":"0px -2px 4px 0px rgba(0, 0, 0, 0.06)"}):e}},watch:{loading(e){var t=this;if(e)return this.showContent=!1,void(this.time=Date.now());var i=Date.now()-this.time;setTimeout((function(){t.showContent=!0}),i>800?0:1e3-i)}},created(){this.time=Date.now()},mounted(){var e=this;window.addEventListener("resize",this.init),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e.init)})),this.init()},updated:(0,r.default)((function(){this.init()}),500),methods:{init(){var e=this;if(this.$refs.layout&&this.$refs.content&&document.querySelector("#templateStepRender")){var t=(0,o.getOffset)(this.$refs.layout);this.layoutOffsetTop=t.top,this.contentOffsetTop=(0,o.getOffset)(this.$refs.content).top,setTimeout((function(){var t=e.$refs.content.scrollHeight,i=e.$refs.content.getBoundingClientRect().height;e.isFooterFixed=t>i;var a=e.$refs.layout.getBoundingClientRect().left,n=document.querySelector("#templateStepRender").getBoundingClientRect().left;e.footerOffsetLeft=n-a}))}},getBackTopTarget(){return this.$refs.content}}};t.Z=d},23655:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024);var a={name:"ToggleDisplay",props:{count:{type:Number,required:!0}},data:()=>({isOpen:!1}),methods:{handleToggle(){this.isOpen=!this.isOpen}}};t.Z=a},84924:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(45974),i(87033),i(61026),i(60259),i(35948),i(94522),i(7170),i(23232),i(80433),i(39677),i(77036);var n=a(i(22910)),r=a(i(84484)),s=i(41980),o=i(61681),l=a(i(32888)),c=a(i(40515)),u=a(i(14617)),d=a(i(36087)),h=function(){return{id:0,name:(0,s.genDefaultName)("执行方案"),enableSteps:[],templateId:0,variables:[]}},p={name:"",components:{JbForm:l.default,Layout:d.default,RenderGlobalVar:c.default,RenderTaskStep:u.default},props:{templateId:{type:[Number,String],required:!0},firstPlan:{type:Boolean,default:!0}},data:()=>({formData:h(),globalVariableList:[{},{},{}],taskStepList:[{},{},{}],isLoading:!0,submitLoading:!1}),computed:{selectedVariable(){var e=this,t=this.taskStepList.filter((function(t){return e.formData.enableSteps.includes(t.id)}));return(0,s.findUsedVariable)(t)},hasSelectAll(){return this.formData.enableSteps.length>=this.taskStepList.length},isSubmitDisable(){return this.formData.enableSteps.length<1}},created(){var e=this;this.rules={name:[{required:!0,message:"方案名称必填",trigger:"blur"},{validator:o.planNameRule.validator,message:o.planNameRule.message,trigger:"blur"},{validator:function(t){return r.default.planCheckName({templateId:e.formData.templateId,planId:e.formData.id,name:t})},message:"方案名称已存在，请重新输入",trigger:"blur"}],enableSteps:[{validator:function(){return e.formData.enableSteps.length>0},message:"执行步骤必填",trigger:"blur"}]},this.formData.templateId=this.templateId,this.generatorFormData=function(){return h()},this.fetchData()},methods:{fetchData(){var e=this;n.default.taskDetail({id:this.formData.templateId}).then((function(t){var i=t.variables,a=t.stepList,n=t.name;e.globalVariableList=Object.freeze(i),e.taskStepList=Object.freeze(a);var r=(0,s.genDefaultName)("执行方案");e.firstPlan&&(r=n),e.generatorFormData=function(){return{id:0,name:r,templateId:e.formData.templateId,enableSteps:a.map((function(e){return e.id})),variables:[...i]}},e.$emit("on-name-change",r),e.formData=e.generatorFormData()})).finally((function(){e.isLoading=!1}))},refresh(){this.fetchData()},handleNameChange(e){this.formData.name=e,this.$emit("on-name-change",e)},handleSelectAll(){this.formData.enableSteps=this.taskStepList.map((function(e){return e.id}))},handleDeselectAll(){this.formData.enableSteps=[]},handleVariableChange(e){this.formData.variables=e},handleSelectStep(e){var t=this.formData.enableSteps.findIndex((function(t){return t===e.id}));t>-1?this.formData.enableSteps.splice(t,1):(this.formData.enableSteps.push(e.id),this.formData.enableSteps.length&&this.$refs.createPlanForm.clearError("enableSteps"))},handleSumbit(){var e=this;this.submitLoading=!0,Promise.all([this.$refs.titleForm.validate(),this.$refs.createPlanForm.validate()]).then((function(){return r.default.planUpdate(e.formData).then((function(t){window.changeAlert=!1,e.$bkMessage({theme:"success",message:"操作成功"}),e.$emit("on-create",t)}))})).finally((function(){e.submitLoading=!1}))},handleReset(){this.formData=this.generatorFormData(),this.$refs.createPlanForm.clearError()}}};t.Z=p},10294:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(87033),i(35948),i(94522),i(45974),i(71959),i(9042);var n=a(i(84484)),r=a(i(67713)),s=i(41980),o=a(i(54606)),l=a(i(40515)),c=a(i(14617)),u=a(i(36087)),d=a(i(50859)),h=a(i(69539)),p={name:"",components:{PermissionSection:o.default,RenderGlobalVar:l.default,RenderTaskStep:c.default,ToggleDisplay:d.default,Layout:u.default,EditTitle:h.default},props:{id:{type:[Number,String],required:!0},templateId:{type:[Number,String],required:!0}},data:()=>({planInfo:{variableList:[{},{},{}],enableStepList:[{},{},{}]},usedVariableList:[{},{},{}],unusedVariableList:[{},{},{}],isLoading:!0,execLoading:!1,deleteLoading:!1}),watch:{id:{handler(e){this.fetchData(e)},immediate:!0}},methods:{fetchData(){var e=this;this.isLoading=!0,n.default.fetchPlanDetailInfo({id:this.id,templateId:this.templateId},{permission:"catch"}).then((function(t){e.planInfo=Object.freeze(t);var i=t.stepList.filter((function(e){return 1===e.enable})),a=(0,s.findUsedVariable)(i).reduce((function(e,t){return e[t]=!0,e}),{}),n=[],r=[];t.variableList.forEach((function(e){a[e.name]?n.push(e):r.push(e)})),e.usedVariableList=Object.freeze(n),e.unusedVariableList=Object.freeze(r)})).finally((function(){e.isLoading=!1}))},fetchTaskExecution(){var e=this;this.execLoading=!0,r.default.taskExecution({taskId:this.id,taskVariables:[]}).then((function(t){var i=t.taskInstanceId;e.$bkMessage({theme:"success",message:"操作成功"}),e.$router.push({name:"historyTask",params:{id:i},query:{from:e.$route.name}})})).finally((function(){e.execLoading=!1}))},refresh(){this.fetchData()},handleEdit(){this.$emit("on-edit",{id:this.templateId,active:this.id})},handleEditSuccess(){this.$emit("on-edit-success")},handleGoCronList(){var e=this.$router.resolve({name:"cronList",query:{planId:this.id}}).href;window.open(e)},handleGoTemplate(){var e=this.$router.resolve({name:"templateDetail",params:{id:this.templateId}}).href;window.open(e)},handleGoCron(){var e=this.$router.resolve({name:"cronList",query:{mode:"create",templateId:this.templateId,planId:this.id}}).href;window.open(e)},handleDelete(){var e=this;return n.default.planDelete({id:this.id,templateId:this.templateId}).then((function(){return e.$bkMessage({theme:"success",message:"操作成功"}),setTimeout((function(){e.$emit("on-delete")})),!0}))},handleSync(){this.$router.push({name:"syncPlan",params:{id:this.id,templateId:this.templateId},query:{from:this.$route.name}})},handleExec(){var e=this;this.planInfo.variableList.length?this.$router.push({name:"settingVariable",params:{id:this.id,templateId:this.templateId},query:{from:this.$route.name}}):this.$bkInfo({title:"确认执行？",subTitle:"未设置全局变量，点击确认将直接执行。",confirmFn:function(){e.fetchTaskExecution()}})}}};t.Z=p},22427:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(57024),i(45974),i(87033),i(61026),i(60259),i(35948),i(94522),i(7170),i(39677),i(77036),i(23232),i(80433);var n=a(i(84484)),r=i(41980),s=i(61681),o=a(i(40515)),l=a(i(14617)),c=a(i(36087)),u={name:"",components:{Layout:c.default,RenderGlobalVar:o.default,RenderTaskStep:l.default},props:{id:{type:[Number,String],required:!0},templateId:{type:[Number,String],required:!0}},data:()=>({name:"",formData:{id:0,name:"",enableSteps:[],templateId:0,variables:[]},globalVariableList:[{},{},{}],taskStepList:[{},{},{}],isLoading:!0,submitLoading:!1}),computed:{selectedVariable(){var e=this,t=this.taskStepList.filter((function(t){return e.formData.enableSteps.includes(t.id)}));return(0,r.findUsedVariable)(t)},hasSelectAll(){return this.formData.enableSteps.length>=this.taskStepList.length},isSubmitDisable(){return this.formData.enableSteps.length<1}},watch:{id:{handler(e){this.formData.id=e,this.fetchData()},immediate:!0}},created(){var e=this;this.rules={name:[{required:!0,message:"方案名称必填",trigger:"blur"},{validator:s.planNameRule.validator,message:s.planNameRule.message,trigger:"blur"},{validator:function(t){return n.default.planCheckName({templateId:e.templateId,planId:e.formData.id,name:t})},message:"方案名称已存在，请重新输入",trigger:"blur"}],enableSteps:[{validator:function(){return e.formData.enableSteps.length},message:"执行步骤必填",trigger:"blur"}]},this.formData.templateId=this.templateId},methods:{fetchData(){var e=this;this.isLoading=!0,n.default.fetchPlanEditInfo({id:this.formData.id,templateId:this.templateId}).then((function(t){var i=t.variableList,a=t.stepList,n=t.name;e.globalVariableList=i,e.taskStepList=a,e.name=n,e.formData.enableSteps=t.enableStepId,e.formData.variables=i,e.formData.name=n})).catch((function(t){[1,400].includes(t.code)&&setTimeout((function(){e.$router.push({name:"taskList"})}),3e3)})).finally((function(){e.isLoading=!1}))},refresh(){this.fetchData()},checkName(e){return n.default.planCheckName({templateId:this.templateId,planId:this.formData.id,name:e})},handleVariableChange(e){window.changeAlert=!0,this.formData.variables=e},handleSelectAll(){this.formData.enableSteps=this.taskStepList.map((function(e){return e.id}))},handleDeselectAll(){this.formData.enableSteps=[]},handleSelectStep(e){var t=this.formData.enableSteps.findIndex((function(t){return t===e.id}));t>-1?this.formData.enableSteps.splice(t,1):(this.formData.enableSteps.push(e.id),this.formData.enableSteps.length&&this.$refs.editPlanForm.clearError("enableSteps"))},handleSumbit(){var e=this;this.submitLoading=!0,Promise.all([this.$refs.titleForm.validate(),this.$refs.editPlanForm.validate()]).then((function(){return n.default.planUpdate(e.formData).then((function(){window.changeAlert=!1,e.$emit("on-edit-success"),e.$bkMessage({theme:"success",message:"操作成功"}),e.handleCancle()}))})).finally((function(){e.submitLoading=!1}))},handleCancle(){var e=this;(0,r.leaveConfirm)().then((function(){e.$emit("on-edit-cancle")}))}}};t.Z=u},97026:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610)),r=a(i(42472));function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}var o={name:"",props:{relateList:Array,latestValue:[String,Object]},data:()=>({isShowRelateList:!1}),computed:{globalVariableInfo(){return this.relateList[0].globalVariable},latestValueText(){var e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},this.globalVariableInfo);return this.globalVariableInfo.isHost?e.defaultTargetValue=this.latestValue:e.defaultValue=this.latestValue,new r.default(e).valueText}},methods:{handleToggle(){this.isShowRelateList=!this.isShowRelateList}}};t.Z=o},92580:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(9042),i(90004);var n=i(88676),r={name:"EditPreview",components:{RenderRelatedInfo:a(i(85042)).default},props:{planList:{type:Array,required:!0},latestValueMap:{type:Object,required:!0}},data:()=>({globalVariableRelatePlanMap:{}}),created(){this.relatePlanMap={},this.traverPlanList()},methods:{traverPlanList(){var e=this,t={};this.planList.forEach((function(i){i.variableList.forEach((function(a){var r=(0,n.genGlobalVariableKey)(a),s={plan:i,globalVariable:a};Object.prototype.hasOwnProperty.call(e.latestValueMap,r)&&(t[r]?t[r].push(s):t[r]=[s],e.relatePlanMap[i.id]=i)}))})),this.globalVariableRelatePlanMap=Object.freeze(t),this.$nextTick((function(){e.$refs.relate[0].handleToggle()}))},getRelatePlanList(){return Object.values(this.relatePlanMap)}}};t.Z=r},14452:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(39986)),r={components:{ChooseIp:a(i(96481)).default},props:{data:{type:Object,required:!0},value:{type:Object,default:function(){return new n.default({})}}},data:()=>({isShowChooseIp:!1,hostNodeInfo:{}}),computed:{isValueEmpty(){return n.default.isHostNodeInfoEmpty(this.value.hostNodeInfo)},valueText(){return new n.default(this.value).text}},methods:{handleRemove(){this.$emit("on-remove")},handleChooseIp(){this.isShowChooseIp=!0,this.hostNodeInfo=this.value.hostNodeInfo},handleClear(){this.$emit("on-change",new n.default({}))},handleChange(e){this.$emit("on-change",{hostNodeInfo:e})}}};t.Z=r},67610:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(42472)),r=a(i(65208)),s=a(i(49200)),o=a(i(39955)),l={name:"",props:{data:{type:Object,required:!0}},data:()=>({}),computed:{com(){return{[n.default.TYPE_STRING]:r.default,[n.default.TYPE_NAMESPACE]:r.default,[n.default.TYPE_PASSWORD]:o.default,[n.default.TYPE_RELATE_ARRAY]:r.default,[n.default.TYPE_INDEX_ARRAY]:r.default,[n.default.TYPE_HOST]:s.default}[this.data.type]}}};t.Z=l},39033:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i={name:"",props:{data:{type:Object,required:!0},value:{type:String}},methods:{handleRemove(){this.$emit("on-remove")},handleChange(e){this.$emit("on-change",e)}}};t.Z=i},59429:function(e,t){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i={name:"",props:{data:{type:Object,required:!0},value:{type:String}},methods:{handleRemove(){this.$emit("on-remove")},handleChange(e){this.$emit("on-change",e)}}};t.Z=i},81303:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(90004),i(70969),i(87033),i(9042),i(92974);var n=a(i(39986)),r=a(i(53914)),s=i(88676),o={name:"",components:{RenderGlobalVariable:r.default},inheritAttrs:!1,props:{planList:{type:Array,required:!0}},data:()=>({relatedTemplateNums:0,globalVariableMap:{},selectVariableMap:{},selectVariableValueMap:{}}),computed:{isHasSelectedAll(){var e=Object.values(this.selectVariableMap).length;return!(e<1)&&e===Object.values(this.globalVariableMap).length},selectResultText(){return"已选".concat(" ",Object.values(this.selectVariableMap).length," / ").concat(Object.values(this.globalVariableMap).length)},isSelectNotEmpty(){return Object.values(this.selectVariableMap).length>0}},created(){this.traverPlanList()},methods:{traverPlanList(){var e={},t={};this.planList.forEach((function(i){e[i.templateId]=!0,i.variableList.forEach((function(e){t[(0,s.genGlobalVariableKey)(e)]=e}))})),this.relatedTemplateNums=Object.values(e).length,this.globalVariableMap=Object.freeze(t)},triggerChange(){window.changeAlert=!0,this.$emit("on-edit-change",Object.assign({},this.selectVariableValueMap))},getEditValue(){return Object.assign({},this.selectVariableValueMap)},handleVariableSelect(e){var t=Object.assign({},this.selectVariableMap),i=Object.assign({},this.selectVariableValueMap);t[e]?(delete t[e],delete i[e]):(t[e]=!0,this.globalVariableMap[e].isHost?i[e]=new n.default({}):i[e]=""),this.selectVariableMap=Object.freeze(t),this.selectVariableValueMap=Object.freeze(i),this.triggerChange()},handleSelectAll(){var e={},t={};for(var i in this.globalVariableMap)e[i]=!0,this.globalVariableMap[i].isHost?t[i]=new n.default({}):t[i]="";this.selectVariableMap=Object.freeze(e),this.selectVariableValueMap=Object.freeze(t),this.triggerChange()},handleCancleSelectAll(){this.selectVariableMap={},this.selectVariableValueMap={},this.triggerChange()},handleRemoveSelect(e){var t=Object.assign({},this.selectVariableMap);delete t[e],this.selectVariableMap=Object.freeze(t);var i=Object.assign({},this.selectVariableValueMap);delete i[e],this.selectVariableValueMap=Object.freeze(i),this.triggerChange()},handleValueChange(e,t){this.selectVariableValueMap=Object.freeze(Object.assign({},this.selectVariableValueMap,{[e]:t})),this.triggerChange()}}};t.Z=o},57186:function(e,t,i){"use strict";i(35927),i(45974),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522),i(7170),i(90004),i(9042);var n=a(i(33610)),r=a(i(56959)),s=a(i(84484)),o=i(41980),l=i(88676),c=a(i(53610)),u=a(i(67341));function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var p={name:"",components:{EditValue:c.default,EditPreview:u.default},model:{prop:"isShow",event:"input"},props:{isShow:{type:Boolean,default:!1},data:{type:Array,required:!0}},data:()=>({isLoading:!0,curStep:1,isGlobalVariableNotEmpty:!1,planList:[{},{},{}],isPreviewDisabled:!0,globalVariableValueMap:{}}),computed:{stepCom(){return{1:c.default,2:u.default}[this.curStep]},hasEmptyValueVariable(){for(var e in this.globalVariableValueMap){var t=this.globalVariableValueMap[e];if(!t)return!0;if((0,r.default)(t)&&t.isEmpty)return!0}return!1}},watch:{isShow:{handler(e){e&&this.fetchPlanDetailData()},immediate:!0}},created(){this.steps=[{title:"编辑变量",icon:1},{title:"更新预览",icon:2}]},methods:{fetchPlanDetailData(){var e=this;this.isLoading=!0,this.isGlobalVariableNotEmpty=!1,s.default.fetchBatchPlan({planIds:this.data.map((function(e){return e.id})).join(",")}).then((function(t){e.planList=Object.freeze(t);for(var i=0;i<e.planList.length;i++)if(e.planList[i].variableList.length>0){e.isGlobalVariableNotEmpty=!0;break}})).finally((function(){e.isLoading=!1}))},handleEditChange(e){this.isPreviewDisabled=Object.values(e).length<1},handlePreview(){this.globalVariableValueMap=Object.freeze(this.$refs.handler.getEditValue()),this.handleChangeStep(2)},handleChangeStep(e){this.curStep=e,this.$refs.root.$el.querySelector(".bk-sideslider-content").scrollTop=0},handleSubmit(){var e=this,t=this.$refs.handler.getRelatePlanList(),i=[];return t.forEach((function(t){var a=[],n={planId:t.id,templateId:t.templateId,variableInfoList:a};t.variableList.forEach((function(t){var i=(0,l.genGlobalVariableKey)(t);Object.prototype.hasOwnProperty.call(e.globalVariableValueMap,i)?t.isHost?a.push(h(h({},t),{},{defaultTargetValue:e.globalVariableValueMap[i]})):a.push(h(h({},t),{},{defaultValue:e.globalVariableValueMap[i]})):a.push(t)})),i.push(n)})),s.default.batchUpdateVariable(i).then((function(){window.changeAlert=!1,e.messageSuccess("编辑成功"),e.$emit("on-success"),setTimeout((function(){e.handleCancel()}))}))},handleCancel(){var e=this;(0,o.leaveConfirm)().then((function(){e.curStep=1,e.planList=[],e.globalVariableValueMap={},e.isPreviewDisabled=!0,e.$emit("change",!1),e.$emit("input",!1)}))}}};t.Z=p},742:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var a=i(41980),n={name:"",props:{flod:{type:Boolean,default:!1}},data:()=>({isShowRight:!1,isOpen:!1,layoutWidth:"auto"}),computed:{styles(){return this.flod?{width:"370px"}:{width:this.layoutWidth}}},watch:{flod:{handler(e){var t=this;e?setTimeout((function(){t.isShowRight=e}),110):this.isShowRight=!1},immediate:!0}},mounted(){var e=this;this.calcWidth(),window.addEventListener("resize",this.calcWidth),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",e.calcWidth)}))},methods:{calcWidth(){var e=this.$refs.layout.getBoundingClientRect().width;this.layoutWidth="".concat(e,"px")},handleToggle(){this.isOpen=!this.isOpen},handleClose(){var e=this;(0,a.leaveConfirm)().then((function(){e.isOpen=!1,e.$emit("on-flod"),e.$emit("update:flod",!1)}))}}};t.Z=n},3833:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(22910)),r=i(41980),s={name:"",props:{value:{type:Boolean,default:!1}},data:()=>({templateList:[{},{},{}],formData:{templateId:""}}),watch:{value:{handler(e){e&&this.fetchData()},immediate:!0}},created(){this.rules={templateId:[{required:!0,message:"请选择作业模板",trigger:"blur"}]}},methods:{fetchData(e){var t=this;n.default.taskList({name:e,start:0,pageSize:10}).then((function(e){t.templateList=Object.freeze(e.data)}))},handleCreate(){var e=this.$router.resolve({name:"templateCreate"});window.open(e.href)},handleSubmit(){var e=this;this.$refs.form.validate().then((function(){window.changeAlert=!1,e.handleCancel(),e.$emit("on-change",e.formData.templateId)}))},handleCancel(){var e=this;(0,r.leaveConfirm)().then((function(){e.$emit("input",!1)}))}}};t.Z=s},16832:function(e,t,i){"use strict";i(35927),i(45974),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610));i(71959),i(87033),i(9042),i(63762),i(77036),i(57024),i(7170),i(23232),i(80433),i(46904),i(2156),i(95179);var r=a(i(49135)),s=a(i(46117)),o=a(i(84484)),l=a(i(67713)),c=a(i(80712)),u=a(i(27452)),d=a(i(2645)),h=a(i(47009)),p=i(46790),f=i(41980),v=a(i(93220)),m=a(i(11677)),g=a(i(49941)),y=a(i(15676)),_=a(i(31695)),b=a(i(57099));function x(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function w(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?x(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var S="task_plan_list_columns",C={name:"",components:{ListActionLayout:c.default,RenderList:u.default,JbSearchSelect:d.default,ListOperationExtend:h.default,Layout:y.default,PlanDetail:v.default,PlanEdit:m.default,TemplateSelect:_.default,BatchEditGlobalVariable:b.default},data:()=>({searchValue:[],listSelect:[],isShowTemplateSelect:!1,isShowBatchGlobalVariable:!1,planComType:"",newPlanName:"",isFirstTemplatePlan:!1,selectPlanInfo:{templateId:-1,id:-1},currentUser:{},selectedTableColumn:[],tableSize:"small",paginationSmall:!1}),computed:{isLoading(){return this.$refs.list.isLoading},allRenderColumnMap(){return this.isListFlod?{name:!0}:this.selectedTableColumn.reduce((function(e,t){return e[t.id]=!0,e}),{})},planCom(){var e={detail:v.default,edit:m.default,create:g.default};return e[this.planComType]?e[this.planComType]:"div"},isCreatePlan(){return"create"===this.planComType},isListFlod(){return Boolean(this.planComType)},batchSyncDisableTips(){if(this.listSelect.length<1)return"请选择要同步的执行方案";var e=!0,t=!0;return this.listSelect.forEach((function(i){i.needUpdate||(e=!1),i.canEdit||(t=!1)})),e?t?"":"已选结果中有执行方案中没有权限同步":"已选结果中有执行方案中不需要同步"},batchEditGlobalVariableTips(){if(this.listSelect.length<1)return"请选择要编辑的执行方案";for(var e=!0,t=0;t<this.listSelect.length;t++){if(!this.listSelect[t].canEdit){e=!1;break}}return e?"":"已选结果中有执行方案中没有权限编辑"}},created(){this.parseUrl(),this.fetchUserInfo(),this.listDataSource=o.default.fetchAllPlan,this.searchData=[{name:"ID",id:"planId",description:"将覆盖其它条件",validate:(e,t)=>!!(e||[]).every((function(e){return/^(\d*)$/.test(e.name)}))||"ID只支持数字"},{name:"执行方案",id:"planName",default:!0},{name:"更新人",id:"lastModifyUser",remoteMethod:s.default.fetchUsersOfSearch,inputInclude:!0},{name:"创建人",id:"creator",remoteMethod:s.default.fetchUsersOfSearch,inputInclude:!0}],this.isViewTemplatePlanList||this.searchData.splice(2,0,{name:"作业模板名称",id:"templateName"}),this.tableColumn=[{id:"id",label:"ID"},{id:"name",label:"执行方案",disabled:!0},{id:"templateName",label:"所属作业模板"},{id:"lastModifyUser",label:"更新人"},{id:"lastModifyTime",label:"更新时间"},{id:"creator",label:"创建人"},{id:"createTime",label:"创建时间"}];var e=p.listColumnsCache.getItem(S);e?(this.selectedTableColumn=Object.freeze(e.columns),this.tableSize=e.size):this.selectedTableColumn=Object.freeze([{id:"id"},{id:"name"},{id:"lastModifyUser"},{id:"lastModifyTime"}])},methods:{fetchData(){var e=w({},this.searchParams);this.templateId&&(e.templateId=this.templateId),this.$refs.list.$emit("onFetch",e)},fetchUserInfo(){var e=this;r.default.fetchUserInfo().then((function(t){e.currentUser=Object.freeze(t)}))},parseUrl(){var e=this;if(this.isViewTemplatePlanList="viewPlan"===this.$route.name,this.templateId="",this.isViewTemplatePlanList){var t=this.$route.params.templateId;t=Number(t),this.templateId=t;var i=this.$route.query,a=i.viewPlanId;if("create"===i.mode)return void setTimeout((function(){e.handleCreatePlan()}));var n=Number(a)||0;n>0&&setTimeout((function(){e.handlePlanSelect({templateId:t,id:n})}))}else{var r=this.$route.query,s=r.viewTemplateId,o=r.viewPlanId,l=Number(s)||0,c=Number(o)||0;l&&c&&setTimeout((function(){e.handlePlanSelect({templateId:l,id:c})}))}},caclRowClassName(e){return e.row.id===this.selectPlanInfo.id?"active":""},handleSettingChange(e){var t=e.fields,i=e.size;this.selectedTableColumn=Object.freeze(t),this.tableSize=i,p.listColumnsCache.setItem(S,{columns:t,size:i})},handleCreatePlan(){this.isViewTemplatePlanList?this.handleTemplateChange(this.templateId):this.isShowTemplateSelect=!0},handleTemplateChange(e){this.selectPlanInfo={templateId:e,id:-1},this.planComType="create",this.paginationSmall=!0,this.isFirstTemplatePlan=this.$refs.list.data.length<1},handleCreatePlanNameChange(e){this.newPlanName=e},handleSyncBatch(){this.$router.push({name:"syncPlanBatch",query:{planIds:this.listSelect.map((function(e){return e.id})).join(","),from:this.$route.name}})},handleBatchEditGlobalVariable(){this.isShowBatchGlobalVariable=!0},handleSearch(e){this.searchParams=e,this.fetchData()},handleMyPlan(){var e=this.currentUser.username,t={name:"创建人",id:"creator",values:[{id:e,name:e}]};this.searchParams=w(w({},this.searchParams),{},{creator:e}),this.searchValue=[t],this.fetchData()},handleSelection(e){this.listSelect=Object.freeze(e)},handleLayoutFlod(){this.planComType="",this.selectPlanInfo={templateId:-1,id:-1},this.paginationSmall=!1;var e=new URLSearchParams(window.location.search);e.delete("viewTemplateId"),e.delete("viewPlanId"),window.history.replaceState({},"","?".concat(e.toString()))},handlePlanSelect(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"detail",a=e.id;a!==this.selectPlanInfo.id&&(0,f.leaveConfirm)().then((function(){t.planComType=i,t.selectPlanInfo={templateid:4,id:a},t.paginationSmall=!0,setTimeout((function(){var t=new URLSearchParams(window.location.search);t.set("viewTemplateId",e.templateId),t.set("viewPlanId",e.id),window.history.replaceState({},"","?".concat(t.toString()))}))}))},handleCollection(e){var t=this;(e.favored?o.default.deleteFavorite:o.default.updateFavorite)({id:e.id,templateId:e.templateId}).then((function(){e.toggleFavored(),t.messageSuccess(e.favored?"收藏成功":"取消收藏成功")}))},handleGoCronJobList(e){var t=this.$router.resolve({name:"cronList",query:{planId:e.id}}).href;window.open(t)},handleExecute(e){var t=this;[1,2].length<1?this.$bkInfo({title:"确认执行？",subTitle:"未设置全局变量，点击确认将直接执行。",confirmFn:function(){l.default.taskExecution({taskId:4,taskVariables:[]}).then((function(e){var i=e.taskInstanceId;t.$bkMessage({theme:"success",message:"操作成功"}),t.$router.push({name:"historyTask",params:{id:i},query:{from:t.$route.name}})}))}}):this.$router.push({name:"settingVariable",params:{id:4,templateid:4},query:{from:this.$route.name}})},handleEdit(e){this.handlePlanSelect(e,"edit")},handleUpdate(e){this.$router.push({name:"syncPlan",params:{id:4,templateid:4},query:{from:this.$route.name}})},handleGoCreateCronJob(e){var t=this.$router.resolve({name:"cronList",query:{mode:"create",templateid:4,planId:4}}).href;window.open(t)},handleDelete(e){var t=this;return o.default.planDelete({id:4,templateid:4}).then((function(e){t.$bkMessage({theme:"success",message:"操作成功"}),t.fetchData()}))},handleCreateSubmit(e){this.fetchData(),this.handlePlanSelect({templateId:this.selectPlanInfo.templateId,id:e})},handleShowPlanEdit(){this.planComType="edit"},handlePlanDelete(){this.handleLayoutFlod(),this.fetchData()},handleEditCancle(){this.planComType="detail"},handleEditSuccess(){this.fetchData()},handleBatchEditGlobalVariableSuccess(){this.$refs.list.resetSelect(),this.$refs.planHandler&&this.$refs.planHandler.refresh()}}};t.Z=C},95930:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(71959),i(87033),i(9042),i(23232),i(35948),i(80433),i(92974);var n=a(i(52189)),r=a(i(81920)),s={name:"",components:{ToggleDisplay:a(i(75552)).default,GlobalVariableLayout:n.default,GlobalVariable:r.default},props:{variableList:Array,selectedList:{type:Array,default:function(){return[]}}},created(){var e=this,t=this.selectedList.reduce((function(e,t){return e[t]=!0,e}),{});this.usedList=[],this.unusedList=[],this.variableList.forEach((function(i){t[i.name]?e.usedList.push(i):e.unusedList.push(i)}))},methods:{submit(){var e=this,t=[];return this.$refs.used&&this.$refs.used.forEach((function(e){t.push(e.validate())})),this.$refs.unused&&this.$refs.unused.forEach((function(e){t.push(e.validate())})),Promise.all(t).then((function(t){var i=t.reduce((function(e,t){var i=t.value,a=t.targetValue;return e[t.id]={defaultValue:i,defaultTargetValue:a},e}),{}),a=e.variableList.reduce((function(e,t){return i[t.id]&&e.push(Object.assign({},t,i[t.id])),e}),[]);e.$emit("on-change",a)}))}}};t.Z=s},82493:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(61026),i(60259),i(87033),i(35948);var n=a(i(38502)),r=i(61681),s=a(i(42472)),o=a(i(96481)),l=a(i(32660)),c=i(70034),u={name:"",components:{ChooseIp:o.default,JbEditHost:l.default},props:{variableNameList:{type:Array},data:{type:Object,require:!0}},data(){return{formData:(0,n.default)(this.data),isShowChooseIp:!1,isShowNameError:!1,errorNameText:""}},computed:{withChangable(){return[s.default.TYPE_STRING,s.default.TYPE_RELATE_ARRAY,s.default.TYPE_INDEX_ARRAY].includes(this.formData.type)},isHostVarialbe(){return[s.default.TYPE_HOST].includes(this.formData.type)},isNameError(){return this.isShowNameError&&this.errorNameText}},created(){this.typeList=[{id:s.default.TYPE_STRING,name:"字符串"},{id:s.default.TYPE_NAMESPACE,name:"命名空间"},{id:s.default.TYPE_HOST,name:"主机列表"},{id:s.default.TYPE_PASSWORD,name:"密文"},{id:s.default.TYPE_RELATE_ARRAY,name:"关联数组"},{id:s.default.TYPE_INDEX_ARRAY,name:"索引数组"}]},methods:{validate(){return this.isShowNameError=!0,this.errorNameText="",this.formData.name||(this.errorNameText="变量名称必填"),r.globalVariableNameRule.validator(this.formData.name)||(this.errorNameText=r.globalVariableNameRule.message),this.variableNameList.includes(this.formData.name)&&(this.errorNameText="变量名称已存在，请重新输入"),this.errorNameText?Promise.reject(new Error(this.errorNameText)):Promise.resolve()},triggerChange(){this.$emit("on-change",this.formData)},handleShowNameError(){this.validate()},handleShowChooseIp(){this.isShowChooseIp=!0},handleHostChange(e){this.formData.defaultTargetValue.hostNodeInfo=e,this.triggerChange()},handleChange(e,t){"type"===e&&(this.formData=(0,c.createVariable)(this.formData.id)),this.formData[e]=t,this.isShowNameError=!1,this.triggerChange()},handleCreate(){this.$emit("on-append")},handleDelete(){this.$emit("on-delete")}}};t.Z=u},77809:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(71959),i(87033),i(23232),i(80433),i(77036),i(7170),i(35948);var n=a(i(38502)),r=a(i(42472)),s=a(i(71822)),o=a(i(25522)),l=i(70034),c={name:"",components:{RenderTableRow:s.default,CreateTableRow:o.default},props:{variable:{type:Array,default:function(){return[]}}},data(){return{variableList:(0,n.default)(this.variable)}},computed:{isEmpty(){for(var e=0;e<this.variableList.length;e++)if(!this.variableList[e].delete)return!1;return!0}},methods:{calcExcludeNameList(e){return this.variableList.reduce((function(t,i){return e.id!==i.id&&i.name&&1!==i.delete&&t.push(i.name),t}),[])},handleChange(e,t){var i=[...this.variableList],a=new r.default(t);i.splice(e,1,a),this.variableList=i,window.changeAlert=!0},handleDelete(e){var t=[...this.variableList],i=t[e];i.id>0?i.delete=1:t.splice(e,1),this.variableList=t,window.changeAlert=!0},handleAppendVariable(e){this.variableList.splice(e+1,0,(0,l.createVariable)()),window.changeAlert=!0},submit(){var e=this,t=[];return this.$refs.variableEdit&&t.push(...this.$refs.variableEdit.map((function(e){return e.validate()}))),this.$refs.variableCreate&&t.push(...this.$refs.variableCreate.map((function(e){return e.validate()}))),Promise.all(t).then((function(){return e.$emit("on-change",e.variableList)}))}}};t.Z=c},37882:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(61026),i(60259),i(87033),i(35948),i(92974);var n=a(i(42472)),r=i(61681),s=a(i(36894)),o=a(i(28877)),l=a(i(32660)),c={name:"",components:{JbEditInput:s.default,JbEditTextarea:o.default,JbEditHost:l.default},props:{data:{type:Object,required:!0},variableNameList:{type:Array}},computed:{withChangable(){return[n.default.TYPE_STRING,n.default.TYPE_RELATE_ARRAY,n.default.TYPE_INDEX_ARRAY].includes(this.data.type)}},created(){var e=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:r.globalVariableNameRule.validator,message:r.globalVariableNameRule.message,trigger:"blur"},{validator:function(t){return!e.variableNameList.includes(t)},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{validate(){return this.errorNameText="",this.data.name?r.globalVariableNameRule.validator(this.data.name)?this.variableNameList.includes(this.data.name)&&(this.errorNameText="变量名称已存在，请重新输入"):this.errorNameText=r.globalVariableNameRule.message:this.errorNameText="变量名称必填",this.errorNameText?Promise.reject(new Error(this.errorNameText)):Promise.resolve()},handleChange(e){this.$emit("on-change",Object.assign({},this.data,e))},handleDelete(){this.$emit("on-delete")},handleAppend(){this.$emit("on-append")}}};t.Z=c},99505:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(42472)),r=a(i(29637)),s=a(i(28877)),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"初始值";return{label:e,filed:"valueText"}},l={name:"GlobalVarView",components:{ServerPanel:r.default,JbEditTextarea:s.default},props:{data:{type:Object,default:()=>({})},defaultField:{type:String,default:"初始值"}},computed:{describeMap(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"初始值";return{[n.default.TYPE_STRING]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},o(e),{label:"变量描述",filed:"description"},{label:"赋值可变",filed:"changeableText"},{label:"必填",filed:"requiredText"}],[n.default.TYPE_NAMESPACE]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},o(e),{label:"变量描述",filed:"description"},{label:"必填",filed:"requiredText"}],[n.default.TYPE_HOST]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},o(e),{label:"变量描述",filed:"description"},{label:"必填",filed:"requiredText"}],[n.default.TYPE_PASSWORD]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},o(e),{label:"变量描述",filed:"description"},{label:"必填",filed:"requiredText"}],[n.default.TYPE_RELATE_ARRAY]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},o(e),{label:"变量描述",filed:"description"},{label:"必填",filed:"requiredText"}],[n.default.TYPE_INDEX_ARRAY]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},o(e),{label:"变量描述",filed:"description"},{label:"必填",filed:"requiredText"}]}}(this.defaultField)[this.data.type]}}};t.Z=l},2328:function(e,t,i){"use strict";i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610));function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(35927),i(6919),i(87033),i(35948);var o={name:"VarString",props:{data:{type:Object,default:()=>({})}},data:()=>({arrayType:5,formData:{id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}),watch:{data:{handler(e){if(Object.keys(e).length){var t=e.name,i=e.defaultValue,a=e.description,n=e.changeable,r=e.required,s=e.id,o=e.type;this.formData={name:t,defaultValue:i,description:a,changeable:n,required:r,id:s,delete:e.delete},this.arrayType=o}},immediate:!0}},methods:{submit(){return Promise.resolve(s(s({},this.formData),{},{type:this.arrayType}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}}};t.Z=o},82096:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610));i(87033),i(35948);var r=a(i(42472)),s=a(i(39986)),o=a(i(96481)),l=a(i(29637));function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d=function(){return{id:0,delete:0,name:"",defaultTargetValue:{hostNodeInfo:{},variable:""},description:"",required:0}},h={name:"VarHost",components:{ChooseIp:o.default,ServerPanel:l.default},props:{data:{type:Object,default:function(){return{}}}},data:()=>({formData:{},isShowChooseIp:!1}),computed:{isShowClear(){return!s.default.isHostNodeInfoEmpty(this.formData.defaultTargetValue.hostNodeInfo)}},watch:{data:{handler(e){this.formData=new r.default(e)},immediate:!0}},methods:{handleHostChange(e){this.formData.defaultTargetValue.hostNodeInfo=Object.freeze(e)},handleShowChooseIp(){this.isShowChooseIp=!0},handleClear(){var e=new s.default({}).hostNodeInfo;this.formData.defaultTargetValue.hostNodeInfo=e},submit(){return Promise.resolve(u(u({},this.formData),{},{type:r.default.TYPE_HOST}))},reset(){this.formData=new r.default(d)}}};t.Z=h},62244:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(92480)),r=a(i(16305)),s=a(i(88152)),o=a(i(32358)),l=a(i(92011)),c={name:"GlobalVar",components:{VarString:n.default,VarNamespace:r.default,VarHost:s.default,VarPassword:o.default,VarArray:l.default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:()=>({})}},data:()=>({globalType:"string"}),computed:{globalVarCom(){var e={string:n.default,namespace:r.default,host:s.default,password:o.default,array:l.default};return Object.prototype.hasOwnProperty.call(e,this.globalType)?e[this.globalType]:"div"},isTypeDisabled(){return!!Object.keys(this.data).length}},watch:{data:{handler(e){Object.keys(e).length&&(this.globalType=e.typeDescription)},immediate:!0}},created(){this.nametips={theme:"dark",content:"在步骤参数或脚本内使用 ${变量名} 即可获取到变量值",width:200}},methods:{submit(){var e=this;return this.$refs.handler.submit().then((function(t){e.$emit("on-change",t)}))},reset(){return this.globalType=1,this.$refs.handler.reset()}}};t.Z=c},86015:function(e,t,i){"use strict";i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610));function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(35927),i(6919),i(87033),i(35948);var o={name:"VarNamespace",props:{data:{type:Object,default:()=>({})}},data:()=>({formData:{id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}),watch:{data:{handler(e){if(Object.keys(e).length){var t=e.name,i=e.defaultValue,a=e.description,n=e.required,r=e.id,s=e.delete;this.formData={name:t,defaultValue:i,description:a,required:n,id:r},this.formData.delete=s}},immediate:!0}},methods:{submit(){return Promise.resolve(s(s({},this.formData),{},{type:2}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}}};t.Z=o},25350:function(e,t,i){"use strict";i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610));function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(35927),i(6919),i(87033),i(35948);var o={name:"VarPassword",props:{data:{type:Object,default:()=>({})}},data:()=>({formData:{id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}),watch:{data:{handler(e){if(Object.keys(e).length){var t=e.name,i=e.defaultValue,a=e.description,n=e.required,r=e.id,s=e.delete;this.formData={name:t,defaultValue:i,description:a,required:n,id:r},this.formData.delete=s}},immediate:!0}},methods:{submit(){return Promise.resolve(s(s({},this.formData),{},{type:4}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}}};t.Z=o},89215:function(e,t,i){"use strict";i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610));function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(35927),i(6919),i(87033),i(35948);var o={name:"VarString",props:{data:{type:Object,default:()=>({})}},data:()=>({formData:{id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}),watch:{data:{handler(e){if(Object.keys(e).length){var t=e.name,i=e.defaultValue,a=e.description,n=e.changeable,r=e.required,s=e.id;this.formData={name:t,defaultValue:i,description:a,changeable:n,required:r,id:s,delete:e.delete}}},immediate:!0}},methods:{submit(){return Promise.resolve(s(s({},this.formData),{},{type:1}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}}};t.Z=o},60815:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(45974),i(87033),i(77036),i(7170);var n=a(i(38502)),r=a(i(42472)),s=a(i(68665)),o=a(i(31049)),l=a(i(85751)),c=a(i(182)),u=a(i(93181)),d=a(i(92981)),h=a(i(23205)),p={name:"RenderGlobalVar",components:{VariableUseGuide:s.default,Operation:o.default,BatchOperation:l.default,Detail:c.default,EditOfPlan:u.default,BatchEditOfPlan:d.default,PopoverDetail:h.default},props:{list:{type:Array,required:!0},mode:{type:String,default:""},selectValue:{type:Array,default:function(){return[]}},defaultField:{type:String,default:"初始值"},diff:{type:Object,default:function(){return{}}}},data:()=>({isShowDetail:!1,isShowUseGuide:!1,isShowOperation:!1,isShowBatchOperation:!1,isShowEditOfPlan:!1,isShowBatchEditOfPlan:!1,variable:[],currentPopoverDetail:{},currentData:{},currentIndex:-1,currentOperation:"create",detailMedia:[]}),computed:{showEmpty(){return!this.isOperation&&this.variable.length<1},isOperation(){return"operate"===this.mode},isSelect(){return"select"===this.mode||"editOfPlan"===this.mode},isEditOfPlan(){return"editOfPlan"===this.mode},isView(){return!this.mode},isDiff(){return"diff"===this.mode},realVariable(){var e=this,t=this.variable.filter((function(e){return!e.delete}));return"edit"===this.currentOperation?t.filter((function(t){return t.name!==e.currentData.name})):t},operationSideSliderInfo(){return Object.keys(this.currentData).length<1?{title:"新建全局变量",okText:"提交"}:{title:"编辑全局变量",okText:"保存"}}},watch:{list:{handler(e){this.variable=(0,n.default)(e)},immediate:!0}},created(){this.batchOperationMediaQuery=[1080,1280,1520,1800]},methods:{triggerChange(){this.$emit("on-change",this.variable)},handleShowPopoverDetail(e){this.currentPopoverDetail=e},handleHidePopoverDetail(){this.currentPopoverDetail={}},handleShowBatchOperation(){this.isShowBatchOperation=!0},handleShowBatchEditOfPlan(){this.isShowBatchEditOfPlan=!0},handlerOperation(e,t){if(this.currentData=e,this.isView)return this.detailMedia=e.type===r.default.TYPE_HOST?[960]:[600,660,720,780],void(this.isShowDetail=!0);this.currentOperation="edit",this.currentIndex=t,this.isEditOfPlan?this.isShowEditOfPlan=!0:this.isShowOperation=!0},handleDelete(e){var t=this;this.$bkInfo({title:"确定删除该全局变量？",subTitle:"若该变量被步骤引用，请及时检查并更新步骤设置",confirmFn:function(){var i=t.variable[e];i.id>0?i.delete=1:t.variable.splice(e,1),t.triggerChange()}})},handleCreate(){this.currentOperation="create",this.currentData={},this.isShowOperation=!0,this.$refs.globalVar&&this.$refs.globalVar.reset()},handlePlanEditSubmit(e){var t=new r.default(e);this.variable.splice(this.currentIndex,1,t),this.triggerChange()},handleBatchPlanEditSubmit(e){var t=e.map((function(e){return new r.default(e)}));this.variable=t,this.triggerChange()},handleOperationSubmit(e){var t=new r.default(e);"create"===this.currentOperation?this.variable.push(t):this.variable.splice(this.currentIndex,1,t),this.triggerChange(),this.currentOperation=""},handleBatchOperationSubmit(e){this.variable=e,this.triggerChange()},handleUseGuideToggle(){this.isShowUseGuide=!this.isShowUseGuide},handleUseGuideClose(){this.isShowUseGuide=!1}}};t.Z=p},73162:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948);var n=a(i(33610)),r=i(61681);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l={name:"VarArray",components:{JbInput:a(i(86234)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:()=>({})}},data(){return{arrayType:5,formData:o({},this.data)}},computed:{isEdit(){return!!this.data.name}},watch:{data:{handler(e){e.name&&(this.arrayType=e.type)},immediate:!0}},created(){var e=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:r.globalVariableNameRule.validator,message:r.globalVariableNameRule.message,trigger:"blur"},{validator:function(t){return!e.variable.some((function(e){return e.name===t}))},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{handleArrayTypeChange(e){this.arrayType=e},submit(){var e=this;return this.$refs.varArrayForm.validate().then((function(){e.$emit("on-change",o(o({},e.formData),{},{type:e.arrayType}))}),(function(e){return Promise.reject(e.content)}))}}};t.Z=l},58822:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948);var n=a(i(33610)),r=a(i(42472)),s=a(i(39986)),o=i(61681),l=a(i(86234)),c=a(i(96481)),u=a(i(29637));function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function h(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var p={name:"VarHost",components:{JbInput:l.default,ChooseIp:c.default,ServerPanel:u.default},props:{variable:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){return{}}}},data(){return{formData:h({},this.data),isShowChooseIp:!1}},computed:{isShowClear(){return!s.default.isHostNodeInfoEmpty(this.formData.defaultTargetValue.hostNodeInfo)}},created(){var e=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:o.globalVariableNameRule.validator,message:o.globalVariableNameRule.message,trigger:"blur"},{validator:function(t){return!e.variable.some((function(e){return e.name===t}))},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{handleHostChange(e){this.formData.defaultTargetValue.hostNodeInfo=e},handleOpenChooseIp(){this.isShowChooseIp=!0},handleClearDefault(){var e=new s.default({}).hostNodeInfo;this.formData.defaultTargetValue.hostNodeInfo=e},submit(){var e=this;return this.$refs.varHostForm.validate().then((function(){e.$emit("on-change",h(h({},e.formData),{},{type:r.default.TYPE_HOST}))}),(function(e){return Promise.reject(e.content)}))}}};t.Z=p},43839:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(93046)),r=a(i(36805)),s=a(i(14426)),o=a(i(33435)),l=a(i(40339)),c=i(70034),u={name:"GlobalVar",components:{VarString:n.default,VarNamespace:r.default,VarHost:s.default,VarPassword:o.default,VarArray:l.default},props:{data:{type:Object,default:()=>({})}},data:()=>({globalType:"string",formData:{}}),computed:{globalVarCom(){var e={string:n.default,namespace:r.default,host:s.default,password:o.default,array:l.default};return Object.prototype.hasOwnProperty.call(e,this.globalType)?e[this.globalType]:"div"},isTypeDisabled(){return!!Object.keys(this.data).length}},watch:{data:{handler(e){e.name?this.formData=e:this.formData=(0,c.createVariable)(null,""),this.globalType=this.formData.typeDescription},immediate:!0}},created(){this.nametips={theme:"dark",content:"在步骤参数或脚本内使用 ${变量名} 即可获取到变量值",width:200}},methods:{submit(){return this.$refs.handler.submit&&this.$refs.handler.submit()},reset(){var e=this;return this.$refs.handler.reset&&this.$refs.handler.reset().then((function(){e.globalType=""}))}}};t.Z=u},60558:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948);var n=a(i(33610)),r=i(61681);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l={name:"VarNamespace",components:{JbInput:a(i(86234)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:function(){return{}}}},data(){return{formData:o({},this.data)}},created(){var e=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:r.globalVariableNameRule.validator,message:r.globalVariableNameRule.message,trigger:"blur"},{validator:function(t){return!e.variable.some((function(e){return e.name===t}))},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{submit(){var e=this;return this.$refs.varNamespaceForm.validate().then((function(){e.$emit("on-change",o(o({},e.formData),{},{type:2}))}),(function(e){return Promise.reject(e.content)}))}}};t.Z=l},52837:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033);var n=a(i(33610)),r=i(61681);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l={name:"VarPassword",components:{JbInput:a(i(86234)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:()=>({})}},data(){return{formData:o({},this.data),passwordIcon:[]}},watch:{data:{handler(e){e.name?this.passwordIcon=[]:this.passwordIcon=["icon-eye-slash"]},immediate:!0}},created(){var e=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:r.globalVariableNameRule.validator,message:r.globalVariableNameRule.message,trigger:"blur"},{validator:function(t){return!e.variable.some((function(e){return e.name===t}))},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{submit(){var e=this;return this.$refs.varPasswordForm.validate().then((function(){e.$emit("on-change",o(o({},e.formData),{},{type:4}))}))}}};t.Z=l},59583:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948);var n=a(i(33610)),r=i(61681);function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l={name:"VarString",components:{JbInput:a(i(86234)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:function(){return{}}}},data(){return{formData:o({},this.data)}},created(){var e=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:r.globalVariableNameRule.validator,message:r.globalVariableNameRule.message,trigger:"blur"},{validator:function(t){return!e.variable.some((function(e){return e.name===t}))},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{submit(){var e=this;return this.$refs.varStringForm.validate().then((function(){e.$emit("on-change",o(o({},e.formData),{},{type:1}))}),(function(e){return Promise.reject(e.content)}))}}};t.Z=l},95472:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(15621)),r=a(i(4027)),s={name:"GlobalVariablePopoverDetail",components:{DetailLayout:n.default,DetailItem:r.default},props:{data:{type:Object,required:!0},selectValue:{type:Array,required:!0},editOfPlan:{type:Boolean,DEFAULT:!1},defaultField:{type:String,default:"初始值"}},data:()=>({position:"left",width:300,top:0,left:0}),computed:{classes(){return{["arrow-position-".concat(this.position)]:!0}},styles(){return{position:"absolute",top:"".concat(this.top,"px"),left:"".concat(this.left,"px"),"z-index":window.__bk_zIndex_manager.nextZIndex(),width:"".concat(this.width,"px")}}},mounted(){this.init()},beforeDestroy(){try{this.$refs.detail&&document.body.hasChildNodes(this.$refs.detail)&&document.body.removeChild(this.$refs.detail)}catch(e){}},methods:{init(){var e=window.innerWidth,t=document.querySelector("#globalVariableWithName_".concat(this.data.name)).getBoundingClientRect(),i=t.top,a=t.left;this.top=i+50,this.left=a-11,e<=a+this.width&&(this.left=a-150,this.position="right"),document.body.appendChild(this.$refs.detail)}}};t.Z=s},63330:function(e,t,i){"use strict";i(35927),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(45974),i(87033),i(23232),i(80433),i(77036);var n=a(i(33610)),r=a(i(45812)),s=a(i(14943)),o=a(i(72075)),l=a(i(15695)),c=a(i(14560)),u=a(i(86136));function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}var h={name:"RenderTaskStep",components:{Draggable:s.default,JbSideslider:l.default,TaskStepOperation:c.default,TaskStepView:u.default},props:{list:{type:Array,required:!0},mode:{type:String,default:""},selectValue:{type:Array,default:function(){return[]}},variable:{type:Array,default:function(){return[]}},diff:{type:Object,default:function(){return{}}}},data:()=>({steps:[],isShowOperation:!1,isShowDetail:!1,isShowClone:!1,operationType:"",currentIndex:-1,operationData:{},detailInfo:{},dragStartIndex:-1,mediaQueryMap:[1e3,1100,1200,1300]}),computed:{isEdit(){for(var e=0;e<this.list.length;e++)if(this.list[e].id)return!0;return!1},isOperation(){return"operation"===this.mode},isSelect(){return"select"===this.mode},isView(){return!this.mode||"select"===this.mode},isDiff(){return"diff"===this.mode},stepBoxCom(){return this.isOperation?"draggable":"div"},stepContainerClasses(){var e={};return this.isShowOperation||this.isShowDetail||this.isShowClone?(e[this.operationType]=!0,e):e},hostVariables(){return this.variable.filter((function(e){return!e.delete&&e.isHost}))},scriptVariables(){return this.variable.filter((function(e){return!e.delete&&!e.isHost}))},operationSideSliderInfo(){return"create"===this.operationType?{title:"新建作业步骤",okText:"提交"}:{title:"编辑作业步骤",okText:"保存"}}},watch:{list:{handler(e){this.isOperation&&e.length<1?this.steps=[]:this.steps=Object.freeze([...e])},immediate:!0}},created(){this.order=0},beforeUpdate(){this.order=0},methods:{clickStepByIndex(e){this.handleStepClick(e)},genOrder(){return this.order+=1,this.order},handleStepClick(e){this.isOperation?this.handleShowEdit(e):(this.currentIndex=e,this.operationType="detail",this.detailInfo=this.steps[e],this.isShowDetail=!0)},handleStepSelect(e){this.$emit("on-select",e)},handleShowEdit(e){this.operationType="edit",this.currentIndex=e,this.operationData=this.steps[e],this.isShowOperation=!0},handleCloneStepHover(e,t){t?(this.currentIndex=e,this.operationType="clone",this.isShowClone=!0):(this.currentIndex=-1,this.operationType="",this.isShowClone=!1)},handleCloneStep(e){var t=[...this.steps],i=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t[e]);i.id=0,i.name="".concat(i.name,"_copy"),i=new o.default(i,!0),t.splice(e+1,0,i),this.steps=Object.freeze(t),this.handleCloneStepHover(-1,!1),this.$emit("on-change",t)},handleShowCreate(e){this.operationType="create",this.currentIndex=e,this.operationData={},this.isShowOperation=!0},handleDel(e){var t=this;this.$bkInfo({title:"确定删除该步骤？",subTitle:"删除之后不可恢复，请谨慎操作！",confirmFn:function(){var i=[...t.steps],a=i[e];a.id>0?a.delete=1:i.splice(e,1),t.steps=Object.freeze(i),t.$emit("on-change",i)}})},handleTaskStepSubmit(e,t){var i=new o.default(e),a=[...this.steps];i.localValidator=t,"create"===this.operationType?-1===this.currentIndex?a.push(i):a.splice(this.currentIndex+1,0,i):a.splice(this.currentIndex,1,i),this.steps=Object.freeze(a),this.$emit("on-change",a)},handleDragStart(e){this.dragStartIndex=e},handleDragMove:(0,r.default)((function(e){return this.dragFutureIndex=e.draggedContext.futureIndex,!0}),30),handleDragAdd(e){if(this.dragStartIndex!==e&&!(this.dragStartIndex-e==1&&1===this.dragFutureIndex||this.dragStartIndex-e==-1&&0===this.dragFutureIndex)){var t=[...this.steps],i=t[this.dragStartIndex];t.splice(this.dragStartIndex,1),t.splice(e,0,i),this.dragStartIndex=-1,this.steps=Object.freeze(t),this.$emit("on-change",t)}}}};t.Z=h},9285:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522),i(23232),i(80433),i(9042),i(71959);var n=a(i(1249)),r=a(i(46117)),s={name:"",components:{DetailItem:a(i(4027)).default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}}},data:()=>({isLoading:!0,stepInfo:{},renderRoleList:[{},{},{}],renderChannel:""}),created(){var e=this;this.stepInfo=Object.freeze(this.data.approvalStepInfo),Promise.all([this.fetchRoleList(),this.fetchAllChannel()]).finally((function(){e.isLoading=!1}))},methods:{fetchRoleList(){var e=this;r.default.fetchRoleList().then((function(t){var i={};t.forEach((function(e){i[e.code]=e.name})),e.renderRoleList=e.stepInfo.approvalUser.roleList.reduce((function(e,t){return i[t]&&e.push(i[t]),e}),[])}))},fetchAllChannel(){var e=this;if(this.stepInfo.notifyChannel.length<1)return this.renderChannel="--",Promise.resolve();n.default.fetchActiveNotifyChannel().then((function(t){var i={};t.forEach((function(e){i[e.code]=e.name}));var a=e.stepInfo.notifyChannel.reduce((function(e,t){return i[t]&&e.push(i[t]),e}),[]);a.length<1&&(e.renderChannel="--"),e.renderChannel=a.join("，")}))}}};t.Z=s},43413:function(e,t,i){"use strict";Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(70201);var a={name:"",props:{data:{type:Array,default:function(){return[]}}},data:()=>({}),computed:{renderData(){return this.data.slice(0,3)},hasMore(){return this.data.length>3}}};t.Z=a},86658:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(39986)),r=a(i(94498)),s=a(i(29637)),o={name:"",components:{ScrollFaker:r.default,ServerPanel:s.default},props:{data:{type:Object,required:!0}},data:()=>({isShowDetail:!1,hostNodeInfo:new n.default({}).hostNodeInfo}),methods:{handlerView(){this.hostNodeInfo=this.data.host.hostNodeInfo,this.isShowDetail=!0},handleClose(){this.isShowDetail=!1}}};t.Z=o},76293:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(5580),i(87033);var n=a(i(39986)),r=a(i(94498)),s=a(i(29637)),o=a(i(63715)),l={name:"StepViewGlobalVariable",components:{ScrollFaker:r.default,ServerPanel:s.default,Empty:o.default},props:{type:{type:String,default:""},name:{type:String,required:!0},data:{type:Array,default:function(){return[]}}},data:()=>({isShowDetail:!1,hostNodeInfo:new n.default({}).hostNodeInfo}),computed:{title(){return this.type?this.type:"全局变量".concat(" - ",this.name)},isEmpty(){return n.default.isHostNodeInfoEmpty(this.hostNodeInfo)}},methods:{handlerView(){var e=this,t=this.data.find((function(t){return t.name===e.name}));this.hostNodeInfo=Object.freeze(t.defaultTargetValue.hostNodeInfo),this.isShowDetail=!0},handleClose(){this.isShowDetail=!1}}};t.Z=l},60996:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(9042),i(7170),i(23232),i(35948),i(80433),i(5580);var n=a(i(77480)),r=a(i(39986)),s=a(i(36166)),o=a(i(12584)),l=a(i(83797)),c=a(i(82248)),u=a(i(77422)),d=a(i(28052)),h={name:"",components:{JbCollapseItem:o.default,RenderServerAgent:l.default,RenderFilePath:c.default,RenderGlobalVariable:u.default,RenderFileServer:d.default},props:{data:{type:Array,default:function(){return[]}},variable:{type:Array,default:function(){return[]}},account:{type:Array,default:function(){return[]}}},data:()=>({activeResult:[],localFileList:[{},{},{}],serverFileList:[{},{},{}],sourceFileList:[{},{},{}],fileSourceIdsList:[{},{},{}],fileSourceAliasList:[{},{},{}]}),computed:{isShowLocalFile(){return this.localFileList.length>0},isShowServerFile(){return this.serverFileList.length>0},isShowSourceFile(){return this.sourceFileList.length>0}},watch:{data:{handler(e){var t=this;e.forEach((function(e){var i=new s.default(e);if(i.isServerFile)t.serverFileList.push(i);else if(i.isLocalFile)t.localFileList.push(i);else if(i.isSourceFile){t.sourceFileList.push(i);var a=[];t.sourceFileList.forEach((function(e){a.push(e.fileSourceId),t.fileSourceIdsList=a}))}t.localFileList.length>0?t.activeResult=["local"]:t.serverFileList.length>0&&(t.activeResult=["server"])}))},immediate:!0},fileSourceIdsList:{handler(e){var t=this;if(e.length){var i=e.map((function(e){return n.default.getSourceInfo({id:e})}));Promise.all(i).then((function(e){e.forEach((function(e){t.fileSourceAliasList.push(e.alias)}))}))}},immediate:!0}},methods:{findVariableValue(e){var t=this.variable.find((function(t){return t.name===e}));return t?t.defaultTargetValue.hostNodeInfo:new r.default({}).hostNodeInfo},findAccountAlias(e){var t=this.account.find((function(t){return t.id===e}));return t?t.alias:""},handleGoSource(e,t){var i=e.fileSourceId,a=this.fileSourceAliasList[t],n=this.$router.resolve({name:"bucketList",query:{fileSourceId:i,sourceAlias:a}}).href;window.open(n,"_blank")}}};t.Z=h},48939:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522),i(5580);var n=a(i(6089)),r=a(i(29637)),s=a(i(1854)),o=a(i(4027)),l=a(i(77422)),c={name:"",components:{ServerPanel:r.default,RenderSourceFile:s.default,RenderGlobalVariable:l.default,DetailItem:o.default},props:{data:{type:Object,default:function(){return{}}},variable:{type:Array,default:function(){return[]}}},data:()=>({isLoading:!0,stepInfo:{},executeAccountText:"",account:[]}),created(){this.stepInfo=Object.freeze(this.data.fileStepInfo),this.fetchAccount()},methods:{fetchAccount(){var e=this;this.isLoading=!0,n.default.fetchAccountWhole().then((function(t){e.account=t;var i=t.find((function(t){return t.id===e.stepInfo.fileDestination.account}));e.executeAccountText=i?i.alias:"--"})).finally((function(){e.isLoading=!1}))}}};t.Z=c},80803:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522),i(5580);var n=a(i(44068)),r=a(i(6089)),s=a(i(45673)),o=a(i(29637)),l=a(i(4027)),c=a(i(28877)),u=a(i(77422)),d=i(41980),h={name:"",components:{AceEditor:s.default,ServerPanel:o.default,DetailItem:l.default,JbEditTextarea:c.default,RenderGlobalVariable:u.default},props:{data:{type:Object,default:function(){return{}}},variable:{type:Array,default:function(){return[]}}},data:()=>({stepInfo:{},executeAccountText:"",language:"",scriptName:"",scriptInfo:{},isShowScriptSource:!1,requestQueue:[]}),computed:{isLoading(){return this.requestQueue.length>0},isReferScript(){return this.data.scriptStepInfo.scriptSource&&1!==this.data.scriptStepInfo.scriptSource}},created(){this.stepInfo=Object.freeze(this.data.scriptStepInfo),this.language=(0,d.formatScriptTypeValue)(this.stepInfo.scriptLanguage),this.languageOption=[this.language],this.stepInfo.scriptVersionId&&this.fetchScriptDetail(),this.fetchAccount()},methods:{fetchScriptDetail(){var e=this;this.requestQueue.push(!0),n.default.versionDetail({id:this.stepInfo.scriptVersionId}).then((function(t){e.scriptName=t.name,e.stepInfo.content=t.content,e.scriptInfo=Object.freeze(t)})).finally((function(){e.requestQueue.pop()}))},fetchAccount(){var e=this;this.requestQueue.push(!0),r.default.fetchAccountWhole().then((function(t){var i=t.find((function(t){return t.id===e.stepInfo.account}));e.executeAccountText=i?i.alias:"--"})).finally((function(){e.requestQueue.pop()}))},handleGoScriptDetail(){var e=this.scriptInfo.publicScript?"publicScriptVersion":"scriptVersion",t=this.$router.resolve({name:e,params:{id:this.stepInfo.scriptId},query:{scriptVersionId:this.scriptInfo.scriptVersionId}});window.open(t.href)},handleGoScriptVersion(){var e=this.isReferPublicScript?"publicScriptVersion":"scriptVersion",t=this.$router.resolve({name:e,params:{id:this.stepInfo.scriptId}}).href;window.open(t)},handleUpdateScript(){this.$router.push({name:"templateEdit",params:{id:this.$route.params.id,stepId:this.data.id},query:{from:"templateDetail"}})}}};t.Z=h},43424:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(15621)),r=a(i(4027)),s=a(i(21594)),o=a(i(80073)),l=a(i(3724)),c={1:"执行脚本",2:"分发文件",3:"人工确认"},u={components:{StepDistroFile:s.default,StepExecScript:o.default,StepArificial:l.default,DetailLayout:n.default,DetailItem:r.default},props:{variable:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){return{}}}},computed:{stepTypeText(){return c[this.data.type]},stepCom(){var e={1:o.default,2:s.default,3:l.default};return Object.prototype.hasOwnProperty.call(e,this.data.type)?e[this.data.type]:"div"}}};t.Z=u},42762:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948),i(94522),i(7170),i(58794);var n=a(i(33610)),r=a(i(31813)),s=a(i(1249)),o=a(i(6922)),l=a(i(2699)),c=i(41980);function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var h={name:"",components:{JbUserSelector:o.default,ItemFactory:l.default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}}},data:()=>({formData:{id:0,name:(0,c.genDefaultName)("步骤人工确认"),delete:0,approvalMessage:"",approvalType:1,approvalUser:{roleList:["JOB_RESOURCE_TRIGGER_USER"],userList:[{},{},{}]},notifyChannel:[]},channleList:[{},{},{}]}),computed:{isChannelAll(){return!(this.channleList.length<1)&&this.formData.notifyChannel.length===this.channleList.length},isChannelIndeterminate(){return!(this.formData.notifyChannel.length<1)&&this.formData.notifyChannel.length!==this.channleList.length}},watch:{data:{handler(e){var t=this;(0,r.default)(e)||(this.formData=d(d({},this.formData),e),setTimeout((function(){t.$refs.form.validate()})))},immediate:!0}},created(){this.rules={approvalUser:[{validator:function(e){return e.roleList.length+e.userList.length>0},message:"确认人必填",trigger:"blur"}]},this.fetchAllChannel()},methods:{fetchAllChannel(){var e=this;s.default.fetchActiveNotifyChannel().then((function(t){e.channleList=t})).finally((function(){e.isLoading=!1}))},handleToggleAllChannel(){this.isChannelAll?this.formData.notifyChannel=[]:this.formData.notifyChannel=this.channleList.map((function(e){return e.code}))},handleNameChange(e,t){this.formData[e]=t.trim()},handleApprovalUserChange(e,t){this.formData.approvalUser.roleList=t,this.formData.approvalUser.userList=e},submit(){var e=this,t=this.formData,i=t.name,a=t.id,n=t.approvalMessage,r=t.approvalType,s=t.approvalUser,o=t.notifyChannel,l={id:a,name:i,delete:this.formData.delete,type:3,approvalStepInfo:{approvalMessage:n,approvalType:r,approvalUser:s,notifyChannel:o}};return this.$refs.form.validate().then((function(){e.$emit("on-change",l,!0)}),(function(){e.$emit("on-change",l,!1)}))}}};t.Z=h},12351:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948);var n=a(i(33610)),r=a(i(31813)),s=i(45614),o=a(i(72075)),l=a(i(39986)),c=a(i(70007)),u=a(i(2699)),d=i(41980);function h(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function p(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?h(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):h(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var f={name:"",components:{CardLayout:c.default,ItemFactory:u.default},inheritAttrs:!1,props:{variable:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){return[]}}},data:()=>({formData:{id:0,name:(0,d.genDefaultName)("步骤分发文件"),fileSourceList:[{},{},{}],timeout:7200,uploadSpeedLimit:0,transferMode:2,ignoreError:0,downloadSpeedLimit:0,account:"",path:"",server:new l.default({})}}),computed:p(p({},(0,s.mapState)("distroFile",{isEditNewSourceFile:function(e){return e.isEditNewSourceFile},isLocalFileUploading:function(e){return e.isLocalFileUploading},isLocalFileUploadFailed:function(e){return e.isLocalFileUploadFailed}})),{},{formMarginLeftWidth:()=>110}),watch:{data:{handler(e){var t=this;if(!(0,r.default)(e)){var i=e.fileDestination,a=i.account,n=i.path,s=i.server,o=p({},e);delete o.fileDestination,this.formData=p(p(p({},this.formData),o),{},{account:a,path:n,server:s}),setTimeout((function(){t.$refs.form.validate()}))}},immediate:!0}},mounted(){window.IPInputScope="FILE_DISTRIBUTION",this.$once("hook:beforeDestroy",(function(){window.IPInputScope=""}))},methods:{handleChange(e,t){this.formData[e]=t},submit(){var e=this,t=this.$createElement;return Promise.resolve().then((function(){return new Promise((function(t,i){if(!e.isEditNewSourceFile)return t();e.$bkInfo({title:"您有未保存的源文件",type:"warning",okText:"继续提交",cancelText:"去保存",confirmFn:function(){t()},cancelFn:function(){i(new Error("save"))}})}))})).then((function(){return new Promise((function(t,i){for(var a=!1,n=0;n<e.formData.fileSourceList.length;n++){var r=e.formData.fileSourceList[n];if(r.fileType===o.default.fileStep.TYPE_SERVER&&(0,d.compareHost)(e.formData.server,r.host)){a=!0;break}}a?e.$bkInfo({title:"源和目标服务器相同",subTitle:"检测到文件传输源和目标服务器是同一批，若是单台建议使用本地 cp 方式效率会更高，请问你是否确定参数无误？",width:500,okText:"好的，我调整一下",cancelText:"是的，确定无误",confirmFn:function(){i(new Error("save"))},cancelFn:function(){t()}}):t()}))})).then((function(){return new Promise((function(t,i){(0,d.detectionSourceFileDupLocation)(e.formData.fileSourceList)?e.$bkInfo({title:"源文件可能出现同名",subTitle:"多文件源传输场景下容易出现同名文件覆盖的问题，你可以在目标路径中使用 [源服务器IP] 的变量来尽可能规避风险。",okText:"好的，我调整一下",cancelText:"已知悉，确定执行",closeIcon:!1,width:500,confirmFn:function(){e.$refs.targetPath.$el.scrollIntoView(),e.$refs.targetPath.$el.querySelector(".bk-form-input").focus(),i(new Error("transferMode change"))},cancelFn:function(){t()}}):t()}))})).then((function(){var i=e.formData,a={id:i.id,name:i.name,delete:0,type:2,fileStepInfo:{timeout:i.timeout,uploadSpeedLimit:i.uploadSpeedLimit,downloadSpeedLimit:i.downloadSpeedLimit,transferMode:i.transferMode,ignoreError:i.ignoreError,fileSourceList:i.fileSourceList,fileDestination:{account:i.account,path:i.path,server:i.server}}};return e.$refs.form.validate().then((function(){e.$emit("on-change",a,!0)})).catch((function(){return new Promise((function(i,n){var r=null,s=function(){r.close(),n(new Error("not save"))},o=function(){return t("div",[t("div",{style:"text-align: center"},[t("bk-button",{on:{click:s},style:"width: 96px",attrs:{theme:"primary"}},["去处理"])])])};e.isLocalFileUploading?r=e.$bkInfo({type:"error",title:"本地源文件上传未完成",subHeader:o(),showFooter:!1}):e.isLocalFileUploadFailed?r=e.$bkInfo({type:"error",title:"本地源文件上传失败",subHeader:o(),showFooter:!1}):(e.$emit("on-change",a,!1),i())}))}))}))}}};t.Z=f},94542:function(e,t,i){"use strict";i(35927),i(45974),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(87033),i(35948);var n=a(i(33610)),r=a(i(31813)),s=a(i(72075)),o=a(i(39986)),l=i(41980),c=a(i(20703));function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function d(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var h={name:"",components:{ItemFactory:c.default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return[]}},variable:{type:Array,default:function(){return[]}},scriptVariables:{type:Array,default:function(){return[]}},stepName:{type:Array,default:function(){return[]}}},data:()=>({formData:{isScriptContentLoading:!1,name:(0,l.genDefaultName)("步骤执行脚本"),ignoreError:0,id:0,delete:0,status:0,scriptSource:s.default.scriptStep.TYPE_SOURCE_LOCAL,scriptId:"",scriptVersionId:"",scriptLanguage:1,content:"",scriptParam:"",timeout:7200,secureParam:0,account:"",executeTarget:new o.default({})}}),watch:{data:{handler(e){var t=this;(0,r.default)(e)||(this.formData=d(d({},this.formData),e),setTimeout((function(){t.$refs.form.validate()})))},immediate:!0}},mounted(){window.IPInputScope="SCRIPT_EXECUTE",this.$once("hook:beforeDestroy",(function(){window.IPInputScope=""}))},methods:{handleChange(e,t){this.formData[e]=t},handleScriptContentReset(e){this.formData=d(d({},this.formData),e)},submit(){var e=this,t=this.formData,i=t.name,a=t.id,n=t.ignoreError,r=t.scriptParam,s=t.timeout,o=t.secureParam,c=t.scriptSource,u=t.scriptId,d=t.content,h=t.account,p=t.status,f=t.scriptVersionId,v=t.scriptLanguage,m=t.executeTarget,g={id:a,name:i,delete:this.formData.delete,type:1,scriptStepInfo:{ignoreError:n,scriptParam:r,timeout:s,scriptSource:c,scriptId:u,account:h,content:d,scriptLanguage:v,status:p,scriptVersionId:f,executeTarget:m,secureParam:o}};return this.$refs.form.validate().then((function(){return!0}),(function(){return!1})).then((function(t){if(e.$store.state.scriptCheckError)return(0,l.scriptErrorAlert)(),Promise.reject(new Error("脚本中出现高危语句"));e.$emit("on-change",g,t)}))}}};t.Z=h},26689:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var n=a(i(33610)),r=a(i(68665)),s=a(i(9784)),o=a(i(34795)),l=a(i(69431));function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}var u={components:{StepDistroFile:s.default,StepExecScript:o.default,StepArificial:l.default,VariableUseGuide:r.default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}}},data:()=>({taskStepType:"",isShowVariableGuide:!1}),computed:{stepCom(){var e={1:o.default,2:s.default,3:l.default};return Object.prototype.hasOwnProperty.call(e,this.taskStepType)?e[this.taskStepType]:"div"},stepData(){var e={1:"scriptStepInfo",2:"fileStepInfo",3:"approvalStepInfo"}[this.taskStepType];if(!Object.prototype.hasOwnProperty.call(this.data,e)||!Object.keys(this.data[e]).length)return{};var t=this.data;return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({name:t.name,id:t.id},this.data[e])},isStepTypeReadOnly(){return!!Object.keys(this.data).length},leftStyles(){var e={width:"100%"};return this.isShowVariableGuide&&(e.width="calc(100% - 366px)"),e},formMarginLeftWidth:()=>110},watch:{data:{handler(e){Object.keys(e).length?this.taskStepType=this.data.type:this.taskStepType=1},immediate:!0}},created(){this.originWraperWidth=0},mounted(){document.querySelector("#taskStepOperationSideslider").querySelector(".jb-sideslider-footer").style.paddingLeft="".concat(this.formMarginLeftWidth+30,"px")},methods:{handleShowVariableGuide(){var e=this;if(!this.isShowVariableGuide){var t=document.querySelector("#taskStepOperationSideslider").querySelector(".bk-sideslider-wrapper");t.style.transition="width 0.1s",setTimeout((function(){var i=t.getBoundingClientRect().width;e.originWraperWidth=i,t.style.width="".concat(i+366,"px"),e.isShowVariableGuide=!0}))}},handleHideVariableGuide(){document.querySelector("#taskStepOperationSideslider").querySelector(".bk-sideslider-wrapper").style.width="".concat(this.originWraperWidth,"px"),this.isShowVariableGuide=!1},submit(){return this.$refs.handler.submit&&this.$refs.handler.submit()},reset(){return this.taskStepType="",this.$refs.handler.reset&&this.$refs.handler.reset()}}};t.Z=u},82591:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0,i(92974),i(22695);var n=a(i(80951)),r=a(i(71780)),s=a(i(77127)),o=a(i(49601)),l={name:"",data:()=>({tab:"global"}),computed:{contentHtml(){var e={global:r.default,magic:o.default};return Object.assign(e,{global:n.default,magic:s.default}),e[this.tab]}},methods:{handleTabToggle(e){this.tab=e,console.log("fromasasd = =",this.tab)},handleClose(){this.$emit("on-close")}}};t.Z=l},42152:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(54577)),r="zh-CN",s=n.default.get("blueking_language");s&&"en"===s.toLowerCase()&&(r="en-US");var o,l,c,u,d,h={Shell:(d=[],d.push("#!/bin/bash","","anynowtime=\"date +'%Y-%m-%d %H:%M:%S'\"",'NOW="echo [\\`$anynowtime\\`][PID:$$]"',"","zh-CN"===r?"##### 可在脚本开始运行时调用，打印当时的时间戳及PID。":"##### It's usually called when the script starts to run, prints the timestamp and PID.","function job_start","{",'    echo "`eval $NOW` job_start"',"}","","zh-CN"===r?"##### 可在脚本执行成功的逻辑分支处调用，打印当时的时间戳及PID。 ":"##### Use this func. to combine the execution results of multiple hosts and display by group.","function job_success","{",'    MSG="$*"','    echo "`eval $NOW` job_success:[$MSG]"',"    exit 0","}","","zh-CN"===r?"##### 可在脚本执行失败的逻辑分支处调用，打印当时的时间戳及PID。":"##### Use this func. to combine the execution results of multiple hosts and display by group.","function job_fail","{",'    MSG="$*"','    echo "`eval $NOW` job_fail:[$MSG]"',"    exit 1","}","","job_start","","zh-CN"===r?"###### 作业平台中执行脚本成功和失败的标准只取决于脚本最后一条执行语句的返回值":"###### The script execution result is depends on the value of return/exit code, weather it success or failed.","zh-CN"===r?"###### 如果返回值为0，则认为此脚本执行成功，如果非0，则认为脚本执行失败":"###### If return code is 0, means success, otherwise failed.","zh-CN"===r?"###### 可在此处开始编写您的脚本逻辑代码":"###### Start to writing your script code below this line","",""),d.join("\n")),Bat:(u=[],u.push("@echo on","setlocal enabledelayedexpansion","call:job_start","","zh-CN"===r?"REM 作业平台中执行脚本成功和失败的标准只取决于脚本最后一条执行语句的返回值":"REM The script execution result is depends on the value of return/exit code, weather it success or failed.","zh-CN"===r?"REM 如果返回值为0，则认为此脚本执行成功，如果非0，则认为脚本执行失败":"REM If return code is 0, means success, otherwise failed.","zh-CN"===r?"REM 可在此处开始编写您的脚本逻辑代码":"REM Start to writing your script code below this line","","","","zh-CN"===r?"REM 函数定定义区域，不要把正文写到函数区下面 ":"REM Function definition area, do not write the text below the function area","goto:eof","zh-CN"===r?"REM 可在脚本开始运行时调用，打印当时的时间戳及PID。":"REM It's usually called when the script starts to run, prints the timestamp and PID.",":job_start","    set cu_time=[%date:~0,10% %time:~0,8%]",'    for /F "skip=3 tokens=2" %%i in (\'tasklist /v /FI "IMAGENAME eq cmd.exe" /FI "STATUS eq Unknown"\') do (',"        set pid=[PID:%%i]","        goto:break","    )","    :break","    echo %cu_time%%pid% job_start","    goto:eof","    ","zh-CN"===r?"REM 可在脚本执行成功的逻辑分支处调用，打印当时的时间戳及PID。 ":"REM Use this func. to combine the execution results of multiple hosts and display by group.",":job_success","    set cu_time=[%date:~0,10% %time:~0,8%]",'    for /F "skip=3 tokens=2" %%i in (\'tasklist /v /FI "IMAGENAME eq cmd.exe" /FI "STATUS eq Unknown"\') do (',"        set pid=[PID:%%i]","        goto:break","    )","    :break","    echo %cu_time%%pid% job_success:[%*]","    exit 0","    ","zh-CN"===r?"REM 可在脚本执行失败的逻辑分支处调用，打印当时的时间戳及PID。":"REM Use this func. to combine the execution results of multiple hosts and display by group.",":job_fail","    set cu_time=[%date:~0,10% %time:~0,8%]",'    for /F "skip=3 tokens=2" %%i in (\'tasklist /v /FI "IMAGENAME eq cmd.exe" /FI "STATUS eq Unknown"\') do (',"        set pid=[PID:%%i]","        goto:break","    )","    :break","    echo %cu_time%%pid% job_fail:[%*]","    exit 1","",""),u.join("\n")),Perl:(c=[],c.push("#!/usr/bin/perl","","use strict;","","sub job_localtime {","    my @n = localtime();",'    return sprintf("%04d-%02d-%02d %02d:%02d:%02d",$n[5]+1900,$n[4]+1,$n[3], $n[2], $n[1], $n[0] );',"}","","zh-CN"===r?"##### 可在脚本开始运行时调用，打印当时的时间戳及PID。":"##### It's usually called when the script starts to run, prints the timestamp and PID.","sub job_start {",'    print "[",&job_localtime,"][PID:$$] job_start\\n";',"}","","zh-CN"===r?"##### 可在脚本执行成功的逻辑分支处调用，打印当时的时间戳及PID。 ":"##### Use this func. to combine the execution results of multiple hosts and display by group.","sub job_success {",'    print "[",&job_localtime,"][PID:$$] job_success:[@_]\\n";',"    exit 0;","}","","zh-CN"===r?"##### 可在脚本执行失败的逻辑分支处调用，打印当时的时间戳及PID。":"##### Use this func. to combine the execution results of multiple hosts and display by group.","sub job_fail {",'    print "[",&job_localtime,"][PID:$$] job_fail:[@_]\\n";',"    exit 1;","}","","job_start;","","zh-CN"===r?"###### iJobs中执行脚本成功和失败的标准只取决于脚本最后一条执行语句的返回值":"###### The script execution result is depends on the value of return/exit code, weather it success or failed.","zh-CN"===r?"###### 如果返回值为0，则认为此脚本执行成功，如果非0，则认为脚本执行失败":"###### If return code is 0, means success, otherwise failed.","zh-CN"===r?"###### 可在此处开始编写您的脚本逻辑代码":"###### You can start writing your script logic code here","",""),c.join("\n")),Python:(l=[],l.push("#!/usr/bin/env python","# -*- coding: utf8 -*-","","import datetime","import os","import sys","",'def _now(format="%Y-%m-%d %H:%M:%S"):',"    return datetime.datetime.now().strftime(format)","","zh-CN"===r?"##### 可在脚本开始运行时调用，打印当时的时间戳及PID。":"##### It's usually called when the script starts to run, prints the timestamp and PID.","def job_start():",'    print("[%s][PID:%s] job_start" % (_now(), os.getpid()))',"","zh-CN"===r?"##### 可在脚本执行成功的逻辑分支处调用，打印当时的时间戳及PID。 ":"##### Use this func. to combine the execution results of multiple hosts and display by group.","def job_success(msg):",'    print("[%s][PID:%s] job_success:[%s]" % (_now(), os.getpid(), msg))',"    sys.exit(0)","","zh-CN"===r?"##### 可在脚本执行失败的逻辑分支处调用，打印当时的时间戳及PID。":"##### Use this func. to combine the execution results of multiple hosts and display by group.","def job_fail(msg):",'    print("[%s][PID:%s] job_fail:[%s]" % (_now(), os.getpid(), msg))',"    sys.exit(1)","","if __name__ == '__main__':","","    job_start()","","zh-CN"===r?"###### iJobs中执行脚本成功和失败的标准只取决于脚本最后一条执行语句的返回值":"###### The script execution result is depends on the value of return/exit code, weather it success or failed.","zh-CN"===r?"###### 如果返回值为0，则认为此脚本执行成功，如果非0，则认为脚本执行失败":"###### If return code is 0, means success, otherwise failed.","zh-CN"===r?"###### 可在此处开始编写您的脚本逻辑代码":"###### Start to writing your script code below this line","",""),l.join("\n")),Powershell:(o=[],o.push("zh-CN"===r?"##### 可在脚本开始运行时调用，打印当时的时间戳及PID。":"#### It's usually called when the script starts to run, prints the timestamp and PID.","function job_start","{",'    $cu_date = Get-Date -Format "yyyy-MM-dd HH:mm:ss"    ','    "[{0}][PID:{1}] job_start" -f $cu_date,$pid',"}","","zh-CN"===r?"##### 可在脚本执行成功的逻辑分支处调用，打印当时的时间戳及PID。 ":"##### Use this func. to combine the execution results of multiple hosts and display by group.","function job_success","{",'    $cu_date = Get-Date -Format "yyyy-MM-dd HH:mm:ss"',"    if($args.count -ne 0)","    {",'        $args | foreach {$arg_str=$arg_str + " " + $_}',"        \"[{0}][PID:{1}] job_success:[{2}]\" -f $cu_date,$pid,$arg_str.TrimStart(' ')","    }","    else","    {",'        "[{0}][PID:{1}] job_success:[]" -f $cu_date,$pid',"    }","    exit 0","}","","zh-CN"===r?"##### 可在脚本执行失败的逻辑分支处调用，打印当时的时间戳及PID。":"##### Use this func. to combine the execution results of multiple hosts and display by group.","function job_fail","{",'    $cu_date = Get-Date -Format "yyyy-MM-dd HH:mm:ss"',"    if($args.count -ne 0)","    {",'        $args | foreach {$arg_str=$arg_str + " " + $_}',"        \"[{0}][PID:{1}] job_fail:[{2}]\" -f $cu_date,$pid,$arg_str.TrimStart(' ')","    }","    else","    {",'        "[{0}][PID:{1}] job_fail:[]" -f $cu_date,$pid',"    }","    exit 1","}","","job_start","","zh-CN"===r?"###### 作业平台中执行脚本成功和失败的标准只取决于脚本最后一条执行语句的返回值":"###### The script execution result is depends on the value of return/exit code, weather it success or failed.","zh-CN"===r?"###### 如果返回值为0，则认为此脚本执行成功，如果非0，则认为脚本执行失败":"###### If return code is 0, means success, otherwise failed.","zh-CN"===r?"###### 可在此处开始编写您的脚本逻辑代码":"###### Start to writing your script code below this line","",""),o.join("\n")),SQL:""};t.default=h},6615:function(e,t,i){"use strict";i(35927),i(45974),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.statisticsHost=t.sortHost=t.resetTree=t.parseIdInfo=t.mergeTopologyHost=t.mergeInputHost=t.generateHostRealId=t.findAllChildNodeId=t.filterTopology=t.bigTreeTransformTopologyOfTopology=void 0;var n=a(i(33610));function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}i(70969),i(70201),i(63762),i(14370),i(7170),i(71959),i(87033),i(9042),i(23232),i(80433),i(92974),i(47140),i(90004);var o=function(e){return"".concat(e.cloudAreaInfo.id,":").concat(e.ip)};t.generateHostRealId=o;t.parseIdInfo=function(e){return e.match(/^#([^#]+)#(.+)$/).slice(1)};t.bigTreeTransformTopologyOfTopology=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!t||t.length<1?[]:t.map((function(t){var a=t.instanceId,n=t.instanceName,r=t.child,s=t.objectId,o=t.count,l=e(r,i+1);return Object.freeze({id:"#".concat(s,"#").concat(a),name:n,level:i,children:l,payload:{count:o}})}))};t.filterTopology=function e(t){var i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!t||t.length<1?[]:i?t:t.reduce((function(t,a){return(0===a.level||a.level>0&&a.payload.count>0)&&t.push(s(s({},a),{},{children:e(a.children,i)})),t}),[])};t.statisticsHost=function(e){for(var t=e.length,i=0,a=0;a<t;a++){1!==e[a].alive&&i++}return{total:t,success:t-i,fail:i}};t.findAllChildNodeId=function e(t){var i=[];return t.children&&t.children.forEach((function(t){i.push(t.id),i.push(...e(t))})),i};var l=function(e,t){var i=[],a={};return e.forEach((function(e){i.push(e),a[e.realId]=!0})),t.forEach((function(e){a[e.realId]||i.push(e)})),i};t.mergeInputHost=l;t.mergeTopologyHost=function(e,t,i){var a={};if(i.forEach((function(e){a[e.realId]=!0})),t.length>i.length){var n={};t.forEach((function(e){var t=e.realId;a[t]||(n[t]=!0)}));var r=[];return e.forEach((function(e){n[e.realId]||r.push(e)})),r}return l(e,i)};t.resetTree=function e(t,i){!t||t.length<1||t.forEach((function(t){i(t),e(t.children,i)}))};t.sortHost=function(e){var t={};e.forEach((function(e){var i=e.ip;t[i]?t[i]+=1:t[i]=1}));var i={},a={},n={};e.forEach((function(e){var r=t[e.ip]>1,s=Object.assign({realId:o(e),repeat:r},e),l=e.ip;r?(i[l]||(i[l]=[]),i[l].push(s)):s.alive?n[l]=s:a[l]=s}));var r=[];return Object.keys(i).forEach((function(e){var t=i[e].sort((function(e,t){return e.alive-t.alive}));r.push(...t)})),Object.values(a).forEach((function(e){r.push(e)})),Object.values(n).forEach((function(e){r.push(e)})),r}},34109:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(92974),i(79981);var a={props:{headBackgroundColor:{type:String,default:"#FAFBFD"},tailBackgroundColor:String},render(e){var t=this.$slots.default;if(t.length>1){for(var i=t.length,a=0,n=null;a<i&&(!(n=t[a]).tag||!n.componentOptions);)a+=1;for(var r=null,s=i-1;s>=0&&s&&(!(r=t[s]).tag||!r.componentOptions);)s-=1;if(n&&r&&n!==r){var o="compose-form-item-first";n.data.staticClass&&(o+=" ".concat(n.data.staticClass)),this.headBackgroundColor&&(n.data.style=Object.assign(n.data.style||{},{"background-color":this.headBackgroundColor})),n.data.staticClass=o;var l="compose-form-item-last";r.data.staticClass&&(l+=" ".concat(r.data.staticClass)),this.tailBackgroundColor&&(r.data.style=Object.assign(r.data.style||{},{"background-color":this.tailBackgroundColor})),r.data.staticClass=l}}return e("div",{staticClass:"compose-form-item"},t)}};t.default=a},12023:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popperConfig=t.generatorMenu=t.encodeRegexp=void 0,i(71959),i(87033),i(56259),i(63762),i(95179),i(78004);var a={arrow:!1,placement:"bottom-start",trigger:"manual",theme:"light bk-search-select-theme",hideOnClick:!1,animateFill:!1,animation:"slide-toggle",lazy:!1,ignoreAttributes:!0,boundary:"window",distance:15,zIndex:window.__bk_zIndex_manager.nextZIndex()};t.popperConfig=a;t.generatorMenu=function(){return{id:null,checked:[],condition:{}}};t.encodeRegexp=function(e){return["\\",".","*","-","{","}","[","]","^","(",")","$","+","?","|"].reduce((function(e,t){var i=new RegExp("\\".concat(t),"g");return e.replace(i,"\\".concat(t))}),e)}},75806:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={bk:{searchSelect:{placeholder:"Please enter",emptyText:"Included key worth filtering query must have a value",condition:"Or",remoteEmptyText:"Query no data",remoteLoadingText:"Loading...",tips:"multiple keywords separate by |",ok:"OK",cancel:"Cancel"}}}},24213:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(63762),i(40782);var n=a(i(54577)),r=a(i(75806)),s={"zh-CN":a(i(34349)).default,"en-US":r.default},o="zh-CN",l=n.default.get("blueking_language");l&&"en"===l.toLowerCase()&&(o="en-US");var c=s[o],u={t:function(e){for(var t=e.split("."),i=0,a=c;i<t.length;)a=a[t[i]],i+=1;return a}};t.default=u},34349:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={bk:{searchSelect:{placeholder:"请输入",emptyText:"包含键值得过滤查询必须有一个值",condition:"或",remoteEmptyText:"查询无数据",remoteLoadingText:"正在加载中...",tips:"多个关键字用竖线 “|” 分隔",ok:"确认",cancel:"取消"}}}},68022:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(61026);var a={methods:{scrollActiveToView(e){if([38,40].includes(e.keyCode)){38===e.keyCode?this.activeIndex-=1:40===e.keyCode&&(this.activeIndex+=1),this.activeIndex>=this.list.length&&(this.activeIndex=this.list.length-1),this.activeIndex<0&&(this.activeIndex=0);var t=this.$refs.list;this.$nextTick((function(){var e=t.getBoundingClientRect().height,i=t.querySelector(".active").offsetTop+34;i>e?t.scrollTop=i-e+10:i<=42&&(t.scrollTop=0)}))}}}};t.default=a},86093:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.parseCondition=t.default=t.checkIsCheckboxColumn=void 0;var n=a(i(64958));i(63762),i(78004),i(87033),i(9042),i(61026),i(70969),i(7170);var r=function(){},s=function(e,t){return e.replace(/\$\{([^}]+)\}+/g,(function(e,i){return t[i]}))},o=function(e,t){if(!e)return!1;if(!e.rely)return!0;for(var i={AND:function(e,t){return e&&t},OR:function(e,t){return e||t}},a=e.rely,n=a.operation,r=a.expressions,s="AND"===n,o=0;o<r.length;o++){var l=r[o],c=l.key,u=l.value;if(s=i[n](s,t[c]===u))break}return s};t.parseCondition=o;var l=function(e,t){return s(e,t)},c=function(e,t){var i=JSON.parse(e);return Object.keys(i).forEach((function(e){i[e]=s(i[e],t)})),i},u=function(e){return"checkbox"===e};t.checkIsCheckboxColumn=u;var d={DELETE:{title:"确定删除该文件(夹)？",content:"文件源本体的该文件(夹)也会被删除，请谨慎操作！"}},h={functional:!0,render(e,t){var i=t.props,a=i.fileSourceId,s=void 0===a?"":a,h=i.column,p=void 0===h?{}:h,f=i.linkHandler,v=void 0===f?r:f,m=i.actionHandler,g=void 0===m?r:m,y=i.selectHandler,_=void 0===y?r:y,b=i.renderHeader,x=void 0===b?r:b,w=i.rowSelection,S=void 0===w?{}:w,C=p.type,I=p.actions,k=p.label,O=p.field;return u(C)?e("bk-table-column",{key:"".concat(t.data.key,"_section"),attrs:{width:"50",renderHeader:x},scopedSlots:{default:function(t){var i=t.row;return e("bk-checkbox",{attrs:{disabled:!o(p.enable,i),checked:!!S[i.completePath]},on:{change:function(e){return _(i.completePath,e)}}})}}}):function(e){return"buttonGroup"===e}(C)?e("bk-table-column",{attrs:{label:k,align:"left",width:120},key:"".concat(t.data.key,"_").concat(O),scopedSlots:{default:function(t){var i=t.row;return I.map((function(t){if(!o(t,i))return"";if(function(e){return["FILE_LINK"].includes(e)}(t.type))return e("bk-button",{attrs:{text:!0},on:{click:function(){return v(l(t.target,i))}}},[t.label||i[O]||"--"]);var a="bk-button",r={};return"DELETE"===t.actionType&&(a="auth-button",r={props:{auth:"file_source/delete",permission:i.canManage,resourceId:s}}),"Confirm"===t.displayType?e("jb-popover-confirm",{attrs:{title:d[t.actionType].title,content:d[t.actionType].content,"confirm-handler":function(){return g(t.actionCode,c(t.params,i))}}},[e(a,(0,n.default)([{},r,{attrs:{text:!0}}]),[t.label||i[O]||"--"])]):e(a,(0,n.default)([{},r,{attrs:{text:!0},on:{click:function(){return g(t.actionCode,c(t.params,i))}}}]),[t.label||i[O]||"--"])}))}}}):e("bk-table-column",{attrs:{label:k,align:"left"},key:"".concat(t.data.key,"_").concat(O),scopedSlots:{default:function(t){var i=t.row;return I?I.map((function(t){return o(t,i)?e("bk-button",{attrs:{text:!0},on:{click:function(){return v(l(t.target,i))}}},[e("icon",{attrs:{type:"folder-full"},class:"mr10",style:"color: #699DF4"}),t.label||i[O]||"--"]):e("div",[e("icon",{attrs:{type:"file-full"},class:"mr10",style:"color: #C4C6CC"}),e("span",[i[O]||"--"])])})):e("span",[i[O]||"--"])}}})}};t.default=h},76830:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(33610));class r{constructor(e){this.id=e.id,this.account=e.account,this.alias=e.alias,this.categoryName=e.categoryName,this.category=e.category,this.createTime=e.createTime,this.creator=e.creator,this.dbPassword=e.dbPassword,this.dbPort=e.dbPort,this.dbSystemAccountId=e.dbSystemAccountId,this.lastModifyTime=e.lastModifyTime,this.lastModifyUser=e.lastModifyUser,this.os=e.os,this.ownerUsers=e.ownerUsers||[],this.password=e.password,this.remark=e.remark||"",this.type=e.type,this.typeName=e.typeName,this.canUse=e.canUse,this.canManage=e.canManage}get isSystem(){return 1===this.category}}t.default=r,(0,n.default)(r,"OS",1),(0,n.default)(r,"DB",2),(0,n.default)(r,"TYPE_LINUX",1),(0,n.default)(r,"TYPE_WINDOWS",2),(0,n.default)(r,"TYPE_MYSQL",9),(0,n.default)(r,"TYPE_ORACLE",10),(0,n.default)(r,"TYPE_DB2",11),(0,n.default)(r,"accountType",{liunx:1,windows:2,mysql:9,oracle:10,db2:11})},6360:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(85604),i(70201),i(70969),i(71959),i(87033),i(7170);var n=a(i(56318)),r=a(i(33610)),s=a(i(56959)),o=a(i(32558)),l=a(i(27366)),c=i(41980),u=a(i(91052));class d{constructor(e){this.appId=e.appId,this.scopeType=e.scopeType,this.scopeId=e.scopeId,this.creator=e.creator,this.createTime=e.createTime,this.cronExpression=e.cronExpression,this.executeTime=e.executeTime||"",this.id=e.id,this.enable=e.enable,this.endTime=(0,c.prettyDateTimeFormat)(1e3*parseInt(e.endTime,10)),this.lastExecuteStatus=e.lastExecuteStatus,this.lastModifyTime=e.lastModifyTime,this.lastModifyUser=e.lastModifyUser,this.name=e.name,this.notifyChannel=e.notifyChannel||[],this.notifyOffset=e.notifyOffset,this.scriptId=e.scriptId||0,this.scriptVersionId=e.scriptVersionId||0,this.taskPlanId=e.taskPlanId||0,this.taskPlanName=e.taskPlanName,this.taskTemplateId=e.taskTemplateId,this.failCount=e.failCount||0,this.totalCount=e.totalCount||0,this.lastFailRecord=e.lastFailRecord||[],this.variableValue=this.initVariableValue(e.variableValue),this.notifyUser=this.initNotifyUser(e.notifyUser),this.canManage=e.canManage,this.isPlanLoading=!0,this.isStatictisLoading=!0}get executeStrategy(){return this.cronExpression?"period":"once"}get executeStrategyText(){return this.cronExpression?"周期执行":"单次执行"}get executeTimeTips(){if(this.cronExpression){var e=(0,u.default)(this.cronExpression),t=(0,n.default)(e,5),i=t[0],a=t[1],r=t[2],s=t[3],o=i;return a&&(o+=a),r&&(i&&r&&(o+=a?"以及当月":"的"),o+=r),s&&((a||r)&&(o+="的"),o+=s),o+=t[4]}return this.executeTime}get statusIconType(){return d.STATUS_ICON_TYPE[this.lastExecuteStatus]}get statusText(){return d.STATUS_MAP[this.lastExecuteStatus]}get policeText(){return this.cronExpression?this.cronExpression:this.executeTime.slice(0,19)}get successRateText(){if(!this.failCount&&!this.totalCount)return"--";var e,t,i=Math.floor((this.totalCount-this.failCount)/this.totalCount*100);return'<span style="'.concat((e=i,t=["padding: 0 6px","border-radius: 2px"],0===e?(t.push("color: #EA3636"),t.push("background-color: #FFEBEB")):e<40?(t.push("color: #FF8801"),t.push("background-color: #FFEFD6")):e<80?(t.push("color: #EBB626"),t.push("background-color: #FFF6D1")):(t.push("color: #63656e"),t.push("background-color: #F0F1F5")),t.join(";")),'">').concat(i,"%</span>")}get successRateTips(){var e="\n            <p>\n                ".concat("最近",'<span style="padding: 0 0.2em;">',this.totalCount,"</span>","次","\n                ","有",'<span style="padding: 0 0.2em;">').concat(this.failCount,"</span>","次失败",":\n            </p>\n        ");return this.lastFailRecord.slice(0,5).reduce((function(e,t){return e="".concat(e,"<p>").concat(t,"</p>")}),e)}get isRateEmpty(){return!this.failCount||!this.totalCount}get lastFailRecordList(){var e=this.lastFailRecord.length,t=this.lastFailRecord;return e>5&&(t=t.slice(0,5)),t.map((function(e){return(0,c.prettyDateTimeFormat)(e)}))}get showMoreFailAcion(){return this.lastFailRecord.length>0}initVariableValue(e){return(0,o.default)(e)?e.map((function(e){return new l.default(e)})):[]}initNotifyUser(e){return(0,s.default)(e)?{roleList:e.roleList||[],userList:e.userList||[]}:{roleList:[{},{},{}],userList:[{},{},{}]}}}t.default=d,(0,r.default)(d,"STATUS_MAP",{0:"未开始",1:"成功",2:"失败"}),(0,r.default)(d,"STATUS_ICON_TYPE",{0:"sync-default",1:"sync-success",2:"sync-failed"})},27366:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(56959)),r=a(i(39986));t.default=class{constructor(e){this.id=e.id,this.name=e.name,this.type=e.type,this.value=e.value,this.targetValue=this.initTargetValue(e.targetValue)}initTargetValue(e){return(0,n.default)(e)?new r.default(e):new r.default({})}}},20274:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(33610)),r=a(i(7192));class s extends r.default{constructor(e){super(),this.id=e.id,this.alias=e.alias,this.appId=e.appId,this.scopeType=e.scopeType,this.scopeId=e.scopeId,this.code=e.code,this.createTime=e.createTime,this.creator=e.creator,this.credentialId=e.credentialId,this.enable=e.enable,this.filePrefix=e.filePrefix,this.fileSourceInfoMap=e.fileSourceInfoMap||{},this.fileSourceType=e.fileSourceType||{},this.lastModifyTime=e.lastModifyTime,this.lastModifyUser=e.lastModifyUser,this.publicFlag=e.publicFlag,this.shareToAllApp=e.shareToAllApp,this.sharedAppIdList=e.sharedAppIdList,this.status=e.status,this.storageType=e.storageType,this.workerId=e.workerId,this.workerSelectMode=e.workerSelectMode,this.workerSelectScope=e.workerSelectScope,this.canManage=e.canManage,this.canView=e.canView}get isAvailable(){return 1===this.status}get statusText(){return s.STATUS_TEXT_MAP[this.status]}get statusIcon(){return s.STATUS_ICON_MAP[this.status]}get storageTypeText(){return s.STORAGE_TYPE_MAP[this.storageType]}get publicFlagHtml(){var e="display: inline-block; font-size: 12px; padding: 0 3px;";return this.publicFlag?'<span style="'.concat(e+="background: #EBF2FF; color: #699DF4;",'" tippy-tips="',"公共存储",'">',"公","</span>"):'<span style="'.concat(e+="background: #F0F1F5; color: #979BA5;",'" tippy-tips="',"私有存储",'">',"私","</span>")}}t.default=s,(0,n.default)(s,"STATUS_TEXT_MAP",{0:"异常",1:"正常",2:"未知"}),(0,n.default)(s,"STATUS_ICON_MAP",{0:"abnormal",1:"normal",2:"unknown"}),(0,n.default)(s,"STORAGE_TYPE_MAP",{OSS:"对象存储",FILE_SYSTEM:"文件系统"}),(0,n.default)(s,"FILE_PERFIX_UUID","${UUID}")},83053:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(7192));class r extends n.default{constructor(e){super(),this.name=e.name,this.createDate=e.createDate,this.xcosAcl=e.xcosAcl,this.lastModifyTime=e.lastModifyTime,this.size=e.size,this.type=e.type,this.downloadUrl=e.downloadUrl,this.dir=e.dir,this.completePath=e.completePath,this.fileSourceAlias=e.fileSourceAlias,this.fileSourceId=e.fileSourceId}get fileIcon(){return this.dir?"folder-2":"file-line-2"}}t.default=r},42392:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(33610)),r=a(i(7192));class s extends r.default{}t.default=s,(0,n.default)(s,"STATUS_INVALID",-1),(0,n.default)(s,"STATUS_DRAFT",0),(0,n.default)(s,"STATUS_ONLINE",1),(0,n.default)(s,"STATUS_OFFLINE",2),(0,n.default)(s,"STATUS_DISABLED",3),(0,n.default)(s,"STATUS_TEXT_MAP",{[-1]:"未保存",0:"未上线",1:"已上线",2:"已下线",3:"已禁用"})},44181:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(70969),i(35927),i(6919);var a={1:"info",2:"warning",3:"error"};t.default=class{constructor(e){this.row=e.line-1,this.column=1,this.level=e.level,this.type=a[e.level],this.text=this.initText(e)}get isDangerous(){return 3===this.level}initText(e){var t="";return 3===this.level&&(t="检测到代码存在高危语句：".concat("\n",e.matchContent,"\n\n","详细说明：","\n")),"".concat(t).concat(e.description)}}},6627:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(70969);var n=a(i(42392));class r extends n.default{constructor(e){super(),this.appId=e.appId,this.scopeType=e.scopeType,this.scopeId=e.scopeId,this.scriptStatus=e.scriptStatus,this.scriptStatusDesc=e.scriptStatusDesc,this.scriptVersion=e.scriptVersion,this.taskTemplateId=e.taskTemplateId||0,this.taskTemplateName=e.taskTemplateName,this.taskPlanId=e.taskPlanId||0,this.taskPlanName=e.taskPlanName}get statusHtml(){var e="display: inline-block; padding: 0 8px; line-height: 18px; font-size: 12px; border-radius: 2px;";switch(this.status){case r.STATUS_INVALID:e+="background: #F4E3C7; color: #FF9C01";break;case r.STATUS_ONLINE:e+="background: #DAEBDE; color: #3FC06D";break;default:e+="background: #F0F1F5; color: #979BA5"}return['<span style="'.concat(e,'" data-script-status="').concat(this.status,'">'),r.STATUS_TEXT_MAP[this.scriptStatus],"</span>"].join("")}}t.default=r},10634:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(70969);var n=a(i(33610)),r=a(i(7192));class s extends r.default{constructor(e){super(),this.templateId=e.templateId,this.templateName=e.templateName,this.scriptId=e.scriptId,this.scriptName=e.scriptName,this.scriptStatus=e.scriptStatus,this.scriptStatusDesc=e.scriptStatusDesc,this.canEdit=e.canEdit,this.scriptVersion=e.scriptVersion,this.scriptVersionId=e.scriptVersionId,this.stepId=e.stepId,this.stepName=e.stepName,this.appId=e.appId,this.scopeType=e.scopeType,this.scopeId=e.scopeId,this.failMsg=e.failMsg||"",this.syncStatus=e.syncStatus}get isSyncFailed(){return 2===this.syncStatus}get statusHtml(){var e="display: inline-block; padding: 0 6px; line-height: 18px; font-size: 12px; border-radius: 2px;";return 1===this.scriptStatus?e+="background: #E5F6EA; color: #3FC06D":e+="background: #F0F1F5; color: #979BA5",'<span style="'.concat(e,'">').concat(this.scriptStatusDesc,"</span>")}get syncIcon(){return s.SYNC_STATUS_ICON_MAP[this.syncStatus]}get syncStatusMsg(){return 1===this.syncStatus?"同步成功":2===this.syncStatus?"同步失败":"正在同步"}get syncTry(){return[2===this.syncStatus?"try-show":"try-hide"]}}t.default=s,(0,n.default)(s,"STATUS_TEXT_MAP",{0:"未上线",1:"已上线",2:"已下线",3:"已禁用"}),(0,n.default)(s,"SYNC_STATUS_ICON_MAP",{1:"sync-success",2:"sync-failed"})},68830:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(35927),i(6919),i(61026),i(60259),i(7170),i(70969);var n=i(41980),r=a(i(24152)),s=a(i(42392));class o extends s.default{constructor(e){super(),this.appId=e.appId,this.scopeType=e.scopeType,this.scopeId=e.scopeId,this.id=e.id||0,this.name=e.name,this.category=e.category,this.content=e.content,this.createTime=e.createTime,this.creator=e.creator,this.description=e.description,this.typeName=e.typeName,this.lastModifyTime=e.lastModifyTime,this.lastModifyUser=e.lastModifyUser,this.publicScript=Boolean(e.publicScript),this.relatedTaskPlanNum=e.relatedTaskPlanNum||0,this.relatedTaskTemplateNum=e.relatedTaskTemplateNum||0,this.scriptVersionId=e.scriptVersionId,this.status=e.status||0,this.statusDesc=e.statusDesc,this.syncEnabled=Boolean(e.syncEnabled),this.type=e.type||0,this.typeName=(0,n.formatScriptTypeValue)(this.type),this.version=e.version,this.versionDesc=e.versionDesc,this.scriptVersions=this.initScriptVersion(e.scriptVersions),this.tags=this.initTag(e.tags),this.canClone=e.canClone,this.canManage=e.canManage,this.canView=e.canView}get versionText(){return this.getDefaultValue(this.version)}get isOnline(){return this.status===o.STATUS_ONLINE}get isDraft(){return this.status===o.STATUS_DRAFT}get isDisabled(){return this.status===o.STATUS_DISABLED}get isDisabledOnline(){return[o.STATUS_ONLINE,o.STATUS_DISABLED].includes(this.status)}get isEnableRemove(){return this.relatedTaskPlanNum<1&&this.relatedTaskTemplateNum<1}get isVersionEnableRemove(){return![o.STATUS_ONLINE,o.STATUS_OFFLINE].includes(this.status)}get isExecuteDisable(){return!this.version}get tagsText(){return this.getDefaultValue(this.tags.map((function(e){return e.name})).join("，"))}get statusHtml(){var e="display: inline-block; padding: 0 8px; line-height: 18px; font-size: 12px; border-radius: 2px;";switch(this.status){case o.STATUS_INVALID:e+="background: #FFE8C3; color: #FF9C01";break;case o.STATUS_ONLINE:e+="background: #E5F6EA; color: #3FC06D";break;default:e+="background: #F0F1F5; color: #979BA5"}return['<span style="'.concat(e,'" data-script-status="').concat(this.status,'">'),o.STATUS_TEXT_MAP[this.status],"</span>"].join("")}initTag(e){return e?e.map((function(e){return new r.default(e)})):[]}initScriptVersion(e){return e?e.map((function(e){return new o(e)})):[]}}t.default=o},11380:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(35927),i(6919);var n=a(i(33610)),r=a(i(7192));class s extends r.default{constructor(e){super(),this.description=e.description,this.id=e.id,this.name=e.name,this.createTime=e.createTime,this.creator=e.creator,this.lastModifyTime=e.lastModifyTime,this.lastModifyUser=e.lastModifyUser,this.type=e.type,this.value1=e.value1,this.value2=e.value2,this.value3=e.value3,this.relatedNums=e.relatedNums||0,this.canManage=e.canManage,this.canUse=e.canUse,this.isRelatedLoading=!0}}t.default=s,(0,n.default)(s,"VOUCHER_TYPE_MAP",{APP_ID_SECRET_KEY:"AppID+SecretKey",PASSWORD:"单一密码",USERNAME_PASSWORD:"用户名+密码",SECRET_KEY:"单一SecretKey"})},6089:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(7170);var n=a(i(68894)),r=a(i(76830)),s={fetchAccountWhole:e=>n.default.getWhole(e).then((function(e){var t=e.data;return Object.freeze(t.map((function(e){return new r.default(e)})))})),fetchAccountList:e=>n.default.getAll(e).then((function(e){var t=e.data;return t.data=t.data.map((function(e){return Object.freeze(new r.default(e))})),t})),createAccount:e=>n.default.create(e),updateAccount:e=>n.default.update(e),deleteAccount:e=>n.default.deleteById(e)};t.default=s},28975:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(37287)),r={fetchInfo:()=>n.default.getData().then((function(e){var t=e.data;return{importJob:t.importJob||[],exportJob:t.exportJob||[]}})),export:e=>n.default.export(e).then((function(e){return e.data})),fetchExportInfo:e=>n.default.getExportById(e).then((function(e){return e.data})),exportDelete:e=>n.default.deleteExportById(e).then((function(e){return e.data})),updateExportComplete:e=>n.default.exportComplete(e).then((function(e){return e.data})),import:e=>n.default.import(e).then((function(e){return e.data})),fetchImportInfo:e=>n.default.getImportById(e).then((function(e){return e.data})),checkImportPassword:e=>n.default.checkImportPassword(e).then((function(e){return e.data})),uploadImportFile:(e,t)=>n.default.putImportFile(e,t).then((function(e){return e.data})),fetchExportFile:e=>n.default.getImportFile(e)};t.default=r},77480:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(7170);var n=a(i(70537)),r=a(i(20274)),s={availableSourceList:e=>n.default.getAvailableList(e).then((function(e){var t=e.data;return t.data=t.data.map((function(e){return Object.freeze(new r.default(e))})),t})),fetchAliasCheck(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAliasCheck(e).then((function(e){return e.data}))},fetchFileSourceList:e=>n.default.getWorkTableList(e).then((function(e){var t=e.data;return t.data=t.data.map((function(e){return Object.freeze(new r.default(e))})),t})),addSource:e=>n.default.addFileSource(e).then((function(e){return e.data})),updateSource:e=>n.default.updateFileSource(e).then((function(e){return e.data})),getSourceInfo:e=>n.default.getFileSourceInfo(e).then((function(e){var t=e.data;return t=Object.freeze(new r.default(t))})),removeSource:e=>n.default.removeFileSource(e).then((function(e){return e.data})),toggleSourceEnable:e=>n.default.toggleEnable(e).then((function(e){return e.data})),fetchParams:e=>n.default.getParams(e).then((function(e){return e.data}))};t.default=s},82087:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(7170);var n=a(i(33610)),r=a(i(64865)),s=a(i(83053));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c={fetchgetListFileNode:e=>r.default.getListFileNode(e).then((function(e){var t=e.data,i=t.metaData,a=t.pageData,n=t.fileSourceInfo;return l(l({},a),{},{metaData:i,fileSourceInfo:n})})),executeAction:e=>r.default.updateAction(e).then((function(e){return e.data})),bucketList:e=>r.default.getList(e).then((function(e){var t=e.data;return t.data=t.data.map((function(e){return Object.freeze(new s.default(e))})),t})),fileList:e=>r.default.getFileList(e).then((function(e){var t=e.data;return t.data=t.data.map((function(e){return new s.default(e)})),t})),deleteBucketFile:e=>r.default.deleteFile(e).then((function(e){return e.data})),deleteBucket:e=>r.default.deleteBucket(e).then((function(e){return e.data})),uploadFiles:e=>r.default.uploadFilesToBucket(e).then((function(e){return e.data}))};t.default=c},46117:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(7170);var n=a(i(67104)),r={fetchBlacklist:e=>n.default.getBlacklist(e).then((function(e){return e.data})),blacklistUpdate:e=>n.default.updateBlacklist(e),blacklistDelete:e=>n.default.deleteBlacklistMember(e),fetchPoliciesList:e=>n.default.getPoliciesList(e).then((function(e){return e.data})),defaultPoliciesUpdate:e=>n.default.updateDefaultPolicies(e),fetchAllUsers(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAllUsers(e).then((function(e){return e.data}))},fetchUsersOfSearch(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.default.getAllUsers({prefixStr:e,offset:0,limit:10}).then((function(e){return e.data.map((function(e){return{id:e.englishName,name:e.englishName}}))}))},fetchPageTemplate:()=>n.default.getPageTemplate().then((function(e){return e.data})),fetchAllChannel:()=>n.default.getAllChannel().then((function(e){return e.data})),fetchAvailableChannel:()=>n.default.getAvailableChannel().then((function(e){return e.data})),fetchRoleList:()=>n.default.getAllRole().then((function(e){return e.data}))};t.default=r},12e3:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(7170),i(87033),i(35948);var n=a(i(517)),r=a(i(68830)),s=a(i(44181)),o=a(i(10634)),l=a(i(6627)),c={scriptList:e=>n.default.getAll(e).then((function(e){var t=e.data;return t.data=t.data.map((function(e){return Object.freeze(new r.default(e))})),t})),scriptDetail:e=>n.default.getDataByScriptId(e).then((function(e){var t=e.data;return Object.freeze(new r.default(t))})),scriptName:e=>n.default.getName(e).then((function(e){return e.data.map((function(e){return{id:e,name:e}}))})),scriptVersionList:e=>n.default.getAllVersion(e).then((function(e){return e.data.map((function(e){return Object.freeze(new r.default(e))}))})),scriptUpdate:e=>n.default.update(e).then((function(e){return e.data})),scriptUpdateMeta:e=>n.default.updateMeta(e).then((function(e){return e.data})),scriptDelete:e=>n.default.deleteById(e).then((function(e){return e.data})),versionDetail:e=>n.default.getDataByVersionId(e).then((function(e){var t=e.data;return new r.default(t)})),scriptVersionOnline:e=>n.default.updateVersionStatusOnline(e),scriptVersionOffline:e=>n.default.updateVersionStatusOffline(e),scriptVersionRemove:e=>n.default.deleteVersionByVersionId(e),scriptTypeList:()=>Promise.resolve(Object.freeze([{id:1,name:"Shell"},{id:2,name:"Bat"},{id:3,name:"Perl"},{id:4,name:"Python"},{id:5,name:"Powershell"},{id:6,name:"SQL"}])),getScriptValidation:e=>n.default.getValidation(e).then((function(e){return e.data.map((function(e){return new s.default(e)}))})),getUploadContent:e=>n.default.uploadGetContent(e).then((function(e){var t=e.data;return Object.freeze(t)})),getOnlineScriptList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAllOnline(e).then((function(e){return e.data}))},getOneOnlineScript(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getOneOnlineByScriptId(e).then((function(e){var t=e.data;return t?new r.default(t):""}))},scriptRefTemplateSteps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getRefTemplateSteps(e).then((function(e){return e.data.map((function(e){return Object.freeze(new o.default(e))}))}))},scriptVersionSync(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.syncScriptVersion(e).then((function(e){return e.data.map((function(e){return Object.freeze(new o.default(e))}))}))},citeInfo:e=>n.default.getCiteInfo(e).then((function(e){var t=e.data;return{citedTaskPlanList:t.citedTaskPlanList.map((function(e){return new l.default(e)})),citedTemplateList:t.citedTemplateList.map((function(e){return new l.default(e)}))}})),fetchBasicInfo:e=>n.default.getBasiceInfoById(e).then((function(e){var t=e.data;return new r.default(t)})),fetchBatchBasicInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getBatchBasiceInfoByIds(e).then((function(e){return e.data.map((function(e){return new r.default(e)}))}))},batchUpdateTag(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.batchUpdateTag(e).then((function(e){return e.data}))},fetchTagCount(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getTagCount(e).then((function(e){return e.data}))}};t.default=c},34601:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(7170),i(47140);var n=a(i(29428)),r=a(i(24152)),s={fetchTagList:e=>n.default.getAll(e).then((function(e){return e.data.sort((function(e,t){return e.id-t.id})).map((function(e){return new r.default(e)}))})),fetchTagOfSearch:e=>n.default.getAll({tagName:e}).then((function(e){return e.data.map((function(e){return new r.default(e)}))}))};t.default=s},44068:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(7170),i(87033),i(35948);var n=a(i(59665)),r=a(i(68830)),s=a(i(44181)),o=a(i(10634)),l=a(i(6627)),c={scriptList:(e,t)=>n.default.getAll(e,t).then((function(e){var t=e.data;return t.data=t.data.map((function(e){return Object.freeze(new r.default(e))})),t})),scriptDetail:(e,t)=>n.default.getDataByScriptId(e,t).then((function(e){var t=e.data;return Object.freeze(new r.default(t))})),scriptName:e=>n.default.getName(e).then((function(e){return e.data.map((function(e){return{id:e,name:e}}))})),scriptVersionList:(e,t)=>n.default.getAllVersion(e,t).then((function(e){return e.data.map((function(e){return Object.freeze(new r.default(e))}))})),scriptUpdate:e=>n.default.update(e).then((function(e){return e.data})),scriptUpdateMeta:e=>n.default.updateMeta(e),scriptDelete:e=>n.default.deleteById(e),versionDetail:(e,t)=>n.default.getDataByVersionId(e,t).then((function(e){var t=e.data;return new r.default(t)})),scriptVersionOnline:e=>n.default.updateVersionStatusOnline(e),scriptVersionOffline:e=>n.default.updateVersionStatusOffline(e),scriptVersionRemove:e=>n.default.deleteVersionByVersionId(e),scriptTypeList:()=>Promise.resolve([{id:1,name:"Shell"},{id:2,name:"Bat"},{id:3,name:"Perl"},{id:4,name:"Python"},{id:5,name:"Powershell"},{id:6,name:"SQL"}]),getScriptValidation:e=>n.default.getValidation(e).then((function(e){return e.data.map((function(e){return new s.default(e)}))})),getUploadContent:e=>n.default.uploadGetContent(e).then((function(e){var t=e.data;return Object.freeze(t)})),getOnlineScriptList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAllOnline(e).then((function(e){return e.data}))},getOneOnlineScript(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getOneOnlineByScriptId(e).then((function(e){var t=e.data;return t?new r.default(t):""}))},scriptRefTemplateSteps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getRefTemplateSteps(e).then((function(e){return e.data.map((function(e){return Object.freeze(new o.default(e))}))}))},scriptVersionSync(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.syncScriptVersion(e).then((function(e){return e.data.map((function(e){return Object.freeze(new o.default(e))}))}))},citeInfo:e=>n.default.getCiteInfo(e).then((function(e){var t=e.data;return{citedTaskPlanList:t.citedTaskPlanList.map((function(e){return new l.default(e)})),citedTemplateList:t.citedTemplateList.map((function(e){return new l.default(e)}))}})),fetchBasicInfo:e=>n.default.getBasiceInfoById(e).then((function(e){var t=e.data;return new r.default(t)})),fetchBatchBasicInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getBatchBasiceInfoByIds(e).then((function(e){return e.data.map((function(e){return new r.default(e)}))}))},batchUpdateTag(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.batchUpdateTag(e).then((function(e){return e.data}))},fetchTagCount(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getTagCount(e).then((function(e){return e.data}))}};t.default=c},81865:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(65760)),r={fetchOriginalTemplate:e=>n.default.getOriginalData(e).then((function(e){return e.data})),updateOriginalTemplate:e=>n.default.updateOriginalData(e).then((function(e){return e.data})),fetchRenderScript:e=>n.default.getRenderDataWithVariable(e).then((function(e){return e.data})),fetchTemplate:e=>n.default.getData(e).then((function(e){return e.data})),fetchVaribaleList:e=>n.default.getVariables(e).then((function(e){return e.data}))};t.default=r},60299:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(7170);var n=a(i(86400)),r=a(i(64795)),s=a(i(24152)),o={fetchTagList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAll(e).then((function(e){var t=e.data;return t.data=t.data.map((function(e){return new s.default(e)})),t}))},fetchWholeList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAllWithBasic(e).then((function(e){return e.data.map((function(e){return new s.default(e)}))}))},batchUpdate(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.batchUpdate(e).then((function(e){return e.data}))},fetchTagOfSearch:e=>n.default.getAllWithBasic({name:e}).then((function(e){return e.data.map((function(e){return new s.default(e)}))})),fetchTagTemplateNum(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.getNum(e).then((function(e){return e.data}))},remove(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.remove(e).then((function(e){return e.data}))},updateTag(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.update(e).then((function(e){return e.data}))},createTag:e=>n.default.create(e).then((function(e){return e.data})),checkName(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.checkName(e).then((function(e){return e.data}))}};t.default=o},22910:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(33610));i(7170);var r=a(i(46170)),s=a(i(42213));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var c={taskList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.getAll(e).then((function(e){var t=e.data;return t.data=t.data.map((function(e){return new s.default(l(l({},e),{},{canCreate:t.canCreate}))})),t}))},taskDetail:(e,t)=>r.default.getDataById(e,t).then((function(e){var t=e.data;return Object.freeze(new s.default(t))})),taskClone:(e,t)=>r.default.getDataById(e,t).then((function(e){var t=e.data;return t.name="".concat(t.name,"_copy"),Object.freeze(new s.default(t,!0))})),taskUpdate:e=>r.default.update(e).then((function(e){return e.data})),taskDelete:e=>r.default.deleteById(e),taskUpdateBasic:e=>r.default.updateBasic(e).then((function(e){return e.data})),taskUpdateFavorite:e=>r.default.updateFavorite(e).then((function(e){return e.data})),taskDeleteFavorite:e=>r.default.deleteFavorite(e).then((function(e){return e.data})),taskCheckName:e=>r.default.getCheckResult(e).then((function(e){return e.data})),fetchBasic:e=>r.default.getBasicById(e).then((function(e){return e.data.map((function(e){return new s.default(e)}))})),batchUpdateTag(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.batchUpdateTag(e).then((function(e){return e.data}))},fetchTagCount(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.getTagCount(e).then((function(e){return e.data}))}};t.default=c},81363:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(7170),i(87033),i(9042);var n=a(i(99237)),r=a(i(77480)),s=a(i(11380)),o={fetchList:e=>n.default.getAll(e).then((function(e){var t=e.data;return t.data=t.data.map((function(e){return new s.default(e)})),t})),fetchListWithRelate:e=>n.default.getAll(e).then((function(e){var t=e.data;return t.data=t.data.map((function(e){return new s.default(e)})),t.data.forEach((function(e){r.default.fetchFileSourceList({credentialId:e.id,pageSize:1}).then((function(t){e.relatedNums=t.total,e.isRelatedLoading=!1}))})),t})),update:e=>n.default.update(e),remove:e=>n.default.delete(e)};t.default=o},47124:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(7170),i(87033),i(9042),i(71959);var n=a(i(2187)),r=a(i(64347)),s=a(i(6360)),o={timeTaskUpdate(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.update(e)},getDetail(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return n.default.getDataById(e,t).then((function(e){var t=e.data;return new s.default(t)}))},timeTaskDelete(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.deleteDataById(e)},timeTaskList:(e,t)=>n.default.getAll(e,t).then((function(e){var t=e.data;t.data=t.data.map((function(e){return new s.default(e)}));var i=t.data,a=i.map((function(e){return e.taskPlanId})).join(",");return a.length>0&&(r.default.getPlansBasicInfo({planIds:a}).then((function(e){var a={};return e.data.forEach((function(e){a[e.id]=e.name})),i.forEach((function(e){e.isPlanLoading=!1,e.taskPlanName=a[e.taskPlanId]})),t})),n.default.getStatictis({cronJobIds:i.map((function(e){return e.id})).join(",")}).then((function(e){var t=e.data.reduce((function(e,t){return e[t.id]=t,e}),{});i.forEach((function(e){var i=t[e.id]||{},a=i.lastExecuteStatus,n=i.failCount,r=i.totalCount,s=i.lastFailRecord;e.lastExecuteStatus=a,e.isStatictisLoading=!1,e.failCount=n||0,e.totalCount=r||0,e.lastFailRecord=Object.freeze(s||[])}))}))),t})),timeTaskStatusUpdate(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.updateStatus(e)},timeTaskCheckName(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getCheckResult(e).then((function(e){return e.data}))},updatePlanTask(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.updateVariableAndEnable(e).then((function(e){return e.data}))},fetchTaskOfPlan(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getDataByPlanId(e).then((function(e){return e.data.map((function(e){return new s.default(e)}))}))},fetchTaskOfPlanBatch(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getDataByPlanIds(e).then((function(e){return e.data}))},fetchUnlaunchHistory:e=>n.default.getUnlaunchHistory(e).then((function(e){return e.data}))};t.default=o},68894:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(70969);var n=a(i(24875)),r=a(i(79121));class s extends r.default{constructor(){super(),this.module="job-manage/web/account"}getWhole(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.get("".concat(this.path,"/accounts"),{params:e,cache:2e3})}getAll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.get("".concat(this.path,"/accounts/page"),{params:e})}create(e){return n.default.post("".concat(this.path,"/account"),{params:e})}update(e){return n.default.put("".concat(this.path,"/account"),{params:e})}deleteById(e){var t=e.id;return n.default.delete("".concat(this.path,"/account/").concat(t))}getOne(e){var t=e.id;return n.default.get("".concat(this.path,"/account").concat(t))}}var o=new s;t.default=o},37287:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(33610));i(70969);var r=a(i(24875)),s=a(i(79121));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class c extends s.default{constructor(){super(),this.module="job-backup/web"}getData(){return r.default.get("".concat(this.path,"/backup"))}export(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/backup/export"),{params:e})}getExportById(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/backup/export/").concat(e.id))}deleteExportById(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.delete("".concat(this.path,"/backup/export/").concat(e.id))}exportComplete(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/backup/export/").concat(e.id,"/complete"),{params:e})}getImportById(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/backup/import/").concat(e.id))}import(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},e);return delete t.id,r.default.post("".concat(this.path,"/backup/import/").concat(e.id),{params:t})}checkImportPassword(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},e);return delete t.id,r.default.post("".concat(this.path,"/backup/import/").concat(e.id,"/password"),{params:t})}putImportFile(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.post("".concat(this.path,"/backup/import/file"),{params:e,payload:l(l({},t),{},{timeout:0})})}getImportFile(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.download("".concat(this.path,"/backup/export/").concat(e.id,"/download"))}}var u=new c;t.default=u},70537:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(70969);var n=a(i(33610)),r=a(i(24875)),s=a(i(79121));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}class l extends s.default{constructor(){super(),this.module="/job-file-gateway/web/fileSource"}getAvailableList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/available/list"),{params:e})}getAliasCheck(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e);return delete t.alias,r.default.get("".concat(this.path,"/checkAlias/").concat(e.alias),{params:t})}getWorkTableList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/workTable/list"),{params:e})}addFileSource(e){return r.default.post("".concat(this.path),{params:e})}updateFileSource(e){return r.default.put("".concat(this.path),{params:e})}getFileSourceInfo(e){var t=e.id;return r.default.get("".concat(this.path,"/ids/").concat(t))}removeFileSource(e){return r.default.delete("".concat(this.path,"/ids/").concat(e.id))}toggleEnable(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.path,"/ids/").concat(e.id,"/enable?flag=").concat(e.flag))}getParams(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/fileSourceParams"),{params:e})}}var c=new l;t.default=c},64865:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(70969);var n=a(i(33610)),r=a(i(24875)),s=a(i(79121));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class c extends s.default{constructor(){super(),this.module="/job-file-gateway/web/file"}getListFileNode(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},e);return delete t.fileSourceId,r.default.get("".concat(this.path,"/fileSourceIds/").concat(e.fileSourceId,"/listFileNode"),{params:t})}updateAction(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},e);return delete t.fileSourceId,r.default.post("".concat(this.path,"/fileSourceIds/").concat(e.fileSourceId,"/executeAction"),{params:t})}}var u=new c;t.default=u},67104:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(24875)),r=a(i(79121));class s extends r.default{constructor(){super(),this.module="/job-manage/web/notify"}getBlacklist(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.get("".concat(this.module,"/users/blacklist"),{params:e})}updateBlacklist(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.post("".concat(this.module,"/"),{params:e})}deleteBlacklistMember(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.delete("".concat(this.module,"/"),{params:e})}getPoliciesList(e){return n.default.get("".concat(this.path,"/policies/listDefault"),{params:e})}updateDefaultPolicies(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.post("".concat(this.path,"/saveAppDefaultPolicies"),{params:e})}getAllUsers(e){return n.default.get("".concat(this.module,"/users/list"),{params:e})}getPageTemplate(){return n.default.get("".concat(this.module,"/pageTemplate"))}getAllChannel(){return n.default.get("".concat(this.module,"/notifyChannel/listAll"))}getAvailableChannel(){return n.default.get("".concat(this.module,"/notifyChannel/listAvailable"))}getAllRole(){return n.default.get("".concat(this.module,"/roles/list"))}}var o=new s;t.default=o},517:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(33610));i(70969);var r=a(i(24875));function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l=new class{constructor(){this.module="job-manage/web/public_script"}update(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.module,"/script"),{params:e})}getDataByScriptId(e){var t=e.id;return r.default.get("".concat(this.module,"/script/").concat(t))}deleteById(e){var t=e.id;return r.default.delete("".concat(this.module,"/script/").concat(t),{prefixPath:this.prefixPath})}updateMeta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o({},e);return delete t.id,r.default.put("".concat(this.module,"/script/").concat(e.id,"/info"),{params:t})}getAllVersion(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o({},e);return delete t.id,r.default.get("".concat(this.module,"/script/").concat(e.id,"/scriptVersion/list"),{prefixPath:this.prefixPath,params:t})}getAll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/list"),{params:e})}getName(e){return r.default.get("".concat(this.module,"/scriptNames"),{params:e})}getAllOnline(e){return r.default.get("".concat(this.module,"/scripts/online"),{params:e})}getOneOnlineByScriptId(e){var t=o({},e);return delete t.id,r.default.get("".concat(this.module,"/scriptVersion/online/").concat(e.id),{params:t})}getDataByVersionId(e){var t=e.id;return r.default.get("".concat(this.module,"/scriptVersion/").concat(t))}deleteVersionByVersionId(e){var t=e.versionId;return r.default.delete("".concat(this.module,"/scriptVersion/").concat(t))}updateVersionStatusOnline(e){var t=e.id,i=e.versionId;return r.default.put("".concat(this.module,"/script/").concat(t,"/scriptVersion/").concat(i,"/publish"))}updateVersionStatusOffline(e){var t=e.id,i=e.versionId;return r.default.put("".concat(this.module,"/script/").concat(t,"/scriptVersion/").concat(i,"/disable"))}getValidation(e){return r.default.put("/job-manage/web/script/check",{params:e})}uploadGetContent(e){return r.default.post("/job-manage/web/script/upload",{params:e})}getRefTemplateSteps(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/").concat(e.id,"/scriptVersion/").concat(e.scriptVersionId,"/syncTemplateSteps"))}syncScriptVersion(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o({},e);return delete t.scriptId,delete t.scriptVersionId,r.default.post("".concat(this.module,"/script/").concat(e.scriptId,"/scriptVersion/").concat(e.scriptVersionId,"/sync"),{params:t})}getCiteInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/citeInfo"),{params:e})}getBasiceInfoById(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/basic/").concat(e.id))}getBatchBasiceInfoByIds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/basic/list"),{params:e})}batchUpdateTag(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.module,"/tag"),{params:e})}getTagCount(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/tag/count"),{params:e})}};t.default=l},29428:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(24875));var r=new class{constructor(){this.module="/job-manage/web/public_tag"}getAll(e){return n.default.get("".concat(this.module,"/list"),{params:e,cache:2e3})}};t.default=r},59665:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(33610));i(70969);var r=a(i(24875)),s=a(i(79121));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class c extends s.default{constructor(){super(),this.module="job-manage/web/script"}getAll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/script/list"),{params:e,payload:t})}update(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/script"),{params:e})}getDataByScriptId(e){var t=e.id,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/script/").concat(t),{payload:i})}deleteById(e){var t=e.id;return r.default.delete("".concat(this.path,"/script/").concat(t),{prefixPath:this.prefixPath})}updateMeta(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},e);return delete t.id,r.default.put("".concat(this.path,"/script/").concat(e.id,"/info"),{params:t})}getAllVersion(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/script/").concat(e.id,"/scriptVersion/list"),{payload:t})}getName(e){return r.default.get("".concat(this.path,"/scriptNames"),{params:e})}getAllOnline(e){return r.default.get("".concat(this.path,"/scripts/online"),{params:e})}getOneOnlineByScriptId(e){var t=l({},e);return delete t.id,r.default.get("".concat(this.path,"/scriptVersion/online/").concat(e.id),{params:t})}getDataByVersionId(e,t){var i=e.id;return r.default.get("".concat(this.path,"/scriptVersion/").concat(i),{payload:t})}deleteVersionByVersionId(e){var t=e.versionId;return r.default.delete("".concat(this.path,"/scriptVersion/").concat(t))}updateVersionStatusOnline(e){var t=e.id,i=e.versionId;return r.default.put("".concat(this.path,"/script/").concat(t,"/scriptVersion/").concat(i,"/publish"))}updateVersionStatusOffline(e){var t=e.id,i=e.versionId;return r.default.put("".concat(this.path,"/script/").concat(t,"/scriptVersion/").concat(i,"/disable"))}getValidation(e){return r.default.put("".concat(this.module,"/check"),{params:e})}uploadGetContent(e){return r.default.post("".concat(this.module,"/upload"),{params:e})}getRefTemplateSteps(e){var t=e.id,i=e.scriptVersionId;return r.default.get("".concat(this.path,"/script/").concat(t,"/scriptVersion/").concat(i,"/syncTemplateSteps"))}syncScriptVersion(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},e);return delete t.scriptId,delete t.scriptVersionId,r.default.post("".concat(this.path,"/script/").concat(e.scriptId,"/scriptVersion/").concat(e.scriptVersionId,"/sync"),{params:t})}getCiteInfo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/citeInfo"),{params:e})}getBasiceInfoById(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/script/basic/").concat(e.id))}getBatchBasiceInfoByIds(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/script/basic/list"),{params:e})}batchUpdateTag(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.path,"/tag"),{params:e})}getTagCount(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/tag/count"),{params:e})}}var u=new c;t.default=u},65760:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(33610)),r=a(i(24875));function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var l=new class{constructor(){this.module="job-manage/web/customSettings/scriptTemplate"}getOriginalData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module),{params:e})}updateOriginalData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.module),{params:e})}getRenderDataWithVariable(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.module,"/render"),{params:e})}getData(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/rendered"),{params:o(o({},e),{},{scopeType:window.PROJECT_CONFIG.SCOPE_TYPE,scopeId:window.PROJECT_CONFIG.SCOPE_ID})})}getVariables(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/variables"),{params:e})}};t.default=l},86400:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(70969);var n=a(i(33610)),r=a(i(24875)),s=a(i(79121));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class c extends s.default{constructor(){super(),this.module="/job-manage/web/tag"}getAll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/tag/list"),{params:e,cache:2e3})}getAllWithBasic(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/tag/basic/list"),{params:e,cache:2e3})}update(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},e);return delete t.id,r.default.put("".concat(this.path,"/tag/").concat(e.id),{params:t})}create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/tag"),{params:e})}remove(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.delete("".concat(this.path,"/tag/").concat(e.id))}batchUpdate(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},e);return delete t.id,r.default.put("".concat(this.path,"/tag/").concat(e.id,"/resources"),{params:t})}checkName(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},e);return delete t.id,r.default.get("".concat(this.path,"/tag/").concat(e.id,"/checkName"),{params:t})}}var u=new c;t.default=u},64795:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(24875)),r=a(i(79121));class s extends r.default{constructor(){super(),this.module="/job-manage/web"}getNum(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.get("".concat(this.path,"/task/template/tag/count"),{params:e})}}var o=new s;t.default=o},46170:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(33610));i(70969);var r=a(i(24875)),s=a(i(79121));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class c extends s.default{constructor(){super(),this.module="/job-manage/web"}getAll(e){return r.default.get("".concat(this.path,"/task/template/"),{params:e})}getDataById(e,t){var i=e.id;return r.default.get("".concat(this.path,"/task/template/").concat(i),{payload:t})}update(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},e);return delete t.id,r.default.put("".concat(this.path,"/task/template/").concat(e.id),{params:t})}deleteById(e){var t=e.id;return r.default.delete("".concat(this.path,"/task/template/").concat(t))}updateBasic(){var e=l({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return r.default.put("".concat(this.path,"/task/template/").concat(e.id,"/basic"),{params:e})}updateFavorite(){var e=l({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return r.default.put("".concat(this.path,"/task/template/").concat(e.id,"/favorite"))}deleteFavorite(){var e=l({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return r.default.delete("".concat(this.path,"/task/template/").concat(e.id,"/favorite"))}getCheckResult(e){var t=l({},e);return delete t.id,r.default.get("".concat(this.path,"/task/template/").concat(e.id,"/check_name"),{params:t})}getBasicById(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/task/template/basic"),{params:e})}batchUpdateTag(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.path,"/task/template/tag"),{params:e})}getTagCount(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/task/template/tag/count"),{params:e})}}var u=new c;t.default=u},99237:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(70969);var n=a(i(24875)),r=a(i(79121));class s extends r.default{constructor(){super(),this.module="job-manage/web/credentials"}getAll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.get("".concat(this.path,"/list"),{params:e})}update(e){return n.default.post("".concat(this.path,"/"),{params:e})}delete(e){var t=e.id;return n.default.delete("".concat(this.path,"/ids/").concat(t))}}var o=new s;t.default=o},2187:function(e,t,i){"use strict";i(35927),i(45974),i(87033),i(9042),i(43364);var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(i(33610));i(70969);var r=a(i(24875)),s=a(i(79121));function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function l(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){(0,n.default)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class c extends s.default{constructor(){super(),this.module="/job-crontab/web"}update(e){var t=e.id;return r.default.put("".concat(this.path,"/cron/job/").concat(t),{params:e})}getDataById(e){var t=e.id,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/cron/job/").concat(t),{payload:i})}deleteDataById(e){var t=e.id;return r.default.delete("".concat(this.path,"/cron/job/").concat(t))}getAll(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/cron/job"),{params:e,payload:t})}updateStatus(e){var t=e.id,i=e.enable;return r.default.put("".concat(this.path,"/cron/job/").concat(t,"/status/?enable=").concat(i))}getCheckResult(e){var t=l({},e);return delete t.id,r.default.get("".concat(this.path,"/cron/job/").concat(e.id,"/check_name"),{params:t})}updateVariableAndEnable(e){return r.default.post("".concat(this.path,"/cron/job/batch_update"),{params:e})}getDataByPlanId(e){return r.default.get("".concat(this.path,"/cron/job/plan/").concat(e.id))}getDataByPlanIds(e){return r.default.get("".concat(this.path,"/cron/job/plans/").concat(e.planIds))}getStatictis(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/cron/job/statistic"),{params:e})}getUnlaunchHistory(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l({},e);return delete t.cronTaskId,r.default.get("".concat(this.path,"/cron/job/").concat(e.cronTaskId,"/history"),{params:t})}}var u=new c;t.default=u},36166:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(70969),i(7170),i(63762),i(40782);var n=a(i(33610)),r=a(i(88052)),s=a(i(39986)),o=i(41980);class l{constructor(e){this.id=e.id||0,this.fileType=e.fileType||"",this.fileLocation=e.fileLocation||[],this.host=new s.default(e.host||{}),this.account=e.account,this.fileSourceId=e.fileSourceId,this.fileSize=e.fileSize||0,this.fileHash=e.fileHash||"",this.isEditAccount=!1,this.isEditVariable=!1,this.loaded=0,this.loadTotal=1,this.uploadStatus="primary"}get isVar(){return s.default.isHostNodeInfoEmpty(this.host.hostNodeInfo)}get isServerFile(){return 1===this.fileType}get isLocalFile(){return 2===this.fileType}get isSourceFile(){return 3===this.fileType}get fileSizeText(){return(0,o.bytePretty)(this.fileSize)}get uploadProgress(){return this.loaded/this.loadTotal}get isHostEmpty(){return s.default.isHostNodeInfoEmpty(this.host.hostNodeInfo)}get realId(){return 1===this.fileType?"".concat(this.fileLocation,"____").concat(this.account):this.fileLocationText}get fileLocationText(){return 2===this.fileType?this.fileLocation.map((function(e){return(0,r.default)(e.split("/"))})).join("\n"):this.fileLocation.join("\n")}get isDisableSave(){return!this.fileLocation||this.fileLocation.length<1||(!this.account||!(!s.default.isHostNodeInfoEmpty(this.host.hostNodeInfo)||""!==this.host.variable))}get variable(){return this.host.variable?this.host.variable:""}get serverDesc(){if(this.host.variable)return this.host.variable;var e=[],t=this.host.hostNodeInfo,i=t.dynamicGroupList,a=t.ipList,n=t.topoNodeList,r=function(e,t){return'<span><span class="strong number">'.concat(e,"</span>").concat(t,"</span>")};return a.length>0&&e.push(r(a.length,"台主机.result")),n.length>0&&e.push(r(n.length,"个节点.result")),i.length>0&&e.push(r(i.length,"个分组.result")),"".concat(e.join('<span class="sep-location"></span>\n'))}}t.default=l,(0,n.default)(l,"statusAgentMap",{1:"正常",0:"异常",2:"未安装"}),(0,n.default)(l,"typeServer",1),(0,n.default)(l,"typeLocal",2),(0,n.default)(l,"typeSource",3)},91052:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i(87033),i(95179),i(63762),i(40782),i(58794),i(70969),i(7170),i(70201),i(9042);var n=a(i(56318)),r=a(i(33610));class s{constructor(e){var t=e.type,i=e.value,a=e.min,n=e.max,r=e.repeatInterval;this.type=t,this.value=i||"",this.min=a,this.max=n,this.repeatInterval=r}}(0,r.default)(s,"TYPE_ENUM",1),(0,r.default)(s,"TYPE_RANG",2),(0,r.default)(s,"TYPE_REPEAT",3),(0,r.default)(s,"TYPE_RANG_REPEAT",4);var o=["minute","hour","dayOfMonth","month","dayOfWeek"],l={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"},c={sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},u=function(e){if(l[e])return l[e];var t=e.toString().toLowerCase();return c[t]?c[t]:e},d=function(e){var t=~~e;return t<5?"凌晨".concat(t,"点"):t<12?"上午".concat(t,"点"):12===t?"中午".concat(t,"点"):t<18?"下午".concat(t,"点"):"晚上".concat(t,"点")},h=function(e){var t=~~e;return t<10?"0".concat(t):t},p={minute:{genAll:function(){return"每分钟"},[s.TYPE_ENUM]:function(e){return"".concat(h(e.value),"分")},[s.TYPE_RANG]:function(e){return"".concat(h(e.min),"分到").concat(h(e.max),"分")},[s.TYPE_REPEAT]:function(e){return"*"===e.value?"每隔".concat(e.repeatInterval,"分钟"):"从".concat(h(e.value),"分开始每隔").concat(e.repeatInterval,"分钟")},[s.TYPE_RANG_REPEAT]:function(e){return"从".concat(h(e.min),"分开始到").concat(h(e.max),"分的每").concat(e.repeatInterval,"分钟")}},hour:{genAll:function(){return"每小时"},[s.TYPE_ENUM]:function(e){return"".concat(d(e.value))},[s.TYPE_RANG]:function(e){return"".concat(d(e.min),"到").concat(d(e.max))},[s.TYPE_REPEAT]:function(e){return"*"===e.value?"每隔".concat(e.repeatInterval,"个小时"):"从".concat(d(e.value),"开始每隔").concat(e.repeatInterval,"个小时")},[s.TYPE_RANG_REPEAT]:function(e){return"从".concat(d(e.min),"开始到").concat(d(e.max),"的每").concat(e.repeatInterval,"个小时")}},dayOfMonth:{genAll:function(){return"每天"},[s.TYPE_ENUM]:function(e){return"".concat(e.value,"号")},[s.TYPE_RANG]:function(e){return"".concat(e.min,"号到").concat(e.max,"号")},[s.TYPE_REPEAT]:function(e){return"*"===e.value?"每隔".concat(e.repeatInterval,"天"):"从".concat(e.value,"号开始每隔").concat(e.repeatInterval,"天")},[s.TYPE_RANG_REPEAT]:function(e){return"从".concat(e.min,"号开始到").concat(e.max,"号的每").concat(e.repeatInterval,"天")}},month:{genAll:function(){return"每月"},[s.TYPE_ENUM]:function(e){return"".concat(e.value,"月")},[s.TYPE_RANG]:function(e){return"".concat(e.min,"月到").concat(e.max,"月")},[s.TYPE_REPEAT]:function(e){return"*"===e.value?"每隔".concat(e.repeatInterval,"个月"):"从".concat(e.value,"月开始每隔").concat(e.repeatInterval,"个月")},[s.TYPE_RANG_REPEAT]:function(e){return"从".concat(e.min,"月开始到").concat(e.max,"月的每").concat(e.repeatInterval,"个月")}},dayOfWeek:{genAll:function(){return"每天"},[s.TYPE_ENUM]:function(e){return"每周".concat(u(e.value))},[s.TYPE_RANG]:function(e){return"每周".concat(u(e.min),"到周").concat(u(e.max))},[s.TYPE_REPEAT]:function(e){return"*"===e.value?"每个星期内的每隔".concat(e.repeatInterval,"天"):"从每周".concat(u(e.value),"开始每隔").concat(e.repeatInterval,"天")},[s.TYPE_RANG_REPEAT]:function(e){return"从每周".concat(u(e.min),"开始到周").concat(u(e.max),"的每隔").concat(e.repeatInterval,"天")}}},f=function(e){var t="".concat(e).trim().split(/\s+/),i={};t.forEach((function(e,t){i[o[t]]=function(e){for(var t=[],i=/-/,a=/\//,r="".concat(e).trim().split(","),o=-1;++o<r.length;){var l=r[o];if(i.test(l)&&a.test(l)){var c=l.split("/"),u=(0,n.default)(c,2),d=u[0],h=u[1],p=d.split("-"),f=(0,n.default)(p,2),v=f[0],m=f[1];t.push(new s({type:s.TYPE_RANG_REPEAT,min:v,max:m,repeatInterval:h}))}else if(a.test(l)){var g=l.split("/"),y=(0,n.default)(g,2),_=y[0],b=y[1];t.push(new s({type:s.TYPE_REPEAT,value:_,repeatInterval:b}))}else if(i.test(l)){var x=l.split("-"),w=(0,n.default)(x,2),S=w[0],C=w[1];t.push(new s({type:s.TYPE_RANG,min:S,max:C}))}else t.push(new s({type:s.TYPE_ENUM,value:l}))}return t}(e)}));var a=function(e){var t=function(e){return 1===e.length&&e[0].type===s.TYPE_ENUM&&("*"===e[0].value||"?"===e[0].value)},i={};return i.month=t(e.month)?[]:e.month,t(e.dayOfMonth)&&t(e.month)&&t(e.dayOfWeek)?(i.dayOfMonth=[],delete i.month):(t(e.dayOfWeek)||(i.dayOfWeek=e.dayOfWeek),t(e.dayOfMonth)||(i.dayOfMonth=e.dayOfMonth),!i.dayOfMonth&&!i.dayOfWeek&&i.month.length>0&&(i.dayOfMonth=[])),i.hour=t(e.hour)?[]:e.hour,i.hour.length<1&&i.dayOfMonth&&i.dayOfMonth.length<1&&delete i.dayOfMonth,i.minute=t(e.minute)?[]:e.minute,i.minute.length<1&&i.hour.length<1&&delete i.hour,i}(i);return function(e){var t=function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))return"";var i=e[t],a=p[t];if(i.length<1)return a.genAll();var n=i.map((function(e){return a[e.type](e)}));if(n.length<2)return n.join("");var r=n.slice(0,-1),s=n.slice(-1);return"".concat(r.join("，"),"和").concat(s[0])};return[t(e,"month"),t(e,"dayOfMonth"),t(e,"dayOfWeek"),t(e,"hour"),t(e,"minute")]}(a)};t.default=function(e){return f(e)}},61681:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeTaskNameRule=t.taskTemplateName=t.tagNameRule=t.scriptVersionRule=t.scriptNameRule=t.planNameRule=t.globalVariableNameRule=t.fileSourceAliasNameRule=t.filePathRule=t.accountAliasNameRule=t.IPRule=void 0,i(63762);var a={validator:function(e){return/^[^\\|/:*<>"?]{1,60}$/.test(e)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};t.scriptNameRule=a;var n={validator:function(e){return/^[A-Za-z0-9\-_#@.]{1,30}$/.test(e)},message:"只允许包含这些字符".concat("：A-Z a-z 0-9 _ - # @ .")};t.scriptVersionRule=n;var r={validator:function(e){return/^[^\\|/:*<>"?]{1,60}$/.test(e)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};t.taskTemplateName=r;var s={validator:function(e){return/^[^\\|/:*<>"?]{1,60}$/.test(e)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};t.planNameRule=s;var o={validator:function(e){return/^[^\\|/:*<>"?]{1,60}$/.test(e)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};t.timeTaskNameRule=o;var l={validator:function(e){return/^[^\\|/:*<>"?]{1,32}$/.test(e)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};t.accountAliasNameRule=l;t.filePathRule={validator:function(e){return/(^([a-z]|[A-Z]):(?=\\(?![\0-\37<>:"/\\|?*])|\/(?![\0-\37<>:"/\\|?*])|$)|^\\(?=[\\/][^\0-\37<>:"/\\|?*]+)|^(?=(\\|\/)$)|^\.(?=(\\|\/)$)|^\.\.(?=(\\|\/)$)|^(?=(\\|\/)[^\0-\37<>:"/\\|?*]+)|^\.(?=(\\|\/)[^\0-\37<>:"/\\|?*]+)|^\.\.(?=(\\|\/)[^\0-\37<>:"/\\|?*]+))((\\|\/)[^\0-\37<>:"/\\|?*]+|(\\|\/)$)*()|(^\/$|(^(?=\/)|^\.|^\.\.)(\/(?=[^/\0])[^/\0]+)*\/?)$/.test(e)||/^\$\{/.test(e)},message:"目标路径格式错误"};t.tagNameRule={validator:function(e){return/^[\u4e00-\u9fa5A-Za-z0-9\-_!#@$&%^~=+.]{1,20}$/.test(e)},message:"标签名支持：汉字 A-Z a-z 0-9 _ - ! # @ $ & % ^ ~ = + ."};t.globalVariableNameRule={validator:function(e){return/^[a-zA-Z_][0-9a-zA-Z_-]{0,29}$/.test(e)},message:"变量名称：以英文字符、下划线开头；只允许英文字符、数字、下划线、和 -"};t.IPRule={validator:function(e){return/([0,1]?\d{1,2}|2([0-4][0-9]|5[0-5]))(\.([0,1]?\d{1,2}|2([0-4][0-9]|5[0-5]))){3}/.test(e)},message:"IP 格式不正确"};var c={validator:function(e){return/^[^\\|/:*<>"?]{1,32}$/.test(e)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};t.fileSourceAliasNameRule=c},88777:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findParent=void 0;t.findParent=function(e,t){for(var i=e.$parent||e.$root,a=i.$options.name;i&&(!a||a!==t);)(i=i.$parent)&&(a=i.$options.name);return i}},88676:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.genGlobalVariableKey=void 0,i(70969);t.genGlobalVariableKey=function(e){return"".concat(e.type,"#").concat(e.name)}},70034:function(e,t,i){"use strict";var a=i(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.createVariable=void 0;var n,r=a(i(42472)),s=(n=-1,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.TYPE_STRING;return new r.default({id:e||n--,type:t})});t.createVariable=s},57159:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={namespace:"template",message:{"变量类型":"Type","变量名称":"Name","变量描述":"Description","赋值可变":"Value is changeable","必填":"Is Required","执行时必填":"Is Required","初始值":"Default Value","选择主机":"Select Hosts","清空":"Clear","字符串":"String","命名空间":"Namespace","主机列表":"Host","密文":"Ciphertext","变量名仅支持大小写英文字母或下划线 [必填]":"Start with lowercase or _ , followed by lowercase / numbers / _ or -","这里可以备注变量的用途、使用说明等信息 [可选]":"Type the usage description of the variable here...","（必填变量必须设置初始值）":"(If required, default value must be set up.)","变量名称必填":"Variable name is required","变量名称已存在，请重新输入":"Name already exist, please try another one...","初始值必填":"Default Value is required","普通的字符串变量，可跨主机、跨步骤使用":"Ordinary string variable, can be used across hosts and steps","同一主机对象的共享变量，无法跨主机使用":"Shared variable of same host, but cannot be used across hosts","通过拓扑、动态分组或属性筛选的主机对象":"Host variable, filtered by topology, dynamic group or host attr.","经过加密处理的变量，不会以明文形式外显":"Encrypted variable, more safety, will not be displayed in Plaintext","在步骤参数或脚本内使用 ${变量名} 即可获取到变量值":"Variable usage method ${xxxx}","请输入变量的初始值 [可选]":"Set default value of this variable [optional]","变量的值在执行中可变":"Means this variable's value is changeable during task running","查看全局变量":"Variable Details","编辑全局变量":"Edit Variable","新建全局变量":"New Variable","提交":"Commit","保存":"Save","确定删除该全局变量？":"Are you sure to delete it?","若该变量被步骤引用，请及时检查并更新步骤设置":"If this variable is referenced by the step, please check and update the setting in time","推荐按步骤实际处理的场景行为来取名...":"Name it as actual use scenario [Recommended]...","确认人":"Confirmer","输入确认人":"Type the confirmer name...","通知方式":"Notify by","全部":"All","确认描述":"Description","确认人必填":"Confirmer is required","步骤人工确认":"ConfirmationStep","上传限速":"Upload Speed Limit","下载限速":"Download Speed Limit","文件来源":"Source","传输目标":"Destination","步骤分发文件":"FileTransferStep","您有未保存的源文件":"Some source file not save yet","继续提交":"Commit","去保存":"Save","步骤执行脚本":"ScriptStep","步骤类型":"Type","执行脚本":"Script Execution","分发文件":"File Transfer","人工确认":"Confirmation","关闭":"Close","全局变量":{label:"Global Variables",tab:"Global Var."},"已选择":"Seleted","个本地文件":"Local file","个服务器文件":"Remote file","个文件源文件":"Source file","文件路径":"FILEPATH","服务器列表":"HOSTS","Agent 状态":"AGENT STATUS","服务器账号":"ACCOUNT","确认人：":"Confirmer: ","通知方式：":"Notify by: ","确认描述：":"Description: ","超时时长：":"Timeout: ","错误处理：":"Error Ignore: ","上传限速：":"Upload Speed Limit: ","下载限速：":"Download Speed Limit: ","文件来源：":"Source: ","目标路径：":"DST Path: ","重名处理：":"Duplication: ","执行帐号：":"Account: ","执行目标：":"Host: ","脚本来源：":"From: ","脚本引用：":"Quote From: ","去更新":"Update Now","脚本内容：":"Contents: ","脚本参数：":"Params: ","执行账号：":"Account: ","执行目标":"Host","步骤类型：":"Type: ","步骤名称：":"Name: ","查看作业步骤":"Step Details","新建作业步骤":"New Step","编辑作业步骤":"Edit Step","确定删除该作业步骤？":"Are you sure to delete this step?","调试方案的特殊性：不可删除、始终与作业模板同步、不能被API调用、只能在作业平台使用":"Debug Mode: Cannot be deleted, always synchronized with the template, cannot be called by API, and can only be used on JOB WebUI.","执行步骤":"Steps","取消":"Cancel","执行步骤必填":"Select at least one step","操作成功":"Save Successful","执行成功":"Launch Successful","确认离开当前页？":"Are you sure to leave now?","离开将会导致未保存信息丢失":"Your changes will be lost if you close without saving.","执行步骤：":"Steps: ","去执行":"Launch","编辑":"Edit","确认执行？":"Are you sure to launch now?","未设置全局变量，点击确认将直接执行。":"Global Variable is not set, If confirmed will launch directly.","全部作业":"All","标签名不可为空":"Tag name is required","标签名已存在，请重新输入":"Tag name already exist, please try another one...","文件加密密码":"Encrypte Code","文件有效期":"Valid of Days","请输入":"Please type ...","天":"Day","月":"Month","年":"Year","由 6-8 位字符构成":"Composed of at least 6 to 8 letters","由英文字母、数字和特殊符号～!@#$%^()_-+=构成":"Composed of letters, numbers and symbol(～!@#$%^()_-+=)","永久":"PERM.","自定义":"Custom","1 天":"1 Day","3 天":"3 Days","7 天":"7 Days","支持扩展名: job.rar.zip":"Extensions: .rar / .zip","作业模板名称":"TEMPLATE NAME","作业模板 ID":"TEMPLATE ID","状态":"STATUS","新建":"New","导入":"Import","批量":"Multi.","导出":"Export","管理标签":"Tag Manage","输入 作业模板名、标签名 或 更新人 进行搜索...":"Search by Template Name / Tag / Last Modified By...","我的作业":"Mine","更新时间":"LAST MODIFIED ON","操作":"ACTIONS","调试":"Debug","确定删除该作业？":"Are you sure to delete it?","注意！模板下关联的所有执行方案也将被清除":"Caution: Those plans associated with the template will also be deleted.","删除":"Delete","导入作业模板":"Job Template Import","导出设置":"Settings","作业模板名":"Template Name","标签名":"Tags","删除模板成功":"Template has been deleted.","收藏成功":"Favorite Added","取消收藏成功":"Favorite canceled","新建执行方案":"New Plan","方案名称":"Name","推荐按照该执行方案提供的使用场景来取名...":"Name it as actual use scenario [Recommended]...","重置":"Reset","方案名称必填":"Plan name is required","方案名称已存在，请重新输入":"Plan name already exist, please try another one...","变量值":"Value","去同步":"Sync","确定删除该执行方案？":"Are you sure to delete it?","若已设置了定时任务，需要先删除才能操作":"If the plan is related to cron, you need to delete it before you can operate.","编辑执行方案":"Edit Plan","关联了定时任务":"Related to cron","未同步":"Not synchronized","执行":"Launch","无差异":"No Difference","显示差异":"Show Difference","个节点":"node(s)","台主机":"host(s)","个主机":"host(s)","个分组":"group(s)","查看脚本":"View Details","同步前":"Before Synchronization","同步后":"After Synchronization","变量类型：":"Type: ","变量名称：":"Name: ","变量值：":"Value: ","初始值：":"Default: ","变量描述：":"Description: ","赋值可变：":"Value is changeable: ","必填：":"Is Required: ","同步执行方案需要重新确认定时任务的全局变量，不使用的定时任务可以直接停用。":"The synchronous operation needs to reconfirm the global variables of the related Crons.","的全局变量":"Variables confirm","已停用":"OFF","已确认":"DONE","待确认":"AWAIT","无关联的全局变量":"There's no related Global Variables.","已直接确认":"DONE","确认":"Confirm","定时任务确认成功":"Cron has been confirmed.","暂无关联的定时任务":"There's no related Cron task.","下一步":"Next","上一步":"Previous","是否确认同步？":"Are you sure to sync?","关联定时任务的调整将立即生效":"The adjustment of the associated Crons will update immediately.","立即同步":"Sync Now","有定时任务还未确认":"Some cron not confirm yet.","执行方案同步失败":"Sync Failed","同步成功":"Synchronized successfully","定时任务更新失败":"Crons update failed","模板名称：":"Name: ","场景标签：":"Tags: ","模板描述：":"Desc: ","全局变量：":"Global Variable: ","作业步骤：":"Job Step: ","选择方案":"Plans","模板名称必填":"Template name is required","模板名称已存在，请重新输入":"Template name is already exist, please try another one...","确定删除该作业模板？":"Are you sure to delete it?","模板下关联的所有执行方案也将被删除，请谨慎操作！":"Caution! Related job plans will also be deleted.","收起更多设置":"Hide Details","展开更多设置":"More Details","「对作业模板的修改不会立即自动更新执行方案，需要由用户手动触发」":"The change of the Job Template will not directly affect the Plans, it needs to be synchronized by yourself.","输入作业模板名称":"Type the name of your Job Template...","标签对资源的分类管理有很大帮助":"Select or type any tag you want...","模板描述":"Description","填写该模板的功能介绍等详细描述...":"Type the usage scenario description of this job template here...","作业步骤必填":"Job steps is required","目标服务器":"Hosts","服务器文件":"Remote File","步骤":"Step","中":"","变量":"Variable","变量被删除，请重新设置":"Variable has been deleted, try to reset another one.","去设置":"Go To","还差一步「 设置执行方案」，即可执行作业":'One step away from "Set Job Plan" to complete Job configuration.',"设置方案":"Set Job Plan","返回作业列表":"Back To List","作业创建成功":"Successful","编辑保存成功":"Successful","可以通过 “立即同步” 入口前往更新所有执行方案":'Click "Sync Now" to update all Plans of this Job Template',"继续编辑":"Keep Editing","查看方案":"View Plans","模板名已存在，请重新输入":"Template name is already exist, please try another one...","未分类":"Non-Tag","待更新":"Pending Update","传输模式：":"Mode: ","差异总览":"Overview of differences","差异明细":"Difference Details","确认定时任务":"Crons Confirmation","全局变量的初始值不会同步到执行方案":"Global variable's default value will not sync to Job Plan","模板名称":"Name","数组":"Array","数组类型":"Array Type","关联数组":"Associative","索引数组":"Indexed","Array 格式的字符串，支持关联或索引数组":"An array is a data structure that contains a group of elements","标签名更新成功":"Tag name has been modified","请输入标签名...":"Please input tag name...","基本信息":"Information","克隆":"Clone","克隆步骤":"Clone Step","确定删除该步骤？":"Are  you sure to delete it?","删除之后不可恢复，请谨慎操作！":"Caution! It cannot be restored after deletion.","执行方案":{label:"Plans",colHead:"PLAN NAME"},"作业步骤":{label:"Steps",add:"New Steps"},"场景标签":{label:"Tags",colHead:"TAGS"},"更新人":{label:"Last Modify By",colHead:"LAST MODIFIED BY"},"版本对比":"Diff","模板中包含密文变量，请重新设置值":"Template contains ciphertext variable, please reset the value","“密文”类型的变量经过特殊加密处理，为避免信息泄露，克隆后初始值不会还原，需用户重新设置。":'Variable of the "Ciphertext" type are specially encrypted. To protect information security, the default value will not be restored after cloning and need to be reset by yourself.',"我知道了":"Got it","仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案":"","创建人":"CREATED BY","创建时间":"CREATED ON","共有":"","共":"","个步骤，":"steps total, ","定时":"Crons","上一次任务还未完成":"Job export not finished yet","您上一次的任务还在后台运行中，请先等待完成后再发起新的任务。":"Your last export is still running, please wait for it to complete before launching a new task.","查看":"Details","返回":"Back","脚本详情":"Script Details","当前已选中":"","个":{select:"selected.",total:"totals"},"执行方案名称":"JOB PLAN NAME","作业模板":"JOB TEMPLATE","关联定时任务":"RELATED CRON(s)","批量同步":"Sync","我的方案":"Mine","全部确认":"All Confirm","查看差异":"Diff","所属作业模板":"JOB TEMPLATE","请选择作业模板":"Please choose job template","选择要调试的步骤":"Choose your debug steps","取消全选":"Unselect All","全选":"Select All","另存为":"Save As","选择执行步骤":"Steps of the plan","ID只支持数字":"ID is only allow numbers","输入 ID、执行方案名、作业模板名、更新人 或 创建人 进行搜索...":"Search by ID / Plan Name / Template Name / Created by / ...","同步执行方案":"Job Plan Sync from Template","个已就绪":"Ready","个未就绪":"Not Ready","个无需处理":"Already","同步失败":"Failed","重试":"Retry","同步请求失败，请重试":"Sync failed, please try later","没有关联定时任务":"No CRON related","另存为执行方案":"Save as new job plan","请输入执行方案名称":"Please type the new plan name","确定":"Commit","定时执行":"Scheduled","变量值为空":"Empty","另存执行方案成功":"New Job Plan has been created","返回继续调试":"Keep Debug","立即前往查看":"More Detail","已同步至最新版":"All Job Plan(s) is latest now","项执行方案的确认出现问题，请逐个确认":"Job plan(s) confirm failed, please make sure its ready before synchronize","定时任务中必填变量未赋值":"The required fields in the CRON is not assigned","所有方案均已同步至最新版":"The Job Plan(s) above is latest already","新增":"New","无需同步":"Latest","没有定时任务管理权限，请手动确认":"No permission, please apply it first","自动确认定时任务失败，请手动确认":"CRON auto confirm failed, please try again","待补全":"Incomplete","请将「待补全」的步骤信息完善后提交重试":'Please complete the "Incomplete" step and try again',"请选择要同步的执行方案":"No job plan selected yet","已选结果中有执行方案中不需要同步":"Some of the selected job plans is already latest","已选结果中有执行方案中没有权限同步":"Some of the selected job plans you do not have permission","是否结束当前任务？":"Are you sure to leave now ?","你可以选择保留或结束当前任务":"Do you want to KEEP or END this task","（选择保留，后续可以从列表页重新进入）":"(You can re-entry from Job page if you chosen to KEEP the task.)","保留":"KEEP","结束":"END","全局变量的 “初始值” 不会被同步到执行方案":"Default value will not be sync to job plan","1. 作业内文件分发步骤中带有“本地文件”的会一并导出，没有大小限制！但导入时会受到目标环境的文件上传大小限制，请知悉；":'1. The "Local Files" in the Job will be also exported, and there is no size limit! However, when importing, it will be limited by the file upload size of the target environment, please be aware;',"2. 作业内引用的脚本会保留其原始ID，但如果在导入时目标环境找不到对应ID的脚本，将自动转换为「手工录入」的方式导入；":'2. The scripts referenced in the job will retain script ID, but if the target environment cannot find the same script ID when importing, it will be automatically converted to "Custom" mode to import;',"3. 由于导出和导入环境的服务器 IP 地址、人工确认的用户名、通知渠道可能存在差异，请在后续导入后修改对应的信息，以免造成作业不可用的问题；":"3. Since there may be differences IP address, username, and notification channel between export and import environment, please modify the information of specified steps after job imported;","4. 为了保证步骤信息一致性，作业中使用的「执行账号」会以账号名称导出，并在导入时在目标环境中挑选其中一个相同名称的账号进行保存；如果没有相同的账号名存在，请记得导入后及时更改步骤信息，以免造成作业不可用的问题；":'4. "Execution Account" will be exported with the name(not alias name), please make sure the target environment has the same account during import, so as not to cause the problem of unavailability of the job;',"5. 如作业的脚本步骤中使用了「公共函数」，请确保导入的环境中也同样存在对应的函数，以免造成脚本执行逻辑错误；":'5. If the "Public Function" is used in the script step, please ensure that the corresponding function also exists in the imported environment;',"6. 导出的作业模板会保存其原始ID，如需在导入的环境中完全保留作业ID，请在导入作业的流程中按指引进行设置；":"6. The exported job template will completely retain the ID, If you need to retain it in the imported environment, please follow the instructions of the import settings;","7. 因蓝鲸权限中心的规则中对实例的唯一标识是ID，如在导入时选择保留作业ID，请根据需要选择是否回收原有的权限策略；":"7. Because the unique identification of the instance in the rules of the IAM is the ID, if you choose to keep the job ID when importing, please mind the existing data of the imported environment;","8. 在导入时选择保留作业原始ID的前提下，请确保导入的环境中不存在已配置了相同作业ID的定时任务，以免造成影响；":"8. If you choose to keep the job ID when importing, please make sure that there is no Cron task with the same job ID configured in the import environment;",'9. 若导入的作业模板或执行方案名称与目标环境的作业存在冲突的情况，会根据导入时设置的"重名后缀"自动在作业名称后面追加命名。':'9. When the imported job template or plan name is duplicate, the "Name Suffix" will be automatically add to the imported job name.',"用户须知":{header:"Notice",title:""},"选择要导出的作业执行方案":"Select Plans to Export","新窗口打开该执行方案":"Open in New Tab","暂无执行方案":"No Job plan available","压缩包名":"Package Name","压缩包名仅支持大小写英文、数字、- 或 _":"Using uppercase / lowercase letter, numbers, - or _","密文变量值处理":"Ciphertext Variable","保存为空值":"Replace with empty value","保存真实值":"Using original value","文件加密":"Encrypt","是":"Yes","否":"No","密码设置":"Password","请设置6-20个字符密码":"Please type 6 to 20 characters password","二次确认":"Password Confirm","请输入同样的密码，以确认密码准确":"Type the same password for confirm","请输入整数，不可超过365":"","长度6-20个字符":"Length limit in 6 to 20 characters","必须包含英文字母、数字和特殊符号":"Must include three of the following mix of character types: letters, numbers and non-alphanumeric symbols","密码长度为6-20个字符，必须包含英文字母、数字和特殊符号":"Must include three of the following mix of character types: letters, numbers and non-alphanumeric symbols, for example: admin@2020","两次输入的密码不一致":"The passwords are not equal.","密码必填":"Password field is required","确认密码必填":"Password Confirm field is required","文件有效期必填":"Valid of Days","文件有效期须大于1或不超过365":"Valid of Days field is required","压缩包名必填":"Package Name field is required","密文变量值处理必填":"Ciphertext Variable field is required","文件加密必填":"Encrypt field is required","作业导出成功！请及时保存并妥善保管。":"Export Successfully! Please save it immediately.","如果页面未出现提示保存窗口，请点击":"If the page does not prompt to save automatically, please click","重新下载文件":"Download","正在导出作业，请稍候":"Job Exporting, please wait a sec","完成":"Close","下载文件成功":"Download Successful","文件包上传":"Upload","导入内容确认":"Confirmation","导入设置":"Settings","开始导入":"Process","仅支持上传来自作业平台专属导出的压缩包":"File upload allow only .jobexport","上传成功":"File Upload Successful","上传失败":"File Upload Failed","文件包解密确认":"Password of the Package","文件包密码":"Password","请输入上传的文件包密码，完成后点提交验证":"Please type the correct password to decrypt the package","请输入文件包密码":"Password field is required","输入密码":"Enter Password","重新输入密码":"Try again","请点":"Click","文件类型不支持":"File type is not allowed","上传任务已取消":"Upload process has been canceled","导入任务已取消！需要重试请点击":"Upload process has been canceled, click here to retry","不导入":"Cancel","选择要导入的作业执行方案":"Select Plans to Import","导入内容不能为空":"Import Job is empty","重名后缀":"Dupl. Suffix","作业ID处理":"Job ID.","不保留，全部按自增处理":"Auto Increment","保留，ID 冲突时自增处理":"Keep it, Auto increment if exists","保留，ID 冲突时不导入":"Keep it, skip if exists","请输入重名后缀":"Dupl. Suffix field is required","作业导入完成！请及时检查。":"Import Successfully! Please check it immediately.","作业导入出现异常，请稍后再试...":"Import Failed! Please try again later...","正在导入作业，请稍候":"Job Importing, please wait a sec","查看详情":"Open in New Tab","复制日志":"Copy Logs","有一项导入任务正在进行中":"1 import task is processing","有一项导出任务正在进行中":"1 export task is processing","将覆盖其它条件":"override other conditions","引用脚本的作业模板":"List of Related Job Template","引用脚本的执行方案":"List of Related Job Plan","导出内容确认":"Confirmation","开始导出":"Process","你还未选择导出作业":"Job not selected yet","同步方案":"Sync Plans","返回查看":"View Job","该模板下面没有执行方案":"No Job Plan found","该模板下面的所有执行方案已是最新版":"All Job Plans are already Latest","待同步":"Plans need to be sync.","服务器文件-服务器列表":"Remote file - HOSTS","立即查看":"View Job","本地源文件上传未完成":"Local file is still uploading...","本地源文件上传失败":"Local file upload failed","去处理":"To Solve","源文件可能出现同名":"Source Files may have same filename","多文件源传输场景下容易出现同名文件覆盖的问题，你可以在目标路径中使用 [源服务器IP] 的变量来尽可能规避风险。":"Files may have the risk of overwriting with the same name in multi-file source, using built-in variable like [FILESRCIP] in the Dst. path to avoid risks as much as possible.","好的，我调整一下":"Oops... Adjust Now","已知悉，确定执行":"I'm Sure, Keep Going","添加服务器":"Add Hosts","确定立即批量更新？":"Are you sure want to update now ?","请注意！变量值填框留空，即代表设置目标变量为空值。":"Caution! If the input is blank, means the variable value is also empty.","批量编辑变量值":"Multi-Edit","批量编辑变量":"Multi-Edit","请选择要编辑的执行方案":"Please specifi job plan first","已选结果中有执行方案中没有权限编辑":"Some you do not have permission in the selected results","原始值":"OLD VALUE","更新值":"NEW VALUE","编辑成功":"Edit successful","暂无全局变量":"No Global Variable found","所选执行方案，无变量值可编辑":"No Global Variable found","更新范围":"Selected","已选":"","个执行方案，":"Job Plan(s)","来自":"From","个作业模板":"Job Template","选择变量":"Global Var.(s)","编辑变量":"Edit","更新预览":"Preview","移除无效主机":"Remove Invd.","批量编辑":"Multi-Edit","源和目标服务器相同":"","检测到文件传输源和目标服务器是同一批，若是单台建议使用本地 cp 方式效率会更高，请问你是否确定参数无误？":"","是的，确定无误":"I'm Sure, Keep Going","变量使用指引":"How to use Global Var","魔法变量":"Magic Var.","使用指引":"User Guide","标签":"Tags","搜索结果为空":"Search Empty","清空搜索":"Clear Search","编辑标签":"Multi-Edit","范围":"Total","个作业":"templates selected","勾选范围里，全部作业使用":"Applied in all selected templates","勾选范围里，有":"","个作业使用":" of the selected templates applied it.","新建标签":"New Tag","编辑标签成功":"New tag has been created","未引用":"Unquoted","执行方案名称编辑成功":"Plan name has been modified","暂无引用的变量":"There are no variables quoted by this job plan","有":"","个定时任务":" Cron(s) related","点击前往查看":"Click to show more","请至少勾选一个执行步骤":"At least one step need to be selecte","新建模板":"New Template"}}},71780:function(e,t,i){"use strict";i.r(t);t.default="<h1>Instruction</h1> <p>The variables who customized in the Job</p> <h1>How to</h1> <p> Using <code>$</code> and <code>{}</code>, e.g.: <code>${VarName}</code></p> <h1>Where to</h1> <ul> <li><p>String</p> <ol> <li>Available in the script, only <code>shell</code> supported</li> <li><code>Source</code> and <code>Destination</code> in “File Transfer”</li> <li><code>Params</code> field in “Script Execution” step</li> </ol> </li> <li><p>Namespace</p> <p>Available in the script, only <code>shell</code> supported</p> </li> <li><p>Host</p> <p>Not available in script, need to be used with &quot;Magic Var&quot;</p> </li> <li><p>Ciphertext</p> <p>Available in the script, only <code>shell</code> supported</p> </li> <li><p>Array</p> <p>Available in the script, only <code>shell</code> supported</p> </li> </ul> "},80951:function(e,t,i){"use strict";i.r(t);t.default="<h1>说明</h1> <p>即，在作业中用户自定义的全局通用变量</p> <h1>用法</h1> <p> 使用 dollar 符 + 大括号：<code>${变量名}</code></p> <h1>在哪里用</h1> <ul> <li><p>字符串</p> <ol> <li>脚本中直接引用，当前仅支持 <code>shell</code></li> <li>“文件分发”步骤的源 <code>文件路径</code> 和 <code>目标路径</code></li> <li>“执行脚本”步骤的 <code>脚本参数</code></li> </ol> </li> <li><p>命名空间</p> <p>脚本中直接引用，当前仅支持 <code>shell</code></p> </li> <li><p>主机列表</p> <p>无法直接引用，需要配合 “魔法变量”</p> </li> <li><p>密文</p> <p>脚本中直接引用，当前仅支持 <code>shell</code></p> </li> <li><p>数组</p> <p>脚本中直接引用，当前仅支持 <code>shell</code></p> </li> </ul> "},49601:function(e,t,i){"use strict";i.r(t);t.default='<h1>Instruction</h1> <p>Magic Variable is a special variable that built-in specific to the JOB platform, and it&#39;s only supported in the JOB platform</p> <h1>How to</h1> <p> Must declare before use it: <code># job_import {{VarName}}</code></p> <p> After that, using <code>$</code> and <code>{}</code>, e.g.: <code>${VarName}</code></p> <h1>Where to</h1> <p> Only supported in <code>shell</code> script</p> <h1>Variable List</h1> <ul> <li><p>To get value of <code>Host</code> type global variable</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{host_type_var_name}}</span>\n\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${host_type_var_name}</span>\n</code></pre> <p>Result (Example):</p> <pre><code>0:10.1.1.100,1:20.2.2.200\n</code></pre> <p>The result output format is <code>Cloud Area + : + inner IP addr</code>, multiple IPs are separated by commas(,)</p> </li> <li><p>To get value of last step host list</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_LAST_ALL}}</span>\n<span class="hljs-comment"># Get all host list of last step</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_SUCCESS}}</span>\n<span class="hljs-comment"># Get success host list of last step</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_FAIL}}</span>\n<span class="hljs-comment"># Get failure host list of last step</span>\n</code></pre> <p>The result output format is &quot;Cloud Area + : + inner IP addr&quot;, multiple IPs are separated by commas(,)</p> </li> <li><p>To get value of other host&#39;s namespace variable</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_NAMESPACE_ALL}}</span>\n<span class="hljs-comment"># Get value of all namespace variable</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_ALL}</span>\n\n<span class="hljs-comment"># job_import {{JOB_NAMESPACE_varname}}</span>\n<span class="hljs-comment"># Get value of specific namespace variable</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_varname}</span>\n</code></pre> <p>Result (Example):</p> <pre><code class="language-bash"><span class="hljs-comment">### echo ${JOB_NAMESPACE_ALL} (If there have two namespace variables: ns_var1 and ns_var2):</span>\n{<span class="hljs-string">&quot;ns_var1&quot;</span>:{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>},<span class="hljs-string">&quot;ns_var2&quot;</span>:{<span class="hljs-string">&quot;0:20.20.20.1&quot;</span>:<span class="hljs-string">&quot;aaaa&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.2&quot;</span>:<span class="hljs-string">&quot;bbbb&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.3&quot;</span>:<span class="hljs-string">&quot;cccc&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.4&quot;</span>:<span class="hljs-string">&quot;dddd&quot;</span>}}\n  \n<span class="hljs-comment">### echo ${JOB_NAMESPACE_ns_var1}:</span>\n{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>}\n</code></pre> </li> <li><p>Two ways to processing JSON string with Shell (For reference only, it&#39;s recommended to be on-line after debug)：</p> <ol> <li>Using sed &amp; awk : ```bash #!/bin/bash</li> </ol> <p> str=&#39;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#39;</p> <p> function json_parse { local _json=$1 local _key=$2 temp=<code>echo $_json | sed &#39;s/\\\\\\\\\\//\\//g&#39; | sed &#39;s/[{}]//g&#39; | awk -v k=&quot;text&quot; &#39;{n=split($0,a,&quot;,&quot;); for (i=1; i&lt;=n; i++) print a[i]}&#39; | sed &#39;s/\\&quot;\\:\\&quot;/\\|/g&#39; | sed &#39;s/[\\,]/ /g&#39; | sed &#39;s/\\&quot;//g&#39; | grep -w $_key</code> echo ${temp##*|} }</p> <p> json_parse $str ip1 ## Value of ip1 in $str variable, it will be &quot;value1&quot; json_parse $str ns1 ## Value of ns1, it will be {&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;}</p> <pre><code>\n2. Using Python&#x27;s json module :\n```bash\n  #!/bin/bash\n  \n  str=&#x27;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#x27;\n  \n  ### To get value of ip2 in $str variable, it will be &quot;value2&quot;\n  echo ${str} | python -c &#x27;import json,sys;obj=json.load(sys.stdin);print obj[&quot;ns1&quot;][&quot;ip2&quot;]&#x27;\n</code></pre> </li> </ul> '},77127:function(e,t,i){"use strict";i.r(t);t.default='<h1>说明</h1> <p>JOB平台执行引擎提供的特有的变量能力</p> <h1>用法</h1> <p> 脚本中使用，并且需要事先声明：<code>job_import {{变量名}}</code></p> <p> 声明后，同样是使用 dollar 符 + 大括号：<code>${变量名}</code></p> <h1>在哪里用</h1> <p> 当前仅支持在 <code>shell</code> 脚本语言中使用</p> <h1>变量列表</h1> <ul> <li><p>获取 <code>主机列表</code> 类型的全局变量值</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{主机列表的全局变量名}}</span>\n\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${主机列表的全局变量名}</span>\n</code></pre> <p>输出结果（示例）：</p> <pre><code>0:10.1.1.100,1:20.2.2.200\n</code></pre> <p>输出的格式为： <code>云区域ID + 冒号 + 内网IP</code>，多个IP地址以逗号分隔</p> </li> <li><p>获取上一个步骤执行的主机列表</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_LAST_ALL}}</span>\n<span class="hljs-comment"># 获取上一个步骤的所有执行主机IP列表</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_SUCCESS}}</span>\n<span class="hljs-comment"># 获取上一个步骤执行成功的主机IP列表</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_FAIL}}</span>\n<span class="hljs-comment"># 获取上一个步骤执行失败的主机IP列表</span>\n</code></pre> <p>输出的格式同上： <code>云区域ID + 冒号 + 内网IP</code>，多个IP地址以逗号分隔</p> </li> <li><p>获取其他主机的命名空间变量值</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_NAMESPACE_ALL}}</span>\n<span class="hljs-comment"># 获取所有命名空间变量的汇聚值</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_ALL}</span>\n\n<span class="hljs-comment"># job_import {{JOB_NAMESPACE_命名空间变量名}}</span>\n<span class="hljs-comment"># 获取某个命名空间变量的汇聚值</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_命名空间变量名}</span>\n</code></pre> <p>输出结果（示例）：</p> <pre><code class="language-bash"><span class="hljs-comment">### echo ${JOB_NAMESPACE_ALL} 的输出(假定有 ns_var1 和 ns_var2 两个命名空间类型全局变量)：</span>\n{<span class="hljs-string">&quot;ns_var1&quot;</span>:{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>},<span class="hljs-string">&quot;ns_var2&quot;</span>:{<span class="hljs-string">&quot;0:20.20.20.1&quot;</span>:<span class="hljs-string">&quot;aaaa&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.2&quot;</span>:<span class="hljs-string">&quot;bbbb&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.3&quot;</span>:<span class="hljs-string">&quot;cccc&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.4&quot;</span>:<span class="hljs-string">&quot;dddd&quot;</span>}}\n  \n<span class="hljs-comment">### echo ${JOB_NAMESPACE_命名空间变量名} 的输出：</span>\n{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>}\n</code></pre> </li> <li><p>Shell 脚本处理 JSON字符串的两种方式（仅供参考，正式投入使用建议调试确认后再上线）：</p> <p> 方式一：（纯 sed + awk 实现）</p> <pre><code class="language-bash">  <span class="hljs-comment">#!/bin/bash</span>\n  \n  str=<span class="hljs-string">&#x27;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#x27;</span>\n  \n  <span class="hljs-keyword">function</span> json_parse {\n      <span class="hljs-built_in">local</span> _json=<span class="hljs-variable">$1</span>\n      <span class="hljs-built_in">local</span> _key=<span class="hljs-variable">$2</span>\n      temp=`<span class="hljs-built_in">echo</span> <span class="hljs-variable">$_json</span> | sed <span class="hljs-string">&#x27;s/\\\\\\\\\\//\\//g&#x27;</span> | sed <span class="hljs-string">&#x27;s/[{}]//g&#x27;</span> | awk -v k=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-string">&#x27;{n=split($0,a,&quot;,&quot;); for (i=1; i&lt;=n; i++) print a[i]}&#x27;</span> | sed <span class="hljs-string">&#x27;s/\\&quot;\\:\\&quot;/\\|/g&#x27;</span> | sed <span class="hljs-string">&#x27;s/[\\,]/ /g&#x27;</span> | sed <span class="hljs-string">&#x27;s/\\&quot;//g&#x27;</span> | grep -w <span class="hljs-variable">$_key</span>`\n      <span class="hljs-built_in">echo</span> <span class="hljs-variable">${temp##*|}</span>\n  }\n  \n  json_parse <span class="hljs-variable">$str</span> ip1\t\t\t<span class="hljs-comment">## 获取 str 的 json字符串中 ip1 的值，即：value1</span>\n  json_parse <span class="hljs-variable">$str</span> ns1\t\t\t<span class="hljs-comment">## 获取 str 的 json字符串中 ns1 的值，即：{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;}</span>\n</code></pre> <p>方式二：（借助 Python 的 json 模块实现）</p> <pre><code class="language-bash">  <span class="hljs-comment">#!/bin/bash</span>\n  \n  str=<span class="hljs-string">&#x27;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#x27;</span>\n  \n  <span class="hljs-comment">### 获取 str 的 json字符串中 ip2 的值，即：value2</span>\n  <span class="hljs-built_in">echo</span> <span class="hljs-variable">${str}</span> | python -c <span class="hljs-string">&#x27;import json,sys;obj=json.load(sys.stdin);print obj[&quot;ns1&quot;][&quot;ip2&quot;]&#x27;</span>\n</code></pre> </li> </ul> '},46167:function(){},29565:function(){},72709:function(){},2154:function(){},62478:function(){},64832:function(){},85724:function(){},57284:function(){},86918:function(){},28722:function(){},93765:function(){},71556:function(){},61738:function(){},78321:function(){},86255:function(){},47444:function(){},58637:function(){},40096:function(){},84554:function(){},36073:function(){},87902:function(){},21700:function(){},65773:function(){},73145:function(){},2355:function(){},89631:function(){},11810:function(){},2607:function(){},7620:function(){},41260:function(){},631:function(){},12767:function(){},18864:function(){},53553:function(){},6844:function(){},18076:function(){},99184:function(){},34138:function(){},57322:function(){},48876:function(){},77521:function(){},5943:function(){},70338:function(){},53638:function(){},71402:function(){},13573:function(){},88627:function(){},33364:function(){},47616:function(){},64354:function(){},19687:function(){},86717:function(){},689:function(){},46132:function(){},63401:function(){},5686:function(){},28353:function(){},70405:function(){},15672:function(){},76656:function(){},38150:function(){},4010:function(){},22590:function(){},51995:function(){},83773:function(){},54637:function(){},39648:function(){},73769:function(){},59538:function(){},42362:function(){},11188:function(){},79261:function(){},86149:function(){},52734:function(){},91109:function(){},89153:function(){},37731:function(){},28259:function(){},97976:function(){},97014:function(){},79008:function(){},85194:function(){},9772:function(){},17971:function(){},89965:function(){},95722:function(){},94992:function(){},41293:function(){},3104:function(){},13580:function(){},95724:function(){},59421:function(){},13287:function(){},90686:function(){},36310:function(){},53004:function(){},52784:function(){},92691:function(){},70354:function(){},65271:function(){},42463:function(){},33277:function(){},59623:function(){},47087:function(){},21289:function(){},16258:function(){},27064:function(){},33009:function(){},77283:function(){},86940:function(){},57645:function(){},64571:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}]},[i("bk-select",e._b({ref:"select",attrs:{clearable:!1,value:e.value,"ext-popover-cls":"account-select-menu-list",searchable:""},on:{change:e.handleChange,toggle:e.handleClick}},"bk-select",e.$attrs,!1),[e._l(e.accountList,(function(t){return[i("auth-option",{key:t.id,attrs:{id:t.id,name:t.alias,permission:t.canUse,"resource-id":t.id,auth:"account/use"}},[i("div",[e._v(e._s(t.alias))])])]})),e._v(" "),i("template",{slot:"extension"},[i("auth-component",{attrs:{auth:"account/create"}},[i("div",{staticStyle:{cursor:"pointer"},on:{click:e.handleCreate}},[i("i",{staticClass:"bk-icon icon-plus-circle mr10"}),e._v(e._s("新建账号")+"\n                ")]),e._v(" "),i("div",{attrs:{slot:"forbid"},slot:"forbid"},[i("i",{staticClass:"bk-icon icon-plus-circle mr10"}),e._v(e._s("新建账号")+"\n                ")])])],1)],2)],1)};a._withStripped=!0;var n=i(55867),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/account-select/index.vue";var o=s.exports},45673:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X$},builtInScript:function(){return n.nI},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"aceEditor",staticClass:"jd-ace-editor",style:{height:e.height+"px"}},[i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading,opacity:.2},expression:"{ isLoading: isLoading, opacity: 0.2 }"}],ref:"contentWrapper",staticClass:"jb-ace-content",class:{readonly:e.readonly},style:e.boxStyle},[e.showTabHeader?i("div",{staticClass:"jb-ace-title",style:{height:e.tabHeight+"px"}},[e._l(e.tabList,(function(t,a){return[i("div",{key:t,staticClass:"jb-ace-mode-item",class:{active:e.currentLang===a},on:{click:function(t){return e.handleLangChange(a)}}},[e._v("\n                    "+e._s(a)+"\n                ")])]}))],2):e._e(),e._v(" "),i("div",{staticClass:"jb-ace-main"},[i("div",{staticClass:"ace-edit-content"},[i("div",{style:e.editorStyle,attrs:{id:e.selfId}})]),e._v(" "),i("div",{staticClass:"right-side-panel"},[e._t("side")],2)]),e._v(" "),i("div",{staticClass:"jb-ace-action",style:{height:e.tabHeight+"px"}},[e._t("action"),e._v(" "),e.readonly||e.isFullScreen?e._e():[i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"上传脚本",expression:"'上传脚本'"}],attrs:{type:"upload"},on:{click:e.handleUploadScript}}),e._v(" "),i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"历史缓存",expression:"'历史缓存'"}],attrs:{type:"history"},on:{click:function(t){return t.stopPropagation(),e.handleShowHistory.apply(null,arguments)}}})],e._v(" "),e.isFullScreen?e._e():i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"全屏",expression:"'全屏'"}],attrs:{type:"full-screen"},on:{click:e.handleFullScreen}}),e._v(" "),e.isFullScreen?i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"还原",expression:"'还原'"}],attrs:{type:"un-full-screen"},on:{click:e.handleExitFullScreen}}):e._e()],2),e._v(" "),e.isShowHistoryPanel?i("div",{ref:"historyPanel",staticClass:"jb-ace-history-panel",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"panel-header"},[i("div",[e._v(e._s("历史缓存"))]),e._v(" "),i("div",{staticClass:"save-btn",on:{click:function(t){return t.stopPropagation(),e.handleSaveHistory.apply(null,arguments)}}},[e._v(e._s("手动保存"))])]),e._v(" "),e.historyList.length>0?i("div",{staticStyle:{"max-height":"250px"}},[i("scroll-faker",[i("div",{staticClass:"panel-body"},e._l(e.historyList,(function(t){return i("div",{key:t.name,staticClass:"item"},[i("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"history-name"},[e._v(e._s(t.name))]),e._v(" "),i("div",{staticClass:"history-action",on:{click:function(i){return e.handleChangeValueFromHistory(t)}}},[e._v(e._s("载入"))])])})),0)])],1):i("empty",{staticClass:"history-empty",attrs:{width:100}})],1):e._e(),e._v(" "),i("input",{ref:"upload",staticStyle:{position:"absolute",width:"0",height:"0"},attrs:{type:"file"},on:{change:e.handleStartUpload}})])])};a._withStripped=!0;var n=i(55738),r=n.ZP,s=(i(28208),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/ace-editor/index.vue";var o=s.exports},54606:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isNotPermission?i("div",{staticClass:"apply-permission-page"},[i("div",{staticClass:"page-main"},[i("ask-permission",{attrs:{"permission-list":e.authResult.requiredPermissions}}),e._v(" "),i("div",{staticClass:"footer"},[e.isAppleFlag?i("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:e.handleApply}},[e._v(e._s(e.applyText))]):i("bk-button",{attrs:{theme:"primary"},on:{click:e.handleReload}},[e._v(e._s(e.appliedText))])],1)],1)]):i("div",[e._t("default")],2)};a._withStripped=!0;var n=i(66437),r=n.Z,s=(i(55016),(0,i(35471).Z)(r,a,[],!1,null,"1e14bf56",null));s.options.__file="src/components/apply-permission/apply-section.vue";var o=s.exports},41641:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.isShow?i("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"回到顶部",expression:"'回到顶部'"}],staticClass:"job-back-top",class:e.classes,style:e.styles,on:{click:e.handleBackTop}},[i("Icon",{attrs:{type:"up-to-top"}})],1):e._e()};a._withStripped=!0;var n=i(44769),r=n.Z,s=(i(95309),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/back-top/index.vue";var o=s.exports},30545:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"server-panel-action-extend",on:{click:function(e){e.stopPropagation()},mouseleave:e.handleHide}},[i("Icon",{attrs:{type:"more"}}),e._v(" "),i("div",{ref:"popoverContent",staticClass:"server-action-extend-content",on:{click:e.handleWraperClick,mouseover:e.handleShow,mouseleave:e.handleClose}},[e.copyable?[i("div",{staticClass:"action-item",on:{click:e.handleCopyAll}},[e._v(e._s("复制全部IP"))]),e._v(" "),i("div",{staticClass:"action-item",on:{click:e.handleCopyFail}},[e._v(e._s("复制异常IP"))])]:e._e(),e._v(" "),e._t("default")],2)],1)};a._withStripped=!0;var n=i(56244),r=n.Z,s=(i(30628),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/action-extend.vue";var o=s.exports},45220:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"server-panel-dropdown-menu",on:{click:function(e){e.stopPropagation()},mouseleave:e.handleHide}},[e._t("default"),e._v(" "),i("div",{ref:"popoverContent",staticClass:"server-dropdown-menu-content",on:{mouseover:e.handleShow,mouseleave:e.handleClose}},[e._t("menu")],2)],2)};a._withStripped=!0;var n=i(54073),r=n.Z,s=(i(79652),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/dropdown-menu.vue";var o=s.exports},65442:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"choose-ip-host-table",class:{empty:e.isEmpty}},[i("scroll-faker",{style:e.styles},[i("table",[e.$slots.default?[e._t("appendBefore"),e._v(" "),e._t("default")]:[i("thead",[i("th",{staticStyle:{width:"20%"}},[e._v(e._s("主机IP"))]),e._v(" "),i("th",{staticStyle:{width:"20%"}},[e._v(e._s("云区域"))]),e._v(" "),i("th",{staticStyle:{width:"150px"}},[e._v(e._s("Agent 状态"))]),e._v(" "),i("th",[e._v(e._s("主机名"))]),e._v(" "),i("th",[e._v(e._s("操作系统名称"))]),e._v(" "),e.editable?i("th",{staticClass:"action-column"},[e._v(e._s("操作"))]):e._e()]),e._v(" "),e._t("appendBefore"),e._v(" "),e.renderList.length>0?i("tbody",{staticClass:"valid-list"},e._l(e.renderList,(function(t){return i("tr",{key:t.realId,class:e.diff[t.realId]},[i("td",{staticClass:"table-cell"},[t.repeat?i("span",{staticClass:"repeat",attrs:{"tippy-tips":"指和其他主机的IP地址相同，但云区域不同"}},[e._v("\n                                "+e._s("重复")+"\n                            ")]):e._e(),e._v(" "),i("div",{staticClass:"cell-text"},[e._v(e._s(t.ip))])]),e._v(" "),i("td",[i("div",{staticClass:"cell-text"},[e._v(e._s(t.cloudAreaInfo.name||"--"))])]),e._v(" "),i("td",[t.alive?i("span",[i("icon",{staticStyle:{"vertical-align":"middle"},attrs:{svg:"",type:"normal"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s("正常"))])],1):i("span",[i("icon",{staticStyle:{"vertical-align":"middle"},attrs:{svg:"",type:"abnormal"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s("异常"))])],1)]),e._v(" "),i("td",[i("div",{staticClass:"cell-text"},[e._v(e._s(t.ipDesc||"--"))])]),e._v(" "),i("td",[i("div",{staticClass:"cell-text"},[e._v(e._s(t.os||"--"))])]),e._v(" "),e.editable?i("td",{staticClass:"action-column"},[i("bk-button",{attrs:{text:""},on:{click:function(i){return e.handleRemove(t.realId)}}},[e._v(e._s("移除"))])],1):e._e()])})),0):e._e()]],2),e._v(" "),e.isShowMorePage?i("div",{staticClass:"list-more",on:{click:e.handlePage}},[e._v("\n            "+e._s("查看更多")+"\n        ")]):e._e()]),e._v(" "),e.isEmpty?i("empty",{attrs:{type:e.emptyType}}):e._e()],1)};a._withStripped=!0;var n=i(79447),r=n.Z,s=(i(43312),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/host-table.vue";var o=s.exports},75016:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"mult-input"},[i("div",{ref:"input",staticClass:"input-text-area",style:e.stylees,attrs:{contenteditable:"true"},on:{input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,paste:e.handlePaste}}),e._v(" "),e.showPlaceholder?i("div",{staticClass:"mult-input-placeholder",on:{click:e.handleInputFocus}},[e._v(e._s(e.placeholder))]):e._e()])};a._withStripped=!0;var n=i(56689),r=n.Z,s=(i(17263),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/mult-input.vue";var o=s.exports},49557:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("sideslider-box",{staticClass:"server-group-host-preview",attrs:{value:e.value},on:{change:e.handleClose}},[i("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s("分组预览")+"——"+e._s(e.data.name))]),e._v(" "),i("div",{attrs:{slot:"desc"},slot:"desc"},[i("statistics-text",{attrs:{data:e.statisticsData}}),e._v(" "),i("action-extend",{attrs:{list:e.list,copyable:""}})],1),e._v(" "),i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"preview-wraper"},[i("host-table",{attrs:{list:e.list}})],1)])};a._withStripped=!0;var n=i(52885),r=n.Z,s=(i(29483),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/preview-group.vue";var o=s.exports},23793:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"choose-ip-business-topology"},[i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.topologyLoading},expression:"{ isLoading: topologyLoading }"}],staticClass:"topology-data"},[i("div",{staticClass:"topology-node-search"},[i("bk-input",{attrs:{placeholder:"搜索拓扑节点","right-icon":"bk-icon icon-search"},on:{input:e.handleNodeSearch}})],1),e._v(" "),i("div",{staticClass:"topology-node-tree"},[i("scroll-faker",[i("div",{staticClass:"wraper"},[i("bk-big-tree",{ref:"tree",attrs:{"show-link-line":"",selectable:"","expand-on-click":!1},on:{"select-change":e.handleNodeChange},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return i("div",{staticClass:"node-box"},[i("div",{staticClass:"node-name"},[e._v(e._s(a.name))]),e._v(" "),0===a.level?i("div",{staticClass:"node-filter",on:{click:e.handleFilterEmptyToggle}},[e.isRenderEmptyTopoNode?[i("Icon",{attrs:{type:"eye-slash-shape"}}),e._v(" "),i("span",[e._v(e._s("隐藏空节点"))])]:[i("Icon",{attrs:{type:"eye-shape"}}),e._v(" "),i("span",[e._v(e._s("恢复完整拓扑"))])]],2):e._e(),e._v(" "),i("div",{staticClass:"node-count"},[e._v(e._s(n.payload.count))])])}}])})],1)])],1),e._v(" "),e.isNodeEmpty?i("empty",{staticClass:"topology-empty"}):e._e()],1),e._v(" "),i("div",{staticClass:"host-list"},[i("mult-input",{staticClass:"host-search",attrs:{placeholder:"输入 主机 IP / 主机名 / 操作系统 / 云区域 进行搜索..."},on:{input:e.handleHostSearch}}),e._v(" "),i("host-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],attrs:{list:e.renderList,"is-search":e.isSearch}},[i("thead",[i("tr",[i("th",{staticStyle:{width:"10.2%"}},[i("bk-checkbox",{attrs:{value:e.isCheckedAll},nativeOn:{click:function(t){return e.handleToggleWholeAll.apply(null,arguments)}}})],1),e._v(" "),i("th",{staticStyle:{width:"18.9%"}},[e._v(e._s("主机IP"))]),e._v(" "),i("th",{staticStyle:{width:"12.8%"}},[e._v(e._s("云区域"))]),e._v(" "),i("th",{staticStyle:{width:"13.4%"}},[i("div",{staticClass:"head-cell",class:{"is-filtered":""!==e.agentFilter}},[i("span",[e._v(e._s("Agent 状态"))]),e._v(" "),i("dropdown-menu",[i("Icon",{staticClass:"filer-flag",attrs:{type:"filter-fill"}}),e._v(" "),i("div",{attrs:{slot:"menu"},slot:"menu"},[i("div",{staticClass:"dropdown-menu-item",class:{active:""===e.agentFilter},on:{click:function(t){return e.handleAgentFiler("")}}},[e._v("\n                                        "+e._s("全部")+"\n                                    ")]),e._v(" "),i("div",{staticClass:"dropdown-menu-item",class:{active:0===e.agentFilter},on:{click:function(t){return e.handleAgentFiler(0)}}},[e._v("\n                                        "+e._s("异常")+"\n                                    ")]),e._v(" "),i("div",{staticClass:"dropdown-menu-item",class:{active:1===e.agentFilter},on:{click:function(t){return e.handleAgentFiler(1)}}},[e._v("\n                                        "+e._s("正常")+"\n                                    ")])])],1)],1)]),e._v(" "),i("th",[e._v(e._s("主机名"))]),e._v(" "),i("th",{staticStyle:{width:"14.7%"}},[e._v(e._s("操作系统名称"))])])]),e._v(" "),e.renderList.length>0?i("tbody",[e._l(e.renderList,(function(t,a){return[i("tr",{key:t.realId+"_"+a,staticClass:"host-row",on:{click:function(i){return e.handleHostCheck(t)}}},[i("td",[i("bk-checkbox",{attrs:{checked:!!e.checkedMap[t.realId]}})],1),e._v(" "),i("td",[i("div",{staticClass:"cell-text"},[e._v(e._s(t.displayIp))])]),e._v(" "),i("td",[i("div",{staticClass:"cell-text"},[e._v(e._s(t.cloudAreaInfo.name||"--"))])]),e._v(" "),i("td",[t.alive?i("span",[i("icon",{staticStyle:{"vertical-align":"middle"},attrs:{svg:"",type:"normal"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s("正常"))])],1):i("span",[i("icon",{staticStyle:{"vertical-align":"middle"},attrs:{svg:"",type:"abnormal"}}),e._v(" "),i("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s("异常"))])],1)]),e._v(" "),i("td",[i("div",{staticClass:"cell-text"},[e._v(e._s(t.ipDesc||"--"))])]),e._v(" "),i("td",[i("div",{staticClass:"cell-text"},[e._v(e._s(t.os||"--"))])])])]}))],2):e._e()]),e._v(" "),e.pagination.pageSize>0?i("div",{staticStyle:{padding:"16px 0"}},[i("bk-pagination",{attrs:{align:"right","show-total-count":"","show-limit":!1,count:e.pagination.total,limit:e.pagination.pageSize,current:e.pagination.page,"limit-list":[e.pagination.pageSize],small:""},on:{"update:current":function(t){return e.$set(e.pagination,"page",t)},change:e.handlePageChange}})],1):e._e()],1)])};a._withStripped=!0;var n=i(65728),r=n.Z,s=(i(46772),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/render-business-topology.vue";var o=s.exports},26786:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.topologyLoading},expression:"{\n        isLoading: topologyLoading,\n    }"}],staticClass:"choose-ip-dinamic-business-topology"},[i("div",{staticClass:"node-search"},[i("bk-input",{attrs:{placeholder:"搜索拓扑节点","right-icon":"bk-icon icon-search"},on:{input:e.handleSearch}})],1),e._v(" "),e.emptyTopologyOfAllBusiness?i("empty"):[i("empty",{directives:[{name:"show",rawName:"v-show",value:e.isSearchEmpty,expression:"isSearchEmpty"}],staticClass:"topology-empty"}),e._v(" "),i("div",{staticClass:"topology-node-tree"},[i("scroll-faker",[i("bk-big-tree",{ref:"tree",attrs:{"show-link-line":"","show-checkbox":"","expand-on-click":!1},on:{"check-change":e.handleCheckChange},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.node,n=t.data;return i("div",{staticClass:"node-box"},[i("div",{staticClass:"node-name"},[e._v(e._s(n.name))]),e._v(" "),0===a.level?i("div",{staticClass:"node-filter",on:{click:e.handleFilterEmptyToggle}},[e.isRenderEmptyTopoNode?[i("Icon",{attrs:{type:"eye-slash-shape"}}),e._v(" "),i("span",[e._v(e._s("隐藏空节点"))])]:[i("Icon",{attrs:{type:"eye-shape"}}),e._v(" "),i("span",[e._v(e._s("恢复完整拓扑"))])]],2):e._e(),e._v(" "),i("div",{staticClass:"node-count"},[e._v(e._s(n.payload.count))])])}}])})],1)],1)]],2)};a._withStripped=!0;var n=i(5052),r=n.Z,s=(i(81352),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/render-dynamic-business-topology.vue";var o=s.exports},77527:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"choose-ip-dynamic-group"},[i("div",{staticClass:"group-search"},[i("bk-input",{attrs:{placeholder:"搜索分组名称","right-icon":"bk-icon icon-search"},on:{input:e.handleGroupSearch}})],1),e._v(" "),e.isLoading?e._e():[e.hasNotGroup?i("div",{staticClass:"group-empty"},[e._v("\n            "+e._s("无数据")+"，"),i("a",{attrs:{href:e.CMDBCreateGroupUrl,target:"_blank"}},[e._v(e._s("去创建"))])]):i("div",{staticClass:"group-list"},[i("host-table",{attrs:{list:e.renderList}},[i("thead",[i("tr",[i("th",{staticStyle:{width:"80px"}},[i("div",{staticClass:"head-cell"},[i("bk-checkbox",e._b({nativeOn:{click:function(t){return e.handleToggleWholeAll.apply(null,arguments)}}},"bk-checkbox",e.pageCheckInfo,!1))],1)]),e._v(" "),i("th",{staticStyle:{width:"450px"}},[e._v(e._s("分组名称"))]),e._v(" "),i("th",[e._v(e._s("操作"))])])]),e._v(" "),e.renderList.length>0?i("tbody",[e._l(e.renderList,(function(t){return[i("tr",{key:t.id,staticClass:"group-row"},[i("td",{on:{click:function(i){return e.handleGroupCheck(t.id)}}},[i("bk-checkbox",{attrs:{checked:e.checkedMap[t.id]}})],1),e._v(" "),i("td",{on:{click:function(i){return e.handleGroupCheck(t.id)}}},[e._v(e._s(t.name))]),e._v(" "),i("td",[i("bk-button",{attrs:{text:""},on:{click:function(i){return e.handlePreview(t)}}},[e._v(e._s("预览"))])],1)])]}))],2):e._e()]),e._v(" "),e.pagination.pageSize>0?i("div",{staticStyle:{padding:"16px 0"}},[i("bk-pagination",{attrs:{count:e.pagination.total,align:"right","show-total-count":"","show-limit":!1,limit:e.pagination.pageSize,current:e.pagination.page,"limit-list":[e.pagination.pageSize],small:""},on:{"update:current":function(t){return e.$set(e.pagination,"page",t)},change:e.handlePageChange}})],1):e._e()],1)]],2)};a._withStripped=!0;var n=i(91342),r=n.Z,s=(i(21882),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/render-dynamic-group.vue";var o=s.exports},46438:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"choose-ip-server-ip-input"},[i("div",{on:{click:e.handleInputClick}},[i("bk-input",{ref:"input",class:{"focus-error":e.isFocusError},attrs:{type:"textarea",rows:e.inputRows,value:e.ipInputText,placeholder:"请输入 IP 地址，多IP可用 空格 换行 ; , |分隔 \n带云区域请用冒号分隔，如（ 0:192.168.1.101 ）"},on:{change:e.handleIPChange}})],1),e._v(" "),i("div",{staticClass:"input-action"},[e.isError?i("div",{staticClass:"input-error"},[i("div",[e._v(e._s("以上内容存在错误："))]),e._v(" "),e.invalidIPList.length>0?i("div",[i("span",[e._v(e._s("IP 在本业务下不存在"))]),e._v(" "),i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"标识错误",expression:"'标识错误'"}],staticClass:"error-action",attrs:{type:"ip-audit"},on:{click:e.handleHighlightInvilad}}),e._v(" "),i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"一键清除",expression:"'一键清除'"}],staticClass:"error-action",attrs:{type:"delete"},on:{click:e.handleRemoveInvalid}})],1):e._e(),e._v(" "),e.invalidIPList.length>0&&e.errorIPList.length>0?i("div",[e._v("；")]):e._e(),e._v(" "),e.errorIPList.length>0?i("div",[i("span",[e._v(e._s("内容格式错误，无法识别"))]),e._v(" "),i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"标识错误",expression:"'标识错误'"}],staticClass:"error-action",attrs:{type:"ip-audit"},on:{click:e.handleHightlightError}}),e._v(" "),i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"一键清除",expression:"'一键清除'"}],staticClass:"error-action",attrs:{type:"delete"},on:{click:e.handleRemoveError}})],1):e._e()]):e._e(),e._v(" "),i("bk-button",{staticClass:"submit-btn",attrs:{theme:"primary",outline:"",loading:e.isSubmiting},on:{click:e.handleAddHost}},[i("span",[e._v(e._s("添加到已选择"))]),e._v(" "),e.inputItemList.length>0?i("div",{ref:"inputNumber",staticClass:"server-input-number"},[i("span",{staticClass:"text"},[e._v(e._s(e.inputItemList.length))])]):e._e()])],1)])};a._withStripped=!0;var n=i(75971),r=n.Z,s=(i(98837),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/render-ip-input.vue";var o=s.exports},29181:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"host-sideslider",duration:300}},[e.value?i("div",[i("div",{staticClass:"sideslider-box",style:e.styles},[i("div",{staticClass:"container",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"box-header"},[i("div",{staticClass:"toggle-btn",on:{click:e.handleClose}},[i("Icon",{staticClass:"btn-flag",attrs:{type:"down-small"}})],1),e._v(" "),i("div",{staticClass:"box-title"},[e._t("title"),e._v(" "),i("div",{staticClass:"desc"},[e._t("desc")],2)],2)]),e._v(" "),i("div",{staticClass:"box-content"},[i("scroll-faker",[e._t("default")],2)],1),e._v(" "),i("div",{staticClass:"box-footer"},[i("bk-button",{attrs:{theme:"primary"},on:{click:e.handleClose}},[e._v(e._s("关闭"))])],1)]),e._v(" "),i("div",{staticClass:"box-mask",on:{click:e.handleClose}})])]):e._e()])};a._withStripped=!0;var n=i(75626),r=n.Z,s=(i(88363),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/sideslider-box.vue";var o=s.exports},61007:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"statistics-text"},[e.data.success>0?[e._v("\n        "+e._s("正常")+":"),i("span",{staticClass:"success number"},[e._v(e._s(e.data.success))])]:e._e(),e._v(" "),e.data.fail>0?[e.data.success>0?i("span",{staticStyle:{"padding-left":"16px"}}):e._e(),e._v("\n        "+e._s("异常")+":"),i("span",{staticClass:"error number"},[e._v(e._s(e.data.fail))])]:e._e()],2)};a._withStripped=!0;var n=i(35647),r=n.Z,s=(i(94791),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/statistics-text.vue";var o=s.exports},96481:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("lower-component",{attrs:{level:"custom",custom:e.isShowDialog}},[i("jb-dialog",{staticClass:"choose-ip-dialog",attrs:{"mask-close":!1,"esc-close":!1,draggable:!1,width:1240,media:e.mediaWidth},model:{value:e.isShowDialog,callback:function(t){e.isShowDialog=t},expression:"isShowDialog"}},[i("div",{staticClass:"choose-ip-container",style:e.containerStyles},[e.isShowDialog?[i("div",{staticClass:"action-tab"},[i("div",{staticClass:"tab-container"},[i("div",{staticClass:"tab-item",class:{active:"static"===e.activeTab},on:{click:function(t){return e.handleTabChange("static")}}},[e._v("\n                            "+e._s("静态 - IP 选择")+"\n                        ")]),e._v(" "),i("div",{staticClass:"tab-item",class:{active:"dynamic"===e.activeTab},on:{click:function(t){return e.handleTabChange("dynamic")}}},[e._v("\n                            "+e._s("动态 - 拓扑选择")+"\n                        ")]),e._v(" "),i("div",{staticClass:"tab-item",class:{active:"group"===e.activeTab},on:{click:function(t){return e.handleTabChange("group")}}},[e._v("\n                            "+e._s("动态 - 分组选择")+"\n                        ")]),e._v(" "),i("div",{staticClass:"tab-item",class:{active:"input"===e.activeTab},on:{click:function(t){return e.handleTabChange("input")}}},[e._v("\n                            "+e._s("手动输入")+"\n                        ")])])]),e._v(" "),i("div",{staticClass:"action-content",style:e.contentStyles},[i("keep-alive",[i(e.panelCom,{ref:"dataTree",tag:"component",staticClass:"fade-in",attrs:{"preview-id":e.previewId,"topology-node-tree":e.topologyNodeTree,"ip-list":e.ipList,"topo-node-list":e.topoNodeList,"dynamic-group-list":e.dynamicGroupList,"topology-loading":e.isLoading,"dialog-height":e.dialogHeight},on:{"on-group-preview":e.handleGroupPreview,"on-input-change":e.handleInputChange,"on-input-animate":e.handleInputAnimate,"on-change":e.handleChange}})],1)],1)]:e._e()],2),e._v(" "),e.showGroupPreview?[i("preview-group",{attrs:{data:e.previewGroup},model:{value:e.showGroupPreview,callback:function(t){e.showGroupPreview=t},expression:"showGroupPreview"}})]:e._e(),e._v(" "),e.showChoosePreview?[i("preview",{attrs:{host:e.ipList,node:e.topoNodeList,group:e.dynamicGroupList},on:{"on-change":e.handlePreviewChange},model:{value:e.showChoosePreview,callback:function(t){e.showChoosePreview=t},expression:"showChoosePreview"}},[i("div",{attrs:{slot:"desc"},domProps:{innerHTML:e._s(e.actionResult)},slot:"desc"})])]:e._e(),e._v(" "),i("template",{slot:"footer"},[e.error?i("span",{staticClass:"ip-error"},[e._v(e._s(e.error))]):e._e(),e._v(" "),i("div",{staticClass:"choose-result",class:e.currentChangeClass,attrs:{id:e.previewId},domProps:{innerHTML:e._s(e.actionResult)},on:{click:e.handleShowChoosePreview}}),e._v(" "),e.ipInputStatus?i("jb-popover-confirm",{attrs:{title:"操作确认",content:"手动输入框有内容未添加到“已选择”列表，确认结束操作？","confirm-handler":e.handleSubmit}},[i("bk-button",{staticClass:"mr10",attrs:{theme:"primary"}},[e._v(e._s("确定"))])],1):e._e(),e._v(" "),e.ipInputStatus?e._e():i("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:e.handleSubmit}},[e._v("\n                "+e._s("确定")+"\n            ")]),e._v(" "),i("bk-button",{on:{click:e.handleCancle}},[e._v(e._s("取消"))])],1)],2)],1)};a._withStripped=!0;var n=i(31713),r=n.Z,s=(i(18388),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/index.vue";var o=s.exports},57027:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.value?i("div",{staticClass:"server-preview",attrs:{id:"chooseIPServerPreview"}},[i("div",{staticClass:"preview-header"},[i("div",[e._v(e._s("已选项预览"))]),e._v(" "),i("div",{staticClass:"server-description"},[i("span",{domProps:{innerHTML:e._s(e.resultText)}})])]),e._v(" "),i("scroll-faker",{staticClass:"preview-content",staticStyle:{height:"calc(100% - 118px)"}},[i("server-panel",{attrs:{"host-node-info":e.hostNodeInfo,"host-detail-append":e.getElementTarget,editable:"","render-with-empty":""},on:{"on-change":e.handleServerPanelChange}})],1),e._v(" "),i("div",{staticClass:"preview-footer"},[i("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:e.handleSubmit}},[e._v(e._s("确定"))]),e._v(" "),i("bk-button",{on:{click:e.handleClose}},[e._v(e._s("关闭"))])],1)],1):e._e()};a._withStripped=!0;var n=i(83065),r=n.Z,s=(i(95161),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/preview.vue";var o=s.exports},29637:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"server-panel",class:e.classes},[e.needRender?i("div",{staticClass:"server-result-wraper"},[i("bk-collapse",{model:{value:e.activePanel,callback:function(t){e.activePanel=t},expression:"activePanel"}},[e.hostList.length>0||e.renderWithEmpty?i("server-host",{ref:"host",attrs:{data:e.hostList,editable:e.editable,diff:e.hostDiff},on:{"on-change":e.handleHostChange}}):e._e(),e._v(" "),e.nodeInfo.length>0||e.renderWithEmpty?i("server-node",{ref:"node",attrs:{data:e.nodeInfo,editable:e.editable,diff:e.nodeDiff},on:{"on-view":e.handleView,"on-change":e.handleNodeChange}}):e._e(),e._v(" "),e.groupList.length>0||e.renderWithEmpty?i("server-group",{ref:"group",attrs:{data:e.groupList,editable:e.editable,diff:e.groupDiff},on:{"on-view":e.handleView,"on-change":e.handleGroupChange}}):e._e()],1)],1):e._e(),e._v(" "),i("lower-component",{attrs:{level:"custom",custom:e.showDetail}},[i("host-detail",{attrs:{data:e.viewInfo,append:e.hostDetailAppend},model:{value:e.showDetail,callback:function(t){e.showDetail=t},expression:"showDetail"}})],1),e._v(" "),i("lower-component",{attrs:{level:"custom",custom:e.searchMode}},[i("host-search",{directives:[{name:"show",rawName:"v-show",value:e.searchMode,expression:"searchMode"}],attrs:{data:e.searchData,editable:e.editable},on:{"on-change":e.handleSearchChange}})],1)],1)};a._withStripped=!0;var n=i(55674),r=n.Z,s=(i(15962),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/server-panel.vue";var o=s.exports},66897:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-collapse-item",{attrs:{name:"group"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}]},[e.isRequestError?e._e():i("host-table",{attrs:{"max-height":410,list:e.list,"append-nums":e.invalidList.length}},[e.invalidList.length>0?i("tbody",{staticClass:"invalid-list",attrs:{slot:"appendBefore"},slot:"appendBefore"},e._l(e.invalidList,(function(t,a){return i("tr",{key:"invalid_"+a},[i("td",{staticClass:"table-cell"},[i("span",{staticClass:"invalid",attrs:{"tippy-tips":"该分组在配置平台已被删除"}},[e._v(e._s("无效"))]),e._v(" "),i("span",[e._v(e._s(t))])]),e._v(" "),i("td",{attrs:{colspan:"2"}},[e._v("--")]),e._v(" "),e.editable?i("td",{staticClass:"action-column"},[i("bk-button",{attrs:{text:""},on:{click:function(t){return e.handleInvalidRemove(a)}}},[e._v("\n                                "+e._s("移除")+"\n                            ")])],1):e._e()])})),0):e._e(),e._v(" "),i("tbody",{staticClass:"valid-list"},e._l(e.list,(function(t,a){return i("tr",{key:a,class:e.diff[t.id]},[i("td",{staticStyle:{width:"40%",cursor:"pointer"},on:{click:function(i){return e.handleView(t.id)}}},[e._v("\n                            "+e._s(t.name)+"\n                        ")]),e._v(" "),i("td",{staticStyle:{width:"150px"}},[i("div",{staticClass:"cell-text"},[e._v("共"),i("span",{staticClass:"number strong"},[e._v(e._s(t.total))]),e._v("台主机")])]),e._v(" "),i("td",{on:{click:function(i){return e.handleView(t.id)}}},[i("statistics-text",{staticStyle:{cursor:"pointer"},attrs:{data:t}})],1),e._v(" "),e.editable?i("td",{staticClass:"action-column"},[i("bk-button",{attrs:{text:""},on:{click:function(t){return e.handleRemove(a)}}},[e._v("\n                                "+e._s("移除")+"\n                            ")])],1):e._e()])})),0)]),e._v(" "),e.isRequestError?i("bk-exception",{staticStyle:{"padding-bottom":"50px"},attrs:{type:"500"}},[i("div",{staticStyle:{display:"flex","font-size":"14px"}},[i("span",[e._v("数据拉取失败，请")]),e._v(" "),i("bk-button",{attrs:{text:""},on:{click:e.handleRefresh}},[e._v("重试")])],1)]):e._e()],1)]},proxy:!0}])},[i("span",{staticClass:"panel-title"},[i("span",[e._v(e._s("已选择"))]),e._v(" "),i("span",{staticClass:"strong number"},[e._v(e._s(e.data.length))]),e._v(" "),i("span",[e._v(e._s("个动态分组"))])]),e._v(" "),e.editable?i("action-extend",[i("div",{staticClass:"action-item",on:{click:e.handleRemoveAll}},[e._v(e._s("移除全部"))])]):e._e()],1)};a._withStripped=!0;var n=i(11838),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/choose-ip/view/group.vue";var o=s.exports},54476:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"hostDetail",staticClass:"choose-ip-host-detail"},[i("sideslider-box",{attrs:{value:e.show},on:{change:e.handleClose}},[i("div",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.data.name))]),e._v(" "),i("div",{attrs:{slot:"desc"},slot:"desc"},[i("statistics-text",{attrs:{slot:"desc",data:e.data},slot:"desc"}),e._v(" "),i("action-extend",{attrs:{list:e.list,copyable:""}})],1),e._v(" "),i("host-table",{attrs:{list:e.list}})],1)],1)};a._withStripped=!0;var n=i(58860),r=n.Z,s=(i(65819),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/view/host-detail.vue";var o=s.exports},18164:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"server-search-panel"},[i("div",{staticClass:"search-header"},[i("span",[i("span",[e._v(e._s("已筛选出")),i("span",{staticClass:"strong number"},[e._v(e._s(e.list.length))]),e._v(e._s("个IP"))]),e._v(" "),e.statisticsData.fail?i("span",[e._v("（"),i("span",{staticClass:"error"},[e._v(e._s(e.statisticsData.fail))]),e._v(e._s("台Agent异常")+"）")]):e._e()]),e._v(" "),i("action-extend",{attrs:{list:e.list,copyable:""}},[e.editable?[i("div",{staticClass:"action-item",on:{click:e.handleRemoveAll}},[e._v(e._s("移除全部"))]),e._v(" "),i("div",{staticClass:"action-item",on:{click:e.handleRemoveFail}},[e._v(e._s("移除异常"))])]:e._e()],2)],1),e._v(" "),i("host-table",{attrs:{list:e.list,editable:"","is-search":""},on:{"on-change":e.handleRemoveOne}})],1)};a._withStripped=!0;var n=i(37e3),r=n.Z,s=(i(98022),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/view/host-search.vue";var o=s.exports},41306:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-collapse-item",{attrs:{name:"host"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}]},[e.isRequestError?e._e():i("host-table",{attrs:{editable:e.editable,list:e.list,"max-height":410,"append-nums":e.invalidList.length,diff:e.diff},on:{"on-change":e.handleRemoveOne}},[e.invalidList.length>0?i("tbody",{staticClass:"invalid-list",attrs:{slot:"appendBefore"},slot:"appendBefore"},e._l(e.invalidList,(function(t){return i("tr",{key:t.realId},[i("td",{staticClass:"table-cell"},[i("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"指主机已不属于该业务，或已不存在",expression:"'指主机已不属于该业务，或已不存在'"}],staticClass:"invalid"},[e._v("\n                                "+e._s("无效")+"\n                            ")]),e._v(" "),i("span",[e._v(e._s(t.ip))])]),e._v(" "),i("td",[e._v("--")]),e._v(" "),i("td",[e._v("--")]),e._v(" "),i("td",[e._v("--")]),e._v(" "),i("td",[e._v("--")]),e._v(" "),e.editable?i("td",{staticClass:"action-column"},[i("bk-button",{attrs:{text:""},on:{click:function(i){return e.handleInvalidRemove(t)}}},[e._v(e._s("移除"))])],1):e._e()])})),0):e._e()]),e._v(" "),e.isRequestError?i("bk-exception",{staticStyle:{"padding-bottom":"50px"},attrs:{type:"500"}},[i("div",{staticStyle:{display:"flex","font-size":"14px"}},[i("span",[e._v("数据拉取失败，请")]),e._v(" "),i("bk-button",{attrs:{text:""},on:{click:e.handleRefresh}},[e._v("重试")])],1)]):e._e()],1)]},proxy:!0}])},[i("span",{staticClass:"panel-title"},[i("span",[e._v(e._s("已选择")),i("span",{staticClass:"strong number"},[e._v(e._s(e.data.length))]),e._v(e._s("台主机"))]),e._v(" "),e.statisticsData.fail?i("span",[e._v("（"),i("span",{staticClass:"error number"},[e._v(e._s(e.statisticsData.fail))]),e._v(e._s("台Agent异常")+"）")]):e._e()]),e._v(" "),i("action-extend",{attrs:{list:e.list,copyable:"","invalid-list":e.invalidList}},[e.editable?[i("div",{staticClass:"action-item",on:{click:e.handleRemoveAll}},[e._v(e._s("移除全部"))]),e._v(" "),i("div",{staticClass:"action-item",on:{click:e.handleRemoveFail}},[e._v(e._s("移除异常"))])]:e._e()],2)],1)};a._withStripped=!0;var n=i(34525),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/choose-ip/view/host.vue";var o=s.exports},64784:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-collapse-item",{attrs:{name:"node"},scopedSlots:e._u([{key:"content",fn:function(){return[i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"server-panel-node-view"},[e.isRequestError?e._e():i("host-table",{attrs:{"max-height":410,list:e.list,"append-nums":e.invalidList.length}},[e.invalidList.length>0?i("tbody",{staticClass:"invalid-list",attrs:{slot:"appendBefore"},slot:"appendBefore"},e._l(e.invalidList,(function(t,a){return i("tr",{key:"invalid_"+a},[i("td",{staticClass:"table-cell"},[i("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"该节点在配置平台已被删除",expression:"'该节点在配置平台已被删除'"}],staticClass:"invalid"},[e._v("\n                                "+e._s("无效")+"\n                            ")]),e._v(" "),i("span",[e._v(e._s(t.type)+"#"+e._s(t.id))])]),e._v(" "),i("td",{attrs:{colspan:"2"}},[e._v("--")]),e._v(" "),e.editable?i("td",{staticClass:"action-column"},[i("bk-button",{attrs:{text:""},on:{click:function(t){return e.handleInvalidRemove(a)}}},[e._v("\n                                "+e._s("移除")+"\n                            ")])],1):e._e()])})),0):e._e(),e._v(" "),i("tbody",{staticClass:"valid-list"},e._l(e.list,(function(t,a){return i("tr",{key:t.key,class:e.diff[t.key]},[i("td",{staticStyle:{width:"40%",cursor:"pointer"},on:{click:function(i){return e.handleViewHostList(t.key)}}},[i("div",{staticClass:"cell-text"},[e._v("\n                                "+e._s(e.wholePathMap[t.key]||t.name)+"\n                            ")])]),e._v(" "),i("td",{staticStyle:{width:"150px"}},[t.isHostLoading?i("Icon",{staticClass:"loading-status",attrs:{svg:"",type:"sync-pending"}}):i("div",{staticClass:"cell-text"},[i("span",[e._v(e._s("共"))]),e._v(" "),i("span",{staticClass:"number strong"},[e._v(e._s(t.total))]),e._v(" "),i("span",[e._v(e._s("台主机"))])])],1),e._v(" "),i("td",{on:{click:function(i){return e.handleViewHostList(t.key)}}},[t.isHostLoading?e._e():i("statistics-text",{staticStyle:{cursor:"pointer"},attrs:{data:t}})],1),e._v(" "),e.editable?i("td",{staticClass:"action-column"},[i("bk-button",{attrs:{text:""},on:{click:function(t){return e.handleRemoveOne(a)}}},[e._v("\n                                "+e._s("移除")+"\n                            ")])],1):e._e()])})),0)]),e._v(" "),e.isRequestError?i("bk-exception",{staticStyle:{"padding-bottom":"50px"},attrs:{type:"500"}},[i("div",{staticStyle:{display:"flex","font-size":"14px"}},[i("span",[e._v("数据拉取失败，请")]),e._v(" "),i("bk-button",{attrs:{text:""},on:{click:e.handleRefresh}},[e._v("重试")])],1)]):e._e()],1)]},proxy:!0}])},[i("span",{staticClass:"panel-title"},[i("span",[e._v(e._s("已选择"))]),e._v(" "),i("span",{staticClass:"strong number"},[e._v(e._s(e.data.length))]),e._v(" "),i("span",[e._v(e._s("个节点"))])]),e._v(" "),e.editable?i("action-extend",[i("div",{staticClass:"action-item",on:{click:e.handleRemoveAll}},[e._v(e._s("移除全部"))])]):e._e()],1)};a._withStripped=!0;var n=i(42135),r=n.Z,s=(i(8025),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/choose-ip/view/node.vue";var o=s.exports},15621:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"detailLayout",staticClass:"jb-detail-layout",class:[e.mode,e.layout]},[e._t("default")],2)};a._withStripped=!0;var n=i(74339),r=n.Z,s=(i(67854),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/detail-layout/index.vue";var o=s.exports},4027:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"detail-item",class:"design-layout-"+e.layout},[i("div",{staticClass:"detail-label"},[i("span",[e._v(e._s(e.label))])]),e._v(" "),i("div",{staticClass:"detail-content"},[e._t("default")],2)])};a._withStripped=!0;var n=i(3558),r=n.Z,s=(i(31552),(0,i(35471).Z)(r,a,[],!1,null,"c6328928",null));s.options.__file="src/components/detail-layout/item.vue";var o=s.exports},44492:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"variable-value-error":e.isError}},[i("bk-input",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.descPopover,expression:"descPopover"}],ref:"input",attrs:{value:e.value,readonly:e.readonly},on:{change:e.handleChange}}),e._v(" "),e.isError?i("p",{staticClass:"variable-error"},[e._v(e._s("该变量的值必填"))]):e._e()],1)};a._withStripped=!0;var n=i(65788),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/global-variable/edit/array.vue";var o=s.exports},18277:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"variable-type-host",class:{"variable-value-error":e.isError}},[i("div",[i("div",[i("bk-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.descPopover,expression:"descPopover"}],staticClass:"mr10",on:{click:e.handleChooseIp}},[i("Icon",{attrs:{type:"plus"}}),e._v("\n                "+e._s("添加服务器")+"\n            ")],1),e._v(" "),i("bk-button",{directives:[{name:"show",rawName:"v-show",value:e.isNotEmpty,expression:"isNotEmpty"}],on:{click:e.handleClear}},[e._v("\n                "+e._s("清空")+"\n            ")])],1),e._v(" "),i("server-panel",{directives:[{name:"show",rawName:"v-show",value:e.isNotEmpty,expression:"isNotEmpty"}],ref:"choostIP",staticClass:"host-value-panel",attrs:{"host-node-info":e.hostNodeInfo,"detail-fullscreen":"",editable:!e.readonly},on:{"on-change":e.handleChange}}),e._v(" "),e.isError?i("p",{staticClass:"variable-error"},[e._v(e._s("该变量的值必填"))]):e._e()],1),e._v(" "),i("choose-ip",{attrs:{"host-node-info":e.hostNodeInfo},on:{"on-change":e.handleChange},model:{value:e.isShowChooseIp,callback:function(t){e.isShowChooseIp=t},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var n=i(93415),r=n.Z,s=(i(52252),(0,i(35471).Z)(r,a,[],!1,null,"6ae70b44",null));s.options.__file="src/components/global-variable/edit/host.vue";var o=s.exports},81920:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"varBox",staticClass:"global-variable-edit-box",class:e.boxClasses},[i("div",{ref:"varName",staticClass:"variable-name"},[i("span",{staticClass:"name-text"},[e._v(e._s(e.data.name))])]),e._v(" "),i("div",{ref:"varValue",staticClass:"variable-value"},[i(e.typeCom,e._g(e._b({ref:"target",tag:"component",attrs:{data:e.data,placement:e.placement}},"component",e.$attrs,!1),e.$listeners))],1)])};a._withStripped=!0;var n=i(45484),r=n.Z,s=(i(85717),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/global-variable/edit/index.vue";var o=s.exports},58333:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"variable-value-error":e.isError}},[i("bk-input",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.descPopover,expression:"descPopover"}],ref:"input",attrs:{value:e.value,readonly:e.readonly},on:{change:e.handleChange}}),e._v(" "),e.isError?i("p",{staticClass:"variable-error"},[e._v("\n        "+e._s("该变量的值必填")+"\n    ")]):e._e()],1)};a._withStripped=!0;var n=i(22392),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/global-variable/edit/namespace.vue";var o=s.exports},38886:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"variable-value-error":e.isError}},[i("bk-input",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.descPopover,expression:"descPopover"}],ref:"input",attrs:{type:"password",value:e.value,readonly:e.readonly},on:{change:e.handleChange}}),e._v(" "),e.isError?i("p",{staticClass:"variable-error"},[e._v("\n        "+e._s("该变量的值必填")+"\n    ")]):e._e()],1)};a._withStripped=!0;var n=i(98886),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/global-variable/edit/password.vue";var o=s.exports},262:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:{"variable-value-error":e.isError},staticStyle:{position:"relative"}},[i("bk-input",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.descPopover,expression:"descPopover"}],ref:"input",attrs:{value:e.value,readonly:e.readonly},on:{change:e.handleChange}}),e._v(" "),e.isError?i("p",{staticClass:"variable-error"},[e._v(e._s("该变量的值必填"))]):e._e()],1)};a._withStripped=!0;var n=i(93812),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/global-variable/edit/string.vue";var o=s.exports},52189:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"layout",class:e.classes},[e._t("default")],2)};a._withStripped=!0;var n=i(38283),r=n.Z,s=(i(82049),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/global-variable/layout.vue";var o=s.exports},75552:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"toggle-display"},[i("div",{staticClass:"action",class:{open:e.isOpen},on:{click:e.handleToggle}},[e.isOpen?[i("Icon",{staticClass:"toggle-arrow",attrs:{type:"angle-double-up"}}),e._v(" "),i("span",[e._v(e._s("收起未引用的变量")+" ("+e._s(e.count)+")")])]:[i("Icon",{staticClass:"toggle-arrow",attrs:{type:"angle-double-down"}}),e._v(" "),i("span",[e._v(e._s("展开未引用的变量")+" ("+e._s(e.count)+")")])]],2),e._v(" "),e.isOpen?i("div",[e._t("default")],2):e._e()])};a._withStripped=!0;var n=i(97471),r=n.Z,s=(i(1538),(0,i(35471).Z)(r,a,[],!1,null,"a75387bc",null));s.options.__file="src/components/global-variable/toggle-display.vue";var o=s.exports},39170:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.data.isEmpty?i("div",[e._v("--")]):i("server-panel",{attrs:{"host-node-info":e.data.defaultTargetValue.hostNodeInfo,"detail-fullscreen":""}})],1)};a._withStripped=!0;var n=i(49517),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/global-variable/view/host.vue";var o=s.exports},97388:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"global-variable-detail",class:e.classes},[i("div",{staticClass:"variable-name"},[i("span",[e._v(e._s(e.data.name)+"：")])]),e._v(" "),i("div",{staticClass:"variable-value"},[i(e.typeCom,e._g(e._b({ref:"value",tag:"component",attrs:{data:e.data}},"component",e.$attrs,!1),e.$listeners))],1)])};a._withStripped=!0;var n=i(14396),r=n.Z,s=(i(32779),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/global-variable/view/index.vue";var o=s.exports},87718:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("span",[e._v("\n    "+e._s(e.data.defaultValue)+"\n")])};a._withStripped=!0;var n=i(86358),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/global-variable/view/text.vue";var o=s.exports},12584:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"jb-collapse-item"},[i("bk-collapse-item",e._g(e._b({ref:"collapseItem",attrs:{"hide-arrow":""},scopedSlots:e._u([{key:"default",fn:function(){return[i("Icon",{attrs:{type:e.iconType}}),e._v(" "),i("span",{staticStyle:{display:"none"}},[e._v(e._s(e.iconType))]),e._v(" "),e._t("default")]},proxy:!0},{key:"content",fn:function(){return[e._t("content")]},proxy:!0}],null,!0)},"bk-collapse-item",e.$attrs,!1),e.$listeners))],1)};a._withStripped=!0;var n=i(50188),r=n.Z,s=(i(79012),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/jb-collapse-item/index.vue";var o=s.exports},32660:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"jb-edit-host",class:e.mode},[i("div",{staticClass:"render-value-box",on:{click:function(t){return t.stopPropagation(),e.handleBlockShowEdit.apply(null,arguments)}}},[i("div",{staticClass:"value-text"},[e._t("default",(function(){return[i("div",{staticStyle:{"margin-left":"-4px"},domProps:{innerHTML:e._s(e.renderHtml)}})]}),{value:e.localValue})],2),e._v(" "),i("div",{staticClass:"edit-action-box"},[e.isBlock||e.isSubmiting?e._e():i("Icon",{staticClass:"edit-action",attrs:{type:"edit-2"},on:{click:function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),e.handleShowEdit.apply(null,arguments))}}}),e._v(" "),e.isSubmiting?i("Icon",{staticClass:"edit-loading",attrs:{type:"loading-circle"}}):e._e()],1)]),e._v(" "),i("choose-ip",{attrs:{"host-node-info":e.localValue.hostNodeInfo},on:{"on-change":e.handleHostChange},model:{value:e.isShowChooseIp,callback:function(t){e.isShowChooseIp=t},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var n=i(25031),r=n.Z,s=(i(4484),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/jb-edit/host.vue";var o=s.exports},36894:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{key:e.value,staticClass:"jb-edit-input",class:e.mode},[e.isEditing?[i("div",{staticClass:"edit-value-box",class:{"edit-error":!!e.error},on:{click:function(e){e.stopPropagation()}}},[i("bk-input",{ref:"input",attrs:{value:e.newVal},on:{change:e.handleInputChange,blur:e.handleInputBlur,keyup:e.handleInputEnter}}),e._v(" "),e.error?i("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:e.error,expression:"error",modifiers:{top:!0}}],staticClass:"input-edit-info"},[i("Icon",{attrs:{type:"info"}})],1):e._e()],1)]:[i("div",{staticClass:"render-value-box",on:{click:function(t){return t.stopPropagation(),e.handleBlockShowEdit.apply(null,arguments)}}},[i("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"value-text"},[e._t("default",(function(){return[i("span",[e._v(e._s(e.newVal||"--"))])]}),{value:e.newVal})],2),e._v(" "),i("div",{staticClass:"edit-action-box"},[e.isBlock||e.isSubmiting?e._e():i("Icon",{staticClass:"edit-action",attrs:{type:"edit-2"},on:{click:function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),e.handleShowEdit.apply(null,arguments))}}}),e._v(" "),e.isSubmiting?i("Icon",{staticClass:"edit-loading",attrs:{type:"loading-circle"}}):e._e()],1)])]],2)};a._withStripped=!0;var n=i(43200),r=n.Z,s=(i(937),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/jb-edit/input.vue";var o=s.exports},53823:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"jb-edit-tag",class:{shortcurt:e.shortcurt},on:{click:function(e){e.stopPropagation()}}},[e.isEditing?i("div",{staticClass:"edit-value-box"},[i("jb-tag-select",{ref:"tagSelect",attrs:{value:e.localValue},on:{"on-change":e.handleTagValueChange}})],1):i("div",{staticClass:"render-value-box",on:{click:function(t){return t.stopPropagation(),e.handleTextClick.apply(null,arguments)}}},[i("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],ref:"content",staticClass:"value-text",attrs:{"tag-edit-tag":""}},[e._t("default",(function(){return[e._v(e._s(e.text||"--"))]}),{value:e.text})],2),e._v(" "),e.isLoading?e._e():[e.shortcurt?i("div",{staticClass:"tag-shortcurt-box",on:{click:function(e){e.stopPropagation()}}},[i("div",{staticClass:"shortcurt-action-btn"},[i("Icon",{attrs:{type:"copy"},on:{click:e.handleCopy}}),e._v(" "),i("Icon",{staticClass:"paste-btn",attrs:{type:"paste"},on:{click:e.handlePaste}})],1)]):i("div",{staticClass:"tag-normal-box"},[i("Icon",{staticClass:"edit-action",attrs:{type:"edit-2"},on:{click:function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),e.handleEdit.apply(null,arguments))}}})],1)],e._v(" "),e.isLoading?i("Icon",{staticClass:"tag-edit-loading",attrs:{type:"loading-circle"}}):e._e()],2)])};a._withStripped=!0;var n=i(14179),r=n.Z,s=(i(83394),i(88608),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/jb-edit/tag.vue";var o=s.exports},28877:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"jb-edit-textarea",class:e.mode},[e.isEditing?i("div",{on:{click:function(e){e.stopPropagation()}}},[i("jb-textarea",e._b({ref:"input",staticClass:"edit-value-box",attrs:{rows:e.rows},on:{blur:e.handleInputBlur},model:{value:e.newVal,callback:function(t){e.newVal=t},expression:"newVal"}},"jb-textarea",e.$attrs,!1))],1):i("div",{staticClass:"render-value-box",on:{click:function(t){return t.stopPropagation(),e.handleBlockShowEdit.apply(null,arguments)}}},[i("div",{ref:"valueTextBox",staticClass:"render-text-box",style:e.boxStyles,on:{copy:e.handleCopy}},[e._t("default",(function(){return[e._v(e._s(e.renderText))]}),{value:e.newVal}),e._v(" "),e.isShowMore?i("span",{staticClass:"text-whole",on:{click:function(t){return t.stopPropagation(),e.handleExpandAll.apply(null,arguments)}}},[e.isExpand?[i("Icon",{staticStyle:{"font-size":"12px"},attrs:{type:"angle-double-up"}}),e._v(" "),i("span",[e._v("收起")])]:[i("Icon",{staticStyle:{"font-size":"12px"},attrs:{type:"angle-double-down"}}),e._v(" "),i("span",[e._v("展开")])]],2):e._e()],2),e._v(" "),e.readonly?e._e():i("div",{staticClass:"edit-action-box"},[e.isBlock||e.isSubmiting?e._e():i("Icon",{staticClass:"edit-action",attrs:{type:"edit-2"},on:{click:function(t){return t.target!==t.currentTarget?null:(t.stopPropagation(),e.handleShowInput.apply(null,arguments))}}}),e._v(" "),e.isSubmiting?i("Icon",{staticClass:"edit-loading",attrs:{type:"loading-circle"}}):e._e()],1)])])};a._withStripped=!0;var n=i(56828),r=n.Z,s=(i(95185),(0,i(35471).Z)(r,a,[],!1,null,"7f35b0da",null));s.options.__file="src/components/jb-edit/textarea.vue";var o=s.exports},2645:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("search-select",e._g(e._b({ref:"searchSelect",staticClass:"jb-search-select",attrs:{placeholder:e.placeholder,data:e.data,"show-condition":!1,values:e.searchValue},on:{change:e.handleChange}},"search-select",e.$attrs,!1),e.$listeners))};a._withStripped=!0;var n=i(80995),r=n.Z,s=(i(25902),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/jb-search-select/index.vue";var o=s.exports},52113:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",e._b({ref:"searchSelect",staticClass:"jb-bk-search-select",class:{focused:e.focused},on:{click:e.handleSearchSelectClick}},"div",e.$attrs,!1),[i("div",{ref:"wrap",staticClass:"search-select-wrap"},[i("div",{ref:"tagGroup",staticClass:"search-tag-group",style:e.tagGroupStyles},[e._l(e.renderTagList,(function(t,a){return i("render-tag",{key:t.id+"_"+a,ref:"tag",refInFor:!0,attrs:{index:a,data:t},on:{delete:e.handleTagDelete,focus:e.handleInputFocus,change:e.handleTagChange}})})),e._v(" "),e.isShowTagMultLine?i("div",{key:"multPlaceholder",staticClass:"mult-tag-placeholder"},[e._v("...")]):e._e(),e._v(" "),i("div",{key:"input",ref:"input",staticClass:"search-input-box",style:e.searchInputBoxStyles,on:{click:function(e){e.stopPropagation()}}},[i("div",{staticStyle:{position:"absolute",top:"-9999px",left:"-9999px"}},[i("pre",{ref:"realInputContent",staticStyle:{display:"block",font:"inherit",visibility:"hidden"}},[e._v(e._s(e.localValue))])]),e._v(" "),i("div",{staticStyle:{"min-height":"22px","word-break":"break-all","white-space":"normal",visibility:"hidden"}},[e._v(e._s(e.localValue))]),e._v(" "),i("textarea",{directives:[{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:e.handleInputOutSide,expression:"handleInputOutSide"}],ref:"textarea",staticClass:"input-box",attrs:{placeholder:e.placeholderText,spellcheck:"false"},domProps:{value:e.localValue},on:{focus:e.handleInputFocus,input:e.handleInputChange,keydown:e.handleInputKeydown}})]),e._v(" "),e.focused?e._m(0):e._e()],2),e._v(" "),i("div",{staticClass:"search-nextfix"},[e.isClearable?i("i",{staticClass:"search-clear bk-icon icon-close-circle-shape",on:{click:function(t){return t.target!==t.currentTarget?null:e.handleClearAll.apply(null,arguments)}}}):e._e(),e._v(" "),e._t("nextfix",(function(){return[i("i",{staticClass:"bk-icon icon-search search-nextfix-icon",class:{"is-focus":e.focused},on:{click:function(t){return t.stopPropagation(),e.handleSubmit.apply(null,arguments)}}})]}))],2)]),e._v(" "),e.validateStr.length?i("div",{staticClass:"bk-select-tips"},[e._t("validate",(function(){return[i("i",{staticClass:"bk-icon icon-exclamation-circle-shape select-tips"}),e._v(e._s(e.validateStr||"")+"\n        ")]}))],2):e._e()])};a._withStripped=!0;var n=i(42063),r=n.Z,s=(i(14545),(0,i(35471).Z)(r,a,[function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticStyle:{"margin-top":"4px","font-size":"12px","line-height":"22px",color:"#c4c6cc"}},[e._v("\n                "+e._s(e.inputTips)+"\n            ")])}],!1,null,null,null));s.options.__file="src/components/jb-search-select/search-select/index.vue";var o=s.exports},47939:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return a.X},default:function(){return s}});var a=i(17245),n=a.Z,r=(0,i(35471).Z)(n,undefined,undefined,!1,null,null,null);r.options.__file="src/components/jb-search-select/search-select/key-menu.vue";var s=r.exports},60311:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return a.X},default:function(){return s}});var a=i(12445),n=a.Z,r=(0,i(35471).Z)(n,undefined,undefined,!1,null,null,null);r.options.__file="src/components/jb-search-select/search-select/render-tag.vue";var s=r.exports},35157:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return a.X},default:function(){return s}});var a=i(94359),n=a.Z,r=(0,i(35471).Z)(n,undefined,undefined,!1,null,null,null);r.options.__file="src/components/jb-search-select/search-select/suggest-menu.vue";var s=r.exports},47047:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return a.X},default:function(){return s}});var a=i(17851),n=a.Z,r=(0,i(35471).Z)(n,undefined,undefined,!1,null,null,null);r.options.__file="src/components/jb-search-select/search-select/value-menu.vue";var s=r.exports},15578:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"job-tag-select"},[i("bk-select",{ref:"select",attrs:{searchable:"",multiple:"","display-tag":"",clearable:!1,value:e.realValue},on:{change:e.handleChange}},[e._l(e.list,(function(e){return i("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),e._v(" "),e.publicScript?e._e():i("template",{slot:"extension"},[i("auth-component",{attrs:{auth:"tag/create"}},[i("div",{on:{click:e.handleCreate}},[i("i",{staticClass:"bk-icon icon-plus-circle mr10"}),e._v(e._s("新建标签")+"\n                ")]),e._v(" "),i("div",{attrs:{slot:"forbid"},slot:"forbid"},[i("i",{staticClass:"bk-icon icon-plus-circle mr10"}),e._v(e._s("新建标签")+"\n                ")])])],1)],2),e._v(" "),i("lower-component",{attrs:{level:"custom",custom:e.isShowCreate}},[i("operation-tag",{on:{"on-change":e.handleTagNew},model:{value:e.isShowCreate,callback:function(t){e.isShowCreate=t},expression:"isShowCreate"}})],1)],1)};a._withStripped=!0;var n=i(41541),r=n.Z,s=(i(50114),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/jb-tag-select/index.vue";var o=s.exports},6922:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"jb-user-selector",class:{disabled:e.isLoading}},[e.isLoading?e._e():i("user-selector",e._b({attrs:{value:e.defaultValue,"disabled-users":e.disabledUsers,"list-scroll-height":300,"history-key":e.historyKey,"default-alternate":e.formatDefaultAlternate,"fuzzy-search-method":e.handleFuzzySearch,"render-tag":e.renderTag,"render-list":e.renterMerberItem},on:{change:e.handleChange}},"user-selector",e.$attrs,!1))],1)};a._withStripped=!0;var n=i(31185),r=n.Z,s=(i(36467),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/jb-user-selector/index.vue";var o=s.exports},80712:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(e,t){var i=t._c;return i("div",{staticClass:"list-action-layout"},[i("div",{staticClass:"right-box"},[t._t("default")],2),t._v(" "),i("div",{staticClass:"left-box"},[t._t("right")],2)])};a._withStripped=!0;i(26151);var n=(0,i(35471).Z)({},a,[],!0,null,null,null);n.options.__file="src/components/list-action-layout/index.vue";var r=n.exports},47009:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"list-operation-extend"},[i("Icon",{staticClass:"icon",attrs:{type:"more"}}),e._v(" "),i("div",{ref:"content",staticClass:"list-operation-extend-wrapper",on:{click:e.handleClick}},[e._t("default")],2)],1)};a._withStripped=!0;var n=i(43462),r=n.Z,s=(i(94348),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/list-operation-extend/index.vue";var o=s.exports},60174:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-dialog",{staticClass:"job-tag-create-dialog",attrs:{value:e.value,title:e.dialogInfo.title,"header-position":"left","mask-close":!1,width:480}},[e.value?i("jb-form",{ref:"formRef",staticStyle:{"margin-top":"5px"},attrs:{model:e.formData,"form-type":"vertical",rules:e.rules}},[i("jb-form-item",{attrs:{label:"标签名称",required:"",property:"name"}},[i("jb-input",{attrs:{maxlength:20,"native-attributes":{autofocus:!0}},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("jb-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"描述"}},[i("bk-input",{attrs:{type:"textarea",maxlength:100},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1)],1):e._e(),e._v(" "),i("template",{slot:"footer"},[i("bk-button",{staticClass:"mr10",attrs:{theme:"primary",loading:e.isSubmiting},on:{click:e.handleSubmit}},[e._v("\n            "+e._s(e.dialogInfo.okText)+"\n        ")]),e._v(" "),i("bk-button",{on:{click:e.handleCancel}},[e._v(e._s("取消"))])],1)],2)};a._withStripped=!0;var n=i(45637),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/operation-tag/index.vue";var o=s.exports},27452:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"test",rawName:"v-test",value:{type:"data",value:"table"},expression:"{ type: 'data', value: 'table' }"},{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],ref:"renderList",staticClass:"jb-render-list"},[e.isRendered?i("bk-table",e._g(e._b({attrs:{"default-sort":e.defaultSort,data:e.data,pagination:e.realPagination,"max-height":e.tableMaxHeight,width:"100%"},on:{"sort-change":e.handleSort,"page-change":e.handlePageChange,"page-limit-change":e.handleLimitChange}},"bk-table",e.$attrs,!1),e.$listeners),[i("template",{slot:"prepend"},[e.selectNums>0?i("div",{staticClass:"jb-table-select-tips"},[i("span",[e._v(e._s("已选择")),i("span",{staticClass:"number strong"},[e._v(e._s(e.selectNums))]),e._v(e._s("条"))]),e._v(" "),i("span",{staticClass:"action-clear",on:{click:e.handleClearAllSelect}},[e._v("，"+e._s("清除所有勾选"))])]):e._e(),e._v(" "),e._t("prepend")],2),e._v(" "),e.selectable?i("bk-table-column",{key:"listSelect",attrs:{"render-header":e.renderHeader,width:"70"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("bk-checkbox",{attrs:{checked:!!e.rowSelectMemo[a[e.primaryKey]]},on:{change:function(t){return e.handleRowSelect(a,t)}}})]}}],null,!1,696268871)}):e._e(),e._v(" "),e._t("default"),e._v(" "),e.isRequesting?i("div",{staticStyle:{height:"200px"},attrs:{slot:"empty"},slot:"empty"}):e.isSearching?i("Empty",{attrs:{slot:"empty",type:"search"},slot:"empty"},[i("div",[i("div",{staticStyle:{"font-size":"14px",color:"#63656e"}},[e._v(e._s("搜索结果为空"))]),e._v(" "),i("div",{staticStyle:{"margin-top":"8px","font-size":"12px","line-height":"16px",color:"#979ba5"}},[i("span",[e._v(e._s("可以尝试调整关键词"))]),e._v(" "),e.searchControl?[i("span",[e._v(e._s("或"))]),e._v(" "),i("bk-button",{attrs:{text:""},on:{click:e.handleClearSearch}},[e._v("\n                            "+e._s("清空搜索条件")+"\n                        ")])]:e._e()],2)])]):e._e()],2):e._e()],1)};a._withStripped=!0;var n=i(59042),r=n.Z,s=(i(47161),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/render-list/index.vue";var o=s.exports},83797:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"render-server-agent"},[e.isLoading?i("Icon",{staticClass:"rotate-loading",attrs:{svg:"",type:"sync-pending"}}):i("div",{staticClass:"agent-text",on:{click:e.handleShowDetail}},[e.data.normalNum>0?i("div",[e._v("\n            "+e._s("正常")+":"),i("span",{staticClass:"success number"},[e._v(e._s(e.data.normalNum))])]):e._e(),e._v(" "),e.data.abnormalNum>0?i("div",[e.data.normalNum>0?i("span",{staticClass:"splite"}):e._e(),e._v("\n            "+e._s("异常")+":"),i("span",{staticClass:"error number"},[e._v(e._s(e.data.abnormalNum))])]):e._e(),e._v(" "),e.isEmpty?i("span",[e._v("--")]):e._e()]),e._v(" "),i("lower-component",{attrs:{level:"custom",custom:e.isShowDetail}},[i("jb-dialog",{staticClass:"render-server-detail-dialog",attrs:{width:1020,"ok-text":"关闭"},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"variable-title"},[i("span",[e._v(e._s(e.title))]),e._v(" "),i("i",{staticClass:"global-variable-dialog-close bk-icon icon-close",on:{click:e.handleClose}})])]},proxy:!0}]),model:{value:e.isShowDetail,callback:function(t){e.isShowDetail=t},expression:"isShowDetail"}},[e._v(" "),i("div",{staticClass:"content-wraper"},[i("scroll-faker",[i("server-panel",{attrs:{"detail-mode":"dialog","host-node-info":e.hostNodeInfo}})],1)],1)])],1)],1)};a._withStripped=!0;var n=i(39795),r=n.Z,s=(i(26100),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/render-server-agent/index.vue";var o=s.exports},38061:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"job-smart-input"},[i("div",{ref:"input",staticClass:"job-smart-input-area",style:e.stylees,attrs:{contenteditable:"true",spellcheck:"false"},on:{input:e.handleInput,focus:e.handleFocus,blur:e.handleBlur,paste:e.handlePaste}}),e._v(" "),e.showPlaceholder?i("div",{staticClass:"job-smart-input-placeholder",on:{click:e.handleInputFocus}},[e._v(e._s(e.placeholder))]):e._e()])};a._withStripped=!0;var n=i(66525),r=n.Z,s=(i(97978),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/smart-input/index.vue";var o=s.exports},27559:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form-item",{attrs:{label:"错误处理"}},[i("div",{staticClass:"error-handle-wraper"},[i("bk-checkbox",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.tips,expression:"tips"}],attrs:{value:e.formData[e.field],"true-value":1,"false-value":0},on:{change:e.handleChange}},[e._v("\n            "+e._s("自动忽略错误")+"\n        ")])],1)])};a._withStripped=!0;var n=i(67114),r=n.Z,s=(i(98582),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/common/error-handle.vue";var o=s.exports},27564:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"task-step-execute-target",class:{"only-host":"onlyHost"===e.mode}},[i("jb-form-item",{ref:"targetServerRef",attrs:{label:"目标服务器",required:"",property:e.property,rules:e.rules}},[i("div",{staticStyle:{display:"flex"}},["onlyHost"===e.mode?[i("bk-button",{staticClass:"mr10",on:{click:e.handleShowChooseIp}},[i("Icon",{attrs:{type:"plus"}}),e._v("\n                    "+e._s("添加服务器")+"\n                ")],1)]:[i("compose-form-item",[i("bk-select",{style:e.targetSelectorStyle,attrs:{value:e.targetType,clearable:!1},on:{change:e.handleTargetTypeChange}},[i("bk-option",{attrs:{id:"variable",name:"全局变量"}}),e._v(" "),i("bk-option",{attrs:{id:"hostNodeInfo",name:"手动添加"}})],1),e._v(" "),e.isGolbalVariableType?[i("bk-select",{staticClass:"server-global-variable-select",attrs:{placeholder:"请选择主机列表变量",value:e.localVariable,clearable:!1},on:{change:e.handleVariableChange}},e._l(e.variable,(function(e,t){return i("bk-option",{key:t,attrs:{id:e.name,name:e.name}})})),1)]:[i("bk-button",{staticClass:"w120 mr10",on:{click:e.handleShowChooseIp}},[i("Icon",{attrs:{type:"plus"}}),e._v("\n                            "+e._s("添加服务器")+"\n                        ")],1)]],2)],e._v(" "),e.isShowServerAction?[i("bk-dropdown-menu",[i("bk-button",{staticClass:"mr10",attrs:{slot:"dropdown-trigger",type:"primary"},slot:"dropdown-trigger"},[i("span",[e._v(e._s("复制IP"))]),e._v(" "),i("Icon",{staticClass:"action-flag",attrs:{type:"down-small"}})],1),e._v(" "),i("ul",{staticClass:"bk-dropdown-list",attrs:{slot:"dropdown-content"},slot:"dropdown-content"},[i("li",[i("a",{on:{click:e.handleCopyAll}},[e._v(e._s("全部IP"))])]),e._v(" "),i("li",[i("a",{on:{click:e.handleCopyFail}},[e._v(e._s("异常IP"))])])])],1),e._v(" "),i("bk-button",{staticClass:"mr10",on:{click:e.handleClearAll}},[i("span",[e._v(e._s("清空"))])]),e._v(" "),i("bk-button",{attrs:{type:"primary"},on:{click:e.handleRefreshHost}},[e._v("\n                    "+e._s("刷新状态")+"\n                ")])]:e._e(),e._v(" "),e.isShowHostSearchInput?i("bk-input",{staticClass:"ip-search",attrs:{value:e.searchText,placeholder:"筛选主机","right-icon":"bk-icon icon-search"},on:{change:e.handleHostSearch}}):e._e()],2),e._v(" "),i("lower-component",{attrs:{level:"custom",custom:e.isShowServerPanel}},[i("server-panel",{directives:[{name:"show",rawName:"v-show",value:e.isShowServerPanel,expression:"isShowServerPanel"}],ref:"serverPanel",staticClass:"view-server-panel",attrs:{"host-node-info":e.localHost,"search-mode":Boolean(e.searchText),"search-data":e.searchData,editable:""},on:{"on-change":e.handleHostChange}})],1)],1),e._v(" "),i("choose-ip",{attrs:{"host-node-info":e.localHost},on:{"on-change":e.handleHostChange},model:{value:e.isShowChooseIp,callback:function(t){e.isShowChooseIp=t},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var n=i(9059),r=n.Z,s=(i(25653),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/common/execute-target/index.vue";var o=s.exports},73524:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form-item",{attrs:{label:e.label,required:"",property:e.field,rules:e.rules}},[i("jb-input",{staticClass:"form-item-content",attrs:{placeholder:e.placeholder,value:e.formData[e.field],maxlength:60},on:{change:e.handleChange}})],1)};a._withStripped=!0;var n=i(51346),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/common/name/index.vue";var o=s.exports},78669:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"source-file-action-extend",on:{click:function(e){e.stopPropagation()},mouseleave:e.handleHide}},[i("Icon",{attrs:{type:"more"}}),e._v(" "),i("div",{ref:"popoverContent",staticClass:"source-file-action-content",on:{click:e.handleWraperClick,mouseover:e.handleShow,mouseleave:e.handleClose}},[e._t("default")],2)],1)};a._withStripped=!0;var n=i(91889),r=n.Z,s=(i(65855),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/components/action-extend.vue";var o=s.exports},71336:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"editBox",staticClass:"edit-source-file",class:{"path-error":!!e.error},attrs:{"data-error":e.error}},["edit"===e.mode?[i("div",{staticClass:"path-text",style:e.styles,on:{click:e.handleShowEdit}},[i("bk-popover",{attrs:{placement:"right"}},[e._l(e.displayRows,(function(t,a){return i("div",{key:a,staticClass:"path-text-row"},[e._v("\n                    "+e._s(t)+"\n                ")])})),e._v(" "),e.hasMore?i("div",[e._v("...")]):e._e(),e._v(" "),i("ul",{staticClass:"source-file-tips-box",attrs:{slot:"content"},slot:"content"},e._l(e.renderValue,(function(t,a){return i("li",{key:a,staticClass:"row"},[i("span",{staticClass:"dot"}),e._v("\n                        "+e._s(t)+"\n                    ")])})),0)],2)],1),e._v(" "),e.showEdit?i("smart-input",{ref:"pathEdit",staticClass:"file-path-edit",attrs:{placeholder:"Enter 换行可输入多个路径",value:e.tempValue},on:{input:e.handleEditChange,blur:e.handleEditSubmit}}):e._e()]:e._e(),e._v(" "),"input"===e.mode?[i("smart-input",{ref:"pathSubmit",staticClass:"file-path-create",attrs:{placeholder:"Enter 换行可输入多个路径"},on:{input:e.handleCreateSubmit,blur:e.handleCreteaBlur}})]:e._e(),e._v(" "),e.error?i("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.error,expression:"error"}],staticClass:"error-flag"},[i("Icon",{attrs:{type:"info"}})],1):e._e()],2)};a._withStripped=!0;var n=i(47997),r=n.Z,s=(i(46261),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/components/edit-file-path.vue";var o=s.exports},80241:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("jb-form-item",{ref:"item",attrs:{label:"源文件",required:"",property:e.field,rules:e.rules}},[i("div",[i("bk-button",{staticClass:"mr10",on:{click:e.handleAddServerFile}},[i("Icon",{attrs:{type:"plus"}}),e._v("\n                "+e._s("添加服务器文件")+"\n            ")],1),e._v(" "),e.ENABLE_FEATURE_FILE_MANAGE?i("bk-button",{staticClass:"mr10",on:{click:e.handleAddSourceFile}},[i("Icon",{attrs:{type:"plus"}}),e._v("\n                "+e._s("添加文件源文件")+"\n            ")],1):e._e(),e._v(" "),i("bk-button",{staticClass:"mr10",attrs:{loading:e.isConfigLoading},on:{click:e.handlerUploadLocalFile}},[i("Icon",{attrs:{type:"plus"}}),e._v("\n                "+e._s("添加本地文件")+"\n            ")],1),e._v(" "),i("span",{staticClass:"source-file-tips"},[e._v("\n                "+e._s("添加本地文件会有同名文件覆盖风险")+"\n                "),i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.uploadFileTipsConfig,expression:"uploadFileTipsConfig"}],staticClass:"tips-flag",attrs:{type:"info"}})],1)],1),e._v(" "),i("view-file",e._b({directives:[{name:"show",rawName:"v-show",value:e.showFileView,expression:"showFileView"}],ref:"serverFileView",staticClass:"source-file-view",attrs:{data:e.sourceFileList},on:{"on-change":e.handleSourceFileChange},model:{value:e.isAddServerFile,callback:function(t){e.isAddServerFile=t},expression:"isAddServerFile"}},"view-file",e.$attrs,!1))],1),e._v(" "),i("div",{staticClass:"upload-file-tips",attrs:{id:"uploadFileTips"}},[i("div",{staticClass:"row"},[e._v(e._s("支持中文文件名，本地上传文件大小不能超过")+" "+e._s(e.fileMaxUploadSize))]),e._v(" "),i("div",{staticClass:"row"},[e._v(e._s("文件名支持使用通配符，如： /tmp/jobsvr_2020*"))]),e._v(" "),i("div",{staticClass:"row"},[e._v(e._s("文件名支持正则表达式写法以匹配多个文件，文件名前 需加 REGEX: 前缀，如：/tmp/REGEX:myfile-[A-Za-z]{0,10}"))]),e._v(" "),i("div",{staticClass:"row"},[e._v(e._s("如需分发文件目录，文件名请以/结束"))])])],1)};a._withStripped=!0;var n=i(30638),r=n.Z,s=(i(7550),(0,i(35471).Z)(r,a,[],!1,null,"a1452c10",null));s.options.__file="src/components/task-step/common/source-file/index.vue";var o=s.exports},47010:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"source-file-edit-view-box",class:e.mode?e.mode:"normal"},[i("bk-collapse",{model:{value:e.activeResult,callback:function(t){e.activeResult=t},expression:"activeResult"}},[i("jb-collapse-item",{directives:[{name:"show",rawName:"v-show",value:e.isShowLocalFile,expression:"isShowLocalFile"}],attrs:{"content-hidden-type":"hidden",name:"local",active:e.activeResult},scopedSlots:e._u([{key:"content",fn:function(){return[i("local-file",e._b({ref:"localFile",attrs:{data:e.localFileList},on:{"on-change":e.handleLocalFileChange}},"local-file",e.$attrs,!1))]},proxy:!0}])},[i("span",[i("span",[e._v(e._s("已选择")),i("span",{staticClass:"number strong"},[e._v(e._s(e.localFileList.length))]),e._v(e._s("个本地文件"))]),e._v(" "),i("action-extend",[i("div",{staticClass:"action-item",on:{click:e.handleRemoveAllLocal}},[e._v(e._s("移除全部"))])])],1)]),e._v(" "),i("jb-collapse-item",{directives:[{name:"show",rawName:"v-show",value:e.isShowSourceFile,expression:"isShowSourceFile"}],attrs:{"content-hidden-type":"hidden",name:"source",active:e.activeResult},scopedSlots:e._u([{key:"content",fn:function(){return[i("source-file",{ref:"sourceFile",attrs:{data:e.sourceFileList},on:{"on-change":e.handleSourceFileChange}})]},proxy:!0}])},[i("span",[e._v(e._s("已选择")),i("span",{staticClass:"number strong"},[e._v(e._s(e.sourceFileList.length))]),e._v(e._s("个源文件文件"))])]),e._v(" "),i("jb-collapse-item",{directives:[{name:"show",rawName:"v-show",value:e.isShowServerFile,expression:"isShowServerFile"}],attrs:{"content-hidden-type":"hidden",name:"server",active:e.activeResult},scopedSlots:e._u([{key:"content",fn:function(){return[i("server-file",e._b({attrs:{mode:e.mode,data:e.serverFileList},on:{"on-change":e.handleServerFileChange,"on-close":e.handleServerClose}},"server-file",e.$attrs,!1))]},proxy:!0}])},[i("span",[e._v(e._s("已选择")),i("span",{staticClass:"number strong"},[e._v(e._s(e.serverFileList.length))]),e._v(e._s("个服务器文件"))])])],1)],1)};a._withStripped=!0;var n=i(71152),r=n.Z,s=(i(20257),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/index.vue";var o=s.exports},26782:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("table",[i("tbody",e._l(e.fileList,(function(t,a){return i("tr",{key:a},[i("td",{staticStyle:{width:"40%"}},[e._v(e._s(t.fileLocationText))]),e._v(" "),i("td",{staticStyle:{width:"auto"}},[t.fileSize>0?["danger"!==t.uploadStatus?i("p",[e._v("\n                            "+e._s("本地文件")+"（"+e._s(t.fileSizeText)+"）\n                        ")]):i("p",{staticStyle:{color:"#ff5656"}},[e._v("\n                            "+e._s("上传失败")+"\n                        ")]),e._v(" "),i("div",{staticClass:"upload-progress"},[i("transition",{attrs:{name:"fade"}},[i("bk-progress",{directives:[{name:"show",rawName:"v-show",value:1!==t.uploadProgress,expression:"row.uploadProgress !== 1"}],attrs:{theme:t.uploadStatus,"show-text":!1,percent:t.uploadProgress}})],1)],1)]:e._e()],2),e._v(" "),i("td",[i("div",{staticClass:"action-box"},[i("bk-button",{attrs:{text:""},on:{click:function(t){return e.handlerRemove(a)}}},[e._v("\n                            "+e._s("移除")+"\n                        ")])],1)])])})),0)]),e._v(" "),i("input",{ref:"uploadInput",staticStyle:{position:"absolute",width:"0",height:"0",opacity:"0%"},attrs:{type:"file",multiple:""},on:{change:e.handleStartUpload}})])};a._withStripped=!0;var n=i(23072),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/common/source-file/view/local.vue";var o=s.exports},54691:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tbody",{key:e.reset,staticClass:"create-server-file"},[e.hasSaved?i("tr",[i("td",{attrs:{colspan:"4"}},[i("bk-button",{attrs:{text:""},on:{click:e.handleAddNew}},[i("Icon",{attrs:{type:"plus"}}),e._v("\n                "+e._s("添加一行")+"\n            ")],1)],1),e._v(" "),i("td")]):i("tr",[i("td",[i("edit-file-path",{attrs:{value:e.serverFile.fileLocation,mode:"input"},on:{"on-change":e.handleFileChange}})],1),e._v(" "),e.serverFile.isHostEmpty?[i("td",{attrs:{colspan:"2"}},[i("div",{staticClass:"server-add-btn"},[i("bk-select",{ref:"serverTypeSelect",staticClass:"server-type-select",staticStyle:{width:"78px"},attrs:{value:e.sourceFileType,"popover-width":85,"ext-popover-cls":"server-file-popover-class",clearable:!1},on:{change:e.handleSourceFileTypeChange}},[i("bk-option",{attrs:{id:"globalVar",name:"全局变量"}}),e._v(" "),i("bk-option",{attrs:{id:"manualAddition",name:"手动添加"}})],1),e._v(" "),i("div",{staticClass:"line"}),e._v(" "),"globalVar"===e.sourceFileType?[i("bk-select",{staticClass:"server-add-variable",attrs:{placeholder:"请选择主机列表变量",value:e.serverFile.host.variable,clearable:!1,searchable:""},on:{change:e.handleVariableChange}},e._l(e.variable,(function(e,t){return i("bk-option",{key:t,attrs:{id:e.name,name:e.name}})})),1)]:[i("div",{staticClass:"server-add-host",on:{click:e.handleShowChooseIp}},[i("Icon",{staticClass:"add-flag",attrs:{type:"plus"}}),e._v("\n                            "+e._s("添加服务器")+"\n                        ")],1)]],2)])]:[i("td",[i("div",{staticClass:"file-edit-server",on:{click:e.handleShowChooseIp}},[i("p",{domProps:{innerHTML:e._s(e.serverFile.serverDesc)}})])]),e._v(" "),i("td",[e._v("--")])],e._v(" "),i("td",[i("account-select",{staticClass:"account-add-btn",attrs:{value:e.serverFile.account,type:"system"},on:{change:e.handleAccountChange}})],1),e._v(" "),i("td",[i("bk-button",{attrs:{text:""},on:{click:e.handlerSave}},[e._v("\n                "+e._s("保存")+"\n            ")]),e._v(" "),i("bk-button",{attrs:{text:""},on:{click:e.handlerCancel}},[e._v(e._s("取消"))])],1)],2),e._v(" "),i("choose-ip",{ref:"chooseIp",on:{"on-change":e.handleHostChange},model:{value:e.isShowChooseIp,callback:function(t){e.isShowChooseIp=t},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var n=i(48800),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/common/source-file/view/server/host-and-variable.vue";var o=s.exports},74654:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"server-file-edit-box"},[i("table",[i("thead",[i("th",[e._v(e._s("文件路径"))]),e._v(" "),i("th",[e._v(e._s("服务器列表"))]),e._v(" "),i("th",[e._v(e._s("Agent 状态"))]),e._v(" "),i("th",[e._v(e._s("服务器账号"))]),e._v(" "),i("th",[e._v(e._s("操作"))])]),e._v(" "),i("tbody",e._l(e.serverFileList,(function(t,a){return i("tr",{key:a},[i("td",[i("edit-file-path",{attrs:{value:t.fileLocation},on:{"on-change":function(t){return e.handleFilePathEdit(t,a)}}})],1),e._v(" "),i("td",[t.isVar?i("div",{staticClass:"global-variable-render-box",class:{"value-error":!t.host.variable},staticStyle:{"margin-left":"-10px"}},[i("bk-select",{staticClass:"variable-edit-select",attrs:{value:t.host.variable,clearable:!1,searchable:""},on:{change:function(t){return e.handleVariableChange(t,a)}}},e._l(e.variable,(function(e,t){return i("bk-option",{key:t,attrs:{id:e.name,name:e.name}})})),1),e._v(" "),t.host.variable?e._e():i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"全局变量被删除，重新设置",expression:"'全局变量被删除，重新设置'"}],staticClass:"error-tips",attrs:{type:"info"}})],1):i("div",{staticClass:"server-edit-btn",domProps:{innerHTML:e._s(t.serverDesc)},on:{click:function(t){return e.handleHostEdit(a)}}})]),e._v(" "),i("td",[t.isVar?i("render-server-agent",{key:t.serverDesc,attrs:{title:"全局变量 - "+t.host.variable,"host-node-info":e.findVariableValue(t.serverDesc),separator:e.agentSeparator}}):i("render-server-agent",{key:"host",attrs:{title:"服务器文件-服务器列表","host-node-info":t.host.hostNodeInfo,separator:e.agentSeparator}})],1),e._v(" "),i("td",[i("account-select",{staticClass:"account-add-btn",attrs:{value:t.account,type:"system"},on:{change:function(t){return e.handleAccountChange(t,a)}}})],1),e._v(" "),i("td",[i("bk-button",{attrs:{text:""},on:{click:function(t){return e.handlerRemove(a)}}},[e._v("\n                        "+e._s("移除")+"\n                    ")])],1)])})),0),e._v(" "),i(e.addCom,e._b({key:"add",tag:"component",attrs:{data:e.serverFileList,account:e.accountList,variable:e.variable},on:{"on-change":e.handleAddSave,"on-cancel":e.handleAddCancel}},"component",e.$attrs,!1))],1),e._v(" "),i("lower-component",{attrs:{level:"custom",custom:e.isShowChooseIp}},[i("choose-ip",{attrs:{required:"","host-node-info":e.currentHost},on:{"on-change":e.handleHostChange},model:{value:e.isShowChooseIp,callback:function(t){e.isShowChooseIp=t},expression:"isShowChooseIp"}})],1)],1)};a._withStripped=!0;var n=i(70990),r=n.Z,s=(i(86291),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/server/index.vue";var o=s.exports},83040:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tbody",{staticClass:"create-server-file"},[e.hasSaved?i("tr",[i("td",{attrs:{colspan:"4"}},[i("bk-button",{attrs:{text:""},on:{click:e.handleAddNew}},[i("Icon",{attrs:{type:"plus"}}),e._v("\n                "+e._s("添加一行")+"\n            ")],1)],1),e._v(" "),i("td")]):i("tr",[i("td",[i("edit-file-path",{attrs:{value:e.serverFile.fileLocation,mode:"input"},on:{"on-change":e.handleFileChange}})],1),e._v(" "),e.serverFile.isHostEmpty?[i("td",[i("div",{staticClass:"server-add-only-host-btn",on:{click:e.handleShowChooseIp}},[i("Icon",{staticClass:"add-flag",attrs:{type:"plus"}}),e._v("\n                    "+e._s("添加服务器")+"\n                ")],1)]),e._v(" "),i("td")]:[i("td",[i("div",{staticClass:"server-edit-btn",on:{click:e.handleShowChooseIp}},[i("div",{domProps:{innerHTML:e._s(e.serverFile.serverDesc)}})])]),e._v(" "),i("td")],e._v(" "),i("td",[i("account-select",{staticClass:"account-add-btn",attrs:{value:e.serverFile.account,type:"system"},on:{change:e.handleAccountChange}})],1),e._v(" "),i("td",[i("bk-button",{attrs:{text:""},on:{click:e.handlerSave}},[e._v("\n                "+e._s("保存")+"\n            ")]),e._v(" "),i("bk-button",{attrs:{text:""},on:{click:e.handlerCancel}},[e._v(e._s("取消"))])],1)],2),e._v(" "),i("choose-ip",{ref:"chooseIp",on:{"on-change":e.handleHostChange},model:{value:e.isShowChooseIp,callback:function(t){e.isShowChooseIp=t},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var n=i(16021),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/common/source-file/view/server/only-host.vue";var o=s.exports},89415:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-dialog",{staticClass:"choose-source-file",attrs:{value:e.value,"header-position":"left","esc-close":!1,"mask-close":!1,width:1200,title:"选择文件源文件"},on:{input:e.handleCancle},scopedSlots:e._u([{key:"footer",fn:function(){return[i("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:e.handleSubmit}},[i("span",[e._v(e._s("添加"))]),e._v(" "),e.isSelectedEmpty?e._e():i("span",{staticClass:"result-nums"},[e._v(e._s(e.fileLocation.length))])]),e._v(" "),i("bk-button",{on:{click:e.handleCancle}},[e._v(e._s("取消"))])]},proxy:!0}])},[i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}]},[e.value?i(e.panelCom,{tag:"component",staticClass:"dialog-content",attrs:{"file-source-id":e.fileSourceId,"file-location":e.fileLocation},on:{"on-source-change":e.handleSourceChange,"on-file-change":e.handelFileChange}}):e._e()],1)])};a._withStripped=!0;var n=i(1327),r=n.Z,s=(i(65688),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/source/components/choose-source-file/index.vue";var o=s.exports},33221:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"sleect-source-file"},[i("list-action-layout",{scopedSlots:e._u([{key:"right",fn:function(){return[i("jb-input",{staticStyle:{width:"480px"},attrs:{placeholder:"搜索“所有文件源”","right-icon":"bk-icon icon-search"},on:{change:e.handleSearch}})]},proxy:!0}])},[i("jb-breadcrumb",{attrs:{width:645}},[i("jb-breadcrumb-item",[i("Icon",{staticStyle:{"font-size":"20px"},attrs:{type:"folder-open"}}),e._v(" "),i("span",[e._v(e._s("请选择文件源"))])],1)],1)],1),e._v(" "),i("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],attrs:{data:e.tableData,"max-height":"500","highlight-current-row":!0}},[i("bk-table-column",{attrs:{width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",{domProps:{innerHTML:e._s(a.publicFlagHtml)}})]}}])}),e._v(" "),i("bk-table-column",{attrs:{label:"文件源别名",prop:"alias",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.isAvailable?i("auth-button",{attrs:{auth:"file_source/view",permission:a.canView,"resource-id":a.id,text:""},on:{click:function(t){return e.handleGoBucket(a)}}},[e._v("\n                    "+e._s(a.alias)+"\n                ")]):i("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"接入点异常，暂时不可用",expression:"'接入点异常，暂时不可用'"}]},[i("bk-button",{attrs:{disabled:"",text:""}},[e._v(e._s(a.alias))])],1)]}}])}),e._v(" "),i("bk-table-column",{attrs:{label:"文件源标识",prop:"code","show-overflow-tooltip":"",sortable:""}}),e._v(" "),i("bk-table-column",{attrs:{label:"状态",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("Icon",{attrs:{type:a.statusIcon,svg:""}}),e._v("\n                "+e._s(a.statusText)+"\n            ")]}}])}),e._v(" "),i("bk-table-column",{attrs:{label:"类型",prop:"create_time"},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.row;return[e._v("\n                "+e._s(i.storageTypeText)+"\n            ")]}}])}),e._v(" "),i("bk-table-column",{attrs:{label:"更新人",prop:"creator"}}),e._v(" "),i("bk-table-column",{attrs:{label:"更新时间",prop:"lastModifyTime"}})],1)],1)};a._withStripped=!0;var n=i(88380),r=n.Z,s=(i(80413),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/source/components/choose-source-file/select-file-source.vue";var o=s.exports},34850:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"select-bucket"},[i("list-action-layout",{scopedSlots:e._u([{key:"right",fn:function(){return[i("jb-input",{staticStyle:{width:"480px"},attrs:{placeholder:"搜索关键字","right-icon":"bk-icon icon-search","enter-trigger":""},on:{submit:e.handleSearch}})]},proxy:!0}])},[i("jb-breadcrumb",{key:e.fileSourceInfo.alias+"_"+e.path,attrs:{width:645},on:{"on-last":e.handleBackLast}},[i("jb-breadcrumb-item",[i("Icon",{staticStyle:{"font-size":"20px"},attrs:{type:"folder-open"}}),e._v(" "),i("span",{on:{click:e.handleGoSourceList}},[e._v(e._s("文件源列表"))])],1),e._v(" "),i("jb-breadcrumb-item",[i("span",{on:{click:function(t){return e.handlePathLocation("")}}},[e._v(e._s(e.fileSourceInfo.alias))])]),e._v(" "),e._l(e.pathStack,(function(t){return i("jb-breadcrumb-item",{key:t.path},[i("span",{on:{click:function(i){return e.handlePathLocation(t.path)}}},[e._v(e._s(t.name))])])}))],2)],1),e._v(" "),i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}]},[i("bk-table",{attrs:{pagination:e.pagination,data:e.tableData},on:{"page-change":e.handlePageChange}},[e._l(e.renderColumns,(function(t,a){return[i("render-file-list-column",{key:e.path+"_"+a+"_"+e.isLoading+"_"+e.wholeTableRowSelect,attrs:{column:t,"row-selection":e.rowSelectMemo,"render-header":e.renderHeader,"link-handler":e.handleLink,"select-handler":e.handleRowSelect}})]}))],2)],1)],1)};a._withStripped=!0;var n=i(12989),r=n.Z,s=(i(9679),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/source/components/choose-source-file/select-file.vue";var o=s.exports},34014:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"render-source-file-name"},[i("bk-popover",{attrs:{placement:"left"}},[e._l(e.renderData,(function(t,a){return i("div",{key:a,staticClass:"path-text-row"},[e._v("\n            "+e._s(t)+"\n        ")])})),e._v(" "),e.hasMore?i("div",[e._v("...")]):e._e(),e._v(" "),i("ul",{staticClass:"source-file-tips-box",attrs:{slot:"content"},slot:"content"},e._l(e.data,(function(t,a){return i("li",{key:a,staticClass:"row"},[i("span",{staticClass:"dot"}),e._v("\n                "+e._s(t)+"\n            ")])})),0)],2)],1)};a._withStripped=!0;var n=i(60592),r=n.Z,s=(i(65647),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/source/components/render-file-name.vue";var o=s.exports},69385:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"render-file-source-name"},[i("div",{on:{click:function(t){return e.handleGoFileSource(e.fileSourceId)}}},[e._v("\n        "+e._s(e.fileSourceAlias||"--")+"\n        "),i("Icon",{staticClass:"link-flag",attrs:{type:"edit",svg:""}})],1)])};a._withStripped=!0;var n=i(42),r=n.Z,s=(i(26047),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/source/components/render-source-name.vue";var o=s.exports},509:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("table",[i("thead",[i("th",{staticStyle:{width:"40%"}},[e._v(e._s("文件名称"))]),e._v(" "),i("th",{staticStyle:{width:"auto"}},[e._v(e._s("文件源"))]),e._v(" "),i("th",[e._v(e._s("操作"))])]),e._v(" "),i("tbody",e._l(e.list,(function(t,a){return i("tr",{key:a},[i("td",[i("div",{staticClass:"path-text-style",on:{click:function(t){return e.handleEditSourceFile(a)}}},[i("render-file-name",{attrs:{data:t.fileLocation}})],1)]),e._v(" "),i("td",[i("render-source-name",{attrs:{"file-source-id":t.fileSourceId}})],1),e._v(" "),i("td",[i("div",{staticClass:"action-box"},[i("bk-button",{attrs:{text:""},on:{click:function(t){return e.handlerRemove(a)}}},[e._v(e._s("移除"))])],1)])])})),0)]),e._v(" "),i("lower-component",{attrs:{level:"custom",custom:e.isShowSourceFile}},[i("choose-source-file",{attrs:{"source-file":e.data[e.editSourceFileIndex]||{}},on:{"on-change":e.handleSourceFileChange},model:{value:e.isShowSourceFile,callback:function(t){e.isShowSourceFile=t},expression:"isShowSourceFile"}})],1)],1)};a._withStripped=!0;var n=i(77079),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/common/source-file/view/source/index.vue";var o=s.exports},43807:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("jb-form-item",{attrs:{label:"超时时长"}},[i("div",{staticClass:"form-item-content",on:{mouseenter:e.handleMouseenter,mouseleave:e.handleMouseleave}},[i("bk-input",{ref:"input",attrs:{type:"number",value:e.formData[e.field],palceholder:"此处留空将默认为7200s",min:1,max:86400,precision:0},on:{focus:e.handleInputFocus,blur:e.handleInputBlur,change:e.handleChange}},[i("template",{slot:"append"},[i("div",{staticClass:"group-text"},[e._v("s")])])],2)],1)]),e._v(" "),i("div",{staticStyle:{display:"none"}},[i("div",{ref:"tips",on:{mouseleave:e.handleMouseleave,mouseenter:e.handleTipsMouseenter}},[e._v("\n            "+e._s("允许最小 1s，最大为 86400s")+"\n        ")])])],1)};a._withStripped=!0;var n=i(12606),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/common/timeout.vue";var o=s.exports},70007:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(e,t){var i=t._c;return i("div",{staticClass:"card-box"},[i("div",{staticClass:"card-title"},[t._v(t._s(t.props.title))]),t._v(" "),t._t("default")],2)};a._withStripped=!0;i(58730);var n=(0,i(35471).Z)({},a,[],!0,null,"1ae41d9f",null);n.options.__file="src/components/task-step/file/card-layout.vue";var r=n.exports},2699:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.itemCom,e._g(e._b({tag:"component"},"component",e.$attrs,!1),e.$listeners))};a._withStripped=!0;var n=i(33238),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/file/item-factory.vue";var o=s.exports},42875:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form-item",{attrs:{label:"执行账号",required:"",property:e.field,rules:e.rules}},[i("account-select",{staticClass:"form-item-content",attrs:{value:e.formData[e.field],type:"system"},on:{change:e.handleChange}})],1)};a._withStripped=!0;var n=i(9455),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/file/strategy/execute-account.vue";var o=s.exports},32105:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("source-file",{attrs:{mode:"onlyHost",data:e.fileSources,field:e.field},on:{"on-change":e.handleSourceFileChange}})};a._withStripped=!0;var n=i(54225),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/file/strategy/source-file-of-execution.vue";var o=s.exports},51397:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("source-file",{attrs:{data:e.fileSources,variable:e.variable,field:e.field},on:{"on-change":e.handleSourceFileChange}})};a._withStripped=!0;var n=i(5401),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/file/strategy/source-file-of-template.vue";var o=s.exports},77006:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"push-speed-limit"},[i("jb-form-item",{attrs:{label:e.label}},[i("div",{staticClass:"speed-limit-wraper"},[i("div",{staticClass:"speed-limit-content form-item-content"},[i("bk-checkbox",{attrs:{value:e.enabled},on:{change:e.handleEnableChange}},[e._v("\n                    "+e._s("启用限速")+"\n                ")]),e._v(" "),i("bk-input",{directives:[{name:"show",rawName:"v-show",value:e.enabled,expression:"enabled"}],staticClass:"speed-limit-input",attrs:{value:e.formData[e.field]},on:{change:e.handleChange}},[i("template",{slot:"append"},[i("div",{staticClass:"group-text"},[e._v("MB/s")])])],2)],1),e._v(" "),i("Icon",{directives:[{name:"show",rawName:"v-show",value:e.enabled,expression:"enabled"},{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.speedLimitTipsConfig,expression:"speedLimitTipsConfig"}],staticClass:"tips-flag",attrs:{type:"info"}})],1)]),e._v(" "),i("div",{staticClass:"speed-limit-tips",attrs:{id:"targetPathTips"}},[i("div",{staticClass:"row"},[e._v(e._s("请根据机器的网卡情况酌情配置速率，以免影响其他服务的正常使用；"))]),e._v(" "),i("div",{staticClass:"row"},[e._v(e._s("未开启时，将按 Agent 默认配置规则限速 （Agent会根据机器资源使用情况，有自身保护机制）"))])])],1)};a._withStripped=!0;var n=i(33116),r=n.Z,s=(i(32650),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/file/strategy/speed-limit.vue";var o=s.exports},92578:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("jb-form-item",{attrs:{label:"目标路径",required:"",property:e.field,rules:e.rules}},[i("div",{staticClass:"form-item-content",on:{mouseenter:e.handleMouseenter,mouseleave:e.handleMouseleave}},[i("bk-input",{ref:"input",attrs:{placeholder:"请填写分发路径",value:e.formData[e.field]},on:{focus:e.handleInputFocus,blur:e.handleInputBlur,change:e.handleChange}})],1)]),e._v(" "),i("div",{staticStyle:{display:"none"}},[i("div",{ref:"targetPathTips",staticClass:"target-path-tips",on:{mouseleave:e.handleMouseleave,mouseenter:e.handleTipsMouseenter}},[i("div",{staticClass:"row"},[e._v(e._s("传输至linux服务器需以/开头的绝对路径，如：/data/xx"))]),e._v(" "),i("div",{staticClass:"row"},[e._v(e._s("传输至Windows服务器需包含盘符开头，如：D:\\tmp\\"))]),e._v(" "),i("div",{staticClass:"row"},[i("div",[e._v(e._s("目标路径支持的内置变量：（点击可直接复制使用）"))]),e._v(" "),i("table",{staticClass:"target-path-demo"},[i("thead",[i("tr",[i("th",[e._v(e._s("变量名称"))]),e._v(" "),i("th",[e._v(e._s("含义"))]),e._v(" "),i("th",[e._v(e._s("示例"))])])]),e._v(" "),i("tbody",[i("tr",[i("td",{on:{click:function(t){return e.handleCopy("[FILESRCIP]")}}},[i("div",{staticClass:"copy-box"},[i("span",{staticClass:"copy-value"},[e._v("[FILESRCIP]")]),e._v(" "),i("span",{staticClass:"copy-tips"},[e._v(e._s("点击复制"))])])]),e._v(" "),i("td",[e._v(e._s("源服务器IP"))]),e._v(" "),i("td",[e._v("0_192.168.0.100")])]),e._v(" "),i("tr",[i("td",{on:{click:function(t){return e.handleCopy("[DATE:yyyy-MM-dd]")}}},[i("div",{staticClass:"copy-box"},[i("span",{staticClass:"copy-value"},[e._v("[DATE:yyyy-MM-dd]")]),e._v(" "),i("span",{staticClass:"copy-tips"},[e._v(e._s("点击复制"))])])]),e._v(" "),i("td",[e._v(e._s("当前日期"))]),e._v(" "),i("td",[e._v("2021-01-01")])])])])]),e._v(" "),i("div",{staticClass:"row"},[e._v(e._s("（日期变量可传入标准的日期时间格式，如 yyyy-MM-dd_HH:mm:ss）"))])])])],1)};a._withStripped=!0;var n=i(63909),r=n.Z,s=(i(88383),(0,i(35471).Z)(r,a,[],!1,null,"07d3ec5d",null));s.options.__file="src/components/task-step/file/strategy/target-path.vue";var o=s.exports},68229:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("execute-target",e._b({attrs:{property:"targetServers",mode:"onlyHost","task-host-node":e.formData[e.field]},on:{"on-change":e.handleTargetChange}},"execute-target",e.$attrs,!1))};a._withStripped=!0;var n=i(80121),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/file/strategy/target-server-of-execution.vue";var o=s.exports},41158:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("execute-target",e._b({attrs:{property:e.field,"task-host-node":e.formData[e.field]},on:{"on-change":e.handleTargetChange}},"execute-target",e.$attrs,!1))};a._withStripped=!0;var n=i(81274),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/file/strategy/target-server-of-template.vue";var o=s.exports},21828:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form-item",{attrs:{label:"传输模式",required:""}},[i("div",{staticClass:"form-item-content"},[i("div",{staticClass:"file-step-transfer-mode-wraper"},[i("bk-radio-group",{staticClass:"radio-check",attrs:{value:e.formData[e.field]},on:{change:e.handleChange}},[i("bk-radio",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.constraintTips,expression:"constraintTips"}],attrs:{value:2}},[e._v(e._s("强制模式"))]),e._v(" "),i("bk-radio",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.strictTips,expression:"strictTips"}],attrs:{value:1}},[e._v(e._s("严谨模式"))])],1)],1)])])};a._withStripped=!0;var n=i(81356),r=n.Z,s=(i(51500),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/file/strategy/transfer-mode.vue";var o=s.exports},20703:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.itemCom,e._g(e._b({ref:"item",tag:"component"},"component",e.$attrs,!1),e.$listeners))};a._withStripped=!0;var n=i(68225),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/script/item-factory.vue";var o=s.exports},75475:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form-item",{attrs:{label:"执行账号",required:"",property:e.field,rules:e.rules}},[i("account-select",{staticClass:"form-item-content",attrs:{value:e.formData[e.field],type:e.accountType},on:{change:e.handleChange}})],1)};a._withStripped=!0;var n=i(52918),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/script/strategy/execute-account.vue";var o=s.exports},510:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("execute-target",e._b({attrs:{property:"targetServers",mode:"onlyHost","task-host-node":e.formData[e.field]},on:{"on-change":e.handleTargetChange}},"execute-target",e.$attrs,!1))};a._withStripped=!0;var n=i(63932),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/script/strategy/execute-target-of-execution.vue";var o=s.exports},26838:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)("execute-target",e._b({attrs:{property:"executeTarget","task-host-node":e.formData[e.field]},on:{"on-change":e.handleTargetChange}},"execute-target",e.$attrs,!1))};a._withStripped=!0;var n=i(88717),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/script/strategy/execute-target-of-template.vue";var o=s.exports},78735:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form-item",{ref:"item",attrs:{label:"脚本内容",required:"",property:e.contentField,rules:e.rules}},[i("ace-editor",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isContentLoading,opacity:.2},expression:"{ isLoading: isContentLoading, opacity: .2 }"}],ref:"aceEditor",attrs:{value:e.formData[e.contentField],lang:e.lang,readonly:e.isReadonly,constants:e.scriptVariables,"readonly-tips":"引用的脚本不支持编辑"},on:{"on-mode-change":e.handleTypeChange,change:e.handleChange}})],1)};a._withStripped=!0;var n=i(61948),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/components/task-step/script/strategy/script-content.vue";var o=s.exports},74882:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form-item",{attrs:{label:"脚本参数"}},[i("div",{staticClass:"muti-item"},[i("jb-input",{attrs:{placeholder:"脚本执行时传入的参数，同脚本在终端执行时的传参格式，如：./test.sh xxxx xxx xxx",type:e.paramType,value:e.formData[e.paramField],maxlength:5e3},on:{change:e.handleParamChange}}),e._v(" "),i("bk-checkbox",{staticClass:"muti-checkbox",attrs:{value:e.formData[e.secureField],"true-value":1,"false-value":0},on:{change:e.handleSecureParam}},[e._v("\n            "+e._s("敏感参数")+"\n        ")])],1)])};a._withStripped=!0;var n=i(87329),r=n.Z,s=(i(86335),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/script/strategy/script-param.vue";var o=s.exports},33577:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"script-source-of-execution"},[i("jb-form-item",{staticClass:"script-source-item",attrs:{label:"脚本来源",required:""}},[i("bk-radio-group",{attrs:{value:e.scriptSource},on:{change:e.handleScriptSourceChange}},[i("bk-radio-button",{attrs:{value:"local"}},[e._v(e._s("手工录入"))]),e._v(" "),i("bk-radio-button",{attrs:{value:"refer"}},[e._v(e._s("脚本引用"))])],1)],1),e._v(" "),e.isScriptRefer?i("jb-form-item",{ref:"scriptId",attrs:{label:"脚本引用",required:"",property:"scriptId",rules:e.rules}},[i("div",{staticClass:"form-item-content refer-script-box"},[i("compose-form-item",[i("bk-select",{staticStyle:{width:"120px"},attrs:{value:e.referType,clearable:!1},on:{change:e.handleReferScriptTypeChange}},[i("bk-option",{attrs:{id:2,name:"业务脚本"}},[e._v(e._s("业务脚本"))]),e._v(" "),i("bk-option",{attrs:{id:3,name:"公共脚本"}},[e._v(e._s("公共脚本"))])],1),e._v(" "),i("bk-select",{key:e.referType,staticClass:"refer-script-list",attrs:{placeholder:"选择引用脚本",value:e.formData[e.scriptVersionIdField],clearable:!1,searchable:""},on:{change:e.handleScriptVersionIdChange}},[e._l(e.scripListDisplay,(function(t){return i("auth-option",{key:t.scriptVersionId,attrs:{id:t.scriptVersionId,permission:t.canView,"resource-id":t.id,name:t.name,auth:e.authView}})})),e._v(" "),i("template",{slot:"extension"},[i("auth-component",{attrs:{auth:e.authCreate}},[i("div",{staticStyle:{cursor:"pointer"},on:{click:e.handleGoCreate}},[i("i",{staticClass:"bk-icon icon-plus-circle mr10"}),e._v(e._s(e.newBtnText)+"\n                            ")]),e._v(" "),i("div",{attrs:{slot:"forbid"},slot:"forbid"},[i("i",{staticClass:"bk-icon icon-plus-circle mr10"}),e._v(e._s(e.newBtnText)+"\n                            ")])])],1)],2)],1),e._v(" "),e.formData[e.scriptVersionIdField]?i("div",{staticClass:"refer-script-detail",attrs:{"tippy-tips":"脚本详情"},on:{click:e.handleGoScriptDetail}},[i("Icon",{attrs:{type:"jump"}})],1):e._e()],1)]):e._e()],1)};a._withStripped=!0;var n=i(13640),r=n.Z,s=(i(2038),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/script/strategy/script-source-of-execution.vue";var o=s.exports},33707:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"script-source-of-template"},[i("jb-form-item",{staticClass:"script-source-item",attrs:{label:"脚本来源",required:""}},[i("bk-radio-group",{attrs:{value:e.sourceType},on:{change:e.handleScriptSourceChange}},[i("bk-radio-button",{attrs:{value:"local"}},[e._v(e._s("手工录入"))]),e._v(" "),i("bk-radio-button",{attrs:{value:"refer"}},[e._v(e._s("脚本引用"))])],1)],1),e._v(" "),i("jb-form-item",{directives:[{name:"show",rawName:"v-show",value:e.isScriptRefer,expression:"isScriptRefer"}],ref:"scriptId",attrs:{label:"脚本引用",required:"",property:"scriptId",rules:e.rules}},[i("div",{staticClass:"refer-script-item"},[i("compose-form-item",{staticClass:"form-item-content",attrs:{type:"select"}},[i("bk-select",{staticStyle:{width:"120px"},attrs:{value:e.referType,clearable:!1},on:{change:e.handleReferScriptTypeChange}},[i("bk-option",{attrs:{id:2,name:"业务脚本"}},[e._v("\n                        "+e._s("业务脚本")+"\n                    ")]),e._v(" "),i("bk-option",{attrs:{id:3,name:"公共脚本"}},[e._v("\n                        "+e._s("公共脚本")+"\n                    ")])],1),e._v(" "),i("bk-select",{staticStyle:{width:"375px"},attrs:{placeholder:"选择引用脚本",value:e.formData[e.scriptVersionIdField],clearable:!1,searchable:""},on:{change:e.handleScriptVersionIdChange}},[e._l(e.scriptListDisplay,(function(t,a){return i(e.scriptGroupComponent,{key:a,tag:"component",attrs:{name:0===a?"当前脚本":"其它脚本"}},e._l(t,(function(t,a){return i("auth-option",{key:t.scriptVersionId+"_"+a,attrs:{id:t.scriptVersionId,name:t.name,permission:t.canView,"resource-id":t.id,auth:e.authView}})})),1)})),e._v(" "),i("template",{slot:"extension"},[i("auth-component",{attrs:{auth:e.authCreate}},[i("div",{staticStyle:{cursor:"pointer"},on:{click:e.handleGoCreate}},[i("i",{staticClass:"bk-icon icon-plus-circle mr10"}),e._v(e._s(e.newBtnText)+"\n                            ")]),e._v(" "),i("div",{attrs:{slot:"forbid"},slot:"forbid"},[i("i",{staticClass:"bk-icon icon-plus-circle mr10"}),e._v(e._s(e.newBtnText)+"\n                            ")])])],1)],2)],1),e._v(" "),e.formData[e.scriptStatusField]?i("Icon",{staticClass:"update-flag",attrs:{type:"script-update","tippy-tips":"引用脚本待更新"}}):e._e(),e._v(" "),e.formData[e.scriptVersionIdField]?i("div",{staticClass:"refer-script-detail",attrs:{"tippy-tips":"脚本详情"},on:{click:e.handleGoScriptDetail}},[i("Icon",{attrs:{type:"jump"}})],1):e._e()],1)])],1)};a._withStripped=!0;var n=i(89173),r=n.Z,s=(i(21551),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/components/task-step/script/strategy/script-source-of-template.vue";var o=s.exports},59362:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"exection-status-bar",class:[e.data.displayStyle]},[i(e.themeCom,{tag:"component",attrs:{data:e.data,"title-max-width":e.titleMaxWidth}},[e._t("default")],2)],1)};a._withStripped=!0;var n=i(95747),r=n.Z,s=(i(90160),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/executive-history/common/execution-status-bar/index.vue";var o=s.exports},13826:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(e,t){var i=t._c;return i("div",{staticClass:"step-exection-status-bar"},[t.props.data.name?i("div",{staticClass:"title"},[t._v("\n        （"),i("div",{staticClass:"title-text"},[t._v(t._s(t.props.data.name))]),t._v("）\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"status-box"},[i("div",{staticClass:"status"},[i("span",[t._v(t._s("状态")+"：")]),t._v(" "),i("span",{staticClass:"status-text"},[t._v(t._s(t.props.data.statusDesc))])]),t._v(" "),i("div",{staticClass:"time"},[i("span",[t._v(t._s("总耗时")+"：")]),t._v(" "),i("span",{staticClass:"value",style:{width:9*(t.props.data.totalTimeText&&t.props.data.totalTimeText.length||1)+"px"}},[t._v("\n                "+t._s(t.props.data.totalTimeText)+"\n            ")])]),t._v(" "),i("div",{staticClass:"action"},[t._t("default")],2)])])};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!0,null,null,null);n.options.__file="src/views/executive-history/common/execution-status-bar/step.vue";var r=n.exports},34527:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(e,t){var i=t._c;return i("div",{staticClass:"task-exection-status-bar"},[t.props.data.name?i("div",{staticClass:"title"},[t._v("\n        （"),i("div",{staticClass:"title-text"},[t._v(t._s(t.props.data.name))]),t._v("）\n    ")]):t._e(),t._v(" "),i("div",{staticClass:"status-box"},[i("div",{staticClass:"status"},[i("span",[t._v(t._s("状态")+"：")]),t._v(" "),i("span",{staticClass:"status-text"},[t._v(t._s(t.props.data.statusDesc))])]),t._v(" "),i("div",{staticClass:"time"},[i("span",[t._v(t._s("总耗时")+"：")]),t._v(" "),i("span",{staticClass:"value",style:{width:9*(t.props.data.totalTimeText&&t.props.data.totalTimeText.length||1)+"px"}},[t._v("\n                "+t._s(t.props.data.totalTimeText)+"\n            ")])]),t._v(" "),i("div",{staticClass:"action"},[t._t("default")],2)])])};a._withStripped=!0;i(43172);var n=(0,i(35471).Z)({},a,[],!0,null,null,null);n.options.__file="src/views/executive-history/common/execution-status-bar/task.vue";var r=n.exports},19553:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"execute-global-variable"},[e.isLoading?e._e():[e.taskVariables.length>0?i("global-variable-layout",e._l(e.taskVariables,(function(e){return i("global-variable",{key:e.id,ref:"variable",refInFor:!0,attrs:{type:e.type,layout:3===e.type?"vertical":"",data:e}})})),1):i("empty",{staticClass:"empty"})]],2)};a._withStripped=!0;var n=i(85769),r=n.Z,s=(i(39721),(0,i(35471).Z)(r,a,[],!1,null,"4ff780bc",null));s.options.__file="src/views/executive-history/common/global-variable.vue";var o=s.exports},41547:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"job-execute-record"},[e.isLoading?e._e():[e.data.length>0?i("bk-table",{attrs:{data:e.data}},[i("bk-table-column",{attrs:{label:"时间",prop:"createTime",width:"180"}}),e._v(" "),i("bk-table-column",{attrs:{label:"操作人",prop:"operator",width:"120"}}),e._v(" "),i("bk-table-column",{attrs:{label:"操作",prop:"operationName",width:"120"}}),e._v(" "),i("bk-table-column",{attrs:{label:"步骤",prop:"stepName","show-overflow-tooltip":"","class-name":"step-name"}}),e._v(" "),i("bk-table-column",{attrs:{label:"详情"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[a.detailEnable?i("bk-button",{attrs:{theme:"primary",text:""},on:{click:function(t){return e.handleView(a)}}},[e._v(e._s(a.detail))]):i("div",[e._v(e._s(a.detail))])]}}],null,!1,107930035)})],1):i("empty",{staticClass:"empty"})]],2)};a._withStripped=!0;var n=i(74540),r=n.Z,s=(i(80953),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/executive-history/common/operation-record.vue";var o=s.exports},95403:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"retry"},[i("Icon",{attrs:{type:"retry"}}),e._v(" "),i("span",[e._v(e._s("全部重试"))])],1)};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/all-retry.vue";var r=n.exports},89572:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"confirm-forced"},[i("Icon",{attrs:{type:"stop"}}),e._v(" "),i("span",[e._v(e._s("终止流程"))])],1)};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/confirm-forced.vue";var r=n.exports},87061:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"retry"},[i("Icon",{attrs:{type:"retry"}}),e._v(" "),i("span",[e._v(e._s("重新发起确认"))])],1)};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/confirm-retry.vue";var r=n.exports},27195:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"confirm"},[i("Icon",{attrs:{type:"confirm"}}),e._v(" "),i("span",[e._v(e._s("确认继续"))])],1)};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/confirm.vue";var r=n.exports},23255:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"retry"},[i("Icon",{attrs:{type:"retry"}}),e._v(" "),i("span",[e._v(e._s("失败IP重试"))])],1)};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/fail-ip-retry.vue";var r=n.exports},97034:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"retry"},[i("Icon",{attrs:{type:"retry"}}),e._v(" "),i("span",[e._v(e._s("重试并继续"))])],1)};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/forced-retry.vue";var r=n.exports},55079:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"skip"},[i("Icon",{attrs:{type:"skip"}}),e._v(" "),i("span",[e._v(e._s("跳过"))])],1)};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/forced-skip.vue";var r=n.exports},7605:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"stop"},[i("Icon",{attrs:{type:"stop"}}),e._v(" "),i("span",[e._v(e._s("强制终止"))])],1)};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/forced.vue";var r=n.exports},1156:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-popover-confirm",{staticClass:"step-action-confirm",attrs:{title:e.confirmInfo.title,content:e.confirmInfo.desc,"confirm-handler":e.handleConfirm},on:{show:e.handleConfirmShow,cancel:e.handleConfirmCancel}},[i(e.actionCom,{tag:"component",staticClass:"step-instance-action",class:e.displayStyle})],1)};a._withStripped=!0;var n=i(92997),r=n.Z,s=(i(19267),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/executive-history/common/step-action/index.vue";var o=s.exports},75366:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"next"},[i("Icon",{attrs:{type:"skip"}}),e._v(" "),i("span",[e._v(e._s("进入下一步"))])],1)};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/next.vue";var r=n.exports},68683:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"skip"},[i("Icon",{attrs:{type:"skip"}}),e._v(" "),i("span",[e._v(e._s("忽略错误"))])],1)};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/skip.vue";var r=n.exports},2317:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"layout",staticClass:"script-version-manage-layout"},[i("div",{staticClass:"layout-header"},[i("div",{staticClass:"header-title"},[e._t("title")],2),e._v(" "),i("div",{staticClass:"sub-header"},[e._t("sub-header")],2)]),e._v(" "),i("div",{ref:"content",staticClass:"layout-container",style:e.contentStyles},[e.$slots.left?i("resizeable-box",{staticClass:"left",attrs:{"free-position":"right"}},[e._t("left")],2):e._e(),e._v(" "),i("div",{staticClass:"right"},[e._t("default")],2)],1),e._v(" "),i("div",{staticClass:"layout-footer"},[e._t("footer")],2)])};a._withStripped=!0;var n=i(6696),r=n.Z,s=(i(2027),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/script-manage/common/components/layout.vue";var o=s.exports},27223:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return r}});var a=function(e,t){return(0,t._c)("div",{staticClass:"render-version-log"},[t._v(t._s(t.props.versionDesc||"--"))])};a._withStripped=!0;var n=(0,i(35471).Z)({},a,[],!0,null,null,null);n.options.__file="src/views/script-manage/common/detail/components/render-log.vue";var r=n.exports},98336:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("layout",{staticClass:"script-manage-detail-box",scopedSlots:e._u([{key:"footer",fn:function(){return[e.scriptInfo.isOnline?i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"execScript"},expression:"{ type: 'button', value: 'execScript' }"}],key:"execute",staticClass:"w120 mr10",attrs:{permission:e.scriptInfo.canManage,auth:"script/execute","resource-id":e.scriptInfo.id,theme:"primary",loading:e.isExceLoading},on:{click:e.handleGoExce}},[e._v("\n            "+e._s("去执行")+"\n        ")]):e._e(),e._v(" "),e.scriptInfo.isOnline?e._e():i("jb-popover-confirm",{key:"online",staticClass:"mr10",attrs:{title:"确定上线该版本？",content:"上线后，之前的线上版本将被置为「已下线」状态，但不影响作业使用","confirm-handler":e.handleOnline}},[i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"onlineScript"},expression:"{ type: 'button', value: 'onlineScript' }"}],staticClass:"w120",attrs:{permission:e.scriptInfo.canManage,"resource-id":e.scriptInfo.id,auth:"script/edit",theme:"primary"}},[e._v("\n                "+e._s("上线")+"\n            ")])],1),e._v(" "),e.scriptInfo.isDraft?e._e():i("span",{key:"create",attrs:{"tippy-tips":e.isCopyCreateDisabled?"已有[未上线]版本":""}},[i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"copyCreateScript"},expression:"{ type: 'button', value: 'copyCreateScript' }"}],staticClass:"w120 mr10",attrs:{permission:e.scriptInfo.canClone,"resource-id":e.scriptInfo.id,auth:"script/clone"},on:{click:function(t){return e.handleCopyAndCreate(e.scriptInfo)}}},[e._v("\n                "+e._s("复制并新建")+"\n            ")])],1),e._v(" "),i("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"debugScript"},expression:"{ type: 'button', value: 'debugScript' }"}],staticClass:"mr10",on:{click:e.handleDebugScript}},[e._v("\n            "+e._s("调试")+"\n        ")]),e._v(" "),e.scriptInfo.isOnline?i("span",{key:"sync",staticClass:"mr10",attrs:{"tippy-tips":e.scriptInfo.syncEnabled?"":"所有关联作业模板已是当前版本"}},[i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"syncScript"},expression:"{ type: 'button', value: 'syncScript' }"}],attrs:{permission:e.scriptInfo.canManage,"resource-id":e.scriptInfo.id,auth:"script/edit"},on:{click:e.handleGoSync}},[e._v("\n                "+e._s("同步")+"\n            ")])],1):e._e(),e._v(" "),e.scriptInfo.isDraft?i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editScript"},expression:"{ type: 'button', value: 'editScript' }"}],key:"edit",staticClass:"mr10",attrs:{permission:e.scriptInfo.canManage,"resource-id":e.scriptInfo.id,auth:"script/edit"},on:{click:function(t){return e.handleEdit(e.scriptInfo)}}},[e._v("\n            "+e._s("编辑")+"\n        ")]):e._e(),e._v(" "),e.scriptInfo.isVersionEnableRemove?i("jb-popover-confirm",{key:"delete",staticClass:"mr10",attrs:{title:"确定删除该版本？",content:"删除后不可恢复，请谨慎操作！","confirm-handler":e.handleRemove}},[i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deleteScript"},expression:"{ type: 'button', value: 'deleteScript' }"}],attrs:{permission:e.scriptInfo.canManage,"resource-id":e.scriptInfo.id,auth:"script/delete"}},[e._v("\n                "+e._s("删除")+"\n            ")])],1):e._e(),e._v(" "),e.scriptInfo.isOnline?i("jb-popover-confirm",{key:"offline",staticStyle:{"margin-left":"auto"},attrs:{title:"确定禁用该版本？",content:"一旦禁用成功，线上引用该版本的作业脚本步骤都会执行失败，请务必谨慎操作！","confirm-handler":e.handleOffline}},[i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"offlineScript"},expression:"{ type: 'button', value: 'offlineScript' }"}],attrs:{permission:e.scriptInfo.canManage,"resource-id":e.scriptInfo.id,auth:"script/edit"}},[e._v("\n                "+e._s("禁用")+"\n            ")])],1):e._e()]},proxy:!0}])},[i("div",{attrs:{slot:"title"},slot:"title"},[i("span",[e._v(e._s(e.scriptInfo.version))]),e._v(" "),i("span",{staticClass:"script-status",domProps:{innerHTML:e._s(e.scriptInfo.statusHtml)}})]),e._v(" "),i("template",{slot:"sub-header"},[i("span",{staticStyle:{"font-size":"12px",color:"#63656e"}},[i("span",[e._v(e._s(e.scriptInfo.lastModifyUser))]),e._v(" "),i("span",[e._v("|")]),e._v(" "),i("span",[e._v(e._s(e.scriptInfo.lastModifyTime))])]),e._v(" "),"content"===e.contentTab?i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"全屏",expression:"'全屏'"},{name:"test",rawName:"v-test",value:{type:"button",value:"scriptEditFullscreen"},expression:"{ type: 'button', value: 'scriptEditFullscreen' }"}],attrs:{type:"full-screen"},on:{click:e.handleFullScreen}}):e._e()],1),e._v(" "),i("div",{staticClass:"content-tab"},[i("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"scriptContentTab"},expression:"{ type: 'button', value: 'scriptContentTab' }"}],staticClass:"content-tab-item",class:{active:"content"===e.contentTab},on:{click:function(t){return e.handleChangeDispaly("content")}}},[e._v("\n            "+e._s("脚本内容")+"\n        ")]),e._v(" "),i("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"scriptVersionLogTab"},expression:"{ type: 'button', value: 'scriptVersionLogTab' }"}],staticClass:"content-tab-item",class:{active:"log"===e.contentTab},on:{click:function(t){return e.handleChangeDispaly("log")}}},[e._v("\n            "+e._s("版本日志")+"\n        ")])]),e._v(" "),i("div",{staticClass:"version-content"},[i("div",{ref:"content",staticClass:"content-dispaly",style:e.contentStyles},[e.contentHeight>0?i("keep-alive",[i(e.contentCom,{ref:"aceEditor",tag:"component",attrs:{readonly:"",height:e.contentHeight,value:e.scriptInfo.content,lang:e.scriptInfo.typeName,options:e.scriptInfo.typeName,"version-desc":e.scriptInfo.versionDesc}})],1):e._e()],1)])],2)};a._withStripped=!0;var n=i(78896),r=n.Z,s=(i(95645),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/script-manage/common/detail/index.vue";var o=s.exports},78621:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"render-related-script"},[i("div",{staticClass:"tab-wraper"},[i("div",{staticClass:"tab-item",class:{active:"template"===e.listTab},on:{click:function(t){return e.handleTabChange("template")}}},[i("div",{staticClass:"tab-name"},[e._v(e._s("作业模板引用"))]),e._v(" "),i("div",{staticClass:"tab-nums"},[e._v(e._s(e.info.relatedTaskTemplateNum))])]),e._v(" "),i("div",{staticClass:"tab-item",class:{active:"plan"===e.listTab},on:{click:function(t){return e.handleTabChange("plan")}}},[i("div",{staticClass:"tab-name"},[e._v(e._s("执行方案引用"))]),e._v(" "),i("div",{staticClass:"tab-nums"},[e._v(e._s(e.info.relatedTaskPlanNum))])])]),e._v(" "),i(e.listCom,{tag:"component",attrs:{params:e.params}})],1)};a._withStripped=!0;var n=i(63687),r=n.Z,s=(i(70918),(0,i(35471).Z)(r,a,[],!1,null,"23134e9a",null));s.options.__file="src/views/script-manage/common/script-related-info/index.vue";var o=s.exports},4839:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("jb-search-select",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.searchSelect,"popover-zindex":99999,placeholder:"搜索名称，版本号"},on:{"on-change":e.handleSearch}}),e._v(" "),i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}]},[i("bk-table",{attrs:{data:e.renderList}},[i("bk-table-column",{attrs:{label:"执行方案",align:"left","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("bk-button",{attrs:{text:""},on:{click:function(t){return e.handleGoPlanDetail(a)}}},[e._v("\n                        "+e._s(a.taskPlanName)+"\n                    ")])]}}])}),e._v(" "),i("bk-table-column",{attrs:{label:"引用的版本号",prop:"scriptVersion",align:"left"}}),e._v(" "),i("bk-table-column",{attrs:{label:"状态",prop:"scriptStatusDesc",align:"left",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",{domProps:{innerHTML:e._s(a.statusHtml)}})]}}])})],1)],1)],1)};a._withStripped=!0;var n=i(46642),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/script-manage/common/script-related-info/plan-list.vue";var o=s.exports},40021:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("jb-search-select",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.searchSelect,"popover-zindex":99999,placeholder:"搜索名称，版本号"},on:{"on-change":e.handleSearch}}),e._v(" "),i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}]},[i("bk-table",{attrs:{data:e.renderList}},[i("bk-table-column",{attrs:{label:"作业模板",align:"left","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("bk-button",{attrs:{text:""},on:{click:function(t){return e.handleGoTemplateDetail(a)}}},[e._v("\n                        "+e._s(a.taskTemplateName)+"\n                    ")])]}}])}),e._v(" "),i("bk-table-column",{attrs:{label:"引用的版本号",prop:"scriptVersion",align:"left"}}),e._v(" "),i("bk-table-column",{attrs:{label:"状态",prop:"scriptStatusDesc",align:"left",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("span",{domProps:{innerHTML:e._s(a.statusHtml)}})]}}])})],1)],1)],1)};a._withStripped=!0;var n=i(6252),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/script-manage/common/script-related-info/template-list.vue";var o=s.exports},69539:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"box",staticClass:"plan-edit-title",on:{click:function(e){e.stopPropagation()}}},[e.isEditing?i("div",{staticClass:"input-box",class:{"validate-error":!!e.errorInfo}},[i("jb-input",{ref:"input",style:{width:e.inputWidth+"px"},attrs:{"native-attributes":{spellcheck:!1,autofocus:!0},placeholder:"推荐按照该执行方案提供的使用场景来取名...","enter-trigger":"",maxlength:60,behavior:"simplicity"},on:{input:e.handleInput,submit:e.handleSubmit},model:{value:e.localValue,callback:function(t){e.localValue=t},expression:"localValue"}}),e._v(" "),e.errorInfo?i("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.errorInfo,expression:"errorInfo"}],staticClass:"edit-status-flag bk-icon icon-exclamation-circle-shape",staticStyle:{color:"#ea3636"}}):e._e(),e._v(" "),e.isSubmiting?i("Icon",{staticClass:"edit-status-flag rotate-loading",staticStyle:{color:"#979ba5"},attrs:{type:"loading-circle"}}):e._e()],1):i("div",{ref:"text",staticClass:"text"},[i("span",[e._v(e._s(e.localValue))]),e._v(" "),i("Icon",{staticClass:"edit-btn",attrs:{type:"edit-2"},on:{click:e.handleEdit}})],1)])};a._withStripped=!0;var n=i(83987),r=n.Z,s=(i(9126),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/components/edit-title.vue";var o=s.exports},36087:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"layout",staticClass:"plan-action-layout",style:e.layoutStyles},[i("div",{staticClass:"loading-wraper",class:{"loading-hidden":e.showContent}},[i("div",{staticClass:"loading-content"},[i("content-loader",{attrs:{height:455,width:580,speed:2,"primary-color":"#EBECF3","secondary-color":"#F6F7FB"}},[i("rect",{attrs:{x:"0",y:"0",width:"128",height:"16",rx:"1"}}),e._v(" "),i("rect",{attrs:{x:"0",y:"148",width:"128",height:"16",rx:"1"}}),e._v(" "),i("rect",{attrs:{x:"0",y:"180",width:"620",height:"42",rx:"2"}}),e._v(" "),i("rect",{attrs:{x:"0",y:"232",width:"620",height:"42",rx:"2"}}),e._v(" "),i("rect",{attrs:{x:"0",y:"284",width:"620",height:"42",rx:"2"}}),e._v(" "),i("rect",{attrs:{x:"0",y:"336",width:"620",height:"42",rx:"2"}}),e._v(" "),i("rect",{attrs:{x:"0",y:"388",width:"620",height:"42",rx:"2"}}),e._v(" "),i("rect",{attrs:{x:"0",y:"28",width:"128",height:"16",rx:"1"}}),e._v(" "),i("rect",{attrs:{x:"0",y:"56",width:"200",height:"50",rx:"1"}}),e._v(" "),i("rect",{attrs:{x:"210",y:"56",width:"200",height:"50",rx:"1"}}),e._v(" "),i("rect",{attrs:{x:"420",y:"56",width:"200",height:"50",rx:"1"}})])],1)]),e._v(" "),i("div",{staticClass:"layout-title"},[e._t("title",(function(){return[i("div",{staticClass:"title-text"},[e._v(e._s(e.title))])]})),e._v(" "),i("div",{staticClass:"sub-title"},[e._t("sub-title")],2)],2),e._v(" "),i("div",{ref:"content",staticClass:"content-wraper",style:e.contentStyles},[e._t("default")],2),e._v(" "),i("div",{staticClass:"layout-footer",style:e.footerStyles},[e._t("footer")],2),e._v(" "),e.showContent?i("back-top",{attrs:{target:e.getBackTopTarget}}):e._e()],1)};a._withStripped=!0;var n=i(32112),r=n.Z,s=(i(9243),(0,i(35471).Z)(r,a,[],!1,null,"77864916",null));s.options.__file="src/views/task-manage/common/plan/components/layout.vue";var o=s.exports},50859:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"toggle-display"},[i("div",{staticClass:"action",on:{click:e.handleToggle}},[e.isOpen?[i("Icon",{staticClass:"toggle-arrow",attrs:{type:"angle-double-up"}}),e._v(" "),i("span",[e._v(e._s("收起未引用的变量")+" ("+e._s(e.count)+")")])]:[i("Icon",{staticClass:"toggle-arrow",attrs:{type:"angle-double-down"}}),e._v(" "),i("span",[e._v(e._s("展开未引用的变量")+" ("+e._s(e.count)+")")])]],2),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}]},[e._t("default")],2)])};a._withStripped=!0;var n=i(23655),r=n.Z,s=(i(45722),(0,i(35471).Z)(r,a,[],!1,null,"b1a70dd8",null));s.options.__file="src/views/task-manage/common/plan/components/toggle-display.vue";var o=s.exports},49941:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("layout",e._b({staticClass:"task-plan-create-box",attrs:{loading:e.isLoading},scopedSlots:e._u([{key:"footer",fn:function(){return[i("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.isSubmitDisable?"请至少勾选一个执行步骤":"",expression:"isSubmitDisable ? '请至少勾选一个执行步骤' : ''"}]},[i("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createPlanSubmit"},expression:"{ type: 'button', value: 'createPlanSubmit' }"}],staticClass:"w120 mr10",attrs:{theme:"primary",loading:e.submitLoading},on:{click:e.handleSumbit}},[e._v("\n                "+e._s("提交")+"\n            ")])],1),e._v(" "),i("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createPlanReset"},expression:"{ type: 'button', value: 'createPlanReset' }"}],on:{click:e.handleReset}},[e._v("\n            "+e._s("重置")+"\n        ")])]},proxy:!0}])},"layout",e.$attrs,!1),[i("jb-form",{ref:"titleForm",staticStyle:{width:"100%"},attrs:{slot:"title",model:e.formData},slot:"title"},[i("jb-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{rules:e.rules.name,property:"name","error-display-type":"tooltips"}},[i("jb-input",{staticClass:"name-input",attrs:{behavior:"simplicity",placeholder:"推荐按照该执行方案提供的使用场景来取名...",maxlength:60,"native-attributes":{spellcheck:!1,autofocus:!0}},on:{change:e.handleNameChange},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1),e._v(" "),i("jb-form",{ref:"createPlanForm",attrs:{model:e.formData,"form-type":"vertical"}},[i("jb-form-item",{staticStyle:{"margin-bottom":"40px"}},[i("div",{staticClass:"section-title"},[i("span",[e._v(e._s("全局变量"))]),e._v(" "),i("span",[e._v("（ "+e._s(e.selectedVariable.length)+" / "+e._s(e.globalVariableList.length)+" ）")])]),e._v(" "),i("render-global-var",{key:e.templateId,attrs:{list:e.globalVariableList,"select-value":e.selectedVariable,mode:"editOfPlan","default-field":"变量值"},on:{"on-change":e.handleVariableChange}})],1),e._v(" "),i("jb-form-item",{attrs:{rules:e.rules.enableSteps,property:"enableSteps"}},[i("div",{staticClass:"task-step-selection"},[i("div",{staticClass:"section-title"},[i("span",[e._v(e._s("选择执行步骤"))]),e._v(" "),i("span",[e._v("（ "+e._s(e.formData.enableSteps.length)+" / "+e._s(e.taskStepList.length)+" ）")])]),e._v(" "),i("div",{staticClass:"step-check"},[e.hasSelectAll?i("bk-button",{attrs:{text:""},on:{click:e.handleDeselectAll}},[e._v("\n                        "+e._s("取消全选")+"\n                    ")]):i("bk-button",{attrs:{text:""},on:{click:e.handleSelectAll}},[e._v("\n                        "+e._s("全选")+"\n                    ")])],1)]),e._v(" "),i("render-task-step",{key:e.templateId,attrs:{list:e.taskStepList,"select-value":e.formData.enableSteps,variable:e.globalVariableList,mode:"select"},on:{"on-select":e.handleSelectStep}})],1)],1)],1)};a._withStripped=!0;var n=i(84924),r=n.Z,s=(i(66955),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/create.vue";var o=s.exports},93220:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("permission-section",{key:e.id},[i("div",{staticClass:"task-plan-view-box"},[i("layout",e._b({attrs:{title:e.planInfo.name,"plan-name":e.planInfo.name,loading:e.isLoading},scopedSlots:e._u([{key:"footer",fn:function(){return[i("div",{staticClass:"action-box"},[i("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"execPlan"},expression:"{ type: 'button', value: 'execPlan' }"}],staticClass:"w120 mr10",attrs:{theme:"primary",loading:e.execLoading},on:{click:e.handleExec}},[e._v("\n                        "+e._s("去执行")+"\n                    ")]),e._v(" "),i("bk-popover",{attrs:{placement:"top"}},[i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlan"},expression:"{ type: 'button', value: 'editPlan' }"}],staticClass:"mr10",attrs:{permission:e.planInfo.canEdit,"resource-id":e.id,auth:"job_plan/edit"},on:{click:e.handleEdit}},[i("span",[e._v(e._s("编辑"))]),e._v(" "),i("span",{staticStyle:{"font-size":"12px",color:"#979ba5"}},[e._v("\n                                ("+e._s(e.planInfo.enableStepNums)+"/"+e._s(e.planInfo.templateStepNums)+")\n                            ")])]),e._v(" "),i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[e._v(e._s("共有")+" "+e._s(e.planInfo.templateStepNums)+" "+e._s("个步骤，"))]),e._v(" "),i("p",[e._v(e._s("当前已选中")+" "+e._s(e.planInfo.enableStepNums)+" "+e._s("个"))])])],1),e._v(" "),i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createCrontab"},expression:"{ type: 'button', value: 'createCrontab' }"}],staticClass:"mr10",attrs:{auth:"cron/create"},on:{click:e.handleGoCron}},[e._v("\n                        "+e._s("定时执行")+"\n                    ")]),e._v(" "),i("span",{attrs:{"tippy-tips":e.planInfo.needUpdate?"":"无需同步"}},[i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"syncPlan"},expression:"{ type: 'button', value: 'syncPlan' }"}],staticClass:"action-update",attrs:{"resource-id":e.id,auth:"job_plan/sync"},on:{click:e.handleSync}},[i("span",[e._v(e._s("去同步"))]),e._v(" "),e.planInfo.needUpdate?i("div",{staticClass:"update-flag"},[i("Icon",{attrs:{type:"sync-8","tippy-tips":"未同步"}})],1):e._e()])],1),e._v(" "),i("jb-popover-confirm",{staticClass:"action-del",attrs:{title:"确定删除该执行方案？",content:"若已设置了定时任务，需要先删除才能操作","confirm-handler":e.handleDelete}},[i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deletePlan"},expression:"{ type: 'button', value: 'deletePlan' }"}],staticClass:"delete-btn",attrs:{permission:e.planInfo.canDelete,"resource-id":e.id,auth:"job_plan/delete"}},[e._v("\n                            "+e._s("删除")+"\n                        ")])],1)],1)]},proxy:!0}])},"layout",e.$attrs,!1),[i("div",{staticClass:"view-title",attrs:{slot:"title"},slot:"title"},[i("edit-title",{attrs:{data:e.planInfo},on:{"on-edit-success":e.handleEditSuccess}}),e._v(" "),e.planInfo.cronJobCount>0?i("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.html",value:"\n                        <div>有 "+e.planInfo.cronJobCount+" 个定时任务</div>\n                        <div>点击前往查看</div>\n                    ",expression:"`\n                        <div>${'有'} ${planInfo.cronJobCount} ${'个定时任务'}</div>\n                        <div>${'点击前往查看'}</div>\n                    `",modifiers:{html:!0}}],staticClass:"cron-job-tag",on:{click:e.handleGoCronList}},[i("Icon",{attrs:{type:"job-timing",svg:""}}),e._v(" "),i("span",{staticStyle:{"margin-left":"2px"}},[e._v(e._s(e.planInfo.cronJobCount))])],1):e._e()],1),e._v(" "),i("div",{staticClass:"link-wraper",attrs:{slot:"sub-title"},slot:"sub-title"},[i("auth-button",{attrs:{"resource-id":e.templateId,auth:"job_template/view",text:""},on:{click:e.handleGoTemplate}},[i("span",[e._v(e._s("所属作业模板"))]),e._v(" "),i("Icon",{attrs:{type:"jump"}})],1)],1),e._v(" "),i("jb-form",{attrs:{"form-type":"vertical"}},[i("jb-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{label:"全局变量"}},[i("render-global-var",{key:e.id,attrs:{list:e.usedVariableList,"default-field":"变量值"}}),e._v(" "),e.unusedVariableList.length>0?i("toggle-display",{staticStyle:{"margin-top":"20px"},attrs:{count:e.unusedVariableList.length}},[i("render-global-var",{key:e.id,staticStyle:{"margin-top":"18px"},attrs:{list:e.unusedVariableList,"default-field":"变量值"}})],1):e._e()],1),e._v(" "),i("jb-form-item",{attrs:{label:"执行步骤"}},[i("render-task-step",{key:e.id,attrs:{list:e.planInfo.enableStepList,variable:e.planInfo.variableList}})],1)],1)],1)],1)])};a._withStripped=!0;var n=i(10294),r=n.Z,s=(i(78366),(0,i(35471).Z)(r,a,[],!1,null,"12544ee2",null));s.options.__file="src/views/task-manage/common/plan/detail.vue";var o=s.exports},11677:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("layout",e._b({staticClass:"task-plan-edit-box",attrs:{"plan-name":e.name,loading:e.isLoading},scopedSlots:e._u([{key:"footer",fn:function(){return[i("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.isSubmitDisable?"请至少勾选一个执行步骤":"",expression:"isSubmitDisable ? '请至少勾选一个执行步骤' : ''"}]},[i("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlanSave"},expression:"{ type: 'button', value: 'editPlanSave' }"}],staticClass:"w120 mr10",attrs:{theme:"primary",loading:e.submitLoading},on:{click:e.handleSumbit}},[e._v("\n                "+e._s("保存")+"\n            ")])],1),e._v(" "),i("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlanCancel"},expression:"{ type: 'button', value: 'editPlanCancel' }"}],on:{click:e.handleCancle}},[e._v("\n            "+e._s("取消")+"\n        ")])]},proxy:!0}])},"layout",e.$attrs,!1),[i("jb-form",{ref:"titleForm",staticStyle:{width:"100%"},attrs:{slot:"title",model:e.formData},slot:"title"},[i("jb-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{rules:e.rules.name,property:"name","error-display-type":"tooltips"}},[i("jb-input",{staticClass:"name-input",attrs:{behavior:"simplicity",placeholder:"推荐按照该执行方案提供的使用场景来取名...","native-attributes":{spellcheck:!1,autofocus:!0},maxlength:60},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1)],1),e._v(" "),i("jb-form",{directives:[{name:"test",rawName:"v-test",value:{type:"form",value:"editPlan"},expression:"{ type: 'form', value: 'editPlan' }"}],ref:"editPlanForm",attrs:{model:e.formData,rules:e.rules,"form-type":"vertical"}},[i("jb-form-item",{staticStyle:{"margin-bottom":"40px"}},[i("div",{staticClass:"section-title"},[i("span",[e._v(e._s("全局变量"))]),e._v(" "),i("span",[e._v("（ "+e._s(e.selectedVariable.length)+" / "+e._s(e.globalVariableList.length)+" ）")])]),e._v(" "),i("render-global-var",{key:e.id,attrs:{list:e.globalVariableList,"select-value":e.selectedVariable,"default-field":"变量值",mode:"editOfPlan"},on:{"on-change":e.handleVariableChange}})],1),e._v(" "),i("jb-form-item",{attrs:{rules:e.rules.enableSteps,property:"enableSteps"}},[i("div",{staticClass:"task-step-selection"},[i("div",{staticClass:"section-title"},[i("span",[e._v(e._s("选择执行步骤"))]),e._v(" "),i("span",[e._v("（ "+e._s(e.formData.enableSteps.length)+" / "+e._s(e.taskStepList.length)+" ）")])]),e._v(" "),i("div",{staticClass:"step-check"},[e.hasSelectAll?i("bk-button",{attrs:{text:""},on:{click:e.handleDeselectAll}},[e._v("\n                        "+e._s("取消全选")+"\n                    ")]):i("bk-button",{attrs:{text:""},on:{click:e.handleSelectAll}},[e._v("\n                        "+e._s("全选")+"\n                    ")])],1)]),e._v(" "),i("render-task-step",{key:e.id,attrs:{list:e.taskStepList,"select-value":e.formData.enableSteps,variable:e.globalVariableList,mode:"select"},on:{"on-select":e.handleSelectStep}})],1)],1)],1)};a._withStripped=!0;var n=i(22427),r=n.Z,s=(i(66235),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/edit.vue";var o=s.exports},85042:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"preview-render-ralated"},[i("div",{staticClass:"header",on:{click:e.handleToggle}},[i("div",{staticClass:"toggle-flag"},[e.isShowRelateList?i("Icon",{attrs:{type:"arrow-full-down"}}):i("Icon",{attrs:{type:"arrow-full-right"}})],1),e._v(" "),i("div",{staticClass:"type"},[i("Icon",{attrs:{type:e.globalVariableInfo.icon}})],1),e._v(" "),i("div",{staticClass:"name"},[e._v(e._s(e.globalVariableInfo.name))])]),e._v(" "),e.isShowRelateList?i("table",[i("thead",[i("tr",[i("th",{staticStyle:{width:"230px"}},[e._v(e._s("执行方案"))]),e._v(" "),i("th",{staticStyle:{width:"205px"}},[e._v(e._s("作业模板"))]),e._v(" "),i("th",{staticStyle:{width:"185px"}},[e._v(e._s("原始值"))]),e._v(" "),i("th",[e._v(e._s("更新值"))])])]),e._v(" "),i("tbody",e._l(e.relateList,(function(t){return i("tr",{key:t.id},[i("td",[i("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[e._v(e._s(t.plan.name))])]),e._v(" "),i("td",[i("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[e._v(e._s(t.plan.templateName))])]),e._v(" "),i("td",[i("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[e._v(e._s(t.globalVariable.valueText))])]),e._v(" "),i("td",[i("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[e._v(e._s(e.latestValueText))])])])})),0)]):e._e()])};a._withStripped=!0;var n=i(97026),r=n.Z,s=(i(9073),(0,i(35471).Z)(r,a,[],!1,null,"12952eb2",null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-preview/components/render-related-info.vue";var o=s.exports},67341:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"batch-preview-plan-global-variable"},[e._l(e.globalVariableRelatePlanMap,(function(t,a){return[i("render-related-info",{key:a,ref:"relate",refInFor:!0,attrs:{"relate-list":t,"latest-value":e.latestValueMap[a]}})]}))],2)};a._withStripped=!0;var n=i(92580),r=n.Z,s=(i(73607),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-preview/index.vue";var o=s.exports},49200:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"name"},[i("span",[e._v(e._s(e.data.name))]),e._v(" "),i("span",{staticClass:"remove-flag",on:{click:e.handleRemove}},[i("Icon",{attrs:{type:"reduce-fill"}})],1)]),e._v(" "),i("div",[e.isValueEmpty?i("bk-button",{staticStyle:{width:"160px"},on:{click:e.handleChooseIp}},[i("Icon",{attrs:{type:"plus"}}),e._v("\n            "+e._s("添加服务器")+"\n        ")],1):i("div",{staticClass:"host-value-text",on:{click:e.handleChooseIp}},[i("div",{staticClass:"host-type"},[i("Icon",{attrs:{type:"host"}})],1),e._v(" "),i("div",[e._v("\n                "+e._s(e.valueText)+"\n            ")]),e._v(" "),i("Icon",{staticClass:"host-edit",attrs:{type:"edit-2"}})],1)],1),e._v(" "),i("choose-ip",{attrs:{"host-node-info":e.hostNodeInfo},on:{"on-change":e.handleChange},model:{value:e.isShowChooseIp,callback:function(t){e.isShowChooseIp=t},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var n=i(14452),r=n.Z,s=(i(2730),(0,i(35471).Z)(r,a,[],!1,null,"68f52c02",null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/host.vue";var o=s.exports},53914:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.com,e._g(e._b({tag:"comoponent",staticClass:"global-variable-batch-edit-render",attrs:{data:e.data}},"comoponent",e.$attrs,!1),e.$listeners))};a._withStripped=!0;var n=i(67610),r=n.Z,s=(i(48806),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/index.vue";var o=s.exports},39955:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"name"},[i("span",[e._v(e._s(e.data.name))]),e._v(" "),i("span",{staticClass:"remove-flag",on:{click:e.handleRemove}},[i("Icon",{attrs:{type:"reduce-fill"}})],1)]),e._v(" "),i("bk-input",{attrs:{type:"password",value:e.value},on:{change:e.handleChange}})],1)};a._withStripped=!0;var n=i(39033),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/password.vue";var o=s.exports},65208:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"name"},[i("span",[e._v(e._s(e.data.name))]),e._v(" "),i("span",{staticClass:"remove-flag",on:{click:e.handleRemove}},[i("Icon",{attrs:{type:"reduce-fill"}})],1)]),e._v(" "),i("bk-input",{attrs:{value:e.value},on:{change:e.handleChange}})],1)};a._withStripped=!0;var n=i(59429),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/text.vue";var o=s.exports},53610:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"batch-edit-plan-global-variable"},[i("div",{staticClass:"action-target-info"},[i("span",{staticClass:"label"},[e._v(e._s("更新范围"))]),e._v(" "),i("span",{staticClass:"content-split"},[e._v(":")]),e._v(" "),i("span",[i("span",[e._v(e._s("已选"))]),e._v(" "),i("span",{staticClass:"number strong"},[e._v(e._s(e.planList.length))]),e._v(" "),i("span",[e._v(e._s("个执行方案，")+e._s("来自"))]),e._v(" "),i("span",{staticClass:"number strong"},[e._v(e._s(e.relatedTemplateNums))]),e._v(" "),i("span",[e._v(e._s("个作业模板"))])])]),e._v(" "),i("div",{staticClass:"action-target-info",staticStyle:{"margin-top":"10px"}},[i("span",{staticClass:"label"},[e._v(e._s("选择变量"))]),e._v(" "),i("span",{staticClass:"content-split",staticStyle:{color:"#ea3636"}},[e._v("*")]),e._v(" "),i("span",[e._v(e._s(e.selectResultText)+"，")]),e._v(" "),e.isHasSelectedAll?i("bk-button",{attrs:{text:""},on:{click:e.handleCancleSelectAll}},[e._v(e._s("取消全选"))]):i("bk-button",{attrs:{text:""},on:{click:e.handleSelectAll}},[e._v(e._s("全选"))])],1),e._v(" "),i("div",{staticClass:"global-variable-list"},e._l(e.globalVariableMap,(function(t,a){return i("div",{key:a,staticClass:"variable-item",class:{active:!!e.selectVariableMap[a]},on:{click:function(t){return e.handleVariableSelect(a)}}},[i("div",{staticClass:"variable-type"},[i("Icon",{attrs:{type:t.icon}})],1),e._v(" "),i("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"variable-name"},[e._v(e._s(t.name))]),e._v(" "),i("div",{staticClass:"select-checked"})])})),0),e._v(" "),e.isSelectNotEmpty?i("div",{staticClass:"global-variable-value"},[e._l(e.globalVariableMap,(function(t,a){return[e.selectVariableMap[a]?i("render-global-variable",{key:a,attrs:{value:e.selectVariableValueMap[a],data:t},on:{"on-change":function(t){return e.handleValueChange(a,t)},"on-remove":function(t){return e.handleRemoveSelect(a)}}}):e._e()]}))],2):e._e()])};a._withStripped=!0;var n=i(81303),r=n.Z,s=(i(40279),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/index.vue";var o=s.exports},57099:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-sideslider",{ref:"root",attrs:{"is-show":e.isShow,width:900,title:"批量编辑变量值","show-footer":!e.isLoading&&e.isGlobalVariableNotEmpty},on:{"update:isShow":e.handleCancel}},[e.isLoading?i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticStyle:{"min-height":"100px"}}):i("div",[e.isGlobalVariableNotEmpty?i("div",{staticClass:"batch-edit-global-variable-box"},[i("div",{staticClass:"edit-header"},[i("bk-steps",{staticStyle:{width:"300px"},attrs:{"cur-step":e.curStep,steps:e.steps},on:{"update:curStep":function(t){e.curStep=t},"update:cur-step":function(t){e.curStep=t}}})],1),e._v(" "),i("keep-alive",{attrs:{exclude:"editPreview"}},[e.planList.length>0?i(e.stepCom,{ref:"handler",tag:"component",attrs:{"plan-list":e.planList,"latest-value-map":e.globalVariableValueMap},on:{"on-edit-change":e.handleEditChange}}):e._e()],1)],1):i("Empty",{staticStyle:{"margin-top":"126px"}},[i("div",{staticStyle:{"font-size":"20px","line-height":"26px",color:"#63656e"}},[e._v("\n                "+e._s("暂无全局变量")+"\n            ")]),e._v(" "),i("div",{staticStyle:{"margin-top":"12px","font-size":"14px","line-height":"19px",color:"#979ba5"},attrs:{slot:"desc"},slot:"desc"},[e._v("\n                "+e._s("所选执行方案，无变量值可编辑")+"\n            ")])])],1),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[1===e.curStep?[i("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:e.handlePreview}},[e._v("\n                "+e._s("下一步")+"\n            ")])]:e._e(),e._v(" "),2===e.curStep?[e.hasEmptyValueVariable?i("jb-popover-confirm",{attrs:{title:"确定立即批量更新？",content:"请注意！变量值填框留空，即代表设置目标变量为空值。","confirm-handler":e.handleSubmit}},[i("bk-button",{staticClass:"mr10",attrs:{theme:"primary"}},[e._v("\n                    "+e._s("提交")+"\n                ")])],1):i("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:e.handleSubmit}},[e._v("\n                "+e._s("提交")+"\n            ")]),e._v(" "),i("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:function(t){return e.handleChangeStep(1)}}},[e._v("\n                "+e._s("上一步")+"\n            ")])]:e._e(),e._v(" "),i("bk-button",{on:{click:e.handleCancel}},[e._v(e._s("取消"))])],2)])};a._withStripped=!0;var n=i(57186),r=n.Z,s=(i(16627),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/index.vue";var o=s.exports},15676:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"layout",staticClass:"plan-list-page-layout",class:{toggled:e.isOpen}},[i("div",{staticClass:"layout-left"},[i("div",{staticClass:"left-wraper",style:e.styles},[e._t("default")],2),e._v(" "),e.flod?i("div",{staticClass:"toggle-button",on:{click:e.handleToggle}},[i("Icon",{staticClass:"toggle-arrow",attrs:{type:"down-small"}})],1):e._e()]),e._v(" "),e.flod?i("div",{staticClass:"layout-right"},[i("div",{staticClass:"right-wraper",class:{active:e.isShowRight}},[e.isShowRight?e._t("flod"):e._e()],2),e._v(" "),i("div",{staticClass:"close-btn",on:{click:e.handleClose}},[i("Icon",{attrs:{type:"close-big"}})],1)]):e._e()])};a._withStripped=!0;var n=i(742),r=n.Z,s=(i(62978),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/layout.vue";var o=s.exports},31695:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-dialog",{staticClass:"template-select-dialog",attrs:{value:e.value,title:"新建执行方案","header-position":"left","render-directive":"if","mask-close":!1,"esc-close":!1,width:480,draggable:!1},on:{cancel:e.handleCancel}},[i("jb-form",{ref:"form",attrs:{model:e.formData,"form-type":"vertical",rules:e.rules}},[i("jb-form-item",{attrs:{label:"作业模板",required:"",property:"templateId"}},[i("bk-select",{attrs:{placeholder:"请选择作业模板",clearable:!1,searchable:"","remote-method":e.fetchData},model:{value:e.formData.templateId,callback:function(t){e.$set(e.formData,"templateId",t)},expression:"formData.templateId"}},[e._l(e.templateList,(function(e){return i("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),e._v(" "),i("template",{slot:"extension"},[i("auth-component",{attrs:{auth:"job_template/create"}},[i("div",{staticStyle:{cursor:"pointer"},on:{click:e.handleCreate}},[i("i",{staticClass:"bk-icon icon-plus-circle"}),e._v(e._s("新建模板")+"\n                        ")]),e._v(" "),i("div",{attrs:{slot:"forbid"},slot:"forbid"},[i("i",{staticClass:"bk-icon icon-plus-circle"}),e._v(e._s("新建模板")+"\n                        ")])])],1)],2)],1)],1),e._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("auth-button",{staticClass:"mr10",attrs:{"resource-id":e.formData.templateId,auth:e.formData.templateId?"job_plan/create":"",theme:"primary"},on:{click:e.handleSubmit}},[e._v("\n            "+e._s("确定")+"\n        ")]),e._v(" "),i("bk-button",{on:{click:e.handleCancel}},[e._v(e._s("取消"))])],1)],1)};a._withStripped=!0;var n=i(3833),r=n.Z,s=(i(87005),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/template-select.vue";var o=s.exports},60663:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"task-manage-plan-page"},[i("list-action-layout",{scopedSlots:e._u([{key:"right",fn:function(){return[i("jb-search-select",{ref:"search",staticStyle:{width:"420px"},attrs:{"append-value":e.searchValue,data:e.searchData,placeholder:"输入 ID、执行方案名、作业模板名、更新人 或 创建人 进行搜索..."},on:{"on-change":e.handleSearch}}),e._v(" "),i("bk-button",{on:{click:e.handleMyPlan}},[e._v(e._s("我的方案"))])]},proxy:!0}])},[i("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createPlan"},expression:"{ type: 'button', value: 'createPlan' }"}],staticClass:"w120",attrs:{theme:"primary"},on:{click:e.handleCreatePlan}},[e._v("\n            "+e._s("新建")+"\n        ")]),e._v(" "),i("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.batchSyncDisableTips,expression:"batchSyncDisableTips"}]},[i("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"batchSyncPlan"},expression:"{ type: 'button', value: 'batchSyncPlan' }"}],on:{click:e.handleSyncBatch}},[e._v("\n                "+e._s("批量同步")+"\n            ")])],1),e._v(" "),i("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.batchEditGlobalVariableTips,expression:"batchEditGlobalVariableTips"}]},[i("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"batchEditPlanValue"},expression:"{ type: 'button', value: 'batchEditPlanValue' }"}],on:{click:e.handleBatchEditGlobalVariable}},[e._v("\n                "+e._s("批量编辑变量值")+"\n            ")])],1)],1),e._v(" "),i("layout",{attrs:{flod:e.isListFlod},on:{"on-flod":e.handleLayoutFlod}},[i("render-list",{directives:[{name:"test",rawName:"v-test",value:{type:"list",value:"plan"},expression:"{ type: 'list', value: 'plan' }"}],ref:"list",attrs:{"data-source":e.listDataSource,"search-control":function(){return e.$refs.search},selectable:"","outer-border":!1,size:e.tableSize,"row-class-name":e.caclRowClassName,"pagination-small":e.paginationSmall},on:{"on-selection-change":e.handleSelection}},[e.isCreatePlan?i("div",{staticClass:"create-plan-placeholder",class:{active:-1===e.selectPlanInfo.id},attrs:{slot:"prepend"},slot:"prepend"},[i("div",{staticClass:"name-box"},[e._v(e._s(e.newPlanName||"--"))]),e._v(" "),i("Icon",{staticStyle:{"font-size":"26px",color:"#ff9c01"},attrs:{type:"new-3",svg:""}})],1):e._e(),e._v(" "),e.allRenderColumnMap.id?i("bk-table-column",{key:"id",attrs:{label:"ID",prop:"id",width:"120",align:"left"}}):e._e(),e._v(" "),e.allRenderColumnMap.name?i("bk-table-column",{key:"name",attrs:{label:"执行方案名称",prop:"name","min-width":"300",align:"left","class-name":"plan-name-column"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("auth-component",{staticStyle:{width:"100%"},attrs:{permission:a.canView,auth:"job_plan/view","resource-id":a.id}},[i("div",{staticClass:"plan-name-box",class:{active:e.selectPlanInfo.id===a.id},on:{click:function(t){return e.handlePlanSelect(a)}}},[i("div",{staticClass:"name-wraper"},[i("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"name-text"},[e._v("\n                                    "+e._s(a.name)+"\n                                ")]),e._v(" "),a.cronJobCount>0?i("router-link",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.html",value:"\n                                        <div>有 "+a.cronJobCount+" 个定时任务</div>\n                                        <div>点击前往查看</div>\n                                    ",expression:"`\n                                        <div>${'有'} ${row.cronJobCount} ${'个定时任务'}</div>\n                                        <div>${'点击前往查看'}</div>\n                                    `",modifiers:{html:!0}}],staticClass:"cron-job-tag",attrs:{to:{name:"cronList",query:{planId:4}},target:"_blank"}},[i("Icon",{attrs:{type:"job-timing",svg:""}}),e._v(" "),i("span",{staticStyle:{"margin-left":"2px"}},[e._v(e._s(a.cronJobCount))])],1):e._e(),e._v(" "),a.needUpdate?i("span",{staticClass:"update-flag"},[i("Icon",{attrs:{"tippy-tips":"未同步",type:"sync-8",svg:""}})],1):e._e()],1),e._v(" "),i("Icon",{staticClass:"collection-flag",class:{favored:a.favored},attrs:{type:"collection"},on:{click:function(t){return t.stopPropagation(),e.handleCollection(a)}}}),e._v(" "),e.selectPlanInfo.id===a.id?i("Icon",{staticClass:"select-flag",attrs:{type:"arrow-full-right"}}):e._e()],1),e._v(" "),i("div",{staticClass:"plan-name-box",class:{active:e.selectPlanInfo.id===a.id},attrs:{slot:"forbid"},slot:"forbid"},[i("div",{staticClass:"name-wraper"},[i("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"name-text"},[e._v(e._s(a.name))]),e._v(" "),a.cronJobCount>0?i("router-link",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.html",value:"\n                                        <div>有 "+a.cronJobCount+" 个定时任务</div>\n                                        <div>点击前往查看</div>\n                                    ",expression:"`\n                                        <div>${'有'} ${row.cronJobCount} ${'个定时任务'}</div>\n                                        <div>${'点击前往查看'}</div>\n                                    `",modifiers:{html:!0}}],staticClass:"cron-job-tag",attrs:{to:{name:"cronList",query:{planId:4}},target:"_blank"}},[i("Icon",{attrs:{type:"job-timing",svg:""}}),e._v(" "),i("span",{staticStyle:{"margin-left":"2px"}},[e._v(e._s(a.cronJobCount))])],1):e._e(),e._v(" "),a.needUpdate?i("span",{staticClass:"update-flag"},[i("Icon",{attrs:{"tippy-tips":"未同步",type:"sync-8",svg:""}})],1):e._e()],1),e._v(" "),i("Icon",{staticClass:"collection-flag",class:{favored:a.favored},attrs:{type:"collection"},on:{click:function(t){return t.stopPropagation(),e.handleCollection(a)}}})],1)])]}}],null,!1,3154329132)}):e._e(),e._v(" "),e.allRenderColumnMap.templateName?i("bk-table-column",{key:"templateName",attrs:{label:"所属作业模板",prop:"templateName","min-width":"200","show-overflow-tooltip":"",align:"left"}}):e._e(),e._v(" "),e.allRenderColumnMap.lastModifyUser?i("bk-table-column",{key:"lastModifyUser",attrs:{label:"更新人",prop:"lastModifyUser",width:"160",align:"left"}}):e._e(),e._v(" "),e.allRenderColumnMap.lastModifyTime?i("bk-table-column",{key:"lastModifyTime",attrs:{label:"更新时间",prop:"lastModifyTime",width:"180",align:"left"}}):e._e(),e._v(" "),e.allRenderColumnMap.creator?i("bk-table-column",{key:"creator",attrs:{label:"创建人",prop:"creator",width:"120",align:"left"}}):e._e(),e._v(" "),e.allRenderColumnMap.createTime?i("bk-table-column",{key:"createTime",attrs:{label:"创建时间",prop:"createTime",width:"180",align:"left"}}):e._e(),e._v(" "),e.isListFlod?e._e():i("bk-table-column",{key:"action",attrs:{resizable:!1,label:"操作",prop:"statusText",fixed:"right",width:"120",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[i("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"execPlan"},expression:"{ type: 'button', value: 'execPlan' }"}],staticClass:"mr10",attrs:{text:""},on:{click:function(t){return e.handleExecute(a)}}},[e._v("\n                        "+e._s("去执行")+"\n                    ")]),e._v(" "),i("span",{attrs:{"tippy-tips":a.needUpdate?"":"无需同步"}},[i("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"syncPlan"},expression:"{ type: 'button', value: 'syncPlan' }"}],staticClass:"mr10",attrs:{permission:a.canEdit,auth:"job_plan/sync","resource-id":a.id,text:""},on:{click:function(t){return e.handleUpdate(a)}}},[e._v("\n                            "+e._s("去同步")+"\n                        ")])],1),e._v(" "),i("list-operation-extend",[i("div",{directives:[{name:"test",rawName:"v-test",value:{type:"link",value:"createCrontab"},expression:"{ type: 'link', value: 'createCrontab' }"}],staticClass:"action-item",on:{click:function(t){return e.handleGoCreateCronJob(a)}}},[e._v("\n                            "+e._s("定时执行")+"\n                        ")]),e._v(" "),i("auth-component",{attrs:{permission:a.canEdit,auth:"job_plan/edit","resource-id":a.id}},[i("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlan"},expression:"{ type: 'button', value: 'editPlan' }"}],staticClass:"action-item",on:{click:function(t){return e.handleEdit(a)}}},[e._v("\n                                "+e._s("编辑")+"\n                            ")]),e._v(" "),i("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlan"},expression:"{ type: 'button', value: 'editPlan' }"}],staticClass:"action-item",attrs:{slot:"forbid"},slot:"forbid"},[e._v("\n                                "+e._s("编辑")+"\n                            ")])]),e._v(" "),i("jb-popover-confirm",{staticClass:"action-del",attrs:{title:"确定删除该执行方案？",content:"若已设置了定时任务，需要先删除才能操作","confirm-handler":function(){return e.handleDelete(a)}}},[i("auth-component",{attrs:{permission:a.canDelete,auth:"job_plan/delete","resource-id":a.id}},[i("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deletePlan"},expression:"{ type: 'button', value: 'deletePlan' }"}],staticClass:"action-item"},[e._v("\n                                    "+e._s("删除")+"\n                                ")]),e._v(" "),i("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deletePlan"},expression:"{ type: 'button', value: 'deletePlan' }"}],staticClass:"action-item",attrs:{slot:"forbid"},slot:"forbid"},[e._v("\n                                    "+e._s("删除")+"\n                                ")])])],1)],1)]}}],null,!1,3351456039)}),e._v(" "),e.isListFlod?e._e():i("bk-table-column",{attrs:{type:"setting"}},[i("bk-table-setting-content",{attrs:{fields:e.tableColumn,selected:e.selectedTableColumn,size:e.tableSize},on:{"setting-change":e.handleSettingChange}})],1)],1),e._v(" "),i("template",{slot:"flod"},[i(e.planCom,e._b({ref:"planHandler",tag:"component",attrs:{"bottom-offset":20,"first-plan":e.isFirstTemplatePlan},on:{"on-name-change":e.handleCreatePlanNameChange,"on-create":e.handleCreateSubmit,"on-edit":e.handleShowPlanEdit,"on-edit-cancle":e.handleEditCancle,"on-edit-success":e.handleEditSuccess,"on-delete":e.handlePlanDelete}},"component",e.selectPlanInfo,!1))],1)],2),e._v(" "),i("lower-component",{attrs:{level:"custom",custom:e.isShowTemplateSelect}},[i("template-select",{on:{"on-change":e.handleTemplateChange},model:{value:e.isShowTemplateSelect,callback:function(t){e.isShowTemplateSelect=t},expression:"isShowTemplateSelect"}})],1),e._v(" "),i("lower-component",{attrs:{level:"custom",custom:e.isShowBatchGlobalVariable}},[i("batch-edit-global-variable",{attrs:{data:e.listSelect},on:{"on-success":e.handleBatchEditGlobalVariableSuccess},model:{value:e.isShowBatchGlobalVariable,callback:function(t){e.isShowBatchGlobalVariable=t},expression:"isShowBatchGlobalVariable"}})],1)],1)};a._withStripped=!0;var n=i(16832),r=n.Z,s=(i(476),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/index.vue";var o=s.exports},92981:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("global-variable-layout",{attrs:{type:"vertical"}},[e._l(e.usedList,(function(e){return i("global-variable",{key:e.id,ref:"used",refInFor:!0,attrs:{type:e.type,data:e}})})),e._v(" "),e.usedList.length<1?i("Empty",{key:"empty",staticStyle:{height:"160px","max-width":"960px","background-color":"#f0f1f5"},attrs:{title:"暂无引用的变量"}}):e._e(),e._v(" "),e.unusedList.length>0?i("toggle-display",{staticStyle:{"margin-top":"20px"},attrs:{count:e.unusedList.length}},[i("div",{staticStyle:{"margin-top":"20px"}},e._l(e.unusedList,(function(e){return i("global-variable",{key:e.id,ref:"unused",refInFor:!0,attrs:{type:e.type,data:e}})})),1)]):e._e()],2)};a._withStripped=!0;var n=i(95930),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/batch-edit-of-plan/index.vue";var o=s.exports},25522:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tr",{staticClass:"global-variable-create-row"},[i("td",[i("bk-select",{staticClass:"offset-left",attrs:{clearable:!1,value:e.formData.type},on:{change:function(t){return e.handleChange("type",t)}}},e._l(e.typeList,(function(e){return i("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1)],1),e._v(" "),i("td",[i("div",{staticClass:"variable-name-box offset-left",class:{"edit-error":e.isNameError}},[i("bk-input",{attrs:{value:e.formData.name},on:{blur:e.handleShowNameError,change:function(t){return e.handleChange("name",t)}}}),e._v(" "),e.isNameError?i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.errorNameText,expression:"errorNameText"}],staticClass:"input-error",attrs:{type:"info"}}):e._e()],1)]),e._v(" "),i("td",[e.isHostVarialbe?[e.formData.defaultTargetValue.isEmpty?i("div",{staticClass:"add-host-btn offset-left",on:{click:e.handleShowChooseIp}},[i("Icon",{staticStyle:{"margin-right":"6px"},attrs:{type:"plus"}}),e._v("\n                "+e._s("添加服务器")+"\n            ")],1):i("jb-edit-host",{attrs:{field:"defaultTargetValue",value:e.formData.defaultTargetValue}})]:[i("bk-input",{staticClass:"offset-left",attrs:{value:e.formData.defaultValue},on:{change:function(t){return e.handleChange("defaultValue",t)}}})]],2),e._v(" "),i("td",[i("jb-textarea",{staticClass:"offset-left",attrs:{value:e.formData.description},on:{change:function(t){return e.handleChange("description",t)}}})],1),e._v(" "),i("td",[e.withChangable?i("bk-checkbox",{attrs:{value:e.formData.changeable,"true-value":1,"false-value":0},on:{change:function(t){return e.handleChange("changeable",t)}}}):i("span",[e._v("--")])],1),e._v(" "),i("td",[i("bk-checkbox",{attrs:{value:e.formData.required,"true-value":1,"false-value":0},on:{change:function(t){return e.handleChange("required",t)}}})],1),e._v(" "),i("td",{staticClass:"action-row"},[i("Icon",{staticClass:"action-btn",attrs:{type:"add-fill"},on:{click:e.handleCreate}}),e._v(" "),i("Icon",{staticClass:"action-btn",attrs:{type:"reduce-fill"},on:{click:e.handleDelete}})],1),e._v(" "),i("choose-ip",{attrs:{"host-node-info":e.formData.defaultTargetValue.hostNodeInfo},on:{"on-change":e.handleHostChange},model:{value:e.isShowChooseIp,callback:function(t){e.isShowChooseIp=t},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var n=i(82493),r=n.Z,s=(i(18576),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/batch-operation/create-table-row.vue";var o=s.exports},85751:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"global-bariable-batch-operation"},[i("table",[i("thead",[i("tr",[i("th",{staticStyle:{width:"130px"}},[e._v(e._s("变量类型")),i("span",{staticClass:"require-flag"})]),e._v(" "),i("th",[e._v(e._s("变量名称")),i("span",{staticClass:"require-flag"})]),e._v(" "),i("th",[i("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"请输入变量的初始值 [可选]",expression:"'请输入变量的初始值 [可选]'"}],staticClass:"hover-tips"},[e._v("\n                        "+e._s("初始值")+"\n                    ")])]),e._v(" "),i("th",{staticStyle:{width:"320px"}},[e._v(e._s("变量描述"))]),e._v(" "),i("th",{staticStyle:{width:"80px"}},[i("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"变量的值在执行中可变",expression:"'变量的值在执行中可变'"}],staticClass:"hover-tips"},[e._v("\n                        "+e._s("赋值可变")+"\n                    ")])]),e._v(" "),i("th",{staticStyle:{width:"100px"}},[e._v(e._s("执行时必填"))]),e._v(" "),i("th",{staticStyle:{width:"80px"}},[e._v(e._s("操作"))])])]),e._v(" "),e._l(e.variableList,(function(t,a){return[t.id>0&&1!==t.delete?i("render-table-row",{key:t.id,ref:"variableEdit",refInFor:!0,attrs:{"variable-name-list":e.calcExcludeNameList(t),data:t},on:{"on-change":function(t){return e.handleChange(a,t)},"on-delete":function(t){return e.handleDelete(a)},"on-append":function(t){return e.handleAppendVariable(a)}}}):t.id<0?i("create-table-row",{key:t.id,ref:"variableCreate",refInFor:!0,attrs:{"variable-name-list":e.calcExcludeNameList(t),data:t},on:{"on-change":function(t){return e.handleChange(a,t)},"on-delete":function(t){return e.handleDelete(a)},"on-append":function(t){return e.handleAppendVariable(a)}}}):e._e()]}))],2),e._v(" "),e.isEmpty?i("div",{staticClass:"empty-box",on:{click:function(t){return e.handleAppendVariable(0)}}},[i("Icon",{attrs:{type:"add-fill"}}),e._v(" "),i("span",[e._v(e._s("全局变量"))])],1):e._e()])};a._withStripped=!0;var n=i(77809),r=n.Z,s=(i(16307),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/batch-operation/index.vue";var o=s.exports},71822:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("tbody",[i("tr",[i("td",[e._v("\n            "+e._s(e.data.typeText)+"\n        ")]),e._v(" "),i("td",[i("jb-edit-input",{attrs:{mode:"block",value:e.data.name,field:"name",rules:e.rules.name},on:{"on-change":e.handleChange}})],1),e._v(" "),i("td",[e.data.isHost?i("jb-edit-host",{attrs:{value:e.data.defaultTargetValue,field:"defaultTargetValue"},on:{"on-change":e.handleChange}}):i("jb-edit-input",{attrs:{mode:"block",value:e.data.defaultValue,field:"defaultValue"},on:{"on-change":e.handleChange}})],1),e._v(" "),i("td",[i("jb-edit-textarea",{attrs:{mode:"block",rows:1,value:e.data.description,field:"description"},on:{"on-change":e.handleChange}})],1),e._v(" "),i("td",[e.withChangable?i("bk-checkbox",{attrs:{value:e.data.changeable,"true-value":1,"false-value":0}}):i("span",[e._v("--")])],1),e._v(" "),i("td",[i("bk-checkbox",{attrs:{value:e.data.required,"true-value":1,"false-value":0}})],1),e._v(" "),i("td",{staticClass:"action-row"},[i("Icon",{staticClass:"action-btn",attrs:{type:"add-fill"},on:{click:e.handleAppend}}),e._v(" "),i("Icon",{staticClass:"action-btn",attrs:{type:"reduce-fill"},on:{click:e.handleDelete}})],1)])])};a._withStripped=!0;var n=i(37882),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/batch-operation/render-table-row.vue";var o=s.exports},182:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"job-variable-detail"},[i("table",{staticClass:"info-table"},e._l(e.describeMap,(function(t,a){return i("tr",{key:a,staticClass:"variable-item"},[i("td",{staticClass:"info-label"},[e._v(e._s(t.label))]),e._v(" "),i("td",{staticClass:"info-value"},[i("jb-edit-textarea",{attrs:{field:t.filed,value:e.data[t.filed],readonly:""}})],1)])})),0),e._v(" "),e.data.isHost?[i("server-panel",{staticStyle:{"margin-top":"20px"},attrs:{"detail-fullscreen":"","host-node-info":e.data.defaultTargetValue.hostNodeInfo}})]:e._e()],2)};a._withStripped=!0;var n=i(99505),r=n.Z,s=(i(4314),(0,i(35471).Z)(r,a,[],!1,null,"6ccc38c7",null));s.options.__file="src/views/task-manage/common/render-global-var/detail/index.vue";var o=s.exports},92011:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form",{ref:"varArrayForm",attrs:{model:e.formData}},[i("jb-form-item",{attrs:{label:"数组类型"}},[i("div",{staticClass:"array-type-group"},[i("bk-radio-group",{attrs:{value:e.arrayType}},[i("bk-radio-button",{staticClass:"item",attrs:{value:5}},[e._v("\n                    "+e._s("关联数组")+"\n                ")]),e._v(" "),i("bk-radio-button",{staticClass:"item",attrs:{value:6}},[e._v("\n                    "+e._s("索引数组")+"\n                ")])],1)],1)]),e._v(" "),i("jb-form-item",{attrs:{label:"变量名称"}},[i("bk-input",{attrs:{disabled:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量值"}},[i("bk-input",{attrs:{"native-attributes":{autofocus:"autofocus"}},model:{value:e.formData.defaultValue,callback:function(t){e.$set(e.formData,"defaultValue",t)},expression:"formData.defaultValue"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量描述"}},[i("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),i("jb-form-item",[i("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:e.formData.changeable,callback:function(t){e.$set(e.formData,"changeable",t)},expression:"formData.changeable"}},[e._v("\n            "+e._s("赋值可变")+"\n        ")])],1),e._v(" "),i("jb-form-item",[i("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:e.formData.required,callback:function(t){e.$set(e.formData,"required",t)},expression:"formData.required"}},[e._v("\n            "+e._s("必填")+"\n        ")])],1)],1)};a._withStripped=!0;var n=i(2328),r=n.Z,s=(i(3822),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/array.vue";var o=s.exports},88152:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form",{ref:"varHostForm",attrs:{model:e.formData}},[i("jb-form-item",{attrs:{label:"变量名称"}},[i("bk-input",{attrs:{disabled:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量值"}},[i("section",[i("bk-button",{on:{click:e.handleShowChooseIp}},[i("Icon",{attrs:{type:"plus"}}),e._v("\n                "+e._s("选择主机")+"\n            ")],1),e._v(" "),e.isShowClear?i("bk-button",{staticStyle:{"margin-left":"10px"},on:{click:e.handleClear}},[e._v("\n                "+e._s("清空")+"\n            ")]):e._e()],1),e._v(" "),i("server-panel",{staticClass:"view-server-panel",attrs:{"host-node-info":e.formData.defaultTargetValue.hostNodeInfo,editable:"","detail-fullscreen":""},on:{"on-change":e.handleHostChange}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量描述"}},[i("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),i("jb-form-item",[i("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:e.formData.required,callback:function(t){e.$set(e.formData,"required",t)},expression:"formData.required"}},[e._v(e._s("必填"))])],1),e._v(" "),i("choose-ip",{attrs:{"host-node-info":e.formData.defaultTargetValue.hostNodeInfo},on:{"on-change":e.handleHostChange},model:{value:e.isShowChooseIp,callback:function(t){e.isShowChooseIp=t},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var n=i(82096),r=n.Z,s=(i(45960),(0,i(35471).Z)(r,a,[],!1,null,"cd8062d0",null));s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/host.vue";var o=s.exports},93181:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form",{attrs:{"form-type":"vertical"}},[i("jb-form-item",{attrs:{label:"变量类型",required:"",desc:e.nametips}},[i("bk-radio-group",{model:{value:e.globalType,callback:function(t){e.globalType=t},expression:"globalType"}},[i("bk-radio-button",{staticClass:"item",attrs:{value:"string",name:"字符串"}},[e._v("\n                "+e._s("字符串")+"\n            ")]),e._v(" "),i("bk-radio-button",{staticClass:"item",attrs:{value:"namespace"}},[e._v("\n                "+e._s("命名空间")+"\n            ")]),e._v(" "),i("bk-radio-button",{staticClass:"item",attrs:{value:"host"}},[e._v("\n                "+e._s("主机列表")+"\n            ")]),e._v(" "),i("bk-radio-button",{staticClass:"item",attrs:{value:"password"}},[e._v("\n                "+e._s("密文")+"\n            ")]),e._v(" "),i("bk-radio-button",{staticClass:"item",attrs:{value:"array"}},[e._v("\n                "+e._s("数组")+"\n            ")])],1)],1),e._v(" "),i(e.globalVarCom,{ref:"handler",tag:"component",attrs:{variable:e.variable,data:e.data}})],1)};a._withStripped=!0;var n=i(62244),r=n.Z,s=(i(76051),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/index.vue";var o=s.exports},16305:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form",{ref:"varNamespaceForm",attrs:{model:e.formData}},[i("jb-form-item",{attrs:{label:"变量名称"}},[i("bk-input",{attrs:{disabled:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量值"}},[i("bk-input",{attrs:{"native-attributes":{autofocus:"autofocus"}},model:{value:e.formData.defaultValue,callback:function(t){e.$set(e.formData,"defaultValue",t)},expression:"formData.defaultValue"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量描述"}},[i("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),i("jb-form-item",[i("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:e.formData.required,callback:function(t){e.$set(e.formData,"required",t)},expression:"formData.required"}},[e._v("\n            "+e._s("必填")+"\n        ")])],1)],1)};a._withStripped=!0;var n=i(86015),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/namespace.vue";var o=s.exports},32358:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form",{ref:"varPasswordForm",attrs:{model:e.formData}},[i("jb-form-item",{attrs:{label:"变量名称"}},[i("bk-input",{attrs:{disabled:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量值"}},[i("bk-input",{attrs:{type:"password","password-icon":[],"native-attributes":{autofocus:"autofocus"}},model:{value:e.formData.defaultValue,callback:function(t){e.$set(e.formData,"defaultValue",t)},expression:"formData.defaultValue"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量描述"}},[i("bk-input",{attrs:{disabled:"",type:"textarea",row:8,maxlength:"100"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),i("jb-form-item",[i("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:e.formData.required,callback:function(t){e.$set(e.formData,"required",t)},expression:"formData.required"}},[e._v("\n            "+e._s("必填")+"\n        ")])],1)],1)};a._withStripped=!0;var n=i(25350),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/password.vue";var o=s.exports},92480:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form",{ref:"varStringForm",attrs:{model:e.formData}},[i("jb-form-item",{attrs:{label:"变量名称"}},[i("bk-input",{attrs:{disabled:""},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量值"}},[i("bk-input",{attrs:{"native-attributes":{autofocus:"autofocus"}},model:{value:e.formData.defaultValue,callback:function(t){e.$set(e.formData,"defaultValue",t)},expression:"formData.defaultValue"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量描述"}},[i("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),i("jb-form-item",[i("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:e.formData.changeable,callback:function(t){e.$set(e.formData,"changeable",t)},expression:"formData.changeable"}},[e._v("\n            "+e._s("赋值可变")+"\n        ")])],1),e._v(" "),i("jb-form-item",[i("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:e.formData.required,callback:function(t){e.$set(e.formData,"required",t)},expression:"formData.required"}},[e._v("\n            "+e._s("必填")+"\n        ")])],1)],1)};a._withStripped=!0;var n=i(89215),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/string.vue";var o=s.exports},40515:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"templateVariableRender"}},[e.showEmpty?i("div",[e._v("--")]):[i("div",{staticClass:"variable-batch-action"},[e.isOperation?i("bk-button",{attrs:{text:""},on:{click:e.handleShowBatchOperation}},[i("Icon",{attrs:{type:"bulk-edit"}}),e._v("\n                "+e._s("批量编辑")+"\n            ")],1):e._e(),e._v(" "),e.isEditOfPlan?i("bk-button",{attrs:{text:""},on:{click:e.handleShowBatchEditOfPlan}},[i("Icon",{attrs:{type:"bulk-edit"}}),e._v("\n                "+e._s("批量编辑变量值")+"\n            ")],1):e._e()],1),e._v(" "),i("div",{staticClass:"task-global-variable-box"},[e._l(e.variable,(function(t,a){return[1!==t.delete?i("div",{key:t.name+"_"+a,staticClass:"render-global-variable",class:[{"step-mode-diff":e.isDiff},e.isSelect?e.selectValue.includes(t.name)?"selected":"not-selected":""]},[i("div",{staticClass:"global-variable-content",class:[e.diff[t.id]&&e.diff[t.id].type],on:{mouseenter:function(i){return e.handleShowPopoverDetail(t)},mouseleave:e.handleHidePopoverDetail,click:function(i){return e.handlerOperation(t,a)}}},[i("div",{staticClass:"variable-type",attrs:{id:"globalVariableWithName_"+t.name}},[i("Icon",{attrs:{type:t.icon}})],1),e._v(" "),i("div",{staticClass:"variable-info"},[i("div",{staticClass:"variable-name"},[e._v(e._s(t.name))]),e._v(" "),i("div",{staticClass:"variable-description"},[e._v(e._s(t.valueText))])]),e._v(" "),e.isOperation?i("Icon",{staticClass:"variable-delete-btn",attrs:{type:"close"},on:{click:function(t){return t.stopPropagation(),e.handleDelete(a)}}}):e._e()],1)]):e._e()]})),e._v(" "),e.isOperation?i("div",{key:"create",staticClass:"global-variable-new"},[i("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"create_global_variable"},expression:"{ type: 'button', value: 'create_global_variable' }"}],staticClass:"new-btn",on:{click:e.handleCreate}},[i("Icon",{staticClass:"create-flag",attrs:{type:"plus"}}),e._v(" "),i("span",[e._v(e._s("全局变量"))])],1),e._v(" "),i("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"使用指引",expression:"'使用指引'"}],staticClass:"use-guide",class:{active:e.isShowUseGuide},on:{click:function(t){return t.stopPropagation(),e.handleUseGuideToggle.apply(null,arguments)}}},[i("Icon",{attrs:{type:"help-document-fill"}})],1)]):e._e()],2),e._v(" "),e.currentPopoverDetail.name?i("popover-detail",{attrs:{data:e.currentPopoverDetail,"select-value":e.selectValue,"edit-of-plan":e.isEditOfPlan,"default-field":e.defaultField}}):e._e(),e._v(" "),e.isOperation?i("element-teleport",{attrs:{target:"#templateOperationLayoutRight"}},[e.isShowUseGuide?i("variable-use-guide",{on:{"on-close":e.handleUseGuideClose}}):e._e()],1):e._e(),e._v(" "),e.isView||e.isEditOfPlan?i("jb-sideslider",{ref:"variableView",attrs:{"is-show":e.isShowDetail,title:"查看全局变量","show-footer":!1,media:e.detailMedia},on:{"update:isShow":function(t){e.isShowDetail=t},"update:is-show":function(t){e.isShowDetail=t}}},[e.isShowDetail?i("detail",{attrs:{data:e.currentData,"default-field":e.defaultField}}):e._e()],1):e._e(),e._v(" "),e.isEditOfPlan?i("jb-sideslider",{attrs:{"is-show":e.isShowEditOfPlan,title:"编辑全局变量",width:960},on:{"update:isShow":function(t){e.isShowEditOfPlan=t},"update:is-show":function(t){e.isShowEditOfPlan=t}}},[e.isShowEditOfPlan?i("edit-of-plan",{ref:"planGlobalVar",attrs:{data:e.currentData},on:{"on-change":e.handlePlanEditSubmit}}):e._e()],1):e._e(),e._v(" "),e.isEditOfPlan?i("jb-sideslider",{attrs:{"is-show":e.isShowBatchEditOfPlan,title:"批量编辑变量值",width:960,"ok-text":"确定","footer-offset-target":"variable-value"},on:{"update:isShow":function(t){e.isShowBatchEditOfPlan=t},"update:is-show":function(t){e.isShowBatchEditOfPlan=t}}},[e.isShowBatchEditOfPlan?i("batch-edit-of-plan",{ref:"planGlobalVar",attrs:{"selected-list":e.selectValue,"variable-list":e.variable},on:{"on-change":e.handleBatchPlanEditSubmit}}):e._e()],1):e._e(),e._v(" "),e.isOperation?i("jb-sideslider",e._b({attrs:{"is-show":e.isShowOperation,width:960},on:{"update:isShow":function(t){e.isShowOperation=t},"update:is-show":function(t){e.isShowOperation=t}}},"jb-sideslider",e.operationSideSliderInfo,!1),[e.isShowOperation?i("operation",{ref:"globalVar",attrs:{variable:e.realVariable,data:e.currentData},on:{"on-change":e.handleOperationSubmit}}):e._e()],1):e._e(),e._v(" "),e.isOperation?i("jb-sideslider",{attrs:{"is-show":e.isShowBatchOperation,title:"批量编辑变量",media:e.batchOperationMediaQuery},on:{"update:isShow":function(t){e.isShowBatchOperation=t},"update:is-show":function(t){e.isShowBatchOperation=t}}},[e.isShowBatchOperation?i("batch-operation",{attrs:{variable:e.variable},on:{"on-change":e.handleBatchOperationSubmit}}):e._e()],1):e._e()]],2)};a._withStripped=!0;var n=i(60815),r=n.Z,s=(i(48174),(0,i(35471).Z)(r,a,[],!1,null,"58e93fa2",null));s.options.__file="src/views/task-manage/common/render-global-var/index.vue";var o=s.exports},40339:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form",{ref:"varArrayForm",attrs:{model:e.formData,rules:e.rules}},[i("jb-form-item",{attrs:{label:"数组类型",required:"",property:"name"}},[i("div",{staticClass:"array-type-group"},[i("bk-radio-group",{attrs:{value:e.arrayType},on:{change:e.handleArrayTypeChange}},[i("bk-radio-button",{staticClass:"item",attrs:{value:5}},[e._v("\n                    "+e._s("关联数组")+"\n                ")]),e._v(" "),i("bk-radio-button",{staticClass:"item",attrs:{value:6}},[e._v("\n                    "+e._s("索引数组")+"\n                ")])],1)],1)]),e._v(" "),i("jb-form-item",{attrs:{label:"变量名称",required:"",property:"name"}},[i("jb-input",{attrs:{placeholder:"变量名仅支持大小写英文字母或下划线 [必填]",maxlength:30},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("jb-form-item",{ref:"defaultValue",attrs:{label:"初始值",desc:"仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案",property:"defaultValue"}},[i("bk-input",{staticClass:"var-default-value",attrs:{placeholder:"请输入变量的初始值 [可选]"},model:{value:e.formData.defaultValue,callback:function(t){e.$set(e.formData,"defaultValue",t)},expression:"formData.defaultValue"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量描述"}},[i("bk-input",{attrs:{type:"textarea",placeholder:"这里可以备注变量的用途、使用说明等信息 [可选]",maxlength:"100"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),i("jb-form-item",{staticClass:"form-item-changeable"},[i("bk-checkbox",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.right",value:"变量的值在执行中可变",expression:"'变量的值在执行中可变'",modifiers:{right:!0}}],attrs:{"true-value":1,"false-value":0},model:{value:e.formData.changeable,callback:function(t){e.$set(e.formData,"changeable",t)},expression:"formData.changeable"}},[e._v("\n            "+e._s("赋值可变")+"\n        ")])],1),e._v(" "),i("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[i("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:e.formData.required,callback:function(t){e.$set(e.formData,"required",t)},expression:"formData.required"}},[e._v("\n            "+e._s("执行时必填")+"\n        ")])],1)],1)};a._withStripped=!0;var n=i(73162),r=n.Z,s=(i(56262),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/operation/array.vue";var o=s.exports},14426:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("jb-form",{ref:"varHostForm",attrs:{model:e.formData,rules:e.rules}},[i("jb-form-item",{attrs:{label:"变量名称",required:"",property:"name"}},[i("jb-input",{attrs:{maxlength:30,placeholder:"变量名仅支持大小写英文字母或下划线 [必填]"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("jb-form-item",{ref:"defaultTargetValue",attrs:{label:"初始值",desc:"仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案",property:"defaultTargetValue"}},[i("div",[i("bk-button",{staticClass:"mr10",on:{click:e.handleOpenChooseIp}},[i("Icon",{attrs:{type:"plus"}}),e._v("\n                    "+e._s("选择主机")+"\n                ")],1),e._v(" "),e.isShowClear?i("bk-button",{on:{click:e.handleClearDefault}},[e._v("\n                    "+e._s("清空")+"\n                ")]):e._e()],1),e._v(" "),e.isShowClear?i("server-panel",{staticClass:"view-server-panel",attrs:{"host-node-info":e.formData.defaultTargetValue.hostNodeInfo,editable:"","detail-fullscreen":""},on:{"on-change":e.handleHostChange}}):e._e()],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量描述"}},[i("bk-input",{attrs:{placeholder:"这里可以备注变量的用途、使用说明等信息 [可选]",type:"textarea",maxlength:"100"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),i("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[i("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:e.formData.required,callback:function(t){e.$set(e.formData,"required",t)},expression:"formData.required"}},[e._v("\n                "+e._s("执行时必填")+"\n            ")])],1)],1),e._v(" "),i("choose-ip",{attrs:{"host-node-info":e.formData.defaultTargetValue.hostNodeInfo},on:{"on-change":e.handleHostChange},model:{value:e.isShowChooseIp,callback:function(t){e.isShowChooseIp=t},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var n=i(58822),r=n.Z,s=(i(86657),(0,i(35471).Z)(r,a,[],!1,null,"583e987a",null));s.options.__file="src/views/task-manage/common/render-global-var/operation/host.vue";var o=s.exports},31049:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form",{attrs:{"form-type":"vertical"}},[i("jb-form-item",{attrs:{label:"变量类型",required:"",desc:e.nametips}},[i("div",{staticClass:"variable-type-wraper"},[i("bk-radio-group",{model:{value:e.globalType,callback:function(t){e.globalType=t},expression:"globalType"}},[i("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"普通的字符串变量，可跨主机、跨步骤使用",expression:"'普通的字符串变量，可跨主机、跨步骤使用'"}],staticClass:"item",attrs:{value:"string",name:"字符串"}},[e._v("\n                    "+e._s("字符串")+"\n                ")]),e._v(" "),i("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"同一主机对象的共享变量，无法跨主机使用",expression:"'同一主机对象的共享变量，无法跨主机使用'"}],staticClass:"item",attrs:{value:"namespace"}},[e._v("\n                    "+e._s("命名空间")+"\n                ")]),e._v(" "),i("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"通过拓扑、动态分组或属性筛选的主机对象",expression:"'通过拓扑、动态分组或属性筛选的主机对象'"}],staticClass:"item",attrs:{value:"host"}},[e._v("\n                    "+e._s("主机列表")+"\n                ")]),e._v(" "),i("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"经过加密处理的变量，不会以明文形式外显",expression:"'经过加密处理的变量，不会以明文形式外显'"}],staticClass:"item",attrs:{value:"password"}},[e._v("\n                    "+e._s("密文")+"\n                ")]),e._v(" "),i("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"Array 格式的字符串，支持关联或索引数组",expression:"'Array 格式的字符串，支持关联或索引数组'"}],staticClass:"item",attrs:{value:"array"}},[e._v("\n                    "+e._s("数组")+"\n                ")])],1)],1)]),e._v(" "),i(e.globalVarCom,e._g(e._b({ref:"handler",tag:"component",attrs:{data:e.formData}},"component",e.$attrs,!1),e.$listeners))],1)};a._withStripped=!0;var n=i(43839),r=n.Z,s=(i(30725),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/operation/index.vue";var o=s.exports},36805:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form",{ref:"varNamespaceForm",attrs:{model:e.formData,rules:e.rules}},[i("jb-form-item",{attrs:{label:"变量名称",required:"",property:"name"}},[i("jb-input",{attrs:{placeholder:"变量名仅支持大小写英文字母或下划线 [必填]",maxlength:30},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"初始值",desc:"仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案",property:"defaultValue"}},[i("bk-input",{attrs:{placeholder:"请输入变量的初始值 [可选]"},model:{value:e.formData.defaultValue,callback:function(t){e.$set(e.formData,"defaultValue",t)},expression:"formData.defaultValue"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量描述"}},[i("bk-input",{attrs:{placeholder:"这里可以备注变量的用途、使用说明等信息 [可选]",type:"textarea",maxlength:"100"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),i("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[i("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:e.formData.required,callback:function(t){e.$set(e.formData,"required",t)},expression:"formData.required"}},[e._v("\n            "+e._s("执行时必填")+"\n        ")])],1)],1)};a._withStripped=!0;var n=i(60558),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/operation/namespace.vue";var o=s.exports},33435:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form",{ref:"varPasswordForm",attrs:{model:e.formData,rules:e.rules}},[i("jb-form-item",{attrs:{label:"变量名称",required:"",property:"name"}},[i("jb-input",{attrs:{placeholder:"变量名仅支持大小写英文字母或下划线 [必填]",maxlength:30},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("jb-form-item",{ref:"defaultValue",attrs:{label:"初始值",desc:"仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案",property:"defaultValue"}},[i("bk-input",{attrs:{placeholder:"请输入变量的初始值 [可选]",type:"password","password-icon":e.passwordIcon},model:{value:e.formData.defaultValue,callback:function(t){e.$set(e.formData,"defaultValue",t)},expression:"formData.defaultValue"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量描述"}},[i("bk-input",{attrs:{type:"textarea",placeholder:"这里可以备注变量的用途、使用说明等信息 [可选]",maxlength:"100"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),i("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[i("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:e.formData.required,callback:function(t){e.$set(e.formData,"required",t)},expression:"formData.required"}},[e._v("\n            "+e._s("执行时必填")+"\n        ")])],1)],1)};a._withStripped=!0;var n=i(52837),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/operation/password.vue";var o=s.exports},93046:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("jb-form",{ref:"varStringForm",attrs:{model:e.formData,rules:e.rules}},[i("jb-form-item",{attrs:{label:"变量名称",required:"",property:"name"}},[i("jb-input",{attrs:{placeholder:"变量名仅支持大小写英文字母或下划线 [必填]",maxlength:30},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name",t)},expression:"formData.name"}})],1),e._v(" "),i("jb-form-item",{ref:"defaultValue",attrs:{label:"初始值",desc:"仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案",property:"defaultValue"}},[i("bk-input",{staticClass:"var-default-value",attrs:{placeholder:"请输入变量的初始值 [可选]"},model:{value:e.formData.defaultValue,callback:function(t){e.$set(e.formData,"defaultValue",t)},expression:"formData.defaultValue"}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"变量描述"}},[i("bk-input",{attrs:{type:"textarea",placeholder:"这里可以备注变量的用途、使用说明等信息 [可选]",maxlength:"100"},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1),e._v(" "),i("jb-form-item",{attrs:{"ext-cls":"changeable-cls"}},[i("bk-checkbox",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.right",value:"变量的值在执行中可变",expression:"'变量的值在执行中可变'",modifiers:{right:!0}}],attrs:{"true-value":1,"false-value":0},model:{value:e.formData.changeable,callback:function(t){e.$set(e.formData,"changeable",t)},expression:"formData.changeable"}},[e._v("\n            "+e._s("赋值可变")+"\n        ")])],1),e._v(" "),i("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[i("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:e.formData.required,callback:function(t){e.$set(e.formData,"required",t)},expression:"formData.required"}},[e._v("\n            "+e._s("执行时必填")+"\n        ")])],1)],1)};a._withStripped=!0;var n=i(59583),r=n.Z,s=(i(84094),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/operation/string.vue";var o=s.exports},23205:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"detail",staticClass:"global-variable-popover-detail",class:e.classes,style:e.styles},[i("div",{staticClass:"wraper"},[i("div",{staticClass:"header"},[i("span",[e._v(e._s(e.data.name))]),e._v(" "),e.editOfPlan&&!e.selectValue.includes(e.data.name)?i("span",{staticClass:"tag"},[e._v("\n                "+e._s("未引用")+"\n            ")]):e._e()]),e._v(" "),i("detail-layout",[i("detail-item",{attrs:{label:"变量类型："}},[e._v("\n                "+e._s(e.data.typeText)+"\n            ")]),e._v(" "),i("detail-item",{attrs:{label:e.defaultField+"："}},[e._v("\n                "+e._s(e.data.valueText)+"\n            ")]),e._v(" "),i("detail-item",{attrs:{label:"变量描述："}},[e._v("\n                "+e._s(e.data.description||"--")+"\n            ")]),e._v(" "),i("detail-item",{attrs:{label:"必填："}},[e._v("\n                "+e._s(e.data.requiredText)+"\n            ")]),e._v(" "),i("detail-item",{attrs:{label:"赋值可变："}},[e._v("\n                "+e._s(e.data.changeableText)+"\n            ")])],1)],1)])};a._withStripped=!0;var n=i(95472),r=n.Z,s=(i(26403),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/popover-detail.vue";var o=s.exports},14617:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"templateStepRender"}},[i("div",{staticClass:"task-step-container",class:e.stepContainerClasses},[e._l(e.steps,(function(t,a){return[1!==t.delete?i(e.stepBoxCom,{key:a+"_"+t.id,tag:"components",staticClass:"step-drag-box",class:{sort:e.isOperation&&e.dragStartIndex>-1},attrs:{list:[t],group:{name:"step",pull:"clone",put:e.dragStartIndex!==a},move:e.handleDragMove,index:a},on:{start:function(t){return e.handleDragStart(a)},add:function(t){return e.handleDragAdd(a)}}},[i("div",{staticClass:"step-content-wraper",class:{"step-mode-diff":e.isDiff,select:e.isSelect,"not-select":e.isSelect&&!e.selectValue.includes(t.id),active:a===e.currentIndex},attrs:{order:e.genOrder()}},[i("div",{staticClass:"render-task-step",class:[e.diff[t.id]&&e.diff[t.id].type]},[i("div",{staticClass:"step-content",on:{click:function(t){return e.handleStepClick(a)}}},[i("div",{staticClass:"step-icon"},[i("Icon",{attrs:{type:t.icon}})],1),e._v(" "),i("div",{staticClass:"step-name"},[i("div",{staticClass:"step-name-text"},[e._v(e._s(t.name||"--"))]),e._v(" "),i("div",{domProps:{innerHTML:e._s(t.scriptStatusHtml)}})]),e._v(" "),e.isOperation?i("Icon",{staticClass:"draggable-flag",attrs:{type:"move"}}):e._e()],1),e._v(" "),e.isOperation?i("div",{staticClass:"step-operation"},[i("Icon",{staticClass:"operation",attrs:{type:"plus-circle"},on:{click:function(t){return e.handleShowCreate(a)}}}),e._v(" "),i("Icon",{staticClass:"operation",attrs:{type:"minus-circle"},on:{click:function(t){return e.handleDel(a)}}}),e._v(" "),i("Icon",{staticClass:"operation",attrs:{type:"edit-2"},on:{click:function(t){return e.handleShowEdit(a)}}}),e._v(" "),i("Icon",{staticClass:"operation",attrs:{type:"step-copy","tippy-tips":"克隆步骤"},on:{mouseover:function(t){return e.handleCloneStepHover(a,!0)},mouseout:function(t){return e.handleCloneStepHover(a,!1)},click:function(t){return e.handleCloneStep(a)}}})],1):e._e(),e._v(" "),e.isSelect?i("div",{staticClass:"select-flag",on:{click:function(i){return e.handleStepSelect(t)}}},[i("div",{staticClass:"select-checked"})]):e._e(),e._v(" "),e.isEdit?[t.id?e._e():i("div",{staticClass:"step-new-flag"},[e._v("new")])]:e._e(),e._v(" "),!1===t.localValidator?i("div",{staticClass:"need-validate-falg"},[e._v("\n                            "+e._s("待补全")+"\n                        ")]):e._e()],2),e._v(" "),e.diff[t.id]&&"move"===e.diff[t.id].type?i("div",{staticClass:"diff-order"},[0!==e.diff[t.id].value?i("div",{staticClass:"order-change"},[i("Icon",{attrs:{type:e.diff[t.id].value<0?"down-arrow":"up-arrow"}}),e._v("\n                            "+e._s(Math.abs(e.diff[t.id].value))+"\n                        ")],1):i("span",{staticClass:"order-normal"},[e._v("-")])]):e._e()])]):e._e()]})),e._v(" "),e.isOperation?i("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"create_step"},expression:"{ type: 'button', value: 'create_step' }"}],key:"create",staticClass:"step-create-btn",on:{click:function(t){return e.handleShowCreate(-1)}}},[i("Icon",{staticClass:"action-flag",attrs:{type:"plus"}}),e._v("\n            "+e._s("作业步骤")+"\n        ")],1):e._e()],2),e._v(" "),e.isView?i("lower-component",[i("jb-sideslider",{attrs:{"is-show":e.isShowDetail,title:"查看作业步骤","show-footer":!1,"quick-close":!0,width:896,media:e.mediaQueryMap},on:{"update:isShow":function(t){e.isShowDetail=t},"update:is-show":function(t){e.isShowDetail=t}}},[e.isShowDetail?i("task-step-view",{ref:"stepViewRef",attrs:{variable:e.hostVariables,data:e.detailInfo}}):e._e()],1)],1):e._e(),e._v(" "),e.isOperation?i("lower-component",[i("jb-sideslider",e._b({attrs:{id:"taskStepOperationSideslider","is-show":e.isShowOperation,width:916,media:e.mediaQueryMap},on:{"update:isShow":function(t){e.isShowOperation=t},"update:is-show":function(t){e.isShowOperation=t}}},"jb-sideslider",e.operationSideSliderInfo,!1),[e.isShowOperation?i("task-step-operation",{ref:"taskStep",attrs:{variable:e.hostVariables,"script-variables":e.scriptVariables,data:e.operationData},on:{"on-change":e.handleTaskStepSubmit}}):e._e()],1)],1):e._e()],1)};a._withStripped=!0;var n=i(63330),r=n.Z,s=(i(51723),(0,i(35471).Z)(r,a,[],!1,null,"30214c10",null));s.options.__file="src/views/task-manage/common/render-task-step/index.vue";var o=s.exports},3724:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"artificial-view"},[i("detail-item",{attrs:{label:"确认人："}},[i("div",{staticClass:"approval-wraper"},[e._l(e.renderRoleList,(function(t){return i("div",{key:t,staticClass:"item"},[i("Icon",{staticClass:"approval-flag",attrs:{type:"user-group-gray"}}),e._v("\n                "+e._s(t)+"\n            ")],1)})),e._v(" "),e._l(e.stepInfo.approvalUser.userList,(function(t){return i("div",{key:t,staticClass:"item"},[i("Icon",{staticClass:"approval-flag",attrs:{type:"user"}}),e._v("\n                "+e._s(t)+"\n            ")],1)}))],2)]),e._v(" "),i("detail-item",{attrs:{label:"通知方式："}},[e._v(e._s(e.renderChannel))]),e._v(" "),i("detail-item",{attrs:{label:"确认描述："}},[e._v(e._s(e.stepInfo.approvalMessage||"--"))])],1)};a._withStripped=!0;var n=i(9285),r=n.Z,s=(i(19833),(0,i(35471).Z)(r,a,[],!1,null,"08b9e5d1",null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/artificial.vue";var o=s.exports},82248:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"render-file-path-box"},[i("bk-popover",{attrs:{placement:"left"}},[e._l(e.renderData,(function(t,a){return i("div",{key:a,staticClass:"path-text-row"},[e._v("\n            "+e._s(t)+"\n        ")])})),e._v(" "),e.hasMore?i("div",[e._v("...")]):e._e(),e._v(" "),i("ul",{staticClass:"source-file-tips-box",attrs:{slot:"content"},slot:"content"},e._l(e.data,(function(t,a){return i("li",{key:a,staticClass:"row"},[i("span",{staticClass:"dot"}),e._v("\n                "+e._s(t)+"\n            ")])})),0)],2)],1)};a._withStripped=!0;var n=i(43413),r=n.Z,s=(i(77515),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-file-path.vue";var o=s.exports},28052:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"render-file-server"},[i("div",{staticClass:"server-agent-text",domProps:{innerHTML:e._s(e.data.serverDesc)},on:{click:e.handlerView}}),e._v(" "),i("jb-dialog",{staticClass:"step-view-server-detail-dialog",attrs:{width:1020,"ok-text":"关闭"},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"variable-title"},[i("span",[e._v(e._s("服务器文件-服务器列表"))]),e._v(" "),i("i",{staticClass:"server-detail-close bk-icon icon-close",on:{click:e.handleClose}})])]},proxy:!0}]),model:{value:e.isShowDetail,callback:function(t){e.isShowDetail=t},expression:"isShowDetail"}},[e._v(" "),i("div",{staticClass:"content-wraper"},[i("scroll-faker",[i("server-panel",{attrs:{"detail-mode":"dialog","host-node-info":e.hostNodeInfo}})],1)],1)])],1)};a._withStripped=!0;var n=i(86658),r=n.Z,s=(i(3723),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-file-server.vue";var o=s.exports},77422:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"step-view-global-variable",on:{click:e.handlerView}},[i("div",{staticClass:"flag"},[i("Icon",{attrs:{type:"host"}})],1),e._v(" "),i("div",{staticClass:"name",attrs:{title:e.name}},[e._v(e._s(e.name))]),e._v(" "),i("jb-dialog",{staticClass:"global-host-variable-detail-dialog",attrs:{title:e.title,width:1020,"ok-text":"关闭"},scopedSlots:e._u([{key:"header",fn:function(){return[i("div",{staticClass:"variable-title"},[i("span",[e._v(e._s(e.title))]),e._v(" "),i("i",{staticClass:"global-variable-dialog-close bk-icon icon-close",on:{click:e.handleClose}})])]},proxy:!0}]),model:{value:e.isShowDetail,callback:function(t){e.isShowDetail=t},expression:"isShowDetail"}},[e._v(" "),i("div",{staticClass:"content-wraper"},[e.isEmpty?i("Empty",{staticStyle:{height:"100%"},attrs:{title:"变量值为空"}}):i("scroll-faker",[i("server-panel",{attrs:{"detail-mode":"dialog","host-node-info":e.hostNodeInfo}})],1)],1)])],1)};a._withStripped=!0;var n=i(76293),r=n.Z,s=(i(73424),i(89407),(0,i(35471).Z)(r,a,[],!1,null,"42caee01",null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-global-variable.vue";var o=s.exports},1854:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"render-server-file"},[e.isShowLocalFile||e.isShowServerFile||e.isShowSourceFile?i("bk-collapse",{staticClass:"host-detail",model:{value:e.activeResult,callback:function(t){e.activeResult=t},expression:"activeResult"}},[e.isShowLocalFile?i("jb-collapse-item",{attrs:{name:"local",active:e.activeResult},scopedSlots:e._u([{key:"content",fn:function(){return[i("table",[i("tbody",e._l(e.localFileList,(function(t,a){return i("tr",{key:a},[i("td",{staticStyle:{width:"40%","word-break":"break-all"}},[e._v(e._s(t.fileLocationText))]),e._v(" "),i("td",[e._v(e._s(t.fileSizeText))])])})),0)])]},proxy:!0}],null,!1,372446648)},[i("span",{staticClass:"collapse-title"},[e._v(e._s("已选择")),i("span",{staticClass:"number strong"},[e._v(e._s(e.localFileList.length))]),e._v(e._s("个本地文件"))])]):e._e(),e._v(" "),e.isShowSourceFile?i("jb-collapse-item",{attrs:{name:"source",active:e.activeResult},scopedSlots:e._u([{key:"content",fn:function(){return[i("table",[i("thead",[i("th",{staticStyle:{width:"40%"}},[e._v(e._s("文件名称"))]),e._v(" "),i("th",[e._v(e._s("文件源"))])]),e._v(" "),i("tbody",{staticClass:"source-file-list"},e._l(e.sourceFileList,(function(t,a){return i("tr",{key:a},[i("td",[i("render-file-path",{attrs:{data:t.fileLocation}})],1),e._v(" "),i("td",[i("span",{staticClass:"source-file-alias",on:{click:function(i){return e.handleGoSource(t,a)}}},[e._v("\n                                    "+e._s(e.fileSourceAliasList[a])+"\n                                    "),i("Icon",{staticClass:"source-file-icon",attrs:{type:"edit",svg:""}})],1)])])})),0)])]},proxy:!0}],null,!1,3581340703)},[i("span",{staticClass:"collapse-title"},[e._v(e._s("已选择")),i("span",{staticClass:"number strong"},[e._v(e._s(e.sourceFileList.length))]),e._v(e._s("个文件源文件"))])]):e._e(),e._v(" "),e.isShowServerFile?i("jb-collapse-item",{attrs:{name:"server",active:e.activeResult},scopedSlots:e._u([{key:"content",fn:function(){return[i("table",[i("thead",[i("th",{staticStyle:{width:"40%"}},[e._v(e._s("文件路径"))]),e._v(" "),i("th",{staticStyle:{width:"15%"}},[e._v(e._s("服务器列表"))]),e._v(" "),i("th",[e._v(e._s("Agent 状态"))]),e._v(" "),i("th",{staticStyle:{width:"20%"}},[e._v(e._s("服务器账号"))])]),e._v(" "),i("tbody",e._l(e.serverFileList,(function(t,a){return i("tr",{key:a},[i("td",[i("render-file-path",{attrs:{data:t.fileLocation}})],1),e._v(" "),t.isVar?[i("td",[i("render-global-variable",{attrs:{name:t.serverDesc,data:e.variable}})],1),e._v(" "),i("td",[i("render-server-agent",{attrs:{title:"全局变量 - "+t.host.variable,"host-node-info":e.findVariableValue(t.host.variable)}})],1)]:[i("td",[i("render-file-server",{attrs:{data:t}})],1),e._v(" "),i("td",[i("render-server-agent",{attrs:{title:"服务器文件-服务器列表","host-node-info":t.host.hostNodeInfo}})],1)],e._v(" "),i("td",[e._v(e._s(e.findAccountAlias(t.account)))])],2)})),0)])]},proxy:!0}],null,!1,1685530593)},[i("span",{staticClass:"collapse-title"},[e._v(e._s("已选择")),i("span",{staticClass:"number strong"},[e._v(e._s(e.serverFileList.length))]),e._v(e._s("个服务器文件"))])]):e._e()],1):e._e()],1)};a._withStripped=!0;var n=i(60996),r=n.Z,s=(i(85959),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-source-file.vue";var o=s.exports},21594:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"distro-file-view",class:{loading:e.isLoading}},[i("detail-item",{attrs:{label:"超时时长："}},[e._v(e._s(e.stepInfo.timeout)+" (s)")]),e._v(" "),i("detail-item",{attrs:{label:"错误处理："}},[e._v(e._s(e.stepInfo.ignoreErrorText))]),e._v(" "),i("detail-item",{attrs:{label:"上传限速："}},[e._v(e._s(e.stepInfo.uploadSpeedLimitText))]),e._v(" "),i("detail-item",{attrs:{label:"下载限速："}},[e._v(e._s(e.stepInfo.downloadSpeedLimitText))]),e._v(" "),i("detail-item",{attrs:{label:"文件来源：",layout:"vertical"}},[e.isLoading?e._e():i("render-source-file",{attrs:{data:e.stepInfo.fileSourceList,variable:e.variable,account:e.account}})],1),e._v(" "),i("detail-item",{attrs:{label:"目标路径："}},[e._v(e._s(e.stepInfo.fileDestination.path))]),e._v(" "),i("detail-item",{attrs:{label:"传输模式："}},[e._v(e._s(e.stepInfo.transferModeText))]),e._v(" "),i("detail-item",{attrs:{label:"执行帐号："}},[e._v(e._s(e.executeAccountText))]),e._v(" "),e.stepInfo.fileDestination.server.variable?i("detail-item",{attrs:{label:"执行目标："}},[i("render-global-variable",{attrs:{type:"执行目标",data:e.variable,name:e.stepInfo.fileDestination.server.variable}})],1):i("detail-item",{attrs:{label:"执行目标：",layout:"vertical"}},[i("server-panel",{attrs:{"detail-fullscreen":"","host-node-info":e.stepInfo.fileDestination.server.hostNodeInfo}})],1)],1)};a._withStripped=!0;var n=i(48939),r=n.Z,s=(i(75292),(0,i(35471).Z)(r,a,[],!1,null,"71de5a1f",null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/distro-file.vue";var o=s.exports},80073:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"exec-script-view",class:{loading:e.isLoading}},[i("detail-item",{attrs:{label:"脚本来源："}},[e._v("\n        "+e._s(e.stepInfo.scriptSourceText)+"\n    ")]),e._v(" "),e.isReferScript?i("detail-item",{attrs:{label:"脚本引用："}},[i("span",[e._v(e._s(e.scriptName))]),e._v(" "),i("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"脚本详情",expression:"'脚本详情'"}],staticClass:"script-detail",attrs:{type:"jump"},on:{click:e.handleGoScriptDetail}}),e._v(" "),e.stepInfo.isNeedUpdate||e.stepInfo.isDisabled?i("div",{staticClass:"script-update-flag"},[i("span",{domProps:{innerHTML:e._s(e.stepInfo.scriptStatusHtml)}}),e._v(" "),e.stepInfo.isNeedUpdate?i("bk-button",{attrs:{text:""},on:{click:e.handleGoScriptVersion}},[e._v("\n                "+e._s("版本对比")+"\n            ")]):e._e(),e._v(" "),i("bk-button",{attrs:{text:""},on:{click:e.handleUpdateScript}},[e._v("\n                "+e._s("去更新")+"\n            ")])],1):e._e()],1):e._e(),e._v(" "),i("detail-item",{attrs:{label:"脚本内容：",layout:"vertical"}},[i("ace-editor",{attrs:{value:e.stepInfo.content,lang:e.language,options:e.languageOption,readonly:""}})],1),e._v(" "),i("div",[i("detail-item",{attrs:{label:"脚本参数："}},[i("jb-edit-textarea",{attrs:{field:"scriptParam",value:e.stepInfo.scriptParam,readonly:""}})],1),e._v(" "),i("detail-item",{attrs:{label:"超时时长："}},[e._v(e._s(e.stepInfo.timeout)+"（s）")]),e._v(" "),i("detail-item",{attrs:{label:"错误处理："}},[e._v(e._s(e.stepInfo.ignoreErrorText))]),e._v(" "),i("detail-item",{attrs:{label:"执行账号："}},[e._v(e._s(e.executeAccountText))])],1),e._v(" "),e.stepInfo.executeTarget.variable?i("detail-item",{attrs:{label:"执行目标："}},[i("render-global-variable",{attrs:{type:"执行目标",name:e.stepInfo.executeTarget.variable,data:e.variable}})],1):i("detail-item",{attrs:{label:"执行目标：",layout:"vertical"}},[i("server-panel",{attrs:{"detail-fullscreen":"","host-node-info":e.stepInfo.executeTarget.hostNodeInfo}})],1)],1)};a._withStripped=!0;var n=i(80803),r=n.Z,s=(i(44508),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/exec-script.vue";var o=s.exports},86136:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("detail-layout",{staticClass:"detail-layout-wrapper",attrs:{mode:"see"}},[i("detail-item",{attrs:{label:"步骤类型："}},[e._v(e._s(e.stepTypeText))]),e._v(" "),i("detail-item",{attrs:{label:"步骤名称："}},[e._v(e._s(e.data.name))]),e._v(" "),i(e.stepCom,{ref:"stepCom",tag:"component",attrs:{variable:e.variable,data:e.data}})],1)};a._withStripped=!0;var n=i(43424),r=n.Z,s=(i(24220),(0,i(35471).Z)(r,a,[],!1,null,"28d8770b",null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/index.vue";var o=s.exports},69431:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("jb-form",{ref:"form",attrs:{model:e.formData,rules:e.rules,fixed:"","label-width":110}},[i("item-factory",{attrs:{name:"stepName",field:"name",placeholder:"推荐按步骤实际处理的场景行为来取名...","form-data":e.formData},on:{"on-change":e.handleNameChange}}),e._v(" "),i("jb-form-item",{attrs:{label:"确认人",required:!0,property:"approvalUser"}},[i("jb-user-selector",{staticClass:"input",attrs:{placeholder:"输入确认人",user:e.formData.approvalUser.userList,role:e.formData.approvalUser.roleList,"filter-list":["JOB_EXTRA_OBSERVER"]},on:{"on-change":e.handleApprovalUserChange}})],1),e._v(" "),i("jb-form-item",{attrs:{label:"通知方式"}},[i("div",{staticClass:"notify-channel-wraper"},[i("bk-checkbox",{attrs:{checked:e.isChannelAll,indeterminate:e.isChannelIndeterminate},nativeOn:{click:function(t){return e.handleToggleAllChannel.apply(null,arguments)}}},[e._v("\n                    "+e._s("全部")+"\n                ")]),e._v(" "),i("bk-checkbox-group",{staticClass:"all-channel",model:{value:e.formData.notifyChannel,callback:function(t){e.$set(e.formData,"notifyChannel",t)},expression:"formData.notifyChannel"}},e._l(e.channleList,(function(t){return i("bk-checkbox",{key:t.code,attrs:{value:t.code}},[e._v("\n                        "+e._s(t.name)+"\n                    ")])})),1)],1)]),e._v(" "),i("jb-form-item",{attrs:{label:"确认描述"}},[i("bk-input",{staticClass:"input",attrs:{type:"textarea",maxlength:1e3},model:{value:e.formData.approvalMessage,callback:function(t){e.$set(e.formData,"approvalMessage",t)},expression:"formData.approvalMessage"}})],1)],1)],1)};a._withStripped=!0;var n=i(42762),r=n.Z,s=(i(92744),(0,i(35471).Z)(r,a,[],!1,null,"94b0c084",null));s.options.__file="src/views/task-manage/common/render-task-step/task-step/components/artificial.vue";var o=s.exports},9784:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"step-distro-file"},[i("jb-form",{ref:"form",attrs:{model:e.formData,fixed:"","label-width":e.formMarginLeftWidth}},[i("card-layout",{staticClass:"block",attrs:{title:"基本信息"}},[i("item-factory",{attrs:{name:"stepName",field:"name",placeholder:"推荐按步骤实际处理的场景行为来取名...","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"timeout",field:"timeout","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"errorHandle",field:"ignoreError","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"speedLimit",field:"uploadSpeedLimit",label:"上传限速","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"speedLimit",field:"downloadSpeedLimit",label:"下载限速","form-data":e.formData},on:{"on-change":e.handleChange}})],1),e._v(" "),i("card-layout",{staticClass:"block",attrs:{title:"文件来源"}},[i("item-factory",{attrs:{name:"sourceFileOfTemplate",field:"fileSourceList",variable:e.variable,"form-data":e.formData},on:{"on-change":e.handleChange}})],1),e._v(" "),i("card-layout",{staticClass:"block",attrs:{title:"传输目标"}},[i("item-factory",{ref:"targetPath",attrs:{name:"targetPath",field:"path","tips-placement":"top","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"transferMode",field:"transferMode","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"executeAccount",field:"account","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"targetServerOfTemplate",field:"server",variable:e.variable,"form-data":e.formData},on:{"on-change":e.handleChange}})],1)],1)],1)};a._withStripped=!0;var n=i(12351),r=n.Z,s=(i(58991),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step/components/distro-file.vue";var o=s.exports},34795:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("jb-form",{ref:"form",attrs:{model:e.formData,fixed:"","label-width":110}},[i("item-factory",{attrs:{name:"scriptName",field:"name",placeholder:"推荐按步骤实际处理的场景行为来取名...","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"scriptSourceOfTemplate","script-source-field":"scriptSource","content-field":"content","language-field":"scriptLanguage","script-id-field":"scriptId","script-version-id-field":"scriptVersionId","script-status-field":"status","form-data":e.formData},on:{"on-change":e.handleChange,"on-reset":e.handleScriptContentReset}}),e._v(" "),i("item-factory",{attrs:{name:"scriptContent","script-source-field":"scriptSource","content-field":"content","language-field":"scriptLanguage","form-data":e.formData,"script-variables":e.scriptVariables},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"scriptParam","param-field":"scriptParam","secure-field":"secureParam","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"scriptTimeout",field:"timeout","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"errorHandle",field:"ignoreError","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"scriptAccount",field:"account","script-language-field":"scriptLanguage","form-data":e.formData},on:{"on-change":e.handleChange}}),e._v(" "),i("item-factory",{attrs:{name:"executeTargetOfTemplate",field:"executeTarget",variable:e.variable,"form-data":e.formData},on:{"on-change":e.handleChange}})],1)],1)};a._withStripped=!0;var n=i(94542),r=n.Z,s=(0,i(35471).Z)(r,a,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-task-step/task-step/components/exec-script.vue";var o=s.exports},14560:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"task-step-operation-wraper"},[i("div",{staticClass:"left",style:e.leftStyles},[i("scroll-faker",[i("div",{staticClass:"container"},[i("jb-form",{attrs:{fixed:"","label-width":e.formMarginLeftWidth}},[i("bk-form-item",{attrs:{label:"步骤类型",required:""}},[i("bk-select",{staticClass:"form-item-content",attrs:{clearable:!1},model:{value:e.taskStepType,callback:function(t){e.taskStepType=t},expression:"taskStepType"}},[i("bk-option",{attrs:{id:"1",name:"执行脚本"}}),e._v(" "),i("bk-option",{attrs:{id:"2",name:"分发文件"}}),e._v(" "),i("bk-option",{attrs:{id:"3",name:"人工确认"}})],1)],1)],1),e._v(" "),i(e.stepCom,e._g(e._b({ref:"handler",tag:"component",attrs:{data:e.stepData}},"component",e.$attrs,!1),e.$listeners))],1)]),e._v(" "),i("bk-button",{staticClass:"variable-guide-btn",attrs:{text:""},on:{click:e.handleShowVariableGuide}},[i("Icon",{attrs:{type:"book"}}),e._v("\n            "+e._s("变量使用指引")+"\n        ")],1)],1),e._v(" "),e.isShowVariableGuide?i("div",{staticClass:"right"},[i("variable-use-guide",{on:{"on-close":e.handleHideVariableGuide}})],1):e._e()])};a._withStripped=!0;var n=i(26689),r=n.Z,s=(i(57329),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step/index.vue";var o=s.exports},68665:function(e,t,i){"use strict";i.r(t),i.d(t,{__esModule:function(){return n.X},default:function(){return o}});var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"variable-use-guide"},[i("div",{staticClass:"header"},[i("div",[e._v(e._s("使用指引"))]),e._v(" "),i("div",{staticClass:"tab-container"},[i("div",{staticClass:"tab-item",class:{active:"global"===e.tab},on:{click:function(t){return e.handleTabToggle("global")}}},[e._v("\n                "+e._s("全局变量")+"\n            ")]),e._v(" "),i("div",{staticClass:"tab-item",class:{active:"magic"===e.tab},on:{click:function(t){return e.handleTabToggle("magic")}}},[e._v("\n                "+e._s("魔法变量")+"\n            ")])])]),e._v(" "),i("scroll-faker",{staticStyle:{height:"calc(100% - 88px)"}},[i("div",{staticClass:"content"},[i("div",{staticStyle:{"margin-top":"-24px"},domProps:{innerHTML:e._s(e.contentHtml)}})])]),e._v(" "),i("div",{staticClass:"close-btn",on:{click:e.handleClose}},[i("Icon",{attrs:{type:"close"}})],1)],1)};a._withStripped=!0;var n=i(82591),r=n.Z,s=(i(81655),(0,i(35471).Z)(r,a,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/variable-use-guide/index.vue";var o=s.exports},79981:function(e,t,i){var a=i(46167);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("62179477",a,!1,{})},28208:function(e,t,i){var a=i(29565);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("dcb81b46",a,!1,{})},55016:function(e,t,i){var a=i(72709);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("85060c92",a,!1,{})},95309:function(e,t,i){var a=i(2154);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("a97c2ed6",a,!1,{})},30628:function(e,t,i){var a=i(62478);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("4bf68719",a,!1,{})},79652:function(e,t,i){var a=i(64832);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("bd597f4e",a,!1,{})},43312:function(e,t,i){var a=i(85724);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("16e1afbe",a,!1,{})},17263:function(e,t,i){var a=i(57284);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("683ca829",a,!1,{})},29483:function(e,t,i){var a=i(86918);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("1eae4f8e",a,!1,{})},46772:function(e,t,i){var a=i(28722);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("051955ce",a,!1,{})},81352:function(e,t,i){var a=i(93765);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("c4b3a006",a,!1,{})},21882:function(e,t,i){var a=i(71556);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("dcc1b17a",a,!1,{})},98837:function(e,t,i){var a=i(61738);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("f4bda84e",a,!1,{})},88363:function(e,t,i){var a=i(78321);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("69fcb1fb",a,!1,{})},94791:function(e,t,i){var a=i(86255);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("84aef34e",a,!1,{})},18388:function(e,t,i){var a=i(47444);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("28c0c40d",a,!1,{})},95161:function(e,t,i){var a=i(58637);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("72cdf90e",a,!1,{})},15962:function(e,t,i){var a=i(40096);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("057747a5",a,!1,{})},65819:function(e,t,i){var a=i(84554);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("ae57a3f0",a,!1,{})},98022:function(e,t,i){var a=i(36073);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("92ef5430",a,!1,{})},8025:function(e,t,i){var a=i(87902);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("8ad190b8",a,!1,{})},67854:function(e,t,i){var a=i(21700);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("2ba43454",a,!1,{})},31552:function(e,t,i){var a=i(65773);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("c1f0f048",a,!1,{})},52252:function(e,t,i){var a=i(73145);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("5fd400fe",a,!1,{})},85717:function(e,t,i){var a=i(2355);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("40a1adc4",a,!1,{})},82049:function(e,t,i){var a=i(89631);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("2abfddfc",a,!1,{})},1538:function(e,t,i){var a=i(11810);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("63050b52",a,!1,{})},32779:function(e,t,i){var a=i(2607);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("ee5a96c2",a,!1,{})},79012:function(e,t,i){var a=i(7620);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("5a45d8c4",a,!1,{})},4484:function(e,t,i){var a=i(41260);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("47f35afa",a,!1,{})},937:function(e,t,i){var a=i(631);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("69ec359f",a,!1,{})},83394:function(e,t,i){var a=i(12767);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("2d8ff782",a,!1,{})},88608:function(e,t,i){var a=i(18864);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("17109e9e",a,!1,{})},95185:function(e,t,i){var a=i(53553);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("0ad16bb4",a,!1,{})},25902:function(e,t,i){var a=i(6844);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("9716e25c",a,!1,{})},14545:function(e,t,i){var a=i(18076);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("8608df62",a,!1,{})},50114:function(e,t,i){var a=i(99184);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("7e877b18",a,!1,{})},36467:function(e,t,i){var a=i(34138);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("c711ec9c",a,!1,{})},26151:function(e,t,i){var a=i(57322);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("a9e75950",a,!1,{})},94348:function(e,t,i){var a=i(48876);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("0140b8ff",a,!1,{})},47161:function(e,t,i){var a=i(77521);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("07efaea5",a,!1,{})},26100:function(e,t,i){var a=i(5943);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("3bf1c9c2",a,!1,{})},97978:function(e,t,i){var a=i(70338);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("14a23494",a,!1,{})},98582:function(e,t,i){var a=i(53638);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("4e849daa",a,!1,{})},25653:function(e,t,i){var a=i(71402);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("c7418abc",a,!1,{})},65855:function(e,t,i){var a=i(13573);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("4a6ef363",a,!1,{})},46261:function(e,t,i){var a=i(88627);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("50d03c77",a,!1,{})},7550:function(e,t,i){var a=i(33364);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("49e6da5a",a,!1,{})},20257:function(e,t,i){var a=i(47616);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("3515cf34",a,!1,{})},86291:function(e,t,i){var a=i(64354);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("39646c2e",a,!1,{})},65688:function(e,t,i){var a=i(19687);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("7d6c0963",a,!1,{})},80413:function(e,t,i){var a=i(86717);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("1f971de5",a,!1,{})},9679:function(e,t,i){var a=i(689);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("7da1b343",a,!1,{})},65647:function(e,t,i){var a=i(46132);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("7f213f0d",a,!1,{})},26047:function(e,t,i){var a=i(63401);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("531652ad",a,!1,{})},58730:function(e,t,i){var a=i(5686);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("04be2aae",a,!1,{})},32650:function(e,t,i){var a=i(28353);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("34e61efe",a,!1,{})},88383:function(e,t,i){var a=i(70405);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("059b4022",a,!1,{})},51500:function(e,t,i){var a=i(15672);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("704a0ae1",a,!1,{})},86335:function(e,t,i){var a=i(76656);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("107c81e6",a,!1,{})},2038:function(e,t,i){var a=i(38150);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("721b9306",a,!1,{})},21551:function(e,t,i){var a=i(4010);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("10e591b0",a,!1,{})},90160:function(e,t,i){var a=i(22590);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("65e139dd",a,!1,{})},43172:function(e,t,i){var a=i(51995);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("10a26082",a,!1,{})},39721:function(e,t,i){var a=i(83773);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("0b9c702f",a,!1,{})},80953:function(e,t,i){var a=i(54637);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("09af6f1c",a,!1,{})},19267:function(e,t,i){var a=i(39648);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("00fcfd9d",a,!1,{})},2027:function(e,t,i){var a=i(73769);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("0248a428",a,!1,{})},95645:function(e,t,i){var a=i(59538);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("724dcdd9",a,!1,{})},70918:function(e,t,i){var a=i(42362);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("7072d33d",a,!1,{})},9126:function(e,t,i){var a=i(11188);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("b09633fa",a,!1,{})},9243:function(e,t,i){var a=i(79261);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("31bbc95c",a,!1,{})},45722:function(e,t,i){var a=i(86149);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("ee62f012",a,!1,{})},66955:function(e,t,i){var a=i(52734);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("22ec9513",a,!1,{})},78366:function(e,t,i){var a=i(91109);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("12e00158",a,!1,{})},66235:function(e,t,i){var a=i(89153);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("0a3842a2",a,!1,{})},9073:function(e,t,i){var a=i(37731);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("96cce452",a,!1,{})},73607:function(e,t,i){var a=i(28259);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("3f710ad6",a,!1,{})},2730:function(e,t,i){var a=i(97976);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("104662e5",a,!1,{})},48806:function(e,t,i){var a=i(97014);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("2a849718",a,!1,{})},40279:function(e,t,i){var a=i(79008);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("19fe59ff",a,!1,{})},16627:function(e,t,i){var a=i(85194);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("7993169f",a,!1,{})},62978:function(e,t,i){var a=i(9772);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("12a43012",a,!1,{})},87005:function(e,t,i){var a=i(17971);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("510758e2",a,!1,{})},476:function(e,t,i){var a=i(89965);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("9c46d33e",a,!1,{})},18576:function(e,t,i){var a=i(95722);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("6124ade6",a,!1,{})},16307:function(e,t,i){var a=i(94992);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("8a2d6914",a,!1,{})},4314:function(e,t,i){var a=i(41293);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("9bbdacdc",a,!1,{})},3822:function(e,t,i){var a=i(3104);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("0c30ba30",a,!1,{})},45960:function(e,t,i){var a=i(13580);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("14a39da0",a,!1,{})},76051:function(e,t,i){var a=i(95724);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("18329160",a,!1,{})},48174:function(e,t,i){var a=i(59421);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("70e8674c",a,!1,{})},56262:function(e,t,i){var a=i(13287);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("eeb590d2",a,!1,{})},86657:function(e,t,i){var a=i(90686);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("05993c38",a,!1,{})},30725:function(e,t,i){var a=i(36310);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("44ba07c9",a,!1,{})},84094:function(e,t,i){var a=i(53004);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("21ffe1da",a,!1,{})},26403:function(e,t,i){var a=i(52784);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("95e7b454",a,!1,{})},51723:function(e,t,i){var a=i(92691);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("2cfed33c",a,!1,{})},19833:function(e,t,i){var a=i(70354);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("b02c059c",a,!1,{})},77515:function(e,t,i){var a=i(65271);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("192a264d",a,!1,{})},3723:function(e,t,i){var a=i(42463);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("1197c649",a,!1,{})},73424:function(e,t,i){var a=i(33277);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("031d62ad",a,!1,{})},89407:function(e,t,i){var a=i(59623);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("159f70e8",a,!1,{})},85959:function(e,t,i){var a=i(47087);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("02f94b86",a,!1,{})},75292:function(e,t,i){var a=i(21289);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("34aded32",a,!1,{})},44508:function(e,t,i){var a=i(16258);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("63b32ab7",a,!1,{})},24220:function(e,t,i){var a=i(27064);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("08c73a4c",a,!1,{})},92744:function(e,t,i){var a=i(33009);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("be278bc0",a,!1,{})},58991:function(e,t,i){var a=i(77283);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("ab551d9a",a,!1,{})},57329:function(e,t,i){var a=i(86940);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("0dea250a",a,!1,{})},81655:function(e,t,i){var a=i(57645);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);(0,i(13570).Z)("57bff173",a,!1,{})}}]);