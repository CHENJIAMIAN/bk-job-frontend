(self.webpackChunkjob=self.webpackChunkjob||[]).push([[2952],{90324:function(t,e,a){"use strict";a(63762),a(14370),a(35949),a(87033),a(9042),a(7170),a(71959),a(45974),a(70969),a(58794),a(78004),a(77036),a(99641),a(85604),a(70201),a(40782),a(95179),a(47140),a(132),a(93282),a(98156),a(57024),a(4415),a(23232),a(43903),a(29941),a(66016),a(54763),a(62785),a(78202),a(43123),a(95490),a(56259),a(82994),a(70649),a(96055),a(13955),function(t){function e(t){var e={},a={},i=t.match(/Firefox\/([\d.]+)/),n=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),r=t.match(/Edge\/([\d.]+)/),s=/micromessenger/i.test(t);return i&&(a.firefox=!0,a.version=i[1]),n&&(a.ie=!0,a.version=n[1]),r&&(a.edge=!0,a.version=r[1]),s&&(a.weChat=!0),{browser:a,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!a.ie&&!a.edge,pointerEventsSupported:"onpointerdown"in window&&(a.edge||a.ie&&a.version>=11),domSupported:"undefined"!=typeof document}}function i(t,e){"createCanvas"===t&&(sf=null),nf[t]=e}function n(t){if(null==t||"object"!=typeof t)return t;var e=t,a=Yp.call(t);if("[object Array]"===a){if(!N(t)){e=[];for(var i=0,r=t.length;r>i;i++)e[i]=n(t[i])}}else if(Wp[a]){if(!N(t)){var s=t.constructor;if(t.constructor.from)e=s.from(t);else for(e=new s(t.length),i=0,r=t.length;r>i;i++)e[i]=n(t[i])}}else if(!Xp[a]&&!N(t)&&!O(t))for(var o in e={},t)t.hasOwnProperty(o)&&(e[o]=n(t[o]));return e}function r(t,e,a){if(!C(e)||!C(t))return a?n(e):t;for(var i in e)if(e.hasOwnProperty(i)){var s=t[i],o=e[i];!C(o)||!C(s)||x(o)||x(s)||O(o)||O(s)||I(o)||I(s)||N(o)||N(s)?!a&&i in t||(t[i]=n(e[i],!0)):r(s,o,a)}return t}function s(t,e){for(var a=t[0],i=1,n=t.length;n>i;i++)a=r(a,t[i],e);return a}function o(t,e){for(var a in e)e.hasOwnProperty(a)&&(t[a]=e[a]);return t}function l(t,e,a){for(var i in e)e.hasOwnProperty(i)&&(a?null!=e[i]:null==t[i])&&(t[i]=e[i]);return t}function c(){return sf||(sf=rf().getContext("2d")),sf}function u(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var a=0,i=t.length;i>a;a++)if(t[a]===e)return a}return-1}function d(t,e){function a(){}var i=t.prototype;for(var n in a.prototype=e.prototype,t.prototype=new a,i)i.hasOwnProperty(n)&&(t.prototype[n]=i[n]);t.prototype.constructor=t,t.superClass=e}function h(t,e,a){l(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,a)}function p(t){return t?"string"!=typeof t&&"number"==typeof t.length:void 0}function f(t,e,a){if(t&&e)if(t.forEach&&t.forEach===Jp)t.forEach(e,a);else if(t.length===+t.length)for(var i=0,n=t.length;n>i;i++)e.call(a,t[i],i,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(a,t[r],r,t)}function v(t,e,a){if(t&&e){if(t.map&&t.map===ef)return t.map(e,a);for(var i=[],n=0,r=t.length;r>n;n++)i.push(e.call(a,t[n],n,t));return i}}function m(t,e,a,i){if(t&&e){if(t.reduce&&t.reduce===af)return t.reduce(e,a,i);for(var n=0,r=t.length;r>n;n++)a=e.call(i,a,t[n],n,t);return a}}function g(t,e,a){if(t&&e){if(t.filter&&t.filter===Qp)return t.filter(e,a);for(var i=[],n=0,r=t.length;r>n;n++)e.call(a,t[n],n,t)&&i.push(t[n]);return i}}function y(t,e,a){if(t&&e)for(var i=0,n=t.length;n>i;i++)if(e.call(a,t[i],i,t))return t[i]}function _(t,e){var a=tf.call(arguments,2);return function(){return t.apply(e,a.concat(tf.call(arguments)))}}function b(t){var e=tf.call(arguments,1);return function(){return t.apply(this,e.concat(tf.call(arguments)))}}function x(t){return"[object Array]"===Yp.call(t)}function w(t){return"function"==typeof t}function S(t){return"[object String]"===Yp.call(t)}function C(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function I(t){return!!Xp[Yp.call(t)]}function k(t){return!!Wp[Yp.call(t)]}function O(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function T(t){return t!=t}function P(){for(var t=0,e=arguments.length;e>t;t++)if(null!=arguments[t])return arguments[t]}function D(t,e){return null!=t?t:e}function M(t,e,a){return null!=t?t:null!=e?e:a}function L(){return Function.call.apply(tf,arguments)}function E(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function A(t,e){if(!t)throw new Error(e)}function j(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function $(t){t[of]=!0}function N(t){return t[of]}function V(t){function e(t,e){a?i.set(t,e):i.set(e,t)}var a=x(t);this.data={};var i=this;t instanceof V?t.each(e):t&&f(t,e)}function R(t){return new V(t)}function F(t,e){for(var a=new t.constructor(t.length+e.length),i=0;i<t.length;i++)a[i]=t[i];var n=t.length;for(i=0;i<e.length;i++)a[i+n]=e[i];return a}function z(){}function B(t,e){var a=new cf(2);return null==t&&(t=0),null==e&&(e=0),a[0]=t,a[1]=e,a}function Z(t,e){return t[0]=e[0],t[1]=e[1],t}function H(t){var e=new cf(2);return e[0]=t[0],e[1]=t[1],e}function q(t,e,a){return t[0]=e,t[1]=a,t}function G(t,e,a){return t[0]=e[0]+a[0],t[1]=e[1]+a[1],t}function U(t,e,a,i){return t[0]=e[0]+a[0]*i,t[1]=e[1]+a[1]*i,t}function X(t,e,a){return t[0]=e[0]-a[0],t[1]=e[1]-a[1],t}function W(t){return Math.sqrt(Y(t))}function Y(t){return t[0]*t[0]+t[1]*t[1]}function K(t,e,a){return t[0]=e[0]*a[0],t[1]=e[1]*a[1],t}function J(t,e,a){return t[0]=e[0]/a[0],t[1]=e[1]/a[1],t}function Q(t,e){return t[0]*e[0]+t[1]*e[1]}function tt(t,e,a){return t[0]=e[0]*a,t[1]=e[1]*a,t}function et(t,e){var a=W(e);return 0===a?(t[0]=0,t[1]=0):(t[0]=e[0]/a,t[1]=e[1]/a),t}function at(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function it(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function nt(t,e){return t[0]=-e[0],t[1]=-e[1],t}function rt(t,e,a,i){return t[0]=e[0]+i*(a[0]-e[0]),t[1]=e[1]+i*(a[1]-e[1]),t}function st(t,e,a){var i=e[0],n=e[1];return t[0]=a[0]*i+a[2]*n+a[4],t[1]=a[1]*i+a[3]*n+a[5],t}function ot(t,e,a){return t[0]=Math.min(e[0],a[0]),t[1]=Math.min(e[1],a[1]),t}function lt(t,e,a){return t[0]=Math.max(e[0],a[0]),t[1]=Math.max(e[1],a[1]),t}function ct(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function ut(t,e){return{target:t,topTarget:e&&e.topTarget}}function dt(t,e){var a=t._$eventProcessor;return null!=e&&a&&a.normalizeQuery&&(e=a.normalizeQuery(e)),e}function ht(t,e,a,i,n,r){var s=t._$handlers;if("function"==typeof a&&(n=i,i=a,a=null),!i||!e)return t;a=dt(t,a),s[e]||(s[e]=[]);for(var o=0;o<s[e].length;o++)if(s[e][o].h===i)return t;var l={h:i,one:r,query:a,ctx:n||t,callAtLast:i.zrEventfulCallAtLast},c=s[e].length-1,u=s[e][c];return u&&u.callAtLast?s[e].splice(c,0,l):s[e].push(l),t}function pt(t,e,a,i,n,r){var s=i+"-"+n,o=t.length;if(r.hasOwnProperty(s))return r[s];if(1===e){var l=Math.round(Math.log((1<<o)-1&~n)/gf);return t[a][l]}for(var c=i|1<<a,u=a+1;i&1<<u;)u++;for(var d=0,h=0,p=0;o>h;h++){var f=1<<h;f&n||(d+=(p%2?-1:1)*t[a][h]*pt(t,e-1,u,c,n|f,r),p++)}return r[s]=d,d}function ft(t,e){var a=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],i={},n=pt(a,8,0,0,0,i);if(0!==n){for(var r=[],s=0;8>s;s++)for(var o=0;8>o;o++)null==r[o]&&(r[o]=0),r[o]+=((s+o)%2?-1:1)*pt(a,7,0===s?1:0,1<<s,1<<o,i)/n*e[s];return function(t,e,a){var i=e*r[6]+a*r[7]+1;t[0]=(e*r[0]+a*r[1]+r[2])/i,t[1]=(e*r[3]+a*r[4]+r[5])/i}}}function vt(t,e,a,i,n){return mt(_f,e,i,n,!0)&&mt(t,a,_f[0],_f[1])}function mt(t,e,a,i,n){if(e.getBoundingClientRect&&Up.domSupported&&!_t(e)){var r=e[yf]||(e[yf]={}),s=yt(gt(e,r),r,n);if(s)return s(t,a,i),!0}return!1}function gt(t,e){var a=e.markers;if(a)return a;a=e.markers=[];for(var i=["left","right"],n=["top","bottom"],r=0;4>r;r++){var s=document.createElement("div"),o=r%2,l=(r>>1)%2;s.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[o]+":0",n[l]+":0",i[1-o]+":auto",n[1-l]+":auto",""].join("!important;"),t.appendChild(s),a.push(s)}return a}function yt(t,e,a){for(var i=a?"invTrans":"trans",n=e[i],r=e.srcCoords,s=!0,o=[],l=[],c=0;4>c;c++){var u=t[c].getBoundingClientRect(),d=2*c,h=u.left,p=u.top;o.push(h,p),s=s&&r&&h===r[d]&&p===r[d+1],l.push(t[c].offsetLeft,t[c].offsetTop)}return s&&n?n:(e.srcCoords=o,e[i]=a?ft(l,o):ft(o,l))}function _t(t){return"CANVAS"===t.nodeName.toUpperCase()}function bt(t,e,a,i){return a=a||{},i||!Up.canvasSupported?xt(t,e,a):Up.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(a.zrX=e.layerX,a.zrY=e.layerY):null!=e.offsetX?(a.zrX=e.offsetX,a.zrY=e.offsetY):xt(t,e,a),a}function xt(t,e,a){if(Up.domSupported&&t.getBoundingClientRect){var i=e.clientX,n=e.clientY;if(_t(t)){var r=t.getBoundingClientRect();return a.zrX=i-r.left,void(a.zrY=n-r.top)}if(mt(wf,t,i,n))return a.zrX=wf[0],void(a.zrY=wf[1])}a.zrX=a.zrY=0}function wt(t){return t||window.event}function St(t,e,a){if(null!=(e=wt(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var n="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];n&&bt(t,n,e,a)}else bt(t,e,e,a),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var r=e.button;return null==e.which&&void 0!==r&&xf.test(e.type)&&(e.which=1&r?1:2&r?3:4&r?2:0),e}function Ct(t,e,a,i){bf?t.addEventListener(e,a,i):t.attachEvent("on"+e,a)}function It(t,e,a,i){bf?t.removeEventListener(e,a,i):t.detachEvent("on"+e,a)}function kt(t){return 2===t.which||3===t.which}function Ot(t){var e=t[1][0]-t[0][0],a=t[1][1]-t[0][1];return Math.sqrt(e*e+a*a)}function Tt(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function Pt(t,e,a){return{type:t,event:a,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:a.zrX,offsetY:a.zrY,gestureEvent:a.gestureEvent,pinchX:a.pinchX,pinchY:a.pinchY,pinchScale:a.pinchScale,wheelDelta:a.zrDelta,zrByTouch:a.zrByTouch,which:a.which,stop:Dt}}function Dt(){Sf(this.event)}function Mt(){}function Lt(t,e,a){if(t[t.rectHover?"rectContain":"contain"](e,a)){for(var i,n=t;n;){if(n.clipPath&&!n.clipPath.contain(e,a))return!1;n.silent&&(i=!0),n=n.parent}return!i||kf}return!1}function Et(t,e,a){var i=t.painter;return 0>e||e>i.getWidth()||0>a||a>i.getHeight()}function At(){var t=new Pf(6);return jt(t),t}function jt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function $t(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Nt(t,e,a){var i=e[0]*a[0]+e[2]*a[1],n=e[1]*a[0]+e[3]*a[1],r=e[0]*a[2]+e[2]*a[3],s=e[1]*a[2]+e[3]*a[3],o=e[0]*a[4]+e[2]*a[5]+e[4],l=e[1]*a[4]+e[3]*a[5]+e[5];return t[0]=i,t[1]=n,t[2]=r,t[3]=s,t[4]=o,t[5]=l,t}function Vt(t,e,a){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+a[0],t[5]=e[5]+a[1],t}function Rt(t,e,a){var i=e[0],n=e[2],r=e[4],s=e[1],o=e[3],l=e[5],c=Math.sin(a),u=Math.cos(a);return t[0]=i*u+s*c,t[1]=-i*c+s*u,t[2]=n*u+o*c,t[3]=-n*c+u*o,t[4]=u*r+c*l,t[5]=u*l-c*r,t}function Ft(t,e,a){var i=a[0],n=a[1];return t[0]=e[0]*i,t[1]=e[1]*n,t[2]=e[2]*i,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*n,t}function zt(t,e){var a=e[0],i=e[2],n=e[4],r=e[1],s=e[3],o=e[5],l=a*s-r*i;return l?(l=1/l,t[0]=s*l,t[1]=-r*l,t[2]=-i*l,t[3]=a*l,t[4]=(i*o-s*n)*l,t[5]=(r*n-a*o)*l,t):null}function Bt(t){var e=At();return $t(e,t),e}function Zt(t){return t>Lf||-Lf>t}function Ht(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function qt(t){return 0>(t=Math.round(t))?0:t>255?255:t}function Gt(t){return 0>(t=Math.round(t))?0:t>360?360:t}function Ut(t){return 0>t?0:t>1?1:t}function Xt(t){return qt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function Wt(t){return Ut(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function Yt(t,e,a){return 0>a?a+=1:a>1&&(a-=1),1>6*a?t+(e-t)*a*6:1>2*a?e:2>3*a?t+(e-t)*(2/3-a)*6:t}function Kt(t,e,a){return t+(e-t)*a}function Jt(t,e,a,i,n){return t[0]=e,t[1]=a,t[2]=i,t[3]=n,t}function Qt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function te(t,e){Gf&&Qt(Gf,e),Gf=qf.put(t,Gf||e.slice())}function ee(t,e){if(t){e=e||[];var a=qf.get(t);if(a)return Qt(e,a);var i=(t+="").replace(/ /g,"").toLowerCase();if(i in Hf)return Qt(e,Hf[i]),te(t,e),e;if("#"!==i.charAt(0)){var n=i.indexOf("("),r=i.indexOf(")");if(-1!==n&&r+1===i.length){var s=i.substr(0,n),o=i.substr(n+1,r-(n+1)).split(","),l=1;switch(s){case"rgba":if(4!==o.length)return void Jt(e,0,0,0,1);l=Wt(o.pop());case"rgb":return 3!==o.length?void Jt(e,0,0,0,1):(Jt(e,Xt(o[0]),Xt(o[1]),Xt(o[2]),l),te(t,e),e);case"hsla":return 4!==o.length?void Jt(e,0,0,0,1):(o[3]=Wt(o[3]),ae(o,e),te(t,e),e);case"hsl":return 3!==o.length?void Jt(e,0,0,0,1):(ae(o,e),te(t,e),e);default:return}}Jt(e,0,0,0,1)}else{var c;if(4===i.length)return(c=parseInt(i.substr(1),16))>=0&&4095>=c?(Jt(e,(3840&c)>>4|(3840&c)>>8,240&c|(240&c)>>4,15&c|(15&c)<<4,1),te(t,e),e):void Jt(e,0,0,0,1);if(7===i.length)return(c=parseInt(i.substr(1),16))>=0&&16777215>=c?(Jt(e,(16711680&c)>>16,(65280&c)>>8,255&c,1),te(t,e),e):void Jt(e,0,0,0,1)}}}function ae(t,e){var a=(parseFloat(t[0])%360+360)%360/360,i=Wt(t[1]),n=Wt(t[2]),r=.5>=n?n*(i+1):n+i-n*i,s=2*n-r;return Jt(e=e||[],qt(255*Yt(s,r,a+1/3)),qt(255*Yt(s,r,a)),qt(255*Yt(s,r,a-1/3)),1),4===t.length&&(e[3]=t[3]),e}function ie(t){if(t){var e,a,i=t[0]/255,n=t[1]/255,r=t[2]/255,s=Math.min(i,n,r),o=Math.max(i,n,r),l=o-s,c=(o+s)/2;if(0===l)e=0,a=0;else{a=.5>c?l/(o+s):l/(2-o-s);var u=((o-i)/6+l/2)/l,d=((o-n)/6+l/2)/l,h=((o-r)/6+l/2)/l;i===o?e=h-d:n===o?e=1/3+u-h:r===o&&(e=2/3+d-u),0>e&&(e+=1),e>1&&(e-=1)}var p=[360*e,a,c];return null!=t[3]&&p.push(t[3]),p}}function ne(t,e){var a=ee(t);if(a){for(var i=0;3>i;i++)a[i]=0>e?a[i]*(1-e)|0:(255-a[i])*e+a[i]|0,a[i]>255?a[i]=255:t[i]<0&&(a[i]=0);return ue(a,4===a.length?"rgba":"rgb")}}function re(t){var e=ee(t);return e?((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1):void 0}function se(t,e,a){if(e&&e.length&&t>=0&&1>=t){a=a||[];var i=t*(e.length-1),n=Math.floor(i),r=Math.ceil(i),s=e[n],o=e[r],l=i-n;return a[0]=qt(Kt(s[0],o[0],l)),a[1]=qt(Kt(s[1],o[1],l)),a[2]=qt(Kt(s[2],o[2],l)),a[3]=Ut(Kt(s[3],o[3],l)),a}}function oe(t,e,a){if(e&&e.length&&t>=0&&1>=t){var i=t*(e.length-1),n=Math.floor(i),r=Math.ceil(i),s=ee(e[n]),o=ee(e[r]),l=i-n,c=ue([qt(Kt(s[0],o[0],l)),qt(Kt(s[1],o[1],l)),qt(Kt(s[2],o[2],l)),Ut(Kt(s[3],o[3],l))],"rgba");return a?{color:c,leftIndex:n,rightIndex:r,value:i}:c}}function le(t,e,a,i){return(t=ee(t))?(t=ie(t),null!=e&&(t[0]=Gt(e)),null!=a&&(t[1]=Wt(a)),null!=i&&(t[2]=Wt(i)),ue(ae(t),"rgba")):void 0}function ce(t,e){return(t=ee(t))&&null!=e?(t[3]=Ut(e),ue(t,"rgba")):void 0}function ue(t,e){if(t&&t.length){var a=t[0]+","+t[1]+","+t[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(a+=","+t[3]),e+"("+a+")"}}function de(t,e){return t[e]}function he(t,e,a){t[e]=a}function pe(t,e,a){return(e-t)*a+t}function fe(t,e,a){return a>.5?e:t}function ve(t,e,a,i,n){var r=t.length;if(1===n)for(var s=0;r>s;s++)i[s]=pe(t[s],e[s],a);else{var o=r&&t[0].length;for(s=0;r>s;s++)for(var l=0;o>l;l++)i[s][l]=pe(t[s][l],e[s][l],a)}}function me(t,e,a){var i=t.length,n=e.length;if(i!==n)if(i>n)t.length=n;else for(var r=i;n>r;r++)t.push(1===a?e[r]:Yf.call(e[r]));var s=t[0]&&t[0].length;for(r=0;r<t.length;r++)if(1===a)isNaN(t[r])&&(t[r]=e[r]);else for(var o=0;s>o;o++)isNaN(t[r][o])&&(t[r][o]=e[r][o])}function ge(t,e,a){if(t===e)return!0;var i=t.length;if(i!==e.length)return!1;if(1===a){for(var n=0;i>n;n++)if(t[n]!==e[n])return!1}else{var r=t[0].length;for(n=0;i>n;n++)for(var s=0;r>s;s++)if(t[n][s]!==e[n][s])return!1}return!0}function ye(t,e,a,i,n,r,s,o,l){var c=t.length;if(1===l)for(var u=0;c>u;u++)o[u]=_e(t[u],e[u],a[u],i[u],n,r,s);else{var d=t[0].length;for(u=0;c>u;u++)for(var h=0;d>h;h++)o[u][h]=_e(t[u][h],e[u][h],a[u][h],i[u][h],n,r,s)}}function _e(t,e,a,i,n,r,s){var o=.5*(a-t),l=.5*(i-e);return(2*(e-a)+o+l)*s+(-3*(e-a)-2*o-l)*r+o*n+e}function be(t){if(p(t)){var e=t.length;if(p(t[0])){for(var a=[],i=0;e>i;i++)a.push(Yf.call(t[i]));return a}return Yf.call(t)}return t}function xe(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function we(t){var e=t[t.length-1].value;return p(e&&e[0])?2:1}function Se(t,e,a,i,n,r){var s=t._getter,o=t._setter,l="spline"===e,c=i.length;if(c){var u,d=p(i[0].value),h=!1,f=!1,v=d?we(i):0;i.sort((function(t,e){return t.time-e.time})),u=i[c-1].time;for(var m=[],g=[],y=i[0].value,_=!0,b=0;c>b;b++){m.push(i[b].time/u);var x=i[b].value;if(d&&ge(x,y,v)||!d&&x===y||(_=!1),y=x,"string"==typeof x){var w=ee(x);w?(x=w,h=!0):f=!0}g.push(x)}if(r||!_){var S=g[c-1];for(b=0;c-1>b;b++)d?me(g[b],S,v):!isNaN(g[b])||isNaN(S)||f||h||(g[b]=S);d&&me(s(t._target,n),S,v);var C,I,k,O,T,P=0,D=0;if(h)var M=[0,0,0,0];var L=function(t,e){var a;if(0>e)a=0;else if(D>e){for(a=Math.min(P+1,c-1);a>=0&&!(m[a]<=e);a--);a=Math.min(a,c-2)}else{for(a=P;c>a&&!(m[a]>e);a++);a=Math.min(a-1,c-2)}P=a,D=e;var i=m[a+1]-m[a];if(0!==i)if(C=(e-m[a])/i,l)if(k=g[a],I=g[0===a?a:a-1],O=g[a>c-2?c-1:a+1],T=g[a>c-3?c-1:a+2],d)ye(I,k,O,T,C,C*C,C*C*C,s(t,n),v);else{if(h)r=ye(I,k,O,T,C,C*C,C*C*C,M,1),r=xe(M);else{if(f)return fe(k,O,C);r=_e(I,k,O,T,C,C*C,C*C*C)}o(t,n,r)}else if(d)ve(g[a],g[a+1],C,s(t,n),v);else{var r;if(h)ve(g[a],g[a+1],C,M,1),r=xe(M);else{if(f)return fe(g[a],g[a+1],C);r=pe(g[a],g[a+1],C)}o(t,n,r)}},E=new Ht({target:t._target,life:u,loop:t._loop,delay:t._delay,onframe:L,ondestroy:a});return e&&"spline"!==e&&(E.easing=e),E}}}function Ce(t,e,a,i,n,r,s,o){function l(){--u||r&&r()}S(i)?(r=n,n=i,i=0):w(n)?(r=n,n="linear",i=0):w(i)?(r=i,i=0):w(a)?(r=a,a=500):a||(a=500),t.stopAnimation(),Ie(t,"",t,e,a,i,o);var c=t.animators.slice(),u=c.length;u||r&&r();for(var d=0;d<c.length;d++)c[d].done(l).start(n,s)}function Ie(t,e,a,i,n,r,s){var o={},l=0;for(var c in i)i.hasOwnProperty(c)&&(null!=a[c]?C(i[c])&&!p(i[c])?Ie(t,e?e+"."+c:c,a[c],i[c],n,r,s):(s?(o[c]=a[c],ke(t,e,c,i[c])):o[c]=i[c],l++):null==i[c]||s||ke(t,e,c,i[c]));l>0&&t.animate(e,!1).when(null==n?500:n,o).delay(r||0)}function ke(t,e,a,i){if(e){var n={};n[e]={},n[e][a]=i,t.attr(n)}else t.attr(a,i)}function Oe(t,e,a,i){0>a&&(t+=a,a=-a),0>i&&(e+=i,i=-i),this.x=t,this.y=e,this.width=a,this.height=i}function Te(t){for(var e=0;t>=lv;)e|=1&t,t>>=1;return t+e}function Pe(t,e,a,i){var n=e+1;if(n===a)return 1;if(i(t[n++],t[e])<0){for(;a>n&&i(t[n],t[n-1])<0;)n++;De(t,e,n)}else for(;a>n&&i(t[n],t[n-1])>=0;)n++;return n-e}function De(t,e,a){for(a--;a>e;){var i=t[e];t[e++]=t[a],t[a--]=i}}function Me(t,e,a,i,n){for(i===e&&i++;a>i;i++){for(var r,s=t[i],o=e,l=i;l>o;)n(s,t[r=o+l>>>1])<0?l=r:o=r+1;var c=i-o;switch(c){case 3:t[o+3]=t[o+2];case 2:t[o+2]=t[o+1];case 1:t[o+1]=t[o];break;default:for(;c>0;)t[o+c]=t[o+c-1],c--}t[o]=s}}function Le(t,e,a,i,n,r){var s=0,o=0,l=1;if(r(t,e[a+n])>0){for(o=i-n;o>l&&r(t,e[a+n+l])>0;)s=l,0>=(l=1+(l<<1))&&(l=o);l>o&&(l=o),s+=n,l+=n}else{for(o=n+1;o>l&&r(t,e[a+n-l])<=0;)s=l,0>=(l=1+(l<<1))&&(l=o);l>o&&(l=o);var c=s;s=n-l,l=n-c}for(s++;l>s;){var u=s+(l-s>>>1);r(t,e[a+u])>0?s=u+1:l=u}return l}function Ee(t,e,a,i,n,r){var s=0,o=0,l=1;if(r(t,e[a+n])<0){for(o=n+1;o>l&&r(t,e[a+n-l])<0;)s=l,0>=(l=1+(l<<1))&&(l=o);l>o&&(l=o);var c=s;s=n-l,l=n-c}else{for(o=i-n;o>l&&r(t,e[a+n+l])>=0;)s=l,0>=(l=1+(l<<1))&&(l=o);l>o&&(l=o),s+=n,l+=n}for(s++;l>s;){var u=s+(l-s>>>1);r(t,e[a+u])<0?l=u:s=u+1}return l}function Ae(t,e){function a(t,e){l[d]=t,c[d]=e,d+=1}function i(){for(;d>1;){var t=d-2;if(t>=1&&c[t-1]<=c[t]+c[t+1]||t>=2&&c[t-2]<=c[t]+c[t-1])c[t-1]<c[t+1]&&t--;else if(c[t]>c[t+1])break;r(t)}}function n(){for(;d>1;){var t=d-2;t>0&&c[t-1]<c[t+1]&&t--,r(t)}}function r(a){var i=l[a],n=c[a],r=l[a+1],u=c[a+1];c[a]=n+u,a===d-3&&(l[a+1]=l[a+2],c[a+1]=c[a+2]),d--;var h=Ee(t[r],t,i,n,0,e);i+=h,0!=(n-=h)&&0!==(u=Le(t[i+n-1],t,r,u,u-1,e))&&(u>=n?s(i,n,r,u):o(i,n,r,u))}function s(a,i,n,r){var s=0;for(s=0;i>s;s++)h[s]=t[a+s];var o=0,l=n,c=a;if(t[c++]=t[l++],0!=--r){if(1===i){for(s=0;r>s;s++)t[c+s]=t[l+s];return void(t[c+r]=h[o])}for(var d,p,f,v=u;;){d=0,p=0,f=!1;do{if(e(t[l],h[o])<0){if(t[c++]=t[l++],p++,d=0,0==--r){f=!0;break}}else if(t[c++]=h[o++],d++,p=0,1==--i){f=!0;break}}while(v>(d|p));if(f)break;do{if(0!==(d=Ee(t[l],h,o,i,0,e))){for(s=0;d>s;s++)t[c+s]=h[o+s];if(c+=d,o+=d,1>=(i-=d)){f=!0;break}}if(t[c++]=t[l++],0==--r){f=!0;break}if(0!==(p=Le(h[o],t,l,r,0,e))){for(s=0;p>s;s++)t[c+s]=t[l+s];if(c+=p,l+=p,0==(r-=p)){f=!0;break}}if(t[c++]=h[o++],1==--i){f=!0;break}v--}while(d>=cv||p>=cv);if(f)break;0>v&&(v=0),v+=2}if(1>(u=v)&&(u=1),1===i){for(s=0;r>s;s++)t[c+s]=t[l+s];t[c+r]=h[o]}else{if(0===i)throw new Error;for(s=0;i>s;s++)t[c+s]=h[o+s]}}else for(s=0;i>s;s++)t[c+s]=h[o+s]}function o(a,i,n,r){var s=0;for(s=0;r>s;s++)h[s]=t[n+s];var o=a+i-1,l=r-1,c=n+r-1,d=0,p=0;if(t[c--]=t[o--],0!=--i){if(1===r){for(p=1+(c-=i),d=1+(o-=i),s=i-1;s>=0;s--)t[p+s]=t[d+s];return void(t[c]=h[l])}for(var f=u;;){var v=0,m=0,g=!1;do{if(e(h[l],t[o])<0){if(t[c--]=t[o--],v++,m=0,0==--i){g=!0;break}}else if(t[c--]=h[l--],m++,v=0,1==--r){g=!0;break}}while(f>(v|m));if(g)break;do{if(0!=(v=i-Ee(h[l],t,a,i,i-1,e))){for(i-=v,p=1+(c-=v),d=1+(o-=v),s=v-1;s>=0;s--)t[p+s]=t[d+s];if(0===i){g=!0;break}}if(t[c--]=h[l--],1==--r){g=!0;break}if(0!=(m=r-Le(t[o],h,0,r,r-1,e))){for(r-=m,p=1+(c-=m),d=1+(l-=m),s=0;m>s;s++)t[p+s]=h[d+s];if(1>=r){g=!0;break}}if(t[c--]=t[o--],0==--i){g=!0;break}f--}while(v>=cv||m>=cv);if(g)break;0>f&&(f=0),f+=2}if(1>(u=f)&&(u=1),1===r){for(p=1+(c-=i),d=1+(o-=i),s=i-1;s>=0;s--)t[p+s]=t[d+s];t[c]=h[l]}else{if(0===r)throw new Error;for(d=c-(r-1),s=0;r>s;s++)t[d+s]=h[s]}}else for(d=c-(r-1),s=0;r>s;s++)t[d+s]=h[s]}var l,c,u=cv,d=0,h=[];l=[],c=[],this.mergeRuns=i,this.forceMergeRuns=n,this.pushRun=a}function je(t,e,a,i){a||(a=0),i||(i=t.length);var n=i-a;if(!(2>n)){var r=0;if(lv>n)return void Me(t,a,i,a+(r=Pe(t,a,i,e)),e);var s=new Ae(t,e),o=Te(n);do{if(o>(r=Pe(t,a,i,e))){var l=n;l>o&&(l=o),Me(t,a,a+l,a+r,e),r=l}s.pushRun(a,r),s.mergeRuns(),n-=r,a+=r}while(0!==n);s.forceMergeRuns()}}function $e(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function Ne(t,e,a){var i=null==e.x?0:e.x,n=null==e.x2?1:e.x2,r=null==e.y?0:e.y,s=null==e.y2?0:e.y2;return e.global||(i=i*a.width+a.x,n=n*a.width+a.x,r=r*a.height+a.y,s=s*a.height+a.y),i=isNaN(i)?0:i,n=isNaN(n)?1:n,r=isNaN(r)?0:r,s=isNaN(s)?0:s,t.createLinearGradient(i,r,n,s)}function Ve(t,e,a){var i=a.width,n=a.height,r=Math.min(i,n),s=null==e.x?.5:e.x,o=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(s=s*i+a.x,o=o*n+a.y,l*=r),t.createRadialGradient(s,o,0,s,o,l)}function Re(){return!1}function Fe(t,e,a){var i=rf(),n=e.getWidth(),r=e.getHeight(),s=i.style;return s&&(s.position="absolute",s.left=0,s.top=0,s.width=n+"px",s.height=r+"px",i.setAttribute("data-zr-dom-id",t)),i.width=n*a,i.height=r*a,i}function ze(t){if("string"==typeof t){var e=Sv.get(t);return e&&e.image}return t}function Be(t,e,a,i,n){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!a)return e;var r=Sv.get(t),s={hostEl:a,cb:i,cbPayload:n};return r?!He(e=r.image)&&r.pending.push(s):((e=new Image).onload=e.onerror=Ze,Sv.put(t,e.__cachedImgObj={image:e,pending:[s]}),e.src=e.__zrImageSrc=t),e}return t}return e}function Ze(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var a=t.pending[e],i=a.cb;i&&i(this,a.cbPayload),a.hostEl.dirty()}t.pending.length=0}function He(t){return t&&t.width&&t.height}function qe(t,e){var a=t+":"+(e=e||Tv);if(Cv[a])return Cv[a];for(var i=(t+"").split("\n"),n=0,r=0,s=i.length;s>r;r++)n=Math.max(ia(i[r],e).width,n);return Iv>kv&&(Iv=0,Cv={}),Iv++,Cv[a]=n,n}function Ge(t,e,a,i,n,r,s,o){return s?Xe(t,e,a,i,n,r,s,o):Ue(t,e,a,i,n,r,o)}function Ue(t,e,a,i,n,r,s){var o=na(t,e,n,r,s),l=qe(t,e);n&&(l+=n[1]+n[3]);var c=o.outerHeight,u=new Oe(We(0,l,a),Ye(0,c,i),l,c);return u.lineHeight=o.lineHeight,u}function Xe(t,e,a,i,n,r,s,o){var l=ra(t,{rich:s,truncate:o,font:e,textAlign:a,textPadding:n,textLineHeight:r}),c=l.outerWidth,u=l.outerHeight;return new Oe(We(0,c,a),Ye(0,u,i),c,u)}function We(t,e,a){return"right"===a?t-=e:"center"===a&&(t-=e/2),t}function Ye(t,e,a){return"middle"===a?t-=e/2:"bottom"===a&&(t-=e),t}function Ke(t,e,a){var i=e.textPosition,n=e.textDistance,r=a.x,s=a.y;n=n||0;var o=a.height,l=a.width,c=o/2,u="left",d="top";switch(i){case"left":r-=n,s+=c,u="right",d="middle";break;case"right":r+=n+l,s+=c,d="middle";break;case"top":r+=l/2,s-=n,u="center",d="bottom";break;case"bottom":r+=l/2,s+=o+n,u="center";break;case"inside":r+=l/2,s+=c,u="center",d="middle";break;case"insideLeft":r+=n,s+=c,d="middle";break;case"insideRight":r+=l-n,s+=c,u="right",d="middle";break;case"insideTop":r+=l/2,s+=n,u="center";break;case"insideBottom":r+=l/2,s+=o-n,u="center",d="bottom";break;case"insideTopLeft":r+=n,s+=n;break;case"insideTopRight":r+=l-n,s+=n,u="right";break;case"insideBottomLeft":r+=n,s+=o-n,d="bottom";break;case"insideBottomRight":r+=l-n,s+=o-n,u="right",d="bottom"}return(t=t||{}).x=r,t.y=s,t.textAlign=u,t.textVerticalAlign=d,t}function Je(t,e,a,i,n){if(!e)return"";var r=(t+"").split("\n");n=Qe(e,a,i,n);for(var s=0,o=r.length;o>s;s++)r[s]=ta(r[s],n);return r.join("\n")}function Qe(t,e,a,i){(i=o({},i)).font=e,a=D(a,"..."),i.maxIterations=D(i.maxIterations,2);var n=i.minChar=D(i.minChar,0);i.cnCharWidth=qe("国",e);var r=i.ascCharWidth=qe("a",e);i.placeholder=D(i.placeholder,"");for(var s=t=Math.max(0,t-1),l=0;n>l&&s>=r;l++)s-=r;var c=qe(a,e);return c>s&&(a="",c=0),s=t-c,i.ellipsis=a,i.ellipsisWidth=c,i.contentWidth=s,i.containerWidth=t,i}function ta(t,e){var a=e.containerWidth,i=e.font,n=e.contentWidth;if(!a)return"";var r=qe(t,i);if(a>=r)return t;for(var s=0;;s++){if(n>=r||s>=e.maxIterations){t+=e.ellipsis;break}var o=0===s?ea(t,n,e.ascCharWidth,e.cnCharWidth):r>0?Math.floor(t.length*n/r):0;r=qe(t=t.substr(0,o),i)}return""===t&&(t=e.placeholder),t}function ea(t,e,a,i){for(var n=0,r=0,s=t.length;s>r&&e>n;r++){var o=t.charCodeAt(r);n+=o>=0&&127>=o?a:i}return r}function aa(t){return qe("国",t)}function ia(t,e){return Pv.measureText(t,e)}function na(t,e,a,i,n){null!=t&&(t+="");var r=D(i,aa(e)),s=t?t.split("\n"):[],o=s.length*r,l=o,c=!0;if(a&&(l+=a[0]+a[2]),t&&n){c=!1;var u=n.outerHeight,d=n.outerWidth;if(null!=u&&l>u)t="",s=[];else if(null!=d)for(var h=Qe(d-(a?a[1]+a[3]:0),e,n.ellipsis,{minChar:n.minChar,placeholder:n.placeholder}),p=0,f=s.length;f>p;p++)s[p]=ta(s[p],h)}return{lines:s,height:o,outerHeight:l,lineHeight:r,canCacheByTextString:c}}function ra(t,e){var a={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return a;for(var i,n=Ov.lastIndex=0;null!=(i=Ov.exec(t));){var r=i.index;r>n&&sa(a,t.substring(n,r)),sa(a,i[2],i[1]),n=Ov.lastIndex}n<t.length&&sa(a,t.substring(n,t.length));var s=a.lines,o=0,l=0,c=[],u=e.textPadding,d=e.truncate,h=d&&d.outerWidth,p=d&&d.outerHeight;u&&(null!=h&&(h-=u[1]+u[3]),null!=p&&(p-=u[0]+u[2]));for(var f=0;f<s.length;f++){for(var v=s[f],m=0,g=0,y=0;y<v.tokens.length;y++){var _=(P=v.tokens[y]).styleName&&e.rich[P.styleName]||{},b=P.textPadding=_.textPadding,x=P.font=_.font||e.font,w=P.textHeight=D(_.textHeight,aa(x));if(b&&(w+=b[0]+b[2]),P.height=w,P.lineHeight=M(_.textLineHeight,e.textLineHeight,w),P.textAlign=_&&_.textAlign||e.textAlign,P.textVerticalAlign=_&&_.textVerticalAlign||"middle",null!=p&&o+P.lineHeight>p)return{lines:[],width:0,height:0};P.textWidth=qe(P.text,x);var S=_.textWidth,C=null==S||"auto"===S;if("string"==typeof S&&"%"===S.charAt(S.length-1))P.percentWidth=S,c.push(P),S=0;else{if(C){S=P.textWidth;var I=_.textBackgroundColor,k=I&&I.image;k&&He(k=ze(k))&&(S=Math.max(S,k.width*w/k.height))}var O=b?b[1]+b[3]:0;S+=O;var T=null!=h?h-g:null;null!=T&&S>T&&(!C||O>T?(P.text="",P.textWidth=S=0):(P.text=Je(P.text,T-O,x,d.ellipsis,{minChar:d.minChar}),P.textWidth=qe(P.text,x),S=P.textWidth+O))}g+=P.width=S,_&&(m=Math.max(m,P.lineHeight))}v.width=g,v.lineHeight=m,o+=m,l=Math.max(l,g)}for(a.outerWidth=a.width=D(e.textWidth,l),a.outerHeight=a.height=D(e.textHeight,o),u&&(a.outerWidth+=u[1]+u[3],a.outerHeight+=u[0]+u[2]),f=0;f<c.length;f++){var P,L=(P=c[f]).percentWidth;P.width=parseInt(L,10)/100*l}return a}function sa(t,e,a){for(var i=""===e,n=e.split("\n"),r=t.lines,s=0;s<n.length;s++){var o=n[s],l={styleName:a,text:o,isLineHolder:!o&&!i};if(s)r.push({tokens:[l]});else{var c=(r[r.length-1]||(r[0]={tokens:[]})).tokens,u=c.length;1===u&&c[0].isLineHolder?c[0]=l:(o||!u||i)&&c.push(l)}}}function oa(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&j(e)||t.textFont||t.font}function la(t,e){var a,i,n,r,s,o=e.x,l=e.y,c=e.width,u=e.height,d=e.r;0>c&&(o+=c,c=-c),0>u&&(l+=u,u=-u),"number"==typeof d?a=i=n=r=d:d instanceof Array?1===d.length?a=i=n=r=d[0]:2===d.length?(a=n=d[0],i=r=d[1]):3===d.length?(a=d[0],i=r=d[1],n=d[2]):(a=d[0],i=d[1],n=d[2],r=d[3]):a=i=n=r=0,a+i>c&&(a*=c/(s=a+i),i*=c/s),n+r>c&&(n*=c/(s=n+r),r*=c/s),i+n>u&&(i*=u/(s=i+n),n*=u/s),a+r>u&&(a*=u/(s=a+r),r*=u/s),t.moveTo(o+a,l),t.lineTo(o+c-i,l),0!==i&&t.arc(o+c-i,l+i,i,-Math.PI/2,0),t.lineTo(o+c,l+u-n),0!==n&&t.arc(o+c-n,l+u-n,n,0,Math.PI/2),t.lineTo(o+r,l+u),0!==r&&t.arc(o+r,l+u-r,r,Math.PI/2,Math.PI),t.lineTo(o,l+a),0!==a&&t.arc(o+a,l+a,a,Math.PI,1.5*Math.PI)}function ca(t){return ua(t),f(t.rich,ua),t}function ua(t){if(t){t.font=oa(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||Mv[e]?e:"left";var a=t.textVerticalAlign||t.textBaseline;"center"===a&&(a="middle"),t.textVerticalAlign=null==a||Lv[a]?a:"top",t.textPadding&&(t.textPadding=E(t.textPadding))}}function da(t,e,a,i,n,r){i.rich?pa(t,e,a,i,n,r):ha(t,e,a,i,n,r)}function ha(t,e,a,i,n,r){var s,o=ga(i),l=!1,c=e.__attrCachedBy===pv.PLAIN_TEXT;r!==fv?(r&&(s=r.style,l=!o&&c&&s),e.__attrCachedBy=o?pv.NONE:pv.PLAIN_TEXT):c&&(e.__attrCachedBy=pv.NONE);var u=i.font||Dv;l&&u===(s.font||Dv)||(e.font=u);var d=t.__computedFont;t.__styleFont!==u&&(t.__styleFont=u,d=t.__computedFont=e.font);var h=i.textPadding,p=i.textLineHeight,f=t.__textCotentBlock;(!f||t.__dirtyText)&&(f=t.__textCotentBlock=na(a,d,h,p,i.truncate));var v=f.outerHeight,m=f.lines,g=f.lineHeight,y=ba(jv,t,i,n),_=y.baseX,b=y.baseY,x=y.textAlign||"left",w=y.textVerticalAlign;va(e,i,n,_,b);var S=Ye(b,v,w),C=_,I=S;if(o||h){var k=qe(a,d);h&&(k+=h[1]+h[3]);var O=We(_,k,x);o&&ya(t,e,i,O,S,k,v),h&&(C=Ia(_,x,h),I+=h[0])}e.textAlign=x,e.textBaseline="middle",e.globalAlpha=i.opacity||1;for(var T=0;T<Ev.length;T++){var P=Ev[T],D=P[0],M=P[1],L=i[D];l&&L===s[D]||(e[M]=hv(e,M,L||P[2]))}I+=g/2;var E=i.textStrokeWidth,A=l?s.textStrokeWidth:null,j=!l||E!==A,$=!l||j||i.textStroke!==s.textStroke,N=wa(i.textStroke,E),V=Sa(i.textFill);if(N&&(j&&(e.lineWidth=E),$&&(e.strokeStyle=N)),V&&(l&&i.textFill===s.textFill||(e.fillStyle=V)),1===m.length)N&&e.strokeText(m[0],C,I),V&&e.fillText(m[0],C,I);else for(T=0;T<m.length;T++)N&&e.strokeText(m[T],C,I),V&&e.fillText(m[T],C,I),I+=g}function pa(t,e,a,i,n,r){r!==fv&&(e.__attrCachedBy=pv.NONE);var s=t.__textCotentBlock;(!s||t.__dirtyText)&&(s=t.__textCotentBlock=ra(a,i)),fa(t,e,s,i,n)}function fa(t,e,a,i,n){var r=a.width,s=a.outerWidth,o=a.outerHeight,l=i.textPadding,c=ba(jv,t,i,n),u=c.baseX,d=c.baseY,h=c.textAlign,p=c.textVerticalAlign;va(e,i,n,u,d);var f=We(u,s,h),v=Ye(d,o,p),m=f,g=v;l&&(m+=l[3],g+=l[0]);var y=m+r;ga(i)&&ya(t,e,i,f,v,s,o);for(var _=0;_<a.lines.length;_++){for(var b,x=a.lines[_],w=x.tokens,S=w.length,C=x.lineHeight,I=x.width,k=0,O=m,T=y,P=S-1;S>k&&(!(b=w[k]).textAlign||"left"===b.textAlign);)ma(t,e,b,i,C,g,O,"left"),I-=b.width,O+=b.width,k++;for(;P>=0&&"right"===(b=w[P]).textAlign;)ma(t,e,b,i,C,g,T,"right"),I-=b.width,T-=b.width,P--;for(O+=(r-(O-m)-(y-T)-I)/2;P>=k;)ma(t,e,b=w[k],i,C,g,O+b.width/2,"center"),O+=b.width,k++;g+=C}}function va(t,e,a,i,n){if(a&&e.textRotation){var r=e.textOrigin;"center"===r?(i=a.width/2+a.x,n=a.height/2+a.y):r&&(i=r[0]+a.x,n=r[1]+a.y),t.translate(i,n),t.rotate(-e.textRotation),t.translate(-i,-n)}}function ma(t,e,a,i,n,r,s,o){var l=i.rich[a.styleName]||{};l.text=a.text;var c=a.textVerticalAlign,u=r+n/2;"top"===c?u=r+a.height/2:"bottom"===c&&(u=r+n-a.height/2),!a.isLineHolder&&ga(l)&&ya(t,e,l,"right"===o?s-a.width:"center"===o?s-a.width/2:s,u-a.height/2,a.width,a.height);var d=a.textPadding;d&&(s=Ia(s,o,d),u-=a.height/2-d[2]-a.textHeight/2),xa(e,"shadowBlur",M(l.textShadowBlur,i.textShadowBlur,0)),xa(e,"shadowColor",l.textShadowColor||i.textShadowColor||"transparent"),xa(e,"shadowOffsetX",M(l.textShadowOffsetX,i.textShadowOffsetX,0)),xa(e,"shadowOffsetY",M(l.textShadowOffsetY,i.textShadowOffsetY,0)),xa(e,"textAlign",o),xa(e,"textBaseline","middle"),xa(e,"font",a.font||Dv);var h=wa(l.textStroke||i.textStroke,f),p=Sa(l.textFill||i.textFill),f=D(l.textStrokeWidth,i.textStrokeWidth);h&&(xa(e,"lineWidth",f),xa(e,"strokeStyle",h),e.strokeText(a.text,s,u)),p&&(xa(e,"fillStyle",p),e.fillText(a.text,s,u))}function ga(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function ya(t,e,a,i,n,r,s){var o=a.textBackgroundColor,l=a.textBorderWidth,c=a.textBorderColor,u=S(o);if(xa(e,"shadowBlur",a.textBoxShadowBlur||0),xa(e,"shadowColor",a.textBoxShadowColor||"transparent"),xa(e,"shadowOffsetX",a.textBoxShadowOffsetX||0),xa(e,"shadowOffsetY",a.textBoxShadowOffsetY||0),u||l&&c){e.beginPath();var d=a.textBorderRadius;d?la(e,{x:i,y:n,width:r,height:s,r:d}):e.rect(i,n,r,s),e.closePath()}if(u)if(xa(e,"fillStyle",o),null!=a.fillOpacity){var h=e.globalAlpha;e.globalAlpha=a.fillOpacity*a.opacity,e.fill(),e.globalAlpha=h}else e.fill();else if(C(o)){var p=o.image;(p=Be(p,null,t,_a,o))&&He(p)&&e.drawImage(p,i,n,r,s)}l&&c&&(xa(e,"lineWidth",l),xa(e,"strokeStyle",c),null!=a.strokeOpacity?(h=e.globalAlpha,e.globalAlpha=a.strokeOpacity*a.opacity,e.stroke(),e.globalAlpha=h):e.stroke())}function _a(t,e){e.image=t}function ba(t,e,a,i){var n=a.x||0,r=a.y||0,s=a.textAlign,o=a.textVerticalAlign;if(i){var l=a.textPosition;if(l instanceof Array)n=i.x+Ca(l[0],i.width),r=i.y+Ca(l[1],i.height);else{var c=e&&e.calculateTextPosition?e.calculateTextPosition(Av,a,i):Ke(Av,a,i);n=c.x,r=c.y,s=s||c.textAlign,o=o||c.textVerticalAlign}var u=a.textOffset;u&&(n+=u[0],r+=u[1])}return(t=t||{}).baseX=n,t.baseY=r,t.textAlign=s,t.textVerticalAlign=o,t}function xa(t,e,a){return t[e]=hv(t,e,a),t[e]}function wa(t,e){return null==t||0>=e||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Sa(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Ca(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function Ia(t,e,a){return"right"===e?t-a[1]:"center"===e?t+a[3]/2-a[1]/2:t+a[3]}function ka(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function Oa(t){for(var e in t=t||{},iv.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new mv(t.style,this),this._rect=null,this.__clipPaths=null}function Ta(t){Oa.call(this,t)}function Pa(t){return parseInt(t,10)}function Da(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}function Ma(t,e,a){return Bv.copy(t.getBoundingRect()),t.transform&&Bv.applyTransform(t.transform),Zv.width=e,Zv.height=a,!Bv.intersect(Zv)}function La(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var a=0;a<t.length;a++)if(t[a]!==e[a])return!0;return!1}function Ea(t,e){for(var a=0;a<t.length;a++){var i=t[a];i.setTransform(e),e.beginPath(),i.buildPath(e,i.shape),e.clip(),i.restoreTransform(e)}}function Aa(t,e){var a=document.createElement("div");return a.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",a}function ja(t){return"mousewheel"===t&&Up.browser.firefox?"DOMMouseScroll":t}function $a(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Na(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}function Va(t){t&&(t.zrByTouch=!0)}function Ra(t,e){return St(t.dom,new za(t,e),!0)}function Fa(t,e){for(var a=e,i=!1;a&&9!==a.nodeType&&!(i=a.domBelongToZr||a!==e&&a===t.painterRoot);)a=a.parentNode;return i}function za(t,e){this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}function Ba(t,e){var a=e.domHandlers;Up.pointerEventsSupported?f(Xv.pointer,(function(i){Ha(e,i,(function(e){a[i].call(t,e)}))})):(Up.touchEventsSupported&&f(Xv.touch,(function(i){Ha(e,i,(function(n){a[i].call(t,n),Na(e)}))})),f(Xv.mouse,(function(i){Ha(e,i,(function(n){n=wt(n),e.touching||a[i].call(t,n)}))})))}function Za(t,e){function a(a){function i(i){i=wt(i),Fa(t,i.target)||(i=Ra(t,i),e.domHandlers[a].call(t,i))}Ha(e,a,i,{capture:!0})}Up.pointerEventsSupported?f(Wv.pointer,a):Up.touchEventsSupported||f(Wv.mouse,a)}function Ha(t,e,a,i){t.mounted[e]=a,t.listenerOpts[e]=i,Ct(t.domTarget,ja(e),a,i)}function qa(t){var e=t.mounted;for(var a in e)e.hasOwnProperty(a)&&It(t.domTarget,ja(a),e[a],t.listenerOpts[a]);t.mounted={}}function Ga(t,e){if(t._mayPointerCapture=null,Uv&&t._pointerCapturing^e){t._pointerCapturing=e;var a=t._globalHandlerScope;e?Za(t,a):qa(a)}}function Ua(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Xa(t,e){mf.call(this),this.dom=t,this.painterRoot=e,this._localHandlerScope=new Ua(t,Kv),Uv&&(this._globalHandlerScope=new Ua(document,Jv)),this._pointerCapturing=!1,this._mayPointerCapture=null,Ba(this,this._localHandlerScope)}function Wa(t,e){var a=new nm(Gp(),t,e);return am[a.id]=a,a}function Ya(t){if(t)t.dispose();else{for(var e in am)am.hasOwnProperty(e)&&am[e].dispose();am={}}return this}function Ka(t){return am[t]}function Ja(t,e){em[t]=e}function Qa(t){delete am[t]}function ti(t){return t instanceof Array?t:null==t?[]:[t]}function ei(t,e,a){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,n=a.length;n>i;i++){var r=a[i];!t.emphasis[e].hasOwnProperty(r)&&t[e].hasOwnProperty(r)&&(t.emphasis[e][r]=t[e][r])}}}function ai(t){return!om(t)||lm(t)||t instanceof Date?t:t.value}function ii(t){return om(t)&&!(t instanceof Array)}function ni(t,e){e=(e||[]).slice();var a=v(t||[],(function(t){return{exist:t}}));return sm(e,(function(t,i){if(om(t)){for(var n=0;n<a.length;n++)if(!a[n].option&&null!=t.id&&a[n].exist.id===t.id+"")return a[n].option=t,void(e[i]=null);for(n=0;n<a.length;n++){var r=a[n].exist;if(!(a[n].option||null!=r.id&&null!=t.id||null==t.name||oi(t)||oi(r)||r.name!==t.name+""))return a[n].option=t,void(e[i]=null)}}})),sm(e,(function(t){if(om(t)){for(var e=0;e<a.length;e++){var i=a[e].exist;if(!a[e].option&&!oi(i)&&null==t.id){a[e].option=t;break}}e>=a.length&&a.push({option:t})}})),a}function ri(t){var e=R();sm(t,(function(t){var a=t.exist;a&&e.set(a.id,t)})),sm(t,(function(t){var a=t.option;A(!a||null==a.id||!e.get(a.id)||e.get(a.id)===t,"id duplicates: "+(a&&a.id)),a&&null!=a.id&&e.set(a.id,t),!t.keyInfo&&(t.keyInfo={})})),sm(t,(function(t,a){var i=t.exist,n=t.option,r=t.keyInfo;if(om(n)){if(r.name=null!=n.name?n.name+"":i?i.name:cm+a,i)r.id=i.id;else if(null!=n.id)r.id=n.id+"";else{var s=0;do{r.id="\0"+r.name+"\0"+s++}while(e.get(r.id))}e.set(r.id,t)}}))}function si(t){var e=t.name;return!(!e||!e.indexOf(cm))}function oi(t){return om(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function li(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?x(e.dataIndex)?v(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?x(e.name)?v(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function ci(){var t="__\0ec_inner_"+dm+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}function ui(t,e,a){if(S(e)){var i={};i[e+"Index"]=0,e=i}var n=a&&a.defaultMainType;!n||di(e,n+"Index")||di(e,n+"Id")||di(e,n+"Name")||(e[n+"Index"]=0);var r={};return sm(e,(function(i,n){if(i=e[n],"dataIndex"!==n&&"dataIndexInside"!==n){var s=n.match(/^(\w+)(Index|Id|Name)$/)||[],o=s[1],l=(s[2]||"").toLowerCase();if(!(!o||!l||null==i||"index"===l&&"none"===i||a&&a.includeMainTypes&&u(a.includeMainTypes,o)<0)){var c={mainType:o};("index"!==l||"all"!==i)&&(c[l]=i);var d=t.queryComponents(c);r[o+"Models"]=d,r[o+"Model"]=d[0]}}else r[n]=i})),r}function di(t,e){return t&&t.hasOwnProperty(e)}function hi(t,e,a){t.setAttribute?t.setAttribute(e,a):t[e]=a}function pi(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function fi(t){return"auto"===t?Up.domSupported?"html":"richText":t||"html"}function vi(t){var e={main:"",sub:""};return t&&(t=t.split(hm),e.main=t[0]||"",e.sub=t[1]||""),e}function mi(t){A(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function gi(t,e){t.$constructor=t,t.extend=function(t){Hp&&f(e,(function(e){t[e]||console.warn("Method `"+e+"` should be implemented"+(t.type?" in "+t.type:"")+".")}));var a=this,i=function(){t.$constructor?t.$constructor.apply(this,arguments):a.apply(this,arguments)};return o(i.prototype,t),i.extend=this.extend,i.superCall=_i,i.superApply=bi,d(i,this),i.superClass=a,i}}function yi(t){var e=["__\0is_clz",fm++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,Hp&&A(!t.isInstance,'The method "is" can not be defined.'),t.isInstance=function(t){return!(!t||!t[e])}}function _i(t,e){var a=L(arguments,2);return this.superClass.prototype[e].apply(t,a)}function bi(t,e,a){return this.superClass.prototype[e].apply(t,a)}function xi(t,e){function a(t){var e=i[t.main];return e&&e[pm]||((e=i[t.main]={})[pm]=!0),e}e=e||{};var i={};if(t.registerClass=function(t,e){return e&&(mi(e),(e=vi(e)).sub?e.sub!==pm&&(a(e)[e.sub]=t):(Hp&&i[e.main]&&console.warn(e.main+" exists."),i[e.main]=t)),t},t.getClass=function(t,e,a){var n=i[t];if(n&&n[pm]&&(n=e?n[e]:null),a&&!n)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return n},t.getClassesByMainType=function(t){t=vi(t);var e=[],a=i[t.main];return a&&a[pm]?f(a,(function(t,a){a!==pm&&e.push(t)})):e.push(a),e},t.hasClass=function(t){return t=vi(t),!!i[t.main]},t.getAllClassMainTypes=function(){var t=[];return f(i,(function(e,a){t.push(a)})),t},t.hasSubTypes=function(t){t=vi(t);var e=i[t.main];return e&&e[pm]},t.parseClassType=vi,e.registerWhenExtend){var n=t.extend;n&&(t.extend=function(e){var a=n.call(this,e);return t.registerClass(a,e.type)})}return t}function wi(t){return t>-wm&&wm>t}function Si(t){return t>wm||-wm>t}function Ci(t,e,a,i,n){var r=1-n;return r*r*(r*t+3*n*e)+n*n*(n*i+3*r*a)}function Ii(t,e,a,i,n){var r=1-n;return 3*(((e-t)*r+2*(a-e)*n)*r+(i-a)*n*n)}function ki(t,e,a,i,n,r){var s=i+3*(e-a)-t,o=3*(a-2*e+t),l=3*(e-t),c=t-n,u=o*o-3*s*l,d=o*l-9*s*c,h=l*l-3*o*c,p=0;if(wi(u)&&wi(d))wi(o)?r[0]=0:(C=-l/o)>=0&&1>=C&&(r[p++]=C);else{var f=d*d-4*u*h;if(wi(f)){var v=d/u,m=-v/2;(C=-o/s+v)>=0&&1>=C&&(r[p++]=C),m>=0&&1>=m&&(r[p++]=m)}else if(f>0){var g=xm(f),y=u*o+1.5*s*(-d+g),_=u*o+1.5*s*(-d-g);(C=(-o-((y=0>y?-bm(-y,Im):bm(y,Im))+(_=0>_?-bm(-_,Im):bm(_,Im))))/(3*s))>=0&&1>=C&&(r[p++]=C)}else{var b=(2*u*o-3*s*d)/(2*xm(u*u*u)),x=Math.acos(b)/3,w=xm(u),S=Math.cos(x),C=(-o-2*w*S)/(3*s),I=(m=(-o+w*(S+Cm*Math.sin(x)))/(3*s),(-o+w*(S-Cm*Math.sin(x)))/(3*s));C>=0&&1>=C&&(r[p++]=C),m>=0&&1>=m&&(r[p++]=m),I>=0&&1>=I&&(r[p++]=I)}}return p}function Oi(t,e,a,i,n){var r=6*a-12*e+6*t,s=9*e+3*i-3*t-9*a,o=3*e-3*t,l=0;if(wi(s))Si(r)&&(u=-o/r)>=0&&1>=u&&(n[l++]=u);else{var c=r*r-4*s*o;if(wi(c))n[0]=-r/(2*s);else if(c>0){var u,d=xm(c),h=(-r-d)/(2*s);(u=(-r+d)/(2*s))>=0&&1>=u&&(n[l++]=u),h>=0&&1>=h&&(n[l++]=h)}}return l}function Ti(t,e,a,i,n,r){var s=(e-t)*n+t,o=(a-e)*n+e,l=(i-a)*n+a,c=(o-s)*n+s,u=(l-o)*n+o,d=(u-c)*n+c;r[0]=t,r[1]=s,r[2]=c,r[3]=d,r[4]=d,r[5]=u,r[6]=l,r[7]=i}function Pi(t,e,a,i,n,r,s,o,l,c,u){var d,h,p,f,v,m=.005,g=1/0;km[0]=l,km[1]=c;for(var y=0;1>y;y+=.05)Om[0]=Ci(t,a,n,s,y),Om[1]=Ci(e,i,r,o,y),g>(f=pf(km,Om))&&(d=y,g=f);g=1/0;for(var _=0;32>_&&!(Sm>m);_++)h=d-m,p=d+m,Om[0]=Ci(t,a,n,s,h),Om[1]=Ci(e,i,r,o,h),f=pf(Om,km),h>=0&&g>f?(d=h,g=f):(Tm[0]=Ci(t,a,n,s,p),Tm[1]=Ci(e,i,r,o,p),v=pf(Tm,km),1>=p&&g>v?(d=p,g=v):m*=.5);return u&&(u[0]=Ci(t,a,n,s,d),u[1]=Ci(e,i,r,o,d)),xm(g)}function Di(t,e,a,i){var n=1-i;return n*(n*t+2*i*e)+i*i*a}function Mi(t,e,a,i){return 2*((1-i)*(e-t)+i*(a-e))}function Li(t,e,a,i,n){var r=t-2*e+a,s=2*(e-t),o=t-i,l=0;if(wi(r))Si(s)&&(u=-o/s)>=0&&1>=u&&(n[l++]=u);else{var c=s*s-4*r*o;if(wi(c))(u=-s/(2*r))>=0&&1>=u&&(n[l++]=u);else if(c>0){var u,d=xm(c),h=(-s-d)/(2*r);(u=(-s+d)/(2*r))>=0&&1>=u&&(n[l++]=u),h>=0&&1>=h&&(n[l++]=h)}}return l}function Ei(t,e,a){var i=t+a-2*e;return 0===i?.5:(t-e)/i}function Ai(t,e,a,i,n){var r=(e-t)*i+t,s=(a-e)*i+e,o=(s-r)*i+r;n[0]=t,n[1]=r,n[2]=o,n[3]=o,n[4]=s,n[5]=a}function ji(t,e,a,i,n,r,s,o,l){var c,u=.005,d=1/0;km[0]=s,km[1]=o;for(var h=0;1>h;h+=.05)Om[0]=Di(t,a,n,h),Om[1]=Di(e,i,r,h),d>(m=pf(km,Om))&&(c=h,d=m);d=1/0;for(var p=0;32>p&&!(Sm>u);p++){var f=c-u,v=c+u;Om[0]=Di(t,a,n,f),Om[1]=Di(e,i,r,f);var m=pf(Om,km);if(f>=0&&d>m)c=f,d=m;else{Tm[0]=Di(t,a,n,v),Tm[1]=Di(e,i,r,v);var g=pf(Tm,km);1>=v&&d>g?(c=v,d=g):u*=.5}}return l&&(l[0]=Di(t,a,n,c),l[1]=Di(e,i,r,c)),xm(d)}function $i(t,e,a){if(0!==t.length){var i,n=t[0],r=n[0],s=n[0],o=n[1],l=n[1];for(i=1;i<t.length;i++)n=t[i],r=Pm(r,n[0]),s=Dm(s,n[0]),o=Pm(o,n[1]),l=Dm(l,n[1]);e[0]=r,e[1]=o,a[0]=s,a[1]=l}}function Ni(t,e,a,i,n,r){n[0]=Pm(t,a),n[1]=Pm(e,i),r[0]=Dm(t,a),r[1]=Dm(e,i)}function Vi(t,e,a,i,n,r,s,o,l,c){var u,d=Oi,h=Ci,p=d(t,a,n,s,Nm);for(l[0]=1/0,l[1]=1/0,c[0]=-1/0,c[1]=-1/0,u=0;p>u;u++){var f=h(t,a,n,s,Nm[u]);l[0]=Pm(f,l[0]),c[0]=Dm(f,c[0])}for(p=d(e,i,r,o,Vm),u=0;p>u;u++){var v=h(e,i,r,o,Vm[u]);l[1]=Pm(v,l[1]),c[1]=Dm(v,c[1])}l[0]=Pm(t,l[0]),c[0]=Dm(t,c[0]),l[0]=Pm(s,l[0]),c[0]=Dm(s,c[0]),l[1]=Pm(e,l[1]),c[1]=Dm(e,c[1]),l[1]=Pm(o,l[1]),c[1]=Dm(o,c[1])}function Ri(t,e,a,i,n,r,s,o){var l=Ei,c=Di,u=Dm(Pm(l(t,a,n),1),0),d=Dm(Pm(l(e,i,r),1),0),h=c(t,a,n,u),p=c(e,i,r,d);s[0]=Pm(t,n,h),s[1]=Pm(e,r,p),o[0]=Dm(t,n,h),o[1]=Dm(e,r,p)}function Fi(t,e,a,i,n,r,s,o,l){var c=ot,u=lt,d=Math.abs(n-r);if(1e-4>d%Em&&d>1e-4)return o[0]=t-a,o[1]=e-i,l[0]=t+a,void(l[1]=e+i);if(Am[0]=Lm(n)*a+t,Am[1]=Mm(n)*i+e,jm[0]=Lm(r)*a+t,jm[1]=Mm(r)*i+e,c(o,Am,jm),u(l,Am,jm),0>(n%=Em)&&(n+=Em),0>(r%=Em)&&(r+=Em),n>r&&!s?r+=Em:r>n&&s&&(n+=Em),s){var h=r;r=n,n=h}for(var p=0;r>p;p+=Math.PI/2)p>n&&($m[0]=Lm(p)*a+t,$m[1]=Mm(p)*i+e,c(o,$m,o),u(l,$m,l))}function zi(t,e,a,i,n,r,s){if(0===n)return!1;var o=n,l=0;if(s>e+o&&s>i+o||e-o>s&&i-o>s||r>t+o&&r>a+o||t-o>r&&a-o>r)return!1;if(t===a)return Math.abs(r-t)<=o/2;var c=(l=(e-i)/(t-a))*r-s+(t*i-a*e)/(t-a);return o/2*o/2>=c*c/(l*l+1)}function Bi(t,e,a,i,n,r,s,o,l,c,u){return 0!==l&&(!(u>e+l&&u>i+l&&u>r+l&&u>o+l||e-l>u&&i-l>u&&r-l>u&&o-l>u||c>t+l&&c>a+l&&c>n+l&&c>s+l||t-l>c&&a-l>c&&n-l>c&&s-l>c)&&l/2>=Pi(t,e,a,i,n,r,s,o,c,u,null))}function Zi(t,e,a,i,n,r,s,o,l){return 0!==s&&(!(l>e+s&&l>i+s&&l>r+s||e-s>l&&i-s>l&&r-s>l||o>t+s&&o>a+s&&o>n+s||t-s>o&&a-s>o&&n-s>o)&&s/2>=ji(t,e,a,i,n,r,o,l,null))}function Hi(t){return 0>(t%=Jm)&&(t+=Jm),t}function qi(t,e,a,i,n,r,s,o,l){if(0===s)return!1;var c=s;o-=t,l-=e;var u=Math.sqrt(o*o+l*l);if(u-c>a||a>u+c)return!1;if(Math.abs(i-n)%Qm<1e-4)return!0;if(r){var d=i;i=Hi(n),n=Hi(d)}else i=Hi(i),n=Hi(n);i>n&&(n+=Qm);var h=Math.atan2(l,o);return 0>h&&(h+=Qm),h>=i&&n>=h||h+Qm>=i&&n>=h+Qm}function Gi(t,e,a,i,n,r){if(r>e&&r>i||e>r&&i>r)return 0;if(i===e)return 0;var s=e>i?1:-1,o=(r-e)/(i-e);(1===o||0===o)&&(s=e>i?.5:-.5);var l=o*(a-t)+t;return l===n?1/0:l>n?s:0}function Ui(t,e){return Math.abs(t-e)<ag}function Xi(){var t=ng[0];ng[0]=ng[1],ng[1]=t}function Wi(t,e,a,i,n,r,s,o,l,c){if(c>e&&c>i&&c>r&&c>o||e>c&&i>c&&r>c&&o>c)return 0;var u=ki(e,i,r,o,c,ig);if(0===u)return 0;for(var d,h,p=0,f=-1,v=0;u>v;v++){var m=ig[v],g=0===m||1===m?.5:1;l>Ci(t,a,n,s,m)||(0>f&&(f=Oi(e,i,r,o,ng),ng[1]<ng[0]&&f>1&&Xi(),d=Ci(e,i,r,o,ng[0]),f>1&&(h=Ci(e,i,r,o,ng[1]))),p+=2===f?m<ng[0]?e>d?g:-g:m<ng[1]?d>h?g:-g:h>o?g:-g:m<ng[0]?e>d?g:-g:d>o?g:-g)}return p}function Yi(t,e,a,i,n,r,s,o){if(o>e&&o>i&&o>r||e>o&&i>o&&r>o)return 0;var l=Li(e,i,r,o,ig);if(0===l)return 0;var c=Ei(e,i,r);if(c>=0&&1>=c){for(var u=0,d=Di(e,i,r,c),h=0;l>h;h++){var p=0===ig[h]||1===ig[h]?.5:1;s>Di(t,a,n,ig[h])||(u+=ig[h]<c?e>d?p:-p:d>r?p:-p)}return u}return p=0===ig[0]||1===ig[0]?.5:1,s>Di(t,a,n,ig[0])?0:e>r?p:-p}function Ki(t,e,a,i,n,r,s,o){if((o-=e)>a||-a>o)return 0;var l=Math.sqrt(a*a-o*o);ig[0]=-l,ig[1]=l;var c=Math.abs(i-n);if(1e-4>c)return 0;if(1e-4>c%eg){i=0,n=eg;var u=r?1:-1;return s>=ig[0]+t&&s<=ig[1]+t?u:0}r?(l=i,i=Hi(n),n=Hi(l)):(i=Hi(i),n=Hi(n)),i>n&&(n+=eg);for(var d=0,h=0;2>h;h++){var p=ig[h];if(p+t>s){var f=Math.atan2(o,p);u=r?1:-1,0>f&&(f=eg+f),(f>=i&&n>=f||f+eg>=i&&n>=f+eg)&&(f>Math.PI/2&&f<1.5*Math.PI&&(u=-u),d+=u)}}return d}function Ji(t,e,a,i,n){for(var r=0,s=0,o=0,l=0,c=0,u=0;u<t.length;){var d=t[u++];switch(d===tg.M&&u>1&&(a||(r+=Gi(s,o,l,c,i,n))),1===u&&(l=s=t[u],c=o=t[u+1]),d){case tg.M:s=l=t[u++],o=c=t[u++];break;case tg.L:if(a){if(zi(s,o,t[u],t[u+1],e,i,n))return!0}else r+=Gi(s,o,t[u],t[u+1],i,n)||0;s=t[u++],o=t[u++];break;case tg.C:if(a){if(Bi(s,o,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],e,i,n))return!0}else r+=Wi(s,o,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],i,n)||0;s=t[u++],o=t[u++];break;case tg.Q:if(a){if(Zi(s,o,t[u++],t[u++],t[u],t[u+1],e,i,n))return!0}else r+=Yi(s,o,t[u++],t[u++],t[u],t[u+1],i,n)||0;s=t[u++],o=t[u++];break;case tg.A:var h=t[u++],p=t[u++],f=t[u++],v=t[u++],m=t[u++],g=t[u++];u+=1;var y=1-t[u++],_=Math.cos(m)*f+h,b=Math.sin(m)*v+p;u>1?r+=Gi(s,o,_,b,i,n):(l=_,c=b);var x=(i-h)*v/f+h;if(a){if(qi(h,p,v,m,m+g,y,e,x,n))return!0}else r+=Ki(h,p,v,m,m+g,y,x,n);s=Math.cos(m+g)*f+h,o=Math.sin(m+g)*v+p;break;case tg.R:if(l=s=t[u++],c=o=t[u++],_=l+t[u++],b=c+t[u++],a){if(zi(l,c,_,c,e,i,n)||zi(_,c,_,b,e,i,n)||zi(_,b,l,b,e,i,n)||zi(l,b,l,c,e,i,n))return!0}else r+=Gi(_,c,_,b,i,n),r+=Gi(l,b,l,c,i,n);break;case tg.Z:if(a){if(zi(s,o,l,c,e,i,n))return!0}else r+=Gi(s,o,l,c,i,n);s=l,o=c}}return a||Ui(o,c)||(r+=Gi(s,o,l,c,i,n)||0),0!==r}function Qi(t,e,a){return Ji(t,0,!1,e,a)}function tn(t,e,a,i){return Ji(t,e,!0,a,i)}function en(t){Oa.call(this,t),this.path=null}function an(t,e,a,i,n,r,s,o,l,c,u){var d=l*(mg/180),h=vg(d)*(t-a)/2+fg(d)*(e-i)/2,p=-1*fg(d)*(t-a)/2+vg(d)*(e-i)/2,f=h*h/(s*s)+p*p/(o*o);f>1&&(s*=pg(f),o*=pg(f));var v=(n===r?-1:1)*pg((s*s*o*o-s*s*p*p-o*o*h*h)/(s*s*p*p+o*o*h*h))||0,m=v*s*p/o,g=v*-o*h/s,y=(t+a)/2+vg(d)*m-fg(d)*g,_=(e+i)/2+fg(d)*m+vg(d)*g,b=_g([1,0],[(h-m)/s,(p-g)/o]),x=[(h-m)/s,(p-g)/o],w=[(-1*h-m)/s,(-1*p-g)/o],S=_g(x,w);yg(x,w)<=-1&&(S=mg),yg(x,w)>=1&&(S=0),0===r&&S>0&&(S-=2*mg),1===r&&0>S&&(S+=2*mg),u.addData(c,y,_,s,o,b,S,d,r)}function nn(t){if(!t)return new Km;for(var e,a=0,i=0,n=a,r=i,s=new Km,o=Km.CMD,l=t.match(bg),c=0;c<l.length;c++){for(var u,d=l[c],h=d.charAt(0),p=d.match(xg)||[],f=p.length,v=0;f>v;v++)p[v]=parseFloat(p[v]);for(var m=0;f>m;){var g,y,_,b,x,w,S,C=a,I=i;switch(h){case"l":a+=p[m++],i+=p[m++],u=o.L,s.addData(u,a,i);break;case"L":a=p[m++],i=p[m++],u=o.L,s.addData(u,a,i);break;case"m":a+=p[m++],i+=p[m++],u=o.M,s.addData(u,a,i),n=a,r=i,h="l";break;case"M":a=p[m++],i=p[m++],u=o.M,s.addData(u,a,i),n=a,r=i,h="L";break;case"h":a+=p[m++],u=o.L,s.addData(u,a,i);break;case"H":a=p[m++],u=o.L,s.addData(u,a,i);break;case"v":i+=p[m++],u=o.L,s.addData(u,a,i);break;case"V":i=p[m++],u=o.L,s.addData(u,a,i);break;case"C":u=o.C,s.addData(u,p[m++],p[m++],p[m++],p[m++],p[m++],p[m++]),a=p[m-2],i=p[m-1];break;case"c":u=o.C,s.addData(u,p[m++]+a,p[m++]+i,p[m++]+a,p[m++]+i,p[m++]+a,p[m++]+i),a+=p[m-2],i+=p[m-1];break;case"S":g=a,y=i;var k=s.len(),O=s.data;e===o.C&&(g+=a-O[k-4],y+=i-O[k-3]),u=o.C,C=p[m++],I=p[m++],a=p[m++],i=p[m++],s.addData(u,g,y,C,I,a,i);break;case"s":g=a,y=i,k=s.len(),O=s.data,e===o.C&&(g+=a-O[k-4],y+=i-O[k-3]),u=o.C,C=a+p[m++],I=i+p[m++],a+=p[m++],i+=p[m++],s.addData(u,g,y,C,I,a,i);break;case"Q":C=p[m++],I=p[m++],a=p[m++],i=p[m++],u=o.Q,s.addData(u,C,I,a,i);break;case"q":C=p[m++]+a,I=p[m++]+i,a+=p[m++],i+=p[m++],u=o.Q,s.addData(u,C,I,a,i);break;case"T":g=a,y=i,k=s.len(),O=s.data,e===o.Q&&(g+=a-O[k-4],y+=i-O[k-3]),a=p[m++],i=p[m++],u=o.Q,s.addData(u,g,y,a,i);break;case"t":g=a,y=i,k=s.len(),O=s.data,e===o.Q&&(g+=a-O[k-4],y+=i-O[k-3]),a+=p[m++],i+=p[m++],u=o.Q,s.addData(u,g,y,a,i);break;case"A":_=p[m++],b=p[m++],x=p[m++],w=p[m++],S=p[m++],an(C=a,I=i,a=p[m++],i=p[m++],w,S,_,b,x,u=o.A,s);break;case"a":_=p[m++],b=p[m++],x=p[m++],w=p[m++],S=p[m++],an(C=a,I=i,a+=p[m++],i+=p[m++],w,S,_,b,x,u=o.A,s)}}("z"===h||"Z"===h)&&(u=o.Z,s.addData(u),a=n,i=r),e=u}return s.toStatic(),s}function rn(t,e){var a=nn(t);return(e=e||{}).buildPath=function(t){if(t.setData)t.setData(a.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;a.rebuildPath(e)}},e.applyTransform=function(t){hg(a,t),this.dirty(!0)},e}function sn(t,e){return new en(rn(t,e))}function on(t,e){return en.extend(rn(t,e))}function ln(t,e){for(var a=[],i=t.length,n=0;i>n;n++){var r=t[n];r.path||r.createPathProxy(),r.__dirtyPath&&r.buildPath(r.path,r.shape,!0),a.push(r.path)}var s=new en(e);return s.createPathProxy(),s.buildPath=function(t){t.appendPath(a);var e=t.getContext();e&&t.rebuildPath(e)},s}function cn(t,e,a,i,n,r,s){var o=.5*(a-t),l=.5*(i-e);return(2*(e-a)+o+l)*s+(-3*(e-a)-2*o-l)*r+o*n+e}function un(t,e,a){var i=e.points,n=e.smooth;if(i&&i.length>=2){if(n&&"spline"!==n){var r=Pg(i,n,a,e.smoothConstraint);t.moveTo(i[0][0],i[0][1]);for(var s=i.length,o=0;(a?s:s-1)>o;o++){var l=r[2*o],c=r[2*o+1],u=i[(o+1)%s];t.bezierCurveTo(l[0],l[1],c[0],c[1],u[0],u[1])}}else{"spline"===n&&(i=Tg(i,a)),t.moveTo(i[0][0],i[0][1]),o=1;for(var d=i.length;d>o;o++)t.lineTo(i[o][0],i[o][1])}a&&t.closePath()}}function dn(t,e,a){if(e){var i=e.x1,n=e.x2,r=e.y1,s=e.y2;t.x1=i,t.x2=n,t.y1=r,t.y2=s;var o=a&&a.lineWidth;o&&(Lg(2*i)===Lg(2*n)&&(t.x1=t.x2=pn(i,o,!0)),Lg(2*r)===Lg(2*s)&&(t.y1=t.y2=pn(r,o,!0)))}}function hn(t,e,a){if(e){var i=e.x,n=e.y,r=e.width,s=e.height;t.x=i,t.y=n,t.width=r,t.height=s;var o=a&&a.lineWidth;o&&(t.x=pn(i,o,!0),t.y=pn(n,o,!0),t.width=Math.max(pn(i+r,o,!1)-t.x,0===r?0:1),t.height=Math.max(pn(n+s,o,!1)-t.y,0===s?0:1))}}function pn(t,e,a){if(!e)return t;var i=Lg(2*t);return(i+Lg(e))%2==0?i/2:(i+(a?1:-1))/2}function fn(t,e,a){var i=t.cpx2,n=t.cpy2;return null===i||null===n?[(a?Ii:Ci)(t.x1,t.cpx1,t.cpx2,t.x2,e),(a?Ii:Ci)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(a?Mi:Di)(t.x1,t.cpx1,t.x2,e),(a?Mi:Di)(t.y1,t.cpy1,t.y2,e)]}function vn(t){Oa.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function mn(t){return en.extend(t)}function gn(t,e){return on(t,e)}function yn(t,e){ty[t]=e}function _n(t){return ty.hasOwnProperty(t)?ty[t]:void 0}function bn(t,e,a,i){var n=sn(t,e);return a&&("center"===i&&(a=wn(a,n.getBoundingRect())),Sn(n,a)),n}function xn(t,e,a){var i=new Ta({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===a){var n={width:t.width,height:t.height};i.setStyle(wn(e,n))}}});return i}function wn(t,e){var a,i=e.width/e.height,n=t.height*i;return a=n<=t.width?t.height:(n=t.width)/i,{x:t.x+t.width/2-n/2,y:t.y+t.height/2-a/2,width:n,height:a}}function Sn(t,e){if(t.applyTransform){var a=t.getBoundingRect().calculateTransform(e);t.applyTransform(a)}}function Cn(t){return dn(t.shape,t.shape,t.style),t}function In(t){return hn(t.shape,t.shape,t.style),t}function kn(t){return null!=t&&"none"!==t}function On(t){if("string"!=typeof t)return t;var e=iy.get(t);return e||(e=ne(t,-.1),1e4>ny&&(iy.set(t,e),ny++)),e}function Tn(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(!e)return void(t.__cachedNormalStl=t.__cachedNormalZ2=null);var a=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var i=t.style;for(var n in e)null!=e[n]&&(a[n]=i[n]);a.fill=i.fill,a.stroke=i.stroke}}function Pn(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var a=t.__zr,i=t.useHoverLayer&&a&&"canvas"===a.painter.type;if(t.__highlighted=i?"layer":"plain",!(t.isGroup||!a&&t.useHoverLayer)){var n=t,r=t.style;i&&(r=(n=a.addHover(t)).style),Jn(r),i||Tn(n),r.extendFrom(e),Dn(r,e,"fill"),Dn(r,e,"stroke"),Kn(r),i||(t.dirty(!1),t.z2+=Xg)}}}function Dn(t,e,a){!kn(e[a])&&kn(t[a])&&(t[a]=On(t[a]))}function Mn(t){var e=t.__highlighted;if(e&&(t.__highlighted=!1,!t.isGroup))if("layer"===e)t.__zr&&t.__zr.removeHover(t);else{var a=t.style,i=t.__cachedNormalStl;i&&(Jn(a),t.setStyle(i),Kn(a));var n=t.__cachedNormalZ2;null!=n&&t.z2-n===Xg&&(t.z2=n)}}function Ln(t,e,a){var i,n=Kg,r=Kg;t.__highlighted&&(n=Yg,i=!0),e(t,a),t.__highlighted&&(r=Yg,i=!0),t.isGroup&&t.traverse((function(t){!t.isGroup&&e(t,a)})),i&&t.__highDownOnUpdate&&t.__highDownOnUpdate(n,r)}function En(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,Mn(t),Pn(t))}function An(t){!Vn(this,t)&&!this.__highByOuter&&Ln(this,Pn)}function jn(t){!Vn(this,t)&&!this.__highByOuter&&Ln(this,Mn)}function $n(t){this.__highByOuter|=1<<(t||0),Ln(this,Pn)}function Nn(t){!(this.__highByOuter&=~(1<<(t||0)))&&Ln(this,Mn)}function Vn(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Rn(t,e){Fn(t,!0),Ln(t,En,e)}function Fn(t,e){var a=!1===e;if(t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,!a||t.__highDownDispatcher){var i=a?"off":"on";t[i]("mouseover",An)[i]("mouseout",jn),t[i]("emphasis",$n)[i]("normal",Nn),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!a}}function zn(t){return!(!t||!t.__highDownDispatcher)}function Bn(t){var e=Qg[t];return null==e&&32>=Jg&&(e=Qg[t]=Jg++),e}function Zn(t,e,a,i,n,r,s){var o,l=(n=n||Ug).labelFetcher,c=n.labelDataIndex,u=n.labelDimIndex,d=n.labelProp,h=a.getShallow("show"),p=i.getShallow("show");(h||p)&&(l&&(o=l.getFormattedLabel(c,"normal",null,u,d)),null==o&&(o=w(n.defaultText)?n.defaultText(c,n):n.defaultText));var f=h?o:null,v=p?D(l?l.getFormattedLabel(c,"emphasis",null,u,d):null,o):null;(null!=f||null!=v)&&(qn(t,a,r,n),qn(e,i,s,n,!0)),t.text=f,e.text=v}function Hn(t,e,a){var i=t.style;e&&(Jn(i),t.setStyle(e),Kn(i)),i=t.__hoverStl,a&&i&&(Jn(i),o(i,a),Kn(i))}function qn(t,e,a,i,n){return Un(t,e,i,n),a&&o(t,a),t}function Gn(t,e,a){var i,n={isRectText:!0};!1===a?i=!0:n.autoColor=a,Un(t,e,n,i)}function Un(t,e,a,i){if((a=a||Ug).isRectText){var n;a.getTextPosition?n=a.getTextPosition(e,i):"outside"===(n=e.getShallow("position")||(i?null:"inside"))&&(n="top"),t.textPosition=n,t.textOffset=e.getShallow("offset");var r=e.getShallow("rotate");null!=r&&(r*=Math.PI/180),t.textRotation=r,t.textDistance=D(e.getShallow("distance"),i?null:5)}var s,o=e.ecModel,l=o&&o.option.textStyle,c=Xn(e);if(c)for(var u in s={},c)if(c.hasOwnProperty(u)){var d=e.getModel(["rich",u]);Wn(s[u]={},d,l,a,i)}return t.rich=s,Wn(t,e,l,a,i,!0),a.forceRich&&!a.textStyle&&(a.textStyle={}),t}function Xn(t){for(var e;t&&t!==t.ecModel;){var a=(t.option||Ug).rich;if(a)for(var i in e=e||{},a)a.hasOwnProperty(i)&&(e[i]=1);t=t.parentModel}return e}function Wn(t,e,a,i,n,r){a=!n&&a||Ug,t.textFill=Yn(e.getShallow("color"),i)||a.color,t.textStroke=Yn(e.getShallow("textBorderColor"),i)||a.textBorderColor,t.textStrokeWidth=D(e.getShallow("textBorderWidth"),a.textBorderWidth),n||(r&&(t.insideRollbackOpt=i,Kn(t)),null==t.textFill&&(t.textFill=i.autoColor)),t.fontStyle=e.getShallow("fontStyle")||a.fontStyle,t.fontWeight=e.getShallow("fontWeight")||a.fontWeight,t.fontSize=e.getShallow("fontSize")||a.fontSize,t.fontFamily=e.getShallow("fontFamily")||a.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),r&&i.disableBox||(t.textBackgroundColor=Yn(e.getShallow("backgroundColor"),i),t.textPadding=e.getShallow("padding"),t.textBorderColor=Yn(e.getShallow("borderColor"),i),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||a.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||a.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||a.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||a.textShadowOffsetY}function Yn(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function Kn(t){var e,a=t.textPosition,i=t.insideRollbackOpt;if(i&&null==t.textFill){var n=i.autoColor,r=i.isRectText,s=i.useInsideStyle,o=!1!==s&&(!0===s||r&&a&&"string"==typeof a&&a.indexOf("inside")>=0),l=!o&&null!=n;(o||l)&&(e={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),o&&(t.textFill="#fff",null==t.textStroke&&(t.textStroke=n,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),l&&(t.textFill=n)}t.insideRollback=e}function Jn(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function Qn(t,e){var a=e&&e.getModel("textStyle");return j([t.fontStyle||a&&a.getShallow("fontStyle")||"",t.fontWeight||a&&a.getShallow("fontWeight")||"",(t.fontSize||a&&a.getShallow("fontSize")||12)+"px",t.fontFamily||a&&a.getShallow("fontFamily")||"sans-serif"].join(" "))}function tr(t,e,a,i,n,r){if("function"==typeof n&&(r=n,n=null),i&&i.isAnimationEnabled()){var s=t?"Update":"",o=i.getShallow("animationDuration"+s),l=i.getShallow("animationEasing"+s),c=i.getShallow("animationDelay"+s);"function"==typeof c&&(c=c(n,i.getAnimationDelayParams?i.getAnimationDelayParams(e,n):null)),"function"==typeof o&&(o=o(n)),o>0?e.animateTo(a,o,c||0,l,r,!!r):(e.stopAnimation(),e.attr(a),r&&r())}else e.stopAnimation(),e.attr(a),r&&r()}function er(t,e,a,i,n){tr(!0,t,e,a,i,n)}function ar(t,e,a,i,n){tr(!1,t,e,a,i,n)}function ir(t,e){for(var a=jt([]);t&&t!==e;)Nt(a,t.getLocalTransform(),a),t=t.parent;return a}function nr(t,e,a){return e&&!p(e)&&(e=Ef.getLocalTransform(e)),a&&(e=zt([],e)),st([],t,e)}function rr(t,e,a){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),n=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),r=["left"===t?-i:"right"===t?i:0,"top"===t?-n:"bottom"===t?n:0];return r=nr(r,e,a),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function sr(t,e,a){function i(t){var e={};return t.traverse((function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)})),e}function n(t){var e={position:H(t.position),rotation:t.rotation};return t.shape&&(e.shape=o({},t.shape)),e}if(t&&e){var r=i(t);e.traverse((function(t){if(!t.isGroup&&t.anid){var e=r[t.anid];if(e){var i=n(t);t.attr(n(e)),er(t,i,a,t.dataIndex)}}}))}}function or(t,e){return v(t,(function(t){var a=t[0];a=qg(a,e.x),a=Gg(a,e.x+e.width);var i=t[1];return i=qg(i,e.y),[a,i=Gg(i,e.y+e.height)]}))}function lr(t,e){var a=qg(t.x,e.x),i=Gg(t.x+t.width,e.x+e.width),n=qg(t.y,e.y),r=Gg(t.y+t.height,e.y+e.height);return i>=a&&r>=n?{x:a,y:n,width:i-a,height:r-n}:void 0}function cr(t,e,a){var i=(e=o({rectHover:!0},e)).style={strokeNoScale:!0};return a=a||{x:-1,y:-1,width:2,height:2},t?0===t.indexOf("image://")?(i.image=t.slice(8),l(i,a),new Ta(e)):bn(t.replace("path://",""),e,a,"center"):void 0}function ur(t,e,a,i,n){for(var r=0,s=n[n.length-1];r<n.length;r++){var o=n[r];if(dr(t,e,a,i,o[0],o[1],s[0],s[1]))return!0;s=o}}function dr(t,e,a,i,n,r,s,o){var l=a-t,c=i-e,u=s-n,d=o-r,h=hr(u,d,l,c);if(pr(h))return!1;var p=t-n,f=e-r,v=hr(p,f,l,c)/h;if(0>v||v>1)return!1;var m=hr(p,f,u,d)/h;return!(0>m||m>1)}function hr(t,e,a,i){return t*i-a*e}function pr(t){return 1e-6>=t&&t>=-1e-6}function fr(t,e,a){this.parentModel=e,this.ecModel=a,this.option=t}function vr(t,e,a){for(var i=0;i<e.length&&(!e[i]||null!=(t=t&&"object"==typeof t?t[e[i]]:null));i++);return null==t&&a&&(t=a.get(e)),t}function mr(t,e){var a=dy(t).getParent;return a?a.call(t,e):t.parentModel}function gr(t){return[t||"",hy++,Math.random().toFixed(5)].join("_")}function yr(t){var e={};return t.registerSubTypeDefaulter=function(t,a){t=vi(t),e[t.main]=a},t.determineSubType=function(a,i){var n=i.type;if(!n){var r=vi(a).main;t.hasSubTypes(a)&&e[r]&&(n=e[r](i))}return n},t}function _r(t,e){function a(t){var a={},r=[];return f(t,(function(s){var o=i(a,s),l=n(o.originalDeps=e(s),t);o.entryCount=l.length,0===o.entryCount&&r.push(s),f(l,(function(t){u(o.predecessor,t)<0&&o.predecessor.push(t);var e=i(a,t);u(e.successor,t)<0&&e.successor.push(s)}))})),{graph:a,noEntryList:r}}function i(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function n(t,e){var a=[];return f(t,(function(t){u(e,t)>=0&&a.push(t)})),a}t.topologicalTravel=function(t,e,i,n){function r(t){l[t].entryCount--,0===l[t].entryCount&&c.push(t)}function s(t){u[t]=!0,r(t)}if(t.length){var o=a(e),l=o.graph,c=o.noEntryList,u={};for(f(t,(function(t){u[t]=!0}));c.length;){var d=c.pop(),h=l[d],p=!!u[d];p&&(i.call(n,d,h.originalDeps.slice()),delete u[d]),f(h.successor,p?s:r)}f(u,(function(){throw new Error("Circle dependency may exists")}))}}}function br(t){return t.replace(/^\s+|\s+$/g,"")}function xr(t,e,a,i){var n=e[1]-e[0],r=a[1]-a[0];if(0===n)return 0===r?a[0]:(a[0]+a[1])/2;if(i)if(n>0){if(t<=e[0])return a[0];if(t>=e[1])return a[1]}else{if(t>=e[0])return a[0];if(t<=e[1])return a[1]}else{if(t===e[0])return a[0];if(t===e[1])return a[1]}return(t-e[0])/n*r+a[0]}function wr(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?br(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function Sr(t,e,a){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),a?t:+t}function Cr(t){return t.sort((function(t,e){return t-e})),t}function Ir(t){if(t=+t,isNaN(t))return 0;for(var e=1,a=0;Math.round(t*e)/e!==t;)e*=10,a++;return a}function kr(t){var e=t.toString(),a=e.indexOf("e");if(a>0){var i=+e.slice(a+1);return 0>i?-i:0}var n=e.indexOf(".");return 0>n?0:e.length-1-n}function Or(t,e){var a=Math.log,i=Math.LN10,n=Math.floor(a(t[1]-t[0])/i),r=Math.round(a(Math.abs(e[1]-e[0]))/i),s=Math.min(Math.max(-n+r,0),20);return isFinite(s)?s:20}function Tr(t,e,a){if(!t[e])return 0;var i=m(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===i)return 0;for(var n=Math.pow(10,a),r=v(t,(function(t){return(isNaN(t)?0:t)/i*n*100})),s=100*n,o=v(r,(function(t){return Math.floor(t)})),l=m(o,(function(t,e){return t+e}),0),c=v(r,(function(t,e){return t-o[e]}));s>l;){for(var u=Number.NEGATIVE_INFINITY,d=null,h=0,p=c.length;p>h;++h)c[h]>u&&(u=c[h],d=h);++o[d],c[d]=0,++l}return o[e]/n}function Pr(t){var e=2*Math.PI;return(t%e+e)%e}function Dr(t){return t>-py&&py>t}function Mr(t){if(t instanceof Date)return t;if("string"==typeof t){var e=vy.exec(t);if(!e)return new Date(NaN);if(e[8]){var a=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(a-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,a,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return new Date(null==t?NaN:Math.round(t))}function Lr(t){return Math.pow(10,Er(t))}function Er(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Ar(t,e){var a=Er(t),i=Math.pow(10,a),n=t/i;return t=(e?1.5>n?1:2.5>n?2:4>n?3:7>n?5:10:1>n?1:2>n?2:3>n?3:5>n?5:10)*i,a>=-20?+t.toFixed(0>a?-a:0):t}function jr(t,e){var a=(t.length-1)*e+1,i=Math.floor(a),n=+t[i-1],r=a-i;return r?n+r*(t[i]-n):n}function $r(t){function e(t,a,i){return t.interval[i]<a.interval[i]||t.interval[i]===a.interval[i]&&(t.close[i]-a.close[i]==(i?-1:1)||!i&&e(t,a,1))}t.sort((function(t,a){return e(t,a,0)?-1:1}));for(var a=-1/0,i=1,n=0;n<t.length;){for(var r=t[n].interval,s=t[n].close,o=0;2>o;o++)r[o]<=a&&(r[o]=a,s[o]=o?1:1-i),a=r[o],i=s[o];r[0]===r[1]&&s[0]*s[1]!=1?t.splice(n,1):n++}return t}function Nr(t){return t-parseFloat(t)>=0}function Vr(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Rr(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function Fr(t){return null==t?"":(t+"").replace(yy,(function(t,e){return _y[e]}))}function zr(t,e,a){x(e)||(e=[e]);var i=e.length;if(!i)return"";for(var n=e[0].$vars||[],r=0;r<n.length;r++){var s=by[r];t=t.replace(xy(s),xy(s,0))}for(var o=0;i>o;o++)for(var l=0;l<n.length;l++){var c=e[o][n[l]];t=t.replace(xy(by[l],o),a?Fr(c):c)}return t}function Br(t,e,a){return f(e,(function(e,i){t=t.replace("{"+i+"}",a?Fr(e):e)})),t}function Zr(t,e){var a=(t=S(t)?{color:t,extraCssText:e}:t||{}).color,i=t.type,n=(e=t.extraCssText,t.renderMode||"html"),r=t.markerId||"X";return a?"html"===n?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+Fr(a)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+Fr(a)+";"+(e||"")+'"></span>':{renderMode:n,content:"{marker"+r+"|}  ",style:{color:a}}:""}function Hr(t,e){return"0000".substr(0,e-(t+="").length)+t}function qr(t,e,a){("week"===t||"month"===t||"quarter"===t||"half-year"===t||"year"===t)&&(t="MM-dd\nyyyy");var i=Mr(e),n=a?"UTC":"",r=i["get"+n+"FullYear"](),s=i["get"+n+"Month"]()+1,o=i["get"+n+"Date"](),l=i["get"+n+"Hours"](),c=i["get"+n+"Minutes"](),u=i["get"+n+"Seconds"](),d=i["get"+n+"Milliseconds"]();return t.replace("MM",Hr(s,2)).replace("M",s).replace("yyyy",r).replace("yy",r%100).replace("dd",Hr(o,2)).replace("d",o).replace("hh",Hr(l,2)).replace("h",l).replace("mm",Hr(c,2)).replace("m",c).replace("ss",Hr(u,2)).replace("s",u).replace("SSS",Hr(d,3))}function Gr(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function Ur(t){return Ge(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)}function Xr(t,e,a,i,n,r,s,o){return Ge(t,e,a,i,n,o,r,s)}function Wr(t,e){if("_blank"===e||"blank"===e){var a=window.open();a.opener=null,a.location=t}else window.open(t,e)}function Yr(t,e,a,i,n){var r=0,s=0;null==i&&(i=1/0),null==n&&(n=1/0);var o=0;e.eachChild((function(l,c){var u,d,h=l.position,p=l.getBoundingRect(),f=e.childAt(c+1),v=f&&f.getBoundingRect();if("horizontal"===t){var m=p.width+(v?-v.x+p.x:0);(u=r+m)>i||l.newline?(r=0,u=m,s+=o+a,o=p.height):o=Math.max(o,p.height)}else{var g=p.height+(v?-v.y+p.y:0);(d=s+g)>n||l.newline?(r+=o+a,s=0,d=g,o=p.width):o=Math.max(o,p.width)}l.newline||(h[0]=r,h[1]=s,"horizontal"===t?r=u+a:s=d+a)}))}function Kr(t,e,a){a=gy(a||0);var i=e.width,n=e.height,r=wr(t.left,i),s=wr(t.top,n),o=wr(t.right,i),l=wr(t.bottom,n),c=wr(t.width,i),u=wr(t.height,n),d=a[2]+a[0],h=a[1]+a[3],p=t.aspect;switch(isNaN(c)&&(c=i-o-h-r),isNaN(u)&&(u=n-l-d-s),null!=p&&(isNaN(c)&&isNaN(u)&&(p>i/n?c=.8*i:u=.8*n),isNaN(c)&&(c=p*u),isNaN(u)&&(u=c/p)),isNaN(r)&&(r=i-o-c-h),isNaN(s)&&(s=n-l-u-d),t.left||t.right){case"center":r=i/2-c/2-a[3];break;case"right":r=i-c-h}switch(t.top||t.bottom){case"middle":case"center":s=n/2-u/2-a[0];break;case"bottom":s=n-u-d}r=r||0,s=s||0,isNaN(c)&&(c=i-h-r-(o||0)),isNaN(u)&&(u=n-d-s-(l||0));var f=new Oe(r+a[3],s+a[0],c,u);return f.margin=a,f}function Jr(t,e,a,i,n){var r=!n||!n.hv||n.hv[0],s=!n||!n.hv||n.hv[1],o=n&&n.boundingMode||"all";if(r||s){var c;if("raw"===o)c="group"===t.type?new Oe(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(c=t.getBoundingRect(),t.needLocalTransform()){var u=t.getLocalTransform();(c=c.clone()).applyTransform(u)}e=Kr(l({width:c.width,height:c.height},e),a,i);var d=t.position,h=r?e.x-c.x:0,p=s?e.y-c.y:0;t.attr("position","raw"===o?[h,p]:[d[0]+h,d[1]+p])}}function Qr(t,e,a){function i(a,i){var s={},l=0,c={},u=0,d=2;if(Cy(a,(function(e){c[e]=t[e]})),Cy(a,(function(t){n(e,t)&&(s[t]=c[t]=e[t]),r(s,t)&&l++,r(c,t)&&u++})),o[i])return r(e,a[1])?c[a[2]]=null:r(e,a[2])&&(c[a[1]]=null),c;if(u!==d&&l){if(l>=d)return s;for(var h=0;h<a.length;h++){var p=a[h];if(!n(s,p)&&n(t,p)){s[p]=t[p];break}}return s}return c}function n(t,e){return t.hasOwnProperty(e)}function r(t,e){return null!=t[e]&&"auto"!==t[e]}function s(t,e,a){Cy(t,(function(t){e[t]=a[t]}))}!C(a)&&(a={});var o=a.ignoreSize;!x(o)&&(o=[o,o]);var l=i(ky[0],0),c=i(ky[1],1);s(ky[0],t,l),s(ky[1],t,c)}function ts(t){return es({},t)}function es(t,e){return e&&t&&Cy(Iy,(function(a){e.hasOwnProperty(a)&&(t[a]=e[a])})),t}function as(t){var e=[];return f(Dy.getClassesByMainType(t),(function(t){e=e.concat(t.prototype.dependencies||[])})),e=v(e,(function(t){return vi(t).main})),"dataset"!==t&&u(e,"dataset")<=0&&e.unshift("dataset"),e}function is(t,e){for(var a=t.length,i=0;a>i;i++)if(t[i].length>e)return t[i];return t[a-1]}function ns(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===Vy?{}:[]),this.sourceFormat=t.sourceFormat||Ry,this.seriesLayoutBy=t.seriesLayoutBy||zy,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&R(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function rs(t){var e=t.option.source,a=Ry;if(k(e))a=Fy;else if(x(e)){0===e.length&&(a=$y);for(var i=0,n=e.length;n>i;i++){var r=e[i];if(null!=r){if(x(r)){a=$y;break}if(C(r)){a=Ny;break}}}}else if(C(e)){for(var s in e)if(e.hasOwnProperty(s)&&p(e[s])){a=Vy;break}}else if(null!=e)throw new Error("Invalid data");Hy(t).sourceFormat=a}function ss(t){return Hy(t).source}function os(t){Hy(t).datasetMap=R()}function ls(t){var e=t.option,a=e.data,i=k(a)?Fy:jy,n=!1,r=e.seriesLayoutBy,s=e.sourceHeader,o=e.dimensions,l=vs(t);if(l){var c=l.option;a=c.source,i=Hy(l).sourceFormat,n=!0,r=r||c.seriesLayoutBy,null==s&&(s=c.sourceHeader),o=o||c.dimensions}var u=cs(a,i,r,s,o);Hy(t).source=new ns({data:a,fromDataset:n,seriesLayoutBy:r,sourceFormat:i,dimensionsDefine:u.dimensionsDefine,startIndex:u.startIndex,dimensionsDetectCount:u.dimensionsDetectCount,encodeDefine:e.encode})}function cs(t,e,a,i,n){if(!t)return{dimensionsDefine:us(n)};var r,s;if(e===$y)"auto"===i||null==i?ds((function(t){null!=t&&"-"!==t&&(S(t)?null==s&&(s=1):s=0)}),a,t,10):s=i?1:0,n||1!==s||(n=[],ds((function(t,e){n[e]=null!=t?t:""}),a,t)),r=n?n.length:a===By?t.length:t[0]?t[0].length:null;else if(e===Ny)n||(n=hs(t));else if(e===Vy)n||(n=[],f(t,(function(t,e){n.push(e)})));else if(e===jy){var o=ai(t[0]);r=x(o)&&o.length||1}else e===Fy&&Hp&&A(!!n,"dimensions must be given if data is TypedArray.");return{startIndex:s,dimensionsDefine:us(n),dimensionsDetectCount:r}}function us(t){if(t){var e=R();return v(t,(function(t){if(null==(t=o({},C(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var a=e.get(t.name);return a?t.name+="-"+a.count++:e.set(t.name,{count:1}),t}))}}function ds(t,e,a,i){if(null==i&&(i=1/0),e===By)for(var n=0;n<a.length&&i>n;n++)t(a[n]?a[n][0]:null,n);else{var r=a[0]||[];for(n=0;n<r.length&&i>n;n++)t(r[n],n)}}function hs(t){for(var e,a=0;a<t.length&&!(e=t[a++]););if(e){var i=[];return f(e,(function(t,e){i.push(e)})),i}}function ps(t,e,a){function i(t,e,a){for(var i=0;a>i;i++)t.push(e+i)}function n(t){var e=t.dimsDef;return e?e.length:1}var r={},s=vs(e);if(!s||!t)return r;var o,l,c=[],u=[],d=e.ecModel,h=Hy(d).datasetMap,p=s.uid+"_"+a.seriesLayoutBy;f(t=t.slice(),(function(e,a){!C(e)&&(t[a]={name:e}),"ordinal"===e.type&&null==o&&(o=a,l=n(t[a])),r[e.name]=[]}));var v=h.get(p)||h.set(p,{categoryWayDim:l,valueWayDim:0});return f(t,(function(t,e){var a=t.name,s=n(t);if(null==o){var l=v.valueWayDim;i(r[a],l,s),i(u,l,s),v.valueWayDim+=s}else o===e?(i(r[a],0,s),i(c,0,s)):(l=v.categoryWayDim,i(r[a],l,s),i(u,l,s),v.categoryWayDim+=s)})),c.length&&(r.itemName=c),u.length&&(r.seriesName=u),r}function fs(t,e,a){var i={};if(!vs(t))return i;var n,r=e.sourceFormat,s=e.dimensionsDefine;(r===Ny||r===Vy)&&f(s,(function(t,e){"name"===(C(t)?t.name:t)&&(n=e)}));var o=function(){function t(t){return null!=t.v&&null!=t.n}for(var i={},o={},l=[],c=0,u=Math.min(5,a);u>c;c++){var d=gs(e.data,r,e.seriesLayoutBy,s,e.startIndex,c);l.push(d);var h=d===Zy.Not;if(h&&null==i.v&&c!==n&&(i.v=c),(null==i.n||i.n===i.v||!h&&l[i.n]===Zy.Not)&&(i.n=c),t(i)&&l[i.n]!==Zy.Not)return i;h||(d===Zy.Might&&null==o.v&&c!==n&&(o.v=c),(null==o.n||o.n===o.v)&&(o.n=c))}return t(i)?i:t(o)?o:null}();if(o){i.value=o.v;var l=null!=n?n:o.n;i.itemName=[l],i.seriesName=[l]}return i}function vs(t){var e=t.option;return e.data?void 0:t.ecModel.getComponent("dataset",e.datasetIndex||0)}function ms(t,e){return gs(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function gs(t,e,a,i,n,r){function s(t){var e=S(t);return null!=t&&isFinite(t)&&""!==t?e?Zy.Might:Zy.Not:e&&"-"!==t?Zy.Must:void 0}var o,l,c,u=5;if(k(t))return Zy.Not;if(i){var d=i[r];C(d)?(l=d.name,c=d.type):S(d)&&(l=d)}if(null!=c)return"ordinal"===c?Zy.Must:Zy.Not;if(e===$y)if(a===By){for(var h=t[r],p=0;p<(h||[]).length&&u>p;p++)if(null!=(o=s(h[n+p])))return o}else for(p=0;p<t.length&&u>p;p++){var f=t[n+p];if(f&&null!=(o=s(f[r])))return o}else if(e===Ny){if(!l)return Zy.Not;for(p=0;p<t.length&&u>p;p++)if((v=t[p])&&null!=(o=s(v[l])))return o}else if(e===Vy){if(!l)return Zy.Not;if(!(h=t[l])||k(h))return Zy.Not;for(p=0;p<h.length&&u>p;p++)if(null!=(o=s(h[p])))return o}else if(e===jy)for(p=0;p<t.length&&u>p;p++){var v,m=ai(v=t[p]);if(!x(m))return Zy.Not;if(null!=(o=s(m[r])))return o}return Zy.Not}function ys(t,e){if(e){var a=e.seiresIndex,i=e.seriesId,n=e.seriesName;return null!=a&&t.componentIndex!==a||null!=i&&t.id!==i||null!=n&&t.name!==n}}function _s(t,e){var a=t.color&&!t.colorLayer;f(e,(function(e,i){"colorLayer"===i&&a||Dy.hasClass(i)||("object"==typeof e?t[i]=t[i]?r(t[i],e,!1):n(e):null==t[i]&&(t[i]=e))}))}function bs(t){t=t,this.option={},this.option[qy]=1,this._componentsMap=R({series:[]}),this._seriesIndices,this._seriesIndicesMap,_s(t,this._theme.option),r(t,Ly,!1),this.mergeOption(t)}function xs(t,e){x(e)||(e=e?[e]:[]);var a={};return f(e,(function(e){a[e]=(t.get(e)||[]).slice()})),a}function ws(t,e,a){return e.type?e.type:a?a.subType:Dy.determineSubType(t,e)}function Ss(t,e){t._seriesIndicesMap=R(t._seriesIndices=v(e,(function(t){return t.componentIndex}))||[])}function Cs(t,e){return e.hasOwnProperty("subType")?g(t,(function(t){return t.subType===e.subType})):t}function Is(t){if(Hp&&!t._seriesIndices)throw new Error("Option should contains series.")}function ks(t){f(Uy,(function(e){this[e]=_(t[e],t)}),this)}function Os(){this._coordinateSystems=[]}function Ts(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Ps(t,e,a){var i,n,r=[],s=[],o=t.timeline;if(t.baseOption&&(n=t.baseOption),(o||t.options)&&(n=n||{},r=(t.options||[]).slice()),t.media){n=n||{};var l=t.media;Wy(l,(function(t){t&&t.option&&(t.query?s.push(t):i||(i=t))}))}return n||(n=t),n.timeline||(n.timeline=o),Wy([n].concat(r).concat(v(s,(function(t){return t.option}))),(function(t){Wy(e,(function(e){e(t,a)}))})),{baseOption:n,timelineOptions:r,mediaDefault:i,mediaList:s}}function Ds(t,e,a){var i={width:e,height:a,aspectratio:e/a},n=!0;return f(t,(function(t,e){var a=e.match(Qy);if(a&&a[1]&&a[2]){var r=a[1],s=a[2].toLowerCase();Ms(i[s],t,r)||(n=!1)}})),n}function Ms(t,e,a){return"min"===a?t>=e:"max"===a?e>=t:t===e}function Ls(t,e){return t.join(",")===e.join(",")}function Es(t,e){Wy(e=e||{},(function(e,a){if(null!=e){var i=t[a];if(Dy.hasClass(a)){e=ti(e);var n=ni(i=ti(i),e);t[a]=Ky(n,(function(t){return t.option&&t.exist?Jy(t.exist,t.option,!0):t.exist||t.option}))}else t[a]=Jy(i,e,!0)}}))}function As(t){var e=t&&t.itemStyle;if(e)for(var a=0,i=a_.length;i>a;a++){var n=a_[a],s=e.normal,o=e.emphasis;s&&s[n]&&(t[n]=t[n]||{},t[n].normal?r(t[n].normal,s[n]):t[n].normal=s[n],s[n]=null),o&&o[n]&&(t[n]=t[n]||{},t[n].emphasis?r(t[n].emphasis,o[n]):t[n].emphasis=o[n],o[n]=null)}}function js(t,e,a){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,n=t[e].emphasis;i&&(a?(t[e].normal=t[e].emphasis=null,l(t[e],i)):t[e]=i),n&&(t.emphasis=t.emphasis||{},t.emphasis[e]=n)}}function $s(t){js(t,"itemStyle"),js(t,"lineStyle"),js(t,"areaStyle"),js(t,"label"),js(t,"labelLine"),js(t,"upperLabel"),js(t,"edgeLabel")}function Ns(t,e){var a=e_(t)&&t[e],i=e_(a)&&a.textStyle;if(i)for(var n=0,r=um.length;r>n;n++)e=um[n],i.hasOwnProperty(e)&&(a[e]=i[e])}function Vs(t){t&&($s(t),Ns(t,"label"),t.emphasis&&Ns(t.emphasis,"label"))}function Rs(t){if(e_(t)){As(t),$s(t),Ns(t,"label"),Ns(t,"upperLabel"),Ns(t,"edgeLabel"),t.emphasis&&(Ns(t.emphasis,"label"),Ns(t.emphasis,"upperLabel"),Ns(t.emphasis,"edgeLabel")),(a=t.markPoint)&&(As(a),Vs(a)),(i=t.markLine)&&(As(i),Vs(i));var e=t.markArea;e&&Vs(e);var a,i,n=t.data;if("graph"===t.type){n=n||t.nodes;var r=t.links||t.edges;if(r&&!k(r))for(var s=0;s<r.length;s++)Vs(r[s]);f(t.categories,(function(t){$s(t)}))}if(n&&!k(n))for(s=0;s<n.length;s++)Vs(n[s]);if((a=t.markPoint)&&a.data){var o=a.data;for(s=0;s<o.length;s++)Vs(o[s])}if((i=t.markLine)&&i.data){var l=i.data;for(s=0;s<l.length;s++)x(l[s])?(Vs(l[s][0]),Vs(l[s][1])):Vs(l[s])}"gauge"===t.type?(Ns(t,"axisLabel"),Ns(t,"title"),Ns(t,"detail")):"treemap"===t.type?(js(t.breadcrumb,"itemStyle"),f(t.levels,(function(t){$s(t)}))):"tree"===t.type&&$s(t.leaves)}}function Fs(t){return x(t)?t:t?[t]:[]}function zs(t){return(x(t)?t[0]:t)||{}}function Bs(t,e){e=e.split(",");for(var a=t,i=0;i<e.length&&null!=(a=a&&a[e[i]]);i++);return a}function Zs(t,e,a,i){e=e.split(",");for(var n,r=t,s=0;s<e.length-1;s++)null==r[n=e[s]]&&(r[n]={}),r=r[n];(i||null==r[e[s]])&&(r[e[s]]=a)}function Hs(t){f(n_,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}function qs(t){f(t,(function(e,a){var i=[],n=[NaN,NaN],r=[e.stackResultDimension,e.stackedOverDimension],s=e.data,o=e.isStackedByIndex,l=s.map(r,(function(r,l,c){var u,d,h=s.get(e.stackedDimension,c);if(isNaN(h))return n;o?d=s.getRawIndex(c):u=s.get(e.stackedByDimension,c);for(var p=NaN,f=a-1;f>=0;f--){var v=t[f];if(o||(d=v.data.rawIndexOf(v.stackedByDimension,u)),d>=0){var m=v.data.getByRawIndex(v.stackResultDimension,d);if(h>=0&&m>0||0>=h&&0>m){h+=m,p=m;break}}}return i[0]=h,i[1]=p,i}));s.hostModel.setData(l),e.data=l}))}function Gs(t,e){ns.isInstance(t)||(t=ns.seriesDataToSource(t)),this._source=t;var a=this._data=t.data,i=t.sourceFormat;if(i===Fy){if(Hp&&null==e)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=e,this._data=a}var n=c_[i===$y?i+"_"+t.seriesLayoutBy:i];Hp&&A(n,"Invalide sourceFormat: "+i),o(this,n)}function Us(){return this._data.length}function Xs(t){return this._data[t]}function Ws(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function Ys(t,e,a){return null!=a?t[a]:t}function Ks(t,e,a,i){return Js(t[i],this._dimensionInfos[e])}function Js(t,e){var a=e&&e.type;if("ordinal"===a){var i=e&&e.ordinalMeta;return i?i.parseAndCollect(t):t}return"time"===a&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Mr(t)),null==t||""===t?NaN:+t}function Qs(t,e,a){if(t){var i=t.getRawDataItem(e);if(null!=i){var n,r,s=t.getProvider().getSource().sourceFormat,o=t.getDimensionInfo(a);return o&&(n=o.name,r=o.index),u_[s](i,e,r,n)}}}function to(t,e,a){if(t){var i=t.getProvider().getSource().sourceFormat;if(i===jy||i===Ny){var n=t.getRawDataItem(e);return i!==jy||C(n)||(n=null),n?n[a]:void 0}}}function eo(t){return new ao(t)}function ao(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function io(t,e,a,i,n,r){v_.reset(a,i,n,r),t._callingProgress=e,t._callingProgress({start:a,end:i,count:i-a,next:v_.next},t.context)}function no(t,e){var a,i;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((a=t._reset(t.context))&&a.progress&&(i=a.forceFirstProgress,a=a.progress),x(a)&&!a.length&&(a=null)),t._progress=a,t._modBy=t._modDataCount=null;var n=t._downstream;return n&&n.dirty(),i}function ro(t){var e=t.name;si(t)||(t.name=so(t)||e)}function so(t){var e=t.getRawData(),a=e.mapDimension("seriesName",!0),i=[];return f(a,(function(t){var a=e.getDimensionInfo(t);a.displayName&&i.push(a.displayName)})),i.join(" ")}function oo(t){return t.model.getRawData().count()}function lo(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),co}function co(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function uo(t,e){f(t.CHANGABLE_METHODS,(function(a){t.wrapMethod(a,b(ho,e))}))}function ho(t){var e=po(t);e&&e.setOutputEnd(this.count())}function po(t){var e=(t.ecModel||{}).scheduler,a=e&&e.getPipeline(t.uid);if(a){var i=a.currentTask;if(i){var n=i.agentStubMap;n&&(i=n.get(t.uid))}return i}}function fo(){this.group=new ov,this.uid=gr("viewChart"),this.renderTask=eo({plan:go,reset:yo}),this.renderTask.context={view:this}}function vo(t,e,a){if(t&&(t.trigger(e,a),t.isGroup&&!zn(t)))for(var i=0,n=t.childCount();n>i;i++)vo(t.childAt(i),e,a)}function mo(t,e,a){var i=li(t,e),n=e&&null!=e.highlightKey?Bn(e.highlightKey):null;null!=i?f(ti(i),(function(e){vo(t.getItemGraphicEl(e),a,n)})):t.eachItemGraphicEl((function(t){vo(t,a,n)}))}function go(t){return w_(t.model)}function yo(t){var e=t.model,a=t.ecModel,i=t.api,n=t.payload,r=e.pipelineContext.progressiveRender,s=t.view,o=n&&x_(n).updateMethod,l=r?"incrementalPrepareRender":o&&s[o]?o:"render";return"render"!==l&&s[l](e,a,i,n),C_[l]}function _o(t,e,a){function i(){u=(new Date).getTime(),d=null,t.apply(s,o||[])}var n,r,s,o,l,c=0,u=0,d=null;e=e||0;var h=function(){n=(new Date).getTime(),s=this,o=arguments;var t=l||e,h=l||a;l=null,r=n-(h?c:u)-t,clearTimeout(d),h?d=setTimeout(i,t):r>=0?i():d=setTimeout(i,-r),c=n};return h.clear=function(){d&&(clearTimeout(d),d=null)},h.debounceNextCall=function(t){l=t},h}function bo(t,e,a,i){var n=t[e];if(n){var r=n[I_]||n,s=n[O_];if(n[k_]!==a||s!==i){if(null==a||!i)return t[e]=r;(n=t[e]=_o(r,a,"debounce"===i))[I_]=r,n[O_]=i,n[k_]=a}return n}}function xo(t,e){var a=t[e];a&&a[I_]&&(t[e]=a[I_])}function wo(t,e,a,i){this.ecInstance=t,this.api=e,this.unfinished,a=this._dataProcessorHandlers=a.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=a.concat(i),this._stageTaskMap=R()}function So(t,e,a,i,n){function r(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}var s;n=n||{},f(e,(function(e){if(!n.visualType||n.visualType===e.visualType){var o=t._stageTaskMap.get(e.uid),l=o.seriesTaskMap,c=o.overallTask;if(c){var u,d=c.agentStubMap;d.each((function(t){r(n,t)&&(t.dirty(),u=!0)})),u&&c.dirty(),A_(c,i);var h=t.getPerformArgs(c,n.block);d.each((function(t){t.perform(h)})),s|=c.perform(h)}else l&&l.each((function(o){r(n,o)&&o.dirty();var l=t.getPerformArgs(o,n.block);l.skip=!e.performRawSeries&&a.isSeriesFiltered(o.context.model),A_(o,i),s|=o.perform(l)}))}})),t.unfinished|=s}function Co(t,e,a,i,n){function r(a){var r=a.uid,o=s.get(r)||s.set(r,eo({plan:Do,reset:Mo,count:Eo}));o.context={model:a,ecModel:i,api:n,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},Ao(t,a,o)}var s=a.seriesTaskMap||(a.seriesTaskMap=R()),o=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?i.eachRawSeries(r):o?i.eachRawSeriesByType(o,r):l&&l(i,n).each(r);var c=t._pipelineMap;s.each((function(t,e){c.get(e)||(t.dispose(),s.removeKey(e))}))}function Io(t,e,a,i,n){function r(e){var a=e.uid,i=o.get(a);i||(i=o.set(a,eo({reset:Oo,onDirty:Po})),s.dirty()),i.context={model:e,overallProgress:u,modifyOutputEnd:d},i.agent=s,i.__block=u,Ao(t,e,i)}var s=a.overallTask=a.overallTask||eo({reset:ko});s.context={ecModel:i,api:n,overallReset:e.overallReset,scheduler:t};var o=s.agentStubMap=s.agentStubMap||R(),l=e.seriesType,c=e.getTargetSeries,u=!0,d=e.modifyOutputEnd;l?i.eachRawSeriesByType(l,r):c?c(i,n).each(r):(u=!1,f(i.getSeries(),r));var h=t._pipelineMap;o.each((function(t,e){h.get(e)||(t.dispose(),s.dirty(),o.removeKey(e))}))}function ko(t){t.overallReset(t.ecModel,t.api,t.payload)}function Oo(t){return t.overallProgress&&To}function To(){this.agent.dirty(),this.getDownstream().dirty()}function Po(){this.agent&&this.agent.dirty()}function Do(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function Mo(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=ti(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?v(e,(function(t,e){return Lo(e)})):j_}function Lo(t){return function(e,a){var i=a.data,n=a.resetDefines[t];if(n&&n.dataEach)for(var r=e.start;r<e.end;r++)n.dataEach(i,r);else n&&n.progress&&n.progress(e,i)}}function Eo(t){return t.data.count()}function Ao(t,e,a){var i=e.uid,n=t._pipelineMap.get(i);!n.head&&(n.head=a),n.tail&&n.tail.pipe(a),n.tail=a,a.__idxInPipeline=n.count++,a.__pipeline=n}function jo(t){$_=null;try{t(N_,V_)}catch(t){}return $_}function $o(t,e){for(var a in e.prototype)t[a]=z}function No(t){for(S(t)&&(t=(new DOMParser).parseFromString(t,"text/xml")),9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function Vo(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function Ro(t,e){for(var a=t.firstChild;a;){if(1===a.nodeType){var i=a.getAttribute("offset");i=i.indexOf("%")>0?parseInt(i,10)/100:i?parseFloat(i):0;var n=a.getAttribute("stop-color")||"#000000";e.addColorStop(i,n)}a=a.nextSibling}}function Fo(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),l(e.__inheritedStyle,t.__inheritedStyle))}function zo(t){for(var e=j(t).split(G_),a=[],i=0;i<e.length;i+=2){var n=parseFloat(e[i]),r=parseFloat(e[i+1]);a.push([n,r])}return a}function Bo(t,e,a,i){var n=e.__inheritedStyle||{},r="text"===e.type;if(1===t.nodeType&&(Ho(t,e),o(n,qo(t)),!i))for(var s in W_)if(W_.hasOwnProperty(s)){var l=t.getAttribute(s);null!=l&&(n[W_[s]]=l)}var c=r?"textFill":"fill",u=r?"textStroke":"stroke";e.style=e.style||new mv;var d=e.style;null!=n.fill&&d.set(c,Zo(n.fill,a)),null!=n.stroke&&d.set(u,Zo(n.stroke,a)),f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){var e="lineWidth"===t&&r?"textStrokeWidth":t;null!=n[t]&&d.set(e,parseFloat(n[t]))})),n.textBaseline&&"auto"!==n.textBaseline||(n.textBaseline="alphabetic"),"alphabetic"===n.textBaseline&&(n.textBaseline="bottom"),"start"===n.textAlign&&(n.textAlign="left"),"end"===n.textAlign&&(n.textAlign="right"),f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(t){null!=n[t]&&d.set(t,n[t])})),n.lineDash&&(e.style.lineDash=j(n.lineDash).split(G_)),d[u]&&"none"!==d[u]&&(e[u]=!0),e.__inheritedStyle=n}function Zo(t,e){var a=e&&t&&t.match(Y_);return a?e[j(a[1])]:t}function Ho(t,e){var a=t.getAttribute("transform");if(a){a=a.replace(/,/g," ");var i=null,n=[];a.replace(K_,(function(t,e,a){n.push(e,a)}));for(var r=n.length-1;r>0;r-=2){var s=n[r],o=n[r-1];switch(i=i||At(),o){case"translate":s=j(s).split(G_),Vt(i,i,[parseFloat(s[0]),parseFloat(s[1]||0)]);break;case"scale":s=j(s).split(G_),Ft(i,i,[parseFloat(s[0]),parseFloat(s[1]||s[0])]);break;case"rotate":s=j(s).split(G_),Rt(i,i,parseFloat(s[0]));break;case"skew":s=j(s).split(G_),console.warn("Skew transform is not supported yet");break;case"matrix":s=j(s).split(G_),i[0]=parseFloat(s[0]),i[1]=parseFloat(s[1]),i[2]=parseFloat(s[2]),i[3]=parseFloat(s[3]),i[4]=parseFloat(s[4]),i[5]=parseFloat(s[5])}}e.setLocalTransform(i)}}function qo(t){var e=t.getAttribute("style"),a={};if(!e)return a;var i,n={};for(J_.lastIndex=0;null!=(i=J_.exec(e));)n[i[1]]=i[2];for(var r in W_)W_.hasOwnProperty(r)&&null!=n[r]&&(a[W_[r]]=n[r]);return a}function Go(t,e,a){var i=e/t.width,n=a/t.height,r=Math.min(i,n);return{scale:[r,r],position:[-(t.x+t.width/2)*r+e/2,-(t.y+t.height/2)*r+a/2]}}function Uo(t,e){return function(a,i,n){return!e&&this._disposed?void ul(this.id):(a=a&&a.toLowerCase(),void mf.prototype[t].call(this,a,i,n))}}function Xo(){mf.call(this)}function Wo(t,e,i){function r(t,e){return t.__prio-e.__prio}i=i||{},"string"==typeof e&&(e=Tb[e]),this.id,this.group,this._dom=t;var s="canvas";Hp&&(s=("undefined"==typeof window?a.g:window).__ECHARTS__DEFAULT__RENDERER__||s);var o=this._zr=Wa(t,{renderer:i.renderer||s,devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=_o(_(o.flush,o),17),(e=n(e))&&s_(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Os;var l=this._api=fl(this);je(Ob,r),je(Cb,r),this._scheduler=new wo(this,l,Cb,Ob),mf.call(this,this._ecEventProcessor=new vl),this._messageCenter=new Xo,this._initEvents(),this.resize=_(this.resize,this),this._pendingActions=[],o.animation.on("frame",this._onframe,this),il(o,this),$(this)}function Yo(t,e,a){if(this._disposed)ul(this.id);else{var i,n=this._model,r=this._coordSysMgr.getCoordinateSystems();e=ui(n,e);for(var s=0;s<r.length;s++){var o=r[s];if(o[t]&&null!=(i=o[t](n,e,a)))return i}Hp&&console.warn("No coordinate system that supports "+t+" found by the given finder.")}}function Ko(t){var e=t._model,a=t._scheduler;a.restorePipelines(e),a.prepareStageTasks(),nl(t,"component",e,a),nl(t,"chart",e,a),a.plan()}function Jo(t,e,a,i,n){function r(i){i&&i.__alive&&i[e]&&i[e](i.__model,s,t._api,a)}var s=t._model;if(i){var o={};o[i+"Id"]=a[i+"Id"],o[i+"Index"]=a[i+"Index"],o[i+"Name"]=a[i+"Name"];var l={mainType:i,query:o};n&&(l.subType=n);var c=a.excludeSeriesId;null!=c&&(c=R(ti(c))),s&&s.eachComponent(l,(function(e){c&&null!=c.get(e.id)||r(t["series"===i?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else ib(t._componentsViews.concat(t._chartsViews),r)}function Qo(t,e){var a=t._chartsMap,i=t._scheduler;e.eachSeries((function(t){i.updateStreamModes(t,a[t.__viewId])}))}function tl(t,e){var a=t.type,i=t.escapeConnect,n=wb[a],r=n.actionInfo,s=(r.update||"update").split(":"),c=s.pop();s=null!=s[0]&&sb(s[0]),this[mb]=!0;var u=[t],d=!1;t.batch&&(d=!0,u=v(t.batch,(function(e){return(e=l(o({},e),t)).batch=null,e})));var h,p=[],f="highlight"===a||"downplay"===a;ib(u,(function(t){(h=(h=n.action(t,this._model,this._api))||o({},t)).type=r.event||h.type,p.push(h),f?Jo(this,c,t,"series"):s&&Jo(this,c,t,s.main,s.sub)}),this),"none"===c||f||s||(this[gb]?(Ko(this),bb.update.call(this,t),this[gb]=!1):bb[c].call(this,t)),h=d?{type:r.event||a,escapeConnect:i,batch:p}:p[0],this[mb]=!1,!e&&this._messageCenter.trigger(h.type,h)}function el(t){for(var e=this._pendingActions;e.length;){var a=e.shift();tl.call(this,a,t)}}function al(t){!t&&this.trigger("updated")}function il(t,e){t.on("rendered",(function(){e.trigger("rendered"),!t.animation.isFinished()||e[gb]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))}function nl(t,e,a,i){function n(t){var e="_ec_"+t.id+"_"+t.type,n=o[e];if(!n){var u=sb(t.type),d=r?y_.getClass(u.main,u.sub):fo.getClass(u.sub);Hp&&ab(d,u.sub+" does not exist."),(n=new d).init(a,c),o[e]=n,s.push(n),l.add(n.group)}t.__viewId=n.__id=e,n.__alive=!0,n.__model=t,n.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!r&&i.prepareView(n,t,a,c)}for(var r="component"===e,s=r?t._componentsViews:t._chartsViews,o=r?t._componentsMap:t._chartsMap,l=t._zr,c=t._api,u=0;u<s.length;u++)s[u].__alive=!1;for(r?a.eachComponent((function(t,e){"series"!==t&&n(e)})):a.eachSeries(n),u=0;u<s.length;){var d=s[u];d.__alive?u++:(!r&&d.renderTask.dispose(),l.remove(d.group),d.dispose(a,c),s.splice(u,1),delete o[d.__id],d.__id=d.group.__ecComponentInfo=null)}}function rl(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function sl(t,e,a,i){ol(t,e,a,i),ib(t._chartsViews,(function(t){t.__alive=!1})),ll(t,e,a,i),ib(t._chartsViews,(function(t){t.__alive||t.remove(e,a)}))}function ol(t,e,a,i,n){ib(n||t._componentsViews,(function(t){var n=t.__model;t.render(n,e,a,i),pl(n,t)}))}function ll(t,e,a,i,n){var r,s=t._scheduler;e.eachSeries((function(e){var a=t._chartsMap[e.__viewId];a.__alive=!0;var o=a.renderTask;s.updatePayload(o,i),n&&n.get(e.uid)&&o.dirty(),r|=o.perform(s.getPerformArgs(o)),a.group.silent=!!e.get("silent"),pl(e,a),hl(e,a)})),s.unfinished|=r,dl(t,e),D_(t._zr.dom,e)}function cl(t,e){ib(kb,(function(a){a(t,e)}))}function ul(t){Hp&&console.warn("Instance "+t+" has been disposed")}function dl(t,e){var a=t._zr.storage,i=0;a.traverse((function(){i++})),i>e.get("hoverLayerThreshold")&&!Up.node&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var a=t._chartsMap[e.__viewId];a.__alive&&a.group.traverse((function(t){t.useHoverLayer=!0}))}}))}function hl(t,e){var a=t.get("blendMode")||null;Hp&&!Up.canvasSupported&&a&&"source-over"!==a&&console.warn("Only canvas support blendMode"),e.group.traverse((function(t){t.isGroup||t.style.blend!==a&&t.setStyle("blend",a),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.setStyle("blend",a)}))}))}function pl(t,e){var a=t.get("z"),i=t.get("zlevel");e.group.traverse((function(t){"group"!==t.type&&(null!=a&&(t.z=a),null!=i&&(t.zlevel=i))}))}function fl(t){var e=t._coordSysMgr;return o(new ks(t),{getCoordinateSystems:_(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var a=e.__ecComponentInfo;if(null!=a)return t._model.getComponent(a.mainType,a.index);e=e.parent}}})}function vl(){this.eventInfo}function ml(t){function e(t,e){for(var a=0;a<t.length;a++)t[a][r]=e}var a=0,i=1,n=2,r="__connectUpdateStatus";ib(Sb,(function(s,o){t._messageCenter.on(o,(function(s){if(Mb[t.group]&&t[r]!==a){if(s&&s.escapeConnect)return;var o=t.makeActionFromEvent(s),l=[];ib(Db,(function(e){e!==t&&e.group===t.group&&l.push(e)})),e(l,a),ib(l,(function(t){t[r]!==i&&t.dispatchAction(o)})),e(l,n)}}))}))}function gl(t,e,a){if(Hp){if(im.replace(".","")-0<lb.zrender.replace(".","")-0)throw new Error("zrender/src "+im+" is too old for ECharts "+ob+". Current version need ZRender "+lb.zrender+"+");if(!t)throw new Error("Initialize failed: invalid dom.")}var i=xl(t);if(i)return Hp&&console.warn("There is a chart instance already initialized on the dom."),i;Hp&&(!O(t)||"CANVAS"===t.nodeName.toUpperCase()||(t.clientWidth||a&&null!=a.width)&&(t.clientHeight||a&&null!=a.height)||console.warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload."));var n=new Wo(t,e,a);return n.id="ec_"+Lb++,Db[n.id]=n,hi(t,Ab,n.id),ml(n),n}function yl(t){if(x(t)){var e=t;t=null,ib(e,(function(e){null!=e.group&&(t=e.group)})),t=t||"g_"+Eb++,ib(e,(function(e){e.group=t}))}return Mb[t]=!0,t}function _l(t){Mb[t]=!1}function bl(t){"string"==typeof t?t=Db[t]:t instanceof Wo||(t=xl(t)),t instanceof Wo&&!t.isDisposed()&&t.dispose()}function xl(t){return Db[pi(t,Ab)]}function wl(t){return Db[t]}function Sl(t,e){Tb[t]=e}function Cl(t){Ib.push(t)}function Il(t,e){Ll(Cb,t,e,ub)}function kl(t){kb.push(t)}function Ol(t,e,a){"function"==typeof e&&(a=e,e="");var i=rb(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,ab(yb.test(i)&&yb.test(e)),wb[i]||(wb[i]={action:a,actionInfo:t}),Sb[e]=i}function Tl(t,e){Os.register(t,e)}function Pl(t){var e=Os.get(t);return e?e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice():void 0}function Dl(t,e){Ll(Ob,t,e,hb,"layout")}function Ml(t,e){Ll(Ob,t,e,fb,"visual")}function Ll(t,e,a,i,n){if((nb(e)||rb(e))&&(a=e,e=i),Hp){if(isNaN(e)||null==e)throw new Error("Illegal priority");ib(t,(function(t){ab(t.__raw!==a)}))}var r=wo.wrapStageHandler(a,n);return r.__prio=e,r.__raw=a,t.push(r),r}function El(t,e){Pb[t]=e}function Al(t){return Dy.extend(t)}function jl(t){return y_.extend(t)}function $l(t){return g_.extend(t)}function Nl(t){return fo.extend(t)}function Vl(t){i("createCanvas",t)}function Rl(t,e,a){tb.registerMap(t,e,a)}function Fl(t){var e=tb.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}}function zl(t){return t}function Bl(t,e,a,i,n){this._old=t,this._new=e,this._oldKeyGetter=a||zl,this._newKeyGetter=i||zl,this.context=n}function Zl(t,e,a,i,n){for(var r=0;r<t.length;r++){var s="_ec_"+n[i](t[r],r),o=e[s];null==o?(a.push(s),e[s]=r):(o.length||(e[s]=o=[o]),o.push(r))}}function Hl(t){var e={},a=e.encode={},i=R(),n=[],r=[],s=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};f(t.dimensions,(function(e){var o=t.getDimensionInfo(e),l=o.coordDim;if(l){Hp&&A(null==Nb.get(l));var c=o.coordDimIndex;ql(a,l)[c]=e,o.isExtraCoord||(i.set(l,1),Ul(o.type)&&(n[0]=e),ql(s.encode,l)[c]=o.index),o.defaultTooltip&&r.push(e)}Nb.each((function(t,e){var i=ql(a,e),n=o.otherDims[e];null!=n&&!1!==n&&(i[n]=o.name)}))}));var o=[],l={};i.each((function(t,e){var i=a[e];l[e]=i[0],o=o.concat(i)})),e.dataDimsOnCoord=o,e.encodeFirstDimNotExtra=l;var c=a.label;c&&c.length&&(n=c.slice());var u=a.tooltip;return u&&u.length?r=u.slice():r.length||(r=n.slice()),a.defaultedLabel=n,a.defaultedTooltip=r,e}function ql(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function Gl(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function Ul(t){return!("ordinal"===t||"time"===t)}function Xl(t){null!=t&&o(this,t),this.otherDims={}}function Wl(t){return t._rawCount>65535?Zb:qb}function Yl(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Kl(t,e){f(Gb.concat(e.__wrappedMethods||[]),(function(a){e.hasOwnProperty(a)&&(t[a]=e[a])})),t.__wrappedMethods=e.__wrappedMethods,f(Ub,(function(a){t[a]=n(e[a])})),t._calculationInfo=o(e._calculationInfo)}function Jl(t,e,a,i,n){var r=Bb[e.type],s=i-1,o=e.name,l=t[o][s];if(l&&l.length<a){for(var c=new r(Math.min(n-s*a,a)),u=0;u<l.length;u++)c[u]=l[u];t[o][s]=c}for(var d=i*a;n>d;d+=a)t[o].push(new r(Math.min(n-d,a)))}function Ql(t){var e=t._invertedIndicesMap;f(e,(function(a,i){var n=t._dimensionInfos[i].ordinalMeta;if(n){a=e[i]=new Hb(n.categories.length);for(var r=0;r<a.length;r++)a[r]=Fb;for(r=0;r<t._count;r++)a[t.get(i,r)]=r}}))}function tc(t,e,a){var i;if(null!=e){var n=t._chunkSize,r=Math.floor(a/n),s=a%n,o=t.dimensions[e],l=t._storage[o][r];if(l){i=l[s];var c=t._dimensionInfos[o].ordinalMeta;c&&c.categories.length&&(i=c.categories[i])}}return i}function ec(t){return t}function ac(t){return t<this._count&&t>=0?this._indices[t]:-1}function ic(t,e){var a=t._idList[e];return null==a&&(a=tc(t,t._idDimIdx,e)),null==a&&(a=zb+e),a}function nc(t){return x(t)||(t=[t]),t}function rc(t,e){for(var a=0;a<e.length;a++)t._dimensionInfos[e[a]]||console.error("Unkown dimension "+e[a])}function sc(t,e){var a=t.dimensions,i=new Xb(v(a,t.getDimensionInfo,t),t.hostModel);Kl(i,t);for(var n=i._storage={},r=t._storage,s=0;s<a.length;s++){var o=a[s];r[o]&&(u(e,o)>=0?(n[o]=oc(r[o]),i._rawExtent[o]=lc(),i._extent[o]=null):n[o]=r[o])}return i}function oc(t){for(var e=new Array(t.length),a=0;a<t.length;a++)e[a]=Yl(t[a]);return e}function lc(){return[1/0,-1/0]}function cc(t,e,a){function i(t,e,a){null!=Nb.get(e)?t.otherDims[e]=a:(t.coordDim=e,t.coordDimIndex=a,c.set(e,!0))}ns.isInstance(e)||(e=ns.seriesDataToSource(e)),a=a||{},t=(t||[]).slice();for(var r=(a.dimsDef||[]).slice(),s=R(),c=R(),u=[],d=uc(e,t,r,a.dimCount),h=0;d>h;h++){var p=r[h]=o({},C(r[h])?r[h]:{name:r[h]}),v=p.name,m=u[h]=new Xl;null!=v&&null==s.get(v)&&(m.name=m.displayName=v,s.set(v,h)),null!=p.type&&(m.type=p.type),null!=p.displayName&&(m.displayName=p.displayName)}var g=a.encodeDef;!g&&a.encodeDefaulter&&(g=a.encodeDefaulter(e,d)),(g=R(g)).each((function(t,e){if(1===(t=ti(t).slice()).length&&!S(t[0])&&t[0]<0)g.set(e,!1);else{var a=g.set(e,[]);f(t,(function(t,n){S(t)&&(t=s.get(t)),null!=t&&d>t&&(a[n]=t,i(u[t],e,n))}))}}));var y=0;f(t,(function(t){var e,a,r;if(S(t))e=t,t={};else{e=t.name;var s=t.ordinalMeta;t.ordinalMeta=null,(t=n(t)).ordinalMeta=s,a=t.dimsDef,r=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}if(!1!==(o=g.get(e))){var o;if(!(o=ti(o)).length)for(var c=0;c<(a&&a.length||1);c++){for(;y<u.length&&null!=u[y].coordDim;)y++;y<u.length&&o.push(y++)}f(o,(function(n,s){var o=u[n];if(i(l(o,t),e,s),null==o.name&&a){var c=a[s];!C(c)&&(c={name:c}),o.name=o.displayName=c.name,o.defaultTooltip=c.defaultTooltip}r&&l(o.otherDims,r)}))}}));var _=a.generateCoord,b=a.generateCoordCount,x=null!=b;b=_?b||1:0;for(var w=_||"value",I=0;d>I;I++)null==(m=u[I]=u[I]||new Xl).coordDim&&(m.coordDim=dc(w,c,x),m.coordDimIndex=0,(!_||0>=b)&&(m.isExtraCoord=!0),b--),null==m.name&&(m.name=dc(m.coordDim,s)),null!=m.type||ms(e,I,m.name)!==Zy.Must&&(!m.isExtraCoord||null==m.otherDims.itemName&&null==m.otherDims.seriesName)||(m.type="ordinal");return u}function uc(t,e,a,i){var n=Math.max(t.dimensionsDetectCount||1,e.length,a.length,i||0);return f(e,(function(t){var e=t.dimsDef;e&&(n=Math.max(n,e.length))})),n}function dc(t,e,a){if(a||null!=e.get(t)){for(var i=0;null!=e.get(t+i);)i++;t+=i}return e.set(t,!0),t}function hc(t){this.coordSysName=t,this.coordSysDims=[],this.axisMap=R(),this.categoryAxisMap=R(),this.firstCategoryDimIndex=null}function pc(t){var e=t.get("coordinateSystem"),a=new hc(e),i=Jb[e];return i?(i(t,a,a.axisMap,a.categoryAxisMap),a):void 0}function fc(t){return"category"===t.get("type")}function vc(t,e,a){var i,n,r,s,o=(a=a||{}).byIndex,l=a.stackedCoordDimension,c=!(!t||!t.get("stack"));if(f(e,(function(t,a){S(t)&&(e[a]=t={name:t}),c&&!t.isExtraCoord&&(o||i||!t.ordinalMeta||(i=t),n||"ordinal"===t.type||"time"===t.type||l&&l!==t.coordDim||(n=t))})),!n||o||i||(o=!0),n){r="__\0ecstackresult",s="__\0ecstackedover",i&&(i.createInvertedIndices=!0);var u=n.coordDim,d=n.type,h=0;f(e,(function(t){t.coordDim===u&&h++})),e.push({name:r,coordDim:u,coordDimIndex:h,type:d,isExtraCoord:!0,isCalculationCoord:!0}),h++,e.push({name:s,coordDim:s,coordDimIndex:h,type:d,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:n&&n.name,stackedByDimension:i&&i.name,isStackedByIndex:o,stackedOverDimension:s,stackResultDimension:r}}function mc(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function gc(t,e){return mc(t,e)?t.getCalculationInfo("stackResultDimension"):e}function yc(t,e,a){a=a||{},ns.isInstance(t)||(t=ns.seriesDataToSource(t));var i,n=e.get("coordinateSystem"),r=Os.get(n),s=pc(e);s&&(i=v(s.coordSysDims,(function(t){var e={name:t},a=s.axisMap.get(t);if(a){var i=a.get("type");e.type=Gl(i)}return e}))),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]);var o,l,c=Kb(t,{coordDimensions:i,generateCoord:a.generateCoord,encodeDefaulter:a.useEncodeDefaulter?b(ps,i,e):null});s&&f(c,(function(t,e){var a=t.coordDim,i=s.categoryAxisMap.get(a);i&&(null==o&&(o=e),t.ordinalMeta=i.getOrdinalMeta()),null!=t.otherDims.itemName&&(l=!0)})),l||null==o||(c[o].otherDims.itemName=0);var u=vc(e,c),d=new Xb(c,e);d.setCalculationInfo(u);var h=null!=o&&_c(t)?function(t,e,a,i){return i===o?a:this.defaultDimValueGetter(t,e,a,i)}:null;return d.hasItemOption=!1,d.initData(t,null,h),d}function _c(t){if(t.sourceFormat===jy){var e=bc(t.data||[]);return null!=e&&!x(ai(e))}}function bc(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function xc(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function wc(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function Sc(t){return t._map||(t._map=R(t.categories))}function Cc(t){return C(t)&&null!=t.value?t.value:t+""}function Ic(t,e,a,i){var n={},r=t[1]-t[0],s=n.interval=Ar(r/e,!0);null!=a&&a>s&&(s=n.interval=a),null!=i&&s>i&&(s=n.interval=i);var o=n.intervalPrecision=kc(s);return Tc(n.niceTickExtent=[ax(Math.ceil(t[0]/s)*s,o),ax(Math.floor(t[1]/s)*s,o)],t),n}function kc(t){return kr(t)+2}function Oc(t,e,a){t[e]=Math.max(Math.min(t[e],a[1]),a[0])}function Tc(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),Oc(t,0,e),Oc(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function Pc(t){return t.get("stack")||rx+t.seriesIndex}function Dc(t){return t.dim+t.index}function Mc(t,e){var a=[];return e.eachSeriesByType(t,(function(t){Nc(t)&&!Vc(t)&&a.push(t)})),a}function Lc(t){var e={};f(t,(function(t){var a=t.coordinateSystem.getBaseAxis();if("time"===a.type||"value"===a.type)for(var i=t.getData(),n=a.dim+"_"+a.index,r=i.mapDimension(a.dim),s=0,o=i.count();o>s;++s){var l=i.get(r,s);e[n]?e[n].push(l):e[n]=[l]}}));var a=[];for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];if(n){n.sort((function(t,e){return t-e}));for(var r=null,s=1;s<n.length;++s){var o=n[s]-n[s-1];o>0&&(r=null===r?o:Math.min(r,o))}a[i]=r}}return a}function Ec(t){var e=Lc(t),a=[];return f(t,(function(t){var i,n=t.coordinateSystem.getBaseAxis(),r=n.getExtent();if("category"===n.type)i=n.getBandWidth();else if("value"===n.type||"time"===n.type){var s=n.dim+"_"+n.index,o=e[s],l=Math.abs(r[1]-r[0]),c=n.scale.getExtent(),u=Math.abs(c[1]-c[0]);i=o?l/u*o:l}else{var d=t.getData();i=Math.abs(r[1]-r[0])/d.count()}var h=wr(t.get("barWidth"),i),p=wr(t.get("barMaxWidth"),i),f=wr(t.get("barMinWidth")||1,i),v=t.get("barGap"),m=t.get("barCategoryGap");a.push({bandWidth:i,barWidth:h,barMaxWidth:p,barMinWidth:f,barGap:v,barCategoryGap:m,axisKey:Dc(n),stackId:Pc(t)})})),Ac(a)}function Ac(t){var e={};f(t,(function(t){var a=t.axisKey,i=t.bandWidth,n=e[a]||{bandWidth:i,remainedWidth:i,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},r=n.stacks;e[a]=n;var s=t.stackId;r[s]||n.autoWidthCount++,r[s]=r[s]||{width:0,maxWidth:0};var o=t.barWidth;o&&!r[s].width&&(r[s].width=o,o=Math.min(n.remainedWidth,o),n.remainedWidth-=o);var l=t.barMaxWidth;l&&(r[s].maxWidth=l);var c=t.barMinWidth;c&&(r[s].minWidth=c);var u=t.barGap;null!=u&&(n.gap=u);var d=t.barCategoryGap;null!=d&&(n.categoryGap=d)}));var a={};return f(e,(function(t,e){a[e]={};var i=t.stacks,n=t.bandWidth,r=wr(t.categoryGap,n),s=wr(t.gap,1),o=t.remainedWidth,l=t.autoWidthCount,c=(o-r)/(l+(l-1)*s);c=Math.max(c,0),f(i,(function(t){var e=t.maxWidth,a=t.minWidth;if(t.width){var i=t.width;e&&(i=Math.min(i,e)),a&&(i=Math.max(i,a)),t.width=i,o-=i+s*i,l--}else i=c,e&&i>e&&(i=Math.min(e,o)),a&&a>i&&(i=a),i!==c&&(t.width=i,o-=i+s*i,l--)})),c=(o-r)/(l+(l-1)*s),c=Math.max(c,0);var u,d=0;f(i,(function(t){t.width||(t.width=c),u=t,d+=t.width*(1+s)})),u&&(d-=u.width*s);var h=-d/2;f(i,(function(t,i){a[e][i]=a[e][i]||{bandWidth:n,offset:h,width:t.width},h+=t.width*(1+s)}))})),a}function jc(t,e,a){if(t&&e){var i=t[Dc(e)];return null!=i&&null!=a&&(i=i[Pc(a)]),i}}function $c(t,e){var a=Mc(t,e),i=Ec(a),n={};f(a,(function(t){var e=t.getData(),a=t.coordinateSystem,r=a.getBaseAxis(),s=Pc(t),o=i[Dc(r)][s],l=o.offset,c=o.width,u=a.getOtherAxis(r),d=t.get("barMinHeight")||0;n[s]=n[s]||[],e.setLayout({bandWidth:o.bandWidth,offset:l,size:c});for(var h=e.mapDimension(u.dim),p=e.mapDimension(r.dim),f=mc(e,h),v=u.isHorizontal(),m=Rc(r,u,f),g=0,y=e.count();y>g;g++){var _,b,x,w,S,C=e.get(h,g),I=e.get(p,g),k=C>=0?"p":"n",O=m;f&&(n[s][I]||(n[s][I]={p:m,n:m}),O=n[s][I][k]),v?(_=O,b=(S=a.dataToPoint([C,I]))[1]+l,x=S[0]-m,w=c,Math.abs(x)<d&&(x=(0>x?-1:1)*d),isNaN(x)||f&&(n[s][I][k]+=x)):(_=(S=a.dataToPoint([I,C]))[0]+l,b=O,x=c,w=S[1]-m,Math.abs(w)<d&&(w=(0>=w?-1:1)*d),isNaN(w)||f&&(n[s][I][k]+=w)),e.setItemLayout(g,{x:_,y:b,width:x,height:w})}}),this)}function Nc(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Vc(t){return t.pipelineContext&&t.pipelineContext.large}function Rc(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}function Fc(t,e){return Sx(t,xx(e))}function zc(t,e){var a,i,n,r=t.type,s=e.getMin(),o=e.getMax(),l=t.getExtent();"ordinal"===r?a=e.getCategories().length:(x(i=e.get("boundaryGap"))||(i=[i||0,i||0]),"boolean"==typeof i[0]&&(Hp&&console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),i=[0,0]),i[0]=wr(i[0],1),i[1]=wr(i[1],1),n=l[1]-l[0]||Math.abs(l[0])),"dataMin"===s?s=l[0]:"function"==typeof s&&(s=s({min:l[0],max:l[1]})),"dataMax"===o?o=l[1]:"function"==typeof o&&(o=o({min:l[0],max:l[1]}));var c=null!=s,u=null!=o;null==s&&(s="ordinal"===r?a?0:NaN:l[0]-i[0]*n),null==o&&(o="ordinal"===r?a?a-1:NaN:l[1]+i[1]*n),(null==s||!isFinite(s))&&(s=NaN),(null==o||!isFinite(o))&&(o=NaN),t.setBlank(T(s)||T(o)||"ordinal"===r&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(s>0&&o>0&&!c&&(s=0),0>s&&0>o&&!u&&(o=0));var d=e.ecModel;if(d&&"time"===r){var h,p=Mc("bar",d);if(f(p,(function(t){h|=t.getBaseAxis()===e.axis})),h){var v=Ec(p),m=Bc(s,o,e,v);s=m.min,o=m.max}}return{extent:[s,o],fixMin:c,fixMax:u}}function Bc(t,e,a,i){var n=a.axis.getExtent(),r=n[1]-n[0],s=jc(i,a.axis);if(void 0===s)return{min:t,max:e};var o=1/0;f(s,(function(t){o=Math.min(t.offset,o)}));var l=-1/0;f(s,(function(t){l=Math.max(t.offset+t.width,l)})),o=Math.abs(o),l=Math.abs(l);var c=o+l,u=e-t,d=u/(1-(o+l)/r)-u;return{min:t-=d*(o/c),max:e+=d*(l/c)}}function Zc(t,e){var a=zc(t,e),i=a.extent,n=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var r=t.type;t.setExtent(i[0],i[1]),t.niceExtent({splitNumber:n,fixMin:a.fixMin,fixMax:a.fixMax,minInterval:"interval"===r||"time"===r?e.get("minInterval"):null,maxInterval:"interval"===r||"time"===r?e.get("maxInterval"):null});var s=e.get("interval");null!=s&&t.setInterval&&t.setInterval(s)}function Hc(t,e){if(e=e||t.get("type"))switch(e){case"category":return new ex(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new nx;default:return(xc.getClass(e)||nx).create(t)}}function qc(t){var e=t.scale.getExtent(),a=e[0],i=e[1];return!(a>0&&i>0||0>a&&0>i)}function Gc(t){var e=t.getLabelModel().get("formatter"),a="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof e?e=function(e){return function(a){return a=t.scale.getLabel(a),e.replace("{value}",null!=a?a:"")}}(e):"function"==typeof e?function(i,n){return null!=a&&(n=i-a),e(Uc(t,i),n)}:function(e){return t.scale.getLabel(e)}}function Uc(t,e){return"category"===t.type?t.scale.getLabel(e):e}function Xc(t){var e=t.model,a=t.scale;if(e.get("axisLabel.show")&&!a.isBlank()){var i,n,r="category"===t.type,s=a.getExtent();n=r?a.count():(i=a.getTicks()).length;var o,l=t.getLabelModel(),c=Gc(t),u=1;n>40&&(u=Math.ceil(n/40));for(var d=0;n>d;d+=u){var h=c(i?i[d]:s[0]+d),p=Wc(l.getTextRect(h),l.get("rotate")||0);o?o.union(p):o=p}return o}}function Wc(t,e){var a=e*Math.PI/180,i=t.plain(),n=i.width,r=i.height,s=n*Math.abs(Math.cos(a))+Math.abs(r*Math.sin(a)),o=n*Math.abs(Math.sin(a))+Math.abs(r*Math.cos(a));return new Oe(i.x,i.y,s,o)}function Yc(t){var e=t.get("interval");return null==e?"auto":e}function Kc(t){return"category"===t.type&&0===Yc(t.getLabelModel())}function Jc(t,e){if("image"!==this.type){var a=this.style,i=this.shape;i&&"line"===i.symbolType?a.stroke=t:this.__isEmptyBrush?(a.stroke=t,a.fill=e||"#fff"):(a.fill&&(a.fill=t),a.stroke&&(a.stroke=t)),this.dirty(!1)}}function Qc(t,e,a,i,n,r,s){var o,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(o=0===t.indexOf("image://")?xn(t.slice(8),new Oe(e,a,i,n),s?"center":"cover"):0===t.indexOf("path://")?bn(t.slice(7),{},new Oe(e,a,i,n),s?"center":"cover"):new $x({shape:{symbolType:t,x:e,y:a,width:i,height:n}})).__isEmptyBrush=l,o.setColor=Jc,o.setColor(r),o}function tu(t){return yc(t.getSource(),t)}function eu(t,e){var a=e;fr.isInstance(e)||h(a=new fr(e),Px);var i=Hc(a);return i.setExtent(t[0],t[1]),Zc(i,a),i}function au(t){h(t,Px)}function iu(t,e){return Math.abs(t-e)<Rx}function nu(t,e,a){var i=0,n=t[0];if(!n)return!1;for(var r=1;r<t.length;r++){var s=t[r];i+=Gi(n[0],n[1],s[0],s[1],e,a),n=s}var o=t[0];return iu(n[0],o[0])&&iu(n[1],o[1])||(i+=Gi(n[0],n[1],o[0],o[1],e,a)),0!==i}function ru(t,e,a){if(this.name=t,this.geometries=e,a)a=[a[0],a[1]];else{var i=this.getBoundingRect();a=[i.x+i.width/2,i.y+i.height/2]}this.center=a}function su(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var a=t.features,i=0;i<a.length;i++)for(var n=a[i].geometry,r=n.coordinates,s=n.encodeOffsets,o=0;o<r.length;o++){var l=r[o];if("Polygon"===n.type)r[o]=ou(l,s[o],e);else if("MultiPolygon"===n.type)for(var c=0;c<l.length;c++){var u=l[c];l[c]=ou(u,s[o][c],e)}}return t.UTF8Encoding=!1,t}function ou(t,e,a){for(var i=[],n=e[0],r=e[1],s=0;s<t.length;s+=2){var o=t.charCodeAt(s)-64,l=t.charCodeAt(s+1)-64;o=o>>1^-(1&o),l=l>>1^-(1&l),n=o+=n,r=l+=r,i.push([o/a,l/a])}return i}function lu(t){return"category"===t.type?uu(t):pu(t)}function cu(t,e){return"category"===t.type?hu(t,e):{ticks:t.scale.getTicks()}}function uu(t){var e=t.getLabelModel(),a=du(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:a.labelCategoryInterval}:a}function du(t,e){var a,i,n=fu(t,"labels"),r=Yc(e),s=vu(n,r);return s||(a=w(r)?xu(t,r):bu(t,i="auto"===r?gu(t):r),mu(n,r,{labels:a,labelCategoryInterval:i}))}function hu(t,e){var a,i,n=fu(t,"ticks"),r=Yc(e),s=vu(n,r);if(s)return s;if((!e.get("show")||t.scale.isBlank())&&(a=[]),w(r))a=xu(t,r,!0);else if("auto"===r){var o=du(t,t.getLabelModel());i=o.labelCategoryInterval,a=v(o.labels,(function(t){return t.tickValue}))}else a=bu(t,i=r,!0);return mu(n,r,{ticks:a,tickCategoryInterval:i})}function pu(t){var e=t.scale.getTicks(),a=Gc(t);return{labels:v(e,(function(e,i){return{formattedLabel:a(e,i),rawLabel:t.scale.getLabel(e),tickValue:e}}))}}function fu(t,e){return zx(t)[e]||(zx(t)[e]=[])}function vu(t,e){for(var a=0;a<t.length;a++)if(t[a].key===e)return t[a].value}function mu(t,e,a){return t.push({key:e,value:a}),a}function gu(t){var e=zx(t).autoInterval;return null!=e?e:zx(t).autoInterval=t.calculateCategoryInterval()}function yu(t){var e=_u(t),a=Gc(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,n=t.scale,r=n.getExtent(),s=n.count();if(r[1]-r[0]<1)return 0;var o=1;s>40&&(o=Math.max(1,Math.floor(s/40)));for(var l=r[0],c=t.dataToCoord(l+1)-t.dataToCoord(l),u=Math.abs(c*Math.cos(i)),d=Math.abs(c*Math.sin(i)),h=0,p=0;l<=r[1];l+=o){var f=0,v=0,m=Ge(a(l),e.font,"center","top");f=1.3*m.width,v=1.3*m.height,h=Math.max(h,f,7),p=Math.max(p,v,7)}var g=h/u,y=p/d;isNaN(g)&&(g=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(g,y))),b=zx(t.model),x=t.getExtent(),w=b.lastAutoInterval,S=b.lastTickCount;return null!=w&&null!=S&&Math.abs(w-_)<=1&&Math.abs(S-s)<=1&&w>_&&b.axisExtend0===x[0]&&b.axisExtend1===x[1]?_=w:(b.lastTickCount=s,b.lastAutoInterval=_,b.axisExtend0=x[0],b.axisExtend1=x[1]),_}function _u(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function bu(t,e,a){function i(t){l.push(a?t:{formattedLabel:n(t),rawLabel:r.getLabel(t),tickValue:t})}var n=Gc(t),r=t.scale,s=r.getExtent(),o=t.getLabelModel(),l=[],c=Math.max((e||0)+1,1),u=s[0],d=r.count();0!==u&&c>1&&d/c>2&&(u=Math.round(Math.ceil(u/c)*c));var h=Kc(t),p=o.get("showMinLabel")||h,f=o.get("showMaxLabel")||h;p&&u!==s[0]&&i(s[0]);for(var v=u;v<=s[1];v+=c)i(v);return f&&v-c!==s[1]&&i(s[1]),l}function xu(t,e,a){var i=t.scale,n=Gc(t),r=[];return f(i.getTicks(),(function(t){var s=i.getLabel(t);e(t,s)&&r.push(a?t:{formattedLabel:n(t),rawLabel:s,tickValue:t})})),r}function wu(t,e){var a=(t[1]-t[0])/e/2;t[0]+=a,t[1]-=a}function Su(t,e,a,i){function n(t,e){return t=Sr(t),e=Sr(e),d?t>e:e>t}var r=e.length;if(t.onBand&&!a&&r){var s,o,l=t.getExtent();if(1===r)e[0].coord=l[0],s=e[1]={coord:l[0]};else{var c=e[r-1].tickValue-e[0].tickValue,u=(e[r-1].coord-e[0].coord)/c;f(e,(function(t){t.coord-=u/2})),o=1+t.scale.getExtent()[1]-e[r-1].tickValue,s={coord:e[r-1].coord+u*o},e.push(s)}var d=l[0]>l[1];n(e[0].coord,l[0])&&(i?e[0].coord=l[0]:e.shift()),i&&n(l[0],e[0].coord)&&e.unshift({coord:l[0]}),n(l[1],s.coord)&&(i?s.coord=l[1]:e.pop()),i&&n(s.coord,l[1])&&e.push({coord:l[1]})}}function Cu(t){return this._axes[t]}function Iu(t){Ux.call(this,t)}function ku(t,e){return e.type||(e.data?"category":"value")}function Ou(t,e){return t.getCoordSysModel()===e}function Tu(t,e,a){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,a),this.model=t}function Pu(t,e,a,i){function n(t){return t.dim+"_"+t.index}a.getAxesOnZeroOf=function(){return r?[r]:[]};var r,s=t[e],o=a.model,l=o.get("axisLine.onZero"),c=o.get("axisLine.onZeroAxisIndex");if(l){if(null!=c)Du(s[c])&&(r=s[c]);else for(var u in s)if(s.hasOwnProperty(u)&&Du(s[u])&&!i[n(s[u])]){r=s[u];break}r&&(i[n(r)]=!0)}}function Du(t){return t&&"category"!==t.type&&"time"!==t.type&&qc(t)}function Mu(t,e){var a=t.getExtent(),i=a[0]+a[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}function Lu(t){return v(aw,(function(e){var a=t.getReferringComponents(e)[0];if(Hp&&!a)throw new Error(e+' "'+P(t.get(e+"Index"),t.get(e+"Id"),0)+'" not found');return a}))}function Eu(t){return"cartesian2d"===t.get("coordinateSystem")}function Au(t,e){var a=t.mapDimension("defaultedLabel",!0),i=a.length;if(1===i)return Qs(t,e,a[0]);if(i){for(var n=[],r=0;r<a.length;r++){var s=Qs(t,e,a[r]);n.push(s)}return n.join(" ")}}function ju(t,e,a,i,n,r){Zn(t,e,a.getModel("label"),a.getModel("emphasis.label"),{labelFetcher:n,labelDataIndex:r,defaultText:Au(n.getData(),r),isRectText:!0,autoColor:i}),$u(t),$u(e)}function $u(t,e){"outside"===t.textPosition&&(t.textPosition=e)}function Nu(t,e,a){var i=t.getArea(),n=t.getBaseAxis().isHorizontal(),r=i.x,s=i.y,o=i.width,l=i.height,c=a.get("lineStyle.width")||2;r-=c/2,s-=c/2,o+=c,l+=c,r=Math.floor(r),o=Math.round(o);var u=new Ag({shape:{x:r,y:s,width:o,height:l}});return e&&(u.shape[n?"width":"height"]=0,ar(u,{shape:{width:o,height:l}},a)),u}function Vu(t,e,a){var i=t.getArea(),n=new kg({shape:{cx:Sr(t.cx,1),cy:Sr(t.cy,1),r0:Sr(i.r0,1),r:Sr(i.r,1),startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&(n.shape.endAngle=i.startAngle,ar(n,{shape:{endAngle:i.endAngle}},a)),n}function Ru(t,e,a){return t?"polar"===t.type?Vu(t,e,a):"cartesian2d"===t.type?Nu(t,e,a):null:null}function Fu(t,e){var a=t.getArea&&t.getArea();if("cartesian2d"===t.type){var i=t.getBaseAxis();if("category"!==i.type||!i.onBand){var n=e.getLayout("bandWidth");i.isHorizontal()?(a.x-=n,a.width+=2*n):(a.y-=n,a.height+=2*n)}}return a}function zu(t,e,a){a.style.text=null,er(a,{shape:{width:0}},e,t,(function(){a.parent&&a.parent.remove(a)}))}function Bu(t,e,a){a.style.text=null,er(a,{shape:{r:a.shape.r0}},e,t,(function(){a.parent&&a.parent.remove(a)}))}function Zu(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function Hu(t,e,a,i,n,r,s,o){var c=e.getItemVisual(a,"color"),u=e.getItemVisual(a,"opacity"),d=e.getVisual("borderColor"),h=i.getModel("itemStyle"),p=i.getModel("emphasis.itemStyle").getBarItemStyle();o||t.setShape("r",h.get("barBorderRadius")||0),t.useStyle(l({stroke:Zu(n)?"none":d,fill:Zu(n)?"none":c,opacity:u},h.getBarItemStyle()));var f=i.getShallow("cursor");f&&t.attr("cursor",f);var v=s?n.height>0?"bottom":"top":n.width>0?"left":"right";o||ju(t.style,p,i,c,r,a,v),Zu(n)&&(p.fill=p.stroke="none"),Rn(t,p)}function qu(t,e){var a=t.get(ow)||0,i=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),n=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(a,i,n)}function Gu(t,e,a){var i=t.getData(),n=[],r=i.getLayout("valueAxisHorizontal")?1:0;n[1-r]=i.getLayout("valueAxisStart");var s=i.getLayout("largeDataIndices"),o=i.getLayout("barWidth"),l=t.getModel("backgroundStyle");if(t.get("showBackground",!0)){var c=i.getLayout("largeBackgroundPoints"),u=[];u[1-r]=i.getLayout("backgroundStart");var d=new fw({shape:{points:c},incremental:!!a,__startPoint:u,__baseDimIdx:r,__largeDataIndices:s,__barWidth:o,silent:!0,z2:0});Wu(d,l,i),e.add(d)}var h=new fw({shape:{points:i.getLayout("largePoints")},incremental:!!a,__startPoint:n,__baseDimIdx:r,__largeDataIndices:s,__barWidth:o});e.add(h),Xu(h,t,i),h.seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",vw),h.on("mousemove",vw))}function Uu(t,e,a){var i=t.__baseDimIdx,n=1-i,r=t.shape.points,s=t.__largeDataIndices,o=Math.abs(t.__barWidth/2),l=t.__startPoint[n];lw[0]=e,lw[1]=a;for(var c=lw[i],u=lw[1-i],d=c-o,h=c+o,p=0,f=r.length/2;f>p;p++){var v=2*p,m=r[v+i],g=r[v+n];if(m>=d&&h>=m&&(g>=l?u>=l&&g>=u:u>=g&&l>=u))return s[p]}return-1}function Xu(t,e,a){var i=a.getVisual("borderColor")||a.getVisual("color"),n=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(n),t.style.fill=null,t.style.stroke=i,t.style.lineWidth=a.getLayout("barWidth")}function Wu(t,e,a){var i=e.get("borderColor")||e.get("color"),n=e.getItemStyle(["color","borderColor"]);t.useStyle(n),t.style.fill=null,t.style.stroke=i,t.style.lineWidth=a.getLayout("barWidth")}function Yu(t,e,a){var i,n="polar"===a.type;return i=n?a.getArea():a.grid.getRect(),n?{cx:i.cx,cy:i.cy,r0:t?i.r0:e.r0,r:t?i.r:e.r,startAngle:t?e.startAngle:0,endAngle:t?e.endAngle:2*Math.PI}:{x:t?e.x:i.x,y:t?i.y:e.y,width:t?e.width:i.width,height:t?i.height:e.height}}function Ku(t,e,a){return new("polar"===t.type?kg:Ag)({shape:Yu(e,a,t),silent:!0,z2:0})}function Ju(t,e,a,i){var n,r,s=Pr(a-t.rotation),o=i[0]>i[1],l="start"===e&&!o||"start"!==e&&o;return Dr(s-mw/2)?(r=l?"bottom":"top",n="center"):Dr(s-1.5*mw)?(r=l?"top":"bottom",n="center"):(r="middle",n=1.5*mw>s&&s>mw/2?l?"left":"right":l?"right":"left"),{rotation:s,textAlign:n,textVerticalAlign:r}}function Qu(t,e,a){if(!Kc(t.axis)){var i=t.get("axisLabel.showMinLabel"),n=t.get("axisLabel.showMaxLabel");a=a||[];var r=(e=e||[])[0],s=e[1],o=e[e.length-1],l=e[e.length-2],c=a[0],u=a[1],d=a[a.length-1],h=a[a.length-2];!1===i?(td(r),td(c)):ed(r,s)&&(i?(td(s),td(u)):(td(r),td(c))),!1===n?(td(o),td(d)):ed(l,o)&&(n?(td(l),td(h)):(td(o),td(d)))}}function td(t){t&&(t.ignore=!0)}function ed(t,e){var a=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(a&&i){var n=jt([]);return Rt(n,n,-t.rotation),a.applyTransform(Nt([],n,t.getLocalTransform())),i.applyTransform(Nt([],n,e.getLocalTransform())),a.intersect(i)}}function ad(t){return"middle"===t||"center"===t}function id(t,e,a,i,n){for(var r=[],s=[],o=[],l=0;l<t.length;l++){var c=t[l].coord;s[0]=c,s[1]=0,o[0]=c,o[1]=a,e&&(st(s,s,e),st(o,o,e));var u=new $g({anid:n+"_"+t[l].tickValue,subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:o[0],y2:o[1]},style:i,z2:2,silent:!0});r.push(u)}return r}function nd(t,e,a){var i=e.axis,n=e.getModel("axisTick");if(n.get("show")&&!i.scale.isBlank()){for(var r=n.getModel("lineStyle"),s=a.tickDirection*n.get("length"),o=id(i.getTicksCoords(),t._transform,s,l(r.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),"ticks"),c=0;c<o.length;c++)t.group.add(o[c]);return o}}function rd(t,e,a){var i=e.axis,n=e.getModel("minorTick");if(n.get("show")&&!i.scale.isBlank()){var r=i.getMinorTicksCoords();if(r.length)for(var s=n.getModel("lineStyle"),o=a.tickDirection*n.get("length"),c=l(s.getLineStyle(),l(e.getModel("axisTick").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})),u=0;u<r.length;u++)for(var d=id(r[u],t._transform,o,c,"minorticks_"+u),h=0;h<d.length;h++)t.group.add(d[h])}}function sd(t,e,a){var i=e.axis;if(P(a.axisLabelShow,e.get("axisLabel.show"))&&!i.scale.isBlank()){var n=e.getModel("axisLabel"),r=n.get("margin"),s=i.getViewLabels(),o=(P(a.labelRotate,n.get("rotate"))||0)*mw/180,l=bw(a.rotation,o,a.labelDirection),c=e.getCategories&&e.getCategories(!0),u=[],d=xw(e),h=e.get("triggerEvent");return f(s,(function(s,o){var p=s.tickValue,f=s.formattedLabel,v=s.rawLabel,m=n;c&&c[p]&&c[p].textStyle&&(m=new fr(c[p].textStyle,n,e.ecModel));var g=m.getTextColor()||e.get("axisLine.lineStyle.color"),y=[i.dataToCoord(p),a.labelOffset+a.labelDirection*r],_=new wg({anid:"label_"+p,position:y,rotation:l.rotation,silent:d,z2:10});qn(_.style,m,{text:f,textAlign:m.getShallow("align",!0)||l.textAlign,textVerticalAlign:m.getShallow("verticalAlign",!0)||m.getShallow("baseline",!0)||l.textVerticalAlign,textFill:"function"==typeof g?g("category"===i.type?v:"value"===i.type?p+"":p,o):g}),h&&(_.eventData=_w(e),_.eventData.targetType="axisLabel",_.eventData.value=v),t._dumbGroup.add(_),_.updateTransform(),u.push(_),t.group.add(_),_.decomposeTransform()})),u}}function od(t,e){var a={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return ld(a,t,e),a.seriesInvolved&&ud(a,t),a}function ld(t,e,a){var i=e.getComponent("tooltip"),n=e.getComponent("axisPointer"),r=n.get("link",!0)||[],s=[];ww(a.getCoordinateSystems(),(function(a){function o(i,o,l){var d=l.model.getModel("axisPointer",n),h=d.get("show");if(h&&("auto"!==h||i||md(d))){null==o&&(o=d.get("triggerTooltip"));var p=(d=i?cd(l,u,n,e,i,o):d).get("snap"),f=gd(l.model),v=o||p||"category"===l.type,m=t.axesInfo[f]={key:f,axis:l,coordSys:a,axisPointerModel:d,triggerTooltip:o,involveSeries:v,snap:p,useHandle:md(d),seriesModels:[]};c[f]=m,t.seriesInvolved|=v;var g=dd(r,l);if(null!=g){var y=s[g]||(s[g]={axesInfo:{}});y.axesInfo[f]=m,y.mapper=r[g].mapper,m.linkGroup=y}}}if(a.axisPointerEnabled){var l=gd(a.model),c=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=a;var u=a.model.getModel("tooltip",i);if(ww(a.getAxes(),Sw(o,!1,null)),a.getTooltipAxes&&i&&u.get("show")){var d="axis"===u.get("trigger"),h="cross"===u.get("axisPointer.type"),p=a.getTooltipAxes(u.get("axisPointer.axis"));(d||h)&&ww(p.baseAxes,Sw(o,!h||"cross",d)),h&&ww(p.otherAxes,Sw(o,"cross",!1))}}}))}function cd(t,e,a,i,r,s){var o=e.getModel("axisPointer"),c={};ww(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){c[t]=n(o.get(t))})),c.snap="category"!==t.type&&!!s,"cross"===o.get("type")&&(c.type="line");var u=c.label||(c.label={});if(null==u.show&&(u.show=!1),"cross"===r){var d=o.get("label.show");if(u.show=null==d||d,!s){var h=c.lineStyle=o.get("crossStyle");h&&l(u,h.textStyle)}}return t.model.getModel("axisPointer",new fr(c,a,i))}function ud(t,e){e.eachSeries((function(e){var a=e.coordinateSystem,i=e.get("tooltip.trigger",!0),n=e.get("tooltip.show",!0);a&&"none"!==i&&!1!==i&&"item"!==i&&!1!==n&&!1!==e.get("axisPointer.show",!0)&&ww(t.coordSysAxesInfo[gd(a.model)],(function(t){var i=t.axis;a.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}),this)}function dd(t,e){for(var a=e.model,i=e.dim,n=0;n<t.length;n++){var r=t[n]||{};if(hd(r[i+"AxisId"],a.id)||hd(r[i+"AxisIndex"],a.componentIndex)||hd(r[i+"AxisName"],a.name))return n}}function hd(t,e){return"all"===t||x(t)&&u(t,e)>=0||t===e}function pd(t){var e=fd(t);if(e){var a=e.axisPointerModel,i=e.axis.scale,n=a.option,r=a.get("status"),s=a.get("value");null!=s&&(s=i.parse(s));var o=md(a);null==r&&(n.status=o?"show":"hide");var l=i.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==s||s>l[1])&&(s=l[1]),s<l[0]&&(s=l[0]),n.value=s,o&&(n.status=e.axis.scale.isBlank()?"hide":"show")}}function fd(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[gd(t)]}function vd(t){var e=fd(t);return e&&e.axisPointerModel}function md(t){return!!t.get("handle.show")}function gd(t){return t.type+"||"+t.id}function yd(t,e,a,i,n,r){var s=Cw.getAxisPointerClass(t.axisPointerClass);if(s){var o=vd(e);o?(t._axisPointer||(t._axisPointer=new s)).render(e,o,i,r):_d(t,i)}}function _d(t,e,a){var i=t._axisPointer;i&&i.dispose(e,a),t._axisPointer=null}function bd(t,e,a){a=a||{};var i=t.coordinateSystem,n=e.axis,r={},s=n.getAxesOnZeroOf()[0],o=n.position,l=s?"onZero":o,c=n.dim,u=i.getRect(),d=[u.x,u.x+u.width,u.y,u.y+u.height],h={left:0,right:1,top:0,bottom:1,onZero:2},p=e.get("offset")||0,f="x"===c?[d[2]-p,d[3]+p]:[d[0]-p,d[1]+p];if(s){var v=s.toGlobalCoord(s.dataToCoord(0));f[h.onZero]=Math.max(Math.min(v,f[1]),f[0])}r.position=["y"===c?f[h[l]]:d[0],"x"===c?f[h[l]]:d[3]],r.rotation=Math.PI/2*("x"===c?0:1);var m={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=m[o],r.labelOffset=s?f[h[o]]-f[h.onZero]:0,e.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),P(a.labelInside,e.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var g=e.get("axisLabel.rotate");return r.labelRotate="top"===l?-g:g,r.z2=1,r}function xd(t,e,a,i){var n=a.axis;if(!n.scale.isBlank()){var r=a.getModel("splitArea"),s=r.getModel("areaStyle"),o=s.get("color"),c=i.coordinateSystem.getRect(),u=n.getTicksCoords({tickModel:r,clamp:!0});if(u.length){var d=o.length,h=t.__splitAreaColors,p=R(),f=0;if(h)for(var v=0;v<u.length;v++){var m=h.get(u[v].tickValue);if(null!=m){f=(m+(d-1)*v)%d;break}}var g=n.toGlobalCoord(u[0].coord),y=s.getAreaStyle();for(o=x(o)?o:[o],v=1;v<u.length;v++){var _,b,w,S,C=n.toGlobalCoord(u[v].coord);n.isHorizontal()?(_=g,b=c.y,w=C-_,S=c.height,g=_+w):(_=c.x,b=g,w=c.width,g=b+(S=C-b));var I=u[v-1].tickValue;null!=I&&p.set(I,f),e.add(new Ag({anid:null!=I?"area_"+I:null,shape:{x:_,y:b,width:w,height:S},style:l({fill:o[f]},y),silent:!0})),f=(f+1)%d}t.__splitAreaColors=p}}}function wd(t){t.__splitAreaColors=null}function Sd(t,e,a){ov.call(this),this.updateData(t,e,a)}function Cd(t){return[t[0]/2,t[1]/2]}function Id(t,e){this.parent.drift(t,e)}function kd(t,e){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===e){var a=this.__symbolOriginalScale,i=a[1]/a[0],n={scale:[Math.max(1.1*a[0],a[0]+3),Math.max(1.1*a[1],a[1]+3*i)]};this.animateTo(n,400,"elasticOut")}else"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function Od(t){this.group=new ov,this._symbolCtor=t||Sd}function Td(t,e,a,i){return!(!e||isNaN(e[0])||isNaN(e[1])||i.isIgnore&&i.isIgnore(a)||i.clipShape&&!i.clipShape.contain(e[0],e[1])||"none"===t.getItemVisual(a,"symbol"))}function Pd(t){return null==t||C(t)||(t={isIgnore:t}),t||{}}function Dd(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function Md(t,e,a){var i,n=t.getBaseAxis(),r=t.getOtherAxis(n),s=Ld(r,a),o=n.dim,l=r.dim,c=e.mapDimension(l),u=e.mapDimension(o),d="x"===l||"radius"===l?1:0,h=v(t.dimensions,(function(t){return e.mapDimension(t)})),p=e.getCalculationInfo("stackResultDimension");return(i|=mc(e,h[0]))&&(h[0]=p),(i|=mc(e,h[1]))&&(h[1]=p),{dataDimsForPoint:h,valueStart:s,valueAxisDim:l,baseAxisDim:o,stacked:!!i,valueDim:c,baseDim:u,baseDataOffset:d,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Ld(t,e){var a=0,i=t.scale.getExtent();return"start"===e?a=i[0]:"end"===e?a=i[1]:i[0]>0?a=i[0]:i[1]<0&&(a=i[1]),a}function Ed(t,e,a,i){var n=NaN;t.stacked&&(n=a.get(a.getCalculationInfo("stackedOverDimension"),i)),isNaN(n)&&(n=t.valueStart);var r=t.baseDataOffset,s=[];return s[r]=a.get(t.baseDim,i),s[1-r]=n,e.dataToPoint(s)}function Ad(t,e){var a=[];return e.diff(t).add((function(t){a.push({cmd:"+",idx:t})})).update((function(t,e){a.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){a.push({cmd:"-",idx:t})})).execute(),a}function jd(t){return isNaN(t[0])||isNaN(t[1])}function $d(t,e,a,i,n,r,s,o,l,c){return"none"!==c&&c?Nd.apply(this,arguments):Vd.apply(this,arguments)}function Nd(t,e,a,i,n,r,s,o,l,c,u){for(var d=0,h=a,p=0;i>p;p++){var f=e[h];if(h>=n||0>h)break;if(jd(f)){if(u){h+=r;continue}break}if(h===a)t[r>0?"moveTo":"lineTo"](f[0],f[1]);else if(l>0){var v=e[d],m="y"===c?1:0,g=(f[m]-v[m])*l;Fw(Bw,v),Bw[m]=v[m]+g,Fw(Zw,f),Zw[m]=f[m]-g,t.bezierCurveTo(Bw[0],Bw[1],Zw[0],Zw[1],f[0],f[1])}else t.lineTo(f[0],f[1]);d=h,h+=r}return p}function Vd(t,e,a,i,n,r,s,o,l,c,u){for(var d=0,h=a,p=0;i>p;p++){var f=e[h];if(h>=n||0>h)break;if(jd(f)){if(u){h+=r;continue}break}if(h===a)t[r>0?"moveTo":"lineTo"](f[0],f[1]),Fw(Bw,f);else if(l>0){var v=h+r,m=e[v];if(u)for(;m&&jd(e[v]);)m=e[v+=r];var g=.5,y=e[d];if(!(m=e[v])||jd(m))Fw(Zw,f);else{var _,b;if(jd(m)&&!u&&(m=f),X(zw,m,y),"x"===c||"y"===c){var x="x"===c?0:1;_=Math.abs(f[x]-y[x]),b=Math.abs(f[x]-m[x])}else _=hf(f,y),b=hf(f,m);Rw(Zw,f,zw,-l*(1-(g=b/(b+_))))}Nw(Bw,Bw,o),Vw(Bw,Bw,s),Nw(Zw,Zw,o),Vw(Zw,Zw,s),t.bezierCurveTo(Bw[0],Bw[1],Zw[0],Zw[1],f[0],f[1]),Rw(Bw,f,zw,l*g)}else t.lineTo(f[0],f[1]);d=h,h+=r}return p}function Rd(t,e){var a=[1/0,1/0],i=[-1/0,-1/0];if(e)for(var n=0;n<t.length;n++){var r=t[n];r[0]<a[0]&&(a[0]=r[0]),r[1]<a[1]&&(a[1]=r[1]),r[0]>i[0]&&(i[0]=r[0]),r[1]>i[1]&&(i[1]=r[1])}return{min:e?a:i,max:e?i:a}}function Fd(t,e){if(t.length===e.length){for(var a=0;a<t.length;a++){var i=t[a],n=e[a];if(i[0]!==n[0]||i[1]!==n[1])return}return!0}}function zd(t,e){var a=[],i=[],n=[],r=[];return $i(t,a,i),$i(e,n,r),Math.max(Math.abs(a[0]-n[0]),Math.abs(a[1]-n[1]),Math.abs(i[0]-r[0]),Math.abs(i[1]-r[1]))}function Bd(t){return"number"==typeof t?t:t?.5:0}function Zd(t,e,a){if(!a.valueDim)return[];for(var i=[],n=0,r=e.count();r>n;n++)i.push(Ed(a,t,e,n));return i}function Hd(t,e,a){for(var i=e.getBaseAxis(),n="x"===i.dim||"radius"===i.dim?0:1,r=[],s=0;s<t.length-1;s++){var o=t[s+1],l=t[s];r.push(l);var c=[];switch(a){case"end":c[n]=o[n],c[1-n]=l[1-n],r.push(c);break;case"middle":var u=(l[n]+o[n])/2,d=[];c[n]=d[n]=u,c[1-n]=l[1-n],d[1-n]=o[1-n],r.push(c),r.push(d);break;default:c[n]=l[n],c[1-n]=o[1-n],r.push(c)}}return t[s]&&r.push(t[s]),r}function qd(t,e){var a=t.getVisual("visualMeta");if(a&&a.length&&t.count()){if("cartesian2d"!==e.type)return void(Hp&&console.warn("Visual map on line style is only supported on cartesian2d."));for(var i,n,r=a.length-1;r>=0;r--){var s=a[r].dimension,o=t.dimensions[s],l=t.getDimensionInfo(o);if("x"===(i=l&&l.coordDim)||"y"===i){n=a[r];break}}if(!n)return void(Hp&&console.warn("Visual map on line style only support x or y dimension."));var c=e.getAxis(i),u=v(n.stops,(function(t){return{coord:c.toGlobalCoord(c.dataToCoord(t.value)),color:t.color}})),d=u.length,h=n.outerColors.slice();d&&u[0].coord>u[d-1].coord&&(u.reverse(),h.reverse());var p=10,m=u[0].coord-p,g=u[d-1].coord+p,y=g-m;if(.001>y)return"transparent";f(u,(function(t){t.offset=(t.coord-m)/y})),u.push({offset:d?u[d-1].offset:.5,color:h[1]||"transparent"}),u.unshift({offset:d?u[0].offset:.5,color:h[0]||"transparent"});var _=new Bg(0,0,0,0,u,!0);return _[i]=m,_[i+"2"]=g,_}}function Gd(t,e,a){var i=t.get("showAllSymbol"),n="auto"===i;if(!i||n){var r=a.getAxesByScale("ordinal")[0];if(r&&(!n||!Ud(r,e))){var s=e.mapDimension(r.dim),o={};return f(r.getViewLabels(),(function(t){o[t.tickValue]=1})),function(t){return!o.hasOwnProperty(e.get(s,t))}}}}function Ud(t,e){var a=t.getExtent(),i=Math.abs(a[1]-a[0])/t.scale.count();isNaN(i)&&(i=0);for(var n=e.count(),r=Math.max(1,Math.round(n/5)),s=0;n>s;s+=r)if(1.5*Sd.getSymbolSize(e,s)[t.isHorizontal()?1:0]>i)return!1;return!0}function Xd(t,e,a){if("cartesian2d"===t.type){var i=t.getBaseAxis().isHorizontal(),n=Nu(t,e,a);if(!a.get("clip",!0)){var r=n.shape,s=Math.max(r.width,r.height);i?(r.y-=s,r.height+=2*s):(r.x-=s,r.width+=2*s)}return n}return Vu(t,e,a)}function Wd(t,e){this.getAllNames=function(){var t=e();return t.mapArray(t.getName)},this.containName=function(t){return e().indexOfName(t)>=0},this.indexOfName=function(e){return t().indexOfName(e)},this.getItemVisual=function(e,a){return t().getItemVisual(e,a)}}function Yd(t,e,a,i){var n=e.getData(),r=this.dataIndex,s=n.getName(r),o=e.get("selectedOffset");i.dispatchAction({type:"pieToggleSelect",from:t,name:s,seriesId:e.id}),n.each((function(t){Kd(n.getItemGraphicEl(t),n.getItemLayout(t),e.isSelected(n.getName(t)),o,a)}))}function Kd(t,e,a,i,n){var r=(e.startAngle+e.endAngle)/2,s=a?i:0,o=[Math.cos(r)*s,Math.sin(r)*s];n?t.animate().when(200,{position:o}).start("bounceOut"):t.attr("position",o)}function Jd(t,e){ov.call(this);var a=new kg({z2:2}),i=new Mg,n=new wg;this.add(a),this.add(i),this.add(n),this.updateData(t,e,!0)}function Qd(t,e,a,i,n,r,s,o,l,c){function u(e,a,i){for(var n=e;a>n&&!(t[n].y+i>l+s);n++)if(t[n].y+=i,n>e&&a>n+1&&t[n+1].y>t[n].y+t[n].height)return void d(n,i/2);d(a-1,i/2)}function d(e,a){for(var i=e;i>=0&&!(t[i].y-a<l)&&(t[i].y-=a,!(i>0&&t[i].y>t[i-1].y+t[i-1].height));i--);}function h(t,e,a,i,n,r){for(var s=e?Number.MAX_VALUE:0,o=0,l=t.length;l>o;o++)if("none"===t[o].labelAlignTo){var c=Math.abs(t[o].y-i),u=t[o].len,d=t[o].len2,h=n+u>c?Math.sqrt((n+u+d)*(n+u+d)-c*c):Math.abs(t[o].x-a);e&&h>=s&&(h=s-10),!e&&s>=h&&(h=s+10),t[o].x=a+h*r,s=h}}t.sort((function(t,e){return t.y-e.y}));for(var p,f=0,v=t.length,m=[],g=[],y=0;v>y;y++){if("outer"===t[y].position&&"labelLine"===t[y].labelAlignTo){var _=t[y].x-c;t[y].linePoints[1][0]+=_,t[y].x=c}0>(p=t[y].y-f)&&u(y,v,-p,n),f=t[y].y+t[y].height}for(0>s-f&&d(v-1,f-s),y=0;v>y;y++)t[y].y>=a?g.push(t[y]):m.push(t[y]);h(m,!1,e,a,i,n),h(g,!0,e,a,i,n)}function th(t,e,a,i,n,r,s,o){for(var l=[],c=[],u=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<t.length;h++)eh(t[h])||(t[h].x<e?(u=Math.min(u,t[h].x),l.push(t[h])):(d=Math.max(d,t[h].x),c.push(t[h])));for(Qd(c,e,a,i,1,n,r,s,o,d),Qd(l,e,a,i,-1,n,r,s,o,u),h=0;h<t.length;h++){var p=t[h];if(!eh(p)){var f=p.linePoints;if(f){var v,m="edge"===p.labelAlignTo,g=p.textRect.width;(v=m?p.x<e?f[2][0]-p.labelDistance-s-p.labelMargin:s+n-p.labelMargin-f[2][0]-p.labelDistance:p.x<e?p.x-s-p.bleedMargin:s+n-p.x-p.bleedMargin)<p.textRect.width&&(p.text=Je(p.text,v,p.font),"edge"===p.labelAlignTo&&(g=qe(p.text,p.font)));var y=f[1][0]-f[2][0];m?f[2][0]=p.x<e?s+p.labelMargin+g+p.labelDistance:s+n-p.labelMargin-g-p.labelDistance:(f[2][0]=p.x<e?p.x+p.labelDistance:p.x-p.labelDistance,f[1][0]=f[2][0]+y),f[1][1]=f[2][1]=p.y}}}}function eh(t){return"center"===t.position}function ah(t,e){return Kr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function ih(t,e,a){var i,n={},r="toggleSelected"===t;return a.eachComponent("legend",(function(a){r&&null!=i?a[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?a[t]():(a[t](e.name),i=a.isSelected(e.name)),f(a.getData(),(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=a.isSelected(e);n[e]=n.hasOwnProperty(e)?n[e]&&i:i}}))})),"allSelect"===t||"inverseSelect"===t?{selected:n}:{name:e.name,selected:n}}function nh(t,e){var a=gy(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),t=new Ag({shape:{x:t.x-a[3],y:t.y-a[0],width:t.width+a[1]+a[3],height:t.height+a[0]+a[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}function rh(t,e,a,i,n,r){var s;return"line"!==e&&e.indexOf("empty")<0?(s=a.getItemStyle(),t.style.stroke=i,r||(s.stroke=n)):s=a.getItemStyle(["borderWidth","borderColor"]),t.setStyle(s)}function sh(t,e,a,i){lh(t,e,a,i),a.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),oh(t,e,a,i)}function oh(t,e,a,i){var n=a.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||a.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function lh(t,e,a,i){var n=a.getZr().storage.getDisplayList()[0];n&&n.useHoverLayer||a.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}function ch(t,e,a){var i=[1,1];i[t.getOrient().index]=0,Qr(e,a,{type:"box",ignoreSize:i})}function uh(t,e,a,i,n){var r=t.axis;if(!r.scale.isBlank()&&r.containData(e)){if(!t.involveSeries)return void a.showPointer(t,e);var s=dh(e,t),l=s.payloadBatch,c=s.snapToValue;l[0]&&null==n.seriesIndex&&o(n,l[0]),!i&&t.snap&&r.containData(c)&&null!=c&&(e=c),a.showPointer(t,e,l,n),a.showTooltip(t,s,c)}}function dh(t,e){var a=e.axis,i=a.dim,n=t,r=[],s=Number.MAX_VALUE,o=-1;return SS(e.seriesModels,(function(e){var l,c,u=e.getData().mapDimension(i,!0);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(u,t,a);c=d.dataIndices,l=d.nestestValue}else{if(!(c=e.getData().indicesOfNearest(u[0],t,"category"===a.type?.5:null)).length)return;l=e.getData().get(u[0],c[0])}if(null!=l&&isFinite(l)){var h=t-l,p=Math.abs(h);s>=p&&((s>p||h>=0&&0>o)&&(s=p,o=h,n=l,r.length=0),SS(c,(function(t){r.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:r,snapToValue:n}}function hh(t,e,a,i){t[e.key]={value:a,payloadBatch:i}}function ph(t,e,a,i){var n=a.payloadBatch,r=e.axis,s=r.model,o=e.axisPointerModel;if(e.triggerTooltip&&n.length){var l=e.coordSys.model,c=gd(l),u=t.map[c];u||(u=t.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(u)),u.dataByAxis.push({axisDim:r.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:i,valueLabelOpt:{precision:o.get("label.precision"),formatter:o.get("label.formatter")},seriesDataIndices:n.slice()})}}function fh(t,e,a){var i=a.axesInfo=[];SS(e,(function(e,a){var n=e.axisPointerModel.option,r=t[a];r?(!e.useHandle&&(n.status="show"),n.value=r.value,n.seriesDataIndices=(r.payloadBatch||[]).slice()):!e.useHandle&&(n.status="hide"),"show"===n.status&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:n.value})}))}function vh(t,e,a,i){if(!_h(e)&&t.list.length){var n=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:a.tooltipOption,position:a.position,dataIndexInside:n.dataIndexInside,dataIndex:n.dataIndex,seriesIndex:n.seriesIndex,dataByCoordSys:t.list})}else i({type:"hideTip"})}function mh(t,e,a){var i=a.getZr(),n="axisPointerLastHighlights",r=IS(i)[n]||{},s=IS(i)[n]={};SS(t,(function(t){var e=t.axisPointerModel.option;"show"===e.status&&SS(e.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;s[e]=t}))}));var o=[],l=[];f(r,(function(t,e){!s[e]&&l.push(t)})),f(s,(function(t,e){!r[e]&&o.push(t)})),l.length&&a.dispatchAction({type:"downplay",escapeConnect:!0,batch:l}),o.length&&a.dispatchAction({type:"highlight",escapeConnect:!0,batch:o})}function gh(t,e){for(var a=0;a<(t||[]).length;a++){var i=t[a];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}function yh(t){var e=t.axis.model,a={},i=a.axisDim=t.axis.dim;return a.axisIndex=a[i+"AxisIndex"]=e.componentIndex,a.axisName=a[i+"AxisName"]=e.name,a.axisId=a[i+"AxisId"]=e.id,a}function _h(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function bh(t,e,a){if(!Up.node){var i=e.getZr();OS(i).records||(OS(i).records={}),xh(i,e),(OS(i).records[t]||(OS(i).records[t]={})).handler=a}}function xh(t,e){function a(a,i){t.on(a,(function(a){var n=Ih(e);TS(OS(t).records,(function(t){t&&i(t,a,n.dispatchAction)})),wh(n.pendings,e)}))}OS(t).initialized||(OS(t).initialized=!0,a("click",b(Ch,"click")),a("mousemove",b(Ch,"mousemove")),a("globalout",Sh))}function wh(t,e){var a,i=t.showTip.length,n=t.hideTip.length;i?a=t.showTip[i-1]:n&&(a=t.hideTip[n-1]),a&&(a.dispatchAction=null,e.dispatchAction(a))}function Sh(t,e,a){t.handler("leave",null,a)}function Ch(t,e,a,i){e.handler(t,a,i)}function Ih(t){var e={showTip:[],hideTip:[]},a=function a(i){var n=e[i.type];n?n.push(i):(i.dispatchAction=a,t.dispatchAction(i))};return{dispatchAction:a,pendings:e}}function kh(t,e){if(!Up.node){var a=e.getZr();(OS(a).records||{})[t]&&(OS(a).records[t]=null)}}function Oh(){}function Th(t,e,a,i){Ph(DS(a).lastProp,i)||(DS(a).lastProp=i,e?er(a,i,t):(a.stopAnimation(),a.attr(i)))}function Ph(t,e){if(C(t)&&C(e)){var a=!0;return f(e,(function(e,i){a=a&&Ph(t[i],e)})),!!a}return t===e}function Dh(t,e){t[e.get("label.show")?"show":"hide"]()}function Mh(t){return{position:t.position.slice(),rotation:t.rotation||0}}function Lh(t,e,a){var i=e.get("z"),n=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=n&&(t.zlevel=n),t.silent=a)}))}function Eh(t){var e,a=t.get("type"),i=t.getModel(a+"Style");return"line"===a?(e=i.getLineStyle()).fill=null:"shadow"===a&&((e=i.getAreaStyle()).stroke=null),e}function Ah(t,e,a,i,n){var r=$h(a.get("value"),e.axis,e.ecModel,a.get("seriesDataIndices"),{precision:a.get("label.precision"),formatter:a.get("label.formatter")}),s=a.getModel("label"),o=gy(s.get("padding")||0),l=s.getFont(),c=Ge(r,l),u=n.position,d=c.width+o[1]+o[3],h=c.height+o[0]+o[2],p=n.align;"right"===p&&(u[0]-=d),"center"===p&&(u[0]-=d/2);var f=n.verticalAlign;"bottom"===f&&(u[1]-=h),"middle"===f&&(u[1]-=h/2),jh(u,d,h,i);var v=s.get("backgroundColor");v&&"auto"!==v||(v=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:d,height:h,r:s.get("borderRadius")},position:u.slice(),style:{text:r,textFont:l,textFill:s.getTextColor(),textPosition:"inside",textPadding:o,fill:v,stroke:s.get("borderColor")||"transparent",lineWidth:s.get("borderWidth")||0,shadowBlur:s.get("shadowBlur"),shadowColor:s.get("shadowColor"),shadowOffsetX:s.get("shadowOffsetX"),shadowOffsetY:s.get("shadowOffsetY")},z2:10}}function jh(t,e,a,i){var n=i.getWidth(),r=i.getHeight();t[0]=Math.min(t[0]+e,n)-e,t[1]=Math.min(t[1]+a,r)-a,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function $h(t,e,a,i,n){t=e.scale.parse(t);var r=e.scale.getLabel(t,{precision:n.precision}),s=n.formatter;if(s){var o={value:Uc(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};f(i,(function(t){var e=a.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,n=e&&e.getDataParams(i);n&&o.seriesData.push(n)})),S(s)?r=s.replace("{value}",r):w(s)&&(r=s(o))}return r}function Nh(t,e,a){var i=At();return Rt(i,i,a.rotation),Vt(i,i,a.position),nr([t.dataToCoord(e),(a.labelOffset||0)+(a.labelDirection||1)*(a.labelMargin||0)],i)}function Vh(t,e,a,i,n,r){var s=gw.innerTextLayout(a.rotation,0,a.labelDirection);a.labelMargin=n.get("label.margin"),Ah(e,i,n,r,{position:Nh(i.axis,t,a),align:s.textAlign,verticalAlign:s.textVerticalAlign})}function Rh(t,e,a){return{x1:t[a=a||0],y1:t[1-a],x2:e[a],y2:e[1-a]}}function Fh(t,e,a){return{x:t[a=a||0],y:t[1-a],width:e[a],height:e[1-a]}}function zh(t,e){var a={};return a[e.dim+"AxisIndex"]=e.index,t.getCartesian(a)}function Bh(t){return"x"===t.dim?0:1}function Zh(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",a="left "+t+"s "+e+",top "+t+"s "+e;return v(NS,(function(t){return t+"transition:"+a})).join(";")}function Hh(t){var e=[],a=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont());var n=t.get("lineHeight");null==n&&(n=Math.round(3*a/2)),a&&e.push("line-height:"+n+"px");var r=t.get("textShadowColor"),s=t.get("textShadowBlur")||0,o=t.get("textShadowOffsetX")||0,l=t.get("textShadowOffsetY")||0;return s&&e.push("text-shadow:"+o+"px "+l+"px "+s+"px "+r),jS(["decoration","align"],(function(a){var i=t.get(a);i&&e.push("text-"+a+":"+i)})),e.join(";")}function qh(t){var e=[],a=t.get("transitionDuration"),i=t.get("backgroundColor"),n=t.getModel("textStyle"),r=t.get("padding");return a&&e.push(Zh(a)),i&&(Up.canvasSupported?e.push("background-Color:"+i):(e.push("background-Color:#"+re(i)),e.push("filter:alpha(opacity=70)"))),jS(["width","color","radius"],(function(a){var i="border-"+a,n=$S(i),r=t.get(n);null!=r&&e.push(i+":"+r+("color"===a?"":"px"))})),e.push(Hh(n)),null!=r&&e.push("padding:"+gy(r).join("px ")+"px"),e.join(";")+";"}function Gh(t,e,a,i,n){var r=e&&e.painter;if(a){var s=r&&r.getViewportRoot();s&&vt(t,s,document.body,i,n)}else{t[0]=i,t[1]=n;var o=r&&r.getViewportRootOffset();o&&(t[0]+=o.offsetLeft,t[1]+=o.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function Uh(t,e,a){if(Up.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var n=this._zr=e.getZr(),r=this._appendToBody=a&&a.appendToBody;this._styleCoord=[0,0,0,0],Gh(this._styleCoord,n,r,e.getWidth()/2,e.getHeight()/2),r?document.body.appendChild(i):t.appendChild(i),this._container=t,this._show=!1,this._hideTimeout;var s=this;i.onmouseenter=function(){s._enterable&&(clearTimeout(s._hideTimeout),s._show=!0),s._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!s._enterable){var e=n.handler;St(n.painter.getViewportRoot(),t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){s._enterable&&s._show&&s.hideLater(s._hideDelay),s._inContent=!1}}function Xh(t,e,a,i){t[0]=a,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function Wh(t){var e=this._zr=t.getZr();this._styleCoord=[0,0,0,0],Xh(this._styleCoord,e,t.getWidth()/2,t.getHeight()/2),this._show=!1,this._hideTimeout}function Yh(t){for(var e=t.pop();t.length;){var a=t.pop();a&&(fr.isInstance(a)&&(a=a.get("tooltip",!0)),"string"==typeof a&&(a={formatter:a}),e=new fr(a,e,e.ecModel))}return e}function Kh(t,e){return t.dispatchAction||_(e.dispatchAction,e)}function Jh(t,e,a,i,n,r,s){var o=a.getOuterSize(),l=o.width,c=o.height;return null!=r&&(t+l+r>i?t-=l+r:t+=r),null!=s&&(e+c+s>n?e-=c+s:e+=s),[t,e]}function Qh(t,e,a,i,n){var r=a.getOuterSize(),s=r.width,o=r.height;return t=Math.min(t+s,i)-s,e=Math.min(e+o,n)-o,[t=Math.max(t,0),e=Math.max(e,0)]}function tp(t,e,a){var i=a[0],n=a[1],r=5,s=0,o=0,l=e.width,c=e.height;switch(t){case"inside":s=e.x+l/2-i/2,o=e.y+c/2-n/2;break;case"top":s=e.x+l/2-i/2,o=e.y-n-r;break;case"bottom":s=e.x+l/2-i/2,o=e.y+c+r;break;case"left":s=e.x-i-r,o=e.y+c/2-n/2;break;case"right":s=e.x+l+r,o=e.y+c/2-n/2}return[s,o]}function ep(t){return"center"===t||"middle"===t}function ap(t){return u(ZS,t)>=0}function ip(t,e){var a=v(t=t.slice(),Gr),i=v(e=(e||[]).slice(),Gr);return function(n,r){f(t,(function(t,s){for(var o={name:t,capital:a[s]},l=0;l<e.length;l++)o[e[l]]=t+i[l];n.call(r,o)}))}}function np(t,e,a){function i(t,e){return u(e.nodes,t)>=0}function n(t,i){var n=!1;return e((function(e){f(a(t,e)||[],(function(t){i.records[e.name][t]&&(n=!0)}))})),n}function r(t,i){i.nodes.push(t),e((function(e){f(a(t,e)||[],(function(t){i.records[e.name][t]=!0}))}))}return function(a){function s(t){!i(t,l)&&n(t,l)&&(r(t,l),o=!0)}var o,l={nodes:[],records:{}};if(e((function(t){l.records[t.name]={}})),!a)return l;r(a,l);do{o=!1,t(s)}while(o);return l}}function rp(t,e){var a=t[e]-t[1-e];return{span:Math.abs(a),sign:a>0?-1:0>a?1:e?-1:1}}function sp(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}function op(t,e,a){var i=[1/0,-1/0];return GS(a,(function(t){var a=t.getData();a&&GS(a.mapDimension(e,!0),(function(t){var e=a.getApproximateExtent(t);e[0]<i[0]&&(i[0]=e[0]),e[1]>i[1]&&(i[1]=e[1])}))})),i[1]<i[0]&&(i=[NaN,NaN]),lp(t,i),i}function lp(t,e){var a=t.getAxisModel(),i=a.getMin(!0),n="category"===a.get("type"),r=n&&a.getCategories().length;null!=i&&"dataMin"!==i&&"function"!=typeof i?e[0]=i:n&&(e[0]=r>0?0:NaN);var s=a.getMax(!0);return null!=s&&"dataMax"!==s&&"function"!=typeof s?e[1]=s:n&&(e[1]=r>0?r-1:NaN),a.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0)),e}function cp(t,e){var a=t.getAxisModel(),i=t._percentWindow,n=t._valueWindow;if(i){var r=Or(n,[0,500]);r=Math.min(r,20);var s=e||0===i[0]&&100===i[1];a.setRange(s?null:+n[0].toFixed(r),s?null:+n[1].toFixed(r))}}function up(t){var e=t._minMaxSpan={},a=t._dataZoomModel,i=t._dataExtent;GS(["min","max"],(function(n){var r=a.get(n+"Span"),s=a.get(n+"ValueSpan");null!=s&&(s=t.getAxisModel().axis.scale.parse(s)),null!=s?r=xr(i[0]+s,i,[0,100],!0):null!=r&&(s=xr(r,[0,100],i,!0)-i[0]),e[n+"Span"]=r,e[n+"ValueSpan"]=s}))}function dp(t){var e={};return WS(["start","end","startValue","endValue","throttle"],(function(a){t.hasOwnProperty(a)&&(e[a]=t[a])})),e}function hp(t,e){var a=t._rangePropMode,i=t.get("rangeMode");WS([["start","startValue"],["end","endValue"]],(function(t,n){var r=null!=e[t[0]],s=null!=e[t[1]];r&&!s?a[n]="percent":!r&&s?a[n]="value":i?a[n]=i[n]:r&&(a[n]="percent")}))}function pp(t){return{x:"y",y:"x",radius:"angle",angle:"radius"}[t]}function fp(t){return"vertical"===t?"ns-resize":"ew-resize"}function vp(t,e){return!!mp(t)[e]}function mp(t){return t[hC]||(t[hC]={})}function gp(t){this.pointerChecker,this._zr=t,this._opt={};var e=_,a=e(yp,this),i=e(_p,this),r=e(bp,this),s=e(xp,this),o=e(wp,this);mf.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,c){this.disable(),this._opt=l(n(c)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),(!0===e||"move"===e||"pan"===e)&&(t.on("mousedown",a),t.on("mousemove",i),t.on("mouseup",r)),(!0===e||"scale"===e||"zoom"===e)&&(t.on("mousewheel",s),t.on("pinch",o))},this.disable=function(){t.off("mousedown",a),t.off("mousemove",i),t.off("mouseup",r),t.off("mousewheel",s),t.off("pinch",o)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function yp(t){if(!(kt(t)||t.target&&t.target.draggable)){var e=t.offsetX,a=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,a)&&(this._x=e,this._y=a,this._dragging=!0)}}function _p(t){if(this._dragging&&Ip("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!vp(this._zr,"globalPan")){var e=t.offsetX,a=t.offsetY,i=this._x,n=this._y,r=e-i,s=a-n;this._x=e,this._y=a,this._opt.preventDefaultMouseMove&&Sf(t.event),Cp(this,"pan","moveOnMouseMove",t,{dx:r,dy:s,oldX:i,oldY:n,newX:e,newY:a})}}function bp(t){kt(t)||(this._dragging=!1)}function xp(t){var e=Ip("zoomOnMouseWheel",t,this._opt),a=Ip("moveOnMouseWheel",t,this._opt),i=t.wheelDelta,n=Math.abs(i),r=t.offsetX,s=t.offsetY;if(0!==i&&(e||a)){if(e){var o=n>3?1.4:n>1?1.2:1.1;Sp(this,"zoom","zoomOnMouseWheel",t,{scale:i>0?o:1/o,originX:r,originY:s})}if(a){var l=Math.abs(i);Sp(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(i>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:r,originY:s})}}}function wp(t){vp(this._zr,"globalPan")||Sp(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function Sp(t,e,a,i,n){t.pointerChecker&&t.pointerChecker(i,n.originX,n.originY)&&(Sf(i.event),Cp(t,e,a,i,n))}function Cp(t,e,a,i,n){n.isAvailableBehavior=_(Ip,null,a,i),t.trigger(e,n)}function Ip(t,e,a){var i=a[t];return!t||i&&(!S(i)||e.event[i+"Key"])}function kp(t,e){var a=Pp(t),i=e.dataZoomId,n=e.coordId;f(a,(function(t){var a=t.dataZoomInfos;a[i]&&u(e.allCoordIds,n)<0&&(delete a[i],t.count--)})),Mp(a);var r=a[n];r||((r=a[n]={coordId:n,dataZoomInfos:{},count:0}).controller=Dp(t,r),r.dispatchAction=b(Lp,t)),!r.dataZoomInfos[i]&&r.count++,r.dataZoomInfos[i]=e;var s=Ep(r.dataZoomInfos);r.controller.enable(s.controlType,s.opt),r.controller.setPointerChecker(e.containsPoint),bo(r,"dispatchAction",e.dataZoomModel.get("throttle",!0),"fixRate")}function Op(t,e){var a=Pp(t);f(a,(function(t){t.controller.dispose();var a=t.dataZoomInfos;a[e]&&(delete a[e],t.count--)})),Mp(a)}function Tp(t){return t.type+"\0_"+t.id}function Pp(t){var e=t.getZr();return e[pC]||(e[pC]={})}function Dp(t,e){var a=new gp(t.getZr());return f(["pan","zoom","scrollMove"],(function(t){a.on(t,(function(a){var i=[];f(e.dataZoomInfos,(function(n){if(a.isAvailableBehavior(n.dataZoomModel.option)){var r=(n.getRange||{})[t],s=r&&r(e.controller,a);!n.dataZoomModel.get("disabled",!0)&&s&&i.push({dataZoomId:n.dataZoomId,start:s[0],end:s[1]})}})),i.length&&e.dispatchAction(i)}))})),a}function Mp(t){f(t,(function(e,a){e.count||(e.controller.dispose(),delete t[a])}))}function Lp(t,e){t.dispatchAction({type:"dataZoom",batch:e})}function Ep(t){var e,a="type_",i={type_true:2,type_move:1,type_false:0,type_undefined:-1},n=!0;return f(t,(function(t){var r=t.dataZoomModel,s=!r.get("disabled",!0)&&(!r.get("zoomLock",!0)||"move");i[a+s]>i[a+e]&&(e=s),n&=r.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!n}}}function Ap(t){return function(e,a,i,n){var r=this._range,s=r.slice(),o=e.axisModels[0];if(o){var l=t(s,o,e,a,i,n);return qS(l,s,[0,100],"all"),this._range=s,r[0]!==s[0]||r[1]!==s[1]?s:void 0}}}function jp(t,e,a,i){var n=a.type;Hp&&A(n,"graphic type MUST be set");var r=yC.hasOwnProperty(n)?yC[n]:_n(n);Hp&&A(r,"graphic type can not be found");var s=new r(a);e.add(s),i.set(t,s),s.__ecGraphicId=t}function $p(t,e){var a=t&&t.parent;a&&("group"===t.type&&t.traverse((function(t){$p(t,e)})),e.removeKey(t.__ecGraphicId),a.remove(t))}function Np(t){return t=o({},t),f(["id","parentId","$action","hv","bounding"].concat(Iy),(function(e){delete t[e]})),t}function Vp(t,e){var a;return f(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(a=!0)})),a}function Rp(t,e){var a=t.exist;if(e.id=t.keyInfo.id,!e.type&&a&&(e.type=a.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:a&&(e.parentId=a.parentId)}e.parentOption=null}function Fp(t,e,a){var i=o({},a),n=t[e],s=a.$action||"merge";if("merge"===s)if(n){if(Hp){var l=a.type;A(!l||n.type===l,'Please set $action: "replace" to change `type`')}r(n,i,!0),Qr(n,i,{ignoreSize:!0}),es(a,n)}else t[e]=i;else"replace"===s?t[e]=i:"remove"===s&&n&&(t[e]=null)}function zp(t,e){t&&(t.hv=e.hv=[Vp(e,["left","right"]),Vp(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0)))}function Bp(t,e){var a=t.eventData;t.silent||t.ignore||a||(a=t.eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),a&&(a.info=t.info)}var Zp;"undefined"!=typeof window?Zp=window.__DEV__:void 0!==a.g&&(Zp=a.g.__DEV__),void 0===Zp&&(Zp=!0);var Hp=Zp,qp=2311,Gp=function(){return qp++},Up="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:e(navigator.userAgent),Xp={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Wp={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Yp=Object.prototype.toString,Kp=Array.prototype,Jp=Kp.forEach,Qp=Kp.filter,tf=Kp.slice,ef=Kp.map,af=Kp.reduce,nf={},rf=function(){return nf.createCanvas()};nf.createCanvas=function(){return document.createElement("canvas")};var sf,of="__ec_primitive__";V.prototype={constructor:V,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var a in void 0!==e&&(t=_(t,e)),this.data)this.data.hasOwnProperty(a)&&t(this.data[a],a)},removeKey:function(t){delete this.data[t]}};var lf=(Object.freeze||Object)({$override:i,clone:n,merge:r,mergeAll:s,extend:o,defaults:l,createCanvas:rf,getContext:c,indexOf:u,inherits:d,mixin:h,isArrayLike:p,each:f,map:v,reduce:m,filter:g,find:y,bind:_,curry:b,isArray:x,isFunction:w,isString:S,isObject:C,isBuiltInObject:I,isTypedArray:k,isDom:O,eqNaN:T,retrieve:P,retrieve2:D,retrieve3:M,slice:L,normalizeCssArray:E,assert:A,trim:j,setAsPrimitive:$,isPrimitive:N,createHashMap:R,concatArray:F,noop:z}),cf="undefined"==typeof Float32Array?Array:Float32Array,uf=W,df=Y,hf=at,pf=it,ff=(Object.freeze||Object)({create:B,copy:Z,clone:H,set:q,add:G,scaleAndAdd:U,sub:X,len:W,length:uf,lenSquare:Y,lengthSquare:df,mul:K,div:J,dot:Q,scale:tt,normalize:et,distance:at,dist:hf,distanceSquare:it,distSquare:pf,negate:nt,lerp:rt,applyTransform:st,min:ot,max:lt});ct.prototype={constructor:ct,_dragStart:function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(ut(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var a=t.offsetX,i=t.offsetY,n=a-this._x,r=i-this._y;this._x=a,this._y=i,e.drift(n,r,t),this.dispatchToElement(ut(e,t),"drag",t.event);var s=this.findHover(a,i,e).target,o=this._dropTarget;this._dropTarget=s,e!==s&&(o&&s!==o&&this.dispatchToElement(ut(o,t),"dragleave",t.event),s&&s!==o&&this.dispatchToElement(ut(s,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(ut(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(ut(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var vf=Array.prototype.slice,mf=function(t){this._$handlers={},this._$eventProcessor=t};mf.prototype={constructor:mf,one:function(t,e,a,i){return ht(this,t,e,a,i,!0)},on:function(t,e,a,i){return ht(this,t,e,a,i,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var a=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(a[t]){for(var i=[],n=0,r=a[t].length;r>n;n++)a[t][n].h!==e&&i.push(a[t][n]);a[t]=i}a[t]&&0===a[t].length&&delete a[t]}else delete a[t];return this},trigger:function(t){var e=this._$handlers[t],a=this._$eventProcessor;if(e){var i=arguments,n=i.length;n>3&&(i=vf.call(i,1));for(var r=e.length,s=0;r>s;){var o=e[s];if(a&&a.filter&&null!=o.query&&!a.filter(t,o.query))s++;else{switch(n){case 1:o.h.call(o.ctx);break;case 2:o.h.call(o.ctx,i[1]);break;case 3:o.h.call(o.ctx,i[1],i[2]);break;default:o.h.apply(o.ctx,i)}o.one?(e.splice(s,1),r--):s++}}}return a&&a.afterTrigger&&a.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],a=this._$eventProcessor;if(e){var i=arguments,n=i.length;n>4&&(i=vf.call(i,1,i.length-1));for(var r=i[i.length-1],s=e.length,o=0;s>o;){var l=e[o];if(a&&a.filter&&null!=l.query&&!a.filter(t,l.query))o++;else{switch(n){case 1:l.h.call(r);break;case 2:l.h.call(r,i[1]);break;case 3:l.h.call(r,i[1],i[2]);break;default:l.h.apply(r,i)}l.one?(e.splice(o,1),s--):o++}}}return a&&a.afterTrigger&&a.afterTrigger(t),this}};var gf=Math.log(2),yf="___zrEVENTSAVED",_f=[],bf="undefined"!=typeof window&&!!window.addEventListener,xf=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wf=[],Sf=bf?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},Cf=function(){this._track=[]};Cf.prototype={constructor:Cf,recognize:function(t,e,a){return this._doTrack(t,e,a),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,a){var i=t.touches;if(i){for(var n={points:[],touches:[],target:e,event:t},r=0,s=i.length;s>r;r++){var o=i[r],l=bt(a,o,{});n.points.push([l.zrX,l.zrY]),n.touches.push(o)}this._track.push(n)}},_recognize:function(t){for(var e in If)if(If.hasOwnProperty(e)){var a=If[e](this._track,t);if(a)return a}}};var If={pinch:function(t,e){var a=t.length;if(a){var i=(t[a-1]||{}).points,n=(t[a-2]||{}).points||i;if(n&&n.length>1&&i&&i.length>1){var r=Ot(i)/Ot(n);!isFinite(r)&&(r=1),e.pinchScale=r;var s=Tt(i);return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},kf="silent";Mt.prototype.dispose=function(){};var Of=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Tf=function(t,e,a,i){mf.call(this),this.storage=t,this.painter=e,this.painterRoot=i,a=a||new Mt,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,ct.call(this),this.setHandlerProxy(a)};Tf.prototype={constructor:Tf,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(f(Of,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,a=t.zrY,i=Et(this,e,a),n=this._hovered,r=n.target;r&&!r.__zr&&(r=(n=this.findHover(n.x,n.y)).target);var s=this._hovered=i?{x:e,y:a}:this.findHover(e,a),o=s.target,l=this.proxy;l.setCursor&&l.setCursor(o?o.cursor:"default"),r&&o!==r&&this.dispatchToElement(n,"mouseout",t),this.dispatchToElement(s,"mousemove",t),o&&o!==r&&this.dispatchToElement(s,"mouseover",t)},mouseout:function(t){var e=t.zrEventControl,a=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&!a&&this.trigger("globalout",{type:"globalout",event:t})},resize:function(){this._hovered={}},dispatch:function(t,e){var a=this[t];a&&a.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,a){var i=(t=t||{}).target;if(!i||!i.silent){for(var n="on"+e,r=Pt(e,t,a);i&&(i[n]&&(r.cancelBubble=i[n].call(i,r)),i.trigger(e,r),i=i.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(e,r),this.painter&&this.painter.eachOtherLayer((function(t){"function"==typeof t[n]&&t[n].call(t,r),t.trigger&&t.trigger(e,r)})))}},findHover:function(t,e,a){for(var i=this.storage.getDisplayList(),n={x:t,y:e},r=i.length-1;r>=0;r--){var s;if(i[r]!==a&&!i[r].ignore&&(s=Lt(i[r],t,e))&&(!n.topTarget&&(n.topTarget=i[r]),s!==kf)){n.target=i[r];break}}return n},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new Cf);var a=this._gestureMgr;"start"===e&&a.clear();var i=a.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&a.clear(),i){var n=i.type;t.gestureEvent=n,this.dispatchToElement({target:i.target},n,i.event)}}},f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){Tf.prototype[t]=function(e){var a,i,n=e.zrX,r=e.zrY,s=Et(this,n,r);if("mouseup"===t&&s||(i=(a=this.findHover(n,r)).target),"mousedown"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===t)this._upEl=i;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||hf(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(a,t,e)}})),h(Tf,mf),h(Tf,ct);var Pf="undefined"==typeof Float32Array?Array:Float32Array,Df=(Object.freeze||Object)({create:At,identity:jt,copy:$t,mul:Nt,translate:Vt,rotate:Rt,scale:Ft,invert:zt,clone:Bt}),Mf=jt,Lf=5e-5,Ef=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},Af=Ef.prototype;Af.transform=null,Af.needLocalTransform=function(){return Zt(this.rotation)||Zt(this.position[0])||Zt(this.position[1])||Zt(this.scale[0]-1)||Zt(this.scale[1]-1)};var jf=[];Af.updateTransform=function(){var t=this.parent,e=t&&t.transform,a=this.needLocalTransform(),i=this.transform;if(a||e){i=i||At(),a?this.getLocalTransform(i):Mf(i),e&&(a?Nt(i,t.transform,i):$t(i,t.transform)),this.transform=i;var n=this.globalScaleRatio;if(null!=n&&1!==n){this.getGlobalScale(jf);var r=jf[0]<0?-1:1,s=jf[1]<0?-1:1,o=((jf[0]-r)*n+r)/jf[0]||0,l=((jf[1]-s)*n+s)/jf[1]||0;i[0]*=o,i[1]*=o,i[2]*=l,i[3]*=l}this.invTransform=this.invTransform||At(),zt(this.invTransform,i)}else i&&Mf(i)},Af.getLocalTransform=function(t){return Ef.getLocalTransform(this,t)},Af.setTransform=function(t){var e=this.transform,a=t.dpr||1;e?t.setTransform(a*e[0],a*e[1],a*e[2],a*e[3],a*e[4],a*e[5]):t.setTransform(a,0,0,a,0,0)},Af.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var $f=[],Nf=At();Af.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],a=t[2]*t[2]+t[3]*t[3],i=this.position,n=this.scale;Zt(e-1)&&(e=Math.sqrt(e)),Zt(a-1)&&(a=Math.sqrt(a)),t[0]<0&&(e=-e),t[3]<0&&(a=-a),i[0]=t[4],i[1]=t[5],n[0]=e,n[1]=a,this.rotation=Math.atan2(-t[1]/a,t[0]/e)}},Af.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Nt($f,t.invTransform,e),e=$f);var a=this.origin;a&&(a[0]||a[1])&&(Nf[4]=a[0],Nf[5]=a[1],Nt($f,e,Nf),$f[4]-=a[0],$f[5]-=a[1],e=$f),this.setLocalTransform(e)}},Af.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},Af.transformCoordToLocal=function(t,e){var a=[t,e],i=this.invTransform;return i&&st(a,a,i),a},Af.transformCoordToGlobal=function(t,e){var a=[t,e],i=this.transform;return i&&st(a,a,i),a},Ef.getLocalTransform=function(t,e){Mf(e=e||[]);var a=t.origin,i=t.scale||[1,1],n=t.rotation||0,r=t.position||[0,0];return a&&(e[4]-=a[0],e[5]-=a[1]),Ft(e,e,i),n&&Rt(e,e,n),a&&(e[4]+=a[0],e[5]+=a[1]),e[4]+=r[0],e[5]+=r[1],e};var Vf={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,a=.1,i=.4;return 0===t?0:1===t?1:(!a||1>a?(a=1,e=i/4):e=i*Math.asin(1/a)/(2*Math.PI),-a*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i))},elasticOut:function(t){var e,a=.1,i=.4;return 0===t?0:1===t?1:(!a||1>a?(a=1,e=i/4):e=i*Math.asin(1/a)/(2*Math.PI),a*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/i)+1)},elasticInOut:function(t){var e,a=.1,i=.4;return 0===t?0:1===t?1:(!a||1>a?(a=1,e=i/4):e=i*Math.asin(1/a)/(2*Math.PI),(t*=2)<1?-.5*a*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i):a*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/i)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Vf.bounceOut(1-t)},bounceOut:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return.5>t?.5*Vf.bounceIn(2*t):.5*Vf.bounceOut(2*t-1)+.5}};Ht.prototype={constructor:Ht,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var a=(t-this._startTime-this._pausedTime)/this._life;if(!(0>a)){a=Math.min(a,1);var i=this.easing,n="string"==typeof i?Vf[i]:i,r="function"==typeof n?n(a):a;return this.fire("frame",r),1===a?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Rf=function(){this.head=null,this.tail=null,this._len=0},Ff=Rf.prototype;Ff.insert=function(t){var e=new zf(t);return this.insertEntry(e),e},Ff.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},Ff.remove=function(t){var e=t.prev,a=t.next;e?e.next=a:this.head=a,a?a.prev=e:this.tail=e,t.next=t.prev=null,this._len--},Ff.len=function(){return this._len},Ff.clear=function(){this.head=this.tail=null,this._len=0};var zf=function(t){this.value=t,this.next,this.prev},Bf=function(t){this._list=new Rf,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},Zf=Bf.prototype;Zf.put=function(t,e){var a=this._list,i=this._map,n=null;if(null==i[t]){var r=a.len(),s=this._lastRemovedEntry;if(r>=this._maxSize&&r>0){var o=a.head;a.remove(o),delete i[o.key],n=o.value,this._lastRemovedEntry=o}s?s.value=e:s=new zf(e),s.key=t,a.insertEntry(s),i[t]=s}return n},Zf.get=function(t){var e=this._map[t],a=this._list;return null!=e?(e!==a.tail&&(a.remove(e),a.insertEntry(e)),e.value):void 0},Zf.clear=function(){this._list.clear(),this._map={}};var Hf={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},qf=new Bf(20),Gf=null,Uf=se,Xf=oe,Wf=(Object.freeze||Object)({parse:ee,lift:ne,toHex:re,fastLerp:se,fastMapToColor:Uf,lerp:oe,mapToColor:Xf,modifyHSL:le,modifyAlpha:ce,stringify:ue}),Yf=Array.prototype.slice,Kf=function(t,e,a,i){this._tracks={},this._target=t,this._loop=e||!1,this._getter=a||de,this._setter=i||he,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Kf.prototype={when:function(t,e){var a=this._tracks;for(var i in e)if(e.hasOwnProperty(i)){if(!a[i]){a[i]=[];var n=this._getter(this._target,i);if(null==n)continue;0!==t&&a[i].push({time:0,value:be(n)})}a[i].push({time:t,value:e[i]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,a=0;e>a;a++)t[a].call(this)},start:function(t,e){var a,i=this,n=0,r=function(){--n||i._doneCallback()};for(var s in this._tracks)if(this._tracks.hasOwnProperty(s)){var o=Se(this,t,r,this._tracks[s],s,e);o&&(this._clipList.push(o),n++,this.animation&&this.animation.addClip(o),a=o)}if(a){var l=a.onframe;a.onframe=function(t,e){l(t,e);for(var a=0;a<i._onframeList.length;a++)i._onframeList[a](t,e)}}return n||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,a=this.animation,i=0;i<e.length;i++){var n=e[i];t&&n.onframe(this._target,1),a&&a.removeClip(n)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var Jf=1;"undefined"!=typeof window&&(Jf=Math.max(window.devicePixelRatio||1,1));var Qf=Jf,tv=function(){},ev=tv,av=function(){this.animators=[]};av.prototype={constructor:av,animate:function(t,e){var a,i=!1,n=this,r=this.__zr;if(t){var s=t.split("."),o=n;i="shape"===s[0];for(var l=0,c=s.length;c>l;l++)o&&(o=o[s[l]]);o&&(a=o)}else a=n;if(a){var d=n.animators,h=new Kf(a,e);return h.during((function(){n.dirty(i)})).done((function(){d.splice(u(d,h),1)})),d.push(h),r&&r.animation.addAnimator(h),h}ev('Property "'+t+'" is not existed in element '+n.id)},stopAnimation:function(t){for(var e=this.animators,a=e.length,i=0;a>i;i++)e[i].stop(t);return e.length=0,this},animateTo:function(t,e,a,i,n,r){Ce(this,t,e,a,i,n,r)},animateFrom:function(t,e,a,i,n,r){Ce(this,t,e,a,i,n,r,!0)}};var iv=function(t){Ef.call(this,t),mf.call(this,t),av.call(this,t),this.id=t.id||Gp()};iv.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=t,a[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var a=this[t];a||(a=this[t]=[]),a[0]=e[0],a[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(C(t))for(var a in t)t.hasOwnProperty(a)&&this.attrKV(a,t[a]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var a=0;a<e.length;a++)t.animation.addAnimator(e[a]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var a=0;a<e.length;a++)t.animation.removeAnimator(e[a]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},h(iv,av),h(iv,Ef),h(iv,mf);var nv=st,rv=Math.min,sv=Math.max;Oe.prototype={constructor:Oe,union:function(t){var e=rv(t.x,this.x),a=rv(t.y,this.y);this.width=sv(t.x+t.width,this.x+this.width)-e,this.height=sv(t.y+t.height,this.y+this.height)-a,this.x=e,this.y=a},applyTransform:function(){var t=[],e=[],a=[],i=[];return function(n){if(n){t[0]=a[0]=this.x,t[1]=i[1]=this.y,e[0]=i[0]=this.x+this.width,e[1]=a[1]=this.y+this.height,nv(t,t,n),nv(e,e,n),nv(a,a,n),nv(i,i,n),this.x=rv(t[0],e[0],a[0],i[0]),this.y=rv(t[1],e[1],a[1],i[1]);var r=sv(t[0],e[0],a[0],i[0]),s=sv(t[1],e[1],a[1],i[1]);this.width=r-this.x,this.height=s-this.y}}}(),calculateTransform:function(t){var e=this,a=t.width/e.width,i=t.height/e.height,n=At();return Vt(n,n,[-e.x,-e.y]),Ft(n,n,[a,i]),Vt(n,n,[t.x,t.y]),n},intersect:function(t){if(!t)return!1;t instanceof Oe||(t=Oe.create(t));var e=this,a=e.x,i=e.x+e.width,n=e.y,r=e.y+e.height,s=t.x,o=t.x+t.width,l=t.y,c=t.y+t.height;return!(s>i||a>o||l>r||n>c)},contain:function(t,e){var a=this;return t>=a.x&&t<=a.x+a.width&&e>=a.y&&e<=a.y+a.height},clone:function(){return new Oe(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Oe.create=function(t){return new Oe(t.x,t.y,t.width,t.height)};var ov=function(t){for(var e in t=t||{},iv.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};ov.prototype={constructor:ov,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,a=0;a<e.length;a++)if(e[a].name===t)return e[a]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var a=this._children,i=a.indexOf(e);i>=0&&(a.splice(i,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,a=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof ov&&t.addChildrenToStorage(e)),a&&a.refresh()},remove:function(t){var e=this.__zr,a=this.__storage,i=this._children,n=u(i,t);return 0>n||(i.splice(n,1),t.parent=null,a&&(a.delFromStorage(t),t instanceof ov&&t.delChildrenFromStorage(a)),e&&e.refresh()),this},removeAll:function(){var t,e,a=this._children,i=this.__storage;for(e=0;e<a.length;e++)t=a[e],i&&(i.delFromStorage(t),t instanceof ov&&t.delChildrenFromStorage(i)),t.parent=null;return a.length=0,this},eachChild:function(t,e){for(var a=this._children,i=0;i<a.length;i++){var n=a[i];t.call(e,n,i)}return this},traverse:function(t,e){for(var a=0;a<this._children.length;a++){var i=this._children[a];t.call(e,i),"group"===i.type&&i.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var a=this._children[e];t.addToStorage(a),a instanceof ov&&a.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var a=this._children[e];t.delFromStorage(a),a instanceof ov&&a.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,a=new Oe(0,0,0,0),i=t||this._children,n=[],r=0;r<i.length;r++){var s=i[r];if(!s.ignore&&!s.invisible){var o=s.getBoundingRect(),l=s.getLocalTransform(n);l?(a.copy(o),a.applyTransform(l),(e=e||a.clone()).union(a)):(e=e||o.clone()).union(o)}}return e||a}},d(ov,iv);var lv=32,cv=7,uv=function(){this._roots=[],this._displayList=[],this._displayListLen=0};uv.prototype={constructor:uv,traverse:function(t,e){for(var a=0;a<this._roots.length;a++)this._roots[a].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,a=this._displayList,i=0,n=e.length;n>i;i++)this._updateAndAddDisplayable(e[i],null,t);a.length=this._displayListLen,Up.canvasSupported&&je(a,$e)},_updateAndAddDisplayable:function(t,e,a){if(!t.ignore||a){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var i=t.clipPath;if(i){e=e?e.slice():[];for(var n=i,r=t;n;)n.parent=r,n.updateTransform(),e.push(n),r=n,n=n.clipPath}if(t.isGroup){for(var s=t._children,o=0;o<s.length;o++){var l=s[o];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,a)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof ov&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var a=this._roots[e];a instanceof ov&&a.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var i=t.length;i>e;e++)this.delRoot(t[e])}else{var n=u(this._roots,t);n>=0&&(this.delFromStorage(t),this._roots.splice(n,1),t instanceof ov&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:$e};var dv={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},hv=function(t,e,a){return dv.hasOwnProperty(e)?a*=t.dpr:a},pv={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},fv=9,vv=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],mv=function(t){this.extendFrom(t,!1)};mv.prototype={constructor:mv,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,a){var i=this,n=a&&a.style,r=!n||t.__attrCachedBy!==pv.STYLE_BIND;t.__attrCachedBy=pv.STYLE_BIND;for(var s=0;s<vv.length;s++){var o=vv[s],l=o[0];(r||i[l]!==n[l])&&(t[l]=hv(t,l,i[l]||o[1]))}if((r||i.fill!==n.fill)&&(t.fillStyle=i.fill),(r||i.stroke!==n.stroke)&&(t.strokeStyle=i.stroke),(r||i.opacity!==n.opacity)&&(t.globalAlpha=null==i.opacity?1:i.opacity),(r||i.blend!==n.blend)&&(t.globalCompositeOperation=i.blend||"source-over"),this.hasStroke()){var c=i.lineWidth;t.lineWidth=c/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var a in t)!t.hasOwnProperty(a)||!0!==e&&(!1===e?this.hasOwnProperty(a):null==t[a])||(this[a]=t[a])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,a){for(var i=("radial"===e.type?Ve:Ne)(t,e,a),n=e.colorStops,r=0;r<n.length;r++)i.addColorStop(n[r].offset,n[r].color);return i}};for(var gv=mv.prototype,yv=0;yv<vv.length;yv++){var _v=vv[yv];_v[0]in gv||(gv[_v[0]]=_v[1])}mv.getGradient=gv.getGradient;var bv=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};bv.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var xv=function(t,e,a){var i;a=a||Qf,"string"==typeof t?i=Fe(t,e,a):C(t)&&(t=(i=t).id),this.id=t,this.dom=i;var n=i.style;n&&(i.onselectstart=Re,n["-webkit-user-select"]="none",n["user-select"]="none",n["-webkit-touch-callout"]="none",n["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",n.padding=0,n.margin=0,n["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=a};xv.prototype={constructor:xv,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Fe("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var a=this.dpr,i=this.dom,n=i.style,r=this.domBack;n&&(n.width=t+"px",n.height=e+"px"),i.width=t*a,i.height=e*a,r&&(r.width=t*a,r.height=e*a,1!==a&&this.ctxBack.scale(a,a))},clear:function(t,e){var a,i=this.dom,n=this.ctx,r=i.width,s=i.height,o=(e=e||this.clearColor,this.motionBlur&&!t),l=this.lastFrameAlpha,c=this.dpr;if(o&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,r/c,s/c)),n.clearRect(0,0,r,s),e&&"transparent"!==e&&(e.colorStops?(a=e.__canvasGradient||mv.getGradient(n,e,{x:0,y:0,width:r,height:s}),e.__canvasGradient=a):e.image&&(a=bv.prototype.getCanvasPattern.call(e,n)),n.save(),n.fillStyle=a||e,n.fillRect(0,0,r,s),n.restore()),o){var u=this.domBack;n.save(),n.globalAlpha=l,n.drawImage(u,0,0,r,s),n.restore()}}};var wv="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},Sv=new Bf(50),Cv={},Iv=0,kv=5e3,Ov=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Tv="12px sans-serif",Pv={measureText:function(t,e){var a=c();return a.font=e||Tv,a.measureText(t)}},Dv=Tv,Mv={left:1,right:1,center:1},Lv={top:1,bottom:1,middle:1},Ev=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Av={},jv={},$v=new Oe,Nv=function(){};Nv.prototype={constructor:Nv,drawRectText:function(t,e){var a=this.style;e=a.textRect||e,this.__dirty&&ca(a,!0);var i=a.text;if(null!=i&&(i+=""),ka(i,a)){t.save();var n=this.transform;a.transformText?this.setTransform(t):n&&($v.copy(e),$v.applyTransform(n),e=$v),da(this,t,i,a,e,fv),t.restore()}}},Oa.prototype={constructor:Oa,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var a=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(a[0],a[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?iv.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new mv(t,this),this.dirty(!1),this},calculateTextPosition:null},d(Oa,iv),h(Oa,Nv),Ta.prototype={constructor:Ta,type:"image",brush:function(t,e){var a=this.style,i=a.image;a.bind(t,this,e);var n=this._image=Be(i,this._image,this,this.onload);if(n&&He(n)){var r=a.x||0,s=a.y||0,o=a.width,l=a.height,c=n.width/n.height;if(null==o&&null!=l?o=l*c:null==l&&null!=o?l=o/c:null==o&&null==l&&(o=n.width,l=n.height),this.setTransform(t),a.sWidth&&a.sHeight){var u=a.sx||0,d=a.sy||0;t.drawImage(n,u,d,a.sWidth,a.sHeight,r,s,o,l)}else if(a.sx&&a.sy){var h=o-(u=a.sx),p=l-(d=a.sy);t.drawImage(n,u,d,h,p,r,s,o,l)}else t.drawImage(n,r,s,o,l);null!=a.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new Oe(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},d(Ta,Oa);var Vv=1e5,Rv=314159,Fv=.01,zv=.001,Bv=new Oe(0,0,0,0),Zv=new Oe(0,0,0,0),Hv=function(t,e,a){this.type="canvas";var i=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=a=o({},a||{}),this.dpr=a.devicePixelRatio||Qf,this._singleCanvas=i,this.root=t;var n=t.style;n&&(n["-webkit-tap-highlight-color"]="transparent",n["-webkit-user-select"]=n["user-select"]=n["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var r=this._zlevelList=[],s=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,i){var l=t.width,c=t.height;null!=a.width&&(l=a.width),null!=a.height&&(c=a.height),this.dpr=a.devicePixelRatio||1,t.width=l*this.dpr,t.height=c*this.dpr,this._width=l,this._height=c;var u=new xv(t,this,this.dpr);u.__builtin__=!0,u.initContext(),s[Rv]=u,u.zlevel=Rv,r.push(Rv),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=Aa(this._width,this._height);t.appendChild(d)}this._hoverlayer=null,this._hoverElements=[]};Hv.prototype={constructor:Hv,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();return t?{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}:void 0},refresh:function(t){var e=this.storage.getDisplayList(!0),a=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var i=0;i<a.length;i++){var n=a[i],r=this._layers[n];if(!r.__builtin__&&r.refresh){var s=0===i?this._backgroundColor:null;r.refresh(s)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var a=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return a.__from=t,t.__hoverMir=a,e&&a.setStyle(e),this._hoverElements.push(a),a}},removeHover:function(t){var e=t.__hoverMir,a=this._hoverElements,i=u(a,e);i>=0&&a.splice(i,1),t.__hoverMir=null},clearHover:function(){for(var t=this._hoverElements,e=0;e<t.length;e++){var a=t[e].__from;a&&(a.__hoverMir=null)}t.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,a=this._hoverlayer;if(a&&a.clear(),e){je(t,this.storage.displayableSortFunc),a||(a=this._hoverlayer=this.getLayer(Vv));var i={};a.ctx.save();for(var n=0;e>n;){var r=t[n],s=r.__from;s&&s.__zr?(n++,s.invisible||(r.transform=s.transform,r.invTransform=s.invTransform,r.__clipPaths=s.__clipPaths,this._doPaintEl(r,a,!0,i))):(t.splice(n,1),s.__hoverMir=null,e--)}a.ctx.restore()}},getHoverLayer:function(){return this.getLayer(Vv)},_paintList:function(t,e,a){if(this._redrawId===a){e=e||!1,this._updateLayerStatus(t);var i=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!i){var n=this;wv((function(){n._paintList(t,e,a)}))}}},_compositeManually:function(){var t=this.getLayer(Rv).ctx,e=this._domRoot.width,a=this._domRoot.height;t.clearRect(0,0,e,a),this.eachBuiltinLayer((function(i){i.virtual&&t.drawImage(i.dom,0,0,e,a)}))},_doPaintList:function(t,e){for(var a=[],i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i];(o=this._layers[n]).__builtin__&&o!==this._hoverlayer&&(o.__dirty||e)&&a.push(o)}for(var r=!0,s=0;s<a.length;s++){var o,l=(o=a[s]).ctx,c={};l.save();var u=e?o.__startIndex:o.__drawIndex,d=!e&&o.incremental&&Date.now,h=d&&Date.now(),p=o.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(o.__startIndex===o.__endIndex)o.clear(!1,p);else if(u===o.__startIndex){var v=t[u];v.incremental&&v.notClear&&!e||o.clear(!1,p)}-1===u&&(console.error("For some unknown reason. drawIndex is -1"),u=o.__startIndex);for(var m=u;m<o.__endIndex;m++){var g=t[m];if(this._doPaintEl(g,o,e,c),g.__dirty=g.__dirtyText=!1,d&&Date.now()-h>15)break}o.__drawIndex=m,o.__drawIndex<o.__endIndex&&(r=!1),c.prevElClipPaths&&l.restore(),l.restore()}return Up.wxa&&f(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),r},_doPaintEl:function(t,e,a,i){var n=e.ctx,r=t.transform;if(!(!e.__dirty&&!a||t.invisible||0===t.style.opacity||r&&!r[0]&&!r[3]||t.culling&&Ma(t,this._width,this._height))){var s=t.__clipPaths,o=i.prevElClipPaths;(!o||La(s,o))&&(o&&(n.restore(),i.prevElClipPaths=null,i.prevEl=null),s&&(n.save(),Ea(s,n),i.prevElClipPaths=s)),t.beforeBrush&&t.beforeBrush(n),t.brush(n,i.prevEl||null),i.prevEl=t,t.afterBrush&&t.afterBrush(n)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Rv);var a=this._layers[t];return a||((a=new xv("zr_"+t,this,this.dpr)).zlevel=t,a.__builtin__=!0,this._layerConfig[t]?r(a,this._layerConfig[t],!0):this._layerConfig[t-Fv]&&r(a,this._layerConfig[t-Fv],!0),e&&(a.virtual=e),this.insertLayer(t,a),a.initContext()),a},insertLayer:function(t,e){var a=this._layers,i=this._zlevelList,n=i.length,r=null,s=-1,o=this._domRoot;if(a[t])ev("ZLevel "+t+" has been used already");else if(Da(e)){if(n>0&&t>i[0]){for(s=0;n-1>s&&!(i[s]<t&&i[s+1]>t);s++);r=a[i[s]]}if(i.splice(s+1,0,t),a[t]=e,!e.virtual)if(r){var l=r.dom;l.nextSibling?o.insertBefore(e.dom,l.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom)}else ev("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var a,i,n=this._zlevelList;for(i=0;i<n.length;i++)a=n[i],t.call(e,this._layers[a],a)},eachBuiltinLayer:function(t,e){var a,i,n,r=this._zlevelList;for(n=0;n<r.length;n++)i=r[n],(a=this._layers[i]).__builtin__&&t.call(e,a,i)},eachOtherLayer:function(t,e){var a,i,n,r=this._zlevelList;for(n=0;n<r.length;n++)i=r[n],(a=this._layers[i]).__builtin__||t.call(e,a,i)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer((function(t){t.__dirty=t.__used=!1})),this._singleCanvas)for(var a=1;a<t.length;a++)if((o=t[a]).zlevel!==t[a-1].zlevel||o.incremental){this._needsManuallyCompositing=!0;break}var i,n=null,r=0;for(a=0;a<t.length;a++){var s,o,l=(o=t[a]).zlevel;i!==l&&(i=l,r=0),o.incremental?((s=this.getLayer(l+zv,this._needsManuallyCompositing)).incremental=!0,r=1):s=this.getLayer(l+(r>0?Fv:0),this._needsManuallyCompositing),s.__builtin__||ev("ZLevel "+l+" has been used by unkown layer "+s.id),s!==n&&(s.__used=!0,s.__startIndex!==a&&(s.__dirty=!0),s.__startIndex=a,s.__drawIndex=s.incremental?-1:a,e(a),n=s),o.__dirty&&(s.__dirty=!0,s.incremental&&s.__drawIndex<0&&(s.__drawIndex=a))}e(a),this.eachBuiltinLayer((function(t){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var a=this._layerConfig;a[t]?r(a[t],e,!0):a[t]=e;for(var i=0;i<this._zlevelList.length;i++){var n=this._zlevelList[i];n!==t&&n!==t+Fv||r(this._layers[n],a[t],!0)}}},delLayer:function(t){var e=this._layers,a=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],a.splice(u(a,t),1))},resize:function(t,e){if(this._domRoot.style){var a=this._domRoot;a.style.display="none";var i=this._opts;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=this._getSize(0),e=this._getSize(1),a.style.display="",this._width!==t||e!==this._height){for(var n in a.style.width=t+"px",a.style.height=e+"px",this._layers)this._layers.hasOwnProperty(n)&&this._layers[n].resize(t,e);f(this._progressiveLayers,(function(a){a.resize(t,e)})),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(Rv).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Rv].dom;var e=new xv("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var a=e.dom.width,i=e.dom.height,n=e.ctx;this.eachLayer((function(t){t.__builtin__?n.drawImage(t.dom,0,0,a,i):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())}))}else for(var r={},s=this.storage.getDisplayList(!0),o=0;o<s.length;o++){var l=s[o];this._doPaintEl(l,e,!0,r)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,a=["width","height"][t],i=["clientWidth","clientHeight"][t],n=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[a]&&"auto"!==e[a])return parseFloat(e[a]);var s=this.root,o=document.defaultView.getComputedStyle(s);return(s[i]||Pa(o[a])||Pa(s.style[a]))-(Pa(o[n])||0)-(Pa(o[r])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var a=document.createElement("canvas"),i=a.getContext("2d"),n=t.getBoundingRect(),r=t.style,s=r.shadowBlur*e,o=r.shadowOffsetX*e,l=r.shadowOffsetY*e,c=r.hasStroke()?r.lineWidth:0,u=Math.max(c/2,-o+s),d=Math.max(c/2,o+s),h=Math.max(c/2,-l+s),p=Math.max(c/2,l+s),f=n.width+u+d,v=n.height+h+p;a.width=f*e,a.height=v*e,i.scale(e,e),i.clearRect(0,0,f,v),i.dpr=e;var m={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-n.x,h-n.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(i);var g=new Ta({style:{x:0,y:0,image:a}});return null!=m.position&&(g.position=t.position=m.position),null!=m.rotation&&(g.rotation=t.rotation=m.rotation),null!=m.scale&&(g.scale=t.scale=m.scale),g}};var qv=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,mf.call(this)};qv.prototype={constructor:qv,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),a=0;a<e.length;a++)this.addClip(e[a])},removeClip:function(t){var e=u(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),a=0;a<e.length;a++)this.removeClip(e[a]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,a=this._clips,i=a.length,n=[],r=[],s=0;i>s;s++){var o=a[s],l=o.step(t,e);l&&(n.push(l),r.push(o))}for(s=0;i>s;)a[s]._needsRemove?(a[s]=a[i-1],a.pop(),i--):s++;for(i=n.length,s=0;i>s;s++)r[s].fire(n[s]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){e._running&&(wv(t),!e._paused&&e._update())}var e=this;this._running=!0,wv(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var a=new Kf(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(a),a}},h(qv,mf);var Gv=300,Uv=Up.domSupported,Xv=function(){var t=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],a={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},i=v(t,(function(t){var e=t.replace("mouse","pointer");return a.hasOwnProperty(e)?e:t}));return{mouse:t,touch:e,pointer:i}}(),Wv={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Yv=za.prototype;Yv.stopPropagation=Yv.stopImmediatePropagation=Yv.preventDefault=z;var Kv={mousedown:function(t){t=St(this.dom,t),this._mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=St(this.dom,t);var e=this._mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||Ga(this,!0),this.trigger("mousemove",t)},mouseup:function(t){t=St(this.dom,t),Ga(this,!1),this.trigger("mouseup",t)},mouseout:function(t){t=St(this.dom,t),this._pointerCapturing&&(t.zrEventControl="no_globalout");var e=t.toElement||t.relatedTarget;t.zrIsToLocalDOM=Fa(this,e),this.trigger("mouseout",t)},touchstart:function(t){Va(t=St(this.dom,t)),this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Kv.mousemove.call(this,t),Kv.mousedown.call(this,t)},touchmove:function(t){Va(t=St(this.dom,t)),this.handler.processGesture(t,"change"),Kv.mousemove.call(this,t)},touchend:function(t){Va(t=St(this.dom,t)),this.handler.processGesture(t,"end"),Kv.mouseup.call(this,t),+new Date-this._lastTouchMoment<Gv&&Kv.click.call(this,t)},pointerdown:function(t){Kv.mousedown.call(this,t)},pointermove:function(t){$a(t)||Kv.mousemove.call(this,t)},pointerup:function(t){Kv.mouseup.call(this,t)},pointerout:function(t){$a(t)||Kv.mouseout.call(this,t)}};f(["click","mousewheel","dblclick","contextmenu"],(function(t){Kv[t]=function(e){e=St(this.dom,e),this.trigger(t,e)}}));var Jv={pointermove:function(t){$a(t)||Jv.mousemove.call(this,t)},pointerup:function(t){Jv.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this._pointerCapturing;Ga(this,!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}},Qv=Xa.prototype;Qv.dispose=function(){qa(this._localHandlerScope),Uv&&qa(this._globalHandlerScope)},Qv.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},h(Xa,mf);var tm=!Up.canvasSupported,em={canvas:Hv},am={},im="4.3.2",nm=function(t,e,a){a=a||{},this.dom=e,this.id=t;var i=this,n=new uv,r=a.renderer;if(tm){if(!em.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");r="vml"}else r&&em[r]||(r="canvas");var s=new em[r](e,n,a,t);this.storage=n,this.painter=s;var o=Up.node||Up.worker?null:new Xa(s.getViewportRoot(),s.root);this.handler=new Tf(n,s,o,s.root),this.animation=new qv({stage:{update:_(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=n.delFromStorage,c=n.addToStorage;n.delFromStorage=function(t){l.call(n,t),t&&t.removeSelfFromZr(i)},n.addToStorage=function(t){c.call(n,t),t.addSelfToZr(i)}};nm.prototype={constructor:nm,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var a=this.painter.addHover(t,e);return this.refreshHover(),a}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,a){this.handler.on(t,e,a)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,Qa(this.id)}};var rm=(Object.freeze||Object)({version:im,init:Wa,dispose:Ya,getInstance:Ka,registerPainter:Ja}),sm=f,om=C,lm=x,cm="series\0",um=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],dm=0,hm=".",pm="___EC__COMPONENT__CONTAINER___",fm=0,vm=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,a,i){for(var n={},r=0;r<t.length;r++){var s=t[r][1];if(!(a&&u(a,s)>=0||i&&u(i,s)<0)){var o=e.getShallow(s);null!=o&&(n[t[r][0]]=o)}}return n}},mm=vm([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),gm={getLineStyle:function(t){var e=mm(this,t);return e.lineDash=this.getLineDash(e.lineWidth),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),a=Math.max(t,2),i=4*t;return"solid"!==e&&null!=e&&("dashed"===e?[i,i]:[a,a])}},ym=vm([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),_m={getAreaStyle:function(t,e){return ym(this,t,e)}},bm=Math.pow,xm=Math.sqrt,wm=1e-8,Sm=1e-4,Cm=xm(3),Im=1/3,km=B(),Om=B(),Tm=B(),Pm=Math.min,Dm=Math.max,Mm=Math.sin,Lm=Math.cos,Em=2*Math.PI,Am=B(),jm=B(),$m=B(),Nm=[],Vm=[],Rm={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Fm=[],zm=[],Bm=[],Zm=[],Hm=Math.min,qm=Math.max,Gm=Math.cos,Um=Math.sin,Xm=Math.sqrt,Wm=Math.abs,Ym="undefined"!=typeof Float32Array,Km=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};Km.prototype={constructor:Km,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,a){a=a||0,this._ux=Wm(a/Qf/t)||0,this._uy=Wm(a/Qf/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(Rm.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var a=Wm(t-this._xi)>this._ux||Wm(e-this._yi)>this._uy||this._len<5;return this.addData(Rm.L,t,e),this._ctx&&a&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),a&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,a,i,n,r){return this.addData(Rm.C,t,e,a,i,n,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,a,i,n,r):this._ctx.bezierCurveTo(t,e,a,i,n,r)),this._xi=n,this._yi=r,this},quadraticCurveTo:function(t,e,a,i){return this.addData(Rm.Q,t,e,a,i),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,a,i):this._ctx.quadraticCurveTo(t,e,a,i)),this._xi=a,this._yi=i,this},arc:function(t,e,a,i,n,r){return this.addData(Rm.A,t,e,a,a,i,n-i,0,r?0:1),this._ctx&&this._ctx.arc(t,e,a,i,n,r),this._xi=Gm(n)*a+t,this._yi=Um(n)*a+e,this},arcTo:function(t,e,a,i,n){return this._ctx&&this._ctx.arcTo(t,e,a,i,n),this},rect:function(t,e,a,i){return this._ctx&&this._ctx.rect(t,e,a,i),this.addData(Rm.R,t,e,a,i),this},closePath:function(){this.addData(Rm.Z);var t=this._ctx,e=this._x0,a=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,a),t.closePath()),this._xi=e,this._yi=a,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,a=0;a<t.length;a++)e+=t[a];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!Ym||(this.data=new Float32Array(e));for(var a=0;e>a;a++)this.data[a]=t[a];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,a=0,i=this._len,n=0;e>n;n++)a+=t[n].len();for(Ym&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+a)),n=0;e>n;n++)for(var r=t[n].data,s=0;s<r.length;s++)this.data[i++]=r[s];this._len=i},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var a=0;a<arguments.length;a++)e[this._len++]=arguments[a];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var a,i,n=this._dashSum,r=this._dashOffset,s=this._lineDash,o=this._ctx,l=this._xi,c=this._yi,u=t-l,d=e-c,h=Xm(u*u+d*d),p=l,f=c,v=s.length;for(0>r&&(r=n+r),p-=(r%=n)*(u/=h),f-=r*(d/=h);u>0&&t>=p||0>u&&p>=t||0===u&&(d>0&&e>=f||0>d&&f>=e);)p+=u*(a=s[i=this._dashIdx]),f+=d*a,this._dashIdx=(i+1)%v,u>0&&l>p||0>u&&p>l||d>0&&c>f||0>d&&f>c||o[i%2?"moveTo":"lineTo"](u>=0?Hm(p,t):qm(p,t),d>=0?Hm(f,e):qm(f,e));u=p-t,d=f-e,this._dashOffset=-Xm(u*u+d*d)},_dashedBezierTo:function(t,e,a,i,n,r){var s,o,l,c,u,d=this._dashSum,h=this._dashOffset,p=this._lineDash,f=this._ctx,v=this._xi,m=this._yi,g=Ci,y=0,_=this._dashIdx,b=p.length,x=0;for(0>h&&(h=d+h),h%=d,s=0;1>s;s+=.1)o=g(v,t,a,n,s+.1)-g(v,t,a,n,s),l=g(m,e,i,r,s+.1)-g(m,e,i,r,s),y+=Xm(o*o+l*l);for(;b>_&&!((x+=p[_])>h);_++);for(s=(x-h)/y;1>=s;)c=g(v,t,a,n,s),u=g(m,e,i,r,s),_%2?f.moveTo(c,u):f.lineTo(c,u),s+=p[_]/y,_=(_+1)%b;_%2!=0&&f.lineTo(n,r),o=n-c,l=r-u,this._dashOffset=-Xm(o*o+l*l)},_dashedQuadraticTo:function(t,e,a,i){var n=a,r=i;a=(a+2*t)/3,i=(i+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,a,i,n,r)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Ym&&(this.data=new Float32Array(t)))},getBoundingRect:function(){Fm[0]=Fm[1]=Bm[0]=Bm[1]=Number.MAX_VALUE,zm[0]=zm[1]=Zm[0]=Zm[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,a=0,i=0,n=0,r=0;r<t.length;){var s=t[r++];switch(1===r&&(i=e=t[r],n=a=t[r+1]),s){case Rm.M:e=i=t[r++],a=n=t[r++],Bm[0]=i,Bm[1]=n,Zm[0]=i,Zm[1]=n;break;case Rm.L:Ni(e,a,t[r],t[r+1],Bm,Zm),e=t[r++],a=t[r++];break;case Rm.C:Vi(e,a,t[r++],t[r++],t[r++],t[r++],t[r],t[r+1],Bm,Zm),e=t[r++],a=t[r++];break;case Rm.Q:Ri(e,a,t[r++],t[r++],t[r],t[r+1],Bm,Zm),e=t[r++],a=t[r++];break;case Rm.A:var o=t[r++],l=t[r++],c=t[r++],u=t[r++],d=t[r++],h=t[r++]+d;r+=1;var p=1-t[r++];1===r&&(i=Gm(d)*c+o,n=Um(d)*u+l),Fi(o,l,c,u,d,h,p,Bm,Zm),e=Gm(h)*c+o,a=Um(h)*u+l;break;case Rm.R:Ni(i=e=t[r++],n=a=t[r++],i+t[r++],n+t[r++],Bm,Zm);break;case Rm.Z:e=i,a=n}ot(Fm,Fm,Bm),lt(zm,zm,Zm)}return 0===r&&(Fm[0]=Fm[1]=zm[0]=zm[1]=0),new Oe(Fm[0],Fm[1],zm[0]-Fm[0],zm[1]-Fm[1])},rebuildPath:function(t){for(var e,a,i,n,r,s,o=this.data,l=this._ux,c=this._uy,u=this._len,d=0;u>d;){var h=o[d++];switch(1===d&&(e=i=o[d],a=n=o[d+1]),h){case Rm.M:e=i=o[d++],a=n=o[d++],t.moveTo(i,n);break;case Rm.L:r=o[d++],s=o[d++],(Wm(r-i)>l||Wm(s-n)>c||d===u-1)&&(t.lineTo(r,s),i=r,n=s);break;case Rm.C:t.bezierCurveTo(o[d++],o[d++],o[d++],o[d++],o[d++],o[d++]),i=o[d-2],n=o[d-1];break;case Rm.Q:t.quadraticCurveTo(o[d++],o[d++],o[d++],o[d++]),i=o[d-2],n=o[d-1];break;case Rm.A:var p=o[d++],f=o[d++],v=o[d++],m=o[d++],g=o[d++],y=o[d++],_=o[d++],b=o[d++],x=v>m?v:m,w=v>m?1:v/m,S=v>m?m/v:1,C=g+y;Math.abs(v-m)>.001?(t.translate(p,f),t.rotate(_),t.scale(w,S),t.arc(0,0,x,g,C,1-b),t.scale(1/w,1/S),t.rotate(-_),t.translate(-p,-f)):t.arc(p,f,x,g,C,1-b),1===d&&(e=Gm(g)*v+p,a=Um(g)*m+f),i=Gm(C)*v+p,n=Um(C)*m+f;break;case Rm.R:e=i=o[d],a=n=o[d+1],t.rect(o[d++],o[d++],o[d++],o[d++]);break;case Rm.Z:t.closePath(),i=e,n=a}}}},Km.CMD=Rm;var Jm=2*Math.PI,Qm=2*Math.PI,tg=Km.CMD,eg=2*Math.PI,ag=1e-4,ig=[-1,-1,-1],ng=[-1,-1],rg=bv.prototype.getCanvasPattern,sg=Math.abs,og=new Km(!0);en.prototype={constructor:en,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var a,i=this.style,n=this.path||og,r=i.hasStroke(),s=i.hasFill(),o=i.fill,l=i.stroke,c=s&&!!o.colorStops,u=r&&!!l.colorStops,d=s&&!!o.image,h=r&&!!l.image;i.bind(t,this,e),this.setTransform(t),this.__dirty&&(c&&(a=a||this.getBoundingRect(),this._fillGradient=i.getGradient(t,o,a)),u&&(a=a||this.getBoundingRect(),this._strokeGradient=i.getGradient(t,l,a))),c?t.fillStyle=this._fillGradient:d&&(t.fillStyle=rg.call(o,t)),u?t.strokeStyle=this._strokeGradient:h&&(t.strokeStyle=rg.call(l,t));var p=i.lineDash,f=i.lineDashOffset,v=!!t.setLineDash,m=this.getGlobalScale();if(n.setScale(m[0],m[1],this.segmentIgnoreThreshold),this.__dirtyPath||p&&!v&&r?(n.beginPath(t),p&&!v&&(n.setLineDash(p),n.setLineDashOffset(f)),this.buildPath(n,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),s)if(null!=i.fillOpacity){var g=t.globalAlpha;t.globalAlpha=i.fillOpacity*i.opacity,n.fill(t),t.globalAlpha=g}else n.fill(t);p&&v&&(t.setLineDash(p),t.lineDashOffset=f),r&&(null!=i.strokeOpacity?(g=t.globalAlpha,t.globalAlpha=i.strokeOpacity*i.opacity,n.stroke(t),t.globalAlpha=g):n.stroke(t)),p&&v&&t.setLineDash([]),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(){},createPathProxy:function(){this.path=new Km},getBoundingRect:function(){var t=this._rect,e=this.style,a=!t;if(a){var i=this.path;i||(i=this.path=new Km),this.__dirtyPath&&(i.beginPath(),this.buildPath(i,this.shape,!1)),t=i.getBoundingRect()}if(this._rect=t,e.hasStroke()){var n=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||a){n.copy(t);var r=e.lineWidth,s=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(r=Math.max(r,this.strokeContainThreshold||4)),s>1e-10&&(n.width+=r/s,n.height+=r/s,n.x-=r/s/2,n.y-=r/s/2)}return n}return t},contain:function(t,e){var a=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),n=this.style;if(t=a[0],e=a[1],i.contain(t,e)){var r=this.path.data;if(n.hasStroke()){var s=n.lineWidth,o=n.strokeNoScale?this.getLineScale():1;if(o>1e-10&&(n.hasFill()||(s=Math.max(s,this.strokeContainThreshold)),tn(r,s/o,t,e)))return!0}if(n.hasFill())return Qi(r,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Oa.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var a=this.shape;if(a){if(C(t))for(var i in t)t.hasOwnProperty(i)&&(a[i]=t[i]);else a[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&sg(t[0]-1)>1e-10&&sg(t[3]-1)>1e-10?Math.sqrt(sg(t[0]*t[3]-t[2]*t[1])):1}},en.extend=function(t){var e=function(e){en.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var a=t.shape;if(a){this.shape=this.shape||{};var i=this.shape;for(var n in a)!i.hasOwnProperty(n)&&a.hasOwnProperty(n)&&(i[n]=a[n])}t.init&&t.init.call(this,e)};for(var a in d(e,en),t)"style"!==a&&"shape"!==a&&(e.prototype[a]=t[a]);return e},d(en,Oa);var lg=Km.CMD,cg=[[],[],[]],ug=Math.sqrt,dg=Math.atan2,hg=function(t,e){var a,i,n,r,s,o=t.data,l=lg.M,c=lg.C,u=lg.L,d=lg.R,h=lg.A,p=lg.Q;for(n=0,r=0;n<o.length;){switch(a=o[n++],r=n,i=0,a){case l:case u:i=1;break;case c:i=3;break;case p:i=2;break;case h:var f=e[4],v=e[5],m=ug(e[0]*e[0]+e[1]*e[1]),g=ug(e[2]*e[2]+e[3]*e[3]),y=dg(-e[1]/g,e[0]/m);o[n]*=m,o[n++]+=f,o[n]*=g,o[n++]+=v,o[n++]*=m,o[n++]*=g,o[n++]+=y,o[n++]+=y,r=n+=2;break;case d:_[0]=o[n++],_[1]=o[n++],st(_,_,e),o[r++]=_[0],o[r++]=_[1],_[0]+=o[n++],_[1]+=o[n++],st(_,_,e),o[r++]=_[0],o[r++]=_[1]}for(s=0;i>s;s++){var _;(_=cg[s])[0]=o[n++],_[1]=o[n++],st(_,_,e),o[r++]=_[0],o[r++]=_[1]}}},pg=Math.sqrt,fg=Math.sin,vg=Math.cos,mg=Math.PI,gg=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},yg=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(gg(t)*gg(e))},_g=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(yg(t,e))},bg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,xg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,wg=function(t){Oa.call(this,t)};wg.prototype={constructor:wg,type:"text",brush:function(t,e){var a=this.style;this.__dirty&&ca(a,!0),a.fill=a.stroke=a.shadowBlur=a.shadowColor=a.shadowOffsetX=a.shadowOffsetY=null;var i=a.text;return null!=i&&(i+=""),ka(i,a)?(this.setTransform(t),da(this,t,i,a,null,e),void this.restoreTransform(t)):void(t.__attrCachedBy=pv.NONE)},getBoundingRect:function(){var t=this.style;if(this.__dirty&&ca(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var a=Ge(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(a.x+=t.x||0,a.y+=t.y||0,wa(t.textStroke,t.textStrokeWidth)){var i=t.textStrokeWidth;a.x-=i/2,a.y-=i/2,a.width+=i,a.height+=i}this._rect=a}return this._rect}},d(wg,Oa);var Sg=en.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,a){a&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),Cg=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Ig=function(t){return Up.browser.ie&&Up.browser.version>=11?function(){var e,a=this.__clipPaths,i=this.style;if(a)for(var n=0;n<a.length;n++){var r=a[n],s=r&&r.shape,o=r&&r.type;if(s&&("sector"===o&&s.startAngle===s.endAngle||"rect"===o&&(!s.width||!s.height))){for(var l=0;l<Cg.length;l++)Cg[l][2]=i[Cg[l][0]],i[Cg[l][0]]=Cg[l][1];e=!0;break}}if(t.apply(this,arguments),e)for(l=0;l<Cg.length;l++)i[Cg[l][0]]=Cg[l][2]}:t},kg=en.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Ig(en.prototype.brush),buildPath:function(t,e){var a=e.cx,i=e.cy,n=Math.max(e.r0||0,0),r=Math.max(e.r,0),s=e.startAngle,o=e.endAngle,l=e.clockwise,c=Math.cos(s),u=Math.sin(s);t.moveTo(c*n+a,u*n+i),t.lineTo(c*r+a,u*r+i),t.arc(a,i,r,s,o,!l),t.lineTo(Math.cos(o)*n+a,Math.sin(o)*n+i),0!==n&&t.arc(a,i,n,o,s,l),t.closePath()}}),Og=en.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var a=e.cx,i=e.cy,n=2*Math.PI;t.moveTo(a+e.r,i),t.arc(a,i,e.r,0,n,!1),t.moveTo(a+e.r0,i),t.arc(a,i,e.r0,0,n,!0)}}),Tg=function(t,e){for(var a=t.length,i=[],n=0,r=1;a>r;r++)n+=at(t[r-1],t[r]);var s=n/2;for(s=a>s?a:s,r=0;s>r;r++){var o,l,c,u=r/(s-1)*(e?a:a-1),d=Math.floor(u),h=u-d,p=t[d%a];e?(o=t[(d-1+a)%a],l=t[(d+1)%a],c=t[(d+2)%a]):(o=t[0===d?d:d-1],l=t[d>a-2?a-1:d+1],c=t[d>a-3?a-1:d+2]);var f=h*h,v=h*f;i.push([cn(o[0],p[0],l[0],c[0],h,f,v),cn(o[1],p[1],l[1],c[1],h,f,v)])}return i},Pg=function(t,e,a,i){var n,r,s,o,l=[],c=[],u=[],d=[];if(i){s=[1/0,1/0],o=[-1/0,-1/0];for(var h=0,p=t.length;p>h;h++)ot(s,s,t[h]),lt(o,o,t[h]);ot(s,s,i[0]),lt(o,o,i[1])}for(h=0,p=t.length;p>h;h++){var f=t[h];if(a)n=t[h?h-1:p-1],r=t[(h+1)%p];else{if(0===h||h===p-1){l.push(H(t[h]));continue}n=t[h-1],r=t[h+1]}X(c,r,n),tt(c,c,e);var v=at(f,n),m=at(f,r),g=v+m;0!==g&&(v/=g,m/=g),tt(u,c,-v),tt(d,c,m);var y=G([],f,u),_=G([],f,d);i&&(lt(y,y,s),ot(y,y,o),lt(_,_,s),ot(_,_,o)),l.push(y),l.push(_)}return a&&l.push(l.shift()),l},Dg=en.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){un(t,e,!0)}}),Mg=en.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){un(t,e,!1)}}),Lg=Math.round,Eg={},Ag=en.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var a,i,n,r;this.subPixelOptimize?(hn(Eg,e,this.style),a=Eg.x,i=Eg.y,n=Eg.width,r=Eg.height,Eg.r=e.r,e=Eg):(a=e.x,i=e.y,n=e.width,r=e.height),e.r?la(t,e):t.rect(a,i,n,r),t.closePath()}}),jg={},$g=en.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var a,i,n,r;this.subPixelOptimize?(dn(jg,e,this.style),a=jg.x1,i=jg.y1,n=jg.x2,r=jg.y2):(a=e.x1,i=e.y1,n=e.x2,r=e.y2);var s=e.percent;0!==s&&(t.moveTo(a,i),1>s&&(n=a*(1-s)+n*s,r=i*(1-s)+r*s),t.lineTo(n,r))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),Ng=[],Vg=en.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var a=e.x1,i=e.y1,n=e.x2,r=e.y2,s=e.cpx1,o=e.cpy1,l=e.cpx2,c=e.cpy2,u=e.percent;0!==u&&(t.moveTo(a,i),null==l||null==c?(1>u&&(Ai(a,s,n,u,Ng),s=Ng[1],n=Ng[2],Ai(i,o,r,u,Ng),o=Ng[1],r=Ng[2]),t.quadraticCurveTo(s,o,n,r)):(1>u&&(Ti(a,s,l,n,u,Ng),s=Ng[1],l=Ng[2],n=Ng[3],Ti(i,o,c,r,u,Ng),o=Ng[1],c=Ng[2],r=Ng[3]),t.bezierCurveTo(s,o,l,c,n,r)))},pointAt:function(t){return fn(this.shape,t,!1)},tangentAt:function(t){var e=fn(this.shape,t,!0);return et(e,e)}}),Rg=en.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var a=e.cx,i=e.cy,n=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,o=e.clockwise,l=Math.cos(r),c=Math.sin(r);t.moveTo(l*n+a,c*n+i),t.arc(a,i,n,r,s,!o)}}),Fg=en.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,a=0;a<e.length;a++)t=t||e[a].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),a=0;a<t.length;a++)t[a].path||t[a].createPathProxy(),t[a].path.setScale(e[0],e[1],t[a].segmentIgnoreThreshold)},buildPath:function(t,e){for(var a=e.paths||[],i=0;i<a.length;i++)a[i].buildPath(t,a[i].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),en.prototype.getBoundingRect.call(this)}}),zg=function(t){this.colorStops=t||[]};zg.prototype={constructor:zg,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var Bg=function(t,e,a,i,n,r){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==a?1:a,this.y2=null==i?0:i,this.type="linear",this.global=r||!1,zg.call(this,n)};Bg.prototype={constructor:Bg},d(Bg,zg);var Zg=function(t,e,a,i,n){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==a?.5:a,this.type="radial",this.global=n||!1,zg.call(this,i)};Zg.prototype={constructor:Zg},d(Zg,zg),vn.prototype.incremental=!0,vn.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},vn.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},vn.prototype.addDisplayables=function(t,e){e=e||!1;for(var a=0;a<t.length;a++)this.addDisplayable(t[a],e)},vn.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},vn.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},vn.prototype.brush=function(t){for(var e=this._cursor;e<this._displayables.length;e++)(a=this._displayables[e]).beforeBrush&&a.beforeBrush(t),a.brush(t,e===this._cursor?null:this._displayables[e-1]),a.afterBrush&&a.afterBrush(t);for(this._cursor=e,e=0;e<this._temporaryDisplayables.length;e++){var a;(a=this._temporaryDisplayables[e]).beforeBrush&&a.beforeBrush(t),a.brush(t,0===e?null:this._temporaryDisplayables[e-1]),a.afterBrush&&a.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var Hg=[];vn.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Oe(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var a=this._displayables[e],i=a.getBoundingRect().clone();a.needLocalTransform()&&i.applyTransform(a.getLocalTransform(Hg)),t.union(i)}this._rect=t}return this._rect},vn.prototype.contain=function(t,e){var a=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(a[0],a[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(t,e))return!0;return!1},d(vn,Oa);var qg=Math.max,Gg=Math.min,Ug={},Xg=1,Wg={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Yg="emphasis",Kg="normal",Jg=1,Qg={},ty={},ey=ln,ay=pn,iy=R(),ny=0;yn("circle",Sg),yn("sector",kg),yn("ring",Og),yn("polygon",Dg),yn("polyline",Mg),yn("rect",Ag),yn("line",$g),yn("bezierCurve",Vg),yn("arc",Rg);var ry=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:Xg,CACHED_LABEL_STYLE_PROPERTIES:Wg,extendShape:mn,extendPath:gn,registerShape:yn,getShapeClass:_n,makePath:bn,makeImage:xn,mergePath:ey,resizePath:Sn,subPixelOptimizeLine:Cn,subPixelOptimizeRect:In,subPixelOptimize:ay,setElementHoverStyle:En,setHoverStyle:Rn,setAsHighDownDispatcher:Fn,isHighDownDispatcher:zn,getHighlightDigit:Bn,setLabelStyle:Zn,modifyLabelStyle:Hn,setTextStyle:qn,setText:Gn,getFont:Qn,updateProps:er,initProps:ar,getTransform:ir,applyTransform:nr,transformDirection:rr,groupTransition:sr,clipPointsByRect:or,clipRectByRect:lr,createIcon:cr,linePolygonIntersect:ur,lineLineIntersect:dr,Group:ov,Image:Ta,Text:wg,Circle:Sg,Sector:kg,Ring:Og,Polygon:Dg,Polyline:Mg,Rect:Ag,Line:$g,BezierCurve:Vg,Arc:Rg,IncrementalDisplayable:vn,CompoundPath:Fg,LinearGradient:Bg,RadialGradient:Zg,BoundingRect:Oe}),sy=["textStyle","color"],oy={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(sy):null)},getFont:function(){return Qn({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return Ge(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},ly=vm([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),cy={getItemStyle:function(t,e){var a=ly(this,t,e),i=this.getBorderLineDash();return i&&(a.lineDash=i),a},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},uy=h,dy=ci();fr.prototype={constructor:fr,init:null,mergeOption:function(t){r(this.option,t,!0)},get:function(t,e){return null==t?this.option:vr(this.option,this.parsePath(t),!e&&mr(this,t))},getShallow:function(t,e){var a=this.option,i=null==a?a:a[t],n=!e&&mr(this,t);return null==i&&n&&(i=n.getShallow(t)),i},getModel:function(t,e){var a;return new fr(null==t?this.option:vr(this.option,t=this.parsePath(t)),e=e||(a=mr(this,t))&&a.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(n(this.option))},setReadOnly:function(){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){dy(this).getParent=t},isAnimationEnabled:function(){if(!Up.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},gi(fr),yi(fr),uy(fr,gm),uy(fr,_m),uy(fr,oy),uy(fr,cy);var hy=0,py=1e-4,fy=9007199254740991,vy=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,my=(Object.freeze||Object)({linearMap:xr,parsePercent:wr,round:Sr,asc:Cr,getPrecision:Ir,getPrecisionSafe:kr,getPixelPrecision:Or,getPercentWithPrecision:Tr,MAX_SAFE_INTEGER:fy,remRadian:Pr,isRadianAroundZero:Dr,parseDate:Mr,quantity:Lr,quantityExponent:Er,nice:Ar,quantile:jr,reformIntervals:$r,isNumeric:Nr}),gy=E,yy=/([&<>"'])/g,_y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},by=["a","b","c","d","e","f","g"],xy=function(t,e){return"{"+t+(null==e?"":e)+"}"},wy=Je,Sy=(Object.freeze||Object)({addCommas:Vr,toCamelCase:Rr,normalizeCssArray:gy,encodeHTML:Fr,formatTpl:zr,formatTplSimple:Br,getTooltipMarker:Zr,formatTime:qr,capitalFirst:Gr,truncateText:wy,getTextBoundingRect:Ur,getTextRect:Xr,windowOpen:Wr}),Cy=f,Iy=["left","right","top","bottom","width","height"],ky=[["width","left","right"],["height","top","bottom"]],Oy=Yr,Ty=(b(Yr,"vertical"),b(Yr,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),Py=ci(),Dy=fr.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,a,i){fr.call(this,t,e,a,i),this.uid=gr("ec_cpt_model")},init:function(t,e,a){this.mergeDefaultAndTheme(t,a)},mergeDefaultAndTheme:function(t,e){var a=this.layoutMode,i=a?ts(t):{};r(t,e.getTheme().get(this.mainType)),r(t,this.getDefaultOption()),a&&Qr(t,i,a)},mergeOption:function(t){r(this.option,t,!0);var e=this.layoutMode;e&&Qr(this.option,t,e)},optionUpdated:function(){},getDefaultOption:function(){var t=Py(this);if(!t.defaultOption){for(var e=[],a=this.constructor;a;){var i=a.prototype.defaultOption;i&&e.push(i),a=a.superClass}for(var n={},s=e.length-1;s>=0;s--)n=r(n,e[s],!0);t.defaultOption=n}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});xi(Dy,{registerWhenExtend:!0}),yr(Dy),_r(Dy,as),h(Dy,Ty);var My="";"undefined"!=typeof navigator&&(My=navigator.platform||"");var Ly={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:My.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ey=ci(),Ay={clearColorPalette:function(){Ey(this).colorIdx=0,Ey(this).colorNameMap={}},getColorFromPalette:function(t,e,a){var i=Ey(e=e||this),n=i.colorIdx||0,r=i.colorNameMap=i.colorNameMap||{};if(r.hasOwnProperty(t))return r[t];var s=ti(this.get("color",!0)),o=this.get("colorLayer",!0),l=null!=a&&o?is(o,a):s;if((l=l||s)&&l.length){var c=l[n];return t&&(r[t]=c),i.colorIdx=(n+1)%l.length,c}}},jy="original",$y="arrayRows",Ny="objectRows",Vy="keyedColumns",Ry="unknown",Fy="typedArray",zy="column",By="row";ns.seriesDataToSource=function(t){return new ns({data:t,sourceFormat:k(t)?Fy:jy,fromDataset:!1})},yi(ns);var Zy={Must:1,Might:2,Not:3},Hy=ci(),qy="\0_ec_inner",Gy=fr.extend({init:function(t,e,a,i){a=a||{},this.option=null,this._theme=new fr(a),this._optionManager=i},setOption:function(t,e){A(!(qy in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,a=this._optionManager;if(!t||"recreate"===t){var i=a.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(i)):bs.call(this,i),e=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var n=a.getTimelineOption(this);n&&(this.mergeOption(n),e=!0)}if(!t||"recreate"===t||"media"===t){var r=a.getMediaOption(this,this._api);r.length&&f(r,(function(t){this.mergeOption(t,e=!0)}),this)}return e},mergeOption:function(t){function e(e,n){var r=ti(t[e]),s=ni(i.get(e),r);ri(s),f(s,(function(t){var a=t.option;C(a)&&(t.keyInfo.mainType=e,t.keyInfo.subType=ws(e,a,t.exist))}));var l=xs(i,n);a[e]=[],i.set(e,[]),f(s,(function(t,n){var r=t.exist,s=t.option;if(A(C(s)||r,"Empty component definition"),s){var c=Dy.getClass(e,t.keyInfo.subType,!0);if(r&&r.constructor===c)r.name=t.keyInfo.name,r.mergeOption(s,this),r.optionUpdated(s,!1);else{var u=o({dependentModels:l,componentIndex:n},t.keyInfo);o(r=new c(s,this,this,u),u),r.init(s,this,this,u),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);i.get(e)[n]=r,a[e][n]=r.option}),this),"series"===e&&Ss(this,i.get("series"))}var a=this.option,i=this._componentsMap,s=[];os(this),f(t,(function(t,e){null!=t&&(Dy.hasClass(e)?e&&s.push(e):a[e]=null==a[e]?n(t):r(a[e],t,!0))})),Dy.topologicalTravel(s,Dy.getAllClassMainTypes(),e,this),this._seriesIndicesMap=R(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=n(this.option);return f(t,(function(e,a){if(Dy.hasClass(a)){for(var i=(e=ti(e)).length-1;i>=0;i--)oi(e[i])&&e.splice(i,1);t[a]=e}})),delete t[qy],t},getTheme:function(){return this._theme},getComponent:function(t,e){var a=this._componentsMap.get(t);return a?a[e||0]:void 0},queryComponents:function(t){var e=t.mainType;if(!e)return[];var a,i=t.index,n=t.id,r=t.name,s=this._componentsMap.get(e);if(!s||!s.length)return[];if(null!=i)x(i)||(i=[i]),a=g(v(i,(function(t){return s[t]})),(function(t){return!!t}));else if(null!=n){var o=x(n);a=g(s,(function(t){return o&&u(n,t.id)>=0||!o&&t.id===n}))}else if(null!=r){var l=x(r);a=g(s,(function(t){return l&&u(r,t.name)>=0||!l&&t.name===r}))}else a=s.slice();return Cs(a,t)},findComponents:function(t){function e(t){var e=n+"Index",a=n+"Id",i=n+"Name";return!t||null==t[e]&&null==t[a]&&null==t[i]?null:{mainType:n,index:t[e],id:t[a],name:t[i]}}function a(e){return t.filter?g(e,t.filter):e}var i=t.query,n=t.mainType,r=e(i);return a(Cs(r?this.queryComponents(r):this._componentsMap.get(n),t))},eachComponent:function(t,e,a){var i=this._componentsMap;"function"==typeof t?(a=e,e=t,i.each((function(t,i){f(t,(function(t,n){e.call(a,i,t,n)}))}))):S(t)?f(i.get(t),e,a):C(t)&&f(this.findComponents(t),e,a)},getSeriesByName:function(t){return g(this._componentsMap.get("series"),(function(e){return e.name===t}))},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){return g(this._componentsMap.get("series"),(function(e){return e.subType===t}))},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){Is(this),f(this._seriesIndices,(function(a){var i=this._componentsMap.get("series")[a];t.call(e,i,a)}),this)},eachRawSeries:function(t,e){f(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,a){Is(this),f(this._seriesIndices,(function(i){var n=this._componentsMap.get("series")[i];n.subType===t&&e.call(a,n,i)}),this)},eachRawSeriesByType:function(t,e,a){return f(this.getSeriesByType(t),e,a)},isSeriesFiltered:function(t){return Is(this),null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){Is(this),Ss(this,g(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;Ss(this,e.get("series"));var a=[];e.each((function(t,e){a.push(e)})),Dy.topologicalTravel(a,Dy.getAllClassMainTypes(),(function(a){f(e.get(a),(function(e){("series"!==a||!ys(e,t))&&e.restoreData()}))}))}});h(Gy,Ay);var Uy=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],Xy={};Os.prototype={constructor:Os,create:function(t,e){var a=[];f(Xy,(function(i){var n=i.create(t,e);a=a.concat(n||[])})),this._coordinateSystems=a},update:function(t,e){f(this._coordinateSystems,(function(a){a.update&&a.update(t,e)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Os.register=function(t,e){Xy[t]=e},Os.get=function(t){return Xy[t]};var Wy=f,Yy=n,Ky=v,Jy=r,Qy=/^(min|max)?(.+)$/;Ts.prototype={constructor:Ts,setOption:function(t,e){t&&f(ti(t.series),(function(t){t&&t.data&&k(t.data)&&$(t.data)})),t=Yy(t);var a=this._optionBackup,i=Ps.call(this,t,e,!a);this._newBaseOption=i.baseOption,a?(Es(a.baseOption,i.baseOption),i.timelineOptions.length&&(a.timelineOptions=i.timelineOptions),i.mediaList.length&&(a.mediaList=i.mediaList),i.mediaDefault&&(a.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=Ky(e.timelineOptions,Yy),this._mediaList=Ky(e.mediaList,Yy),this._mediaDefault=Yy(e.mediaDefault),this._currentMediaIndices=[],Yy(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,a=this._timelineOptions;if(a.length){var i=t.getComponent("timeline");i&&(e=Yy(a[i.getCurrentIndex()],!0))}return e},getMediaOption:function(){var t=this._api.getWidth(),e=this._api.getHeight(),a=this._mediaList,i=this._mediaDefault,n=[],r=[];if(!a.length&&!i)return r;for(var s=0,o=a.length;o>s;s++)Ds(a[s].query,t,e)&&n.push(s);return!n.length&&i&&(n=[-1]),n.length&&!Ls(n,this._currentMediaIndices)&&(r=Ky(n,(function(t){return Yy(-1===t?i.option:a[t].option)}))),this._currentMediaIndices=n,r}};var t_=f,e_=C,a_=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],i_=function(t,e){t_(Fs(t.series),(function(t){e_(t)&&Rs(t)}));var a=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&a.push("valueAxis","categoryAxis","logAxis","timeAxis"),t_(a,(function(e){t_(Fs(t[e]),(function(t){t&&(Ns(t,"axisLabel"),Ns(t.axisPointer,"label"))}))})),t_(Fs(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;Ns(e,"axisLabel"),Ns(e&&e.axisPointer,"label")})),t_(Fs(t.calendar),(function(t){js(t,"itemStyle"),Ns(t,"dayLabel"),Ns(t,"monthLabel"),Ns(t,"yearLabel")})),t_(Fs(t.radar),(function(t){Ns(t,"name")})),t_(Fs(t.geo),(function(t){e_(t)&&(Vs(t),t_(Fs(t.regions),(function(t){Vs(t)})))})),t_(Fs(t.timeline),(function(t){Vs(t),js(t,"label"),js(t,"itemStyle"),js(t,"controlStyle",!0);var e=t.data;x(e)&&f(e,(function(t){C(t)&&(js(t,"label"),js(t,"itemStyle"))}))})),t_(Fs(t.toolbox),(function(t){js(t,"iconStyle"),t_(t.feature,(function(t){js(t,"iconStyle")}))})),Ns(zs(t.axisPointer),"label"),Ns(zs(t.tooltip).axisPointer,"label")},n_=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],r_=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],s_=function(t,e){i_(t,e),t.series=ti(t.series),f(t.series,(function(t){if(C(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e)null!=t.clockWise&&(t.clockwise=t.clockWise);else if("gauge"===e){var a=Bs(t,"pointer.color");null!=a&&Zs(t,"itemStyle.color",a)}Hs(t)}})),t.dataRange&&(t.visualMap=t.dataRange),f(r_,(function(e){var a=t[e];a&&(x(a)||(a=[a]),f(a,(function(t){Hs(t)})))}))},o_=function(t){var e=R();t.eachSeries((function(t){var a=t.get("stack");if(a){var i=e.get(a)||e.set(a,[]),n=t.getData(),r={stackResultDimension:n.getCalculationInfo("stackResultDimension"),stackedOverDimension:n.getCalculationInfo("stackedOverDimension"),stackedDimension:n.getCalculationInfo("stackedDimension"),stackedByDimension:n.getCalculationInfo("stackedByDimension"),isStackedByIndex:n.getCalculationInfo("isStackedByIndex"),data:n,seriesModel:t};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;i.length&&n.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(r)}})),e.each(qs)},l_=Gs.prototype;l_.pure=!1,l_.persistent=!0,l_.getSource=function(){return this._source};var c_={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:Ws},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],a=this._data,i=0;i<a.length;i++){var n=a[i];e.push(n?n[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Us,getItem:Xs,appendData:Ws},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],a=this._source.dimensionsDefine,i=0;i<a.length;i++){var n=this._data[a[i].name];e.push(n?n[t]:null)}return e},appendData:function(t){var e=this._data;f(t,(function(t,a){for(var i=e[a]||(e[a]=[]),n=0;n<(t||[]).length;n++)i.push(t[n])}))}},original:{count:Us,getItem:Xs,appendData:Ws},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var a=this._dimSize*t,i=0;i<this._dimSize;i++)e[i]=this._data[a+i];return e},appendData:function(t){Hp&&A(k(t),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},u_={arrayRows:Ys,objectRows:function(t,e,a,i){return null!=a?t[i]:t},keyedColumns:Ys,original:function(t,e,a){var i=ai(t);return null!=a&&i instanceof Array?i[a]:i},typedArray:Ys},d_={arrayRows:Ks,objectRows:function(t,e){return Js(t[e],this._dimensionInfos[e])},keyedColumns:Ks,original:function(t,e,a,i){var n=t&&(null==t.value?t:t.value);return!this._rawData.pure&&ii(t)&&(this.hasItemOption=!0),Js(n instanceof Array?n[i]:n,this._dimensionInfos[e])},typedArray:function(t,e,a,i){return t[i]}},h_=/\{@(.+?)\}/g,p_={getDataParams:function(t,e){var a=this.getData(e),i=this.getRawValue(t,e),n=a.getRawIndex(t),r=a.getName(t),s=a.getRawDataItem(t),o=a.getItemVisual(t,"color"),l=a.getItemVisual(t,"borderColor"),c=this.ecModel.getComponent("tooltip"),u=fi(c&&c.get("renderMode")),d=this.mainType,h="series"===d,p=a.userOutput;return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:r,dataIndex:n,data:s,dataType:e,value:i,color:o,borderColor:l,dimensionNames:p?p.dimensionNames:null,encode:p?p.encode:null,marker:Zr({color:o,renderMode:u}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,a,i,n){e=e||"normal";var r=this.getData(a),s=r.getItemModel(t),o=this.getDataParams(t,a);null!=i&&o.value instanceof Array&&(o.value=o.value[i]);var l=s.get("normal"===e?[n||"label","formatter"]:[e,n||"label","formatter"]);return"function"==typeof l?(o.status=e,o.dimensionIndex=i,l(o)):"string"==typeof l?zr(l,o).replace(h_,(function(e,a){var i=a.length;return"["===a.charAt(0)&&"]"===a.charAt(i-1)&&(a=+a.slice(1,i-1)),Qs(r,t,a)})):void 0},getRawValue:function(t,e){return Qs(this.getData(e),t)},formatTooltip:function(){}},f_=ao.prototype;f_.perform=function(t){function e(t){return!(t>=1)&&(t=1),t}var a,i=this._upstream,n=t&&t.skip;if(this._dirty&&i){var r=this.context;r.data=r.outputData=i.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(a=this._plan(this.context));var s,o=e(this._modBy),l=this._modDataCount||0,c=e(t&&t.modBy),u=t&&t.modDataCount||0;(o!==c||l!==u)&&(a="reset"),(this._dirty||"reset"===a)&&(this._dirty=!1,s=no(this,n)),this._modBy=c,this._modDataCount=u;var d=t&&t.step;if(i?(Hp&&A(null!=i._outputDueEnd),this._dueEnd=i._outputDueEnd):(Hp&&A(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var h=this._dueIndex,p=Math.min(null!=d?this._dueIndex+d:1/0,this._dueEnd);if(!n&&(s||p>h)){var f=this._progress;if(x(f))for(var v=0;v<f.length;v++)io(this,f[v],h,p,c,u);else io(this,f,h,p,c,u)}this._dueIndex=p;var m=null!=this._settedOutputEnd?this._settedOutputEnd:p;Hp&&A(m>=this._outputDueEnd),this._outputDueEnd=m}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var v_=function(){function t(){return a>i?i++:null}function e(){var t=i%s*n+Math.ceil(i/s),e=i>=a?null:r>t?t:i;return i++,e}var a,i,n,r,s,o={reset:function(l,c,u,d){i=l,a=c,n=u,r=d,s=Math.ceil(r/n),o.next=n>1&&r>0?e:t}};return o}();f_.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},f_.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},f_.pipe=function(t){Hp&&A(t&&!t._disposed&&t!==this),(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},f_.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},f_.getUpstream=function(){return this._upstream},f_.getDownstream=function(){return this._downstream},f_.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var m_=ci(),g_=Dy.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(t,e,a){this.seriesIndex=this.componentIndex,this.dataTask=eo({count:oo,reset:lo}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,a),ls(this);var i=this.getInitialData(t,a);uo(i,this),this.dataTask.context.data=i,Hp&&A(i,"getInitialData returned invalid data."),m_(this).dataBeforeProcessed=i,ro(this)},mergeDefaultAndTheme:function(t,e){var a=this.layoutMode,i=a?ts(t):{},n=this.subType;Dy.hasClass(n)&&(n+="Series"),r(t,e.getTheme().get(this.subType)),r(t,this.getDefaultOption()),ei(t,"label",["show"]),this.fillDataTextStyle(t.data),a&&Qr(t,i,a)},mergeOption:function(t,e){t=r(this.option,t,!0),this.fillDataTextStyle(t.data);var a=this.layoutMode;a&&Qr(this.option,t,a),ls(this);var i=this.getInitialData(t,e);uo(i,this),this.dataTask.dirty(),this.dataTask.context.data=i,m_(this).dataBeforeProcessed=i,ro(this)},fillDataTextStyle:function(t){if(t&&!k(t))for(var e=["show"],a=0;a<t.length;a++)t[a]&&t[a].label&&ei(t[a],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=po(this);if(e){var a=e.context.data;return null==t?a:a.getLinkedData(t)}return m_(this).data},setData:function(t){var e=po(this);if(e){var a=e.context;a.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),a.outputData=t,e!==this.dataTask&&(a.data=t)}m_(this).data=t},getSource:function(){return ss(this)},getRawData:function(){return m_(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,a,i){function n(a){function n(t,a){var n=d.getDimensionInfo(a);if(n&&!1!==n.otherDims.tooltip){var h=n.type,p="sub"+s.seriesIndex+"at"+u,f=Zr({color:y,type:"subItem",renderMode:i,markerId:p}),v="string"==typeof f?f:f.content,m=(r?v+Fr(n.displayName||"-")+": ":"")+Fr("ordinal"===h?t+"":"time"===h?e?"":qr("yyyy/MM/dd hh:mm:ss",t):Vr(t));m&&o.push(m),l&&(c[p]=y,++u)}}var r=m(a,(function(t,e,a){var i=d.getDimensionInfo(a);return t|(i&&!1!==i.tooltip&&null!=i.displayName)}),0),o=[];h.length?f(h,(function(e){n(Qs(d,t,e),e)})):f(a,n);var p=r?l?"\n":"<br/>":"",v=p+o.join(p||", ");return{renderMode:i,content:v,style:c}}function r(t){return{renderMode:i,content:Fr(Vr(t)),style:c}}var s=this,o="html"===(i=i||"html")?"<br/>":"\n",l="richText"===i,c={},u=0,d=this.getData(),h=d.mapDimension("defaultedTooltip",!0),p=h.length,v=this.getRawValue(t),g=x(v),y=d.getItemVisual(t,"color");C(y)&&y.colorStops&&(y=(y.colorStops[0]||{}).color),y=y||"transparent";var _=(p>1||g&&!p?n(v):r(p?Qs(d,t,h[0]):g?v[0]:v)).content,b=s.seriesIndex+"at"+u,w=Zr({color:y,type:"item",renderMode:i,markerId:b});c[b]=y,++u;var S=d.getName(t),I=this.name;si(this)||(I=""),I=I?Fr(I)+(e?": ":o):"";var k="string"==typeof w?w:w.content;return{html:e?k+I+_:I+k+(S?Fr(S)+": "+_:_),markers:c}},isAnimationEnabled:function(){if(Up.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,a){var i=this.ecModel,n=Ay.getColorFromPalette.call(this,t,e,a);return n||(n=i.getColorFromPalette(t,e,a)),n},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});h(g_,p_),h(g_,Ay);var y_=function(){this.group=new ov,this.uid=gr("viewComponent")};y_.prototype={constructor:y_,init:function(){},render:function(){},dispose:function(){},filterForExposedEvent:null};var __=y_.prototype;__.updateView=__.updateLayout=__.updateVisual=function(){},gi(y_),xi(y_,{registerWhenExtend:!0});var b_=function(){var t=ci();return function(e){var a=t(e),i=e.pipelineContext,n=a.large,r=a.progressiveRender,s=a.large=i&&i.large,o=a.progressiveRender=i&&i.progressiveRender;return!!(n^s||r^o)&&"reset"}},x_=ci(),w_=b_();fo.prototype={type:"chart",init:function(){},render:function(){},highlight:function(t,e,a,i){mo(t.getData(),i,"emphasis")},downplay:function(t,e,a,i){mo(t.getData(),i,"normal")},remove:function(){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var S_=fo.prototype;S_.updateView=S_.updateLayout=S_.updateVisual=function(t,e,a,i){this.render(t,e,a,i)},gi(fo,["dispose"]),xi(fo,{registerWhenExtend:!0}),fo.markUpdateMethod=function(t,e){x_(t).updateMethod=e};var C_={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},I_="\0__throttleOriginMethod",k_="\0__throttleRate",O_="\0__throttleType",T_={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var a=t.getData(),i=(t.visualColorAccessPath||"itemStyle.color").split("."),n=t.get(i),r=!w(n)||n instanceof zg?null:n;(!n||r)&&(n=t.getColorFromPalette(t.name,null,e.getSeriesCount())),a.setVisual("color",n);var s=(t.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),o=t.get(s);if(a.setVisual("borderColor",o),!e.isSeriesFiltered(t)){r&&a.each((function(e){a.setItemVisual(e,"color",r(t.getDataParams(e)))}));var l=function(t,e){var a=t.getItemModel(e),n=a.get(i,!0),r=a.get(s,!0);null!=n&&t.setItemVisual(e,"color",n),null!=r&&t.setItemVisual(e,"borderColor",r)};return{dataEach:a.hasItemOption?l:null}}}},P_={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},D_=function(t,e){function a(t,e){if("string"!=typeof t)return t;var a=t;return f(e,(function(t,e){a=a.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),a}function i(t){var e=s.get(t);if(null==e){for(var a=t.split("."),i=P_.aria,n=0;n<a.length;++n)i=i[a[n]];return i}return e}function n(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}function r(t){return P_.series.typeNames[t]||"自定义图"}var s=e.getModel("aria");if(s.get("show")){if(s.get("description"))return void t.setAttribute("aria-label",s.get("description"));var o=0;e.eachSeries((function(){++o}),this);var l,c=s.get("data.maxCount")||10,u=s.get("series.maxCount")||10,d=Math.min(o,u);if(!(1>o)){var h=n();l=h?a(i("general.withTitle"),{title:h}):i("general.withoutTitle");var p=[];l+=a(i(o>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:o}),e.eachSeries((function(t,e){if(d>e){var n,s=t.get("name"),l="series."+(o>1?"multiple":"single")+".";n=a(n=i(s?l+"withName":l+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:r(t.subType)});var u=t.getData();window.data=u,n+=u.count()>c?a(i("data.partialData"),{displayCnt:c}):i("data.allData");for(var h=[],f=0;f<u.count();f++)if(c>f){var v=u.getName(f),m=Qs(u,f);h.push(a(i(v?"data.withName":"data.withoutName"),{name:v,value:m}))}n+=h.join(i("data.separator.middle"))+i("data.separator.end"),p.push(n)}})),l+=p.join(i("series.multiple.separator.middle"))+i("series.multiple.separator.end"),t.setAttribute("aria-label",l)}}},M_=Math.PI,L_=function(t,e){l(e=e||{},{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var a=new ov,i=new Ag({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});a.add(i);var n=e.fontSize+" sans-serif",r=new Ag({style:{fill:"none",text:e.text,font:n,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});if(a.add(r),e.showSpinner){var s=new Rg({shape:{startAngle:-M_/2,endAngle:-M_/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001});s.animateShape(!0).when(1e3,{endAngle:3*M_/2}).start("circularInOut"),s.animateShape(!0).when(1e3,{startAngle:3*M_/2}).delay(300).start("circularInOut"),a.add(s)}return a.resize=function(){var a=qe(e.text,n),o=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*o-(e.showSpinner&&a?10:0)-a)/2-(e.showSpinner?0:a/2),c=t.getHeight()/2;e.showSpinner&&s.setShape({cx:l,cy:c}),r.setShape({x:l-o,y:c-o,width:2*o,height:2*o}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},a.resize(),a},E_=wo.prototype;E_.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},E_.getPerformArgs=function(t,e){if(t.__pipeline){var a=this._pipelineMap.get(t.__pipeline.id),i=a.context,n=!e&&a.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>a.blockIndex?a.step:null,r=i&&i.modDataCount;return{step:n,modBy:null!=r?Math.ceil(r/n):null,modDataCount:r}}},E_.getPipeline=function(t){return this._pipelineMap.get(t)},E_.updateStreamModes=function(t,e){var a=this._pipelineMap.get(t.uid),i=t.getData().count(),n=a.progressiveEnabled&&e.incrementalPrepareRender&&i>=a.threshold,r=t.get("large")&&i>=t.get("largeThreshold"),s="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=a.context={progressiveRender:n,modDataCount:s,large:r}},E_.restorePipelines=function(t){var e=this,a=e._pipelineMap=R();t.eachSeries((function(t){var i=t.getProgressive(),n=t.uid;a.set(n,{id:n,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),Ao(e,t,t.dataTask)}))},E_.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),a=this.api;f(this._allHandlers,(function(i){var n=t.get(i.uid)||t.set(i.uid,[]);i.reset&&Co(this,i,n,e,a),i.overallReset&&Io(this,i,n,e,a)}),this)},E_.prepareView=function(t,e,a,i){var n=t.renderTask,r=n.context;r.model=e,r.ecModel=a,r.api=i,n.__block=!t.incrementalPrepareRender,Ao(this,e,n)},E_.performDataProcessorTasks=function(t,e){So(this,this._dataProcessorHandlers,t,e,{block:!0})},E_.performVisualTasks=function(t,e,a){So(this,this._visualHandlers,t,e,a)},E_.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e|=t.dataTask.perform()})),this.unfinished|=e},E_.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))};var A_=E_.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},j_=Lo(0);wo.wrapStageHandler=function(t,e){return w(t)&&(t={overallReset:t,seriesType:jo(t)}),t.uid=gr("stageHandler"),e&&(t.visualType=e),t};var $_,N_={},V_={};$o(N_,Gy),$o(V_,ks),N_.eachSeriesByType=N_.eachRawSeriesByType=function(t){$_=t},N_.eachComponent=function(t){"series"===t.mainType&&t.subType&&($_=t.subType)};var R_=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],F_={color:R_,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],R_]},z_="#eee",B_=function(){return{axisLine:{lineStyle:{color:z_}},axisTick:{lineStyle:{color:z_}},axisLabel:{textStyle:{color:z_}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:z_}}}},Z_=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],H_={color:Z_,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:z_},crossStyle:{color:z_},label:{color:"#000"}}},legend:{textStyle:{color:z_}},textStyle:{color:z_},title:{textStyle:{color:z_}},toolbox:{iconStyle:{normal:{borderColor:z_}}},dataZoom:{textStyle:{color:z_}},visualMap:{textStyle:{color:z_}},timeline:{lineStyle:{color:z_},itemStyle:{normal:{color:Z_[1]}},label:{normal:{textStyle:{color:z_}}},controlStyle:{normal:{color:z_,borderColor:z_}}},timeAxis:B_(),logAxis:B_(),valueAxis:B_(),categoryAxis:B_(),line:{symbol:"circle"},graph:{color:Z_},gauge:{title:{textStyle:{color:z_}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};H_.categoryAxis.splitLine.show=!1,Dy.extend({type:"dataset",defaultOption:{seriesLayoutBy:zy,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){rs(this)}}),y_.extend({type:"dataset"});var q_=en.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var a=.5522848,i=e.cx,n=e.cy,r=e.rx,s=e.ry,o=r*a,l=s*a;t.moveTo(i-r,n),t.bezierCurveTo(i-r,n-l,i-o,n-s,i,n-s),t.bezierCurveTo(i+o,n-s,i+r,n-l,i+r,n),t.bezierCurveTo(i+r,n+l,i+o,n+s,i,n+s),t.bezierCurveTo(i-o,n+s,i-r,n+l,i-r,n),t.closePath()}}),G_=/[\s,]+/;Vo.prototype.parse=function(t,e){e=e||{};var a=No(t);if(!a)throw new Error("Illegal svg");var i=new ov;this._root=i;var n,r,s=a.getAttribute("viewBox")||"",o=parseFloat(a.getAttribute("width")||e.width),l=parseFloat(a.getAttribute("height")||e.height);isNaN(o)&&(o=null),isNaN(l)&&(l=null),Bo(a,i,null,!0);for(var c=a.firstChild;c;)this._parseNode(c,i),c=c.nextSibling;if(s){var u=j(s).split(G_);u.length>=4&&(n={x:parseFloat(u[0]||0),y:parseFloat(u[1]||0),width:parseFloat(u[2]),height:parseFloat(u[3])})}if(n&&null!=o&&null!=l&&(r=Go(n,o,l),!e.ignoreViewBox)){var d=i;(i=new ov).add(d),d.scale=r.scale.slice(),d.position=r.position.slice()}return e.ignoreRootClip||null==o||null==l||i.setClipPath(new Ag({shape:{x:0,y:0,width:o,height:l}})),{root:i,width:o,height:l,viewBoxRect:n,viewBoxTransform:r}},Vo.prototype._parseNode=function(t,e){var a,i,n=t.nodeName.toLowerCase();if("defs"===n?this._isDefine=!0:"text"===n&&(this._isText=!0),this._isDefine){if(i=X_[n]){var r=i.call(this,t),s=t.getAttribute("id");s&&(this._defs[s]=r)}}else(i=U_[n])&&(a=i.call(this,t,e),e.add(a));for(var o=t.firstChild;o;)1===o.nodeType&&this._parseNode(o,a),3===o.nodeType&&this._isText&&this._parseText(o,a),o=o.nextSibling;"defs"===n?this._isDefine=!1:"text"===n&&(this._isText=!1)},Vo.prototype._parseText=function(t,e){if(1===t.nodeType){var a=t.getAttribute("dx")||0,i=t.getAttribute("dy")||0;this._textX+=parseFloat(a),this._textY+=parseFloat(i)}var n=new wg({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});Fo(e,n),Bo(t,n,this._defs);var r=n.style.fontSize;r&&9>r&&(n.style.fontSize=9,n.scale=n.scale||[1,1],n.scale[0]*=r/9,n.scale[1]*=r/9);var s=n.getBoundingRect();return this._textX+=s.width,e.add(n),n};var U_={g:function(t,e){var a=new ov;return Fo(e,a),Bo(t,a,this._defs),a},rect:function(t,e){var a=new Ag;return Fo(e,a),Bo(t,a,this._defs),a.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),a},circle:function(t,e){var a=new Sg;return Fo(e,a),Bo(t,a,this._defs),a.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),a},line:function(t,e){var a=new $g;return Fo(e,a),Bo(t,a,this._defs),a.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),a},ellipse:function(t,e){var a=new q_;return Fo(e,a),Bo(t,a,this._defs),a.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),a},polygon:function(t,e){var a=t.getAttribute("points");a&&(a=zo(a));var i=new Dg({shape:{points:a||[]}});return Fo(e,i),Bo(t,i,this._defs),i},polyline:function(t,e){var a=new en;Fo(e,a),Bo(t,a,this._defs);var i=t.getAttribute("points");return i&&(i=zo(i)),new Mg({shape:{points:i||[]}})},image:function(t,e){var a=new Ta;return Fo(e,a),Bo(t,a,this._defs),a.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),a},text:function(t,e){var a=t.getAttribute("x")||0,i=t.getAttribute("y")||0,n=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0;this._textX=parseFloat(a)+parseFloat(n),this._textY=parseFloat(i)+parseFloat(r);var s=new ov;return Fo(e,s),Bo(t,s,this._defs),s},tspan:function(t,e){var a=t.getAttribute("x"),i=t.getAttribute("y");null!=a&&(this._textX=parseFloat(a)),null!=i&&(this._textY=parseFloat(i));var n=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0,s=new ov;return Fo(e,s),Bo(t,s,this._defs),this._textX+=n,this._textY+=r,s},path:function(t,e){var a=sn(t.getAttribute("d")||"");return Fo(e,a),Bo(t,a,this._defs),a}},X_={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),a=parseInt(t.getAttribute("y1")||0,10),i=parseInt(t.getAttribute("x2")||10,10),n=parseInt(t.getAttribute("y2")||0,10),r=new Bg(e,a,i,n);return Ro(t,r),r},radialgradient:function(){}},W_={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},Y_=/url\(\s*#(.*?)\)/,K_=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,J_=/([^\s:;]+)\s*:\s*([^:;]+)/g,Q_=R(),tb={registerMap:function(t,e,a){var i;return x(e)?i=e:e.svg?i=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(a=e.specialAreas,e=e.geoJson),i=[{type:"geoJSON",source:e,specialAreas:a}]),f(i,(function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON");var a=eb[e];Hp&&A(a,"Illegal map type: "+e),a(t)})),Q_.set(t,i)},retrieveMap:function(t){return Q_.get(t)}},eb={geoJSON:function(t){var e=t.source;t.geoJSON=S(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=No(t.source)}},ab=A,ib=f,nb=w,rb=C,sb=Dy.parseClassType,ob="4.9.0",lb={zrender:"4.3.2"},cb=1,ub=1e3,db=900,hb=1e3,pb=2e3,fb=3e3,vb={PROCESSOR:{FILTER:ub,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:hb,PROGRESSIVE_LAYOUT:1100,GLOBAL:pb,CHART:fb,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},mb="__flagInMainProcess",gb="__optionUpdated",yb=/^[a-zA-Z0-9_]+$/;Xo.prototype.on=Uo("on",!0),Xo.prototype.off=Uo("off",!0),Xo.prototype.one=Uo("one",!0),h(Xo,mf);var _b=Wo.prototype;_b._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[gb]){var e=this[gb].silent;this[mb]=!0,Ko(this),bb.update.call(this),this[mb]=!1,this[gb]=!1,el.call(this,e),al.call(this,e)}else if(t.unfinished){var a=cb,i=this._model,n=this._api;t.unfinished=!1;do{var r=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),Qo(this,i),t.performVisualTasks(i),ll(this,this._model,n,"remain"),a-=+new Date-r}while(a>0&&t.unfinished);t.unfinished||this._zr.flush()}}},_b.getDom=function(){return this._dom},_b.getZr=function(){return this._zr},_b.setOption=function(t,e,a){if(Hp&&ab(!this[mb],"`setOption` should not be called during main process."),this._disposed)ul(this.id);else{var i;if(rb(e)&&(a=e.lazyUpdate,i=e.silent,e=e.notMerge),this[mb]=!0,!this._model||e){var n=new Ts(this._api),r=this._theme,s=this._model=new Gy;s.scheduler=this._scheduler,s.init(null,null,r,n)}this._model.setOption(t,Ib),a?(this[gb]={silent:i},this[mb]=!1):(Ko(this),bb.update.call(this),this._zr.flush(),this[gb]=!1,this[mb]=!1,el.call(this,i),al.call(this,i))}},_b.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},_b.getModel=function(){return this._model},_b.getOption=function(){return this._model&&this._model.getOption()},_b.getWidth=function(){return this._zr.getWidth()},_b.getHeight=function(){return this._zr.getHeight()},_b.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},_b.getRenderedCanvas=function(t){if(Up.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},_b.getSvgDataURL=function(){if(Up.svgSupported){var t=this._zr;return f(t.storage.getDisplayList(),(function(t){t.stopAnimation(!0)})),t.painter.toDataURL()}},_b.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,a=this._model,i=[],n=this;ib(e,(function(t){a.eachComponent({mainType:t},(function(t){var e=n._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)}))}));var r="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return ib(i,(function(t){t.group.ignore=!1})),r}ul(this.id)},_b.getConnectedDataURL=function(t){if(this._disposed)ul(this.id);else if(Up.canvasSupported){var e="svg"===t.type,a=this.group,i=Math.min,r=Math.max,s=1/0;if(Mb[a]){var o=s,l=s,c=-s,u=-s,d=[],h=t&&t.pixelRatio||1;f(Db,(function(s){if(s.group===a){var h=e?s.getZr().painter.getSvgDom().innerHTML:s.getRenderedCanvas(n(t)),p=s.getDom().getBoundingClientRect();o=i(p.left,o),l=i(p.top,l),c=r(p.right,c),u=r(p.bottom,u),d.push({dom:h,left:p.left,top:p.top})}}));var p=(c*=h)-(o*=h),v=(u*=h)-(l*=h),m=rf(),g=Wa(m,{renderer:e?"svg":"canvas"});if(g.resize({width:p,height:v}),e){var y="";return ib(d,(function(t){var e=t.left-o,a=t.top-l;y+='<g transform="translate('+e+","+a+')">'+t.dom+"</g>"})),g.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&g.painter.setBackgroundColor(t.connectedBackgroundColor),g.refreshImmediately(),g.painter.toDataURL()}return t.connectedBackgroundColor&&g.add(new Ag({shape:{x:0,y:0,width:p,height:v},style:{fill:t.connectedBackgroundColor}})),ib(d,(function(t){var e=new Ta({style:{x:t.left*h-o,y:t.top*h-l,image:t.dom}});g.add(e)})),g.refreshImmediately(),m.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},_b.convertToPixel=b(Yo,"convertToPixel"),_b.convertFromPixel=b(Yo,"convertFromPixel"),_b.containPixel=function(t,e){var a;if(!this._disposed)return f(t=ui(this._model,t),(function(t,i){i.indexOf("Models")>=0&&f(t,(function(t){var n=t.coordinateSystem;if(n&&n.containPoint)a|=!!n.containPoint(e);else if("seriesModels"===i){var r=this._chartsMap[t.__viewId];r&&r.containPoint?a|=r.containPoint(e,t):Hp&&console.warn(i+": "+(r?"The found component do not support containPoint.":"No view mapping to the found component."))}else Hp&&console.warn(i+": containPoint is not supported")}),this)}),this),!!a;ul(this.id)},_b.getVisual=function(t,e){var a=(t=ui(this._model,t,{defaultMainType:"series"})).seriesModel;Hp&&(a||console.warn("There is no specified seires model"));var i=a.getData(),n=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?i.indexOfRawIndex(t.dataIndex):null;return null!=n?i.getItemVisual(n,e):i.getVisual(e)},_b.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},_b.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var bb={prepareAndUpdate:function(t){Ko(this),bb.update.call(this,t)},update:function(t){var e=this._model,a=this._api,i=this._zr,n=this._coordSysMgr,r=this._scheduler;if(e){r.restoreData(e,t),r.performSeriesTasks(e),n.create(e,a),r.performDataProcessorTasks(e,t),Qo(this,e),n.update(e,a),rl(e),r.performVisualTasks(e,t),sl(this,e,a,t);var s=e.get("backgroundColor")||"transparent";if(Up.canvasSupported)i.setBackgroundColor(s);else{var o=ee(s);s=ue(o,"rgb"),0===o[3]&&(s="transparent")}cl(e,a)}},updateTransform:function(t){var e=this._model,a=this,i=this._api;if(e){var n=[];e.eachComponent((function(r,s){var o=a.getViewOfComponentModel(s);if(o&&o.__alive)if(o.updateTransform){var l=o.updateTransform(s,e,i,t);l&&l.update&&n.push(o)}else n.push(o)}));var r=R();e.eachSeries((function(n){var s=a._chartsMap[n.__viewId];if(s.updateTransform){var o=s.updateTransform(n,e,i,t);o&&o.update&&r.set(n.uid,1)}else r.set(n.uid,1)})),rl(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:r}),ll(a,e,i,t,r),cl(e,this._api)}},updateView:function(t){var e=this._model;e&&(fo.markUpdateMethod(t,"updateView"),rl(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),sl(this,this._model,this._api,t),cl(e,this._api))},updateVisual:function(t){bb.update.call(this,t)},updateLayout:function(t){bb.update.call(this,t)}};_b.resize=function(t){if(Hp&&ab(!this[mb],"`resize` should not be called during main process."),this._disposed)ul(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var a=e.resetOption("media"),i=t&&t.silent;this[mb]=!0,a&&Ko(this),bb.update.call(this),this[mb]=!1,el.call(this,i),al.call(this,i)}}},_b.showLoading=function(t,e){if(this._disposed)ul(this.id);else if(rb(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Pb[t]){var a=Pb[t](this._api,e),i=this._zr;this._loadingFX=a,i.add(a)}else Hp&&console.warn("Loading effects "+t+" not exists.")},_b.hideLoading=function(){return this._disposed?void ul(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),void(this._loadingFX=null))},_b.makeActionFromEvent=function(t){var e=o({},t);return e.type=Sb[t.type],e},_b.dispatchAction=function(t,e){if(this._disposed)ul(this.id);else if(rb(e)||(e={silent:!!e}),wb[t.type]&&this._model){if(this[mb])return void this._pendingActions.push(t);tl.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&Up.browser.weChat&&this._throttledZrFlush(),el.call(this,e.silent),al.call(this,e.silent)}},_b.appendData=function(t){if(this._disposed)ul(this.id);else{var e=t.seriesIndex,a=this.getModel().getSeriesByIndex(e);Hp&&ab(t.data&&a),a.appendData(t),this._scheduler.unfinished=!0}},_b.on=Uo("on",!1),_b.off=Uo("off",!1),_b.one=Uo("one",!1);var xb=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];_b._initEvents=function(){ib(xb,(function(t){var e=function(e){var a,i=this.getModel(),n=e.target,r="globalout"===t;if(r)a={};else if(n&&null!=n.dataIndex){var s=n.dataModel||i.getSeriesByIndex(n.seriesIndex);a=s&&s.getDataParams(n.dataIndex,n.dataType,n)||{}}else n&&n.eventData&&(a=o({},n.eventData));if(a){var l=a.componentType,c=a.componentIndex;("markLine"===l||"markPoint"===l||"markArea"===l)&&(l="series",c=a.seriesIndex);var u=l&&null!=c&&i.getComponent(l,c),d=u&&this["series"===u.mainType?"_chartsMap":"_componentsMap"][u.__viewId];Hp&&(r||u&&d||console.warn("model or view can not be found by params")),a.event=e,a.type=t,this._ecEventProcessor.eventInfo={targetEl:n,packedEvent:a,model:u,view:d},this.trigger(t,a)}};e.zrEventfulCallAtLast=!0,this._zr.on(t,e,this)}),this),ib(Sb,(function(t,e){this._messageCenter.on(e,(function(t){this.trigger(e,t)}),this)}),this)},_b.isDisposed=function(){return this._disposed},_b.clear=function(){return this._disposed?void ul(this.id):void this.setOption({series:[]},!0)},_b.dispose=function(){if(this._disposed)ul(this.id);else{this._disposed=!0,hi(this.getDom(),Ab,"");var t=this._api,e=this._model;ib(this._componentsViews,(function(a){a.dispose(e,t)})),ib(this._chartsViews,(function(a){a.dispose(e,t)})),this._zr.dispose(),delete Db[this.id]}},h(Wo,mf),vl.prototype={constructor:vl,normalizeQuery:function(t){var e={},a={},i={};if(S(t)){var n=sb(t);e.mainType=n.main||null,e.subType=n.sub||null}else{var r=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};f(t,(function(t,n){for(var o=!1,l=0;l<r.length;l++){var c=r[l],u=n.lastIndexOf(c);if(u>0&&u===n.length-c.length){var d=n.slice(0,u);"data"!==d&&(e.mainType=d,e[c.toLowerCase()]=t,o=!0)}}s.hasOwnProperty(n)&&(a[n]=t,o=!0),o||(i[n]=t)}))}return{cptQuery:e,dataQuery:a,otherQuery:i}},filter:function(t,e){function a(t,e,a,i){return null==t[a]||e[i||a]===t[a]}var i=this.eventInfo;if(!i)return!0;var n=i.targetEl,r=i.packedEvent,s=i.model,o=i.view;if(!s||!o)return!0;var l=e.cptQuery,c=e.dataQuery;return a(l,s,"mainType")&&a(l,s,"subType")&&a(l,s,"index","componentIndex")&&a(l,s,"name")&&a(l,s,"id")&&a(c,r,"name")&&a(c,r,"dataIndex")&&a(c,r,"dataType")&&(!o.filterForExposedEvent||o.filterForExposedEvent(t,e.otherQuery,n,r))},afterTrigger:function(){this.eventInfo=null}};var wb={},Sb={},Cb=[],Ib=[],kb=[],Ob=[],Tb={},Pb={},Db={},Mb={},Lb=new Date-0,Eb=new Date-0,Ab="_echarts_instance_",jb=_l;Ml(pb,T_),Cl(s_),Il(db,o_),El("default",L_),Ol({type:"highlight",event:"highlight",update:"highlight"},z),Ol({type:"downplay",event:"downplay",update:"downplay"},z),Sl("light",F_),Sl("dark",H_);var $b={};Bl.prototype={constructor:Bl,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,a={},i=[],n=[];for(Zl(t,{},i,"_oldKeyGetter",this),Zl(e,a,n,"_newKeyGetter",this),r=0;r<t.length;r++)null!=(o=a[s=i[r]])?((c=o.length)?(1===c&&(a[s]=null),o=o.shift()):a[s]=null,this._update&&this._update(o,r)):this._remove&&this._remove(r);for(var r=0;r<n.length;r++){var s=n[r];if(a.hasOwnProperty(s)){var o;if(null==(o=a[s]))continue;if(o.length)for(var l=0,c=o.length;c>l;l++)this._add&&this._add(o[l]);else this._add&&this._add(o)}}}};var Nb=R(["tooltip","label","itemName","itemId","seriesName"]),Vb=C,Rb="undefined",Fb=-1,zb="e\0\0",Bb={float:typeof Float64Array===Rb?Array:Float64Array,int:typeof Int32Array===Rb?Array:Int32Array,ordinal:Array,number:Array,time:Array},Zb=typeof Uint32Array===Rb?Array:Uint32Array,Hb=typeof Int32Array===Rb?Array:Int32Array,qb=typeof Uint16Array===Rb?Array:Uint16Array,Gb=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Ub=["_extent","_approximateExtent","_rawExtent"],Xb=function(t,e){t=t||["x","y"];for(var a={},i=[],n={},r=0;r<t.length;r++){var s=t[r];S(s)?s=new Xl({name:s}):s instanceof Xl||(s=new Xl(s));var o=s.name;s.type=s.type||"float",s.coordDim||(s.coordDim=o,s.coordDimIndex=0),s.otherDims=s.otherDims||{},i.push(o),a[o]=s,s.index=r,s.createInvertedIndices&&(n[o]=[])}this.dimensions=i,this._dimensionInfos=a,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=Hl(this),this._invertedIndicesMap=n,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},Wb=Xb.prototype;Wb.type="list",Wb.hasItemOption=!0,Wb.getDimension=function(t){return("number"==typeof t||!isNaN(t)&&!this._dimensionInfos.hasOwnProperty(t))&&(t=this.dimensions[t]),t},Wb.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},Wb.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Wb.mapDimension=function(t,e){var a=this._dimensionsSummary;if(null==e)return a.encodeFirstDimNotExtra[t];var i=a.encode[t];return!0===e?(i||[]).slice():i&&i[e]},Wb.initData=function(t,e,a){var i=ns.isInstance(t)||p(t);if(i&&(t=new Gs(t,this.dimensions.length)),Hp&&!i&&("function"!=typeof t.getItem||"function"!=typeof t.count))throw new Error("Inavlid data provider.");this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},a||(this.hasItemOption=!1),this.defaultDimValueGetter=d_[this._rawData.getSource().sourceFormat],this._dimValueGetter=a=a||this.defaultDimValueGetter,this._dimValueGetterArrayRows=d_.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},Wb.getProvider=function(){return this._rawData},Wb.appendData=function(t){Hp&&A(!this._indices,"appendData can only be called on raw data.");var e=this._rawData,a=this.count();e.appendData(t);var i=e.count();e.persistent||(i+=a),this._initDataFromProvider(a,i)},Wb.appendValues=function(t,e){for(var a=this._chunkSize,i=this._storage,n=this.dimensions,r=n.length,s=this._rawExtent,o=this.count(),l=o+Math.max(t.length,e?e.length:0),c=this._chunkCount,u=0;r>u;u++)s[g=n[u]]||(s[g]=lc()),i[g]||(i[g]=[]),Jl(i,this._dimensionInfos[g],a,c,l),this._chunkCount=i[g].length;for(var d=new Array(r),h=o;l>h;h++){for(var p=h-o,f=Math.floor(h/a),v=h%a,m=0;r>m;m++){var g=n[m],y=this._dimValueGetterArrayRows(t[p]||d,g,p,m);i[g][f][v]=y;var _=s[g];y<_[0]&&(_[0]=y),y>_[1]&&(_[1]=y)}e&&(this._nameList[h]=e[p])}this._rawCount=this._count=l,this._extent={},Ql(this)},Wb._initDataFromProvider=function(t,e){if(!(t>=e)){for(var a,i=this._chunkSize,n=this._rawData,r=this._storage,s=this.dimensions,o=s.length,l=this._dimensionInfos,c=this._nameList,u=this._idList,d=this._rawExtent,h=this._nameRepeatCount={},p=this._chunkCount,f=0;o>f;f++){d[x=s[f]]||(d[x]=lc());var v=l[x];0===v.otherDims.itemName&&(a=this._nameDimIdx=f),0===v.otherDims.itemId&&(this._idDimIdx=f),r[x]||(r[x]=[]),Jl(r,v,i,p,e),this._chunkCount=r[x].length}for(var m=new Array(o),g=t;e>g;g++){m=n.getItem(g,m);for(var y=Math.floor(g/i),_=g%i,b=0;o>b;b++){var x,w=r[x=s[b]][y],S=this._dimValueGetter(m,x,g,b);w[_]=S;var C=d[x];S<C[0]&&(C[0]=S),S>C[1]&&(C[1]=S)}if(!n.pure){var I=c[g];if(m&&null==I)if(null!=m.name)c[g]=I=m.name;else if(null!=a){var k=s[a],O=r[k][y];if(O){I=O[_];var T=l[k].ordinalMeta;T&&T.categories.length&&(I=T.categories[I])}}var P=null==m?null:m.id;null==P&&null!=I&&(h[I]=h[I]||0,P=I,h[I]>0&&(P+="__ec__"+h[I]),h[I]++),null!=P&&(u[g]=P)}}!n.persistent&&n.clean&&n.clean(),this._rawCount=this._count=e,this._extent={},Ql(this)}},Wb.count=function(){return this._count},Wb.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,a=this._count;if(e===Array){n=new e(a);for(var i=0;a>i;i++)n[i]=t[i]}else n=new e(t.buffer,0,a)}else{var n=new(e=Wl(this))(this.count());for(i=0;i<n.length;i++)n[i]=i}return n},Wb.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var a=this._storage;if(!a[t])return NaN;e=this.getRawIndex(e);var i=Math.floor(e/this._chunkSize),n=e%this._chunkSize;return a[t][i][n]},Wb.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var a=this._storage[t];if(!a)return NaN;var i=Math.floor(e/this._chunkSize),n=e%this._chunkSize;return a[i][n]},Wb._getFast=function(t,e){var a=Math.floor(e/this._chunkSize),i=e%this._chunkSize;return this._storage[t][a][i]},Wb.getValues=function(t,e){var a=[];x(t)||(e=t,t=this.dimensions);for(var i=0,n=t.length;n>i;i++)a.push(this.get(t[i],e));return a},Wb.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,a=0,i=e.length;i>a;a++)if(isNaN(this.get(e[a],t)))return!1;return!0},Wb.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],a=lc();if(!e)return a;var i,n=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var r=(i=a)[0],s=i[1],o=0;n>o;o++){var l=this._getFast(t,this.getRawIndex(o));r>l&&(r=l),l>s&&(s=l)}return i=[r,s],this._extent[t]=i,i},Wb.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},Wb.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},Wb.getCalculationInfo=function(t){return this._calculationInfo[t]},Wb.setCalculationInfo=function(t,e){Vb(t)?o(this._calculationInfo,t):this._calculationInfo[t]=e},Wb.getSum=function(t){var e=0;if(this._storage[t])for(var a=0,i=this.count();i>a;a++){var n=this.get(t,a);isNaN(n)||(e+=n)}return e},Wb.getMedian=function(t){var e=[];this.each(t,(function(t){isNaN(t)||e.push(t)}));var a=[].concat(e).sort((function(t,e){return t-e})),i=this.count();return 0===i?0:i%2==1?a[(i-1)/2]:(a[i/2]+a[i/2-1])/2},Wb.rawIndexOf=function(t,e){var a=t&&this._invertedIndicesMap[t];if(Hp&&!a)throw new Error("Do not supported yet");var i=a[e];return null==i||isNaN(i)?Fb:i},Wb.indexOfName=function(t){for(var e=0,a=this.count();a>e;e++)if(this.getName(e)===t)return e;return-1},Wb.indexOfRawIndex=function(t){if(t>=this._rawCount||0>t)return-1;if(!this._indices)return t;var e=this._indices,a=e[t];if(null!=a&&a<this._count&&a===t)return t;for(var i=0,n=this._count-1;n>=i;){var r=(i+n)/2|0;if(e[r]<t)i=r+1;else{if(!(e[r]>t))return r;n=r-1}}return-1},Wb.indicesOfNearest=function(t,e,a){var i=[];if(!this._storage[t])return i;null==a&&(a=1/0);for(var n=1/0,r=-1,s=0,o=0,l=this.count();l>o;o++){var c=e-this.get(t,o),u=Math.abs(c);a>=u&&((n>u||u===n&&c>=0&&0>r)&&(n=u,r=c,s=0),c===r&&(i[s++]=o))}return i.length=s,i},Wb.getRawIndex=ec,Wb.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],a=0;a<this.dimensions.length;a++){var i=this.dimensions[a];e.push(this.get(i,t))}return e},Wb.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||tc(this,this._nameDimIdx,e)||""},Wb.getId=function(t){return ic(this,this.getRawIndex(t))},Wb.each=function(t,e,a,i){if(this._count){"function"==typeof t&&(i=a,a=e,e=t,t=[]),a=a||i||this,t=v(nc(t),this.getDimension,this),Hp&&rc(this,t);for(var n=t.length,r=0;r<this.count();r++)switch(n){case 0:e.call(a,r);break;case 1:e.call(a,this.get(t[0],r),r);break;case 2:e.call(a,this.get(t[0],r),this.get(t[1],r),r);break;default:for(var s=0,o=[];n>s;s++)o[s]=this.get(t[s],r);o[s]=r,e.apply(a,o)}}},Wb.filterSelf=function(t,e,a,i){if(this._count){"function"==typeof t&&(i=a,a=e,e=t,t=[]),a=a||i||this,t=v(nc(t),this.getDimension,this),Hp&&rc(this,t);for(var n=this.count(),r=new(Wl(this))(n),s=[],o=t.length,l=0,c=t[0],u=0;n>u;u++){var d,h=this.getRawIndex(u);if(0===o)d=e.call(a,u);else if(1===o){var p=this._getFast(c,h);d=e.call(a,p,u)}else{for(var f=0;o>f;f++)s[f]=this._getFast(c,h);s[f]=u,d=e.apply(a,s)}d&&(r[l++]=h)}return n>l&&(this._indices=r),this._count=l,this._extent={},this.getRawIndex=this._indices?ac:ec,this}},Wb.selectRange=function(t){if(this._count){var e=[];for(var a in t)t.hasOwnProperty(a)&&e.push(a);Hp&&rc(this,e);var i=e.length;if(i){var n=this.count(),r=new(Wl(this))(n),s=0,o=e[0],l=t[o][0],c=t[o][1],u=!1;if(!this._indices){var d=0;if(1===i){for(var h=this._storage[e[0]],p=0;p<this._chunkCount;p++)for(var f=h[p],v=Math.min(this._count-p*this._chunkSize,this._chunkSize),m=0;v>m;m++)((x=f[m])>=l&&c>=x||isNaN(x))&&(r[s++]=d),d++;u=!0}else if(2===i){h=this._storage[o];var g=this._storage[e[1]],y=t[e[1]][0],_=t[e[1]][1];for(p=0;p<this._chunkCount;p++){f=h[p];var b=g[p];for(v=Math.min(this._count-p*this._chunkSize,this._chunkSize),m=0;v>m;m++){var x=f[m],w=b[m];(x>=l&&c>=x||isNaN(x))&&(w>=y&&_>=w||isNaN(w))&&(r[s++]=d),d++}}u=!0}}if(!u)if(1===i)for(m=0;n>m;m++){var S=this.getRawIndex(m);((x=this._getFast(o,S))>=l&&c>=x||isNaN(x))&&(r[s++]=S)}else for(m=0;n>m;m++){var C=!0;for(S=this.getRawIndex(m),p=0;i>p;p++){var I=e[p];((x=this._getFast(a,S))<t[I][0]||x>t[I][1])&&(C=!1)}C&&(r[s++]=this.getRawIndex(m))}return n>s&&(this._indices=r),this._count=s,this._extent={},this.getRawIndex=this._indices?ac:ec,this}}},Wb.mapArray=function(t,e,a,i){"function"==typeof t&&(i=a,a=e,e=t,t=[]),a=a||i||this;var n=[];return this.each(t,(function(){n.push(e&&e.apply(this,arguments))}),a),n},Wb.map=function(t,e,a,i){a=a||i||this,t=v(nc(t),this.getDimension,this),Hp&&rc(this,t);var n=sc(this,t);n._indices=this._indices,n.getRawIndex=n._indices?ac:ec;for(var r=n._storage,s=[],o=this._chunkSize,l=t.length,c=this.count(),u=[],d=n._rawExtent,h=0;c>h;h++){for(var p=0;l>p;p++)u[p]=this.get(t[p],h);u[l]=h;var f=e&&e.apply(a,u);if(null!=f){"object"!=typeof f&&(s[0]=f,f=s);for(var m=this.getRawIndex(h),g=Math.floor(m/o),y=m%o,_=0;_<f.length;_++){var b=t[_],x=f[_],w=d[b],S=r[b];S&&(S[g][y]=x),x<w[0]&&(w[0]=x),x>w[1]&&(w[1]=x)}}}return n},Wb.downSample=function(t,e,a,i){for(var n=sc(this,[t]),r=n._storage,s=[],o=Math.floor(1/e),l=r[t],c=this.count(),u=this._chunkSize,d=n._rawExtent[t],h=new(Wl(this))(c),p=0,f=0;c>f;f+=o){o>c-f&&(o=c-f,s.length=o);for(var v=0;o>v;v++){var m=this.getRawIndex(f+v),g=Math.floor(m/u),y=m%u;s[v]=l[g][y]}var _=a(s),b=this.getRawIndex(Math.min(f+i(s,_)||0,c-1)),x=b%u;l[Math.floor(b/u)][x]=_,_<d[0]&&(d[0]=_),_>d[1]&&(d[1]=_),h[p++]=b}return n._count=p,n._indices=h,n.getRawIndex=ac,n},Wb.getItemModel=function(t){var e=this.hostModel;return new fr(this.getRawDataItem(t),e,e&&e.ecModel)},Wb.diff=function(t){var e=this;return new Bl(t?t.getIndices():[],this.getIndices(),(function(e){return ic(t,e)}),(function(t){return ic(e,t)}))},Wb.getVisual=function(t){var e=this._visual;return e&&e[t]},Wb.setVisual=function(t,e){if(Vb(t))for(var a in t)t.hasOwnProperty(a)&&this.setVisual(a,t[a]);else this._visual=this._visual||{},this._visual[t]=e},Wb.setLayout=function(t,e){if(Vb(t))for(var a in t)t.hasOwnProperty(a)&&this.setLayout(a,t[a]);else this._layout[t]=e},Wb.getLayout=function(t){return this._layout[t]},Wb.getItemLayout=function(t){return this._itemLayouts[t]},Wb.setItemLayout=function(t,e,a){this._itemLayouts[t]=a?o(this._itemLayouts[t]||{},e):e},Wb.clearItemLayouts=function(){this._itemLayouts.length=0},Wb.getItemVisual=function(t,e,a){var i=this._itemVisuals[t],n=i&&i[e];return null!=n||a?n:this.getVisual(e)},Wb.setItemVisual=function(t,e,a){var i=this._itemVisuals[t]||{},n=this.hasItemVisual;if(this._itemVisuals[t]=i,Vb(e))for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r],n[r]=!0);else i[e]=a,n[e]=!0},Wb.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var Yb=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};Wb.setItemGraphicEl=function(t,e){var a=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=a&&a.seriesIndex,"group"===e.type&&e.traverse(Yb,e)),this._graphicEls[t]=e},Wb.getItemGraphicEl=function(t){return this._graphicEls[t]},Wb.eachItemGraphicEl=function(t,e){f(this._graphicEls,(function(a,i){a&&t&&t.call(e,a,i)}))},Wb.cloneShallow=function(t){if(!t){var e=v(this.dimensions,this.getDimensionInfo,this);t=new Xb(e,this.hostModel)}if(t._storage=this._storage,Kl(t,this),this._indices){var a=this._indices.constructor;t._indices=new a(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?ac:ec,t},Wb.wrapMethod=function(t,e){var a=this[t];"function"==typeof a&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=a.apply(this,arguments);return e.apply(this,[t].concat(L(arguments)))})},Wb.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Wb.CHANGABLE_METHODS=["filterSelf","selectRange"];var Kb=function(t,e){return cc((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})},Jb={cartesian2d:function(t,e,a,i){var n=t.getReferringComponents("xAxis")[0],r=t.getReferringComponents("yAxis")[0];if(Hp){if(!n)throw new Error('xAxis "'+P(t.get("xAxisIndex"),t.get("xAxisId"),0)+'" not found');if(!r)throw new Error('yAxis "'+P(t.get("xAxisIndex"),t.get("yAxisId"),0)+'" not found')}e.coordSysDims=["x","y"],a.set("x",n),a.set("y",r),fc(n)&&(i.set("x",n),e.firstCategoryDimIndex=0),fc(r)&&(i.set("y",r),e.firstCategoryDimIndex,e.firstCategoryDimIndex=1)},singleAxis:function(t,e,a,i){var n=t.getReferringComponents("singleAxis")[0];if(Hp&&!n)throw new Error("singleAxis should be specified.");e.coordSysDims=["single"],a.set("single",n),fc(n)&&(i.set("single",n),e.firstCategoryDimIndex=0)},polar:function(t,e,a,i){var n=t.getReferringComponents("polar")[0],r=n.findAxisModel("radiusAxis"),s=n.findAxisModel("angleAxis");if(Hp){if(!s)throw new Error("angleAxis option not found");if(!r)throw new Error("radiusAxis option not found")}e.coordSysDims=["radius","angle"],a.set("radius",r),a.set("angle",s),fc(r)&&(i.set("radius",r),e.firstCategoryDimIndex=0),fc(s)&&(i.set("angle",s),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e){e.coordSysDims=["lng","lat"]},parallel:function(t,e,a,i){var n=t.ecModel,r=n.getComponent("parallel",t.get("parallelIndex")),s=e.coordSysDims=r.dimensions.slice();f(r.parallelAxisIndex,(function(t,r){var o=n.getComponent("parallelAxis",t),l=s[r];a.set(l,o),fc(o)&&null==e.firstCategoryDimIndex&&(i.set(l,o),e.firstCategoryDimIndex=r)}))}};xc.prototype.parse=function(t){return t},xc.prototype.getSetting=function(t){return this._setting[t]},xc.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},xc.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},xc.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},xc.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},xc.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},xc.prototype.getExtent=function(){return this._extent.slice()},xc.prototype.setExtent=function(t,e){var a=this._extent;isNaN(t)||(a[0]=t),isNaN(e)||(a[1]=e)},xc.prototype.isBlank=function(){return this._isBlank},xc.prototype.setBlank=function(t){this._isBlank=t},xc.prototype.getLabel=null,gi(xc),xi(xc,{registerWhenExtend:!0}),wc.createByAxisModel=function(t){var e=t.option,a=e.data,i=a&&v(a,Cc);return new wc({categories:i,needCollect:!i,deduplication:!1!==e.dedplication})};var Qb=wc.prototype;Qb.getOrdinal=function(t){return Sc(this).get(t)},Qb.parseAndCollect=function(t){var e,a=this._needCollect;if("string"!=typeof t&&!a)return t;if(a&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var i=Sc(this);return null==(e=i.get(t))&&(a?(e=this.categories.length,this.categories[e]=t,i.set(t,e)):e=NaN),e};var tx=xc.prototype,ex=xc.extend({type:"ordinal",init:function(t,e){(!t||x(t))&&(t=new wc({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),tx.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return tx.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(tx.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,a=e[0];a<=e[1];)t.push(a),a++;return t},getLabel:function(t){return this.isBlank()?void 0:this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:z,niceExtent:z});ex.create=function(){return new ex};var ax=Sr,ix=Sr,nx=xc.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var a=this._extent;isNaN(t)||(a[0]=parseFloat(t)),isNaN(e)||(a[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),nx.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=kc(t)},getTicks:function(t){var e=this._interval,a=this._extent,i=this._niceExtent,n=this._intervalPrecision,r=[];if(!e)return r;var s=1e4;a[0]<i[0]&&r.push(t?ix(i[0]-e,n):a[0]);for(var o=i[0];o<=i[1]&&(r.push(o),(o=ix(o+e,n))!==r[r.length-1]);)if(r.length>s)return[];var l=r.length?r[r.length-1]:i[1];return a[1]>l&&r.push(t?ix(l+e,n):a[1]),r},getMinorTicks:function(t){for(var e=this.getTicks(!0),a=[],i=this.getExtent(),n=1;n<e.length;n++){for(var r=e[n],s=e[n-1],o=0,l=[],c=(r-s)/t;t-1>o;){var u=Sr(s+(o+1)*c);u>i[0]&&u<i[1]&&l.push(u),o++}a.push(l)}return a},getLabel:function(t,e){if(null==t)return"";var a=e&&e.precision;return null==a?a=kr(t)||0:"auto"===a&&(a=this._intervalPrecision),Vr(t=ix(t,a,!0))},niceTicks:function(t,e,a){t=t||5;var i=this._extent,n=i[1]-i[0];if(isFinite(n)){0>n&&(n=-n,i.reverse());var r=Ic(i,t,e,a);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var a=e[0];t.fixMax||(e[1]+=a/2),e[0]-=a/2}else e[1]=1;var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var n=this._interval;t.fixMin||(e[0]=ix(Math.floor(e[0]/n)*n)),t.fixMax||(e[1]=ix(Math.ceil(e[1]/n)*n))}});nx.create=function(){return new nx};var rx="__ec_stack_",sx=.5,ox="undefined"!=typeof Float32Array?Float32Array:Array,lx={seriesType:"bar",plan:b_(),reset:function(t){function e(t,e){for(var a,h=t.count,p=new ox(2*h),f=new ox(2*h),v=new ox(h),m=[],g=[],y=0,_=0;null!=(a=t.next());)g[u]=e.get(o,a),g[1-u]=e.get(l,a),m=i.dataToPoint(g,null,m),f[y]=c?n.x+n.width:m[0],p[y++]=m[0],f[y]=c?m[1]:n.y+n.height,p[y++]=m[1],v[_++]=a;e.setLayout({largePoints:p,largeDataIndices:v,largeBackgroundPoints:f,barWidth:d,valueAxisStart:Rc(r,s,!1),backgroundStart:c?n.x:n.y,valueAxisHorizontal:c})}if(Nc(t)&&Vc(t)){var a=t.getData(),i=t.coordinateSystem,n=i.grid.getRect(),r=i.getBaseAxis(),s=i.getOtherAxis(r),o=a.mapDimension(s.dim),l=a.mapDimension(r.dim),c=s.isHorizontal(),u=c?0:1,d=jc(Ec([t]),r,t).width;return d>sx||(d=sx),{progress:e}}}},cx=nx.prototype,ux=Math.ceil,dx=Math.floor,hx=1e3,px=60*hx,fx=60*px,vx=24*fx,mx=function(t,e,a,i){for(;i>a;){var n=a+i>>>1;t[n][1]<e?a=n+1:i=n}return a},gx=nx.extend({type:"time",getLabel:function(t){var e=this._stepLvl,a=new Date(t);return qr(e[0],a,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=vx,e[1]+=vx),e[1]===-1/0&&1/0===e[0]){var a=new Date;e[1]=+new Date(a.getFullYear(),a.getMonth(),a.getDate()),e[0]=e[1]-vx}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=Sr(dx(e[0]/i)*i)),t.fixMax||(e[1]=Sr(ux(e[1]/i)*i))},niceTicks:function(t,e,a){t=t||10;var i=this._extent,n=i[1]-i[0],r=n/t;null!=e&&e>r&&(r=e),null!=a&&r>a&&(r=a);var s=yx.length,o=mx(yx,r,0,s),l=yx[Math.min(o,s-1)],c=l[1];"year"===l[0]&&(c*=Ar(n/c/t,!0));var u=this.getSetting("useUTC")?0:60*new Date(+i[0]||+i[1]).getTimezoneOffset()*1e3,d=[Math.round(ux((i[0]-u)/c)*c+u),Math.round(dx((i[1]-u)/c)*c+u)];Tc(d,i),this._stepLvl=l,this._interval=c,this._niceExtent=d},parse:function(t){return+Mr(t)}});f(["contain","normalize"],(function(t){gx.prototype[t]=function(e){return cx[t].call(this,this.parse(e))}}));var yx=[["hh:mm:ss",hx],["hh:mm:ss",5*hx],["hh:mm:ss",10*hx],["hh:mm:ss",15*hx],["hh:mm:ss",30*hx],["hh:mm\nMM-dd",px],["hh:mm\nMM-dd",5*px],["hh:mm\nMM-dd",10*px],["hh:mm\nMM-dd",15*px],["hh:mm\nMM-dd",30*px],["hh:mm\nMM-dd",fx],["hh:mm\nMM-dd",2*fx],["hh:mm\nMM-dd",6*fx],["hh:mm\nMM-dd",12*fx],["MM-dd\nyyyy",vx],["MM-dd\nyyyy",2*vx],["MM-dd\nyyyy",3*vx],["MM-dd\nyyyy",4*vx],["MM-dd\nyyyy",5*vx],["MM-dd\nyyyy",6*vx],["week",7*vx],["MM-dd\nyyyy",10*vx],["week",14*vx],["week",21*vx],["month",31*vx],["week",42*vx],["month",62*vx],["week",70*vx],["quarter",95*vx],["month",31*vx*4],["month",31*vx*5],["half-year",380*vx/2],["month",31*vx*8],["month",31*vx*10],["year",380*vx]];gx.create=function(t){return new gx({useUTC:t.ecModel.get("useUTC")})};var _x=xc.prototype,bx=nx.prototype,xx=kr,Sx=Sr,Cx=Math.floor,Ix=Math.ceil,kx=Math.pow,Ox=Math.log,Tx=xc.extend({type:"log",base:10,$constructor:function(){xc.apply(this,arguments),this._originalScale=new nx},getTicks:function(t){var e=this._originalScale,a=this._extent,i=e.getExtent();return v(bx.getTicks.call(this,t),(function(t){var n=Sr(kx(this.base,t));return n=t===a[0]&&e.__fixMin?Fc(n,i[0]):n,t===a[1]&&e.__fixMax?Fc(n,i[1]):n}),this)},getMinorTicks:bx.getMinorTicks,getLabel:bx.getLabel,scale:function(t){return t=_x.scale.call(this,t),kx(this.base,t)},setExtent:function(t,e){var a=this.base;t=Ox(t)/Ox(a),e=Ox(e)/Ox(a),bx.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=_x.getExtent.call(this);e[0]=kx(t,e[0]),e[1]=kx(t,e[1]);var a=this._originalScale,i=a.getExtent();return a.__fixMin&&(e[0]=Fc(e[0],i[0])),a.__fixMax&&(e[1]=Fc(e[1],i[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Ox(t[0])/Ox(e),t[1]=Ox(t[1])/Ox(e),_x.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,a=e[1]-e[0];if(!(1/0===a||0>=a)){var i=Lr(a);for(.5>=t/a*i&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var n=[Sr(Ix(e[0]/i)*i),Sr(Cx(e[1]/i)*i)];this._interval=i,this._niceExtent=n}},niceExtent:function(t){bx.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});f(["contain","normalize"],(function(t){Tx.prototype[t]=function(e){return e=Ox(e)/Ox(this.base),_x[t].call(this,e)}})),Tx.create=function(){return new Tx};var Px={getMin:function(t){var e=this.option,a=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=a&&"dataMin"!==a&&"function"!=typeof a&&!T(a)&&(a=this.axis.scale.parse(a)),a},getMax:function(t){var e=this.option,a=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=a&&"dataMax"!==a&&"function"!=typeof a&&!T(a)&&(a=this.axis.scale.parse(a)),a},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:z,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Dx=mn({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var a=e.cx,i=e.cy,n=e.width/2,r=e.height/2;t.moveTo(a,i-r),t.lineTo(a+n,i+r),t.lineTo(a-n,i+r),t.closePath()}}),Mx=mn({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var a=e.cx,i=e.cy,n=e.width/2,r=e.height/2;t.moveTo(a,i-r),t.lineTo(a+n,i),t.lineTo(a,i+r),t.lineTo(a-n,i),t.closePath()}}),Lx=mn({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var a=e.x,i=e.y,n=e.width/5*3,r=Math.max(n,e.height),s=n/2,o=s*s/(r-s),l=i-r+s+o,c=Math.asin(o/s),u=Math.cos(c)*s,d=Math.sin(c),h=Math.cos(c),p=.6*s,f=.7*s;t.moveTo(a-u,l+o),t.arc(a,l,s,Math.PI-c,2*Math.PI+c),t.bezierCurveTo(a+u-d*p,l+o+h*p,a,i-f,a,i),t.bezierCurveTo(a,i-f,a-u+d*p,l+o+h*p,a-u,l+o),t.closePath()}}),Ex=mn({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var a=e.height,i=e.width,n=e.x,r=e.y,s=i/3*2;t.moveTo(n,r),t.lineTo(n+s,r+a),t.lineTo(n,r+a/4*3),t.lineTo(n-s,r+a),t.lineTo(n,r),t.closePath()}}),Ax={line:function(t,e,a,i,n){n.x1=t,n.y1=e+i/2,n.x2=t+a,n.y2=e+i/2},rect:function(t,e,a,i,n){n.x=t,n.y=e,n.width=a,n.height=i},roundRect:function(t,e,a,i,n){n.x=t,n.y=e,n.width=a,n.height=i,n.r=Math.min(a,i)/4},square:function(t,e,a,i,n){var r=Math.min(a,i);n.x=t,n.y=e,n.width=r,n.height=r},circle:function(t,e,a,i,n){n.cx=t+a/2,n.cy=e+i/2,n.r=Math.min(a,i)/2},diamond:function(t,e,a,i,n){n.cx=t+a/2,n.cy=e+i/2,n.width=a,n.height=i},pin:function(t,e,a,i,n){n.x=t+a/2,n.y=e+i/2,n.width=a,n.height=i},arrow:function(t,e,a,i,n){n.x=t+a/2,n.y=e+i/2,n.width=a,n.height=i},triangle:function(t,e,a,i,n){n.cx=t+a/2,n.cy=e+i/2,n.width=a,n.height=i}},jx={};f({line:$g,rect:Ag,roundRect:Ag,square:Ag,circle:Sg,diamond:Mx,pin:Lx,arrow:Ex,triangle:Dx},(function(t,e){jx[e]=new t}));var $x=mn({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,a){var i=Ke(t,e,a),n=this.shape;return n&&"pin"===n.symbolType&&"inside"===e.textPosition&&(i.y=a.y+.4*a.height),i},buildPath:function(t,e,a){var i=e.symbolType;if("none"!==i){var n=jx[i];n||(n=jx[i="rect"]),Ax[i](e.x,e.y,e.width,e.height,n.shape),n.buildPath(t,n.shape,a)}}}),Nx={isDimensionStacked:mc,enableDataStack:vc,getStackedDimension:gc},Vx=(Object.freeze||Object)({createList:tu,getLayoutRect:Kr,dataStack:Nx,createScale:eu,mixinAxisModelCommonMethods:au,completeDimensions:cc,createDimensions:Kb,createSymbol:Qc}),Rx=1e-8;ru.prototype={constructor:ru,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,a=[e,e],i=[-e,-e],n=[],r=[],s=this.geometries,o=0;o<s.length;o++)"polygon"===s[o].type&&($i(s[o].exterior,n,r),ot(a,a,n),lt(i,i,r));return 0===o&&(a[0]=a[1]=i[0]=i[1]=0),this._rect=new Oe(a[0],a[1],i[0]-a[0],i[1]-a[1])},contain:function(t){var e=this.getBoundingRect(),a=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var i=0,n=a.length;n>i;i++)if("polygon"===a[i].type){var r=a[i].exterior,s=a[i].interiors;if(nu(r,t[0],t[1])){for(var o=0;o<(s?s.length:0);o++)if(nu(s[o]))continue t;return!0}}return!1},transformTo:function(t,e,a,i){var n=this.getBoundingRect(),r=n.width/n.height;a?i||(i=a/r):a=r*i;for(var s=new Oe(t,e,a,i),o=n.calculateTransform(s),l=this.geometries,c=0;c<l.length;c++)if("polygon"===l[c].type){for(var u=l[c].exterior,d=l[c].interiors,h=0;h<u.length;h++)st(u[h],u[h],o);for(var p=0;p<(d?d.length:0);p++)for(h=0;h<d[p].length;h++)st(d[p][h],d[p][h],o)}(n=this._rect).copy(s),this.center=[n.x+n.width/2,n.y+n.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new ru(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var Fx=function(t,e){return su(t),v(g(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var a=t.properties,i=t.geometry,n=i.coordinates,r=[];"Polygon"===i.type&&r.push({type:"polygon",exterior:n[0],interiors:n.slice(1)}),"MultiPolygon"===i.type&&f(n,(function(t){t[0]&&r.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}));var s=new ru(a[e||"name"],r,a.cp);return s.properties=a,s}))},zx=ci(),Bx=[0,1],Zx=function(t,e,a){this.dim=t,this.scale=e,this._extent=a||[0,0],this.inverse=!1,this.onBand=!1};Zx.prototype={constructor:Zx,contain:function(t){var e=this._extent,a=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=a&&i>=t},containData:function(t){return this.scale.contain(t)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return Or(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var a=this._extent;a[0]=t,a[1]=e},dataToCoord:function(t,e){var a=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&wu(a=a.slice(),i.count()),xr(t,Bx,a,e)},coordToData:function(t,e){var a=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&wu(a=a.slice(),i.count());var n=xr(t,a,Bx,e);return this.scale.scale(n)},pointToData:function(){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),a=v(cu(this,e).ticks,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this);return Su(this,a,e.get("alignWithLabel"),t.clamp),a},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");t>0&&100>t||(t=5);var e=v(this.scale.getMinorTicks(t),(function(t){return v(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return e},getViewLabels:function(){return lu(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),a=e[1]-e[0]+(this.onBand?1:0);0===a&&(a=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/a},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return yu(this)}};var Hx=Fx,qx={};f(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],(function(t){qx[t]=lf[t]}));var Gx={};f(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],(function(t){Gx[t]=ry[t]}));var Ux=function(t){this._axes={},this._dimList=[],this.name=t||""};Ux.prototype={constructor:Ux,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return v(this._dimList,Cu,this)},getAxesByScale:function(t){return t=t.toLowerCase(),g(this.getAxes(),(function(e){return e.scale.type===t}))},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var a=this._dimList,i=t instanceof Array?[]:{},n=0;n<a.length;n++){var r=a[n],s=this._axes[r];i[r]=s[e](t[r])}return i}},Iu.prototype={constructor:Iu,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),a=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&a.contain(a.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,a){var i=this.getAxis("x"),n=this.getAxis("y");return(a=a||[])[0]=i.toGlobalCoord(i.dataToCoord(t[0])),a[1]=n.toGlobalCoord(n.dataToCoord(t[1])),a},clampData:function(t,e){var a=this.getAxis("x").scale,i=this.getAxis("y").scale,n=a.getExtent(),r=i.getExtent(),s=a.parse(t[0]),o=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(n[0],n[1]),s),Math.max(n[0],n[1])),e[1]=Math.min(Math.max(Math.min(r[0],r[1]),o),Math.max(r[0],r[1])),e},pointToData:function(t,e){var a=this.getAxis("x"),i=this.getAxis("y");return(e=e||[])[0]=a.coordToData(a.toLocalCoord(t[0])),e[1]=i.coordToData(i.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),a=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]);return new Oe(a,i,Math.max(t[0],t[1])-a,Math.max(e[0],e[1])-i)}},d(Iu,Ux);var Xx=function(t,e,a,i,n){Zx.call(this,t,e,a),this.type=i||"value",this.position=n||"bottom"};Xx.prototype={constructor:Xx,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},d(Xx,Zx);var Wx={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Yx={};Yx.categoryAxis=r({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Wx),Yx.valueAxis=r({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},Wx),Yx.timeAxis=l({scale:!0,min:"dataMin",max:"dataMax"},Yx.valueAxis),Yx.logAxis=l({scale:!0,logBase:10},Yx.valueAxis);var Kx=["value","category","time","log"],Jx=function(t,e,a,i){f(Kx,(function(n){e.extend({type:t+"Axis."+n,mergeDefaultAndTheme:function(e,i){var s=this.layoutMode,o=s?ts(e):{};r(e,i.getTheme().get(n+"Axis")),r(e,this.getDefaultOption()),e.type=a(t,e),s&&Qr(e,o,s)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=wc.createByAxisModel(this))},getCategories:function(t){var e=this.option;return"category"===e.type?t?e.data:this.__ordinalMeta.categories:void 0},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:s([{},Yx[n+"Axis"],i],!0)})})),Dy.registerSubTypeDefaulter(t+"Axis",b(a,t))},Qx=Dy.extend({type:"cartesian2dAxis",axis:null,init:function(){Qx.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Qx.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Qx.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});r(Qx.prototype,Px);var tw={offset:0};Jx("x",Qx,ku,tw),Jx("y",Qx,ku,tw),Dy.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var ew=Tu.prototype;ew.type="grid",ew.axisPointerEnabled=!0,ew.getRect=function(){return this._rect},ew.update=function(t,e){var a=this._axesMap;this._updateScale(t,this.model),f(a.x,(function(t){Zc(t.scale,t.model)})),f(a.y,(function(t){Zc(t.scale,t.model)}));var i={};f(a.x,(function(t){Pu(a,"y",t,i)})),f(a.y,(function(t){Pu(a,"x",t,i)})),this.resize(this.model,e)},ew.resize=function(t,e,a){function i(){f(r,(function(t){var e=t.isHorizontal(),a=e?[0,n.width]:[0,n.height],i=t.inverse?1:0;t.setExtent(a[i],a[1-i]),Mu(t,e?n.x:n.y)}))}var n=Kr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=n;var r=this._axesList;i(),!a&&t.get("containLabel")&&(f(r,(function(t){if(!t.model.get("axisLabel.inside")){var e=Xc(t);if(e){var a=t.isHorizontal()?"height":"width",i=t.model.get("axisLabel.margin");n[a]-=e[a]+i,"top"===t.position?n.y+=e.height+i:"left"===t.position&&(n.x+=e.width+i)}}})),i())},ew.getAxis=function(t,e){var a=this._axesMap[t];if(null!=a){if(null==e)for(var i in a)if(a.hasOwnProperty(i))return a[i];return a[e]}},ew.getAxes=function(){return this._axesList.slice()},ew.getCartesian=function(t,e){if(null!=t&&null!=e){var a="x"+t+"y"+e;return this._coordsMap[a]}C(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,n=this._coordsList;i<n.length;i++)if(n[i].getAxis("x").index===t||n[i].getAxis("y").index===e)return n[i]},ew.getCartesians=function(){return this._coordsList.slice()},ew.convertToPixel=function(t,e,a){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.dataToPoint(a):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(a)):null},ew.convertFromPixel=function(t,e,a){var i=this._findConvertTarget(t,e);return i.cartesian?i.cartesian.pointToData(a):i.axis?i.axis.coordToData(i.axis.toLocalCoord(a)):null},ew._findConvertTarget=function(t,e){var a,i,n=e.seriesModel,r=e.xAxisModel||n&&n.getReferringComponents("xAxis")[0],s=e.yAxisModel||n&&n.getReferringComponents("yAxis")[0],o=e.gridModel,l=this._coordsList;return n?u(l,a=n.coordinateSystem)<0&&(a=null):r&&s?a=this.getCartesian(r.componentIndex,s.componentIndex):r?i=this.getAxis("x",r.componentIndex):s?i=this.getAxis("y",s.componentIndex):o&&o.coordinateSystem===this&&(a=this._coordsList[0]),{cartesian:a,axis:i}},ew.containPoint=function(t){var e=this._coordsList[0];return e?e.containPoint(t):void 0},ew._initCartesian=function(t,e){function a(a){return function(s,o){if(Ou(s,t,e)){var l=s.get("position");"x"===a?"top"!==l&&"bottom"!==l&&(l=i.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=i.left?"right":"left"),i[l]=!0;var c=new Xx(a,Hc(s),[0,0],s.get("type"),l),u="category"===c.type;c.onBand=u&&s.get("boundaryGap"),c.inverse=s.get("inverse"),s.axis=c,c.model=s,c.grid=this,c.index=o,this._axesList.push(c),n[a][o]=c,r[a]++}}}var i={left:!1,right:!1,top:!1,bottom:!1},n={x:{},y:{}},r={x:0,y:0};return e.eachComponent("xAxis",a("x"),this),e.eachComponent("yAxis",a("y"),this),r.x&&r.y?(this._axesMap=n,void f(n.x,(function(e,a){f(n.y,(function(i,n){var r="x"+a+"y"+n,s=new Iu(r);s.grid=this,s.model=t,this._coordsMap[r]=s,this._coordsList.push(s),s.addAxis(e),s.addAxis(i)}),this)}),this)):(this._axesMap={},void(this._axesList=[]))},ew._updateScale=function(t,e){function a(t,e){f(t.mapDimension(e.dim,!0),(function(a){e.scale.unionExtentFromData(t,gc(t,a))}))}f(this._axesList,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeries((function(i){if(Eu(i)){var n=Lu(i,t),r=n[0],s=n[1];if(!Ou(r,e,t)||!Ou(s,e,t))return;var o=this.getCartesian(r.componentIndex,s.componentIndex),l=i.getData(),c=o.getAxis("x"),u=o.getAxis("y");"list"===l.type&&(a(l,c,i),a(l,u,i))}}),this)},ew.getTooltipAxes=function(t){var e=[],a=[];return f(this.getCartesians(),(function(i){var n=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),r=i.getOtherAxis(n);u(e,n)<0&&e.push(n),u(a,r)<0&&a.push(r)})),{baseAxes:e,otherAxes:a}};var aw=["xAxis","yAxis"];Tu.create=function(t,e){var a=[];return t.eachComponent("grid",(function(i,n){var r=new Tu(i,t,e);r.name="grid_"+n,r.resize(i,e,!0),i.coordinateSystem=r,a.push(r)})),t.eachSeries((function(e){if(Eu(e)){var a=Lu(e,t),i=a[0],n=a[1],r=i.getCoordSysModel();if(Hp){if(!r)throw new Error('Grid "'+P(i.get("gridIndex"),i.get("gridId"),0)+'" not found');if(i.getCoordSysModel()!==n.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid")}var s=r.coordinateSystem;e.coordinateSystem=s.getCartesian(i.componentIndex,n.componentIndex)}})),a},Tu.dimensions=Tu.prototype.dimensions=Iu.prototype.dimensions,Os.register("cartesian2d",Tu);var iw=g_.extend({type:"series.__base_bar__",getInitialData:function(){return yc(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var a=e.dataToPoint(e.clampData(t)),i=this.getData(),n=i.getLayout("offset"),r=i.getLayout("size");return a[e.getBaseAxis().isHorizontal()?0:1]+=n+r/2,a}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});iw.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var nw=vm([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),rw={getBarItemStyle:function(t){var e=nw(this,t);if(this.getBorderLineDash){var a=this.getBorderLineDash();a&&(e.lineDash=a)}return e}},sw=mn({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var a=e.cx,i=e.cy,n=Math.max(e.r0||0,0),r=Math.max(e.r,0),s=.5*(r-n),o=n+s,l=e.startAngle,c=e.endAngle,u=e.clockwise,d=Math.cos(l),h=Math.sin(l),p=Math.cos(c),f=Math.sin(c);(u?c-l<2*Math.PI:l-c<2*Math.PI)&&(t.moveTo(d*n+a,h*n+i),t.arc(d*o+a,h*o+i,s,-Math.PI+l,l,!u)),t.arc(a,i,r,l,c,!u),t.moveTo(p*r+a,f*r+i),t.arc(p*o+a,f*o+i,s,c-2*Math.PI,c-Math.PI,!u),0!==n&&(t.arc(a,i,n,c,l,u),t.moveTo(d*n+a,f*n+i)),t.closePath()}}),ow=["itemStyle","barBorderWidth"],lw=[0,0];o(fr.prototype,rw),Nl({type:"bar",render:function(t,e,a){this._updateDrawMode(t);var i=t.get("coordinateSystem");return"cartesian2d"===i||"polar"===i?this._isLargeDraw?this._renderLarge(t,e,a):this._renderNormal(t,e,a):Hp&&console.warn("Only cartesian2d and polar supported for bar."),this.group},incrementalPrepareRender:function(t){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t){var e,a=this.group,i=t.getData(),n=this._data,r=t.coordinateSystem,s=r.getBaseAxis();"cartesian2d"===r.type?e=s.isHorizontal():"polar"===r.type&&(e="angle"===s.dim);var o=t.isAnimationEnabled()?t:null,l=t.get("clip",!0),c=Fu(r,i);a.removeClipPath();var u=t.get("roundCap",!0),d=t.get("showBackground",!0),h=t.getModel("backgroundStyle"),p=h.get("barBorderRadius")||0,f=[],v=this._backgroundEls||[],m=function(t){var a=pw[r.type](i,t),n=Ku(r,e,a);return n.useStyle(h.getBarItemStyle()),"cartesian2d"===r.type&&n.setShape("r",p),f[t]=n,n};i.diff(n).add((function(n){var s=i.getItemModel(n),h=pw[r.type](i,n,s);if(d&&m(n),i.hasValue(n)){if(l&&dw[r.type](c,h))return void a.remove(p);var p=hw[r.type](n,h,e,o,!1,u);i.setItemGraphicEl(n,p),a.add(p),Hu(p,i,n,s,h,t,e,"polar"===r.type)}})).update((function(s,g){var y=i.getItemModel(s),_=pw[r.type](i,s,y);if(d){var b;0===v.length?b=m(g):((b=v[g]).useStyle(h.getBarItemStyle()),"cartesian2d"===r.type&&b.setShape("r",p),f[s]=b);var x=pw[r.type](i,s);er(b,{shape:Yu(e,x,r)},o,s)}var w=n.getItemGraphicEl(g);if(i.hasValue(s)){if(l&&dw[r.type](c,_))return void a.remove(w);w?er(w,{shape:_},o,s):w=hw[r.type](s,_,e,o,!0,u),i.setItemGraphicEl(s,w),a.add(w),Hu(w,i,s,y,_,t,e,"polar"===r.type)}else a.remove(w)})).remove((function(t){var e=n.getItemGraphicEl(t);"cartesian2d"===r.type?e&&zu(t,o,e):e&&Bu(t,o,e)})).execute();var g=this._backgroundGroup||(this._backgroundGroup=new ov);g.removeAll();for(var y=0;y<f.length;++y)g.add(f[y]);a.add(g),this._backgroundEls=f,this._data=i},_renderLarge:function(t){this._clear(),Gu(t,this.group);var e=t.get("clip",!0)?Ru(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},_incrementalRenderLarge:function(t,e){this._removeBackground(),Gu(e,this.group,!0)},dispose:z,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,a=this._data;t&&t.get("animation")&&a&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],a.eachItemGraphicEl((function(e){"sector"===e.type?Bu(e.dataIndex,t,e):zu(e.dataIndex,t,e)}))):e.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}});var cw=Math.max,uw=Math.min,dw={cartesian2d:function(t,e){var a=e.width<0?-1:1,i=e.height<0?-1:1;0>a&&(e.x+=e.width,e.width=-e.width),0>i&&(e.y+=e.height,e.height=-e.height);var n=cw(e.x,t.x),r=uw(e.x+e.width,t.x+t.width),s=cw(e.y,t.y),o=uw(e.y+e.height,t.y+t.height);e.x=n,e.y=s,e.width=r-n,e.height=o-s;var l=e.width<0||e.height<0;return 0>a&&(e.x+=e.width,e.width=-e.width),0>i&&(e.y+=e.height,e.height=-e.height),l},polar:function(t,e){var a=e.r0<=e.r?1:-1;if(0>a){var i=e.r;e.r=e.r0,e.r0=i}i=uw(e.r,t.r);var n=cw(e.r0,t.r0);e.r=i,e.r0=n;var r=0>i-n;return 0>a&&(i=e.r,e.r=e.r0,e.r0=i),r}},hw={cartesian2d:function(t,e,a,i,n){var r=new Ag({shape:o({},e),z2:1});if(r.name="item",i){var s=a?"height":"width",l={};r.shape[s]=0,l[s]=e[s],ry[n?"updateProps":"initProps"](r,{shape:l},i,t)}return r},polar:function(t,e,a,i,n,r){var s=e.startAngle<e.endAngle,o=new(!a&&r?sw:kg)({shape:l({clockwise:s},e),z2:1});if(o.name="item",i){var c=a?"r":"endAngle",u={};o.shape[c]=a?0:e.startAngle,u[c]=e[c],ry[n?"updateProps":"initProps"](o,{shape:u},i,t)}return o}},pw={cartesian2d:function(t,e,a){var i=t.getItemLayout(e),n=a?qu(a,i):0,r=i.width>0?1:-1,s=i.height>0?1:-1;return{x:i.x+r*n/2,y:i.y+s*n/2,width:i.width-r*n,height:i.height-s*n}},polar:function(t,e){var a=t.getItemLayout(e);return{cx:a.cx,cy:a.cy,r0:a.r0,r:a.r,startAngle:a.startAngle,endAngle:a.endAngle}}},fw=en.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var a=e.points,i=this.__startPoint,n=this.__baseDimIdx,r=0;r<a.length;r+=2)i[n]=a[r+n],t.moveTo(i[0],i[1]),t.lineTo(a[r],a[r+1])}}),vw=_o((function(t){var e=this,a=Uu(e,t.offsetX,t.offsetY);e.dataIndex=a>=0?a:null}),30,!1),mw=Math.PI,gw=function(t,e){this.opt=e,this.axisModel=t,l(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new ov;var a=new ov({position:e.position.slice(),rotation:e.rotation});a.updateTransform(),this._transform=a.transform,this._dumbGroup=a};gw.prototype={constructor:gw,hasBuilder:function(t){return!!yw[t]},add:function(t){yw[t].call(this)},getGroup:function(){return this.group}};var yw={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var a=this.axisModel.axis.getExtent(),i=this._transform,n=[a[0],0],r=[a[1],0];i&&(st(n,n,i),st(r,r,i));var s=o({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new $g({anid:"line",subPixelOptimize:!0,shape:{x1:n[0],y1:n[1],x2:r[0],y2:r[1]},style:s,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1}));var l=e.get("axisLine.symbol"),c=e.get("axisLine.symbolSize"),u=e.get("axisLine.symbolOffset")||0;if("number"==typeof u&&(u=[u,u]),null!=l){"string"==typeof l&&(l=[l,l]),("string"==typeof c||"number"==typeof c)&&(c=[c,c]);var d=c[0],h=c[1];f([{rotate:t.rotation+Math.PI/2,offset:u[0],r:0},{rotate:t.rotation-Math.PI/2,offset:u[1],r:Math.sqrt((n[0]-r[0])*(n[0]-r[0])+(n[1]-r[1])*(n[1]-r[1]))}],(function(e,a){if("none"!==l[a]&&null!=l[a]){var i=Qc(l[a],-d/2,-h/2,d,h,s.stroke,!0),r=e.r+e.offset,o=[n[0]+r*Math.cos(t.rotation),n[1]-r*Math.sin(t.rotation)];i.attr({rotation:e.rotate,position:o,silent:!0,z2:11}),this.group.add(i)}}),this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,a=nd(this,t,e);Qu(t,sd(this,t,e),a),rd(this,t,e)},axisName:function(){var t=this.opt,e=this.axisModel,a=P(t.axisName,e.get("name"));if(a){var i,n,r=e.get("nameLocation"),s=t.nameDirection,l=e.getModel("nameTextStyle"),c=e.get("nameGap")||0,u=this.axisModel.axis.getExtent(),d=u[0]>u[1]?-1:1,h=["start"===r?u[0]-d*c:"end"===r?u[1]+d*c:(u[0]+u[1])/2,ad(r)?t.labelOffset+s*c:0],p=e.get("nameRotate");null!=p&&(p=p*mw/180),ad(r)?i=bw(t.rotation,null!=p?p:t.rotation,s):(i=Ju(t,r,p||0,u),null!=(n=t.axisNameAvailableWidth)&&(n=Math.abs(n/Math.sin(i.rotation)),!isFinite(n)&&(n=null)));var f=l.getFont(),v=e.get("nameTruncate",!0)||{},m=v.ellipsis,g=P(t.nameTruncateMaxWidth,v.maxWidth,n),y=null!=m&&null!=g?wy(a,g,f,m,{minChar:2,placeholder:v.placeholder}):a,_=e.get("tooltip",!0),b=e.mainType,x={componentType:b,name:a,$vars:["name"]};x[b+"Index"]=e.componentIndex;var w=new wg({anid:"name",__fullText:a,__truncatedText:y,position:h,rotation:i.rotation,silent:xw(e),z2:1,tooltip:_&&_.show?o({content:a,formatter:function(){return a},formatterParams:x},_):null});qn(w.style,l,{text:y,textFont:f,textFill:l.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:l.get("align")||i.textAlign,textVerticalAlign:l.get("verticalAlign")||i.textVerticalAlign}),e.get("triggerEvent")&&(w.eventData=_w(e),w.eventData.targetType="axisName",w.eventData.name=a),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},_w=gw.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},bw=gw.innerTextLayout=function(t,e,a){var i,n,r=Pr(e-t);return Dr(r)?(n=a>0?"top":"bottom",i="center"):Dr(r-mw)?(n=a>0?"bottom":"top",i="center"):(n="middle",i=r>0&&mw>r?a>0?"right":"left":a>0?"left":"right"),{rotation:r,textAlign:i,textVerticalAlign:n}},xw=gw.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},ww=f,Sw=b,Cw=jl({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,a,i){this.axisPointerClass&&pd(t),Cw.superApply(this,"render",arguments),yd(this,t,e,a,i,!0)},updateAxisPointer:function(t,e,a,i){yd(this,t,e,a,i,!1)},remove:function(t,e){var a=this._axisPointer;a&&a.remove(e),Cw.superApply(this,"remove",arguments)},dispose:function(t,e){_d(this,e),Cw.superApply(this,"dispose",arguments)}}),Iw=[];Cw.registerAxisPointerClass=function(t,e){if(Hp&&Iw[t])throw new Error("axisPointer "+t+" exists");Iw[t]=e},Cw.getAxisPointerClass=function(t){return t&&Iw[t]};var kw=["axisLine","axisTickLabel","axisName"],Ow=["splitArea","splitLine","minorSplitLine"],Tw=Cw.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,a,i){this.group.removeAll();var n=this._axisGroup;if(this._axisGroup=new ov,this.group.add(this._axisGroup),t.get("show")){var r=t.getCoordSysModel(),s=bd(r,t),o=new gw(t,s);f(kw,o.add,o),this._axisGroup.add(o.getGroup()),f(Ow,(function(e){t.get(e+".show")&&this["_"+e](t,r)}),this),sr(n,this._axisGroup,t),Tw.superCall(this,"render",t,e,a,i)}},remove:function(){wd(this)},_splitLine:function(t,e){var a=t.axis;if(!a.scale.isBlank()){var i=t.getModel("splitLine"),n=i.getModel("lineStyle"),r=n.get("color");r=x(r)?r:[r];for(var s=e.coordinateSystem.getRect(),o=a.isHorizontal(),c=0,u=a.getTicksCoords({tickModel:i}),d=[],h=[],p=n.getLineStyle(),f=0;f<u.length;f++){var v=a.toGlobalCoord(u[f].coord);o?(d[0]=v,d[1]=s.y,h[0]=v,h[1]=s.y+s.height):(d[0]=s.x,d[1]=v,h[0]=s.x+s.width,h[1]=v);var m=c++%r.length,g=u[f].tickValue;this._axisGroup.add(new $g({anid:null!=g?"line_"+u[f].tickValue:null,subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:l({stroke:r[m]},p),silent:!0}))}}},_minorSplitLine:function(t,e){var a=t.axis,i=t.getModel("minorSplitLine").getModel("lineStyle"),n=e.coordinateSystem.getRect(),r=a.isHorizontal(),s=a.getMinorTicksCoords();if(s.length)for(var o=[],l=[],c=i.getLineStyle(),u=0;u<s.length;u++)for(var d=0;d<s[u].length;d++){var h=a.toGlobalCoord(s[u][d].coord);r?(o[0]=h,o[1]=n.y,l[0]=h,l[1]=n.y+n.height):(o[0]=n.x,o[1]=h,l[0]=n.x+n.width,l[1]=h),this._axisGroup.add(new $g({anid:"minor_line_"+s[u][d].tickValue,subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:l[0],y2:l[1]},style:c,silent:!0}))}},_splitArea:function(t,e){xd(this,this._axisGroup,t,e)}});Tw.extend({type:"xAxis"}),Tw.extend({type:"yAxis"}),jl({type:"grid",render:function(t){this.group.removeAll(),t.get("show")&&this.group.add(new Ag({shape:t.coordinateSystem.getRect(),style:l({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),Cl((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})),Dl(vb.VISUAL.LAYOUT,b($c,"bar")),Dl(vb.VISUAL.PROGRESSIVE_LAYOUT,lx),Ml({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}}),g_.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t){if(Hp){var e=t.coordinateSystem;if("polar"!==e&&"cartesian2d"!==e)throw new Error("Line not support coordinateSystem besides cartesian and polar")}return yc(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Pw=Sd.prototype,Dw=Sd.getSymbolSize=function(t,e){var a=t.getItemVisual(e,"symbolSize");return a instanceof Array?a.slice():[+a,+a]};Pw._createSymbol=function(t,e,a,i,n){this.removeAll();var r=Qc(t,-1,-1,2,2,e.getItemVisual(a,"color"),n);r.attr({z2:100,culling:!0,scale:Cd(i)}),r.drift=Id,this._symbolType=t,this.add(r)},Pw.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},Pw.getSymbolPath=function(){return this.childAt(0)},Pw.getScale=function(){return this.childAt(0).scale},Pw.highlight=function(){this.childAt(0).trigger("emphasis")},Pw.downplay=function(){this.childAt(0).trigger("normal")},Pw.setZ=function(t,e){var a=this.childAt(0);a.zlevel=t,a.z=e},Pw.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},Pw.updateData=function(t,e,a){this.silent=!1;var i=t.getItemVisual(e,"symbol")||"circle",n=t.hostModel,r=Dw(t,e),s=i!==this._symbolType;if(s){var o=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(i,t,e,r,o)}else(l=this.childAt(0)).silent=!1,er(l,{scale:Cd(r)},n,e);if(this._updateCommon(t,e,r,a),s){var l=this.childAt(0),c=a&&a.fadeIn,u={scale:l.scale.slice()};c&&(u.style={opacity:l.style.opacity}),l.scale=[0,0],c&&(l.style.opacity=0),ar(l,u,n,e)}this._seriesModel=n};var Mw=["itemStyle"],Lw=["emphasis","itemStyle"],Ew=["label"],Aw=["emphasis","label"];Pw._updateCommon=function(t,e,a,i){function n(e){return w?t.getName(e):Au(t,e)}var r=this.childAt(0),s=t.hostModel,l=t.getItemVisual(e,"color");"image"!==r.type?r.useStyle({strokeNoScale:!0}):r.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var c=i&&i.itemStyle,u=i&&i.hoverItemStyle,d=i&&i.symbolOffset,h=i&&i.labelModel,p=i&&i.hoverLabelModel,f=i&&i.hoverAnimation,v=i&&i.cursorStyle;if(!i||t.hasItemOption){var m=i&&i.itemModel?i.itemModel:t.getItemModel(e);c=m.getModel(Mw).getItemStyle(["color"]),u=m.getModel(Lw).getItemStyle(),d=m.getShallow("symbolOffset"),h=m.getModel(Ew),p=m.getModel(Aw),f=m.getShallow("hoverAnimation"),v=m.getShallow("cursor")}else u=o({},u);var g=r.style,y=t.getItemVisual(e,"symbolRotate");r.attr("rotation",(y||0)*Math.PI/180||0),d&&r.attr("position",[wr(d[0],a[0]),wr(d[1],a[1])]),v&&r.attr("cursor",v),r.setColor(l,i&&i.symbolInnerColor),r.setStyle(c);var _=t.getItemVisual(e,"opacity");null!=_&&(g.opacity=_);var b=t.getItemVisual(e,"liftZ"),x=r.__z2Origin;null!=b?null==x&&(r.__z2Origin=r.z2,r.z2+=b):null!=x&&(r.z2=x,r.__z2Origin=null);var w=i&&i.useNameLabel;Zn(g,u,h,p,{labelFetcher:s,labelDataIndex:e,defaultText:n,isRectText:!0,autoColor:l}),r.__symbolOriginalScale=Cd(a),r.hoverStyle=u,r.highDownOnUpdate=f&&s.isAnimationEnabled()?kd:null,Rn(r)},Pw.fadeOut=function(t,e){var a=this.childAt(0);this.silent=a.silent=!0,!(e&&e.keepLabel)&&(a.style.text=null),er(a,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},d(Sd,ov);var jw=Od.prototype;jw.updateData=function(t,e){e=Pd(e);var a=this.group,i=t.hostModel,n=this._data,r=this._symbolCtor,s=Dd(t);n||a.removeAll(),t.diff(n).add((function(i){var n=t.getItemLayout(i);if(Td(t,n,i,e)){var o=new r(t,i,s);o.attr("position",n),t.setItemGraphicEl(i,o),a.add(o)}})).update((function(o,l){var c=n.getItemGraphicEl(l),u=t.getItemLayout(o);return Td(t,u,o,e)?(c?(c.updateData(t,o,s),er(c,{position:u},i)):(c=new r(t,o)).attr("position",u),a.add(c),void t.setItemGraphicEl(o,c)):void a.remove(c)})).remove((function(t){var e=n.getItemGraphicEl(t);e&&e.fadeOut((function(){a.remove(e)}))})).execute(),this._data=t},jw.isPersistent=function(){return!0},jw.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl((function(e,a){var i=t.getItemLayout(a);e.attr("position",i)}))},jw.incrementalPrepareUpdate=function(t){this._seriesScope=Dd(t),this._data=null,this.group.removeAll()},jw.incrementalUpdate=function(t,e,a){function i(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}a=Pd(a);for(var n=t.start;n<t.end;n++){var r=e.getItemLayout(n);if(Td(e,r,n,a)){var s=new this._symbolCtor(e,n,this._seriesScope);s.traverse(i),s.attr("position",r),this.group.add(s),e.setItemGraphicEl(n,s)}}},jw.remove=function(t){var e=this.group,a=this._data;a&&t?a.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll()};var $w=function(t,e,a,i,n,r,s,o){for(var l=Ad(t,e),c=[],u=[],d=[],h=[],p=[],f=[],v=[],m=Md(n,e,s),g=Md(r,t,o),y=0;y<l.length;y++){var _=l[y],b=!0;switch(_.cmd){case"=":var x=t.getItemLayout(_.idx),w=e.getItemLayout(_.idx1);(isNaN(x[0])||isNaN(x[1]))&&(x=w.slice()),c.push(x),u.push(w),d.push(a[_.idx]),h.push(i[_.idx1]),v.push(e.getRawIndex(_.idx1));break;case"+":var S=_.idx;c.push(n.dataToPoint([e.get(m.dataDimsForPoint[0],S),e.get(m.dataDimsForPoint[1],S)])),u.push(e.getItemLayout(S).slice()),d.push(Ed(m,n,e,S)),h.push(i[S]),v.push(e.getRawIndex(S));break;case"-":S=_.idx;var C=t.getRawIndex(S);C!==S?(c.push(t.getItemLayout(S)),u.push(r.dataToPoint([t.get(g.dataDimsForPoint[0],S),t.get(g.dataDimsForPoint[1],S)])),d.push(a[S]),h.push(Ed(g,r,t,S)),v.push(C)):b=!1}b&&(p.push(_),f.push(f.length))}f.sort((function(t,e){return v[t]-v[e]}));var I=[],k=[],O=[],T=[],P=[];for(y=0;y<f.length;y++)S=f[y],I[y]=c[S],k[y]=u[S],O[y]=d[S],T[y]=h[S],P[y]=p[S];return{current:I,next:k,stackedOnCurrent:O,stackedOnNext:T,status:P}},Nw=ot,Vw=lt,Rw=U,Fw=Z,zw=[],Bw=[],Zw=[],Hw=en.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:Ig(en.prototype.brush),buildPath:function(t,e){var a=e.points,i=0,n=a.length,r=Rd(a,e.smoothConstraint);if(e.connectNulls){for(;n>0&&jd(a[n-1]);n--);for(;n>i&&jd(a[i]);i++);}for(;n>i;)i+=$d(t,a,i,n,n,1,r.min,r.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),qw=en.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:Ig(en.prototype.brush),buildPath:function(t,e){var a=e.points,i=e.stackedOnPoints,n=0,r=a.length,s=e.smoothMonotone,o=Rd(a,e.smoothConstraint),l=Rd(i,e.smoothConstraint);if(e.connectNulls){for(;r>0&&jd(a[r-1]);r--);for(;r>n&&jd(a[n]);n++);}for(;r>n;){var c=$d(t,a,n,r,r,1,o.min,o.max,e.smooth,s,e.connectNulls);$d(t,i,n+c-1,c,r,-1,l.min,l.max,e.stackedOnSmooth,s,e.connectNulls),n+=c+1,t.closePath()}}});fo.extend({type:"line",init:function(){var t=new ov,e=new Od;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,a){var i=t.coordinateSystem,n=this.group,r=t.getData(),s=t.getModel("lineStyle"),o=t.getModel("areaStyle"),c=r.mapArray(r.getItemLayout),u="polar"===i.type,d=this._coordSys,h=this._symbolDraw,p=this._polyline,f=this._polygon,v=this._lineGroup,m=t.get("animation"),g=!o.isEmpty(),y=o.get("origin"),_=Zd(i,r,Md(i,r,y)),b=t.get("showSymbol"),x=b&&!u&&Gd(t,r,i),w=this._data;w&&w.eachItemGraphicEl((function(t,e){t.__temp&&(n.remove(t),w.setItemGraphicEl(e,null))})),b||h.remove(),n.add(v);var S,C=!u&&t.get("step");i&&i.getArea&&t.get("clip",!0)&&(null!=(S=i.getArea()).width?(S.x-=.1,S.y-=.1,S.width+=.2,S.height+=.2):S.r0&&(S.r0-=.5,S.r1+=.5)),this._clipShapeForSymbol=S,p&&d.type===i.type&&C===this._step?(g&&!f?f=this._newPolygon(c,_,i,m):f&&!g&&(v.remove(f),f=this._polygon=null),v.setClipPath(Xd(i,!1,t)),b&&h.updateData(r,{isIgnore:x,clipShape:S}),r.eachItemGraphicEl((function(t){t.stopAnimation(!0)})),Fd(this._stackedOnPoints,_)&&Fd(this._points,c)||(m?this._updateAnimation(r,_,i,a,C,y):(C&&(c=Hd(c,i,C),_=Hd(_,i,C)),p.setShape({points:c}),f&&f.setShape({points:c,stackedOnPoints:_})))):(b&&h.updateData(r,{isIgnore:x,clipShape:S}),C&&(c=Hd(c,i,C),_=Hd(_,i,C)),p=this._newPolyline(c,i,m),g&&(f=this._newPolygon(c,_,i,m)),v.setClipPath(Xd(i,!0,t)));var I=qd(r,i)||r.getVisual("color");p.useStyle(l(s.getLineStyle(),{fill:"none",stroke:I,lineJoin:"bevel"}));var k=t.get("smooth");if(k=Bd(t.get("smooth")),p.setShape({smooth:k,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),f){var O=r.getCalculationInfo("stackedOnSeries"),T=0;f.useStyle(l(o.getAreaStyle(),{fill:I,opacity:.7,lineJoin:"bevel"})),O&&(T=Bd(O.get("smooth"))),f.setShape({smooth:k,stackedOnSmooth:T,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=r,this._coordSys=i,this._stackedOnPoints=_,this._points=c,this._step=C,this._valueOrigin=y},dispose:function(){},highlight:function(t,e,a,i){var n=t.getData(),r=li(n,i);if(!(r instanceof Array)&&null!=r&&r>=0){var s=n.getItemGraphicEl(r);if(!s){var o=n.getItemLayout(r);if(!o)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(o[0],o[1]))return;(s=new Sd(n,r)).position=o,s.setZ(t.get("zlevel"),t.get("z")),s.ignore=isNaN(o[0])||isNaN(o[1]),s.__temp=!0,n.setItemGraphicEl(r,s),s.stopSymbolAnimation(!0),this.group.add(s)}s.highlight()}else fo.prototype.highlight.call(this,t,e,a,i)},downplay:function(t,e,a,i){var n=t.getData(),r=li(n,i);if(null!=r&&r>=0){var s=n.getItemGraphicEl(r);s&&(s.__temp?(n.setItemGraphicEl(r,null),this.group.remove(s)):s.downplay())}else fo.prototype.downplay.call(this,t,e,a,i)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Hw({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var a=this._polygon;return a&&this._lineGroup.remove(a),a=new qw({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(a),this._polygon=a,a},_updateAnimation:function(t,e,a,i,n,r){var s=this._polyline,o=this._polygon,l=t.hostModel,c=$w(this._data,t,this._stackedOnPoints,e,this._coordSys,a,this._valueOrigin,r),u=c.current,d=c.stackedOnCurrent,h=c.next,p=c.stackedOnNext;if(n&&(u=Hd(c.current,a,n),d=Hd(c.stackedOnCurrent,a,n),h=Hd(c.next,a,n),p=Hd(c.stackedOnNext,a,n)),zd(u,h)>3e3||o&&zd(d,p)>3e3)return s.setShape({points:h}),void(o&&o.setShape({points:h,stackedOnPoints:p}));s.shape.__points=c.current,s.shape.points=u,er(s,{shape:{points:h}},l),o&&(o.setShape({points:u,stackedOnPoints:d}),er(o,{shape:{points:h,stackedOnPoints:p}},l));for(var f=[],v=c.status,m=0;m<v.length;m++)if("="===v[m].cmd){var g=t.getItemGraphicEl(v[m].idx1);g&&f.push({el:g,ptIdx:m})}s.animators&&s.animators.length&&s.animators[0].during((function(){for(var t=0;t<f.length;t++)f[t].el.attr("position",s.shape.__points[f[t].ptIdx])}))},remove:function(){var t=this.group,e=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),e&&e.eachItemGraphicEl((function(a,i){a.__temp&&(t.remove(a),e.setItemGraphicEl(i,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Gw=function(t,e,a){return{seriesType:t,performRawSeries:!0,reset:function(t,i){function n(e,a){if(p){var i=t.getRawValue(a),n=t.getDataParams(a);u&&e.setItemVisual(a,"symbol",s(i,n)),d&&e.setItemVisual(a,"symbolSize",o(i,n)),h&&e.setItemVisual(a,"symbolRotate",c(i,n))}if(e.hasItemOption){var r=e.getItemModel(a),l=r.getShallow("symbol",!0),f=r.getShallow("symbolSize",!0),v=r.getShallow("symbolRotate",!0),m=r.getShallow("symbolKeepAspect",!0);null!=l&&e.setItemVisual(a,"symbol",l),null!=f&&e.setItemVisual(a,"symbolSize",f),null!=v&&e.setItemVisual(a,"symbolRotate",v),null!=m&&e.setItemVisual(a,"symbolKeepAspect",m)}}var r=t.getData(),s=t.get("symbol"),o=t.get("symbolSize"),l=t.get("symbolKeepAspect"),c=t.get("symbolRotate"),u=w(s),d=w(o),h=w(c),p=u||d||h,f=!u&&s?s:e,v=d?null:o;return r.setVisual({legendSymbol:a||f,symbol:f,symbolSize:v,symbolKeepAspect:l,symbolRotate:c}),i.isSeriesFiltered(t)?void 0:{dataEach:r.hasItemOption||p?n:null}}}},Uw=function(t){return{seriesType:t,plan:b_(),reset:function(t){function e(t,e){for(var a=t.end-t.start,o=n&&new Float32Array(a*s),l=t.start,c=0,u=[],d=[];l<t.end;l++){var h;if(1===s){var p=e.get(r[0],l);h=!isNaN(p)&&i.dataToPoint(p,null,d)}else{p=u[0]=e.get(r[0],l);var f=u[1]=e.get(r[1],l);h=!isNaN(p)&&!isNaN(f)&&i.dataToPoint(u,null,d)}n?(o[c++]=h?h[0]:NaN,o[c++]=h?h[1]:NaN):e.setItemLayout(l,h&&h.slice()||[NaN,NaN])}n&&e.setLayout("symbolPoints",o)}var a=t.getData(),i=t.coordinateSystem,n=t.pipelineContext.large;if(i){var r=v(i.dimensions,(function(t){return a.mapDimension(t)})).slice(0,2),s=r.length,o=a.getCalculationInfo("stackResultDimension");return mc(a,r[0])&&(r[0]=o),mc(a,r[1])&&(r[1]=o),s&&{progress:e}}}}},Xw={average:function(t){for(var e=0,a=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],a++);return 0===a?NaN:e/a},sum:function(t){for(var e=0,a=0;a<t.length;a++)e+=t[a]||0;return e},max:function(t){for(var e=-1/0,a=0;a<t.length;a++)t[a]>e&&(e=t[a]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,a=0;a<t.length;a++)t[a]<e&&(e=t[a]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},Ww=function(t){return Math.round(t.length/2)},Yw=function(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t){var e=t.getData(),a=t.get("sampling"),i=t.coordinateSystem;if("cartesian2d"===i.type&&a){var n,r=i.getBaseAxis(),s=i.getOtherAxis(r),o=r.getExtent(),l=Math.abs(o[1]-o[0]),c=Math.round(e.count()/l);c>1&&("string"==typeof a?n=Xw[a]:"function"==typeof a&&(n=a),n&&t.setData(e.downSample(e.mapDimension(s.dim),1/c,n,Ww)))}}}};Ml(Gw("line","circle","line")),Dl(Uw("line")),Il(vb.PROCESSOR.STATISTIC,Yw("line"));var Kw=function(t,e,a){e=x(e)&&{coordDimensions:e}||o({},e);var i=t.getSource(),n=Kb(i,e),r=new Xb(n,t);return r.initData(i,a),r},Jw={updateSelectedMap:function(t){this._targetList=x(t)?t.slice():[],this._selectTargetMap=m(t||[],(function(t,e){return t.set(e.name,e),t}),R())},select:function(t,e){var a=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each((function(t){t.selected=!1})),a&&(a.selected=!0)},unSelect:function(t,e){var a=null!=e?this._targetList[e]:this._selectTargetMap.get(t);a&&(a.selected=!1)},toggleSelected:function(t,e){var a=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return null!=a?(this[a.selected?"unSelect":"select"](t,e),a.selected):void 0},isSelected:function(t,e){var a=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return a&&a.selected}},Qw=$l({type:"series.pie",init:function(t){Qw.superApply(this,"init",arguments),this.legendVisualProvider=new Wd(_(this.getData,this),_(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){Qw.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(){return Kw(this,{coordDimensions:["value"],encodeDefaulter:b(fs,this)})},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),a=[],i=0,n=t.count();n>i;i++)a.push({name:t.getName(i),value:t.get(e,i),selected:to(t,i,"selected")});return a},getDataParams:function(t){var e=this.getData(),a=Qw.superCall(this,"getDataParams",t),i=[];return e.each(e.mapDimension("value"),(function(t){i.push(t)})),a.percent=Tr(i,t,e.hostModel.get("percentPrecision")),a.$vars.push("percent"),a},_defaultLabelLine:function(t){ei(t,"labelLine",["show"]);var e=t.labelLine,a=t.emphasis.labelLine;e.show=e.show&&t.label.show,a.show=a.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});h(Qw,Jw);var tS=Jd.prototype;tS.updateData=function(t,e,a){var i=this.childAt(0),n=this.childAt(1),r=this.childAt(2),s=t.hostModel,c=t.getItemModel(e),u=t.getItemLayout(e),d=o({},u);d.label=null;var h=s.getShallow("animationTypeUpdate");a?(i.setShape(d),"scale"===s.getShallow("animationType")?(i.shape.r=u.r0,ar(i,{shape:{r:u.r}},s,e)):(i.shape.endAngle=u.startAngle,er(i,{shape:{endAngle:u.endAngle}},s,e))):"expansion"===h?i.setShape(d):er(i,{shape:d},s,e);var p=t.getItemVisual(e,"color");i.useStyle(l({lineJoin:"bevel",fill:p},c.getModel("itemStyle").getItemStyle())),i.hoverStyle=c.getModel("emphasis.itemStyle").getItemStyle();var f=c.getShallow("cursor");f&&i.attr("cursor",f),Kd(this,t.getItemLayout(e),s.isSelected(t.getName(e)),s.get("selectedOffset"),s.get("animation"));var v=!a&&"transition"===h;this._updateLabel(t,e,v),this.highDownOnUpdate=s.get("silent")?null:function(t,e){var a=s.isAnimationEnabled()&&c.get("hoverAnimation");"emphasis"===e?(n.ignore=n.hoverIgnore,r.ignore=r.hoverIgnore,a&&(i.stopAnimation(!0),i.animateTo({shape:{r:u.r+s.get("hoverOffset")}},300,"elasticOut"))):(n.ignore=n.normalIgnore,r.ignore=r.normalIgnore,a&&(i.stopAnimation(!0),i.animateTo({shape:{r:u.r}},300,"elasticOut")))},Rn(this)},tS._updateLabel=function(t,e,a){var i=this.childAt(1),n=this.childAt(2),r=t.hostModel,s=t.getItemModel(e),o=t.getItemLayout(e).label,l=t.getItemVisual(e,"color");if(!o||isNaN(o.x)||isNaN(o.y))n.ignore=n.normalIgnore=n.hoverIgnore=i.ignore=i.normalIgnore=i.hoverIgnore=!0;else{var c={points:o.linePoints||[[o.x,o.y],[o.x,o.y],[o.x,o.y]]},u={x:o.x,y:o.y};a?(er(i,{shape:c},r,e),er(n,{style:u},r,e)):(i.attr({shape:c}),n.attr({style:u})),n.attr({rotation:o.rotation,origin:[o.x,o.y],z2:10});var d=s.getModel("label"),h=s.getModel("emphasis.label"),p=s.getModel("labelLine"),f=s.getModel("emphasis.labelLine");l=t.getItemVisual(e,"color"),Zn(n.style,n.hoverStyle={},d,h,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:o.text,autoColor:l,useInsideStyle:!!o.inside},{textAlign:o.textAlign,textVerticalAlign:o.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),n.ignore=n.normalIgnore=!d.get("show"),n.hoverIgnore=!h.get("show"),i.ignore=i.normalIgnore=!p.get("show"),i.hoverIgnore=!f.get("show"),i.setStyle({stroke:l,opacity:t.getItemVisual(e,"opacity")}),i.setStyle(p.getModel("lineStyle").getLineStyle()),i.hoverStyle=f.getModel("lineStyle").getLineStyle();var v=p.get("smooth");v&&!0===v&&(v=.4),i.setShape({smooth:v})}},d(Jd,ov);var eS=(fo.extend({type:"pie",init:function(){var t=new ov;this._sectorGroup=t},render:function(t,e,a,i){if(!i||i.from!==this.uid){var n=t.getData(),r=this._data,s=this.group,o=e.get("animation"),l=!r,c=t.get("animationType"),u=t.get("animationTypeUpdate"),d=b(Yd,this.uid,t,o,a),h=t.get("selectedMode");if(n.diff(r).add((function(t){var e=new Jd(n,t);l&&"scale"!==c&&e.eachChild((function(t){t.stopAnimation(!0)})),h&&e.on("click",d),n.setItemGraphicEl(t,e),s.add(e)})).update((function(t,e){var a=r.getItemGraphicEl(e);l||"transition"===u||a.eachChild((function(t){t.stopAnimation(!0)})),a.updateData(n,t),a.off("click"),h&&a.on("click",d),s.add(a),n.setItemGraphicEl(t,a)})).remove((function(t){var e=r.getItemGraphicEl(t);s.remove(e)})).execute(),o&&n.count()>0&&(l?"scale"!==c:"transition"!==u)){for(var p=n.getItemLayout(0),f=1;isNaN(p.startAngle)&&f<n.count();++f)p=n.getItemLayout(f);var v=Math.max(a.getWidth(),a.getHeight())/2,m=_(s.removeClipPath,s);s.setClipPath(this._createClipPath(p.cx,p.cy,v,p.startAngle,p.clockwise,m,t,l))}else s.removeClipPath();this._data=n}},dispose:function(){},_createClipPath:function(t,e,a,i,n,r,s,o){var l=new kg({shape:{cx:t,cy:e,r0:0,r:a,startAngle:i,endAngle:i,clockwise:n}});return(o?ar:er)(l,{shape:{endAngle:i+(n?1:-1)*Math.PI*2}},s,r),l},containPoint:function(t,e){var a=e.getData().getItemLayout(0);if(a){var i=t[0]-a.cx,n=t[1]-a.cy,r=Math.sqrt(i*i+n*n);return r<=a.r&&r>=a.r0}}}),function(t,e){f(e,(function(e){e.update="updateView",Ol(e,(function(a,i){var n={};return i.eachComponent({mainType:"series",subType:t,query:a},(function(t){t[e.method]&&t[e.method](a.name,a.dataIndex);var i=t.getData();i.each((function(e){var a=i.getName(e);n[a]=t.isSelected(a)||!1}))})),{name:a.name,selected:n,seriesId:a.seriesId}}))}))}),aS=function(t){return{getTargetSeries:function(e){var a={},i=R();return e.eachSeriesByType(t,(function(t){t.__paletteScope=a,i.set(t.uid,t)})),i},reset:function(t){var e=t.getRawData(),a={},i=t.getData();i.each((function(t){var e=i.getRawIndex(t);a[e]=t})),e.each((function(n){var r,s=a[n],o=null!=s&&i.getItemVisual(s,"color",!0),l=null!=s&&i.getItemVisual(s,"borderColor",!0);if(o&&l||(r=e.getItemModel(n)),!o){var c=r.get("itemStyle.color")||t.getColorFromPalette(e.getName(n)||n+"",t.__paletteScope,e.count());null!=s&&i.setItemVisual(s,"color",c)}if(!l){var u=r.get("itemStyle.borderColor");null!=s&&i.setItemVisual(s,"borderColor",u)}}))}}},iS=Math.PI/180,nS=function(t,e,a,i,n,r){var s,o,l=t.getData(),c=[],u=!1,d=(t.get("minShowLabelAngle")||0)*iS;l.each((function(i){var r=l.getItemLayout(i),h=l.getItemModel(i),p=h.getModel("label"),f=p.get("position")||h.get("emphasis.label.position"),v=p.get("distanceToLabelLine"),m=p.get("alignTo"),g=wr(p.get("margin"),a),y=p.get("bleedMargin"),_=p.getFont(),b=h.getModel("labelLine"),x=b.get("length");x=wr(x,a);var w=b.get("length2");if(w=wr(w,a),!(r.angle<d)){var S,C,I,k,O=(r.startAngle+r.endAngle)/2,T=Math.cos(O),P=Math.sin(O);s=r.cx,o=r.cy;var D=t.getFormattedLabel(i,"normal")||l.getName(i),M=Ge(D,_,k,"top"),L="inside"===f||"inner"===f;if("center"===f)S=r.cx,C=r.cy,k="center";else{var E=(L?(r.r+r.r0)/2*T:r.r*T)+s,A=(L?(r.r+r.r0)/2*P:r.r*P)+o;if(S=E+3*T,C=A+3*P,!L){var j=E+T*(x+e-r.r),$=A+P*(x+e-r.r),N=j+(0>T?-1:1)*w;S="edge"===m?0>T?n+g:n+a-g:N+(0>T?-v:v),C=$,I=[[E,A],[j,$],[N,$]]}k=L?"center":"edge"===m?T>0?"right":"left":T>0?"left":"right"}var V,R=p.get("rotate");V="number"==typeof R?R*(Math.PI/180):R?0>T?-O+Math.PI:-O:0,u=!!V,r.label={x:S,y:C,position:f,height:M.height,len:x,len2:w,linePoints:I,textAlign:k,verticalAlign:"middle",rotation:V,inside:L,labelDistance:v,labelAlignTo:m,labelMargin:g,bleedMargin:y,textRect:M,text:D,font:_},L||c.push(r.label)}})),!u&&t.get("avoidLabelOverlap")&&th(c,s,o,e,a,i,n,r)},rS=2*Math.PI,sS=Math.PI/180,oS=function(t,e,a){e.eachSeriesByType(t,(function(t){var e=t.getData(),i=e.mapDimension("value"),n=ah(t,a),r=t.get("center"),s=t.get("radius");x(s)||(s=[0,s]),x(r)||(r=[r,r]);var o=wr(n.width,a.getWidth()),l=wr(n.height,a.getHeight()),c=Math.min(o,l),u=wr(r[0],o)+n.x,d=wr(r[1],l)+n.y,h=wr(s[0],c/2),p=wr(s[1],c/2),f=-t.get("startAngle")*sS,v=t.get("minAngle")*sS,m=0;e.each(i,(function(t){!isNaN(t)&&m++}));var g=e.getSum(i),y=Math.PI/(g||m)*2,_=t.get("clockwise"),b=t.get("roseType"),w=t.get("stillShowZeroSum"),S=e.getDataExtent(i);S[0]=0;var C=rS,I=0,k=f,O=_?1:-1;if(e.each(i,(function(t,a){var i;if(isNaN(t))e.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:_,cx:u,cy:d,r0:h,r:b?NaN:p,viewRect:n});else{v>(i="area"!==b?0===g&&w?y:t*y:rS/m)?(i=v,C-=v):I+=t;var r=k+O*i;e.setItemLayout(a,{angle:i,startAngle:k,endAngle:r,clockwise:_,cx:u,cy:d,r0:h,r:b?xr(t,S,[h,p]):p,viewRect:n}),k=r}})),rS>C&&m)if(.001>=C){var T=rS/m;e.each(i,(function(t,a){if(!isNaN(t)){var i=e.getItemLayout(a);i.angle=T,i.startAngle=f+O*a*T,i.endAngle=f+O*(a+1)*T}}))}else y=C/I,k=f,e.each(i,(function(t,a){if(!isNaN(t)){var i=e.getItemLayout(a),n=i.angle===v?v:t*y;i.startAngle=k,i.endAngle=k+O*n,k+=O*n}}));nS(t,p,n.width,n.height,n.x,n.y)}))},lS=function(t){return{seriesType:t,reset:function(t,e){var a=e.findComponents({mainType:"legend"});if(a&&a.length){var i=t.getData();i.filterSelf((function(t){for(var e=i.getName(t),n=0;n<a.length;n++)if(!a[n].isSelected(e))return!1;return!0}))}}}};eS("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),Ml(aS("pie")),Dl(b(oS,"pie")),Il(lS("pie")),Al({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),jl({type:"title",render:function(t,e,a){if(this.group.removeAll(),t.get("show")){var i=this.group,n=t.getModel("textStyle"),r=t.getModel("subtextStyle"),s=t.get("textAlign"),o=D(t.get("textBaseline"),t.get("textVerticalAlign")),l=new wg({style:qn({},n,{text:t.get("text"),textFill:n.getTextColor()},{disableBox:!0}),z2:10}),c=l.getBoundingRect(),u=t.get("subtext"),d=new wg({style:qn({},r,{text:u,textFill:r.getTextColor(),y:c.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),h=t.get("link"),p=t.get("sublink"),f=t.get("triggerEvent",!0);l.silent=!h&&!f,d.silent=!p&&!f,h&&l.on("click",(function(){Wr(h,"_"+t.get("target"))})),p&&d.on("click",(function(){Wr(p,"_"+t.get("subtarget"))})),l.eventData=d.eventData=f?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(l),u&&i.add(d);var v=i.getBoundingRect(),m=t.getBoxLayoutParams();m.width=v.width,m.height=v.height;var g=Kr(m,{width:a.getWidth(),height:a.getHeight()},t.get("padding"));s||("middle"===(s=t.get("left")||t.get("right"))&&(s="center"),"right"===s?g.x+=g.width:"center"===s&&(g.x+=g.width/2)),o||("center"===(o=t.get("top")||t.get("bottom"))&&(o="middle"),"bottom"===o?g.y+=g.height:"middle"===o&&(g.y+=g.height/2),o=o||"top"),i.attr("position",[g.x,g.y]);var y={textAlign:s,textVerticalAlign:o};l.setStyle(y),d.setStyle(y),v=i.getBoundingRect();var _=g.margin,b=t.getItemStyle(["color","opacity"]);b.fill=t.get("backgroundColor");var x=new Ag({shape:{x:v.x-_[3],y:v.y-_[0],width:v.width+_[1]+_[3],height:v.height+_[0]+_[2],r:t.get("borderRadius")},style:b,subPixelOptimize:!0,silent:!0});i.add(x)}}});var cS=P_.legend.selector,uS={all:{type:"all",title:n(cS.all)},inverse:{type:"inverse",title:n(cS.inverse)}},dS=Al({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,a){this.mergeDefaultAndTheme(t,a),t.selected=t.selected||{},this._updateSelector(t)},mergeOption:function(t){dS.superCall(this,"mergeOption",t),this._updateSelector(t)},_updateSelector:function(t){var e=t.selector;!0===e&&(e=t.selector=["all","inverse"]),x(e)&&f(e,(function(t,a){S(t)&&(t={type:t}),e[a]=r(t,uS[t.type])}))},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,a=0;a<t.length;a++){var i=t[a].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],a=[];t.eachRawSeries((function(i){var n,r=i.name;if(a.push(r),i.legendVisualProvider){var s=i.legendVisualProvider.getAllNames();t.isSeriesFiltered(i)||(a=a.concat(s)),s.length?e=e.concat(s):n=!0}else n=!0;n&&si(i)&&e.push(i.name)})),this._availableNames=a;var i=v(this.get("data")||e,(function(t){return("string"==typeof t||"number"==typeof t)&&(t={name:t}),new fr(t,this,this.ecModel)}),this);this._data=i},getData:function(){return this._data},select:function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&f(this._data,(function(t){e[t.get("name")]=!1})),e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},allSelect:function(){var t=this._data,e=this.option.selected;f(t,(function(t){e[t.get("name",!0)]=!0}))},inverseSelect:function(){var t=this._data,e=this.option.selected;f(t,(function(t){var a=t.get("name",!0);e.hasOwnProperty(a)||(e[a]=!0),e[a]=!e[a]}))},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&u(this._availableNames,t)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});Ol("legendToggleSelect","legendselectchanged",b(ih,"toggleSelected")),Ol("legendAllSelect","legendselectall",b(ih,"allSelect")),Ol("legendInverseSelect","legendinverseselect",b(ih,"inverseSelect")),Ol("legendSelect","legendselected",b(ih,"select")),Ol("legendUnSelect","legendunselected",b(ih,"unSelect"));var hS=b,pS=f,fS=ov,vS=jl({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new fS),this._backgroundEl,this.group.add(this._selectorGroup=new fS),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,a){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var n=t.get("align"),r=t.get("orient");n&&"auto"!==n||(n="right"===t.get("left")&&"vertical"===r?"right":"left");var s=t.get("selector",!0),o=t.get("selectorPosition",!0);!s||o&&"auto"!==o||(o="horizontal"===r?"end":"start"),this.renderInner(n,t,e,a,s,r,o);var c=t.getBoxLayoutParams(),u={width:a.getWidth(),height:a.getHeight()},d=t.get("padding"),h=Kr(c,u,d),p=this.layoutInner(t,n,h,i,s,o),f=Kr(l({width:p.width,height:p.height},c),u,d);this.group.attr("position",[f.x-p.x,f.y-p.y]),this.group.add(this._backgroundEl=nh(p,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(t,e,a,i,n,r,s){var o=this.getContentGroup(),l=R(),c=e.get("selectedMode"),u=[];a.eachRawSeries((function(t){!t.get("legendHoverLink")&&u.push(t.id)})),pS(e.getData(),(function(n,r){var s=n.get("name");if(this.newlineDisabled||""!==s&&"\n"!==s){var d=a.getSeriesByName(s)[0];if(!l.get(s)){if(d){var h=d.getData(),p=h.getVisual("color"),f=h.getVisual("borderColor");"function"==typeof p&&(p=p(d.getDataParams(0))),"function"==typeof f&&(f=f(d.getDataParams(0)));var v=h.getVisual("legendSymbol")||"roundRect",m=h.getVisual("symbol");this._createItem(s,r,n,e,v,m,t,p,f,c).on("click",hS(sh,s,null,i,u)).on("mouseover",hS(oh,d.name,null,i,u)).on("mouseout",hS(lh,d.name,null,i,u)),l.set(s,!0)}else a.eachRawSeries((function(a){if(!l.get(s)&&a.legendVisualProvider){var o=a.legendVisualProvider;if(!o.containName(s))return;var d=o.indexOfName(s),h=o.getItemVisual(d,"color"),p=o.getItemVisual(d,"borderColor"),f="roundRect";this._createItem(s,r,n,e,f,null,t,h,p,c).on("click",hS(sh,null,s,i,u)).on("mouseover",hS(oh,null,s,i,u)).on("mouseout",hS(lh,null,s,i,u)),l.set(s,!0)}}),this);Hp&&(l.get(s)||console.warn(s+" series not exists. Legend data should be same with series name or data name."))}}else o.add(new fS({newline:!0}))}),this),n&&this._createSelector(n,e,i,r,s)},_createSelector:function(t,e,a){function i(t){var i=t.type,r=new wg({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});n.add(r);var s=e.getModel("selectorLabel"),o=e.getModel("emphasis.selectorLabel");Zn(r.style,r.hoverStyle={},s,o,{defaultText:t.title,isRectText:!1}),Rn(r)}var n=this.getSelectorGroup();pS(t,(function(t){i(t)}))},_createItem:function(t,e,a,i,n,r,s,l,c,u){var d=i.get("itemWidth"),h=i.get("itemHeight"),p=i.get("inactiveColor"),f=i.get("inactiveBorderColor"),v=i.get("symbolKeepAspect"),m=i.getModel("itemStyle"),g=i.isSelected(t),y=new fS,_=a.getModel("textStyle"),b=a.get("icon"),x=a.getModel("tooltip"),w=x.parentModel,S=Qc(n=b||n,0,0,d,h,g?l:p,null==v||v);if(y.add(rh(S,n,m,c,f,g)),!b&&r&&(r!==n||"none"===r)){var C=.8*h;"none"===r&&(r="circle");var I=Qc(r,(d-C)/2,(h-C)/2,C,C,g?l:p,null==v||v);y.add(rh(I,r,m,c,f,g))}var k="left"===s?d+5:-5,O=s,T=i.get("formatter"),P=t;"string"==typeof T&&T?P=T.replace("{name}",null!=t?t:""):"function"==typeof T&&(P=T(t)),y.add(new wg({style:qn({},_,{text:P,x:k,y:h/2,textFill:g?_.getTextColor():p,textAlign:O,textVerticalAlign:"middle"})}));var D=new Ag({shape:y.getBoundingRect(),invisible:!0,tooltip:x.get("show")?o({content:t,formatter:w.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:i.componentIndex,name:t,$vars:["name"]}},x.option):null});return y.add(D),y.eachChild((function(t){t.silent=!0})),D.silent=!u,this.getContentGroup().add(y),Rn(y),y.__legendDataIndex=e,y},layoutInner:function(t,e,a,i,n,r){var s=this.getContentGroup(),o=this.getSelectorGroup();Oy(t.get("orient"),s,t.get("itemGap"),a.width,a.height);var l=s.getBoundingRect(),c=[-l.x,-l.y];if(n){Oy("horizontal",o,t.get("selectorItemGap",!0));var u=o.getBoundingRect(),d=[-u.x,-u.y],h=t.get("selectorButtonGap",!0),p=t.getOrient().index,f=0===p?"width":"height",v=0===p?"height":"width",m=0===p?"y":"x";"end"===r?d[p]+=l[f]+h:c[p]+=u[f]+h,d[1-p]+=l[v]/2-u[v]/2,o.attr("position",d),s.attr("position",c);var g={x:0,y:0};return g[f]=l[f]+h+u[f],g[v]=Math.max(l[v],u[v]),g[m]=Math.min(0,u[m]+d[1-p]),g}return s.attr("position",c),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}}),mS=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var a=0;a<e.length;a++)if(!e[a].isSelected(t.name))return!1;return!0}))};Il(vb.PROCESSOR.SERIES_FILTER,mS),Dy.registerSubTypeDefaulter("legend",(function(){return"plain"}));var gS=dS.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,a,i){var n=ts(t);gS.superCall(this,"init",t,e,a,i),ch(this,t,n)},mergeOption:function(t,e){gS.superCall(this,"mergeOption",t,e),ch(this,this.option,t)}}),yS=ov,_S=["width","height"],bS=["x","y"],xS=vS.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){xS.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new yS),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new yS),this._showController},resetInner:function(){xS.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,a,i,n,r,s){function o(t,a){var n=t+"DataIndex",r=cr(e.get("pageIcons",!0)[e.getOrient().name][a],{onclick:_(l._pageGo,l,n,e,i)},{x:-u[0]/2,y:-u[1]/2,width:u[0],height:u[1]});r.name=t,c.add(r)}var l=this;xS.superCall(this,"renderInner",t,e,a,i,n,r,s);var c=this._controllerGroup,u=e.get("pageIconSize",!0);x(u)||(u=[u,u]),o("pagePrev",0);var d=e.getModel("pageTextStyle");c.add(new wg({name:"pageText",style:{textFill:d.getTextColor(),font:d.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),o("pageNext",1)},layoutInner:function(t,e,a,i,r,s){var o=this.getSelectorGroup(),l=t.getOrient().index,c=_S[l],u=bS[l],d=_S[1-l],h=bS[1-l];r&&Oy("horizontal",o,t.get("selectorItemGap",!0));var p=t.get("selectorButtonGap",!0),f=o.getBoundingRect(),v=[-f.x,-f.y],m=n(a);r&&(m[c]=a[c]-f[c]-p);var g=this._layoutContentAndController(t,i,m,l,c,d,h);if(r){if("end"===s)v[l]+=g[c]+p;else{var y=f[c]+p;v[l]-=y,g[u]-=y}g[c]+=f[c]+p,v[1-l]+=g[h]+g[d]/2-f[d]/2,g[d]=Math.max(g[d],f[d]),g[h]=Math.min(g[h],f[h]+v[1-l]),o.attr("position",v)}return g},_layoutContentAndController:function(t,e,a,i,n,r,s){var o=this.getContentGroup(),l=this._containerGroup,c=this._controllerGroup;Oy(t.get("orient"),o,t.get("itemGap"),i?a.width:null,i?null:a.height),Oy("horizontal",c,t.get("pageButtonItemGap",!0));var u=o.getBoundingRect(),d=c.getBoundingRect(),h=this._showController=u[n]>a[n],p=[-u.x,-u.y];e||(p[i]=o.position[i]);var f=[0,0],v=[-d.x,-d.y],m=D(t.get("pageButtonGap",!0),t.get("itemGap",!0));h&&("end"===t.get("pageButtonPosition",!0)?v[i]+=a[n]-d[n]:f[i]+=d[n]+m),v[1-i]+=u[r]/2-d[r]/2,o.attr("position",p),l.attr("position",f),c.attr("position",v);var g={x:0,y:0};if(g[n]=h?a[n]:u[n],g[r]=Math.max(u[r],d[r]),g[s]=Math.min(0,d[s]+v[1-i]),l.__rectSize=a[n],h){var y={x:0,y:0};y[n]=Math.max(a[n]-d[n]-m,0),y[r]=g[r],l.setClipPath(new Ag({shape:y})),l.__rectSize=y[n]}else c.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var _=this._getPageInfo(t);return null!=_.pageIndex&&er(o,{position:_.contentPosition},!!h&&t),this._updatePageInfoView(t,_),g},_pageGo:function(t,e,a){var i=this._getPageInfo(e)[t];null!=i&&a.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})},_updatePageInfoView:function(t,e){var a=this._controllerGroup;f(["pagePrev","pageNext"],(function(i){var n=null!=e[i+"DataIndex"],r=a.childOfName(i);r&&(r.setStyle("fill",n?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=n?"pointer":"default")}));var i=a.childOfName("pageText"),n=t.get("pageFormatter"),r=e.pageIndex,s=null!=r?r+1:0,o=e.pageCount;i&&n&&i.setStyle("text",S(n)?n.replace("{current}",s).replace("{total}",o):n({current:s,total:o}))},_getPageInfo:function(t){function e(t){if(t){var e=t.getBoundingRect(),a=e[l]+t.position[s];return{s:a,e:a+e[o],i:t.__legendDataIndex}}}function a(t,e){return t.e>=e&&t.s<=e+r}var i=t.get("scrollDataIndex",!0),n=this.getContentGroup(),r=this._containerGroup.__rectSize,s=t.getOrient().index,o=_S[s],l=bS[s],c=this._findTargetItemIndex(i),u=n.children(),d=u[c],h=u.length,p=h?1:0,f={contentPosition:n.position.slice(),pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return f;var v=e(d);f.contentPosition[s]=-v.s;for(var m=c+1,g=v,y=v,_=null;h>=m;++m)(!(_=e(u[m]))&&y.e>g.s+r||_&&!a(_,g.s))&&(g=y.i>g.i?y:_)&&(null==f.pageNextDataIndex&&(f.pageNextDataIndex=g.i),++f.pageCount),y=_;for(m=c-1,g=v,y=v,_=null;m>=-1;--m)(_=e(u[m]))&&a(y,_.s)||!(g.i<y.i)||(y=g,null==f.pagePrevDataIndex&&(f.pagePrevDataIndex=g.i),++f.pageCount,++f.pageIndex),g=_;return f},_findTargetItemIndex:function(t){return this._showController?(this.getContentGroup().eachChild((function(i,n){var r=i.__legendDataIndex;null==a&&null!=r&&(a=n),r===t&&(e=n)})),null!=e?e:a):0;var e,a}});Ol("legendScroll","legendscroll",(function(t,e){var a=t.scrollDataIndex;null!=a&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(a)}))}));var wS=function(t,e){var a,i=[],n=t.seriesIndex;if(null==n||!(a=e.getSeriesByIndex(n)))return{point:[]};var r=a.getData(),s=li(r,t);if(null==s||0>s||x(s))return{point:[]};var o=r.getItemGraphicEl(s),l=a.coordinateSystem;if(a.getTooltipPosition)i=a.getTooltipPosition(s)||[];else if(l&&l.dataToPoint)i=l.dataToPoint(r.getValues(v(l.dimensions,(function(t){return r.mapDimension(t)})),s,!0))||[];else if(o){var c=o.getBoundingRect().clone();c.applyTransform(o.transform),i=[c.x+c.width/2,c.y+c.height/2]}return{point:i,el:o}},SS=f,CS=b,IS=ci(),kS=function(t,e,a){var i=t.currTrigger,n=[t.x,t.y],r=t,s=t.dispatchAction||_(a.dispatchAction,a),o=e.getComponent("axisPointer").coordSysAxesInfo;if(o){_h(n)&&(n=wS({seriesIndex:r.seriesIndex,dataIndex:r.dataIndex},e).point);var l=_h(n),c=r.axesInfo,u=o.axesInfo,d="leave"===i||_h(n),h={},p={},f={list:[],map:{}},v={showPointer:CS(hh,p),showTooltip:CS(ph,f)};SS(o.coordSysMap,(function(t,e){var a=l||t.containPoint(n);SS(o.coordSysAxesInfo[e],(function(t){var e=t.axis,i=gh(c,t);if(!d&&a&&(!c||i)){var r=i&&i.value;null!=r||l||(r=e.pointToData(n)),null!=r&&uh(t,r,v,!1,h)}}))}));var m={};return SS(u,(function(t,e){var a=t.linkGroup;a&&!p[e]&&SS(a.axesInfo,(function(e,i){var n=p[i];if(e!==t&&n){var r=n.value;a.mapper&&(r=t.axis.scale.parse(a.mapper(r,yh(e),yh(t)))),m[t.key]=r}}))})),SS(m,(function(t,e){uh(u[e],t,v,!0,h)})),fh(p,u,h),vh(f,n,t,s),mh(u,s,a),h}},OS=(Al({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),ci()),TS=f,PS=jl({type:"axisPointer",render:function(t,e,a){var i=e.getComponent("tooltip"),n=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";bh("axisPointer",a,(function(t,e,a){"none"!==n&&("leave"===t||n.indexOf(t)>=0)&&a({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},remove:function(t,e){kh(e.getZr(),"axisPointer"),PS.superApply(this._model,"remove",arguments)},dispose:function(t,e){kh("axisPointer",e),PS.superApply(this._model,"dispose",arguments)}}),DS=ci(),MS=n,LS=_;Oh.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,a,i){var n=e.get("value"),r=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=a,i||this._lastValue!==n||this._lastStatus!==r){this._lastValue=n,this._lastStatus=r;var s=this._group,o=this._handle;if(!r||"hide"===r)return s&&s.hide(),void(o&&o.hide());s&&s.show(),o&&o.show();var l={};this.makeElOption(l,n,t,e,a);var c=l.graphicKey;c!==this._lastGraphicKey&&this.clear(a),this._lastGraphicKey=c;var u=this._moveAnimation=this.determineAnimation(t,e);if(s){var d=b(Th,e,u);this.updatePointerEl(s,l,d,e),this.updateLabelEl(s,l,d,e)}else s=this._group=new ov,this.createPointerEl(s,l,t,e),this.createLabelEl(s,l,t,e),a.getZr().add(s);Lh(s,e,!0),this._renderHandle(n)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var a=e.get("animation"),i=t.axis,n="category"===i.type,r=e.get("snap");if(!r&&!n)return!1;if("auto"===a||null==a){var s=this.animationThreshold;if(n&&i.getBandWidth()>s)return!0;if(r){var o=fd(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/o>s}return!1}return!0===a},makeElOption:function(){},createPointerEl:function(t,e){var a=e.pointer;if(a){var i=DS(t).pointerEl=new ry[a.type](MS(e.pointer));t.add(i)}},createLabelEl:function(t,e,a,i){if(e.label){var n=DS(t).labelEl=new Ag(MS(e.label));t.add(n),Dh(n,i)}},updatePointerEl:function(t,e,a){var i=DS(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),a(i,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,a,i){var n=DS(t).labelEl;n&&(n.setStyle(e.label.style),a(n,{shape:e.label.shape,position:e.label.position}),Dh(n,i))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,a=this._axisPointerModel,i=this._api.getZr(),n=this._handle,r=a.getModel("handle"),s=a.get("status");if(!r.get("show")||!s||"hide"===s)return n&&i.remove(n),void(this._handle=null);this._handle||(e=!0,n=this._handle=cr(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Sf(t.event)},onmousedown:LS(this._onHandleDragMove,this,0,0),drift:LS(this._onHandleDragMove,this),ondragend:LS(this._onHandleDragEnd,this)}),i.add(n)),Lh(n,a,!1);var o=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];n.setStyle(r.getItemStyle(null,o));var l=r.get("size");x(l)||(l=[l,l]),n.attr("scale",[l[0]/2,l[1]/2]),bo(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){Th(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Mh(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var a=this._handle;if(a){this._dragging=!0;var i=this.updateHandleTransform(Mh(a),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,a.stopAnimation(),a.attr(Mh(i)),DS(a).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),a=this._group,i=this._handle;e&&a&&(this._lastGraphicKey=null,a&&e.remove(a),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,a){return{x:t[a=a||0],y:t[1-a],width:e[a],height:e[1-a]}}},Oh.prototype.constructor=Oh,gi(Oh);var ES=Oh.extend({makeElOption:function(t,e,a,i,n){var r=a.axis,s=r.grid,o=i.get("type"),l=zh(s,r).getOtherAxis(r).getGlobalExtent(),c=r.toGlobalCoord(r.dataToCoord(e,!0));if(o&&"none"!==o){var u=Eh(i),d=AS[o](r,c,l);d.style=u,t.graphicKey=d.type,t.pointer=d}Vh(e,t,bd(s.model,a),a,i,n)},getHandleTransform:function(t,e,a){var i=bd(e.axis.grid.model,e,{labelInside:!1});return i.labelMargin=a.get("handle.margin"),{position:Nh(e.axis,t,i),rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,a){var i=a.axis,n=i.grid,r=i.getGlobalExtent(!0),s=zh(n,i).getOtherAxis(i).getGlobalExtent(),o="x"===i.dim?0:1,l=t.position;l[o]+=e[o],l[o]=Math.min(r[1],l[o]),l[o]=Math.max(r[0],l[o]);var c=(s[1]+s[0])/2,u=[c,c];u[o]=l[o];var d=[{verticalAlign:"middle"},{align:"center"}];return{position:l,rotation:t.rotation,cursorPoint:u,tooltipOption:d[o]}}}),AS={line:function(t,e,a){return{type:"Line",subPixelOptimize:!0,shape:Rh([e,a[0]],[e,a[1]],Bh(t))}},shadow:function(t,e,a){var i=Math.max(1,t.getBandWidth()),n=a[1]-a[0];return{type:"Rect",shape:Fh([e-i/2,a[0]],[i,n],Bh(t))}}};Cw.registerAxisPointerClass("CartesianAxisPointer",ES),Cl((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!x(e)&&(t.axisPointer.link=[e])}})),Il(vb.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=od(t,e)})),Ol({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},kS),Al({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var jS=f,$S=Rr,NS=["","-webkit-","-moz-","-o-"],VS="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";Uh.prototype={constructor:Uh,_enterable:!0,update:function(t){var e=this._container,a=e.currentStyle||document.defaultView.getComputedStyle(e),i=e.style;"absolute"!==i.position&&"absolute"!==a.position&&(i.position="relative"),t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[2],e=this._styleCoord[3],a=t*this._zr.getWidth(),i=e*this._zr.getHeight();this.moveTo(a,i)},show:function(t){clearTimeout(this._hideTimeout);var e=this.el,a=this._styleCoord;e.style.cssText=VS+qh(t)+";left:"+a[0]+"px;top:"+a[1]+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var a=this._styleCoord;Gh(a,this._zr,this._appendToBody,t,e);var i=this.el.style;i.left=a[0]+"px",i.top=a[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(_(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var a=document.defaultView.getComputedStyle(this.el);a&&(t+=parseInt(a.borderLeftWidth,10)+parseInt(a.borderRightWidth,10),e+=parseInt(a.borderTopWidth,10)+parseInt(a.borderBottomWidth,10))}return{width:t,height:e}}},Wh.prototype={constructor:Wh,_enterable:!0,update:function(t){t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[2],e=this._styleCoord[3],a=t*this._zr.getWidth(),i=e*this._zr.getHeight();this.moveTo(a,i)},show:function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,a){this.el&&this._zr.remove(this.el);for(var i={},n=t,r="{marker",s="|}",o=n.indexOf(r);o>=0;){var l=n.indexOf(s),c=n.substr(o+r.length,l-o-r.length);i["marker"+c]=c.indexOf("sub")>-1?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[c],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[c]},o=(n=n.substr(l+1)).indexOf("{marker")}var u=a.getModel("textStyle"),d=u.get("fontSize"),h=a.get("textLineHeight");null==h&&(h=Math.round(3*d/2)),this.el=new wg({style:qn({},u,{rich:i,text:t,textBackgroundColor:a.get("backgroundColor"),textBorderRadius:a.get("borderRadius"),textFill:a.get("textStyle.color"),textPadding:a.get("padding"),textLineHeight:h}),z:a.get("z")}),this._zr.add(this.el);var p=this;this.el.on("mouseover",(function(){p._enterable&&(clearTimeout(p._hideTimeout),p._show=!0),p._inContent=!0})),this.el.on("mouseout",(function(){p._enterable&&p._show&&p.hideLater(p._hideDelay),p._inContent=!1}))},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){if(this.el){var a=this._styleCoord;Xh(a,this._zr,t,e),this.el.attr("position",[a[0],a[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(_(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};var RS=_,FS=f,zS=wr,BS=new Ag({shape:{x:-1,y:-1,width:2,height:2}});jl({type:"tooltip",init:function(t,e){if(!Up.node){var a,i=t.getComponent("tooltip"),n=i.get("renderMode");this._renderMode=fi(n),"html"===this._renderMode?(a=new Uh(e.getDom(),e,{appendToBody:i.get("appendToBody",!0)}),this._newLine="<br/>"):(a=new Wh(e),this._newLine="\n"),this._tooltipContent=a}},render:function(t,e,a){if(!Up.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=a,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");bh("itemTooltip",this._api,RS((function(e,a,i){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(a,i):"leave"===e&&this._hide(i))}),this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,a=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!a.isDisposed()&&i.manuallyShowTip(t,e,a,{x:i._lastX,y:i._lastY})}))}},manuallyShowTip:function(t,e,a,i){if(i.from!==this.uid&&!Up.node){var n=Kh(i,a);this._ticket="";var r=i.dataByCoordSys;if(i.tooltip&&null!=i.x&&null!=i.y){var s=BS;s.position=[i.x,i.y],s.update(),s.tooltip=i.tooltip,this._tryShow({offsetX:i.x,offsetY:i.y,target:s},n)}else if(r)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:i.dataByCoordSys,tooltipOption:i.tooltipOption},n);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,a,i))return;var o=wS(i,e),l=o.point[0],c=o.point[1];null!=l&&null!=c&&this._tryShow({offsetX:l,offsetY:c,position:i.position,target:o.el},n)}else null!=i.x&&null!=i.y&&(a.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:a.getZr().findHover(i.x,i.y).target},n))}},manuallyHideTip:function(t,e,a,i){var n=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&n.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,i.from!==this.uid&&this._hide(Kh(i,a))},_manuallyAxisShowTip:function(t,e,a,i){var n=i.seriesIndex,r=i.dataIndex,s=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=n&&null!=r&&null!=s){var o=e.getSeriesByIndex(n);if(o&&"axis"===(t=Yh([o.getData().getItemModel(r),o,(o.coordinateSystem||{}).model,t])).get("trigger"))return a.dispatchAction({type:"updateAxisPointer",seriesIndex:n,dataIndex:r,position:i.position}),!0}},_tryShow:function(t,e){var a=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var i=t.dataByCoordSys;i&&i.length?this._showAxisTooltip(i,t):a&&null!=a.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,a,e)):a&&a.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,a,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var a=t.get("showDelay");e=_(e,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(e,a):e()},_showAxisTooltip:function(t,e){var a=this._ecModel,i=this._tooltipModel,n=[e.offsetX,e.offsetY],s=[],o=[],l=Yh([e.tooltipOption,i]),c=this._renderMode,u=this._newLine,d={};FS(t,(function(t){FS(t.dataByAxis,(function(t){var e=a.getComponent(t.axisDim+"Axis",t.axisIndex),i=t.value,n=[];if(e&&null!=i){var l=$h(i,e.axis,a,t.seriesDataIndices,t.valueLabelOpt);f(t.seriesDataIndices,(function(s){var u=a.getSeriesByIndex(s.seriesIndex),h=s.dataIndexInside,p=u&&u.getDataParams(h);if(p.axisDim=t.axisDim,p.axisIndex=t.axisIndex,p.axisType=t.axisType,p.axisId=t.axisId,p.axisValue=Uc(e.axis,i),p.axisValueLabel=l,p){o.push(p);var f,v=u.formatTooltip(h,!0,null,c);if(C(v)){f=v.html;var m=v.markers;r(d,m)}else f=v;n.push(f)}}));var h=l;s.push("html"!==c?n.join(u):(h?Fr(h)+u:"")+n.join(u))}}))}),this),s.reverse(),s=s.join(this._newLine+this._newLine);var h=e.position;this._showOrMove(l,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(l,h,n[0],n[1],this._tooltipContent,o):this._showTooltipContent(l,s,o,Math.random(),n[0],n[1],h,void 0,d)}))},_showSeriesItemTooltip:function(t,e,a){var i=this._ecModel,n=e.seriesIndex,r=i.getSeriesByIndex(n),s=e.dataModel||r,o=e.dataIndex,l=e.dataType,c=s.getData(l),u=Yh([c.getItemModel(o),s,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),d=u.get("trigger");if(null==d||"item"===d){var h,p,f=s.getDataParams(o,l),v=s.formatTooltip(o,!1,l,this._renderMode);C(v)?(h=v.html,p=v.markers):(h=v,p=null);var m="item_"+s.name+"_"+o;this._showOrMove(u,(function(){this._showTooltipContent(u,h,f,m,t.offsetX,t.offsetY,t.position,t.target,p)})),a({type:"showTip",dataIndexInside:o,dataIndex:c.getRawIndex(o),seriesIndex:n,from:this.uid})}},_showComponentItemTooltip:function(t,e,a){var i=e.tooltip;"string"==typeof i&&(i={content:i,formatter:i});var n=new fr(i,this._tooltipModel,this._ecModel),r=n.get("content"),s=Math.random();this._showOrMove(n,(function(){this._showTooltipContent(n,r,n.get("formatterParams")||{},s,t.offsetX,t.offsetY,t.position,e)})),a({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,a,i,n,r,s,o,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var c=this._tooltipContent,u=t.get("formatter");s=s||t.get("position");var d=e;if(u&&"string"==typeof u)d=zr(u,a,!0);else if("function"==typeof u){var h=RS((function(e,i){e===this._ticket&&(c.setContent(i,l,t),this._updatePosition(t,s,n,r,c,a,o))}),this);this._ticket=i,d=u(a,i,h)}c.setContent(d,l,t),c.show(t),this._updatePosition(t,s,n,r,c,a,o)}},_updatePosition:function(t,e,a,i,n,r,s){var o=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var c=n.getSize(),u=t.get("align"),d=t.get("verticalAlign"),h=s&&s.getBoundingRect().clone();if(s&&h.applyTransform(s.transform),"function"==typeof e&&(e=e([a,i],r,n.el,h,{viewSize:[o,l],contentSize:c.slice()})),x(e))a=zS(e[0],o),i=zS(e[1],l);else if(C(e)){e.width=c[0],e.height=c[1];var p=Kr(e,{width:o,height:l});a=p.x,i=p.y,u=null,d=null}else if("string"==typeof e&&s)a=(f=tp(e,h,c))[0],i=f[1];else{var f;a=(f=Jh(a,i,n,o,l,u?null:20,d?null:20))[0],i=f[1]}u&&(a-=ep(u)?c[0]/2:"right"===u?c[0]:0),d&&(i-=ep(d)?c[1]/2:"bottom"===d?c[1]:0),t.get("confine")&&(a=(f=Qh(a,i,n,o,l))[0],i=f[1]),n.moveTo(a,i)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,a=!!e&&e.length===t.length;return a&&FS(e,(function(e,i){var n=e.dataByAxis||{},r=(t[i]||{}).dataByAxis||[];(a&=n.length===r.length)&&FS(n,(function(t,e){var i=r[e]||{},n=t.seriesDataIndices||[],s=i.seriesDataIndices||[];(a&=t.value===i.value&&t.axisType===i.axisType&&t.axisId===i.axisId&&n.length===s.length)&&FS(n,(function(t,e){var i=s[e];a&=t.seriesIndex===i.seriesIndex&&t.dataIndex===i.dataIndex}))}))})),this._lastDataByCoordSys=t,!!a},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){Up.node||(this._tooltipContent.dispose(),kh("itemTooltip",e))}}),Ol({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),Ol({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){})),Dy.registerSubTypeDefaulter("dataZoom",(function(){return"slider"}));var ZS=["cartesian2d","polar","singleAxis"],HS=ip(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),qS=function(t,e,a,i,n,r){t=t||0;var s=a[1]-a[0];if(null!=n&&(n=sp(n,[0,s])),null!=r&&(r=Math.max(r,null!=n?n:0)),"all"===i){var o=Math.abs(e[1]-e[0]);o=sp(o,[0,s]),n=r=sp(o,[n,r]),i=0}e[0]=sp(e[0],a),e[1]=sp(e[1],a);var l=rp(e,i);e[i]+=t;var c=n||0,u=a.slice();l.sign<0?u[0]+=c:u[1]-=c,e[i]=sp(e[i],u);var d=rp(e,i);return null!=n&&(d.sign!==l.sign||d.span<n)&&(e[1-i]=e[i]+l.sign*n),d=rp(e,i),null!=r&&d.span>r&&(e[1-i]=e[i]+d.sign*r),e},GS=f,US=Cr,XS=function(t,e,a,i){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=i,this._dataZoomModel=a};XS.prototype={constructor:XS,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries((function(a){if(ap(a.get("coordinateSystem"))){var i=this._dimName,n=e.queryComponents({mainType:i+"Axis",index:a.get(i+"AxisIndex"),id:a.get(i+"AxisId")})[0];this._axisIndex===(n&&n.componentIndex)&&t.push(a)}}),this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,a,i=this._dimName,n=this.ecModel,r=this.getAxisModel();return"x"===i||"y"===i?(e="gridIndex",t="x"===i?"y":"x"):(e="polarIndex",t="angle"===i?"radius":"angle"),n.eachComponent(t+"Axis",(function(t){(t.get(e)||0)===(r.get(e)||0)&&(a=t)})),a},getMinMaxSpan:function(){return n(this._minMaxSpan)},calculateDataWindow:function(t){function e(t,e,a,i,r){var s=r?"Span":"ValueSpan";qS(0,t,a,"all",c["min"+s],c["max"+s]);for(var o=0;2>o;o++)e[o]=xr(t[o],a,i,!0),r&&(e[o]=n.parse(e[o]))}var a,i=this._dataExtent,n=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),s=[0,100],o=[],l=[];GS(["start","end"],(function(e,c){var u=t[e],d=t[e+"Value"];"percent"===r[c]?(null==u&&(u=s[c]),d=n.parse(xr(u,s,i))):(a=!0,u=xr(d=null==d?i[c]:n.parse(d),i,s)),l[c]=d,o[c]=u})),US(l),US(o);var c=this._minMaxSpan;return a?e(l,o,i,s,!1):e(o,l,s,i,!0),{valueWindow:l,percentWindow:o}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=op(this,this._dimName,e),up(this);var a=this.calculateDataWindow(t.settledOption);this._valueWindow=a.valueWindow,this._percentWindow=a.percentWindow,cp(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,cp(this,!0))},filterData:function(t){function e(t){return t>=r[0]&&t<=r[1]}if(t===this._dataZoomModel){var a=this._dimName,i=this.getTargetSeriesModels(),n=t.get("filterMode"),r=this._valueWindow;"none"!==n&&GS(i,(function(t){var i=t.getData(),s=i.mapDimension(a,!0);s.length&&("weakFilter"===n?i.filterSelf((function(t){for(var e,a,n,o=0;o<s.length;o++){var l=i.get(s[o],t),c=!isNaN(l),u=l<r[0],d=l>r[1];if(c&&!u&&!d)return!0;c&&(n=!0),u&&(e=!0),d&&(a=!0)}return n&&e&&a})):GS(s,(function(a){if("empty"===n)t.setData(i=i.map(a,(function(t){return e(t)?t:NaN})));else{var s={};s[a]=r,i.selectRange(s)}})),GS(s,(function(t){i.setApproximateExtent(r,t)})))}))}}};var WS=f,YS=HS,KS=Al({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,a){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var i=dp(t);this.settledOption=i,this.mergeDefaultAndTheme(t,a),this.doInit(i)},mergeOption:function(t){var e=dp(t);r(this.option,t,!0),r(this.settledOption,e,!0),this.doInit(e)},doInit:function(t){var e=this.option;Up.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),hp(this,t);var a=this.settledOption;WS([["start","startValue"],["end","endValue"]],(function(t,i){"value"===this._rangePropMode[i]&&(e[t[0]]=a[t[0]]=null)}),this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis((function(e,a,i,n){var r=this.dependentModels[e.axis][a],s=r.__dzAxisProxy||(r.__dzAxisProxy=new XS(e.name,a,this,n));t[e.name+"_"+a]=s}),this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();YS((function(e){var a=e.axisIndex;t[a]=ti(t[a])}),this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;YS((function(a){null!=t[a.axisIndex]&&(e=!0)}),this);var a=t.orient;return null==a&&e?"orient":e?void 0:(null==a&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),a=this.option,i=this.dependentModels;if(t){var n="vertical"===e?"y":"x";i[n+"Axis"].length?(a[n+"AxisIndex"]=[0],t=!1):WS(i.singleAxis,(function(i){t&&i.get("orient",!0)===e&&(a.singleAxisIndex=[i.componentIndex],t=!1)}))}t&&YS((function(e){if(t){var i=[],n=this.dependentModels[e.axis];if(n.length&&!i.length)for(var r=0,s=n.length;s>r;r++)"category"===n[r].get("type")&&i.push(r);a[e.axisIndex]=i,i.length&&(t=!1)}}),this),t&&this.ecModel.eachSeries((function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&YS((function(e){var i=a[e.axisIndex],n=t.get(e.axisIndex),r=t.get(e.axisId),s=t.ecModel.queryComponents({mainType:e.axis,index:n,id:r})[0];if(Hp&&!s)throw new Error(e.axis+' "'+P(n,r,0)+'" not found');u(i,n=s.componentIndex)<0&&i.push(n)}))}),this)},_autoSetOrient:function(){var t;this.eachTargetAxis((function(e){!t&&(t=e.name)}),this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var a=!0;return YS((function(i){var n=t.get(i.axisIndex),r=this.dependentModels[i.axis][n];r&&r.get("type")===e||(a=!1)}),this),a},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return YS((function(e){if(null==t){var a=this.get(e.axisIndex);a.length&&(t=this.dependentModels[e.axis][a[0]])}}),this),t},eachTargetAxis:function(t,e){var a=this.ecModel;YS((function(i){WS(this.get(i.axisIndex),(function(n){t.call(e,i,n,this,a)}),this)}),this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var a=this.getAxisProxy(t,e);return a&&a.getAxisModel()},setRawRange:function(t){var e=this.option,a=this.settledOption;WS([["start","startValue"],["end","endValue"]],(function(i){(null!=t[i[0]]||null!=t[i[1]])&&(e[i[0]]=a[i[0]]=t[i[0]],e[i[1]]=a[i[1]]=t[i[1]])}),this),hp(this,t)},setCalculatedRange:function(t){var e=this.option;WS(["start","startValue","end","endValue"],(function(a){e[a]=t[a]}))},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();return t?t.getDataPercentWindow():void 0},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var a=this.findRepresentativeAxisProxy();return a?a.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var a in e)if(e.hasOwnProperty(a)&&e[a].hostedBy(this))return e[a];for(var a in e)if(e.hasOwnProperty(a)&&!e[a].hostedBy(this))return e[a]},getRangePropMode:function(){return this._rangePropMode.slice()}}),JS=y_.extend({type:"dataZoom",render:function(t,e,a){this.dataZoomModel=t,this.ecModel=e,this.api=a},getTargetCoordInfo:function(){function t(t,e,a,i){for(var n,r=0;r<a.length;r++)if(a[r].model===t){n=a[r];break}n||a.push(n={model:t,axisModels:[],coordIndex:i}),n.axisModels.push(e)}var e=this.dataZoomModel,a=this.ecModel,i={};return e.eachTargetAxis((function(e,n){var r=a.getComponent(e.axis,n);if(r){var s=r.getCoordSysModel();s&&t(s,r,i[s.mainType]||(i[s.mainType]=[]),s.componentIndex)}}),this),i}}),QS=(KS.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),Ag),tC=xr,eC=Cr,aC=_,iC=f,nC=7,rC=1,sC=30,oC="horizontal",lC="vertical",cC=5,uC=["line","bar","candlestick","scatter"],dC=JS.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,a,i){return dC.superApply(this,"render",arguments),bo(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1===this.dataZoomModel.get("show")?void this.group.removeAll():(i&&"dataZoom"===i.type&&i.from===this.uid||this._buildView(),void this._updateView())},remove:function(){dC.superApply(this,"remove",arguments),xo(this,"_dispatchZoomAction")},dispose:function(){dC.superApply(this,"dispose",arguments),xo(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new ov;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,a=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},n=this._orient===oC?{right:i.width-a.x-a.width,top:i.height-sC-nC,width:a.width,height:sC}:{right:nC,top:a.y,width:sC,height:a.height},r=ts(t.option);f(["right","top","width","height"],(function(t){"ph"===r[t]&&(r[t]=n[t])}));var s=Kr(r,i,t.padding);this._location={x:s.x,y:s.y},this._size=[s.width,s.height],this._orient===lC&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,a=this._orient,i=this.dataZoomModel.getFirstTargetAxisModel(),n=i&&i.get("inverse"),r=this._displayables.barGroup,s=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(a!==oC||n?a===oC&&n?{scale:s?[-1,1]:[-1,-1]}:a!==lC||n?{scale:s?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:s?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:s?[1,1]:[1,-1]});var o=t.getBoundingRect([r]);t.attr("position",[e.x-o.x,e.y-o.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,a=this._displayables.barGroup;a.add(new QS({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),a.add(new QS({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:_(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,a=t.series,i=a.getRawData(),n=a.getShadowDim?a.getShadowDim():t.otherDim;if(null!=n){var r=i.getDataExtent(n),s=.3*(r[1]-r[0]);r=[r[0]-s,r[1]+s];var o,c=[0,e[1]],u=[0,e[0]],d=[[e[0],0],[0,0]],h=[],p=u[1]/(i.count()-1),f=0,v=Math.round(i.count()/e[0]);i.each([n],(function(t,e){if(v>0&&e%v)f+=p;else{var a=null==t||isNaN(t)||""===t,i=a?0:tC(t,r,c,!0);a&&!o&&e?(d.push([d[d.length-1][0],0]),h.push([h[h.length-1][0],0])):!a&&o&&(d.push([f,0]),h.push([f,0])),d.push([f,i]),h.push([f,i]),f+=p,o=a}}));var m=this.dataZoomModel;this._displayables.barGroup.add(new Dg({shape:{points:d},style:l({fill:m.get("dataBackgroundColor")},m.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new Mg({shape:{points:h},style:m.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var a,i=this.ecModel;return t.eachTargetAxis((function(n,r){f(t.getAxisProxy(n.name,r).getTargetSeriesModels(),(function(t){if(!(a||!0!==e&&u(uC,t.get("type"))<0)){var s,o=i.getComponent(n.axis,r).axis,l=pp(n.name),c=t.coordinateSystem;null!=l&&c.getOtherAxis&&(s=c.getOtherAxis(o).inverse),l=t.getData().mapDimension(l),a={thisAxis:o,series:t,thisDim:n.name,otherDim:l,otherAxisInverse:s}}}),this)}),this),a}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],a=t.handleLabels=[],i=this._displayables.barGroup,n=this._size,r=this.dataZoomModel;i.add(t.filler=new QS({draggable:!0,cursor:fp(this._orient),drift:aC(this._onDragMove,this,"all"),ondragstart:aC(this._showDataInfo,this,!0),ondragend:aC(this._onDragEnd,this),onmouseover:aC(this._showDataInfo,this,!0),onmouseout:aC(this._showDataInfo,this,!1),style:{fill:r.get("fillerColor"),textPosition:"inside"}})),i.add(new QS({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:rC,fill:"rgba(0,0,0,0)"}})),iC([0,1],(function(t){var n=cr(r.get("handleIcon"),{cursor:fp(this._orient),draggable:!0,drift:aC(this._onDragMove,this,t),ondragend:aC(this._onDragEnd,this),onmouseover:aC(this._showDataInfo,this,!0),onmouseout:aC(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),s=n.getBoundingRect();this._handleHeight=wr(r.get("handleSize"),this._size[1]),this._handleWidth=s.width/s.height*this._handleHeight,n.setStyle(r.getModel("handleStyle").getItemStyle());var o=r.get("handleColor");null!=o&&(n.style.fill=o),i.add(e[t]=n);var l=r.textStyleModel;this.group.add(a[t]=new wg({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:l.getTextColor(),textFont:l.getFont()},z2:10}))}),this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[tC(t[0],[0,100],e,!0),tC(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var a=this.dataZoomModel,i=this._handleEnds,n=this._getViewExtent(),r=a.findRepresentativeAxisProxy().getMinMaxSpan(),s=[0,100];qS(e,i,n,a.get("zoomLock")?"all":t,null!=r.minSpan?tC(r.minSpan,s,n,!0):null,null!=r.maxSpan?tC(r.maxSpan,s,n,!0):null);var o=this._range,l=this._range=eC([tC(i[0],n,s,!0),tC(i[1],n,s,!0)]);return!o||o[0]!==l[0]||o[1]!==l[1]},_updateView:function(t){var e=this._displayables,a=this._handleEnds,i=eC(a.slice()),n=this._size;iC([0,1],(function(t){var i=e.handles[t],r=this._handleHeight;i.attr({scale:[r/2,r/2],position:[a[t],n[1]/2-r/2]})}),this),e.filler.setShape({x:i[0],y:0,width:i[1]-i[0],height:n[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=ir(i.handles[t].parent,this.group),a=rr(0===t?"right":"left",e),o=this._handleWidth/2+cC,l=nr([d[t]+(0===t?-o:o),this._size[1]/2],e);n[t].setStyle({x:l[0],y:l[1],textVerticalAlign:r===oC?"middle":a,textAlign:r===oC?a:"center",text:s[t]})}var a=this.dataZoomModel,i=this._displayables,n=i.handleLabels,r=this._orient,s=["",""];if(a.get("showDetail")){var o=a.findRepresentativeAxisProxy();if(o){var l=o.getAxisModel().axis,c=this._range,u=t?o.calculateDataWindow({start:c[0],end:c[1]}).valueWindow:o.getDataValueWindow();s=[this._formatLabel(u[0],l),this._formatLabel(u[1],l)]}}var d=eC(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var a=this.dataZoomModel,i=a.get("labelFormatter"),n=a.get("labelPrecision");(null==n||"auto"===n)&&(n=e.getPixelPrecision());var r=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(n,20));return w(i)?i(t,r):S(i)?i.replace("{value}",r):r},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,a,i){this._dragging=!0,Sf(i.event);var n=nr([e,a],this._displayables.barGroup.getLocalTransform(),!0),r=this._updateInterval(t,n[0]),s=this.dataZoomModel.get("realtime");this._updateView(!s),r&&s&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,a=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(a[0]<0||a[0]>e[0]||a[1]<0||a[1]>e[1])){var i=this._handleEnds,n=(i[0]+i[1])/2,r=this._updateInterval("all",a[0]-n);this._updateView(),r&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(iC(this.getTargetCoordInfo(),(function(e){if(!t&&e.length){var a=e[0].model.coordinateSystem;t=a.getRect&&a.getRect()}})),!t){var e=this.api.getWidth(),a=this.api.getHeight();t={x:.2*e,y:.2*a,width:.6*e,height:.6*a}}return t}});Il({getTargetSeries:function(t){var e=R();return t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(t,a,i){f(i.getAxisProxy(t.name,a).getTargetSeriesModels(),(function(t){e.set(t.uid,t)}))}))})),e},modifyOutputEnd:!0,overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(t,a,i){i.getAxisProxy(t.name,a).reset(i,e)})),t.eachTargetAxis((function(t,a,i){i.getAxisProxy(t.name,a).filterData(i,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy(),a=e.getDataPercentWindow(),i=e.getDataValueWindow();t.setCalculatedRange({start:a[0],end:a[1],startValue:i[0],endValue:i[1]})}))}}),Ol("dataZoom",(function(t,e){var a=np(_(e.eachComponent,e,"dataZoom"),HS,(function(t,e){return t.get(e.axisIndex)})),i=[];e.eachComponent({mainType:"dataZoom",query:t},(function(t){i.push.apply(i,a(t).nodes)})),f(i,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))})),KS.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var hC="\0_ec_interaction_mutex";Ol({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){})),h(gp,mf);var pC="\0_ec_dataZoom_roams",fC=_,vC=JS.extend({type:"dataZoom.inside",init:function(){this._range},render:function(t,e,a){vC.superApply(this,"render",arguments),this._range=t.getPercentRange(),f(this.getTargetCoordInfo(),(function(e,i){var n=v(e,(function(t){return Tp(t.model)}));f(e,(function(e){var r=e.model,s={};f(["pan","zoom","scrollMove"],(function(t){s[t]=fC(mC[t],this,e,i)}),this),kp(a,{coordId:Tp(r),allCoordIds:n,containsPoint:function(t,e,a){return r.coordinateSystem.containPoint([e,a])},dataZoomId:t.id,dataZoomModel:t,getRange:s})}),this)}),this)},dispose:function(){Op(this.api,this.dataZoomModel.id),vC.superApply(this,"dispose",arguments),this._range=null}}),mC={zoom:function(t,e,a,i){var n=this._range,r=n.slice(),s=t.axisModels[0];if(s){var o=gC[e](null,[i.originX,i.originY],s,a,t),l=(o.signal>0?o.pixelStart+o.pixelLength-o.pixel:o.pixel-o.pixelStart)/o.pixelLength*(r[1]-r[0])+r[0],c=Math.max(1/i.scale,0);r[0]=(r[0]-l)*c+l,r[1]=(r[1]-l)*c+l;var u=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return qS(0,r,[0,100],0,u.minSpan,u.maxSpan),this._range=r,n[0]!==r[0]||n[1]!==r[1]?r:void 0}},pan:Ap((function(t,e,a,i,n,r){var s=gC[i]([r.oldX,r.oldY],[r.newX,r.newY],e,n,a);return s.signal*(t[1]-t[0])*s.pixel/s.pixelLength})),scrollMove:Ap((function(t,e,a,i,n,r){return gC[i]([0,0],[r.scrollDelta,r.scrollDelta],e,n,a).signal*(t[1]-t[0])*r.scrollDelta}))},gC={grid:function(t,e,a,i,n){var r=a.axis,s={},o=n.model.coordinateSystem.getRect();return t=t||[0,0],"x"===r.dim?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=r.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=r.inverse?-1:1),s},polar:function(t,e,a,i,n){var r=a.axis,s={},o=n.model.coordinateSystem,l=o.getRadiusAxis().getExtent(),c=o.getAngleAxis().getExtent();return t=t?o.pointToCoord(t):[0,0],e=o.pointToCoord(e),"radiusAxis"===a.mainType?(s.pixel=e[0]-t[0],s.pixelLength=l[1]-l[0],s.pixelStart=l[0],s.signal=r.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=c[1]-c[0],s.pixelStart=c[0],s.signal=r.inverse?-1:1),s},singleAxis:function(t,e,a,i,n){var r=a.axis,s=n.model.coordinateSystem.getRect(),o={};return t=t||[0,0],"horizontal"===r.orient?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=r.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=r.inverse?-1:1),o}},yC={path:null,compoundPath:null,group:ov,image:Ta,text:wg};Cl((function(t){var e=t.graphic;x(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}));var _C=Al({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(){var t=this.option.elements;this.option.elements=null,_C.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(t,e){var a=this.option,i=(e?a:t).elements,n=a.elements=e?[]:a.elements,r=[];this._flatten(i,r);var s=ni(n,r);ri(s);var o=this._elOptionsToUpdate=[];f(s,(function(t,e){var a=t.option;Hp&&A(C(a)||t.exist,"Empty graphic option definition"),a&&(o.push(a),Rp(t,a),Fp(n,e,a),zp(n[e],a))}),this);for(var l=n.length-1;l>=0;l--)null==n[l]?n.splice(l,1):delete n[l].$action},_flatten:function(t,e,a){f(t,(function(t){if(t){a&&(t.parentOption=a),e.push(t);var i=t.children;"group"===t.type&&i&&this._flatten(i,e,t),delete t.children}}),this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});jl({type:"graphic",init:function(){this._elMap=R(),this._lastGraphicModel},render:function(t,e,a){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,a)},_updateElements:function(t){var e=t.useElOptionsToUpdate();if(e){var a=this._elMap,i=this.group;f(e,(function(e){var n=e.$action,r=e.id,s=a.get(r),o=e.parentId,l=null!=o?a.get(o):i,c=e.style;"text"===e.type&&c&&(e.hv&&e.hv[1]&&(c.textVerticalAlign=c.textBaseline=null),!c.hasOwnProperty("textFill")&&c.fill&&(c.textFill=c.fill),!c.hasOwnProperty("textStroke")&&c.stroke&&(c.textStroke=c.stroke));var u=Np(e);Hp&&s&&A(l===s.parent,"Changing parent is not supported."),n&&"merge"!==n?"replace"===n?($p(s,a),jp(r,l,u,a)):"remove"===n&&$p(s,a):s?s.attr(u):jp(r,l,u,a);var d=a.get(r);d&&(d.__ecGraphicWidthOption=e.width,d.__ecGraphicHeightOption=e.height,Bp(d,t,e))}))}},_relocate:function(t,e){for(var a=t.option.elements,i=this.group,n=this._elMap,r=e.getWidth(),s=e.getHeight(),o=0;o<a.length;o++){var l=a[o];if((u=n.get(l.id))&&u.isGroup){var c=(d=u.parent)===i;u.__ecGraphicWidth=wr(u.__ecGraphicWidthOption,c?r:d.__ecGraphicWidth)||0,u.__ecGraphicHeight=wr(u.__ecGraphicHeightOption,c?s:d.__ecGraphicHeight)||0}}for(o=a.length-1;o>=0;o--){var u,d;l=a[o],(u=n.get(l.id))&&Jr(u,l,(d=u.parent)===i?{width:r,height:s}:{width:d.__ecGraphicWidth,height:d.__ecGraphicHeight},null,{hv:l.hv,boundingMode:l.bounding})}},_clear:function(){var t=this._elMap;t.each((function(e){$p(e,t)})),this._elMap=R()},dispose:function(){this._clear()}}),t.version=ob,t.dependencies=lb,t.PRIORITY=vb,t.init=gl,t.connect=yl,t.disConnect=_l,t.disconnect=jb,t.dispose=bl,t.getInstanceByDom=xl,t.getInstanceById=wl,t.registerTheme=Sl,t.registerPreprocessor=Cl,t.registerProcessor=Il,t.registerPostUpdate=kl,t.registerAction=Ol,t.registerCoordinateSystem=Tl,t.getCoordinateSystemDimensions=Pl,t.registerLayout=Dl,t.registerVisual=Ml,t.registerLoading=El,t.extendComponentModel=Al,t.extendComponentView=jl,t.extendSeriesModel=$l,t.extendChartView=Nl,t.setCanvasCreator=Vl,t.registerMap=Rl,t.getMap=Fl,t.dataTool=$b,t.zrender=rm,t.number=my,t.format=Sy,t.throttle=_o,t.helper=Vx,t.matrix=Df,t.vector=ff,t.color=Wf,t.parseGeoJSON=Fx,t.parseGeoJson=Hx,t.util=qx,t.graphic=Gx,t.List=Xb,t.Model=fr,t.Axis=Zx,t.env=Up}(e)},55867:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(56318));a(57024),a(61026),a(87033),a(35948),a(94522),a(9042),a(5580);var r=i(a(6089)),s="ACCOUNT_SELECT_LAST",o={props:{value:{type:[Number,String]},type:{type:String,validator:function(t){return["system","db"].includes(t)}}},data:()=>({isLoading:!1,wholeList:[],systemAccountList:[],dbAccountList:[]}),computed:{accountList(){return"system"===this.type?this.systemAccountList:"db"===this.type?this.dbAccountList:this.wholeList}},watch:{type(){this.initDefaultAccount()}},created(){this.fetchAppAccount()},methods:{fetchAppAccount(){var t=this;this.isLoading=!0,r.default.fetchAccountWhole().then((function(e){var a=[],i=[];e.forEach((function(t){t.isSystem?a.push(t):i.push(t)})),t.systemAccountList=Object.freeze(a),t.dbAccountList=Object.freeze(i),t.wholeList=Object.freeze(e),t.initDefaultAccount()})).finally((function(){t.isLoading=!1}))},initDefaultAccount(){var t=this;if(this.value)this.accountList.find((function(e){return e.id===t.value}))||this.handleChange("");else{var e=~~localStorage.getItem(s);if(e&&this.accountList.find((function(t){return t.id===e})))this.handleChange(e);else{var a=this.accountList.find((function(t){return"root"===t.alias}));if(a)this.handleChange(a.id);else{var i=(0,n.default)(this.accountList,1)[0];i&&this.handleChange(i.id)}}}},handleCreate(){var t=this.$router.resolve({name:"accountList"}).href;this.$refs.select.close(),window.open(t)},handleClick(t){t&&this.fetchAppAccount()},handleChange(t){t!==this.value&&(localStorage.setItem(s,t),this.$emit("input",t),this.$emit("change",t))}}};e.Z=o},55738:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X$",{value:!0}),e.ZP=e.nI=void 0,a(71959),a(87033),a(63762),a(78004),a(57024),a(35948),a(70969),a(7170),a(35927),a(6919),a(94522),a(92974),a(70201),a(61026),a(93282);var n=i(a(32558)),r=i(a(97122)),s=i(a(83491)),o=i(a(77094)),l=i(a(18306)),c=a(1064),u=i(a(77789));a(59388),a(49257),a(9738),a(96408),a(7263),a(55085),a(32083),a(33706),a(15093),a(34623),a(80825),a(83181),a(76914),a(95960),a(57629),a(79142),a(56249);var d=i(a(15399)),h=i(a(81865)),p=i(a(44068)),f=i(a(12e3)),v=i(a(49135)),m=i(a(94498)),g=i(a(63715)),y=a(41980),_=i(a(42152)),b=Object.keys(_.default).reduce((function(t,e){return t[e]=c.Base64.encode(_.default[e]),t}),{});e.nI=b;var x=u.default.require("ace/ext/language_tools"),w={Shell:"sh",Bat:"batchfile",Perl:"perl",Python:"python",Powershell:"powershell",SQL:"sql"},S="ace_editor_history",C={name:"AceEditor",components:{ScrollFaker:m.default,Empty:g.default},inheritAttrs:!1,props:{value:{type:String},height:{type:Number,default:480},readonly:{type:Boolean,default:!1},readonlyTips:{type:String,default:d.default.t("只读模式不支持编辑")},lang:{type:String,required:!0},options:{type:[String,Array],default:function(){return Object.keys(w)}},customEnable:{type:Boolean,default:!0},constants:{type:Array,default:function(){return[]}},beforeLangChange:{type:Function,default:function(){return Promise.resolve()}}},data(){return{isLoading:!1,content:"",currentLang:this.lang,isFullScreen:!1,isShowHistoryPanel:!1,tabHeight:40,historyList:[],currentUser:{}}},computed:{boxStyle(){var t={position:"absolute",top:0,left:0,width:"100%",height:"100%"};return this.isFullScreen&&(t.position="fixed",t.zIndex=window.__bk_zIndex_manager.nextZIndex(),t.height="100vh"),t},editorStyle(){var t=this.showTabHeader?40:0;return{height:this.isFullScreen?"calc(100vh - ".concat(t,"px)"):"".concat(this.height-t,"px")}},showTabHeader(){return"string"!=typeof this.options},tabList(){return Array.isArray(this.options)?this.options.reduce((function(t,e){return Object.prototype.hasOwnProperty.call(w,e)&&(t[e]=w[e]),t}),{}):[]},mode(){return"ace/mode/".concat(w[this.currentLang])}},watch:{value:{handler(t){if(this.readonly&&(this.editor.setValue(c.Base64.decode(t)),this.editor.clearSelection()),""!==t||""===this.content){var e=c.Base64.decode(t);this.content!==e&&(this.editor.setValue(e),this.editor.clearSelection())}else this.editor.setValue("")}},lang(t){var e=this;this.currentLang!==t&&(this.currentLang=t,setTimeout((function(){e.editor.getSession().setMode(e.mode)})))},readonly(t){this.editor.setReadOnly(t)},constants:{handler(){},immediate:!0}},created(){var t=this;this.selfId="ace_editor_".concat((0,l.default)(1,1e3),"_").concat(Date.now()),this.valueMemo={},this.hasChanged=!1,this.historyEnable=!1,this.historyTimer="",this.fetchUserInfo(),this.fetchTemplate(),this.syntaxCheck=(0,o.default)((function(e){p.default.getScriptValidation({content:e,scriptType:(0,y.formatScriptTypeValue)(t.currentLang)}).then((function(e){t.$store.commit("setScriptCheckError",(0,s.default)(e,(function(t){return t.isDangerous}))),t.editor.getSession().setAnnotations(e)}))}),300),this.completer={getCompletions:function(e,a,i,n,r){r(null,t.constants.map((function(t){return{name:t.name,value:"${".concat(t.name,"}"),caption:t.name,meta:"Global Variable",type:t.typeDescription,description:t.description,score:1e3}})))},getDocTooltip(t){var e;"Global Variable"===t.meta&&t.description&&(t.docHTML=["<b>description</b>","<hr />",(e=t.description,e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;"))].join(""))}}},beforeDestroy(){this.handleExitFullScreen()},mounted(){var t=this;this.initEditor(),x.addCompleter(this.completer),document.body.addEventListener("click",this.handleHideHistory),document.body.addEventListener("keyup",this.handleExitByESC),this.$once("hook:beforeDestroy",(function(){clearTimeout(t.historyTimer),t.isChange&&t.pushLocalStorage(),(0,r.default)(t.editor.completers,(function(e){return e===t.completer})),document.body.removeEventListener("click",t.handleHideHistory),document.body.removeEventListener("keyup",t.handleExitByESC)}))},methods:{fetchUserInfo(){var t=this;v.default.fetchUserInfo().then((function(e){t.currentUser=Object.freeze(e)}))},fetchTemplate(){var t=this;this.isLoading=!0,(this.customEnable?h.default.fetchTemplate():Promise.resolve([])).then((function(e){var a=e.reduce((function(t,e){return t[(0,y.formatScriptTypeValue)(e.scriptLanguage)]=c.Base64.decode(e.scriptContent),t}),{});t.defaultScriptMap=Object.assign({},_.default,a),t.content=t.readonly||t.value?c.Base64.decode(t.value||""):t.defaultScriptMap[t.lang],t.editor.setValue(t.content),t.editor.scrollToLine(1/0),t.editor.clearSelection()})).finally((function(){t.isLoading=!1}))},initEditor(){var t=this,e=u.default.edit(this.selfId);e.getSession().setMode(this.mode),e.setOptions({fontSize:13,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,wrapBehavioursEnabled:!0,autoScrollEditorIntoView:!0,copyWithEmptySelection:!0,useElasticTabstops:!0,printMarginColumn:!0,printMargin:80,scrollPastEnd:.2}),e.setTheme("ace/theme/monokai"),e.setShowPrintMargin(!1),e.$blockScrolling=1/0,e.setReadOnly(this.readonly),e.on("change",(function(){t.content=e.getValue();var a=c.Base64.encode(t.content);t.content&&!t.readonly&&t.syntaxCheck(a),t.editor.getSession().setAnnotations([]),t.historyEnable&&(t.hasChanged=!0),t.$emit("input",a),t.$emit("change",a)})),e.on("focus",(function(){t.historyEnable=!0})),e.on("paste",(function(t){var e,a;t.text=(e=t.text,(a=document.createElement("textarea")).value=e,a.value)})),this.editor=e,this.$once("hook:beforeDestroy",(function(){e.destroy(),e.container.remove()})),this.watchEditAction();var a=document.querySelector("#".concat(this.selfId));a.addEventListener("keydown",this.handleReadonlyWarning),this.$once("hook:beforeDestroy",(function(){a.removeEventListener("keydown",t.handleReadonlyWarning)}))},resize(){var t=this;this.$nextTick((function(){t.editor.resize()}))},setValue(t){this.editor.setValue(c.Base64.decode(t)),this.editor.clearSelection(),this.editor.scrollToLine(1/0)},resetValue(){this.editor.setValue(this.defaultScriptMap[this.lang]),this.editor.clearSelection(),this.editor.scrollToLine(1/0)},watchEditAction(){var t=this;this.readonly||(this.historyTimer=setTimeout((function(){t.historyEnable&&t.hasChanged&&t.pushLocalStorage(),t.hasChanged=!1,t.watchEditAction()}),6e4))},pushLocalStorage(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.default.t("自动保存");if(this.value){var e="".concat(t,"_").concat(window.PROJECT_CONFIG.SCOPE_TYPE,"_").concat(window.PROJECT_CONFIG.SCOPE_ID,"_").concat(this.currentUser.username,"_").concat((0,y.prettyDateTimeFormat)(Date.now())),a=JSON.parse(localStorage.getItem(S));(0,n.default)(a)||(a=[]),a.length>0&&a[0].content===this.value||(a.unshift({name:e,content:this.value,lang:this.lang}),localStorage.setItem(S,JSON.stringify(a.slice(0,25))))}},handleReadonlyWarning(t){this.readonly&&("textarea"===t.target.type&&(["Escape","Meta","ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight"].includes(t.code)||(!t.metaKey&&!t.ctrlKey||["KeyV","KeyX"].includes(t.code))&&this.messageWarn(this.readonlyTips)))},handleLangChange(t){var e=this;if(!this.readonly&&this.currentLang!==t){var a=this.beforeLangChange();Promise.resolve().then((function(){return"function"==typeof a.then?a:a?Promise.resolve():Promise.reject(new Error("error"))})).then((function(){e.$emit("on-mode-change",t),e.valueMemo[e.currentLang]=e.content,e.currentLang=t,e.editor.getSession().setMode(e.mode),Object.prototype.hasOwnProperty.call(e.valueMemo,e.currentLang)?e.editor.setValue(e.valueMemo[e.currentLang]):e.editor.setValue(e.defaultScriptMap[e.currentLang]),e.editor.clearSelection()}))}},handleShowHistory(){var t=JSON.parse(localStorage.getItem(S));(0,n.default)(t)?this.historyList=Object.freeze(t):this.historyList=[],this.isShowHistoryPanel=!0},handleHideHistory(){this.isShowHistoryPanel=!1},handleChangeValueFromHistory(t){this.$emit("on-mode-change",t.lang),this.editor.setValue(c.Base64.decode(t.content)),this.editor.clearSelection(),this.handleHideHistory()},handleSaveHistory:(0,o.default)((function(){this.pushLocalStorage(d.default.t("手动保存")),this.handleShowHistory()}),300),handleUploadScript(){this.$refs.upload.click()},handleStartUpload(t){var e=this,a=t.target.files;if(a.length){var i=a[0].name,n=i.substr(i.lastIndexOf(".")+1),r={sh:"Shell",bat:"Bat",pl:"Perl",py:"Python",ps1:"powershell",sql:"SQL"};if(r[n]){this.isLoading=!0;var s=new FormData;s.append("script",a[0]),f.default.getUploadContent(s).then((function(t){e.handleLangChange(r[n]),e.editor.setValue(c.Base64.decode(t.content))})).finally((function(){e.isLoading=!1})),this.$refs.upload.value=""}else this.$bkMessage({theme:"error",message:d.default.t("脚本类型不支持")})}},handleFullScreen(){var t=this;this.isFullScreen=!0,this.messageInfo(d.default.t("按 Esc 即可退出全屏模式")),document.body.appendChild(this.$refs.contentWrapper),this.$nextTick((function(){t.editor.resize()}))},handleExitFullScreen(){var t=this;this.isFullScreen=!1,this.$refs.aceEditor.appendChild(this.$refs.contentWrapper),this.$nextTick((function(){t.editor.resize()}))},handleExitByESC(t){"Escape"===t.code&&this.isFullScreen&&this.handleExitFullScreen()}}};e.ZP=C},66437:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(16513)),r=i(a(15399)),s={components:{AskPermission:i(a(51801)).default},data:()=>({isAppleFlag:!0,isNotPermission:!1}),created(){var t=this;this.applyText=r.default.t("去申请"),this.appliedText=r.default.t("已申请"),n.default.$once("permission-catch",this.permissionHold),this.$once("hook:beforeDestroy",(function(){n.default.$off("permission-catch",t.permissionHold)}))},methods:{permissionHold(t){this.isNotPermission=!0,this.authResult=t},handleApply(){window.open(this.authResult.applyUrl,"_blank"),this.isAppleFlag=!1},handleReload(){location.reload()}}};e.Z=s},44769:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(77094)),r=a(41980),s={name:"",props:{target:{type:Function,default:function(){return document.querySelector(".jb-navigation-main").querySelector(".scroll-faker-content")}},size:{type:String,default:"normal"},fixed:{type:Boolean,default:!0}},data:()=>({isShow:!1}),computed:{classes(){return"theme-".concat(this.size)},styles(){return this.fixed?{position:"fixed",right:"34px",bottom:"92px"}:{}}},mounted(){var t=this;this.smartPosition(),window.addEventListener("resize",this.smartPosition);var e=new MutationObserver((function(e){t.smartPosition()}));e.observe(this.target(),{subtree:!0,childList:!0,attributeName:!0,characterData:!0}),this.$once("hook:beforeDestroy",(function(){e.takeRecords(),e.disconnect(),window.removeEventListener("resize",t.smartPosition)}))},methods:{smartPosition:(0,n.default)((function(){var t=this.target();if(t){var e=t.getBoundingClientRect().height,a=t.scrollHeight;this.isShow=a>e+30}}),300),handleBackTop(){var t=this.target();(0,r.scrollTopSmooth)(t,0)}}};e.Z=s},56244:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70969),a(87033),a(9042),a(7170),a(23232),a(80433);var n=a(41980),r=i(a(15399)),s={},o={name:"ChooseIpExtendAction",props:{list:{type:Array,default:function(){return[]}},invalidList:{type:Array,default:function(){return[]}},copyable:{type:Boolean,default:!1}},created(){this.id="action_extend_".concat(Math.random(),"_").concat(Math.random())},mounted(){this.init()},beforeDestroy(){s[this.id].hide(),delete s[this.id]},methods:{init(){var t=this;s[this.id]=this.$bkPopover(this.$el,{theme:"server-panel-action-extend-popover",interactive:!0,placement:"bottom",content:this.$refs.popoverContent,trigger:"mouseover",arrow:!0,onShow:function(){Object.keys(s).forEach((function(e){e!==t.id&&s[e].hide()}))}})},handleWraperClick(){this.handleClose()},handleHide(){var t=this;this.leaveTimer=setTimeout((function(){t.handleClose()}),3e3)},handleCopyAll(){if(this.list.length<1&&this.invalidList.length<1)this.messageWarn(r.default.t("你还未选择主机"));else{var t=this.list.map((function(t){return t.ip})),e=this.invalidList.map((function(t){return t.ip}));t=[...t,...e],(0,n.execCopy)(t.join("\n"),"".concat(r.default.t("复制成功"),"（").concat(t.length).concat(r.default.t("个IP"),"）"))}},handleCopyFail(){if(this.list.length<1&&this.invalidList.length<1)this.messageWarn(r.default.t("你还未选择主机"));else{var t=[];if(this.list.forEach((function(e){e.alive||t.push(e.ip)})),t.length<1&&this.invalidList.length<1)this.messageWarn(r.default.t("暂无异常主机"));else{var e=this.invalidList.map((function(t){return t.ip}));t=[...t,...e],(0,n.execCopy)(t.join("\n"),"".concat(r.default.t("复制成功"),"（").concat(t.length).concat(r.default.t("个异常IP"),"）"))}}},handleShow(){clearTimeout(this.leaveTimer)},handleClose(){s[this.id]&&s[this.id].hide()}}};e.Z=o},54073:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70969),a(87033),a(9042);var i={},n={name:"JbPopoverConfirm",created(){this.id="dropdown_menu_".concat(Math.random(),"_").concat(Math.random())},mounted(){this.init()},beforeDestroy(){i[this.id].hide(),delete i[this.id]},methods:{init(){var t=this;i[this.id]=this.$bkPopover(this.$el,{theme:"server-panel-dropdown-menu-popover",interactive:!0,placement:"bottom-start",content:this.$refs.popoverContent,trigger:"mouseover",arrow:!0,onShow:function(){Object.keys(i).forEach((function(e){e!==t.id&&i[e].hide()}))}})},handleHide(){var t=this;this.leaveTimer=setTimeout((function(){i[t.id].hide()}),2e3)},handleShow(){clearTimeout(this.leaveTimer)},handleClose(){i[this.id].hide()}}};e.Z=n},79447:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(70201);var n={name:"",components:{Empty:i(a(63715)).default},props:{list:{type:Array,required:!0},editable:{type:Boolean,default:!1},maxHeight:{type:Number,default:-1},appendNums:{type:Number,default:0},diff:{type:Object,default:function(){return{}}},isSearch:{type:Boolean,default:!1}},data:()=>({page:1,offset:30}),computed:{styles(){var t={width:"100%"};return this.list.length+this.appendNums>10&&this.maxHeight>0&&(t.height="410px"),t},renderList(){return Object.freeze(this.list.slice(0,this.page*this.offset))},isShowMorePage(){return this.renderList.length<this.list.length},isEmpty(){return this.list.length<1&&!this.$slots.appendBefore},emptyType(){return this.isSearch?"search":""}},methods:{handleRemove(t){this.$emit("on-change",t)},handlePage(){this.page+=1}}};e.Z=n},56689:function(t,e){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a={name:"",props:{value:{type:String,default:""},placeholder:String},data(){return{localValue:this.value,focused:!1}},computed:{stylees(){var t={};return this.focused?t["z-index"]=9999:(t.height="30px",t.overflow="hidden",t["white-space"]="pre",t["text-overflow"]="ellipsis"),t},showPlaceholder(){return!this.focused&&!this.localValue}},methods:{handleInputFocus(){var t=this;this.$refs.input.focus(),setTimeout((function(){t.$refs.input.selectionStart=t.localValue.length,t.$refs.input.selectionEnd=t.localValue.length}))},handleInput(t){var e=t.target.outerText;this.localValue=e,this.$emit("input",e),this.$emit("change",e)},handleFocus(){this.focused=!0},handleBlur(){this.focused=!1,this.$refs.input.scrollTop=0},handlePaste(t){t.preventDefault(),t.stopPropagation();var e="",a=t.originalEvent||t;a.clipboardData&&a.clipboardData.getData?e=a.clipboardData.getData("text/plain"):window.clipboardData&&window.clipboardData.getData&&(e=window.clipboardData.getData("Text")),document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,e):document.execCommand("paste",!1,e)}}};e.Z=a},52885:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522);var n=i(a(48373)),r=i(a(65442)),s=i(a(29181)),o=i(a(61007)),l=i(a(30545)),c=a(6615),u={name:"",components:{HostTable:r.default,SidesliderBox:s.default,StatisticsText:o.default,ActionExtend:l.default},props:{value:{type:Boolean,default:!1},data:{type:Object,required:!0}},data:()=>({isLoading:!1,statisticsData:{},list:[]}),created(){this.data.id&&this.fetchDynamicGroup()},methods:{fetchDynamicGroup(){var t=this;this.isLoading=!0,n.default.fetchHostOfDynamicGroup({id:this.data.id}).then((function(e){e.length<1?t.isError=!0:(t.statisticsData=(0,c.statisticsHost)(e[0].ipListStatus),t.list=Object.freeze((0,c.sortHost)(e[0].ipListStatus)))})).finally((function(){t.isLoading=!1}))},handleClose(){this.list=[],this.statisticsData={},this.$emit("input",!1),this.$emit("change",!1)}}};e.Z=u},65728:function(t,e,a){"use strict";a(35927),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70969),a(57024),a(61026),a(87033),a(9042),a(35948),a(94522),a(7170),a(92974),a(63762),a(40782),a(90004),a(71959),a(45974),a(78004);var n=i(a(33610)),r=i(a(56318)),s=i(a(36410)),o=i(a(77094)),l=i(a(45812)),c=i(a(48373)),u=i(a(49135)),d=a(46790),h=i(a(63715)),p=a(6615),f=i(a(75016)),v=i(a(65442)),m=i(a(45220));function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var y="#".concat(window.PROJECT_CONFIG.SCOPE_TYPE,"#").concat(window.PROJECT_CONFIG.SCOPE_ID),_={name:"",components:{Empty:h.default,MultInput:f.default,HostTable:v.default,DropdownMenu:m.default},inheritAttrs:!1,props:{topologyNodeTree:{type:Array,default:function(){return[]}},topologyLoading:{type:Boolean,default:!0},ipList:{type:Array,default:function(){return[]}},dialogHeight:{type:Number,required:!0}},data(){return this.selfChange=!1,{isLoading:!0,isNodeEmpty:!1,isRenderEmptyTopoNode:!1,currentUser:{},selectedNodeId:y,renderList:[],checkedMap:{},isCheckedAll:!1,searchContent:"",agentFilter:"",pagination:{total:0,page:1,pageSize:0}}},computed:{pageCheckInfo(){var t={indeterminate:!1,checked:!1},e=Object.keys(this.checkedMap).length;return t.indeterminate=e>0,t.checked=e>0&&e>=this.pagination.total,t},isSearch(){return[0,1].includes(this.agentFilter)||!!this.searchContent}},watch:{ipList:{handler(t){if(this.selfChange)this.selfChange=!1;else{var e={};t.forEach((function(t){e[t.realId]=t})),this.pagination.page=1,this.checkedMap=Object.freeze(e)}},immediate:!0},topologyLoading(t){t||this.resetTopoTree()}},created(){this.fetchUserInfo()},mounted(){this.calcPageSize(),this.fetchTopologyHost()},methods:{fetchUserInfo(){var t=this;u.default.fetchUserInfo().then((function(e){t.currentUser=Object.freeze(e),t.isRenderEmptyTopoNode=d.topoNodeCache.getItem(e.username)}))},fetchTopologyHost:(0,l.default)((function(){var t=this;if(this.selectedNodeId){var e=(0,p.parseIdInfo)(this.selectedNodeId),a=(0,r.default)(e,2),i=a[0],n=a[1],s=this.pagination,o=s.page,l=s.pageSize;this.isLoading=!0,c.default.fetchTopologyHost({appTopoNodeList:[{objectId:i,instanceId:n}],agentStatus:this.agentFilter,searchContent:this.searchContent,pageSize:l,start:(o-1)*l}).then((function(e){t.renderList=Object.freeze(e.data.map((function(t){return Object.assign({realId:(0,p.generateHostRealId)(t)},t)}))),t.pagination.total=e.total})).finally((function(){t.isLoading=!1}))}}),300),fetchTopologyHostWhole:(0,l.default)((function(t){var e=this;if(this.selectedNodeId){var a=(0,p.parseIdInfo)(this.selectedNodeId),i=(0,r.default)(a,2),s=i[0],o=i[1],l=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.checkedMap);this.isLoading=!0,c.default.fetchTopogyIPs({appTopoNodeList:[{objectId:s,instanceId:o}],agentStatus:this.agentFilter,searchContent:this.searchContent}).then((function(a){a.data.forEach((function(e){var a=e.split(":"),i=(0,r.default)(a,2),n=i[0],s=i[1];t?l[e]={ip:s,cloudAreaInfo:{id:n},realId:e}:delete l[e]})),e.checkedMap=Object.freeze(l),e.triggerChange()})).finally((function(){e.isLoading=!1}))}}),300),resetTopoTree(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=(0,p.filterTopology)(this.topologyNodeTree,this.isRenderEmptyTopoNode),n=t&&t.length>0?t:[this.selectedNodeId];this.$refs.tree.setData(i),this.$nextTick((function(){i.length<1||(e.$refs.tree.setSelected(e.selectedNodeId,{emitEvent:a}),n.forEach((function(t){e.$refs.tree.setExpanded(t)})))}))},calcPageSize(){var t=Math.floor((this.dialogHeight-154-116)/41);this.pagination.pageSize=t},triggerChange(){this.selfChange=!0,this.$emit("on-change","ipList",Object.values(this.checkedMap))},handleFilterEmptyToggle(t){this.isRenderEmptyTopoNode=!this.isRenderEmptyTopoNode;var e=this.$refs.tree.getNodeById(this.selectedNodeId);this.isRenderEmptyTopoNode?(t.stopPropagation(),d.topoNodeCache.clearItem()):(e.data.payload.count<1?this.selectedNodeId=y:t.stopPropagation(),d.topoNodeCache.setItem(this.currentUser.username));var a=this.$refs.tree.nodes.reduce((function(t,e){return e.expanded&&t.push(e.id),t}),[]);this.resetTopoTree(a,!0)},handleNodeSearch:(0,o.default)((function(t){var e=this,a=this.$refs.tree.filter(t);a.length>0&&this.$nextTick((function(){e.$refs.tree.setSelected(a[0].id,{emitEvent:!0})})),this.isNodeEmpty=a.length<1}),300),handleNodeChange(t){this.selectedNodeId=t.id,this.pagination.page=1,t.expanded||this.$refs.tree.setExpanded(this.selectedNodeId,{expanded:!0}),this.fetchTopologyHost()},handleHostSearch:(0,o.default)((function(t){var e=(0,s.default)(t);if(this.searchContent!==e){var a=e.replace(/\s/g,"");this.searchContent=a?e:"",this.pagination.page=1,this.fetchTopologyHost()}}),300),handleAgentFiler(t){this.pagination.page=1,this.agentFilter=t,this.fetchTopologyHost()},handleToggleWholeAll(){this.isCheckedAll=!this.isCheckedAll,this.fetchTopologyHostWhole(this.isCheckedAll)},handleHostCheck(t){var e=Object.assign({},this.checkedMap);e[t.realId]?delete e[t.realId]:e[t.realId]={ip:t.ip,cloudAreaInfo:{id:t.cloudAreaInfo.id},realId:t.realId},this.checkedMap=Object.freeze(e),this.triggerChange()},handlePageChange(t){this.pagination.page=t,this.fetchTopologyHost()}}};e.Z=_},5052:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(7170),a(70969),a(71959),a(87033),a(9042),a(45974);var n=i(a(56318)),r=i(a(77094)),s=i(a(41834)),o=i(a(49135)),l=a(46790),c=i(a(63715)),u=a(6615),d={name:"",components:{Empty:c.default},inheritAttrs:!1,props:{topologyNodeTree:{type:Array,default:function(){return[]}},topologyLoading:{type:Boolean,default:!0},topoNodeList:{type:Array,required:!0}},data:()=>({currentUser:{},isRenderEmptyTopoNode:!1,isSearchEmpty:!1,emptyTopologyOfAllBusiness:"biz_set"===window.PROJECT_CONFIG.SCOPE_TYPE}),watch:{topoNodeList(t,e){var a=this;this.isSelfChange?this.isSelfChange=!1:t.length<1?(0,u.resetTree)(this.topologyNodeTree,(function(t){a.$refs.tree.setChecked(t.id,{checked:!1}),a.$refs.tree.setDisabled(t.id,{disabled:!1})})):this.recoverTreeState(t,e)}},created(){this.isSelfChange=!1,this.isTreeRefresh=!1,this.fetchUserInfo()},mounted(){var t=this;this.emptyTopologyOfAllBusiness||this.$nextTick((function(){t.$refs.tree.setData(t.topologyNodeTree),t.$refs.tree.setExpanded(t.topologyNodeTree[0].id,{expanded:!0}),t.recoverTreeState(t.topoNodeList)}))},methods:{fetchUserInfo(){var t=this;o.default.fetchUserInfo().then((function(e){t.currentUser=Object.freeze(e),t.isRenderEmptyTopoNode=l.topoNodeCache.getItem(e.username)}))},recoverTreeState(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.isSearchEmpty=this.topologyNodeTree.length<1;var a=t.length<e.length,i=e.map((function(t){return"#".concat(t.type,"#").concat(t.id)})),n=t.map((function(t){return"#".concat(t.type,"#").concat(t.id)}));if(a){var r=(0,s.default)(i,n);this.isTreeRefresh=!0,this.$refs.tree.setChecked(r,{emitEvent:!0,checked:!1})}else{var o=n;o.length>0&&(this.isTreeRefresh=!0,this.$refs.tree.setChecked(o,{emitEvent:!0,checked:!0}))}},handleFilterEmptyToggle(t){var e=this;this.isRenderEmptyTopoNode=!this.isRenderEmptyTopoNode,this.isRenderEmptyTopoNode?(t.stopPropagation(),l.topoNodeCache.clearItem()):l.topoNodeCache.setItem(this.currentUser.username);var a=this.$refs.tree.nodes.reduce((function(t,e){return e.expanded&&t.push(e.id),t}),[]),i=(0,u.filterTopology)(this.topologyNodeTree,this.isRenderEmptyTopoNode);this.$refs.tree.setData(i),this.$nextTick((function(){i.length<1||(e.$refs.tree.setChecked(e.topoNodeList.map((function(t){return"#".concat(t.type,"#").concat(t.id)})),{emitEvent:!1}),a.forEach((function(t){e.$refs.tree.setExpanded(t)})))}))},handleCheckChange(t,e){var a=this,i=function(t){var e={};if(t.length<1)return[];return function t(i){for(var n=null,r=0;r<i.length;){var o=i[r];if(n=a.$refs.tree.getNodeById(o),!e[o])break;r++}if(r>=i.length)return i;var l=(0,u.findAllChildNodeId)(n),c=(0,s.default)(i,l);return e[n.id]=!0,t(c)}(t)}(t);if(this.isTreeRefresh)return this.isSelfChange=!1,void(this.isTreeRefresh=!1);this.isSelfChange=!0,this.$emit("on-change","topoNodeList",i.map((function(t){var e=(0,u.parseIdInfo)(t),a=(0,n.default)(e,2);return{type:a[0],id:a[1]}})))},handleSearch:(0,r.default)((function(t){if(!this.emptyTopologyOfAllBusiness){var e=this.$refs.tree.filter(t);this.isSearchEmpty=e.length<1}}),300)}};e.Z=d},91342:function(t,e,a){"use strict";a(35927),a(45974),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(70201),a(87033),a(9042),a(35948),a(94522),a(70969),a(58794),a(56259),a(63762),a(95179);var n=i(a(33610)),r=i(a(77094)),s=i(a(48373)),o=i(a(1249)),l=a(41980);function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"",components:{HostTable:i(a(65442)).default},inheritAttrs:!1,props:{dynamicGroupList:{type:Array,required:!0},dialogHeight:{type:Number,required:!0}},data(){return this.selfChange=!1,{isLoading:!1,isEmpty:!1,hasNotGroup:!0,list:[],tempList:[],checkedMap:{},CMDBCreateGroupUrl:"",pagination:{page:1,pageSize:0,total:0}}},computed:{renderList(){var t=this.pagination,e=t.page,a=t.pageSize;return Object.freeze(this.tempList.slice((e-1)*a,e*a))},pageCheckInfo(){var t={indeterminate:!1,checked:!1},e=Object.keys(this.checkedMap).length;return t.indeterminate=e>0,t.checked=e>0&&e>=this.pagination.total,t}},watch:{dynamicGroupList:{handler(t){if(this.selfChange)this.selfChange=!1;else{var e={};t.forEach((function(t){e[t]=!0})),this.pagination.page=1,this.checkedMap=Object.freeze(e)}},immediate:!0}},mounted(){this.calcPageSize(),this.fetchDynamicGroup()},methods:{fetchDynamicGroup(){var t=this;this.isLoading=!0,s.default.fetchDynamicGroup().then((function(e){if(t.list=Object.freeze(e),t.tempList=Object.freeze(e),t.pagination.total=e.length,t.hasNotGroup=e.length<1,t.hasNotGroup)return t.fetchCMDBUrl()})).finally((function(){t.isLoading=!1}))},fetchCMDBUrl(){var t=this;return o.default.fetchRelatedSystemUrls().then((function(e){t.CMDBCreateGroupUrl="".concat(e.BK_CMDB_ROOT_URL,"/#/business/").concat(window.PROJECT_CONFIG.SCOPE_ID,"/custom-query")}))},calcPageSize(){var t=Math.floor((this.dialogHeight-154-116)/40);this.pagination.pageSize=t},trigger(){this.selfChange=!0,this.$emit("on-change","dynamicGroupList",Object.keys(this.checkedMap))},handleGroupSearch:(0,r.default)((function(t){if(t.trim()){var e=[],a=new RegExp((0,l.encodeRegexp)(t),"i");this.list.forEach((function(t){a.test(t.name)&&e.push(t)})),this.tempList=Object.freeze(e)}else this.tempList=this.list;this.pagination.total=this.tempList.length}),300),handleToggleWholeAll(){var t=u({},this.checkedMap),e=this.pageCheckInfo.checked;this.tempList.forEach((function(a){e?delete t[a.id]:t[a.id]=!0})),this.checkedMap=Object.freeze(t),this.trigger()},handleGroupCheck(t){var e=u({},this.checkedMap);e[t]?delete e[t]:e[t]=!0,this.checkedMap=Object.freeze(e),this.trigger()},handlePreview(t){this.$emit("on-group-preview",{name:t.name,id:t.id})},handlePageChange(t){this.pagination.page=t}}};e.Z=d},75971:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(23232),a(80433),a(45974),a(87033),a(63762),a(40782),a(9042),a(14370),a(56259),a(95179),a(70969),a(78004),a(35948),a(94522),a(71959);var n=i(a(56318)),r=i(a(36410)),s=i(a(45812)),o=i(a(48373)),l=a(41980),c=a(6615),u={name:"",inheritAttrs:!1,props:{previewId:{type:String,required:!0},dialogHeight:{type:Number,required:!0}},data:()=>({isSubmiting:!1,ipInputText:"",inputItemList:[],invalidIPList:[],errorIPList:[],isFocusError:!1}),computed:{inputRows(){return Math.floor((this.dialogHeight-65-130-15)/18)},isError(){return this.invalidIPList.length>0||this.errorIPList.length>0}},methods:{updateInputValue(){var t=this;this.ipInputText=[...this.invalidIPList,...this.errorIPList].join("\n"),setTimeout((function(){t.$refs.input.setCurValue(t.ipInputText)}))},handleInputClick(){this.isFocusError=!1},handleHighlightInvilad(){this.isFocusError=!0;var t=this.$refs.input.$el.querySelector("textarea"),e=this.invalidIPList.join("\n");t.focus(),t.selectionStart=0,t.selectionEnd=e.length},handleRemoveInvalid(){this.invalidIPList=[],this.updateInputValue()},handleHightlightError(){this.isFocusError=!0;var t=this.$refs.input.$el.querySelector("textarea");t.focus();var e=this.invalidIPList.join("\n"),a=this.errorIPList.join("\n"),i=e.length>0?e.length+1:0;t.selectionStart=i,t.selectionEnd=i+a.length},handleRemoveError(){this.errorIPList=[],this.updateInputValue()},handleIPChange:(0,s.default)((function(t){var e=(0,r.default)(t);this.invalidIPList=[],this.errorIPList=[],e?(this.inputItemList=t.split(/[;,；，\n|]+/).filter((function(t){return!!t})),this.$emit("on-input-change",!0)):(this.inputItemList=[],this.$emit("on-input-change",!1))}),60),handleAddHost(){var t=this;if(!(this.inputItemList.length<1)){var e=/(((\d+:)?)(?:(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d))))/,a=[],i=[];this.inputItemList.forEach((function(t){var r=t.match(e);if(r){var s=(0,n.default)(r,1)[0];if(new RegExp("([\\d:.]".concat((0,l.encodeRegexp)(s),")|(").concat((0,l.encodeRegexp)(s),"[\\d.])")).test(t))i.push(t);else{a.push(s);var o=t.replace(new RegExp("(".concat((0,l.encodeRegexp)(s),")|(\\s)"),"g"),"");o&&i.push(o)}}else i.push(t)})),this.isSubmiting=!0;var r={ipList:a};window.IPInputScope&&(r.actionScope=window.IPInputScope),o.default.fetchHostOfHost(r).then((function(e){var n=[],r={};e.forEach((function(t){var e=t.ip,a=t.cloudAreaInfo;n.push({realId:(0,c.generateHostRealId)(t),ip:e,cloudAreaInfo:{id:a.id}}),r[e]=!0,r["".concat(a.id,":").concat(e)]=!0})),n.length>0&&t.$emit("on-change","ipInput",n),t.invalidIPList=a.reduce((function(t,e){return r[e]||t.push(e),t}),[]),t.errorIPList=i,t.inputItemList=[],t.updateInputValue(),t.$emit("on-input-change",!1)})).finally((function(){t.isSubmiting=!1}))}}}};e.Z=u},75626:function(t,e){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a={name:"",props:{value:{type:Boolean,default:!1}},data:()=>({styles:{}}),watch:{value:{handler(t){t&&(this.styles={"z-index":window.__bk_zIndex_manager.nextZIndex()})},immediate:!0}},methods:{handleClose(){this.$emit("input",!1),this.$emit("change",!1)}}};e.Z=a},35647:function(t,e){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a={props:{data:{type:Object,require:!0}}};e.Z=a},31713:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70969),a(23232),a(80433),a(7170),a(92974),a(87033),a(35948),a(94522);var n=i(a(33610)),r=i(a(18306)),s=i(a(48373)),o=i(a(15399)),l=i(a(39986)),c=a(6615),u=i(a(23793)),d=i(a(26786)),h=i(a(77527)),p=i(a(46438)),f=i(a(49557)),v=i(a(29181)),m=i(a(57027));function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function y(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var _={name:"ChooseIp",components:{RenderBusinessTopology:u.default,RenderDynamicBusinessTopology:d.default,RenderDynamicGroup:h.default,RenderIpInput:p.default,PreviewGroup:f.default,SidesliderBox:v.default,Preview:m.default},model:{prop:"show",event:"input"},props:{show:{type:Boolean,default:!1},hostNodeInfo:{type:Object,default:function(){return new l.default({}).hostNodeInfo}},required:{type:Boolean,default:!1},errorTips:{type:String,default:o.default.t("服务器不能为空")}},data(){return this.ipListTopolagyLast=[],{isShowDialog:!1,isLoading:!0,isSubmitDisable:!1,showChoosePreview:!1,showGroupPreview:!1,activeTab:"static",dialogHeight:0,topologyNodeTree:[],topoNodeList:[],ipList:[],dynamicGroupList:[],previewGroup:{},error:"",currentChangeClass:"",ipInputStatus:!1}},computed:{panelCom(){return{static:u.default,dynamic:d.default,group:h.default,input:p.default}[this.activeTab]},containerStyles(){return{height:"".concat(this.dialogHeight-58,"px")}},contentStyles(){return{height:"".concat(this.dialogHeight-58-42,"px")}},isEmpty(){return!this.topoNodeList.length&&!this.ipList.length&&!this.dynamicGroupList.length},actionResult(){var t=[];if(this.ipList.length>0&&t.push('<span class="strong number choose-host">'.concat(this.ipList.length,"</span>").concat(o.default.t("台主机.select"))),this.topoNodeList.length>0&&t.push('<span class="strong number choose-node">'.concat(this.topoNodeList.length,"</span>").concat(o.default.t("个节点.select"))),this.dynamicGroupList.length>0&&t.push('<span class="strong number choose-group">'.concat(this.dynamicGroupList.length,"</span>").concat(o.default.t("个分组.select"))),t.length<1)return"";var e=t.join("，");return e&&(e="<span>".concat(o.default.t("已选择.select"),"：</span>").concat(e)),e}},watch:{show:{handler(t){t&&this.fetchTopologyWithCount(),this.ipInputStatus=!1,this.isShowDialog=t,this.isSubmitDisable=!1},immediate:!0},hostNodeInfo:{handler(t){if(this.isSelfChange)this.isSelfChange=!1;else{var e=t.dynamicGroupList,a=void 0===e?[]:e,i=t.ipList,n=void 0===i?[]:i,r=t.topoNodeList,s=void 0===r?[]:r;this.topoNodeList=Object.freeze([...s]),this.ipList=Object.freeze(n.map((function(t){return Object.assign(y({realId:(0,c.generateHostRealId)(t)},t))}))),this.ipListTopolagyLast=this.ipList,this.dynamicGroupList=Object.freeze(a)}},immediate:!0}},created(){this.previewId="chooseIPPreview_".concat((0,r.default)(1,99999999)),this.isSelfChange=!1,this.hostInput=[],this.mediaWidth=[1240,1400,1560,1720]},mounted(){this.calcDialogHeight()},methods:{fetchTopologyWithCount(){var t=this;this.isLoading=!0,s.default.fetchTopologyWithCount().then((function(e){t.topologyNodeTree=Object.freeze((0,c.bigTreeTransformTopologyOfTopology)([e]))})).finally((function(){t.isLoading=!1}))},calcDialogHeight(){var t=.8*window.innerHeight;this.dialogHeight=t<660?660:t},handleTabChange(t){this.activeTab=t},handleChange(t,e){switch(this.error="",t){case"ipList":this.ipList=Object.freeze((0,c.mergeTopologyHost)(this.ipList,this.ipListTopolagyLast,e)),this.ipListTopolagyLast=e,this.currentChangeClass="host";break;case"ipInput":this.ipList=Object.freeze((0,c.mergeInputHost)(this.ipList,e)),this.currentChangeClass="host";break;case"topoNodeList":this.topoNodeList=Object.freeze(e),this.currentChangeClass="node";break;case"dynamicGroupList":this.dynamicGroupList=Object.freeze(e),this.currentChangeClass="group";break;default:return""}},handleInputChange(t){this.ipInputStatus=t},handleInputAnimate(t){this.isSubmitDisable=t},handleShowChoosePreview(){this.showChoosePreview=!0},handlePreviewChange(t){var e=t.dynamicGroupList,a=t.ipList,i=t.topoNodeList;this.topoNodeList=Object.freeze(i),this.ipList=Object.freeze(a),this.dynamicGroupList=Object.freeze(e)},handleGroupPreview(t){this.previewGroup=t,this.showGroupPreview=!0},reset(){this.topoNodeList=[],this.ipList=[],this.dynamicGroupList=[]},close(){this.activeTab="static",this.$emit("on-cancel"),this.$emit("input",!1)},handleSubmit(){var t=this;return Promise.resolve().then((function(){t.required&&t.isEmpty?t.error=o.default.t("源文件的服务器列表不允许为空"):Promise.resolve().then((function(){t.isSelfChange=!0,t.$emit("on-change",{ipList:t.ipList,topoNodeList:t.topoNodeList,dynamicGroupList:t.dynamicGroupList}),t.close()}))}))},handleCancle(){var t=this.hostNodeInfo,e=t.dynamicGroupList,a=void 0===e?[]:e,i=t.ipList,n=void 0===i?[]:i,r=t.topoNodeList,s=void 0===r?[]:r;this.topoNodeList=Object.freeze([...s]),this.ipList=Object.freeze(n.map((function(t){return y(y({},t),{},{realId:(0,c.generateHostRealId)(t)})}))),this.dynamicGroupList=Object.freeze(a),this.ipListTopolagyLast=this.ipList,this.isShowDialog=!1,this.close()}}};e.Z=_},83065:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70969);var n=i(a(15399)),r={name:"",components:{ServerPanel:i(a(29637)).default},props:{value:{type:Boolean,default:!1},host:{type:Array,default:function(){return[]}},node:{type:Array,default:function(){return[]}},group:{type:Array,default:function(){return[]}}},data:()=>({hostNodeInfoLocal:{}}),computed:{hostNodeInfo(){return{ipList:this.host,dynamicGroupList:this.group,topoNodeList:this.node}},resultText(){var t=this.hostNodeInfoLocal,e=t.dynamicGroupList,a=void 0===e?[]:e,i=t.ipList,r=void 0===i?[]:i,s=t.topoNodeList,o=void 0===s?[]:s,l=[];return r.length>0&&l.push('<span class="strong number choose-host">'.concat(r.length,"</span>").concat(n.default.t("台主机.select"))),o.length>0&&l.push('<span class="strong number choose-node">'.concat(o.length,"</span>").concat(n.default.t("个节点.select"))),a.length>0&&l.push('<span class="strong number choose-group">'.concat(a.length,"</span>").concat(n.default.t("个分组.select"))),l.length<1?"（".concat(n.default.t("暂无已选项"),"）"):"（".concat(l.join("，"),"）")}},watch:{hostNodeInfo:{handler(t){this.hostNodeInfoLocal=Object.freeze(t)},immediate:!0}},created(){this.innerChange=!1},methods:{getElementTarget:()=>document.querySelector("#chooseIPServerPreview"),handleServerPanelChange(t){this.innerChange=!0,this.hostNodeInfoLocal=Object.freeze(t)},handleSubmit(){this.innerChange&&this.$emit("on-change",this.hostNodeInfoLocal),this.handleClose()},handleClose(){this.innerChange=!1,this.$emit("input",!1),this.$emit("change",!1)}}};e.Z=r},55674:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(61026),a(60259),a(23232),a(80433),a(87033),a(58794),a(63762),a(56259),a(95179),a(9042),a(90004);var n=a(41980),r=i(a(39986)),s=i(a(64784)),o=i(a(41306)),l=i(a(66897)),c=i(a(54476)),u=i(a(18164)),d=a(6615),h=function(t,e){t.length>0||t.includes(e)||t.push(e)},p={name:"ServerPanel",components:{ServerNode:s.default,ServerHost:o.default,ServerGroup:l.default,HostDetail:c.default,HostSearch:u.default},props:{hostNodeInfo:{type:Object,default:function(){return new r.default}},editable:{type:Boolean,default:!1},renderWithEmpty:{type:Boolean,default:!1},hostDetailAppend:{type:Function,default:function(){return document.querySelector("body")}},searchMode:{type:Boolean,default:!1},searchData:{type:Array,default:function(){return[]}},nodeDiff:{type:Object,default:function(){return{}}},hostDiff:{type:Object,default:function(){return{}}},groupDiff:{type:Object,default:function(){return{}}}},data:()=>({activePanel:[],showDetail:!1,viewInfo:{},nodeInfo:[],hostList:[],groupList:[],requestQueue:[]}),computed:{needRender(){return!!this.renderWithEmpty||(this.nodeInfo.length||this.hostList.length||this.groupList.length)},classes(){var t=[];return this.searchMode&&t.push("show-search"),t}},watch:{hostNodeInfo:{handler(t){var e=t.dynamicGroupList,a=t.ipList,i=t.topoNodeList;this.hostList=Object.freeze(a),a.length>0&&h(this.activePanel,"host"),this.nodeInfo=Object.freeze(i),i.length>0&&h(this.activePanel,"node"),this.groupList=Object.freeze(e),e.length>0&&h(this.activePanel,"group")},immediate:!0}},methods:{getAllIP(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=[];this.$refs.host&&e.push(...this.$refs.host.getAllHost()),this.$refs.node&&e.push(...this.$refs.node.getAllHost()),this.$refs.group&&e.push(...this.$refs.group.getAllHost());var a={},i={};return e.forEach((function(t){a[t.ip]=1,1!==t.alive&&(i[t.ip]=1)})),t?Object.keys(i):Object.keys(a)},getAllHost(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(""===t.trim())return this.$refs.host.getAllHost();if(!/^[0-9.]+$/g.test(t))return[];var e=new RegExp("".concat((0,n.encodeRegexp)(t.trim()))),a={};return this.$refs.host&&this.$refs.host.getAllHost().forEach((function(t){e.test(t.ip)&&(a[(0,d.generateHostRealId)(t)]=t)})),Object.values(a)},removeAllInvalidHost(){this.$refs.host&&this.$refs.host.removeAllInvalidHost(),this.$refs.node&&this.$refs.node.removeAllInvalidHost(),this.$refs.group&&this.$refs.group.removeAllInvalidHost()},refresh(){this.$refs.host&&this.$refs.host.refresh(),this.$refs.node&&this.$refs.node.refresh(),this.$refs.group&&this.$refs.group.refresh()},trigger(){this.$emit("on-change",{ipList:this.hostList,topoNodeList:this.nodeInfo,dynamicGroupList:this.groupList})},handleLoading(t){t?this.requestQueue.push(!0):this.requestQueue.pop()},handleView(t){this.showDetail=!0,this.viewInfo=Object.freeze(t)},handleHostChange(t){this.hostList=Object.freeze(t),this.trigger()},handleNodeChange(t){this.nodeInfo=Object.freeze(t),this.trigger()},handleGroupChange(t){this.groupList=Object.freeze(t),this.trigger()},handleSearchChange(t){var e={};t.forEach((function(t){e[t.realId]=!0}));var a=[];this.$refs.host.list.forEach((function(t){e[t.realId]||a.push(t)})),this.hostList=Object.freeze(a),this.trigger()}}};e.Z=p},11838:function(t,e,a){"use strict";a(35927),a(45974),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(71959),a(87033),a(35948),a(94522),a(9042),a(90004),a(23232),a(80433),a(77036);var n=i(a(33610)),r=i(a(77094)),s=i(a(48373)),o=i(a(15399)),l=i(a(12584)),c=i(a(30545)),u=i(a(65442)),d=i(a(61007)),h=a(6615);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v={name:"ViewGroup",components:{JbCollapseItem:l.default,ActionExtend:c.default,HostTable:u.default,StatisticsText:d.default},props:{data:{type:Array,required:!0},editable:{type:Boolean,default:!1},diff:{type:Object,default:function(){return{}}}},data:()=>({list:[],invalidList:[],isLoading:!1,isRequestError:!1}),watch:{data:{handler(t){this.isInnerChange?this.isInnerChange=!1:t.length<1?this.list=[]:this.fetchDynamicGroup()},immediate:!0}},created(){this.isInnerChange=!1,this.groupMap={}},methods:{fetchDynamicGroup(){var t=this;this.isLoading=!0;var e=this.data.reduce((function(t,e){return t[e]=e,t}),{});s.default.fetchHostOfDynamicGroup({id:this.data.join(",")}).then((function(a){var i=[];t.groupMap={},a.forEach((function(a){var n=a.id,r=a.name,s=a.ipListStatus,o=(0,h.statisticsHost)(s);delete e[n],i.push(f({id:n,name:r},o)),t.groupMap[n]=f(f({id:n,name:r},o),{},{host:Object.freeze(s)})})),t.list=Object.freeze(i),t.invalidList=Object.freeze(Object.values(e))})).catch((function(){t.isRequestError=!0})).finally((function(){t.isLoading=!1}))},refresh:(0,r.default)((function(){this.fetchDynamicGroup()}),300),getAllHost(){var t=[];for(var e in this.groupMap)t.push(...this.groupMap[e].host);return t},removeAllInvalidHost(){this.invalidList=[],this.triggerChange()},triggerChange(){this.isInnerChange=!0;var t=[...this.invalidList];this.list.forEach((function(e){t.push(e.id)})),this.$emit("on-change",t)},handleRefresh(){this.fetchDynamicGroup()},handleInvalidRemove(t){var e=[...this.invalidList];e.splice(t,1),this.invalidList=Object.freeze(e),this.triggerChange()},handleRemoveAll(){this.data.length<1?this.messageSuccess(o.default.t("你还未选择动态分组")):(this.list=[],this.groupMap={},this.invalidList=[],this.triggerChange(),this.messageSuccess(o.default.t("移除成功")))},handleRemove(t){var e=this.list[t],a=[...this.list];a.splice(t,1),this.list=Object.freeze(a),delete this.groupMap[e.id],this.triggerChange(),this.messageSuccess(o.default.t("移除成功"))},handleView(t){this.$emit("on-view",Object.freeze(this.groupMap[t]))}}};e.Z=v},58860:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(30545)),r=i(a(29181)),s=i(a(61007)),o=i(a(65442)),l=a(6615),c={name:"HostDetail",components:{ActionExtend:n.default,SidesliderBox:r.default,StatisticsText:s.default,HostTable:o.default},model:{prop:"show",event:"input"},props:{append:{type:Function,required:!0},show:{type:Boolean,default:!1},data:{type:Object,default:function(){return{host:[]}}}},data:()=>({list:[]}),watch:{data:{handler(t){t.host?this.list=Object.freeze((0,l.sortHost)(t.host)):this.list=[]},immediate:!0}},mounted(){var t=this;this.append().appendChild(this.$refs.hostDetail),this.$once("hook:beforeDestroy",(function(){var e=t.append();t.append()&&e.removeChild(t.$refs.hostDetail)}))},methods:{handleClose(){this.currentPage=1,this.$emit("input",!1),this.$emit("change",!1)}}};e.Z=c},37e3:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(9042);var n=i(a(15399)),r=i(a(65442)),s=i(a(30545)),o=a(6615),l={name:"",components:{HostTable:r.default,ActionExtend:s.default},props:{data:{type:Array,required:!0},editable:{type:Boolean,default:!1}},data:()=>({list:[],statisticsData:{}}),computed:{classes(){return{scroll:this.data.length>10}}},watch:{data:{handler(t){this.isInnerChange?this.isInnerChange=!1:(this.page=1,this.list=Object.freeze((0,o.sortHost)(t)),this.statisticsData=(0,o.statisticsHost)(t))},immediate:!0}},methods:{handleRemoveAll(){if(this.list.length<1)this.messageSuccess(n.default.t("没有可移除主机"));else{var t=this.list;this.list=[],this.isInnerChange=!0,this.$emit("on-change",t),this.messageSuccess(n.default.t("移除全部主机成功"))}},handleRemoveFail(){var t=[],e=[];this.list.forEach((function(a){a.alive?t.push(a):e.push(a)})),t.length!==this.list.length?(this.list=Object.freeze(t),this.isInnerChange=!0,this.$emit("on-change",e),this.messageSuccess(n.default.t("移除异常主机成功"))):this.messageSuccess(n.default.t("没有可移除主机"))},handleRemoveOne(t){var e=[],a=null;this.list.forEach((function(i){i.realId!==t?e.push(i):a=i})),this.list=Object.freeze(e),a&&(this.isInnerChange=!0,this.$emit("on-change",[a]))}}};e.Z=l},34525:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(9042),a(92974),a(35948),a(94522),a(90004),a(23232),a(80433);var n=i(a(77094)),r=i(a(15399)),s=i(a(48373)),o=i(a(12584)),l=i(a(30545)),c=i(a(65442)),u=a(6615),d={name:"ViewHost",components:{JbCollapseItem:o.default,ActionExtend:l.default,HostTable:c.default},props:{data:{type:Array,required:!0},editable:{type:Boolean,default:!1},allPanel:{type:Boolean,default:!1},diff:{type:Object,default:function(){return{}}}},data:()=>({isLoading:!1,isRequestError:!1,list:[],invalidList:[]}),computed:{statisticsData(){return(0,u.statisticsHost)(this.list)}},watch:{data:{handler(t){this.isInnerChange?this.isInnerChange=!1:t.length<1?this.list=[]:this.fetchHostOfHost()},immediate:!0}},created(){this.isInnerChange=!1},methods:{fetchHostOfHost(){var t=this;this.isLoading=!0;var e=[],a={};this.data.forEach((function(t){var i=(0,u.generateHostRealId)(t);e.push(i),a[i]=Object.assign({realId:i},t)})),s.default.fetchHostOfHost({ipList:e}).then((function(e){var i=[];t.invalidList=[],e.forEach((function(t){var e=(0,u.generateHostRealId)(t);a[e]&&(i.push(Object.assign({realId:e},t)),delete a[e])})),t.list=Object.freeze((0,u.sortHost)(i)),t.invalidList=Object.freeze(Object.values(a)),t.isRequestError=!1})).catch((function(){t.isRequestError=!0})).finally((function(){t.isLoading=!1}))},refresh:(0,n.default)((function(){this.fetchHostOfHost()}),300),getAllHost(){return[...this.invalidList,...this.list]},removeAllInvalidHost(){this.invalidList=[],this.triggerChange()},getAllInvalidHost(){return this.invalidList},triggerChange(){this.isInnerChange=!0,this.$emit("on-change",[...this.invalidList,...this.list])},handleRefresh(){this.fetchHostOfHost()},handleInvalidRemove(t){var e=[];this.invalidList.forEach((function(a){t.realId!==a.realId&&e.push(a)})),this.invalidList=Object.freeze(e),this.triggerChange()},handleRemoveAll(){this.list.length<1&&this.invalidList.length<1?this.messageSuccess(r.default.t("没有可移除主机")):(this.invalidList=[],this.list=[],this.messageSuccess(r.default.t("移除全部主机成功")),this.triggerChange())},handleRemoveOne(t){var e=[];this.list.forEach((function(a){a.realId!==t&&e.push(a)})),this.list=Object.freeze(e),this.triggerChange()},handleRemoveFail(){var t=[],e=[];this.list.forEach((function(a){a.alive?t.push(a):e.push(a)})),e.length<1&&this.invalidList.length<1?this.messageSuccess(r.default.t("没有可移除主机")):(this.invalidList=[],this.list=Object.freeze(t),this.messageSuccess(r.default.t("移除异常主机成功")),this.triggerChange())}}};e.Z=d},42135:function(t,e,a){"use strict";a(35927),a(45974),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70969),a(71959),a(87033),a(35948),a(94522),a(9042),a(7170),a(90004),a(92974),a(23232),a(80433),a(77036);var n=i(a(33610)),r=i(a(77094)),s=i(a(88052)),o=i(a(48373)),l=i(a(15399)),c=i(a(12584)),u=i(a(30545)),d=i(a(65442)),h=i(a(61007)),p=a(6615);function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={name:"ViewNode",components:{JbCollapseItem:c.default,ActionExtend:u.default,HostTable:d.default,StatisticsText:h.default},props:{data:{type:Array,required:!0},editable:{type:Boolean,default:!1},diff:{type:Object,default:function(){return{}}}},data:()=>({isLoading:!1,isNodeListLoading:!0,list:[],invalidList:[],wholePathMap:{},isRequestError:!1}),watch:{data:{handler(t){this.isInnerChange?this.isInnerChange=!1:t.length<1?this.list=[]:this.fetchNodeDetail()},immediate:!0}},created(){this.isInnerChange=!1,this.nodeMap={}},methods:{fetchNodeDetail(){var t=this;this.isLoading=!0,this.isNodeListLoading=!0;var e=this.data.reduce((function(t,e){return t["#".concat(e.type,"#").concat(e.id)]=e,t}),{});o.default.fetchNodePath(this.data).then((function(a){t.nodeMap={};var i=[];a.forEach((function(t){if(t){var a,n,r,o=t.map((function(t){return t.instanceName})).join(" / "),l=(0,s.default)(t),c=l.objectId,u=l.instanceId,d=(n=(a=l).objectId,r=a.instanceId,"#".concat(n,"#").concat(r));delete e[d],i.push({key:d,id:u,name:o,type:c})}})),t.invalidList=Object.freeze(Object.values(e)),t.list=Object.freeze(i),t.fetchHostOfNode()})).catch((function(){t.isRequestError=!0})).finally((function(){t.isLoading=!1}))},fetchHostOfNode(){var t=this,e=this.list.reduce((function(t,e){return t[e.key]=Object.assign({},e,{isHostLoading:!0}),t}),{});this.list=Object.freeze(Object.values(e)),o.default.fetchNodeInfo(this.list.map((function(t){return{id:t.id,type:t.type}}))).then((function(a){t.nodeMap={},a.forEach((function(a){var i=a.nodeType,n=a.id,r=a.ipListStatus,s=void 0===r?[]:r,o="#".concat(i,"#").concat(n),l=(0,p.statisticsHost)(s);e[o]=Object.assign({},e[o],v(v({},l),{},{isHostLoading:!1})),t.nodeMap[o]=Object.assign({},e[o],v(v({},l),{},{host:Object.freeze(s)}))})),t.list=Object.freeze(Object.values(e))})).finally((function(){t.isNodeListLoading=!1}))},refresh:(0,r.default)((function(){this.isNodeListLoading||this.fetchHostOfNode()}),300),getAllHost(){var t=[];for(var e in this.nodeMap)t.push(...this.nodeMap[e].host);return t},removeAllInvalidHost(){this.invalidList=[],this.triggerChange()},triggerChange(){this.isInnerChange=!0,this.$emit("on-change",[...this.invalidList,...this.list])},handleRefresh(){this.fetchNodeDetail()},handleInvalidRemove(t){var e=[...this.invalidList];e.splice(t,1),this.invalidList=Object.freeze(e),this.triggerChange()},handleRemoveAll(){this.data.length<1?this.messageSuccess(l.default.t("你还未选择节点")):(this.list=[],this.nodeMap={},this.invalidList=[],this.triggerChange(),this.messageSuccess(l.default.t("移除成功")))},handleRemoveOne(t){var e=this.list[t],a=[...this.list];a.splice(t,1),this.list=Object.freeze(a),delete this.nodeMap[e.id],this.triggerChange(),this.messageSuccess(l.default.t("移除成功"))},handleViewHostList(t){this.isNodeListLoading?this.messageError("节点主机列表加载中"):this.$emit("on-view",Object.freeze(this.nodeMap[t]))}}};e.Z=m},74339:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(9042);var i={name:"JbDetailLayout",props:{mode:{type:String,default:"normal"},layout:{type:String,default:"horizontal"},isWarp:{type:Boolean}},created(){this.childrenNum=this.$slots.default},updated(){var t=this.$slots.default;this.childrenNum!==t&&(this.init(),this.childrenNum=t)},mounted(){this.$refs.detailLayout.getBoundingClientRect().width>0&&this.init()},methods:{init(){if("vertical"!==this.layout){var t=this.$refs.detailLayout.querySelectorAll(".detail-label"),e=0;t.forEach((function(t){var a=t.getBoundingClientRect().width;e=Math.max(e,a)})),t.forEach((function(t){t.style.width="".concat(e,"px")}))}}}};e.Z=i},3558:function(t,e){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a={name:"",props:{label:{type:String,default:""},layout:{type:String,default:""}}};e.Z=a},65788:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(35927),a(6919),a(58794),a(87033),a(35948);var i={props:{data:{type:Object,required:!0},placement:{type:String,required:!0},readonly:{type:Boolean,default:!1}},data:()=>({showError:!1,value:""}),computed:{isError(){return 1===this.data.required&&!this.value},descPopover(){return{theme:"light",extCls:"variable-desc-tippy",trigger:"click mouseenter",hideOnClick:!1,content:this.data.description,disabled:!this.data.description}}},watch:{placement(t){this.data.description&&this.$refs.input.$el._tippy.set({placement:t})}},created(){this.init()},methods:{init(){this.value=this.data.defaultValue||this.data.value},handleChange(t){this.value=t.trim(),window.changeAlert=!0},reset(){this.init()},validate(){var t=this,e=this.data,a=e.type,i={id:e.id,name:e.name,type:a,value:this.value,server:{}};return new Promise((function(e,a){if(t.isError)return a(new Error("string error"));e(i)}))}}};e.Z=i},93415:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(35927),a(6919),a(87033),a(35948);var n=i(a(39986)),r=i(a(96481)),s=i(a(29637)),o={components:{ChooseIp:r.default,ServerPanel:s.default},props:{data:{type:Object,required:!0},readonly:{type:Boolean,default:!1}},data:()=>({isShowChooseIp:!1,hostNodeInfo:{}}),computed:{isNotEmpty(){return!n.default.isHostNodeInfoEmpty(this.hostNodeInfo)},isError(){return 1===this.data.required&&!this.isNotEmpty},descPopover(){return{theme:"light",extCls:"variable-desc-tippy",trigger:"click mouseenter",hideOnClick:!1,content:this.data.description,disabled:!this.data.description}}},created(){this.init()},methods:{init(){this.data.defaultTargetValue?this.hostNodeInfo=this.data.defaultTargetValue.hostNodeInfo:this.hostNodeInfo=this.data.targetValue.hostNodeInfo},removeAllInvalidHost(){window.changeAlert=!0,this.$refs.choostIP.removeAllInvalidHost()},handleChooseIp(){this.isShowChooseIp=!0},handleClear(){var t=new n.default({}).hostNodeInfo;this.hostNodeInfo=t,window.changeAlert=!0},handleChange(t){this.hostNodeInfo=Object.freeze(t),window.changeAlert=!0},reset(){this.init()},validate(){var t=this,e=this.data,a=e.type,i={id:e.id,name:e.name,type:a,value:"",targetValue:{hostNodeInfo:this.hostNodeInfo}};return new Promise((function(e,a){if(t.isError)return a(new Error("host error"));e(i)}))}}};e.Z=o},45484:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(87033),a(35948);var n=i(a(42472)),r=i(a(262)),s=i(a(58333)),o=i(a(18277)),l=i(a(38886)),c=i(a(44492)),u={props:{type:{type:Number,required:!0},data:{type:Object,required:!0},layout:{type:String,default:"horizontal"}},data:()=>({isError:!1,placement:""}),computed:{typeCom(){var t={1:r.default,2:s.default,3:o.default,4:l.default,5:c.default,6:c.default};return Object.prototype.hasOwnProperty.call(t,this.type)?t[this.type]:"div"},boxClasses(){var t={"variable-required":1===this.data.required};return"vertical"===this.layout&&(t.vertical=!0),t}},mounted(){if(this.type!==n.default.TYPE_HOST){var t=this.$refs.varBox.clientWidth,e=this.$refs.varName.clientWidth,a=this.$refs.varValue.clientWidth;this.placement=e+a+220>t?"top":"right"}else this.placement="right"},methods:{removeAllInvalidHost(){this.$refs.target.removeAllInvalidHost&&this.$refs.target.removeAllInvalidHost()},reset(){this.$refs.target.reset()},validate(){var t=this;return this.$refs.target.validate().then((function(e){return t.isError=!1,Promise.resolve(e)})).catch((function(e){return t.isError=!0,document.querySelector(".variable-value-error").scrollIntoView(),Promise.reject(e)}))}}};e.Z=u},22392:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(35927),a(6919),a(58794),a(87033),a(35948);var i={props:{data:{type:Object,required:!0},placement:{type:String,required:!0},readonly:{type:Boolean,default:!1}},data:()=>({showError:!1,value:""}),computed:{isError(){return 1===this.data.required&&!this.value},descPopover(){return{theme:"light",extCls:"variable-desc-tippy",trigger:"click mouseenter",hideOnClick:!1,content:this.data.description,disabled:!this.data.description}}},watch:{placement(t){this.data.description&&this.$refs.input.$el._tippy.set({placement:t})}},created(){this.init()},methods:{init(){this.value=this.data.defaultValue||this.data.value},handleChange(t){this.value=t.trim(),window.changeAlert=!0},reset(){this.init()},validate(){var t=this,e=this.data,a=e.type,i={id:e.id,name:e.name,type:a,value:this.value,targetValue:{}};return 1!==this.data.required?Promise.resolve(i):new Promise((function(e,a){if(t.isError)return a(new Error("namespace error"));e(i)}))}}};e.Z=i},98886:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(35927),a(6919),a(58794),a(87033),a(35948);var i={props:{data:{type:Object,required:!0},placement:{type:String,required:!0},readonly:{type:Boolean,default:!1}},data:()=>({showError:!1,value:""}),computed:{isError(){return 1===this.data.required&&!this.value},descPopover(){return{theme:"light",extCls:"variable-desc-tippy",trigger:"click mouseenter",hideOnClick:!1,content:this.data.description,disabled:!this.data.description}}},watch:{placement(t){this.data.description&&this.$refs.input.$el._tippy.set({placement:t})}},created(){this.init()},methods:{init(){this.value=this.data.defaultValue||this.data.value},handleChange(t){this.value=t.trim(),window.changeAlert=!0},reset(){this.init()},validate(){var t=this,e=this.data,a=e.type,i={id:e.id,name:e.name,type:a,value:this.value,targetValue:{}};return new Promise((function(e,a){if(t.isError)return a(new Error("password error"));e(i)}))}}};e.Z=i},93812:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(35927),a(6919),a(58794),a(87033),a(35948);var i={props:{data:{type:Object,required:!0},placement:{type:String,required:!0},readonly:{type:Boolean,default:!1}},data:()=>({showError:!1,value:""}),computed:{isError(){return 1===this.data.required&&!this.value},descPopover(){return{theme:"light",extCls:"variable-desc-tippy",trigger:"click mouseenter",hideOnClick:!1,content:this.data.description,disabled:!this.data.description}}},watch:{placement(t){this.data.description&&this.$refs.input.$el._tippy.set({placement:t})}},created(){this.init()},methods:{init(){this.value=this.data.defaultValue||this.data.value},handleChange(t){this.value=t.trim(),window.changeAlert=!0},reset(){this.init()},validate(){var t=this,e=this.data,a=e.type,i={id:e.id,name:e.name,type:a,value:this.value,targetValue:{}};return new Promise((function(e,a){if(t.isError)return a(new Error("string error"));e(i)}))}}};e.Z=i},38283:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(9042);var i={name:"GlobalVariableLayout",props:{type:{type:String,default:"horizontal"}},computed:{classes(){var t={"global-variable-layout":!0};return"horizontal"!==this.type&&(t.vertical=!0),t}},updated(){var t=this.$slots.default;this.childrenNum!==t&&(this.childrenNum=t,this.init())},mounted(){"horizontal"===this.type&&this.init()},methods:{init(){if(this.$refs.layout.getBoundingClientRect().width>0){var t=this.$refs.layout,e=0,a=t.querySelectorAll(".variable-name");a.forEach((function(t){var a=t.querySelector("span").getBoundingClientRect().width;e=Math.max(e,a)})),a.forEach((function(t){t.style.width="".concat(e,"px")}))}}}};e.Z=i},97471:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024);var i={name:"globalVariableToggleDisplay",props:{count:{type:Number,required:!0}},data:()=>({isOpen:!1}),methods:{handleToggle(){this.isOpen=!this.isOpen}}};e.Z=i},49517:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n={components:{ServerPanel:i(a(29637)).default},props:{data:{type:Object,required:!0}}};e.Z=n},14396:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024);var n=i(a(87718)),r=i(a(39170)),s={props:{type:{type:Number,required:!0},valueWidth:{type:String,default:"500px"},data:{type:Object,required:!0},layout:{type:String,default:"horizontal"}},data:()=>({isError:!1,isEmpty:!1}),computed:{typeCom(){var t={1:n.default,2:n.default,3:r.default,4:n.default,5:n.default,6:n.default};return Object.prototype.hasOwnProperty.call(t,this.type)?t[this.type]:"div"},classes(){var t={};return this.isEmpty||"vertical"===this.layout&&(t.vertical=!0),t}},mounted(){var t=this,e=this.$watch((function(){return t.$refs.value.isEmpty}),(function(e){t.isEmpty=Boolean(e)}),{immediate:!0});this.$once("hook:beforeDestroy",(function(){e()}))}};e.Z=s},86358:function(t,e){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a={props:{data:{type:Object,required:!0}}};e.Z=a},50188:function(t,e){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a={inject:["collapse"],data:()=>({iconType:"arrow-full-right"}),mounted(){var t=this,e=this.$watch((function(){return t.$refs.collapseItem.isActive}),(function(e){t.iconType=e?"arrow-full-down":"arrow-full-right"}),{immediate:!0});this.$once("hook:beforeDestroy",(function(){e()}))}};e.Z=a},25031:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(70969),a(7170),a(94522),a(23232),a(80433);var n=i(a(33610)),r=i(a(38502)),s=i(a(15399)),o=i(a(39986));function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={name:"JbEditHost",components:{ChooseIp:i(a(96481)).default},props:{mode:{type:String,default:"block"},field:{type:String,required:!0},value:{type:Object,default:new o.default({})},width:{type:String,default:"auto"},remoteHander:{type:Function,default:function(){return Promise.resolve()}},rules:{type:Array,default:function(){return[]}}},data(){return{localValue:this.value,isShowChooseIp:!1,error:"",isEditing:!1,isSubmiting:!1}},computed:{renderHtml(){if(!this.localValue)return"--";var t=this.localValue.hostNodeInfo||{},e=t.dynamicGroupList,a=t.ipList,i=t.topoNodeList,n=[];return a.length>0&&n.push('<span class="number strong">'.concat(a.length,"</span>").concat(s.default.t("台主机.result"))),i.length>0&&n.push('<span class="number strong">'.concat(i.length,"</span>").concat(s.default.t("个节点.result"))),e.length>0&&n.push('<span class="number strong">'.concat(e.length,"</span>").concat(s.default.t("个分组.result"))),n.length>0?n.join("\n"):"--"},styles(){return{width:this.width}},isBlock(){return"block"===this.mode}},watch:{value:{handler(t){this.localValue=Object.freeze((0,r.default)(t))},immediate:!0}},methods:{doValidator(){var t=this,e=this.rules.map((function(e){return function(t,e){return new Promise((function(a,i){if(t.required&&!e&&i(t.message),t.validator&&"function"==typeof t.validator){var n=t.validator(e);if(!n.then)return n?a():i(t.message);n.then((function(e){return e?a():i(t.message)})).catch((function(){i(t.message)}))}else a()}))}(e,t.localValue)}));return this.isValidatoring=!0,Promise.all(e).finally((function(){t.isValidatoring=!1}))},triggerChange(){var t=this;this.doValidator().then((function(){t.isEditing=!1,t.localValue!==t.value&&(t.isSubmiting=!0,t.remoteHander({[t.field]:t.localValue}).then((function(){t.$emit("on-change",{[t.field]:t.localValue}),t.messageSuccess(s.default.t("编辑成功"))})).catch((function(){t.localValue=t.value})).finally((function(){t.isSubmiting=!1})))})).catch((function(e){t.error=e}))},handleBlockShowEdit(){this.isBlock&&this.handleShowEdit()},handleShowEdit(){document.body.click(),this.isShowChooseIp=!0},handleHostChange(t){this.localValue=Object.freeze(c(c({},this.localValue),{},{hostNodeInfo:t})),this.triggerChange()}}};e.Z=u},43200:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(7170),a(94522),a(23232),a(80433),a(58794);var n=i(a(15399)),r={name:"JbEditInput",props:{mode:{type:String,default:""},field:{type:String,required:!0},value:{type:String,default:""},width:{type:String,default:"auto"},remoteHander:{type:Function,default:function(){return Promise.resolve()}},rules:{type:Array,default:function(){return[]}}},data(){return{newVal:this.value,error:"",isEditing:!1,isSubmiting:!1}},computed:{styles(){return{width:this.width}},isBlock(){return"block"===this.mode}},watch:{value(t){this.newVal=t}},mounted(){var t=this;this.isValidatoring=!1,document.body.addEventListener("click",this.handleHideEdit),this.$once("hook:beforeDestroy",(function(){document.body.removeEventListener("click",t.handleHideEdit)}))},methods:{doValidator(){var t=this,e=this.rules.map((function(e){return function(t,e){return new Promise((function(a,i){if(t.required&&!e&&i(t.message),t.validator&&"function"==typeof t.validator){var n=t.validator(e);if(!n.then)return n?a():i(t.message);n.then((function(e){return e?a():i(t.message)})).catch((function(){i(t.message)}))}else a()}))}(e,t.newVal)}));return this.isValidatoring=!0,Promise.all(e).finally((function(){t.isValidatoring=!1}))},triggerChange(){var t=this;this.doValidator().then((function(){t.isEditing=!1,t.newVal!==t.value&&(t.isSubmiting=!0,t.remoteHander({[t.field]:t.newVal}).then((function(){t.$emit("on-change",{[t.field]:t.newVal}),t.messageSuccess(n.default.t("编辑成功"))})).catch((function(){t.newVal=t.value})).finally((function(){t.isSubmiting=!1})))})).catch((function(e){t.error=e}))},handleBlockShowEdit(){this.isBlock&&this.handleShowEdit()},handleShowEdit(){var t=this;document.body.click(),this.isEditing=!0,this.$nextTick((function(){t.$refs.input.focus()}))},handleInputChange(t){this.newVal=t.trim()},handleInputBlur(){this.triggerChange()},handleInputEnter(t,e){this.isEditing&&"Enter"===e.key&&13===e.keyCode&&this.triggerChange()},handleHideEdit(t){if(!this.isValidatoring&&!this.error){if(t.path&&t.path.length>0)for(var e=0;e<t.path.length;e++){if("jb-edit-input"===t.path[e].className)return}this.isEditing=!1}}}};e.Z=r},14179:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(71959),a(87033),a(9042),a(35948),a(7170),a(23232),a(80433),a(94522),a(63762),a(92186);var n=i(a(38502)),r=i(a(15399)),s=a(41980),o=i(a(15578)),l=[],c={name:"JbEditTag",components:{JbTagSelect:o.default},props:{field:{type:String,required:!0},value:{type:Array,default:function(){return[]}},shortcurt:{type:Boolean,default:!1},remoteHander:{type:Function,default:function(){return Promise.resolve()}},rules:{type:Array,default:function(){return[]}}},data(){return{isEditing:!1,isLoading:!1,localValue:this.value}},computed:{text(){return this.localValue.map((function(t){return t.name})).join("，")}},watch:{value:{handler(t){this.localValue=t,this.memoValue=[...this.value]},immediate:!0}},mounted(){var t=this;document.body.addEventListener("click",this.hideEdit),this.$once("hook:beforeDestroy",(function(){document.body.removeEventListener("click",t.hideEdit)}))},methods:{triggerRemote(){var t=this;this.isEditing=!1,function(t,e){if(t.length!==e.length)return!1;if(0===t.length)return!0;var a=t.reduce((function(t,e){return t[e.id]=!0,t}),{});return e.forEach((function(t){delete a[t.id]})),Object.keys(a).length<1}(this.memoValue,this.localValue)||(this.isLoading=!0,this.remoteHander({[this.field]:this.localValue.map((function(t){return{id:t.id}}))}).then((function(){t.memoValue=t.localValue,t.messageSuccess(r.default.t("编辑成功")),t.$emit("on-change",{[t.field]:t.localValue})})).finally((function(){t.isLoading=!1})))},hideEdit(t){if(this.isEditing){if(t.path&&t.path.length>0)for(var e=0;e<t.path.length;e++){var a=t.path[e];if(/tippy-popper/.test(a.className)||/job-tag-create-dialog/.test(a.className))return}this.triggerRemote()}},handleTagValueChange(t){this.localValue=Object.freeze(t)},handleEdit(){var t=this;document.body.click(),this.$nextTick((function(){t.isEditing=!0,setTimeout((function(){t.$refs.tagSelect.show()}))}))},handleTextClick(){this.shortcurt&&this.handleEdit()},handleCopy(){this.localValue.length<1?this.$bkMessage({theme:"warning",message:r.default.t("标签为空")}):(l=(0,n.default)(this.localValue),(0,s.execCopy)(this.text))},handlePaste(){l.length<1?this.$bkMessage({theme:"warning",message:r.default.t("请先复制标签")}):(this.localValue=[...new Set([...this.localValue,...l])],this.triggerRemote())}}};e.Z=c},56828:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(87033),a(35948),a(70201),a(94522),a(95179),a(35949);var n=i(a(36410)),r=i(a(15399)),s={name:"JbEditTextarea",components:{JbTextarea:i(a(13447)).default},props:{mode:{type:String,default:""},field:{type:String,required:!0},value:{type:String,default:""},singleRowRender:{type:Boolean,default:!1},rows:{type:Number,default:3},remoteHander:{type:Function,default:function(){return Promise.resolve()}},rules:{type:Array,default:function(){return[]}},readonly:{type:Boolean,default:!1}},data(){return{isEditing:!1,isSubmiting:!1,isExpand:!1,newVal:this.value,renderLength:0}},computed:{renderText(){return this.newVal.length===this.renderLength||this.isExpand?this.newVal:this.renderLength<1?this.newVal?this.newVal:"--":"".concat(this.newVal.slice(0,this.renderLength),"...")},isShowMore(){return this.newVal.length>this.renderLength&&this.renderLength>0},boxStyles(){var t={"max-height":this.isExpand?"unset":"78px"};return this.singleRowRender&&(t.height="26px",t["max-width"]="100%",t["text-overflow"]="ellipsis",t["white-space"]="nowrap"),t},isBlock(){return"block"===this.mode}},watch:{value:{handler(t){this.newVal=t,this.newVal&&this.calcEllTextLength()},immediate:!0}},mounted(){var t=this;document.body.addEventListener("click",this.handleHideInput),this.$once("hook:beforeDestroy",(function(){document.body.removeEventListener("click",t.handleHideInput)}))},methods:{calcEllTextLength(){var t=this;this.$slots.default||this.isExpand||setTimeout((function(){var e=t.newVal.length,a=document.createElement("div");a.style.opacity=0,a.style.zIndex="-1",t.singleRowRender&&(a.style.wordBreak="keep-all",a.style.whiteSpace="pre"),t.$refs.valueTextBox.appendChild(a);var i=0,n=1;!function r(){var s=t.newVal.slice(0,n);a.innerText="".concat(s," 展开展开"),Promise.resolve().then((function(){(i=a.getBoundingClientRect().height)<=72&&n<e&&(n+=2,r())}))}(),setTimeout((function(){t.renderLength=0,i>24&&(t.renderLength=n>=e?e:n-4),t.$refs.valueTextBox.removeChild(a)}))}))},handleBlockShowEdit(){this.isBlock&&this.handleShowInput()},handleShowInput(){var t=this;document.body.click(),this.isEditing=!0,this.$nextTick((function(){t.$refs.input.focus()}))},handleInputBlur(){var t=this;this.isEditing=!1,this.newVal!==this.value&&(this.isSubmiting=!0,this.remoteHander({[this.field]:this.newVal}).then((function(){t.$emit("on-change",{[t.field]:t.newVal}),t.calcEllTextLength(),t.messageSuccess(r.default.t("编辑成功"))})).finally((function(){t.isSubmiting=!1})))},handleHideInput(t){if(t.path&&t.path.length>0)for(var e=0;e<t.path.length;e++){if("jb-edit-textarea"===t.path[e].className)return}this.isEditing=!1},handleCopy(t){var e=t.clipboardData||window.clipboardData;if(e){var a=window.getSelection().toString();a&&a.indexOf(this.renderText)>-1&&(a=this.value),a&&(t.preventDefault(),e.setData("text/plain",(0,n.default)(a,"\n")))}},handleExpandAll(){this.isExpand=!this.isExpand}}};e.Z=s},80995:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(23232),a(87033),a(92186),a(80433),a(9042),a(7170),a(71959),a(35948),a(94522),a(63762),a(40782),a(5580);var n=i(a(35058)),r=i(a(36410)),s=i(a(14791)),o=i(a(32558)),l=i(a(38502)),c=a(46790),u=i(a(52113)),d=function(t){var e=(0,l.default)(t),a={},i=new Set;return e.forEach((function(t){t&&(i.has(t.id)&&i.delete(t.id),i.add(t.id),a[t.id]=t)})),[...i].map((function(t){return Object.freeze(a[t])}))},h={name:"JbSearchSelect",components:{SearchSelect:u.default},props:{data:{type:Array,default:function(){return[]}},placeholder:{type:String,default:""},value:{type:Array,default:function(){return[]}},parseUrl:{type:Boolean,default:!0},appendValue:{type:Array,default:function(){return[]}}},data:()=>({searchValue:[]}),watch:{value:{handler(t){var e=[];this.$refs.searchSelect&&(e=this.$refs.searchSelect.chipList),this.searchValue=d([...e,...t])},immediate:!0},appendValue:{handler(t){var e=this;setTimeout((function(){if(e.$refs.searchSelect){var a=t.reduce((function(t,e){return t[e.id]=!0,t}),{}),i=[];e.$refs.searchSelect.chipList.forEach((function(t){a[t.id]||i.push(t)})),e.searchValue=Object.freeze([...i,...t])}}))},immediate:!0}},created(){this.parseUrl&&this.parseURLData()},methods:{parseURLData(){var t=this;this.URLQuery=this.$route.query;for(var e=[],a={},i=[],n=function(n){var r=t.data[n];if(!Object.prototype.hasOwnProperty.call(t.URLQuery,r.id))return"continue";var s=t.URLQuery[r.id];r.multiable?a[r.id]=s.split(","):a[r.id]=s;var l=Promise.resolve();l=r.remoteMethod?r.remoteMethod():r.children?Promise.resolve(r.children):Promise.resolve(s);var c=r.id,u=r.name,d=t.URLQuery[c];l.then((function(t){var a={},i=[];if(i=r.multiable?d.split(","):[d],(0,o.default)(t)){var n=[];if(i.forEach((function(e){var a=t.find((function(t){return"".concat(t.id)==="".concat(e)}));a&&n.push({id:a.id,name:a.name})})),n.length<1)return;a={id:c,name:u,values:n}}else{var s=[];if(i.forEach((function(t){t&&s.push({id:t,name:t})})),s.length<1)return;a={id:c,name:u,values:s}}e.push(a)})),i.push(l)},r=0;r<this.data.length;r++)n(r);Promise.all(i).finally((function(){var i=[];t.$refs.searchSelect&&(i=t.$refs.searchSelect.chipList),t.searchValue=d([...i,...e]),setTimeout((function(){t.$emit("on-change",a),t.$emit("input",a)}))}))},handleChange(t){var e={},a=function(t){return t.id},i=function(t){return(0,s.default)(t)?(0,r.default)(t):t};t.forEach((function(t){var n="function"==typeof t.map?t.map:a;t.multiable?e[t.id]=t.values.map((function(t){return i(n(t))})):t.values?e[t.id]=i(n(t.values[0])):e[t.id]=i(n(t))}));["operator","creator","lastModifyUser"].forEach((function(t){(0,n.default)(e,t)&&c.userSearchCache.setItem(e[t])})),this.$emit("on-change",e),this.$emit("input",e)},checkEmpty(){return this.$refs.searchSelect.chipList.length<1},reset(){this.searchValue=[],this.$refs.searchSelect.reset()}}};e.Z=h},42063:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(94243),a(57024),a(5580),a(87033),a(70201),a(63762),a(2156),a(58794),a(70969),a(7170),a(23232),a(80433),a(78004),a(56259),a(95179),a(61026),a(77036);var n=i(a(91167)),r=i(a(33610)),s=i(a(45812)),o=i(a(72898)),l=i(a(5068)),c=a(12023),u=i(a(24213)),d=i(a(47939)),h=i(a(47047)),p=i(a(35157));function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var v={name:"BkSearchSelect",provide(){return{searchSelect:this}},components:{RenderTag:i(a(60311)).default},model:{prop:"values",event:"change"},props:{data:{default:function(){return[]},validator:t=>!!Array.isArray(t)},explainCode:{type:String,default:"："},placeholder:{type:String,default:u.default.t("bk.searchSelect.placeholder")},emptyText:{type:String,default:u.default.t("bk.searchSelect.emptyText")},displayKey:{type:String,default:"name"},primaryKey:{type:String,default:"id"},condition:{type:Object,default:()=>({})},values:{type:Array,default:()=>[]},remoteEmptyText:{type:String,default:u.default.t("bk.searchSelect.remoteEmptyText")},remoteLoadingText:{type:String,default:u.default.t("bk.searchSelect.remoteLoadingText")},showCondition:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1},defaultFocus:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},maxTagWidth:{type:Number,default:100}},data(){return{menu:(0,c.generatorMenu)(),chipList:[],maxRenderTagNums:-1,textareaWidth:0,focused:this.defaultFocus,localValue:"",defaultCondition:{},validateStr:""}},computed:{currentSelectKey(){var t=this;return this.data.find((function(e){return e[t.primaryKey]===t.menu.id}))||{}},defaultInputKey(){for(var t=0;t<this.data.length;t++){var e=this.data[t];if(!(e.remote||e.children||e.remoteMethod)&&e.default)return e}return null},placeholderText(){return this.chipList.length>0?"":this.placeholder},renderTagList(){return this.focused||this.maxRenderTagNums<1?this.chipList:this.chipList.slice(0,this.maxRenderTagNums)},isShowTagMultLine(){return!this.focused&&this.maxRenderTagNums>0},tagGroupStyles(){return{width:"calc(100% - 50px)","max-height":this.focused?"320px":"30px","white-space":this.focused?"initial":"nowrap"}},searchInputBoxStyles(){var t={position:"relative",width:this.focused?"".concat(this.textareaWidth,"px"):"auto","min-width":"20px","max-width":"100%"};return this.chipList.length<1&&(t.width="100%"),t},isClearable(){return!this.readonly&&this.clearable&&this.chipList.length>0}},watch:{values:{handler(t){t!==this.chipList&&(this.chipList=t)},deep:!0,immediate:!0},menu:{handler(){this.updateLocalInput()},deep:!0}},created(){this.panelInstance=null,this.popperInstance=null,this.renderTagInstance=null,this.defaultCondition={name:u.default.t("bk.searchSelect.condition")},this.defaultCondition[this.displayKey]||(this.defaultCondition[this.displayKey]=u.default.t("bk.searchSelect.condition")),this.inputTips=u.default.t("bk.searchSelect.tips"),this.calcTextareaWidth=(0,s.default)(this._calcTextareaWidth,30),this.showPopper=(0,s.default)(this._showMenu,50),this.remoteExecuteImmediate()},beforeDestroy(){this.popperInstance&&this.popperInstance.destroy(!0)},methods:{_calcTextareaWidth(){var t=this;this.$nextTick((function(){var e=t.$refs.realInputContent.getBoundingClientRect().width;t.textareaWidth=e+20}))},_showKeyMenu(t){if(!this.panelInstance){var e=null;t&&"BKSearchKey"===t.$options.name?e=t:((e=new o.default(d.default)).searchSelect=this,e.$on("select",this.handleKeyChange),e.$on("select-conditon",this.handleKeyConditonChange)),e.needRender&&(!e._isMounted&&e.$mount(),e.generatorList(),this.panelInstance=e)}},_showValueMenu(t){if(!this.panelInstance){var e=this.localValue,a=this.currentSelectKey[this.displayKey]+this.explainCode||"";e=e.slice(a.length);var i=this.menu.condition[this.displayKey]||"";e=e.slice(i.length);var n=null;t&&"BKSearchValue"===t.$options.name?n=t:((n=new o.default(h.default)).searchSelect=this,n.$on("select-condition",this.handleValueConditionChange),n.$on("select-check",this.handleMultCheck),n.$on("change",this.handleValueChange),n.$on("cancel",this.handleValueCancel)),n.search=e.trim(),n.currentItem=this.currentSelectKey,n.menu=this.menu,n.needRender&&(!n._isMounted&&n.$mount(),n.generatorList(),this.panelInstance=n)}},_showSuggestMenu(t){if(!this.panelInstance){var e=null;t&&"BKSearchSuggest"===t.$options.name?e=t:((e=new o.default(p.default)).searchSelect=this,e.$on("select",this.handleMenuSuggestSelect)),e.needRender&&(!e._isMounted&&e.$mount(),e.generatorList(),this.panelInstance=e)}},_showMenu(){var t=this;this.popperInstance||(this.popperInstance=(0,l.default)(this.$refs.input,function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},c.popperConfig)));var e=this.panelInstance;this.panelInstance=null,setTimeout((function(){if(t._showKeyMenu(e),t._showValueMenu(e),t._showSuggestMenu(e),!t.panelInstance)return e&&e.$destroy(),void t.hidePopper(e);e&&e.$options.name!==t.panelInstance.$options.name&&e.$destroy(),t.popperInstance.set({zIndex:window.__bk_zIndex_manager.nextZIndex()}),t.popperInstance.setContent(t.panelInstance.$el),t.popperInstance.popperInstance.update(),t.popperInstance.show(),t.renderTagInstance&&t.renderTagInstance.hidePopper()}))},hidePopper(){this.panelInstance&&(this.panelInstance.$destroy(),this.panelInstance=null),this.popperInstance&&this.popperInstance.hide(0)},remoteExecuteImmediate(){var t=this;this._remoteKeyImmediateChildrenMap={};for(var e=function(e){var a=t.data[e];"function"==typeof a.remoteMethod&&a.remoteExecuteImmediate&&(0,n.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.remoteMethod();case 3:i=e.sent,t._remoteKeyImmediateChildrenMap[a[t.primaryKey]]=i,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})))()},a=0;a<this.data.length;a++)e(a)},updateLocalInput(){var t=this;if(this.menu.id){var e="".concat(this.currentSelectKey[this.displayKey]).concat(this.explainCode);this.menu.condition[this.primaryKey]&&(e+="".concat(this.menu.condition[this.displayKey]," ")),e+=this.menu.checked.map((function(e){return e[t.displayKey]})).join(" | "),this.localValue=e}else this.localValue="";this.calcTextareaWidth(),setTimeout((function(){t.$refs.textarea.focus()}))},valueValidate(t){var e=!0;return this.currentSelectKey&&this.currentSelectKey.validate&&"function"==typeof this.currentSelectKey.validate?"string"==typeof(e=this.currentSelectKey.validate([...t],this.currentSelectKey))?(this.validateStr=e,e=!1):e&&(this.validateStr=""):this.validateStr="",e},appendChipList(t){if(this.valueValidate(t.values)){var e=[...this.chipList];e.push(t);for(var a={},i=[],n=e.length-1;n>=0;n--){var r=e[n][this.primaryKey];r?a[r]||(i.unshift(e[n]),a[r]=!0):i.unshift(e[n])}this.chipList=Object.freeze(i),this.triggerChange()}},triggerChange(){this.menu=(0,c.generatorMenu)(),this.$emit("change",[...this.chipList])},handleSearchSelectClick(){this.handleInputFocus()},handleInputFocus(){this.renderTagInstance&&this.renderTagInstance.hidePopper(),this.readonly||(this.focused=!0,this.$refs.textarea.focus(),this.showPopper(),this.$emit("focus"))},handleInputOutSide(t){var e=this;if(this.focused){for(var a=t.target.parentNode;a&&a.classList;){if(a.classList.contains("jb-bk-search-list")||a.classList.contains("jb-bk-search-select"))return;a=a.parentNode}this.hidePopper(),this.maxRenderTagNums=-1,this.focused=!1,this.$nextTick((function(){for(var t=e.$refs.tagGroup.querySelectorAll(".search-tag-box"),a=e.$refs.searchSelect.getBoundingClientRect().width,i=0,n=0;n<t.length;n++){var r=t[n].getBoundingClientRect().width;if(!(i+r+50<a)){e.maxRenderTagNums=n;break}i=i+r+6}})),this.$emit("blur")}},handleInputChange(t){var e=t.target.value.replace(/[\r\n]/,"");""===e&&(this.menu=(0,c.generatorMenu)()),this.localValue=e,this.calcTextareaWidth(),this.showPopper(),this.$emit("input",t)},keyDelete(t){if(this.menu.checked.length>0){t.preventDefault();var e=[...this.menu.checked];return e.pop(),void(this.menu.checked=Object.freeze(e))}var a=this.menu.condition[this.displayKey],i=this.currentSelectKey[this.displayKey]+this.explainCode;if(a&&i+a===this.localValue)return t.preventDefault(),this.menu.checked=[],this.menu.condition={},void this.showPopper();if(this.currentSelectKey[this.primaryKey]&&new RegExp("".concat((0,c.encodeRegexp)(this.explainCode),"$")).test(this.localValue))return t.preventDefault(),this.menu=(0,c.generatorMenu)(),void this.showPopper();if(""===this.localValue&&this.chipList.length>0){var n=[...this.chipList];n.pop(),this.chipList=Object.freeze(n),this.triggerChange(),this.showPopper()}},keySubmit(){if(this.localValue)if(this.currentSelectKey[this.primaryKey]){if(this.currentSelectKey.children||"function"==typeof this.currentSelectKey.remoteMethod)return;var t=this.currentSelectKey[this.displayKey]+this.explainCode,e=this.menu.condition[this.displayKey]||"";if(this.localValue.trim()===t+e)return void this.showPopper();var a=this.localValue.replace(t,"");e&&(a=a.replace(this.menu.condition[this.displayKey],""));var i=this.currentSelectKey[this.primaryKey],n=this.currentSelectKey[this.displayKey];this.appendChipList({[this.primaryKey]:i,[this.displayKey]:n,values:[{[this.primaryKey]:a,[this.displayKey]:a}],condition:this.menu.condition}),this.showPopper()}else if(this.defaultInputKey){var r=this.defaultInputKey[this.primaryKey],s=this.defaultInputKey[this.displayKey];this.appendChipList({[this.primaryKey]:r,[this.displayKey]:s,values:[{[this.primaryKey]:this.localValue,[this.displayKey]:this.localValue}]}),this.showPopper()}else this.appendChipList({[this.primaryKey]:this.localValue,[this.displayKey]:this.localValue,values:[]}),this.showPopper()},handleInputKeydown(t){if(this.readonly)t.preventDefault();else if(["ArrowDown","ArrowUp"].includes(t.code))t.preventDefault();else if(["Backspace"].includes(t.code))this.keyDelete(t);else if(["Enter","NumpadEnter"].includes(t.code)&&!t.isComposing){if(t.preventDefault(),this.popperInstance&&this.popperInstance.state.isVisible)return;this.keySubmit(t)}},handleSubmit(t){var e=this;this.keySubmit(),setTimeout((function(){e.$refs.textarea.blur(),e.focused=!1,e.hidePopper()}),100),this.$emit("clear",t)},handleTagChange(t,e){var a=[...this.chipList];a.splice(t,1,e),this.chipList=Object.freeze(a),this.triggerChange(!1)},handleTagDelete(t){var e=[...this.chipList];e.splice(t,1),this.chipList=Object.freeze(e),this.triggerChange()},handleClearAll(){this.menu=(0,c.generatorMenu)(),this.chipList=[],this.triggerChange(),this.showPopper(),this.$emit("clear")},handleKeyChange(t){this.menu=(0,c.generatorMenu)(),this.menu.id=t[this.primaryKey],this.showPopper()},handleKeyConditonChange(t){this.appendChipList(t),this.showPopper()},handleValueConditionChange(t){this.menu.condition=t,this.showPopper()},handleMultCheck(t){this.menu.checked=Object.freeze(t)},handleValueChange(){var t=this.currentSelectKey[this.primaryKey],e=this.currentSelectKey[this.displayKey];this.appendChipList({[this.primaryKey]:t,[this.displayKey]:e,values:this.menu.checked,condition:this.menu.condition}),this.showPopper()},handleValueCancel(){this.menu=(0,c.generatorMenu)(),this.showPopper()},handleMenuSuggestSelect(t){this.appendChipList(t),this.showPopper()},getInputInstance(){return this.$refs.textarea},reset(){this.maxRenderTagNums=-1,this.chipList=[],this.$emit("change",[])}}};e.Z=v},17245:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(71959),a(87033),a(9042),a(7170),a(35927),a(6919);var n=i(a(77094)),r={name:"BKSearchKey",mixins:[i(a(68022)).default],data:()=>({condition:{},list:[],activeIndex:-1}),computed:{needRender(){return!this.searchSelect.menu.id&&""===this.searchSelect.localValue},isCondition(){var t=this.searchSelect;return!(t.chipList.length<1)&&(t.chipList[t.chipList.length-1][t.primaryKey]===t.defaultCondition[t.primaryKey]&&this.searchSelect.showCondition)}},created(){this.generatorList=(0,n.default)(this._generatorList,100)},mounted(){document.body.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){this.activeIndex=-1,document.body.removeEventListener("keydown",this.handleKeydown)},methods:{_generatorList(){var t=this.searchSelect,e=t.primaryKey,a=t.data,i=t.chipList.reduce((function(t,a){return t[a[e]]=!0,t}),{}),n=[];a.forEach((function(t){i[t[e]]||n.push(t)})),this.list=Object.freeze(n)},handleKeydown(t){this.needRender&&(27!==t.keyCode?13===t.keyCode&&this.activeIndex>-1?this.handleClick(this.list[this.activeIndex],this.activeIndex):this.scrollActiveToView(t):this.activeIndex=-1)},handleClick(t,e){this.$emit("select",t,e)},handleCondition(){this.$emit("select-conditon",this.condition)}},render(t){var e=this;if(!this.needRender)return null;var a=this.searchSelect,i=a.condition,n=a.displayKey;return t("div",{class:"jb-bk-search-list",attrs:{role:"key-menu",tabIndex:"-1"}},[e.isCondition?t("div",{class:"search-condition",on:{click:e.handleCondition}},[i[n]]):"",function(t){return e.list.length<1?t("div",{class:"search-loading"},[e.searchSelect.remoteEmptyText]):t("ul",{ref:"list",class:"search-menu"},[e.list.map((function(a,i){return t("li",{class:{"search-menu-item":!0,active:i===e.activeIndex}},[t("div",{class:"item-name",on:{click:function(){return e.handleClick(a,i)}}},[t("span",[a[n]]),a.description?t("span",{class:"item-description"},["(",a.description,")"]):""])])}))])}(t)])}};e.Z=r},12445:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610));a(57024),a(5580),a(87033),a(23232),a(80433),a(70969),a(7170),a(63762),a(2156),a(58794),a(70201),a(78004),a(61026);var r=i(a(72898)),s=i(a(5068)),o=a(12023),l=i(a(47047));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d=null,h={name:"",inject:["searchSelect"],props:{index:{type:Number,required:!0},data:{type:Object,required:!0}},data:()=>({isEditing:!1,textareaWidth:0,localValue:"",keyBoxWidth:"",searchSelectWidth:0,menu:(0,o.generatorMenu)()}),computed:{textareaStyles(){return{position:"relative",width:"".concat(this.textareaWidth,"px"),"max-width":"".concat(this.searchSelectWidth-this.keyBoxWidth-20,"px")}},valueStyles(){var t=this.searchSelect,e=t.isTagMultLine,a=t.maxTagWidth;return e&&a>0?{"max-width":"".concat(a,"px"),height:"22px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"}:{}},conditionText(){var t="";return Object.keys(this.menu.condition).length>0&&(t=this.menu.condition[this.searchSelect.displayKey]),t},currentItem(){var t=this;return this.searchSelect.data.find((function(e){return e.id===t.data.id}))}},watc:{data(){this.updateLocalValue()}},created(){this.menu={id:this.data.id,checked:this.data.values,condition:this.data.condition||{}},this.updateLocalValue(),this.memoValue=this.localValue,this.searchSelect.$once("show-menu",this.hidePopper)},mounted(){this.searchSelect.renderTagInstance=this,this.keyBoxWidth=this.$refs.keyBox.getBoundingClientRect().width,document.body.addEventListener("click",this.handleInputOutSide)},beforeDestroy(){document.body.removeEventListener("click",this.handleInputOutSide)},methods:{calcTextareaWidth(){var t=this;this.$nextTick((function(){var e=t.$refs.realContent.getBoundingClientRect().width;t.textareaWidth=e+20}))},updateLocalValue(){var t=this.searchSelect.displayKey,e="",a=this.menu.condition[t];a&&(e="".concat(a," "));var i=this.menu.checked;i&&i.length>0&&(e="".concat(e).concat(i.map((function(e){return e[t]})).join(" | "))),this.localValue=e,this.calcTextareaWidth()},showPopper(){d&&d!==this&&d.hidePopper(),d=this,this.popperInstance||(this.popperInstance=(0,s.default)(this.$refs.valueBox,u({},o.popperConfig))),this.menuInstance||(this.menuInstance=new r.default(l.default),this.menuInstance.searchSelect=this.searchSelect,this.menuInstance.$on("select-condition",this.handleConditionSelect),this.menuInstance.$on("select-check",this.handleMultCheck),this.menuInstance.$on("change",this.handleSubmit),this.menuInstance.$on("cancel",this.handleMultCancel)),this.menuInstance.search=this.localValue.slice(this.conditionText.length).trim(),this.menuInstance.currentItem=this.currentItem,this.menuInstance.menu=this.menu,this.menuInstance.needRender&&(this.menuInstance.$mount(),this.menuInstance.generatorList(),this.popperInstance.set({zIndex:window.__bk_zIndex_manager.nextZIndex()}),this.popperInstance.setContent(this.menuInstance.$el),this.popperInstance.show())},hidePopper(){this.isEditing=!1,this.popperInstance&&(this.popperInstance.hide(0),this.popperInstance.destroy(),this.popperInstance=null),this.menuInstance&&(this.menuInstance.$destroy(),this.menuInstance=null)},handleWraperClick(t){t.stopPropagation()},handleInputOutSide(t){for(var e=t.target.parentNode;e&&e.classList;){if(e.classList.contains("jb-bk-search-list")||e.classList.contains("bk-search-select"))return;e=e.parentNode}this.localValue=this.memoValue,this.hidePopper()},handleTagClick(t){var e=this;this.isEditing||(this.searchSelect.focused?(setTimeout((function(){e.$refs.textarea.focus(),e.$refs.textarea.selectionStart=e.conditionText.length,e.$refs.textarea.selectionEnd=e.localValue.length})),this.calcTextareaWidth(),this.isEditing=!0,this.searchSelectWidth=this.searchSelect.$refs.searchSelect.getBoundingClientRect().width,this.searchSelect.hidePopper(),this.showPopper()):this.$emit("focus"))},handleTagInput(t){var e=this;if(this.localValue=t.target.value.replace(/\n/,""),this.calcTextareaWidth(),this.menuInstance){if(this.menuInstance.search=this.localValue,this.menuInstance.isCondition){var a=this.menu.condition[this.searchSelect.displayKey]||"";(!a||a.length>this.localValue.length||a.length===this.localValue.length&&a!==this.localValue)&&(this.menu=u(u({},this.menu),{},{condition:{},checked:[]}),setTimeout((function(){e.menuInstance&&e.menuInstance.generatorList()})))}this.showPopper()}},handleRemove(){this.$emit("delete",this.index)},handleMultCheck(t){this.menu.checked=Object.freeze(t),this.updateLocalValue()},handleKeydown(t){if(["Backspace"].includes(t.code)&&""===this.localValue)return this.handleRemove(),void this.hidePopper();if(["ArrowDown","ArrowUp"].includes(t.code))t.preventDefault();else if(["Enter","NumpadEnter"].includes(t.code)){if(t.preventDefault(),this.popperInstance&&this.popperInstance.state.isVisible)return;var e=this.searchSelect,a=e.displayKey,i=e.primaryKey,n=this.localValue;if(this.conditionText&&(n=this.localValue.slice(this.conditionText.length)),""===n)return;this.menu.checked=[{[a]:n,[i]:n}],this.handleSubmit()}},handleSubmit(t){var e=u(u({},this.data),{},{values:this.menu.checked});this.hidePopper(),this.updateLocalValue(),this.memoValue=this.localValue,this.$emit("change",this.index,e)},handleMultCancel(){this.localValue=this.memoValue,this.hidePopper()},handleConditionSelect(t){this.menu.condition=Object.freeze(u({},t)),this.updateLocalValue(),this.showPopper(),this.menuInstance.needRender||(this.popperInstance.hide(0),this.$refs.textarea.focus())},renderKey(t){var e=this.searchSelect,a=e.displayKey,i=e.explainCode;return t("div",{ref:"keyBox",class:"tag-label"},[this.data[a],i])},renderValue(t){var e=this;return t("div",{ref:"valueBox",class:"tag-value",on:{click:this.handleWraperClick}},[t("div",{style:"position: absolute; top: -9999px; left: -9999px;"},[t("pre",{ref:"realContent",style:"display: block; visibility: hidden; font: inherit;"},[this.localValue])]),function(t){return e.isEditing?t("div",{style:e.textareaStyles},[t("div",{style:"min-height: 22px; white-space: normal; word-break: break-all; visibility: hidden;"},[e.localValue]),t("textarea",{ref:"textarea",class:"tag-value-edit",attrs:{spellcheck:"false"},domProps:{value:e.localValue},on:{keydown:e.handleKeydown,input:e.handleTagInput}})]):t("div",{style:e.valueStyles,on:{click:e.handleTagClick}},[e.localValue])}(t)])},renderClear(t){return this.searchSelect.readonly||this.isEditing?null:t("i",{class:"tag-clear bk-icon icon-close",on:{click:this.handleRemove}})}},render(t){return t("div",{class:{"search-tag-box":!0,focused:this.isEditing}},[t("div",{class:"search-tag"},[this.renderKey(t),this.renderValue(t)]),this.renderClear(t)])}};e.Z=h},94359:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(9042),a(71959),a(56259),a(63762),a(95179),a(7170),a(35927),a(6919);var n=i(a(77094)),r=a(12023),s={name:"BKSearchSuggest",mixins:[i(a(68022)).default],data:()=>({activeIndex:-1,list:[]}),computed:{needRender(){return!(this.searchSelect.menu.id||!this.searchSelect.localValue)}},watch:{list(t){var e=this,a=this.searchSelect,i=a.primaryKey,n=a.defaultInputKey;this.activeIndex=-1,n&&t.forEach((function(t,a){n[i]===t.keyId&&(e.activeIndex=a)}))}},created(){this.generatorList=(0,n.default)(this._generatorList,100)},mounted(){document.body.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){document.body.removeEventListener("keydown",this.handleKeydown)},methods:{_generatorList(){for(var t=this.searchSelect,e=t.data,a=t.chipList,i=t.localValue,n=t.displayKey,s=t.primaryKey,o=t._remoteKeyImmediateChildrenMap,l=a.reduce((function(t,e){return t[e[s]]=!0,t}),{}),c=i,u=[],d=function(t){var a=e[t];if(l[a[s]])return"continue";if("function"==typeof a.remoteMethod&&!a.inputInclude&&!a.remoteExecuteImmediate)return"continue";var i=o[a[s]]||a.children;return i?(i.forEach((function(t){new RegExp((0,r.encodeRegexp)(c),"i").test(t.name)&&u.push({keyName:a[n],keyId:a[s],valueName:t[n],valueId:t[s],payload:a})})),"continue"):"function"==typeof a.validate&&!0!==a.validate([{name:c}])?"continue":void u.push({keyName:a[n],keyId:a[s],valueName:c,valueId:c,payload:a})},h=0;h<e.length;h++)d(h);this.list=Object.freeze(u)},handleKeydown(t){this.needRender&&(27!==t.keyCode?13===t.keyCode&&this.activeIndex>-1?this.handleClick(this.list[this.activeIndex]):(this.scrollActiveToView(t),this.$emit("enter-invalid-toggle",!0)):this.activeIndex=-1)},handleClick(t){var e=this.searchSelect.displayKey,a=this.searchSelect.primaryKey;this.$emit("select",{[a]:t.keyId,[e]:t.keyName,values:[{[a]:t.valueId,[e]:t.valueName}]})},renderList(t){var e=this;return this.list.length<1?t("div",{class:"search-loading"},[this.searchSelect.remoteEmptyText]):t("div",{ref:"list",class:"search-suggest-menu-wraper"},[t("table",{class:"search-suggest-menu-list"},[this.list.map((function(a,i){return t("tr",{class:{"search-suggest-menu-item":!0,active:i===e.activeIndex},key:i,on:{click:function(){return e.handleClick(a)}}},[t("td",{class:"search-suggest-item-label"},[a.keyName,"："]),t("td",{class:"search-suggest-item-value"},[t("div",{class:"value-text"},[a.valueName]),a.payload&&a.payload.description?t("div",{class:"description-text"},["(",a.payload.description,")"]):""])])}))])])}},render(t){return this.needRender?t("div",{class:"jb-bk-search-list",attrs:{role:"suggest-menu",tabIndex:"-1"}},[this.renderList(t)]):null}};e.Z=s},17851:function(t,e,a){"use strict";a(35927),a(45974),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(94243),a(63762),a(2156),a(40782),a(87033),a(9042),a(78004),a(58794),a(56259),a(95179),a(71959),a(23232),a(80433),a(90004),a(7170);var n=i(a(33610)),r=i(a(91167)),s=i(a(77094)),o=i(a(24213)),l=i(a(68022)),c=a(12023);function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var d={name:"BKSearchValue",mixins:[l.default],data:()=>({activeIndex:-1,list:[],search:"",currentItem:{},menu:{},error:"",loading:!1,checkeMap:{}}),computed:{needRender(){var t=this.currentItem;return!!t.id&&(!(!t.conditions||!t.conditions.length||this.menu.condition[this.searchSelect.primaryKey])||!!(t.children&&t.children.length>0||"function"==typeof t.remoteMethod))},isMultiable(){var t=this.currentItem;return(!t.conditions||!t.conditions.length)&&t.multiable},isCondition(){var t=this.currentItem;return t.conditions&&t.conditions.length>0}},watch:{list(t){if(this.activeIndex=-1,this.isMultiable){if(!this.search)return;var e=this.searchSelect,a=e.primaryKey,i=e.displayKey,n={};this.search.split(/[｜|]/).forEach((function(e){if(e.replace(/[ {2}\n]/,"")){var r=e.trim(),s=new RegExp("^".concat((0,c.encodeRegexp)(r),"$"),"i");t.forEach((function(t){s.test(t[i])&&(n[t[a]]=t)}))}})),this.checkeMap=Object.freeze(n)}else{if(!this.search)return void(this.activeIndex=0);for(var r=new RegExp((0,c.encodeRegexp)(this.search),"i"),s=0;s<t.length;s++)if(r.test(t[s][this.searchSelect.displayKey]))return void(this.activeIndex=s)}}},created(){var t=this;setTimeout((function(){var e=t.menu.checked.reduce((function(t,e){return t[e.id]=e,t}),{});t.checkeMap=Object.freeze(e)})),this.generatorList=(0,s.default)(this._generatorList,200)},mounted(){document.body.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){document.body.removeEventListener("keydown",this.handleKeydown)},methods:{_generatorList(){var t=this;return(0,r.default)(regeneratorRuntime.mark((function e(){var a,i,n,r,s,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.currentItem,t.error=!1,t.needRender){e.next=4;break}return e.abrupt("return");case 4:if(!t.isCondition||t.menu.condition[t.searchSelect.primaryKey]){e.next=8;break}return t.loading=!1,t.list=Object.freeze([...a.conditions]),e.abrupt("return");case 8:if(!(a.children&&a.children.length>0)){e.next=12;break}return t.loading=!1,t.list=Object.freeze([...a.children]),e.abrupt("return");case 12:if(i="","function"!=typeof a.remoteMethod){e.next=20;break}if(n=t.searchSelect,r=n._remoteKeyImmediateChildrenMap,s=n.primaryKey,!(o=r[a[s]])){e.next=19;break}return t.list=Object.freeze([...o]),e.abrupt("return");case 19:i=a.remoteMethod;case 20:if(!i){e.next=35;break}return t.loading=!0,e.prev=22,e.next=25,i(t.search,a,0);case 25:l=e.sent,t.list=Object.freeze([...l]),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(22),t.error=!0;case 32:return e.prev=32,t.loading=!1,e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[22,29,32,35]])})))()},handleClick(t){if(t.disabled)return!1;if(this.isCondition&&Object.keys(this.menu.condition).length<1)this.$emit("select-condition",t);else{var e=this.searchSelect.primaryKey;if(this.isMultiable){var a=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.checkeMap),i=t[e];a[i]?delete a[i]:a[i]=t,this.checkeMap=Object.freeze(a),this.$emit("select-check",Object.values(this.checkeMap))}else{var r={[t[e]]:t};this.checkeMap=Object.freeze(r),this.handleSubmit()}}},handleKeydown(t){if(this.needRender&&!(this.isMultiable||this.list.length<1))if(13!==event.keyCode)this.scrollActiveToView(event);else{if(this.activeIndex<0)return;this.handleClick(this.list[this.activeIndex],this.activeIndex)}},handleSubmit(t){this.$emit("select-check",Object.values(this.checkeMap)),this.$emit("change")},handleCancel(){this.$emit("cancel")},renderContent(t){var e=this;if(this.error)return t("div",{class:"search-error"},[this.error]);if(this.loading)return t("div",{class:"search-loading"},[this.searchSelect.remoteLoadingText]);if(this.needRender&&!this.list.length)return t("div",{class:"search-loading"},[this.searchSelect.remoteEmptyText]);return t("div",[function(t){var a=e.searchSelect.displayKey,i=e.searchSelect.primaryKey;return t("ul",{ref:"list",class:"search-menu"},[e.list.map((function(n,r){var s=n[i];return t("li",{class:{"search-menu-item":!0,"is-group":!!n.isGroup,"is-disabled":n.disabled,active:e.activeIndex===r}},[t("div",{class:"item-name",on:{click:function(t){return e.handleClick(n,r,s)}}},[n[a]]),e.isMultiable&&e.checkeMap[n.id]?t("i",{class:"bk-icon icon-check-1 item-icon"}):""])}))])}(t),function(t){return e.isMultiable?t("div",{class:"search-list-footer"},[t("div",{class:{"footer-btn":!0,disabled:Object.keys(e.checkeMap).length<1},on:{click:e.handleSubmit}},[o.default.t("bk.searchSelect.ok")]),t("div",{class:"footer-btn",on:{click:e.handleCancel}},[o.default.t("bk.searchSelect.cancel")])]):""}(t)])}},render(t){return this.needRender?t("div",{class:"jb-bk-search-list",attrs:{tabIndex:"-1",role:"search-value"}},[this.renderContent(t)]):null}};e.Z=d},41541:function(t,e,a){"use strict";a(35927),a(45974),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610));a(7170),a(87033),a(35948),a(94522),a(71959),a(9042);var r=i(a(34601)),s=i(a(60299)),o=a(41980);function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var c={name:"JbTagSelect",components:{OperationTag:i(a(60174)).default},props:{value:{type:Array,default:function(){return[]}}},data:()=>({isLoading:!0,isShowCreate:!1,realValue:[],publicScript:!0,list:[]}),watch:{value:{handler(t){this.realValue=t.map((function(t){return t.id}))},immediate:!0}},created(){this.publicScript=(0,o.checkPublicScript)(this.$route),this.fetchData()},methods:{fetchData(){var t=this;return this.isLoading=!0,(this.publicScript?r.default.fetchTagList:s.default.fetchWholeList)().then((function(e){t.list=Object.freeze(e)})).finally((function(){t.isLoading=!1}))},show(){this.$refs.select.show()},handleChange(t){var e=t.reduce((function(t,e){return t[e]=!0,t}),{}),a=[];this.list.forEach((function(t){e[t.id]&&a.push(function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t))})),this.$emit("on-change",a),this.$emit("change",a),this.$emit("input",a)},handleCreate(){this.$refs.select.close(),this.isShowCreate=!0},handleTagNew(t){var e=this;this.fetchData().then((function(){e.realValue.push(t.id),e.isShowCreate=!1,e.$refs.select.show()}))}}};e.Z=c},31185:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(23232),a(80433),a(70969),a(45974),a(87033),a(61026),a(60259),a(35948),a(94522),a(9042),a(71959),a(56259),a(63762),a(95179);var n=i(a(38502)),r=i(a(15399)),s=i(a(46117)),o=a(41980),l=i(a(4159)),c={name:"JobUserSelector",components:{UserSelector:l.default},props:{user:{type:Array,default:function(){return[]}},role:{type:Array,default:function(){return[]}},limit:{type:Number,default:10},showRole:{type:Boolean,default:!0},showDisableUser:{type:Boolean,default:!0},filterList:{type:Array,default:function(){return[]}}},data:()=>({isLoading:!1,checkedUserNums:0,roleList:[],defaultValue:[],disabledUsers:[]}),computed:{realLimit(){return this.limit+this.checkedUserNums}},watch:{user:{handler(){var t=this,e=[...this.user];this.showRole&&(e=[...this.role].concat(e)),this.defaultValue=e.filter((function(e){return!t.filterList.includes(e)}))},immediate:!0},role:{handler(){var t=this,e=[...this.role,...this.user];this.defaultValue=e.filter((function(e){return!t.filterList.includes(e)}))},immediate:!0}},created(){this.historyKey="job-user-selector-cache",this.roleCacheMap={},this.fetchRoleList()},methods:{fetchRoleList(){var t=this;this.showRole&&(this.isLoading=!0,s.default.fetchRoleList().then((function(e){var a=[],i={};e.forEach((function(e){t.filterList.includes(e.code)||(a.push({display_name:e.name,username:e.code,type:"role"}),i[e.code]=e.name)})),t.roleList=Object.freeze(a),t.roleCacheMap=i})).finally((function(){t.isLoading=!1})))},checkUsernameFilter(t){return this.filterList.includes(t)},formatDefaultAlternate(){var t=this,e=[];if(this.roleList.length>0&&e.push({display_name:r.default.t("角色"),username:"role",children:(0,n.default)(this.roleList)}),localStorage.getItem(this.historyKey)){var a=(JSON.parse(localStorage.getItem(this.historyKey))||[]).reduce((function(e,a){return"user"!==a.type||t.checkUsernameFilter(a.username)||e.push(a),e}),[]);e.push({display_name:r.default.t("最近输入"),username:"history",children:a})}return e},handleFuzzySearch(t){var e=this,a={limit:this.realLimit,prefixStr:t},i=function(a){var i=[];if(e.showRole){var n=new RegExp((0,o.encodeRegexp)(t)),s=e.roleList.filter((function(t){return n.test(t.display_name)||n.test(t.username)}));s.length>0&&i.push({display_name:r.default.t("角色"),username:"role",children:s})}if(a.length<1)return i;e.disabledUsers=[];var l=[];return a.forEach((function(t){e.filterList.includes(t.englishName)||(e.showDisableUser||t.enable)&&(t.enable||e.disabledUsers.push(t.englishName),l.push({display_name:t.englishName,username:t.englishName,type:"user"}))})),i.push({display_name:r.default.t("用户"),username:"user",children:Object.freeze(l)}),i};return s.default.fetchAllUsers(a).then((function(t){return{next:!1,results:i(t)}}))},renderTag(t,e){var a=e.username,i="user";return this.roleCacheMap[e.username]&&(a=this.roleCacheMap[e.username],i="user-group-gray"),t("div",{class:"jb-user-seletor-member-tag",key:e.index,attrs:{title:a}},[t("icon",{attrs:{type:i},class:"tag-icon"}),t("span",{class:"text"},[a])])},renterMerberItem(t,e){var a=e.user,i=e.disabled,n="en-US"===this.$i18n.locale;return t("div",{class:{"jb-user-selector-member-item":!0,"is-disabled":i},attrs:{title:a.display_name}},[a.logo?t("img",{class:"img",attrs:{src:a.logo}}):t("icon",{attrs:{type:"role"===a.type?"user-group-gray":"user"},class:"item-icon"}),t("span",{class:"text"},[a.display_name]),i?t("icon",{attrs:{type:n?"forbid-en":"forbid",svg:!0},class:"forbid-icon"}):""])},handleChange(t){var e=this,a=[],i=[];t.forEach((function(t){e.roleCacheMap[t]?a.push(t):i.push(t)})),this.checkedUserNums=i.length,this.$emit("on-change",i,a)}}};e.Z=c},43462:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70969),a(87033),a(9042);var n=i(a(18306)),r={},s={created(){this.id="".concat((0,n.default)(1,1e3),"_").concat(Date.now(),"_PopoverRef"),this.timer=""},mounted(){this.init()},methods:{init(){var t=this;r[this.id]=this.$bkPopover(this.$el,{theme:"list-operation-extend-popover light",interactive:!0,placement:"bottom",content:this.$refs.content,trigger:"click",arrow:!0,size:"small",onShow:function(){Object.keys(r).forEach((function(e){e!==t.id&&r[e].hide()}))}})},handleClick(){r[this.id].hide()}}};e.Z=s},45637:function(t,e,a){"use strict";a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610));a(35927),a(6919),a(87033),a(35948),a(94522);var r=a(30651),s=i(a(15399)),o=i(a(60299)),l=i(a(24152)),c=a(41980),u=a(61681);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={name:"",props:{value:{type:Boolean,default:!1},data:{type:Object,default:function(){return{name:"",description:""}}}},setup(t,e){var a=(0,r.reactive)({isSubmiting:!1,formData:{name:"",description:""}}),i=(0,r.ref)(null),n=(0,r.computed)((function(){return t.data.id>0})),d=(0,r.computed)((function(){return n.value?{title:s.default.t("编辑标签"),okText:s.default.t("保存")}:{title:s.default.t("新建标签"),okText:s.default.t("提交")}})),p=(0,r.getCurrentInstance)().proxy,f={name:[{required:!0,message:s.default.t("标签名不能为空"),trigger:"blur"},{validator:u.tagNameRule.validator,message:u.tagNameRule.message,trigger:"blur"},{validator:function(e){return o.default.checkName({id:t.data.id||0,name:e})},message:s.default.t("标签名已存在，请重新输入"),trigger:"blur"}]};(0,r.watch)((function(){return t.value}),(function(e){if(e){var i=t.data,n=i.name,r=i.description;a.formData={name:n,description:r}}}),{immediate:!0});var v=function(){e.emit("change",!1),e.emit("input",!1),a.formData={name:"",description:""}};return h(h({},(0,r.toRefs)(a)),{},{formRef:i,dialogInfo:d,rules:f,handleSubmit:function(){return a.isSubmiting=!0,i.value.validate().then((function(){return n.value?o.default.updateTag(h({id:t.data.id},a.formData)).then((function(){window.changeAlert=!1,e.emit("on-change"),p.messageSuccess(s.default.t("编辑标签成功")),v()})):o.default.createTag(a.formData).then((function(t){window.changeAlert=!1,e.emit("on-change",new l.default(t)),p.messageSuccess(s.default.t("新建标签成功")),v()}))})).finally((function(){a.isSubmiting=!1}))},handleCancel:function(){(0,c.leaveConfirm)().then((function(){v()}))}})}};e.Z=p},59042:function(t,e,a){"use strict";a(35927),a(45974),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(23232),a(80433),a(87033),a(9042),a(63762),a(40782),a(85604),a(92186),a(47140),a(35948),a(94522);var n=i(a(33610)),r=i(a(56959)),s=i(a(15399)),o=i(a(63715)),l=i(a(16513)),c=a(41980),u=a(46790);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={components:{Empty:o.default},inheritAttrs:!1,props:{dataSource:{type:Function,required:!0},name:String,ignoreUrl:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},paginationSmall:{type:Boolean,default:!1},primaryKey:{type:String,default:"id"},searchControl:{type:Function}},data:()=>({isRendered:!1,isRequesting:!1,isLoading:!0,isSearching:!1,data:[],tableMaxHeight:"",rowSelectMemo:Object.create(null),selectNums:0,params:{},pagination:{count:0,current:1,limit:10}}),computed:{isPageChecked(){if(Object.keys(this.rowSelectMemo).length<1)return!1;for(var t=!0,e=0;e<this.data.length;e++)if(!this.rowSelectMemo[this.data[e][this.primaryKey]]){t=!1;break}return t},isWholeChecked(){return this.selectNums>0&&this.selectNums>=this.pagination.count},realPagination(){return h(h({},this.pagination),{},{small:this.paginationSmall})}},watch:{rowSelectMemo(){this.selectNums=Object.keys(this.rowSelectMemo).length,this.data=[...this.data]}},created(){var t=this,e=this.$route.query.listSelectIds;e&&(e.split(",").forEach((function(e){t.rowSelectMemo[t.primaryKey]=!0})),setTimeout((function(){t.triggerSelectChange()}))),this.defaultSort={},this.requestParamsMemo={},this.ignoreUrl||this.parseURL()},mounted(){var t=this;this.init(),this.$on("onFetch",(function(e){e&&(t.params=Object.freeze(e),t.waitingInit||(t.pagination.current=1),t.waitingInit=!1);var a=t.pagination.limit,i=parseInt(t.pagination.current-1,10)*a,n=h(h(h({},t.defaultSortParams),t.params),{},{pageSize:a,start:i});t.ignoreUrl||(u.routerCache.setItem(t.$route.name,n),window.history.replaceState({},"","?".concat((0,c.buildURLParams)(n)))),t.requestParamsMemo=n,t.isRequesting=!0;var r={data:[{},{},{},{},{},{},{},{},{}],total:100};t.pagination=h(h({},t.pagination),{},{count:r.total||0}),t.$emit("on-refresh",r),setTimeout((function(){t.data=r.data,t.isSearching=!t.checkSearchEmpty()})),t.ignoreUrl||!Object.prototype.hasOwnProperty.call(r,"existAny")||r.existAny||l.default.$emit("page-empty"),t.isLoading=!1,t.isRequesting=!1}))},methods:{init(){var t=(0,c.getOffset)(this.$refs.renderList).top,e=window.innerHeight-t-42-63-20,a=Math.floor(e/42),i=new Set([10,20,50,100,a]);i.has(this.pagination.limit)||i.add(this.pagination.limit),this.pagination.limitList=[...i].sort((function(t,e){return t-e})),this.waitingInit||(this.pagination.limit=a),this.tableMaxHeight=42+42*a+63,this.isRendered=!0},parseURL(){this.URLQuery=this.$route.query;var t=~~this.URLQuery.pageSize,e=~~this.URLQuery.start;this.waitingInit=!1,t&&(this.pagination.current=parseInt(e/t,10)+1,this.pagination.limit=t,this.waitingInit=!0);var a=this.URLQuery,i=a.orderField,n=a.order;i&&(this.defaultSort.prop=i,this.defaultSort.order=~~n?"ascending":"descending"),this.defaultSortParams={},Object.prototype.hasOwnProperty.call(this.URLQuery,"orderField")&&Object.prototype.hasOwnProperty.call(this.URLQuery,"order")&&(this.defaultSortParams={orderField:i,order:n})},resetSelect(){this.handleClearAllSelect()},fetchWhole(){var t=this;this.isWholeChecked||this.$request(this.dataSource(h(h({},this.requestParamsMemo),{},{pageSize:-1,start:-1})),(function(){t.isLoading=!0})).then((function(e){var a={};e.data.forEach((function(e){a[e[t.primaryKey]]=e})),t.rowSelectMemo=Object.freeze(a),t.triggerSelectChange()})).finally((function(){t.isLoading=!1}))},renderHeader(t){var e=this;return t("div",{class:"select-cell"},[e.isWholeChecked?t("div",{class:"jb-whole-check",on:{click:e.handleClearAllSelect}}):t("bk-checkbox",{attrs:{checked:e.isPageChecked},nativeOn:{click:e.handlePageSelectToggle}}),t("bk-popover",{attrs:{placement:"bottom-start",theme:"light jb-table-select-menu",arrow:!1,size:"regular"}},[t("icon",{class:"select-menu-flag",attrs:{type:"down-small"}}),t("div",{slot:"content",class:"jb-table-select-plan"},[t("div",{class:"item",on:{click:this.handlePageSelect}},[s.default.t("本页全选")]),t("div",{class:"item",on:{click:this.fetchWhole}},[s.default.t("跨页全选")])])])])},triggerSelectChange(){var t=this,e=[];Object.keys(this.rowSelectMemo).forEach((function(a){(0,r.default)(t.rowSelectMemo[a])?e.push(t.rowSelectMemo[a]):e.push({[t.primaryKey]:a})})),this.$emit("on-selection-change",e)},handleSort(t){if(t.prop)this.params=Object.freeze(h(h({},this.params),{},{orderField:t.prop,order:{descending:0,ascending:1}[t.order]}));else{var e=h({},this.params);delete e.orderField,delete e.order,this.params=Object.freeze(e)}this.$emit("onFetch")},handlePageChange(t){this.pagination.current=t,this.$emit("onFetch")},handleLimitChange(t){this.pagination.current=1,this.pagination.limit=t,this.$emit("onFetch")},handlePageSelectToggle(){var t=this,e=h({},this.rowSelectMemo);this.data.forEach((function(a){t.isPageChecked?delete e[a[t.primaryKey]]:e[a[t.primaryKey]]=a})),this.rowSelectMemo=Object.freeze(e),this.triggerSelectChange()},handlePageSelect(){var t=this;if(!this.isPageChecked){var e=h({},this.rowSelectMemo);this.data.forEach((function(a){e[a[t.primaryKey]]=a})),this.rowSelectMemo=Object.freeze(e),this.triggerSelectChange()}},handleRowSelect(t,e){var a=h({},this.rowSelectMemo);e?a[t[this.primaryKey]]=t:delete a[t[this.primaryKey]],this.rowSelectMemo=Object.freeze(a),this.triggerSelectChange()},handleClearAllSelect(){this.rowSelectMemo=Object.create(null),this.triggerSelectChange()},checkSearchEmpty(){if(!this.searchControl||"function"!=typeof this.searchControl)return!1;var t=this.searchControl();return!(!t||"function"!=typeof t.checkEmpty)&&t.checkEmpty()},handleClearSearch(){var t=this.searchControl();"function"==typeof t.reset&&t.reset()}}};e.Z=p},39795:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522),a(7170),a(70969);var n=i(a(48373)),r=i(a(39986)),s={name:"",components:{ServerPanel:i(a(29637)).default},props:{title:{type:String,required:!0},hostNodeInfo:{type:Object,required:!0},separator:{type:String,default:"，"}},data:()=>({isLoading:!1,isShowDetail:!1,data:{normalNum:0,abnormalNum:0}}),computed:{isEmpty(){return r.default.isHostNodeInfoEmpty(this.hostNodeInfo)}},watch:{hostNodeInfo(){this.fetchData()}},created(){this.fetchData()},methods:{fetchData(){var t=this;if(this.isEmpty||this.isLoading)this.isLoading=!1;else{this.isLoading=!0;var e=this.hostNodeInfo,a=e.dynamicGroupList,i=e.ipList,r=e.topoNodeList;n.default.fetchHostStatistics({appTopoNodeList:r.map((function(t){return{objectId:t.type,instanceId:t.id}})),dynamicGroupIds:a,ipList:i.map((function(t){return"".concat(t.cloudAreaInfo.id,":").concat(t.ip)}))}).then((function(e){t.data=e})).finally((function(){t.isLoading=!1}))}},handleShowDetail(){this.isShowDetail=!0},handleClose(){this.isShowDetail=!1}}};e.Z=s},66525:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(58794);var i={name:"",props:{value:{type:String,default:""},placeholder:String,resize:{type:Boolean,default:!1}},data(){return{localValue:this.value,focused:!1}},computed:{stylees(){var t={};return this.focused?t["z-index"]=1999:(t.height="30px",t.overflow="hidden",t["white-space"]="pre",t["text-overflow"]="ellipsis"),t},showPlaceholder(){return!this.focused&&!this.localValue}},mounted(){this.init()},methods:{init(){this.$refs.input.innerText=this.value},focus(){this.$refs.input.focus()},handleInputFocus(){var t=this;this.focus(),setTimeout((function(){t.$refs.input.selectionStart=t.localValue.length,t.$refs.input.selectionEnd=t.localValue.length}))},handleInput(t){var e=t.target.outerText;this.localValue=e.trim(),this.$emit("input",this.localValue),this.$emit("change",this.localValue)},handleFocus(){this.focused=!0},handleBlur(){this.focused=!1,this.$refs.input.scrollTop=0,this.$emit("blur",this.localValue)},handlePaste(t){t.preventDefault(),t.stopPropagation();var e="",a=t.originalEvent||t;a.clipboardData&&a.clipboardData.getData?e=a.clipboardData.getData("text/plain"):window.clipboardData&&window.clipboardData.getData&&(e=window.clipboardData.getData("Text")),document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,e):document.execCommand("paste",!1,e)}}};e.Z=i},67114:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(15399)),r={name:"",props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},created(){this.tips={content:n.default.t("步骤有执行失败的目标，将会自动忽略并进入下一步"),width:310,placement:"right"}},methods:{handleChange(t){this.$emit("on-change",this.field,t)}}};e.Z=r},9059:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(5580),a(87033),a(70969);var n=i(a(36410)),r=i(a(39986)),s=i(a(15399)),o=a(41980),l=i(a(34109)),c=i(a(96481)),u=i(a(29637)),d={components:{ComposeFormItem:l.default,ChooseIp:c.default,ServerPanel:u.default},inheritAttrs:!1,props:{taskHostNode:{type:Object,required:!0},variable:{type:Array,default:function(){return[]}},property:{type:String},mode:{type:String,default:""}},data:()=>({isShowChooseIp:!1,searchText:"",isSearchMode:!1,searchData:[],targetType:"variable",localVariable:"",localHost:{}}),computed:{isGolbalVariableType(){return"variable"===this.targetType},isShowServerPanel(){return!this.isGolbalVariableType&&!r.default.isHostNodeInfoEmpty(this.localHost)},isShowServerAction(){return!this.isGolbalVariableType&&!r.default.isHostNodeInfoEmpty(this.localHost)},isClearFailDisabled(){return this.localHost.ipList.length<1},isShowHostSearchInput(){return!this.isGolbalVariableType&&this.localHost.ipList.length>0},targetSelectorStyle(){return{width:"en-US"===this.$i18n.locale?"156px":"120px"}}},watch:{taskHostNode:{handler(t){var e=t.hostNodeInfo,a=t.variable;this.localHost=e,this.localVariable=a,"onlyHost"!==this.mode&&r.default.isHostNodeInfoEmpty(this.localHost)||(this.targetType="hostNodeInfo")},immediate:!0}},created(){var t=this;this.isGolbalVariableType&&(this.localVariable?this.variable.find((function(e){return e.name===t.localVariable}))||setTimeout((function(){t.handleVariableChange("")})):this.variable.length>0&&setTimeout((function(){t.handleVariableChange(t.variable[0].name)}))),this.rules=[{validator:function(){return t.isGolbalVariableType?Boolean(t.localVariable):!r.default.isHostNodeInfoEmpty(t.localHost)},message:s.default.t("目标服务器必填"),trigger:"change"}]},methods:{triggerChange(){var t=new r.default({});this.isGolbalVariableType?t.variable=this.localVariable:t.hostNodeInfo=this.localHost,t.isEmpty||this.$refs.targetServerRef.clearValidator(),this.$emit("on-change",Object.freeze(t))},handleTargetTypeChange(t){this.targetType=t,this.triggerChange()},handleShowChooseIp(){this.isShowChooseIp=!0,this.searchText=""},handleVariableChange(t){this.localVariable=t,this.triggerChange()},handleHostChange(t){this.localHost=Object.freeze(t),this.triggerChange()},handleCopyAll(){var t=this.$refs.serverPanel.getAllIP();t.length<1?this.messageWarn(s.default.t("你还未选择主机")):(0,o.execCopy)(t.join("\n"),"".concat(s.default.t("复制成功"),"（").concat(t.length).concat(s.default.t("个IP"),"）"))},handleCopyFail(){var t=this.$refs.serverPanel.getAllIP(!0);t.length<1?this.messageWarn(s.default.t("暂无异常主机")):(0,o.execCopy)(t.join("\n"),"".concat(s.default.t("复制成功"),"（").concat(t.length).concat(s.default.t("个IP"),"）"))},handleClearAll(){var t=new r.default({}).hostNodeInfo;this.localHost=Object.freeze(t),this.messageSuccess(s.default.t("清空成功")),this.triggerChange()},handleRefreshHost(){this.$refs.serverPanel.refresh()},handleHostSearch(t){this.searchText=(0,n.default)(t),this.searchData=Object.freeze(this.$refs.serverPanel.getAllHost(t))}}};e.Z=d},51346:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70969),a(63762);var n=i(a(15399)),r={components:{JbInput:i(a(86234)).default},props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}},label:{type:String,default:n.default.t("步骤名称")},placeholder:{type:String,default:n.default.t("请输入步骤名称")}},created(){this.rules=[{required:!0,message:"".concat(this.label).concat(n.default.t("必填")),trigger:"blur"},{validator:function(t){return/^[^\\|/:*<>"?]{1,60}$/.test(t)},message:"".concat(this.label).concat(n.default.t("不允许包含"),'\\ | / : * < > " ?'),trigger:"blur"}]},methods:{handleChange(t){this.$emit("on-change",this.field,t)}}};e.Z=r},91889:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70969),a(87033),a(9042);var i={},n={name:"SourceFileExtendAction",created(){this.id="action_extend_".concat(Math.random(),"_").concat(Date.now())},mounted(){this.init()},beforeDestroy(){i[this.id].hide(),delete i[this.id]},methods:{init(){var t=this;i[this.id]=this.$bkPopover(this.$el,{theme:"source-file-action-extend-popover",interactive:!0,placement:"bottom",content:this.$refs.popoverContent,trigger:"mouseover",arrow:!0,onShow:function(){Object.keys(i).forEach((function(e){e!==t.id&&i[e].hide()}))}})},handleWraperClick(){this.handleClose()},handleHide(){var t=this;this.leaveTimer=setTimeout((function(){t.handleClose()}),3e3)},handleShow(){clearTimeout(this.leaveTimer)},handleClose(){i[this.id]&&i[this.id].hide()}}};e.Z=n},47997:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(71959),a(87033),a(63762),a(40782),a(70201);var n=i(a(36410)),r=i(a(15399)),s=i(a(38061)),o=a(61681),l=function(t){return t.split("\n").reduce((function(t,e){var a=(0,n.default)(e);return a&&t.push(a),t}),[])},c={name:"",components:{SmartInput:s.default},props:{value:{type:Array,default:""},mode:{type:String,default:"edit"}},data:()=>({showEdit:!1,isError:!1,renderValue:[],tempValue:"",error:""}),computed:{displayRows(){return this.renderValue.slice(0,3)},hasMore(){return this.renderValue.length>3},styles(){return this.showEdit?{visibility:"hidden"}:{visibility:"visible"}}},watch:{value:{handler(t){this.renderValue=t,this.tempValue=t.join("\n")},immediate:!0}},methods:{handleShowEdit(){var t=this;this.showEdit=!0,this.$nextTick((function(){t.$refs.pathEdit.focus()}))},handleEditChange(t){this.error="",t||(this.error=r.default.t("路径不能为空")),this.tempValue=t},handleEditSubmit(){if(this.error)this.$refs.pathEdit.focused=!0;else{var t=l(this.tempValue);if(!t.every((function(t){return o.filePathRule.validator(t)})))return this.error=r.default.t("路径格式不正确"),this.showEdit=!0,void(this.$refs.pathEdit.focused=!0);this.showEdit=!1,this.renderValue=t,this.$emit("on-change",t)}},handleCreateSubmit(t){this.tempValue=t;var e=l(this.tempValue);e.every((function(t){return o.filePathRule.validator(t)}))?(this.error="",this.renderValue=e,this.$emit("on-change",e)):this.error=r.default.t("路径格式不正确")},handleCreteaBlur(){this.error&&(this.$refs.pathSubmit.focused=!0)}}};e.Z=c},30638:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522),a(70969);var n=i(a(33610)),r=i(a(38502)),s=a(45614),o=i(a(15399)),l=i(a(1249));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"SourceFileBase",components:{ViewFile:i(a(47010)).default},inheritAttrs:!1,props:{field:{type:String,default:""},data:{type:Array,default:function(){return[]}}},data:()=>({isConfigLoading:!0,isAddServerFile:!1,sourceFileList:[],showFileView:!1,fileMaxUploadSize:"2GB",ENABLE_FEATURE_FILE_MANAGE:!1}),watch:{data:{handler(t){this.isSelfChange?this.isSelfChange=!1:t.length<1&&this.sourceFileList.length>0?this.sourceFileList=[]:this.sourceFileList.length<1&&(this.sourceFileList=(0,r.default)(t),this.isAddServerFile=this.sourceFileList.some((function(t){return t.isServerFile})))},immediate:!0},sourceFileList(t){t.length>0&&this.$refs.item.clearValidator()}},created(){var t=this;this.rules=[{validator:function(){return t.sourceFileList.length<1&&(t.updateFileUploadFailed(!1),t.updateFileUploading(!1)),t.sourceFileList.length},message:o.default.t("源文件必填"),trigger:"blur"},{validator:function(){for(var e=0;e<t.sourceFileList.length;e++){var a=t.sourceFileList[e];if(a.isLocalFile&&"danger"===a.uploadStatus)return t.updateFileUploadFailed(!0),!1}return t.updateFileUploadFailed(!1),!0},message:o.default.t("本地源文件上传失败"),trigger:"blur"},{validator:function(){for(var e=0;e<t.sourceFileList.length;e++){var a=t.sourceFileList[e];if(a.isLocalFile&&"primary"===a.uploadStatus)return t.updateFileUploading(!0),!1}return t.updateFileUploading(!1),!0},message:o.default.t("本地源文件上传未完成"),trigger:"change"},{validator:function(){for(var e=0;e<t.sourceFileList.length;e++){var a=t.sourceFileList[e];if(a.isServerFile&&a.fileLocation.length<1)return!1}return!0},message:o.default.t("服务器源文件路径必填"),trigger:"change"},{validator:function(){for(var e=0;e<t.sourceFileList.length;e++){var a=t.sourceFileList[e];if(a.isServerFile&&(a.isVar&&a.host.isEmpty))return!1}return!0},message:o.default.t("服务器源文件中服务器列表不能为空"),trigger:"change"}],this.uploadFileTipsConfig={allowHtml:!0,width:"335px",theme:"light",trigger:"mouseenter",content:"#uploadFileTips",placement:"right-start"},this.fetchJobConfig()},mounted(){var t=this,e=this.$watch((function(){return t.$refs.serverFileView.isShow}),(function(e){t.showFileView=e}),{immediate:!0});this.$once("hook:beforeDestroy",(function(){e()}))},methods:u(u({},(0,s.mapMutations)("distroFile",["updateFileUploading","updateFileUploadFailed"])),{},{fetchJobConfig(){var t=this;this.isConfigLoading=!0,l.default.fetchJobConfig().then((function(e){var a=e.FILE_UPLOAD_SETTING,i=a.amount,n=a.unit;t.fileMaxUploadSize="".concat(i).concat(n),t.ENABLE_FEATURE_FILE_MANAGE=e.ENABLE_FEATURE_FILE_MANAGE})).finally((function(){t.isConfigLoading=!1}))},triggerChange(){this.isSelfChange=!0,this.$emit("on-change",this.sourceFileList)},handleAddServerFile(){this.isAddServerFile=!0},handleAddSourceFile(){this.$refs.serverFileView.handleAddSourceFile()},handlerUploadLocalFile(){this.isAddLocalFile=!0,this.$refs.serverFileView.startUploadLocalFile()},handleSourceFileChange(t){this.sourceFileList=Object.freeze(t),this.triggerChange()}})};e.Z=d},71152:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(9042),a(23232),a(80433),a(92186);var n=i(a(12584)),r=i(a(78669)),s=i(a(26782)),o=i(a(74654)),l=i(a(509)),c={name:"SourceFileView",components:{JbCollapseItem:n.default,ActionExtend:r.default,LocalFile:s.default,ServerFile:o.default,SourceFile:l.default},inheritAttrs:!1,model:{prop:"showAddServerFile",event:"update"},props:{showAddServerFile:{type:Boolean,default:!1},isAddSourceFile:{type:Boolean,defaule:!1},mode:{type:String,default:""},data:{type:Array,default:function(){return[]}},account:{type:Array,default:function(){return[]}}},data:()=>({activeResult:[],localFileList:[],serverFileList:[],sourceFileList:[]}),computed:{isShow(){return this.isShowLocalFile||this.isShowServerFile||this.isShowSourceFile},isShowLocalFile(){return this.localFileList.length>0},isShowServerFile(){return this.showAddServerFile},isShowSourceFile(){return this.sourceFileList.length>0}},watch:{data:{handler(t){var e=this;this.isInnerChange?this.isInnerChange=!1:(this.activeResult=[],this.localFileList=[],this.serverFileList=[],this.sourceFileList=[],t.forEach((function(t){t.isServerFile?e.serverFileList.push(t):t.isLocalFile?e.localFileList.push(t):t.isSourceFile&&e.sourceFileList.push(t)})),this.localFileList.length>0&&this.activeResult.push("local"),(this.showAddServerFile||this.serverFileList.length>0)&&this.activeResult.push("server"),this.sourceFileList.length>0&&this.activeResult.push("source"))},immediate:!0},showAddServerFile(t){t&&this.activeResult.push("server")},isAddSourceFile(t){t&&this.activeResult.push("source")}},methods:{trigger(){this.isInnerChange=!0,this.$emit("on-change",[...this.localFileList,...this.serverFileList,...this.sourceFileList])},handleServerClose(){this.$emit("update",!1)},handleServerFileChange(t){t.length>0&&(this.activeResult=[...new Set([...this.activeResult,"server"])]),this.serverFileList=Object.freeze(t),this.trigger()},handleAddSourceFile(){this.$refs.sourceFile.handleShowSourceDialog()},handleSourceFileChange(t){t.length>0&&(this.activeResult=[...new Set([...this.activeResult,"source"])]),this.sourceFileList=Object.freeze(t),this.trigger()},startUploadLocalFile(){this.$refs.localFile.startUpload()},handleLocalFileChange(t){t.length>0&&(this.activeResult=[...new Set([...this.activeResult,"local"])]),this.localFileList=Object.freeze(t),this.trigger()},handleRemoveAllLocal(){this.localFileList=[],this.trigger()}}};e.Z=c},23072:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(70969),a(23232),a(80433),a(87033),a(9042),a(30254),a(56259),a(63762),a(95179),a(7170),a(77036);var n=i(a(15399)),r=i(a(67713)),s=i(a(1249)),o=i(a(36166)),l=a(41980),c={name:"",props:{data:{type:Array,required:!0}},data:()=>({fileList:[],FILE_UPLOAD_SETTING:{amount:2,unit:"GB",restrictMode:-1,suffixList:[]}}),computed:{fileUploadMaxBytes(){var t=this.FILE_UPLOAD_SETTING,e=t.amount,a=t.unit,i={GB:1073741824,MB:1048576};return i[a.toUpperCase()]?Number(e)*i[a]:a},fileMaxUploadSizeText(){var t=this.FILE_UPLOAD_SETTING,e=t.amount,a=t.unit;return"".concat(e).concat(a)}},watch:{data:{handler(t){this.innerChange?this.innerChange=!1:this.fileList.length<1&&(this.fileList=t)},immediate:!0}},created(){this.fetchJobConfig()},methods:{fetchJobConfig(){var t=this;s.default.fetchJobConfig().then((function(e){t.FILE_UPLOAD_SETTING=e.FILE_UPLOAD_SETTING}))},startUpload(){this.$refs.uploadInput.click()},triggerChange(){this.innerChange=!0,this.$emit("on-change",[...this.fileList])},handleStartUpload(t){var e=this,a=t.target.files,i=[],s=new FormData,c=[],u=[],d=[],h=[],p=this.FILE_UPLOAD_SETTING,f=p.restrictMode,v=p.suffixList,m=void 0===v?[]:v;Array.from(a).forEach((function(t){var a=t.name,n=t.size;if(m&&m.length>0){var r=new RegExp("(".concat(m.map((function(t){return(0,l.encodeRegexp)(t)})).join("|"),")$"));if(1===f&&!r.test(a))return void d.push(a);if(0===f&&r.test(a))return void h.push(a)}if(e.fileList.some((function(t){return t.fileLocationText===a})))c.push(a);else if(n>e.fileUploadMaxBytes)u.push(a);else{var p=new o.default({fileLocation:[a],fileSize:n,fileType:o.default.typeLocal});i.push(p),s.append("uploadFiles",t)}})),d.length>0&&this.messageError("".concat(n.default.t("文件"),"[").concat(d.join(" / "),"]").concat(n.default.t("的类型不在允许范围：")).concat(m.join("、"))),h.length>0&&this.messageError("".concat(n.default.t("文件"),"[").concat(h.join(" / "),"]").concat(n.default.t("的类型在不允许范围：")).concat(m.join("、"))),c.length>0&&this.messageError("".concat(n.default.t("文件"),"[").concat(c.join(" / "),"]").concat(n.default.t("已添加"))),u.length>0&&this.messageError("".concat(n.default.t("文件"),"[").concat(u.join(" / "),"]").concat(n.default.t("上传失败（本地文件最大仅支持")).concat(this.fileMaxUploadSizeText,"）")),i.length<1?this.$refs.uploadInput.value="":(this.fileList.push(...i),r.default.getUploadFileContent(s,{onUploadProgress:function(t){i.forEach((function(e){var a=t.loaded,i=t.total;e.loaded=a,e.loadTotal=i}))}}).then((function(t){i.forEach((function(e,a){var i=t[a],n=i.md5,r=i.filePath,s=i.fileSize;e.fileHash=n,e.fileLocation=[r],e.fileSize=s,e.uploadStatus="success"})),e.triggerChange()})).catch((function(){i.forEach((function(t){t.uploadStatus="danger"}))})),this.$refs.uploadInput.value="",this.triggerChange())},handlerRemove(t){this.fileList.splice(t,1),this.triggerChange()}}};e.Z=c},48800:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610)),r=i(a(93435)),s=a(45614),o=i(a(39986)),l=i(a(36166)),c=a(88777),u=i(a(96481)),d=i(a(64571)),h=i(a(71336));function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v=function(){return new l.default({fileLocation:[],fileType:l.default.typeServer,account:""})},m={name:"",components:{ChooseIp:u.default,AccountSelect:d.default,EditFilePath:h.default},props:{data:{type:Array,required:!0},account:{type:Array,required:!0},variable:{type:Array,required:!0}},data(){return{isShowChooseIp:!1,hasSaved:this.data.length>0,sourceFileType:"globalVar",serverFile:new l.default(v()),reset:0}},created(){this.variable.length>0&&(this.handleVariableChange(this.variable[0].name),window.changeAlert=!1,this.editNewSourceFile(!1))},methods:f(f({},(0,s.mapMutations)("distroFile",["editNewSourceFile"])),{},{handleFileChange(t){this.serverFile.fileLocation=t,window.changeAlert=!0,this.editNewSourceFile(!0)},handleSourceFileTypeChange(t){this.sourceFileType=t,this.serverFile.host=new o.default({});var e=(0,c.findParent)(this,"JbFormItem");e&&setTimeout((function(){e.clearValidator()}))},handleVariableChange(t){if(t){this.serverFile.host.variable=t,window.changeAlert=!0,this.editNewSourceFile(!0);var e=(0,c.findParent)(this,"JbFormItem");e&&setTimeout((function(){e.clearValidator()}))}},handleShowChooseIp(){this.isShowChooseIp=!0},handleHostChange(t){window.changeAlert=!0,this.serverFile.host.hostNodeInfo=t,this.editNewSourceFile(!0)},handleAccountChange(t){if(""!==t){var e=(0,r.default)(this.account,(function(e){return e.id===t})).id;this.serverFile.account=e;var a=(0,c.findParent)(this,"JbFormItem");a&&setTimeout((function(){a.clearValidator()}))}},handleAddNew(){this.hasSaved=!1},handlerSave(){this.$emit("on-change",this.serverFile),this.handlerCancel()},handlerCancel(){var t=this;this.$emit("on-cancel"),this.serverFile=v(),this.sourceFileType="globalVar",this.$refs.chooseIp.reset(),this.reset+=1,this.hasSaved=!0,setTimeout((function(){t.editNewSourceFile(!1)}))}})};e.Z=m},70990:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522),a(5580),a(23232),a(80433),a(77036);var n=i(a(33610)),r=a(45614),s=i(a(6089)),o=i(a(39986)),l=i(a(96481)),c=i(a(83797)),u=i(a(64571)),d=i(a(83040)),h=i(a(54691)),p=i(a(71336));function f(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function v(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?f(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={name:"SourceFileServer",components:{ChooseIp:l.default,RenderServerAgent:c.default,AccountSelect:u.default,AddOnlyHost:d.default,AddHostAndVariable:h.default,EditFilePath:p.default},inheritAttrs:!1,props:{data:{type:Array,required:!0},mode:{type:String,default:""},variable:{type:Array,default:function(){return[]}}},data:()=>({isLoading:!0,serverFileList:[],currentHost:{},accountList:[],isShowChooseIp:!1,currentIndex:0}),computed:{addCom(){return this.isLoading?"div":"onlyHost"===this.mode?d.default:h.default},agentSeparator(){return"onlyHost"===this.mode?"、":"\n"}},watch:{data:{handler(t){this.innerChange?this.innerChange=!1:this.serverFileList=t},immediate:!0}},created(){this.fetchAccount(),this.editNewSourceFile(!1)},methods:v(v({},(0,r.mapMutations)("distroFile",["editNewSourceFile"])),{},{fetchAccount(){var t=this;s.default.fetchAccountWhole({category:1}).then((function(e){t.accountList=e})).finally((function(){t.isLoading=!1}))},findVariableValue(t){var e=this.variable.find((function(e){return e.name===t}));return e?e.defaultTargetValue.hostNodeInfo:new o.default({}).hostNodeInfo},triggerChange(){this.innerChange=!0,this.$emit("on-change",[...this.serverFileList])},handleFilePathEdit(t,e){this.serverFileList[e].fileLocation=t,this.triggerChange()},handleHostEdit(t){this.isShowChooseIp=!0,this.currentIndex=t,this.currentHost=this.data[t].host.hostNodeInfo},handleHostChange(t){this.serverFileList[this.currentIndex].host.hostNodeInfo=t,this.triggerChange()},handleVariableChange(t,e){this.serverFileList[e].host.variable=t,this.triggerChange()},handleEditAccount(t){this.serverFileList[t].isEditAccount=!0,this.editAccountIndex=t,this.triggerChange()},handleAccountChange(t,e){this.serverFileList[e].account=t,this.triggerChange()},handlerRemove(t){this.serverFileList.splice(t,1),this.triggerChange()},handleAddSave(t){this.serverFileList.push(t),this.triggerChange()},handleAddCancel(){this.serverFileList.length<1&&this.$emit("on-close")}})};e.Z=m},16021:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610)),r=i(a(93435)),s=a(45614),o=i(a(36166)),l=a(88777),c=i(a(96481)),u=i(a(64571)),d=i(a(71336));function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f=function(){return new o.default({fileLocation:[],fileType:o.default.typeServer,account:""})},v={name:"",components:{ChooseIp:c.default,AccountSelect:u.default,EditFilePath:d.default},props:{data:{type:Array,required:!0},account:{type:Array,required:!0}},data(){return{isShowChooseIp:!1,hasSaved:this.data.length>0,serverFile:new o.default(f())}},methods:p(p({},(0,s.mapMutations)("distroFile",["editNewSourceFile"])),{},{handleFileChange(t){window.changeAlert=!0,this.serverFile.fileLocation=t,this.editNewSourceFile(!0)},handleHostChange(t){this.serverFile.host.hostNodeInfo=Object.freeze(t),window.changeAlert=!0,this.editNewSourceFile(!0)},handleShowChooseIp(){this.isShowChooseIp=!0},handleAccountChange(t){if(""!==t){var e=(0,r.default)(this.account,(function(e){return e.id===t})).id;this.serverFile.account=e;var a=(0,l.findParent)(this,"JbFormItem");a&&setTimeout((function(){a.clearValidator()}))}},handleAddNew(){this.hasSaved=!1},handlerSave(){this.$emit("on-change",this.serverFile),this.handlerCancel()},handlerCancel(){var t=this;this.$emit("on-cancel"),this.serverFile=f(),this.$refs.chooseIp.reset(),this.hasSaved=!0,setTimeout((function(){t.editNewSourceFile(!1)}))}})};e.Z=v},1327:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(23232),a(80433);var n=i(a(36166)),r=i(a(33221)),s=i(a(34850)),o="selectFileSource",l="selectFile",c={components:{SelectFileSource:r.default,SelectFile:s.default},props:{value:{type:Boolean,defaule:!1},sourceFile:{type:Object,defaule:function(){return{}}}},data:()=>({isLoading:!1,selectStep:o,fileSourceId:"",fileLocation:[]}),computed:{panelCom(){return this.fileSourceId?{[o]:r.default,[l]:s.default}[this.selectStep]:r.default},isSelectedEmpty(){return this.fileLocation.length<1}},watch:{value:{handler(t){if(t)if(this.sourceFile.fileSourceId){var e=this.sourceFile,a=e.fileSourceId,i=e.fileLocation;this.fileSourceId=a,this.fileLocation=i,this.selectStep=l}else this.fileSourceId="",this.fileLocation=[],this.selectStep=o},immediate:!0}},methods:{handleSourceChange(t){this.fileSourceId=t.id,this.selectStep=l,this.fileLocation=[]},handelFileChange(t){this.fileLocation=Object.freeze([...t])},handleSubmit(){var t=new n.default({fileSourceId:this.fileSourceId,fileType:3,fileLocation:this.fileLocation});this.$emit("on-change",t),this.handleCancle()},handleCancle(){this.$emit("input",!1)}}};e.Z=c},88380:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522);var n=i(a(77480)),r={components:{ListActionLayout:i(a(80712)).default},data:()=>({isLoading:!1,tableData:[],searchParams:[]}),created(){this.fetchData()},methods:{fetchData(){var t=this;this.isLoading=!0,n.default.availableSourceList(this.searchParams).then((function(e){var a=e.data;t.tableData=Object.freeze(a)})).finally((function(){t.isLoading=!1}))},handleSearch(t){this.searchParams={alias:t},this.fetchData()},handleGoBucket(t){this.$emit("on-source-change",t)}}};e.Z=r},12989:function(t,e,a){"use strict";a(35927),a(43364),a(23232),a(58596),a(80433);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(71959),a(87033),a(63762),a(40782),a(70969),a(9042),a(70201),a(35948),a(94522),a(85604),a(45974),a(5580),a(92974);var n=i(a(33610)),r=i(a(56318)),s=i(a(36410)),o=i(a(82087)),l=i(a(80712)),c=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var a=u(e);if(a&&a.has(t))return a.get(t);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var s=n?Object.getOwnPropertyDescriptor(t,r):null;s&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=t[r]}i.default=t,a&&a.set(t,i);return i}(a(86093));function u(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,a=new WeakMap;return(u=function(t){return t?a:e})(t)}function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={components:{ListActionLayout:l.default,RenderFileListColumn:c.default},props:{fileSourceId:{type:Number,required:!0},fileLocation:{type:Array,default:function(){return[]}}},data:()=>({isLoading:!1,renderColumns:{},tableData:[],path:"",name:"",pagination:{count:0,current:1,limit:10,"limit-list":[10],small:!0,"show-total-count":!0,"show-limit":!1},rowSelectMemo:{},fileSourceInfo:{}}),computed:{pathStack(){return this.path.split("/").reduce((function(t,e){if(e){var a=t.length>0?t[t.length-1].path:"";t.push({path:"".concat(a).concat(e,"/"),name:e})}return t}),[])},isPageCheckedInfo(){var t=0,e=0,a=this.tableData.length;if(Object.keys(this.rowSelectMemo).length>0)for(var i=0;i<a;i++){var n=this.tableData[i];n.dir?e+=1:this.rowSelectMemo[n.completePath]&&(t+=1)}return{checked:a>0&&t+e===a,indeterminate:a>0&&t>0}}},watch:{fileLocation:{handler(t){var e=this;if(this.isInnerChange)this.isInnerChange=!1;else{this.rowSelectMemo=Object.freeze(t.reduce((function(t,e){return t[e]=!0,t}),{}));var a=function(t){return t.split("/").length};if(t.length>0){var i=(0,r.default)(t,1)[0];t.forEach((function(t){a(i)>a(t)&&(i=t)})),this.path=i.split("/").slice(0,-1).join("/")}setTimeout((function(){e.fetchData()}))}},immediate:!0}},created(){this.wholeTableRowSelect=!1,this.isInnerChange=!1},methods:{fetchData(){var t=this;this.isLoading=!0,o.default.fetchgetListFileNode({fileSourceId:this.fileSourceId,path:this.path,name:this.name,pageSize:this.pagination.limit,start:parseInt(this.pagination.current-1,10)*this.pagination.limit}).then((function(e){t.tableData=Object.freeze(e.data),t.renderColumns=Object.freeze(e.metaData.properties.filter((function(t){return"buttonGroup"!==t.type}))),t.fileSourceInfo=Object.freeze(e.fileSourceInfo),t.pagination=h(h({},t.pagination),{},{count:e.total})})).finally((function(){t.isLoading=!1}))},renderHeader(t){return t("bk-checkbox",{attrs:{value:this.wholeTableRowSelect},on:{change:this.handlePageSelectToggle}})},resetSearchParams(){this.wholeTableRowSelect=!1,this.name="",this.pagination.current=1},triggerChange(){this.isInnerChange=!0,this.$emit("on-file-change",Object.keys(this.rowSelectMemo))},handleBackLast(){var t=this.pathStack[this.pathStack.length-2];this.handlePathLocation(t.path)},handleGoSourceList(){this.$emit("on-source-change",{id:""})},handlePathLocation(t){(0,s.default)(t,"/")!==(0,s.default)(this.path,"/")&&(this.resetSearchParams(),this.path=t,this.fetchData())},handleLink(t){this.resetSearchParams(),this.path=t,this.fetchData()},handleSearch(t){this.resetSearchParams(),this.name=t,this.fetchData()},handlePageSelectToggle(t){var e=this;this.isLoading=!0,o.default.fetchgetListFileNode({fileSourceId:this.fileSourceId,path:this.path,name:this.name,pageSize:-1,start:0}).then((function(a){var i=a.data,n=a.metaData.properties.find((function(t){var e=t.type;return(0,c.checkIsCheckboxColumn)(e)}));if(n){var r=Object.assign({},e.rowSelectMemo);i.forEach((function(e){t?(0,c.parseCondition)(n.enable,e)&&(r[e.completePath]=!0):delete r[e.completePath]})),e.rowSelectMemo=Object.freeze(r),e.triggerChange()}})).finally((function(){e.isLoading=!1}))},handleRowSelect(t,e){var a=Object.assign({},this.rowSelectMemo);e?a[t]=!0:delete a[t],this.rowSelectMemo=Object.freeze(a),this.triggerChange()},handlePageChange(t){this.pagination.current=t,this.fetchData()}}};e.Z=p},60592:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70201);var i={name:"",props:{data:{type:Array,default:function(){return[]}}},data:()=>({}),computed:{renderData(){return this.data.slice(0,3)},hasMore(){return this.data.length>3}},methods:{}};e.Z=i},42:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024);var n=i(a(77480)),r={props:{fileSourceId:{type:Number,required:!0}},data:()=>({isLoading:!1,fileSourceAlias:""}),created(){this.fetchSourceFileInfo()},methods:{fetchSourceFileInfo(){var t=this;n.default.getSourceInfo({id:this.fileSourceId}).then((function(e){t.fileSourceAlias=e.alias}))},handleGoFileSource(){var t=this.$router.resolve({name:"fileList",query:{fileSourceId:this.fileSourceId}}).href;window.open(t,"_blank")}}};e.Z=r},77079:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(23232),a(80433),a(77036);var n=i(a(89415)),r=i(a(69385)),s=i(a(34014)),o={components:{ChooseSourceFile:n.default,RenderFileName:s.default,RenderSourceName:r.default},props:{data:{type:Array,default:function(){return[]}}},data:()=>({isShowSourceFile:!1,editSourceFileIndex:-1,list:[]}),watch:{data:{handler(t){this.innerChange?this.innerChange=!1:this.list=Object.freeze(t)},immediate:!0}},methods:{triggerChange(){this.innerChange=!0,this.$emit("on-change",[...this.list])},handleSourceFileChange(t){var e=[...this.list];this.editSourceFileIndex>-1?e.splice(this.editSourceFileIndex,1,t):e.push(t),this.list=Object.freeze(e),this.editSourceFileIndex=-1,this.triggerChange()},handleShowSourceDialog(){this.isShowSourceFile=!0,this.editSourceFileIndex=-1},handleEditSourceFile(t){this.isShowSourceFile=!0,this.editSourceFileIndex=t},handlerRemove(t){var e=[...this.list];e.splice(this.editSourceFileIndex,1),this.list=Object.freeze(e),this.triggerChange()}}};e.Z=o},12606:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(5068)),r={props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},methods:{showTips(){this.popperInstance||(this.popperInstance=(0,n.default)(this.$refs.input.$el,{arrow:!0,placement:"right",trigger:"manual",theme:"light",interactive:!0,hideOnClick:!1,animation:"slide-toggle",lazy:!1,size:"small",boundary:"window",distance:20,zIndex:window.__bk_zIndex_manager.nextZIndex()}),this.popperInstance.setContent(this.$refs.tips)),this.popperInstance.show()},hideTips(){this.isMouseenter||this.popperInstance.hide()},handleMouseenter(){clearTimeout(this.hideTimer),this.showTips()},handleMouseleave(){var t=this;this.isMouseenter=!1,this.hideTimer=setTimeout((function(){t.isInputFocus||t.hideTips()}),100)},handleInputFocus(){this.isInputFocus=!0,this.showTips()},handleInputBlur(){this.isInputFocus=!1,this.hideTips()},handleTipsMouseenter(){clearTimeout(this.hideTimer),this.isMouseenter=!0},handleChange(t){this.$emit("on-change",this.field,t)}}};e.Z=r},33238:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(27559)),r=i(a(73524)),s=i(a(43807)),o=i(a(32105)),l=i(a(51397)),c=i(a(92578)),u=i(a(21828)),d=i(a(42875)),h=i(a(41158)),p=i(a(68229)),f=i(a(77006)),v={stepName:r.default,sourceFileOfExecution:o.default,sourceFileOfTemplate:l.default,targetPath:c.default,errorHandle:n.default,transferMode:u.default,executeAccount:d.default,targetServerOfTemplate:h.default,targetServerOfExecution:p.default,timeout:s.default,speedLimit:f.default},m={name:"ExecuteFileItemFactory",inheritAttrs:!1,props:{name:{type:String,default:""}},computed:{itemCom(){return Object.prototype.hasOwnProperty.call(v,this.name)?v[this.name]:"div"}}};e.Z=m},9455:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(15399)),r={components:{AccountSelect:i(a(64571)).default},props:{field:{type:String,required:!0},formData:{type:Object,required:!0}},created(){this.rules=[{required:!0,message:n.default.t("执行账号必填"),trigger:"blur"}]},methods:{handleChange(t){this.$emit("on-change",this.field,t)}}};e.Z=r},54225:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(7170);var n=i(a(36166)),r={components:{SourceFile:i(a(80241)).default},inheritAttrs:!1,props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},data:()=>({fileSources:[]}),watch:{formData:{handler(t){this.fileSources=Object.freeze(t[this.field].map((function(t){var e=new n.default(t);return e.loaded=1,e.uploadStatus="success",e})))},immediate:!0}},methods:{handleSourceFileChange(t){var e=t.map((function(t){return{fileHash:t.fileHash,fileLocation:t.fileLocation,fileType:t.fileType,fileSize:"".concat(t.fileSize),host:t.host,account:t.account,id:t.id,fileSourceId:t.fileSourceId}}));this.$emit("on-change",this.field,Object.freeze(e))}}};e.Z=r},5401:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(7170);var n=i(a(36166)),r={name:"SourceFileOfTemplate",components:{SourceFile:i(a(80241)).default},inheritAttrs:!1,props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}},variable:{type:Array,default:function(){return[]}}},data:()=>({isAddServeFile:!1,fileSources:[]}),watch:{formData:{handler(t){this.fileSources=Object.freeze(t[this.field].map((function(t){var e=new n.default(t);return e.loaded=1,e.uploadStatus="success",e})))},immediate:!0}},methods:{handleSourceFileChange(t){var e=t.map((function(t){return{fileHash:t.fileHash,fileLocation:t.fileLocation,fileType:t.fileType,fileSize:"".concat(t.fileSize),host:t.host,account:t.account,id:t.id,fileSourceId:t.fileSourceId}}));this.$emit("on-change",this.field,Object.freeze(e))}}};e.Z=r},33116:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(15399)),r={name:"",props:{field:{type:String,required:!0},label:{type:String,default:n.default.t("限速")},formData:{type:Object,default:function(){return{}}}},data:()=>({enabled:!1}),watch:{formData:{handler(t){t[this.field]>0&&(this.enabled=!0)},immediate:!0}},created(){this.speedLimitTipsConfig={allowHtml:!0,width:"325px",theme:"light",trigger:"mouseenter",content:"#targetPathTips",placement:"right-start",delay:[0,1e7]}},methods:{handleEnableChange(t){this.enabled=t,this.$emit("on-change",this.field,t?10:0)},handleChange(t){this.$emit("on-change",this.field,t)}}};e.Z=r},63909:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(36410)),r=i(a(5068)),s=i(a(15399)),o=a(41980),l=a(61681),c={props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}},tipsPlacement:{type:String,default:"right-start"}},watch:{tipsPlacement(t){this.popperInstance&&this.popperInstance.set({placement:t})}},created(){this.rules=[{required:!0,message:s.default.t("目标路径必填"),trigger:"blur"},{validator:l.filePathRule.validator,message:s.default.t("目标路径格式错误"),trigger:"blur"}],this.isMouseenter=!1},beforeDestroy(){this.popperInstance&&(this.popperInstance.hide(),this.popperInstance.destroy())},methods:{showTips(){this.popperInstance||(this.popperInstance=(0,r.default)(this.$refs.input.$el,{arrow:!0,placement:this.tipsPlacement,trigger:"manual",theme:"light",interactive:!0,hideOnClick:!1,animation:"slide-toggle",lazy:!1,size:"small",boundary:"window",distance:20,zIndex:window.__bk_zIndex_manager.nextZIndex()}),this.popperInstance.setContent(this.$refs.targetPathTips)),this.popperInstance.show()},hideTips(){this.isMouseenter||this.popperInstance.hide()},handleMouseenter(){clearTimeout(this.hideTimer),this.showTips()},handleMouseleave(){var t=this;this.isMouseenter=!1,this.hideTimer=setTimeout((function(){t.isInputFocus||t.hideTips()}),100)},handleInputFocus(){this.isInputFocus=!0,this.showTips()},handleInputBlur(){this.isInputFocus=!1,this.hideTips()},handleTipsMouseenter(){clearTimeout(this.hideTimer),this.isMouseenter=!0},handleCopy(t){(0,o.execCopy)(t)},handleChange(t){this.$emit("on-change",this.field,(0,n.default)(t))}}};e.Z=c},80121:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n={components:{ExecuteTarget:i(a(27564)).default},inheritAttrs:!1,props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},methods:{handleTargetChange(t){this.$emit("on-change",this.field,Object.freeze(t))}}};e.Z=n},81274:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n={components:{ExecuteTarget:i(a(27564)).default},inheritAttrs:!1,props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},methods:{handleTargetChange(t){this.$emit("on-change",this.field,Object.freeze(t))}}};e.Z=n},81356:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(85604),a(61026);var n=i(a(15399)),r={name:"",props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},data:()=>({radioValue:2}),computed:{showSelectCheck(){return-1===this.radioValue}},watch:{formData:{handler(t){var e=parseInt(t[this.field],10);[3,4].includes(e)?this.radioValue=-1:this.radioValue=e},immediate:!0,deep:!0}},created(){this.strictTips={content:n.default.t("严谨判断目标路径是否存在，若不存在将直接终止任务。"),width:180},this.constraintTips={content:n.default.t("不论目标路径是否存在，都将强制按照用户填写的目标路径进行传输（路径不存在会自动创建）。"),width:210},this.safeTips={content:n.default.t("避免因源或目标机器有同名文件时被覆盖，该模式下将按用户选择的规则在目标路径后面追加创建相应的文件夹。"),width:210}},methods:{handleChange(t){var e=-1===t?3:t;this.$emit("on-change",this.field,e)},handleSelectChange(t){this.$emit("on-change",this.field,t)}}};e.Z=r},68225:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(73524)),r=i(a(27559)),s=i(a(43807)),o=i(a(33577)),l=i(a(33707)),c=i(a(78735)),u=i(a(74882)),d=i(a(75475)),h=i(a(26838)),p=i(a(510)),f={name:"ExecuteScriptItemFactory",props:{name:{type:String,required:!0}},computed:{itemCom(){var t={scriptName:n.default,scriptSourceOfExecution:o.default,scriptSourceOfTemplate:l.default,errorHandle:r.default,scriptContent:c.default,scriptParam:u.default,scriptTimeout:s.default,scriptAccount:d.default,executeTargetOfTemplate:h.default,executeTargetOfExecution:p.default};return Object.prototype.hasOwnProperty.call(t,this.name)?t[this.name]:"div"}}};e.Z=f},52918:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(15399)),r=a(41980),s={components:{AccountSelect:i(a(64571)).default},props:{field:{type:String,required:!0},scriptLanguageField:{type:String},formData:{type:Object,required:!0}},computed:{accountType(){return"SQL"===(0,r.formatScriptTypeValue)(this.formData[this.scriptLanguageField])?"db":"system"}},created(){this.rules=[{required:!0,message:n.default.t("执行账号必填"),trigger:"blur"}]},methods:{handleChange(t){this.$emit("on-change",this.field,t)}}};e.Z=s},63932:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n={components:{ExecuteTarget:i(a(27564)).default},props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},methods:{handleTargetChange(t){this.$emit("on-change",this.field,Object.freeze(t))}}};e.Z=n},88717:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n={components:{ExecuteTarget:i(a(27564)).default},props:{field:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},methods:{handleTargetChange(t){this.$emit("on-change",this.field,Object.freeze(t))}}};e.Z=n},61948:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033);var n=i(a(15399)),r=i(a(44068)),s=i(a(72075)),o=i(a(45673)),l=a(41980),c={components:{AceEditor:o.default},props:{contentField:{type:String,required:!0},scriptSourceField:{type:String,required:!0},languageField:{type:String,required:!0},formData:{type:Object,default:function(){return{}}},scriptVariables:{type:Array,default:function(){return[]}}},data:()=>({lang:"Shell",isReadonly:!1}),computed:{isContentLoading(){return this.formData.isScriptContentLoading}},watch:{formData:{handler(t){var e=this;this.isReadonly=t[this.scriptSourceField]!==s.default.scriptStep.TYPE_SOURCE_LOCAL,this.lang=(0,l.formatScriptTypeValue)(t[this.languageField]),this.isReadonly?this.rules=[]:this.rules=[{required:!0,message:n.default.t("脚本内容必填"),trigger:"change"},{validator:function(a){return r.default.getScriptValidation({content:a,scriptType:t[e.languageField]}).then((function(t){return e.$store.commit("setScriptCheckError",t.some((function(t){return t.isDangerous}))),!0}))},message:n.default.t("脚本内容检测失败"),trigger:"blur"}]},deep:!0,immediate:!0},"formData.content"(t){t&&this.$refs.item.clearValidator()}},created(){this.rules=[]},methods:{handleTypeChange(t){this.$emit("on-change",this.languageField,(0,l.formatScriptTypeValue)(t))},handleChange(t){this.$emit("on-change",this.contentField,t)}}};e.Z=c},87329:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n={components:{JbInput:i(a(86234)).default},props:{paramField:{type:String,required:!0},secureField:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},computed:{paramType(){return this.formData[this.secureField]?"password":"text"}},methods:{handleParamChange(t){this.$emit("on-change",this.paramField,t)},handleSecureParam(t){this.$emit("on-change",this.secureField,t)}}};e.Z=n},13640:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522);var n=i(a(15399)),r=i(a(44068)),s=i(a(12e3)),o=i(a(72075)),l={components:{ComposeFormItem:i(a(34109)).default},props:{scriptSourceField:{type:String,required:!0},scriptIdField:{type:String,required:!0},scriptVersionIdField:{type:String},contentField:{type:String,required:!0},languageField:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},data:()=>({scripList:[],publicScripList:[],scriptSource:"local",referType:2}),computed:{authView(){return this.formData[this.scriptSourceField]===o.default.scriptStep.TYPE_SOURCE_BUSINESS?"script/view":"public_script/view"},authCreate(){return this.formData[this.scriptSourceField]===o.default.scriptStep.TYPE_SOURCE_BUSINESS?"script/create":"public_script/create"},isScriptRefer(){return"refer"===this.scriptSource},scripListDisplay(){var t=this.formData[this.scriptSourceField];return t===o.default.scriptStep.TYPE_SOURCE_BUSINESS?this.scripList:t===o.default.scriptStep.TYPE_SOURCE_PUBLIC?this.publicScripList:[]},newBtnText(){return this.formData[this.scriptSourceField]===o.default.scriptStep.TYPE_SOURCE_BUSINESS?n.default.t("新建业务脚本"):n.default.t("新建公共脚本")},rules(){return this.isScriptRefer?[{required:!0,message:n.default.t("请选择引用脚本"),trigger:"blur"}]:[]}},watch:{formData:{handler(){this.initScriptSource()},immediate:!0},"formData.scriptId"(t){t&&this.$refs.scriptId.clearValidator()}},created(){this.formData[this.scriptVersionIdField]&&this.handleScriptVersionIdChange(this.formData[this.scriptVersionIdField]),this.fetchScriptList(),this.fetchPublicScriptList()},methods:{fetchScriptList(){var t=this;r.default.getOnlineScriptList().then((function(e){t.scripList=e}))},fetchPublicScriptList(){var t=this;s.default.getOnlineScriptList().then((function(e){t.publicScripList=e}))},initScriptSource(){this.formData[this.scriptSourceField]!==o.default.scriptStep.TYPE_SOURCE_LOCAL?(this.scriptSource="refer",this.referType=this.formData[this.scriptSourceField]):this.scriptSource="local"},handleScriptSourceChange(t){var e="local"===t?o.default.scriptStep.TYPE_SOURCE_LOCAL:o.default.scriptStep.TYPE_SOURCE_BUSINESS;this.$emit("on-reset",{[this.scriptSourceField]:e,[this.scriptIdField]:"",[this.scriptVersionIdField]:""})},handleReferScriptTypeChange(t){t!==this.formData[this.scriptSourceField]&&this.$emit("on-reset",{[this.scriptSourceField]:t,[this.scriptIdField]:"",[this.scriptVersionIdField]:""})},handleScriptVersionIdChange(t){var e=this;t&&(this.$emit("on-reset",{isScriptContentLoading:!0}),r.default.versionDetail({id:t}).then((function(a){var i=a.id,n=a.content,r=a.type,s=a.publicScript,l=o.default.scriptStep.TYPE_SOURCE_BUSINESS;s&&(l=o.default.scriptStep.TYPE_SOURCE_PUBLIC),e.$emit("on-reset",{[e.scriptSourceField]:l,[e.scriptIdField]:i,[e.contentField]:n,[e.languageField]:r,[e.scriptVersionIdField]:t})})).finally((function(){e.$emit("on-reset",{isScriptContentLoading:!1})})))},handleGoScriptDetail(){var t=this.formData[this.scriptSourceField]===o.default.scriptStep.TYPE_SOURCE_PUBLIC?"publicScriptVersion":"scriptVersion",e=this.$router.resolve({name:t,params:{id:this.formData[this.scriptIdField]},query:{scriptVersionId:this.formData[this.scriptVersionIdField]}}).href;window.open(e)},handleGoCreate(){var t=this.formData[this.scriptSourceField]===o.default.scriptStep.TYPE_SOURCE_PUBLIC?"createPublicScript":"createScript",e=this.$router.resolve({name:t}).href;window.open(e)}}};e.Z=l},89173:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522),a(70969);var n=i(a(56318)),r=i(a(33610)),s=i(a(97122)),o=i(a(38502)),l=i(a(15399)),c=i(a(44068)),u=i(a(12e3)),d=i(a(72075));function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){(0,r.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={components:{ComposeFormItem:i(a(34109)).default},props:{scriptSourceField:{type:String,required:!0},scriptIdField:{type:String,required:!0},scriptVersionIdField:{type:String},contentField:{type:String,required:!0},languageField:{type:String,required:!0},scriptStatusField:{type:String,required:!0},formData:{type:Object,default:function(){return{}}}},data:()=>({defaultScript:{},scriptGroup:[],publicScriptGroup:[],sourceType:"local",referType:2}),computed:{authView(){return this.formData[this.scriptSourceField]===d.default.scriptStep.TYPE_SOURCE_BUSINESS?"script/view":"public_script/view"},authCreate(){return this.formData[this.scriptSourceField]===d.default.scriptStep.TYPE_SOURCE_BUSINESS?"script/create":"public_script/create"},scriptGroupComponent(){return this.scriptListDisplay.length>1?"bk-option-group":"div"},isScriptRefer(){return"refer"===this.sourceType},scriptListDisplay(){var t=this.formData[this.scriptSourceField];return t===d.default.scriptStep.TYPE_SOURCE_BUSINESS?this.scriptGroup:t===d.default.scriptStep.TYPE_SOURCE_PUBLIC?this.publicScriptGroup:[]},newBtnText(){return this.formData[this.scriptSourceField]===d.default.scriptStep.TYPE_SOURCE_BUSINESS?l.default.t("新建业务脚本"):l.default.t("新建公共脚本")},rules(){return this.isScriptRefer?[{required:!0,message:l.default.t("请选择引用脚本"),trigger:"blur"}]:[]}},watch:{formData:{handler(){this.initScriptSource()},immediate:!0},"formData.scriptId"(t){t&&this.$refs.scriptId.clearValidator()}},created(){this.scriptListMemo=[],this.publicScriptListMemo=[],this.initScriptContent(),this.fetchScriptList(),this.fetchPublicScriptList()},methods:{fetchScriptList(){var t=this;c.default.getOnlineScriptList().then((function(e){t.scriptGroup=[e],t.scriptListMemo=e,t.composeGroup()}))},fetchPublicScriptList(){var t=this;u.default.getOnlineScriptList().then((function(e){t.publicScriptGroup=[e],t.publicScriptListMemo=e,t.composeGroup()}))},fetchScriptVersionDetail:t=>c.default.versionDetail(t),initScriptSource(){this.formData[this.scriptSourceField]!==d.default.scriptStep.TYPE_SOURCE_LOCAL?(this.sourceType="refer",this.referType=this.formData[this.scriptSourceField]):this.sourceType="local"},initScriptContent(){var t=this;(this.formData[this.scriptIdField]||this.formData[this.scriptVersionIdField])&&(this.$emit("on-reset",{isScriptContentLoading:!0}),this.fetchScriptVersionDetail({id:this.formData[this.scriptVersionIdField]}).then((function(e){var a=e.content,i=e.publicScript?d.default.scriptStep.TYPE_SOURCE_PUBLIC:d.default.scriptStep.TYPE_SOURCE_BUSINESS;t.defaultScript=e,t.composeGroup(),t.$emit("on-reset",{[t.contentField]:a,[t.scriptSourceField]:i})})).finally((function(){t.$emit("on-reset",{isScriptContentLoading:!1})})))},composeGroup(){if(this.defaultScript.id){var t=this.defaultScript.publicScript,e=t?(0,o.default)(this.publicScriptListMemo):(0,o.default)(this.scriptListMemo);if(!(e.length<1)){if(!this.formData[this.scriptStatusField])return this.scriptGroup=Object.freeze([this.scriptListMemo]),void(this.publicScriptGroup=Object.freeze([this.publicScriptListMemo]));var a=[],i=p(p({},this.defaultScript),{},{name:"".concat(this.defaultScript.name,"（").concat(l.default.t("当前版本"),"）")});a.push(i);var r=(0,s.default)(e,(function(t){return t.id===i.id})),c=(0,n.default)(r,1)[0];c&&(c.name="".concat(c.name,"（").concat(l.default.t("新版本"),"）"),a.unshift(c)),t?(this.scriptGroup=Object.freeze([this.scriptListMemo]),this.publicScriptGroup=Object.freeze([a,e])):(this.scriptGroup=Object.freeze([a,e]),this.publicScriptGroup=Object.freeze([this.publicScriptListMemo]))}}},handleScriptSourceChange(t){var e="local"===t?d.default.scriptStep.TYPE_SOURCE_LOCAL:d.default.scriptStep.TYPE_SOURCE_BUSINESS;this.$emit("on-reset",{[this.scriptIdField]:"",[this.scriptVersionIdField]:"",[this.scriptSourceField]:e})},handleReferScriptTypeChange(t){this.$emit("on-reset",{[this.scriptSourceField]:t,[this.scriptIdField]:"",[this.scriptVersionIdField]:""})},handleScriptVersionIdChange(t){var e=this;t&&(this.$emit("on-reset",{isScriptContentLoading:!0}),this.fetchScriptVersionDetail({id:t}).then((function(a){var i=a.id,n=a.type,r=a.content;e.$emit("on-reset",{[e.scriptIdField]:i,[e.contentField]:r,[e.languageField]:n,[e.scriptVersionIdField]:t,[e.scriptStatusField]:0,isScriptContentLoading:!1})})).finally((function(){e.$emit("on-reset",{isScriptContentLoading:!1})})))},handleGoScriptDetail(){var t=this.formData[this.scriptSourceField]===d.default.scriptStep.TYPE_SOURCE_PUBLIC?"publicScriptVersion":"scriptVersion",e=this.$router.resolve({name:t,params:{id:this.formData[this.scriptIdField]},query:{scriptVersionId:this.formData[this.scriptVersionIdField]}});window.open(e.href)},handleGoCreate(){var t=this.formData[this.scriptSourceField]===d.default.scriptStep.TYPE_SOURCE_PUBLIC?"createPublicScript":"createScript",e=this.$router.resolve({name:t}).href;window.open(e)}}};e.Z=f},95747:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(34527)),r=i(a(13826)),s={name:"",components:{Task:n.default,Step:r.default},props:{type:{type:String,required:!0},data:{type:Object,default:function(){return{}}}},data:()=>({titleMaxWidth:100,offsetRight:"unset",initialStatusWidth:0}),computed:{themeCom(){var t={task:n.default,step:r.default};return Object.prototype.hasOwnProperty.call(t,this.type)?t[this.type]:"div"}},mounted(){var t=this,e=document.querySelector("#sitePageTitle").getBoundingClientRect().width,a=document.querySelector("#siteHeaderStatusBar");a.appendChild(this.$el);var i=a.getBoundingClientRect().width;this.initialStatusWidth||(this.initialStatusWidth=i);var n=e-i-40;this.titleMaxWidth=n<100?100:n,this.$once("hook:beforeDestroy",(function(){if(t.$el)try{a.removeChild(t.$el)}catch(t){}}))}};e.Z=s},85769:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(87033),a(35948),a(94522),a(7170);var n=i(a(67713)),r=i(a(39986)),s=i(a(52189)),o=i(a(97388)),l=i(a(63715)),c={name:"",components:{GlobalVariableLayout:s.default,GlobalVariable:o.default,Empty:l.default},props:{id:{type:[Number,String],default:0}},data:()=>({isLoading:!1,taskVariables:[]}),computed:{isShowVar(){return this.taskVariables.length>0}},watch:{id:{handler(t){t&&this.fetchTaskVariables(t)},immediate:!0}},methods:{fetchTaskVariables(t){var e=this;this.$request(n.default.fetchStepInstanceParam({id:t}),(function(){e.isLoading=!0})).then((function(t){e.taskVariables=Object.freeze(t.map((function(t){var e=t.id,a=t.name,i=t.type,n=t.value,s=t.targetValue;return{id:e,name:a,type:i,defaultValue:n,defaultTargetValue:new r.default(s||{})}})))})).finally((function(){e.isLoading=!1}))}}};e.Z=c},74540:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(87033),a(35948),a(94522),a(85604);var n=i(a(15399)),r=i(a(67713)),s={name:"",components:{Empty:i(a(63715)).default},props:{id:{type:[Number,String],default:0},from:{type:String,default:""}},data:()=>({isLoading:!0,data:[]}),created(){this.fetchTaskOperationLog()},methods:{fetchTaskOperationLog(t){var e=this;this.$request(r.default.fetchTaskOperationLog({id:this.id}),(function(){e.isLoading=!0})).then((function(t){e.data=t})).finally((function(){e.isLoading=!1}))},handleView(t){var e={name:"historyStep",params:{taskInstanceId:t.taskInstanceId},query:{stepInstanceId:t.stepInstanceId,retryCount:t.retry,from:this.from||this.$route.query.from}},a=this.$route.query,i=a.stepInstanceId,r=a.retryCount,s=void 0===r?0:r;parseInt(i,10)!==t.stepInstanceId||parseInt(s,10)!==t.retry?(this.$emit("on-change"),this.$router.push(e)):this.messageWarn(n.default.t("history.正在查看"))}}};e.Z=s},92997:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(15399)),r=i(a(27195)),s=i(a(89572)),o=i(a(87061)),l=i(a(95403)),c=i(a(23255)),u=i(a(68683)),d=i(a(7605)),h=i(a(97034)),p=i(a(55079)),f=i(a(75366)),v={confirm:{operationCode:6,title:n.default.t("history.确定继续执行？"),desc:n.default.t("history.将继续执行后面的步骤")},confirmForced:{operationCode:9,title:n.default.t("history.确定终止流程？"),desc:n.default.t("history.人工确认步骤终止后，需「重新发起确认」才可恢复")},confirmRetry:{operationCode:10,title:n.default.t("history.确定重新发起确认？"),desc:n.default.t("history.将会再次发送消息通知相关的确认人")},allRetry:{operationCode:8,title:n.default.t("history.确定全部重试？"),desc:n.default.t("history.该步骤的所有IP 都将重新执行")},failIpRetry:{operationCode:2,title:n.default.t("history.确定失败IP重试？"),desc:n.default.t("history.仅作用于本次执行失败的 IP")},skip:{operationCode:3,title:n.default.t("history.确定进入下一步？"),desc:n.default.t("history.跳过当前步骤进入下一步")},forced:{operationCode:"",title:n.default.t("history.确定终止执行任务？"),desc:n.default.t("history.终止动作仅对当前还未执行完成的IP有效")},forcedRetry:{operationCode:8,title:n.default.t("history.确定重试并继续？"),desc:n.default.t("history.该步骤的所有IP 都将重新执行")},forcedSkip:{operationCode:12,title:n.default.t("history.确定跳过并进入下一步？"),desc:n.default.t("history.将不再等待强制终止动作的结果，直接进入下一步")},next:{operationCode:11,title:n.default.t("history.确定进入下一步？"),desc:n.default.t("history.跳过当前步骤进入下一步")}},m={props:{name:{type:String,required:!0},displayStyle:{type:String,default:"task"},confirmHandler:{type:Function,default:function(){}}},computed:{actionCom(){return{confirm:r.default,confirmForced:s.default,confirmRetry:o.default,allRetry:l.default,failIpRetry:c.default,skip:u.default,forced:d.default,forcedRetry:h.default,forcedSkip:p.default,next:f.default}[this.name]},confirmInfo(){return v[this.name]}},methods:{handleConfirm(){return this.confirmHandler(this.confirmInfo.operationCode)},handleConfirmShow(){this.$emit("on-show")},handleConfirmCancel(){this.$emit("on-cancel")}}};e.Z=m},6696:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(41980),n={name:"",data(){return{showContent:!this.loading,offsetLeft:0,contentOffsetTop:0,footerHeight:46}},computed:{contentStyles(){var t=this.contentOffsetTop+20+this.footerHeight;return{height:"calc(100vh - ".concat(t,"px)")}}},mounted(){this.contentOffsetTop=(0,i.getOffset)(this.$refs.content).top}};e.Z=n},78896:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(45812)),r=i(a(93435)),s=i(a(15399)),o=i(a(44068)),l=i(a(12e3)),c=a(41980),u=a(46790),d=i(a(45673)),h=i(a(15621)),p=i(a(4027)),f=i(a(93962)),v=i(a(2317)),m=i(a(27223)),g={name:"",components:{AceEditor:d.default,DetailLayout:h.default,DetailItem:p.default,JbPopoverConfirm:f.default,Layout:v.default,RenderLog:m.default},inheritAttrs:!1,props:{scriptVersionList:{type:Array,default:function(){return[]}},scriptInfo:{type:Object,required:!0}},data:()=>({isLoading:!1,isExceLoading:!1,contentTab:"content",contentHeight:0}),computed:{contentCom(){return{content:d.default,log:m.default}[this.contentTab]},isCopyCreateDisabled(){return!!(0,r.default)(this.scriptVersionList,(function(t){return t.isDraft}))},contentStyles(){return{height:"".concat(this.contentHeight,"px")}}},watch:{scriptInfo(){this.contentTab="content"}},created(){var t=this;this.publicScript=(0,c.checkPublicScript)(this.$route),this.serviceHandler=this.publicScript?l.default:o.default,window.addEventListener("resize",this.init),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.init)}))},mounted(){this.calcContentHeight();var t=(0,n.default)(this.calcContentHeight,60);window.addEventListener("resize",t),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t)}))},methods:{calcContentHeight(){var t=(0,c.getOffset)(this.$refs.content).top;this.contentHeight=window.innerHeight-t-20},handleFullScreen(){"content"===this.contentTab&&this.$refs.aceEditor.handleFullScreen()},handleChangeDispaly(t){this.contentTab=t},handleOnline(){var t=this;return this.serviceHandler.scriptVersionOnline({id:this.scriptInfo.id,versionId:this.scriptInfo.scriptVersionId}).then((function(){t.messageSuccess(s.default.t("script.操作成功")),t.$emit("on-edit-change")}))},handleRemove(){var t=this;return this.serviceHandler.scriptVersionRemove({versionId:this.scriptInfo.scriptVersionId}).then((function(){if(t.messageSuccess(s.default.t("script.删除成功")),t.scriptVersionList.length<2){var e=t.publicScript?"publicScriptList":"scriptList";t.$router.push({name:e})}else setTimeout((function(){t.$emit("on-delete",!0)}))}))},handleOffline(){var t=this;return this.serviceHandler.scriptVersionOffline({id:this.scriptInfo.id,versionId:this.scriptInfo.scriptVersionId}).then((function(){t.messageSuccess(s.default.t("script.操作成功")),t.$emit("on-edit-change")}))},handleCopyAndCreate(){this.$emit("on-go-copy-create",{scriptVersionId:this.scriptInfo.scriptVersionId})},handleDebugScript(){u.debugScriptCache.setItem(this.scriptInfo.content);var t=this.$router.resolve({name:"fastExecuteScript",query:{model:"debugScript"}}).href;window.open(t)},handleGoSync(){var t=this.publicScript?"scriptPublicSync":"scriptSync";this.$router.push({name:t,params:{scriptId:this.scriptInfo.id,scriptVersionId:this.scriptInfo.scriptVersionId}})},handleEdit(t){this.$emit("on-go-edit",{scriptVersionId:this.scriptInfo.scriptVersionId})},handleGoExce(){this.$router.push({name:"fastExecuteScript",params:{taskInstanceId:0,scriptVersionId:this.scriptInfo.scriptVersionId},query:{from:"scriptVersion"}})}}};e.Z=g},63687:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(61026);var n=i(a(40021)),r=i(a(4839)),s={name:"RenderRelatedScript",props:{mode:{type:String,validator:t=>["scriptList","scriptVersionList"].includes(t),default:"scriptList"},info:{type:Object,required:!0}},data:()=>({listTab:"template"}),computed:{listCom(){return{template:n.default,plan:r.default}[this.listTab]},params(){var t={scriptId:this.info.id};return"scriptVersionList"===this.mode&&(t.scriptVersionId=this.info.scriptVersionId),t}},methods:{handleTabChange(t){this.listTab=t}}};e.Z=s},46642:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522),a(9042),a(56259),a(63762),a(95179),a(45974),a(78004),a(70969);var n=i(a(44068)),r=i(a(12e3)),s=i(a(15399)),o=a(41980),l={name:"",components:{JbSearchSelect:i(a(2645)).default},props:{params:{type:Object,required:!0}},data:()=>({isLoading:!1,wholeList:[],renderList:[]}),created(){this.publicScript=(0,o.checkPublicScript)(this.$route),this.serviceHandler=this.publicScript?r.default:n.default,this.fetchData(),this.searchSelect=[{name:s.default.t("script.名称"),id:"name",default:!0},{name:s.default.t("script.版本号.colHead"),id:"scriptVersion"}]},methods:{fetchData(){var t=this;this.isLoading=!0,this.serviceHandler.citeInfo(this.params).then((function(e){var a=e.citedTaskPlanList;t.wholeList=Object.freeze(a),t.renderList=t.wholeList})).finally((function(){t.isLoading=!1}))},handleSearch(t){var e=this.wholeList;Object.keys(t).forEach((function(a){var i=new RegExp((0,o.encodeRegexp)(t[a]),"i"),n=a;"name"===a&&(n="taskPlanName"),e=e.filter((function(t){return i.test(t[n])}))})),this.renderList=Object.freeze(e)},handleGoPlanDetail(t){var e=this.$router.resolve({name:"viewPlan",params:{templateId:t.taskTemplateId},query:{viewPlanId:t.taskPlanId}}).href;window.open(e.replace(/^\/[^/]+\/\d+/,"/".concat(t.scopeType,"/").concat(t.scopeId)))}}};e.Z=l},6252:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522),a(9042),a(56259),a(63762),a(95179),a(45974),a(78004),a(70969);var n=i(a(44068)),r=i(a(12e3)),s=i(a(15399)),o=a(41980),l={name:"",components:{JbSearchSelect:i(a(2645)).default},props:{params:{type:Object,required:!0}},data:()=>({isLoading:!1,wholeList:[],renderList:[]}),created(){this.publicScript=(0,o.checkPublicScript)(this.$route),this.serviceHandler=this.publicScript?r.default:n.default,this.fetchData(),this.searchSelect=[{name:s.default.t("script.名称"),id:"name",default:!0},{name:s.default.t("script.版本号.colHead"),id:"scriptVersion"}]},methods:{fetchData(){var t=this;this.$request(this.serviceHandler.citeInfo(this.params),(function(){t.isLoading=!0})).then((function(e){var a=e.citedTemplateList;t.wholeList=Object.freeze(a),t.renderList=t.wholeList})).finally((function(){t.isLoading=!1}))},handleSearch(t){var e=this.wholeList;Object.keys(t).forEach((function(a){var i=new RegExp((0,o.encodeRegexp)(t[a]),"i"),n=a;"name"===a&&(n="taskTemplateName"),e=e.filter((function(t){return i.test(t[n])}))})),this.renderList=Object.freeze(e)},handleGoTemplateDetail(t){var e=this.$router.resolve({name:"templateDetail",params:{id:t.taskTemplateId}}).href;window.open(e.replace(/^\/[^/]+\/\d+/,"/".concat(t.scopeType,"/").concat(t.scopeId)))}}};e.Z=l},83987:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(71959),a(87033);var n=i(a(45812)),r=i(a(84484)),s=i(a(15399)),o=a(41980),l=a(61681),c={name:"",props:{data:{type:Object,required:!0}},data:()=>({isSubmiting:!1,isEditing:!1,inputWidth:"auto",localValue:"",errorInfo:""}),watch:{data:{handler(){this.localValue=this.data.name||"",this.localValueMemo=this.localValue},immediate:!0}},mounted(){var t=this;document.body.addEventListener("click",this.hideCallback),this.$once("hook:beforeDestroy",(function(){document.body.removeEventListener("click",t.hideCallback)}))},methods:{hideCallback(){this.isEditing&&this.handleSubmit()},handleEdit(){var t=this;this.isSubmiting=!1,this.isEditing=!0,this.errorInfo="",this.inputWidth=this.$refs.text.getBoundingClientRect().width,setTimeout((function(){t.$refs.input.$el.querySelector(".bk-form-input").focus()}))},handleInput:(0,n.default)((function(t){var e=window.innerWidth,a=(0,o.calcTextWidth)(t,this.$refs.box)+60;a<=e-(0,o.getOffset)(this.$refs.box).left-230&&a>this.inputWidth&&(this.inputWidth=a)}),60),handleSubmit(){var t=this;this.errorInfo="",this.localValueMemo!==this.localValue?(this.localValue?l.planNameRule.validator(this.localValue)||(this.errorInfo=l.planNameRule.message):this.errorInfo=s.default.t("template.方案名称必填"),this.errorInfo||(this.isSubmiting=!0,r.default.planCheckName({templateId:this.data.templateId,planId:this.data.id,name:this.localValue}).then((function(e){if(!e)return t.isSubmiting=!1,void(t.errorInfo=s.default.t("template.方案名称已存在，请重新输入"));r.default.planUpdate({id:t.data.id,templateId:t.data.templateId,name:t.localValue,variables:t.data.variableList,enableSteps:t.data.stepList.reduce((function(t,e){return e.enable&&t.push(e.id),t}),[])}).then((function(){t.localValueMemo=t.localValue,t.isEditing=!1,t.$emit("on-edit-success"),t.messageSuccess(s.default.t("template.执行方案名称编辑成功"))}))})))):this.isEditing=!1}}};e.Z=c},32112:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(70969);var n=i(a(33610)),r=i(a(77094)),s=a(91341),o=a(41980),l=i(a(41641));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={name:"",components:{ContentLoader:s.ContentLoader,BackTop:l.default},props:{title:String,mode:String,planName:String,loading:{type:Boolean,default:!1},bottomOffset:{type:Number,default:0}},data(){return{showContent:!this.loading,layoutOffsetTop:0,contentOffsetTop:0,footerOffsetLeft:0,isFooterFixed:!1}},computed:{layoutStyles(){return{height:"calc(100vh - ".concat(this.layoutOffsetTop,"px - ").concat(this.bottomOffset,"px)")}},contentStyles(){return{"max-height":"calc(100vh - ".concat(this.contentOffsetTop,"px - 60px - ").concat(this.bottomOffset,"px)")}},footerStyles(){var t={"padding-left":"".concat(this.footerOffsetLeft,"px")};return this.isFooterFixed?u(u({},t),{},{"box-shadow":"0px -2px 4px 0px rgba(0, 0, 0, 0.06)"}):t}},watch:{loading(t){var e=this;if(t)return this.showContent=!1,void(this.time=Date.now());var a=Date.now()-this.time;setTimeout((function(){e.showContent=!0}),a>800?0:1e3-a)}},created(){this.time=Date.now()},mounted(){var t=this;window.addEventListener("resize",this.init),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.init)})),this.init()},updated:(0,r.default)((function(){this.init()}),500),methods:{init(){var t=this;if(this.$refs.layout&&this.$refs.content&&document.querySelector("#templateStepRender")){var e=(0,o.getOffset)(this.$refs.layout);this.layoutOffsetTop=e.top,this.contentOffsetTop=(0,o.getOffset)(this.$refs.content).top,setTimeout((function(){var e=t.$refs.content.scrollHeight,a=t.$refs.content.getBoundingClientRect().height;t.isFooterFixed=e>a;var i=t.$refs.layout.getBoundingClientRect().left,n=document.querySelector("#templateStepRender").getBoundingClientRect().left;t.footerOffsetLeft=n-i}))}},getBackTopTarget(){return this.$refs.content}}};e.Z=d},23655:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024);var i={name:"ToggleDisplay",props:{count:{type:Number,required:!0}},data:()=>({isOpen:!1}),methods:{handleToggle(){this.isOpen=!this.isOpen}}};e.Z=i},84924:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(45974),a(87033),a(61026),a(60259),a(35948),a(94522),a(7170),a(23232),a(80433),a(39677),a(77036);var n=i(a(15399)),r=i(a(22910)),s=i(a(84484)),o=a(41980),l=a(61681),c=i(a(32888)),u=i(a(40515)),d=i(a(14617)),h=i(a(36087)),p=function(){return{id:0,name:(0,o.genDefaultName)(n.default.t("template.执行方案.label")),enableSteps:[],templateId:0,variables:[]}},f={name:"",components:{JbForm:c.default,Layout:h.default,RenderGlobalVar:u.default,RenderTaskStep:d.default},props:{templateId:{type:[Number,String],required:!0},firstPlan:{type:Boolean,default:!0}},data:()=>({formData:p(),globalVariableList:[],taskStepList:[],isLoading:!0,submitLoading:!1}),computed:{selectedVariable(){var t=this,e=this.taskStepList.filter((function(e){return t.formData.enableSteps.includes(e.id)}));return(0,o.findUsedVariable)(e)},hasSelectAll(){return this.formData.enableSteps.length>=this.taskStepList.length},isSubmitDisable(){return this.formData.enableSteps.length<1}},created(){var t=this;this.rules={name:[{required:!0,message:n.default.t("template.方案名称必填"),trigger:"blur"},{validator:l.planNameRule.validator,message:l.planNameRule.message,trigger:"blur"},{validator:function(e){return s.default.planCheckName({templateId:t.formData.templateId,planId:t.formData.id,name:e})},message:n.default.t("template.方案名称已存在，请重新输入"),trigger:"blur"}],enableSteps:[{validator:function(){return t.formData.enableSteps.length>0},message:n.default.t("template.执行步骤必填"),trigger:"blur"}]},this.formData.templateId=this.templateId,this.generatorFormData=function(){return p()},this.fetchData()},methods:{fetchData(){var t=this;r.default.taskDetail({id:this.formData.templateId}).then((function(e){var a=e.variables,i=e.stepList,r=e.name;t.globalVariableList=Object.freeze(a),t.taskStepList=Object.freeze(i);var s=(0,o.genDefaultName)(n.default.t("template.执行方案.label"));t.firstPlan&&(s=r),t.generatorFormData=function(){return{id:0,name:s,templateId:t.formData.templateId,enableSteps:i.map((function(t){return t.id})),variables:[...a]}},t.$emit("on-name-change",s),t.formData=t.generatorFormData()})).finally((function(){t.isLoading=!1}))},refresh(){this.fetchData()},handleNameChange(t){this.formData.name=t,this.$emit("on-name-change",t)},handleSelectAll(){this.formData.enableSteps=this.taskStepList.map((function(t){return t.id}))},handleDeselectAll(){this.formData.enableSteps=[]},handleVariableChange(t){this.formData.variables=t},handleSelectStep(t){var e=this.formData.enableSteps.findIndex((function(e){return e===t.id}));e>-1?this.formData.enableSteps.splice(e,1):(this.formData.enableSteps.push(t.id),this.formData.enableSteps.length&&this.$refs.createPlanForm.clearError("enableSteps"))},handleSumbit(){var t=this;this.submitLoading=!0,Promise.all([this.$refs.titleForm.validate(),this.$refs.createPlanForm.validate()]).then((function(){return s.default.planUpdate(t.formData).then((function(e){window.changeAlert=!1,t.$bkMessage({theme:"success",message:n.default.t("template.操作成功")}),t.$emit("on-create",e)}))})).finally((function(){t.submitLoading=!1}))},handleReset(){this.formData=this.generatorFormData(),this.$refs.createPlanForm.clearError()}}};e.Z=f},10294:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(87033),a(35948),a(94522),a(45974),a(71959),a(9042);var n=i(a(15399)),r=i(a(84484)),s=i(a(67713)),o=a(41980),l=i(a(54606)),c=i(a(40515)),u=i(a(14617)),d=i(a(36087)),h=i(a(50859)),p=i(a(69539)),f={name:"",components:{PermissionSection:l.default,RenderGlobalVar:c.default,RenderTaskStep:u.default,ToggleDisplay:h.default,Layout:d.default,EditTitle:p.default},props:{id:{type:[Number,String],required:!0},templateId:{type:[Number,String],required:!0}},data:()=>({planInfo:{variableList:[],enableStepList:[]},usedVariableList:[],unusedVariableList:[],isLoading:!0,execLoading:!1,deleteLoading:!1}),watch:{id:{handler(t){this.fetchData(t)},immediate:!0}},methods:{fetchData(){var t=this;this.isLoading=!0,r.default.fetchPlanDetailInfo({id:this.id,templateId:this.templateId},{permission:"catch"}).then((function(e){t.planInfo=Object.freeze(e);var a=e.stepList.filter((function(t){return 1===t.enable})),i=(0,o.findUsedVariable)(a).reduce((function(t,e){return t[e]=!0,t}),{}),n=[],r=[];e.variableList.forEach((function(t){i[t.name]?n.push(t):r.push(t)})),t.usedVariableList=Object.freeze(n),t.unusedVariableList=Object.freeze(r)})).finally((function(){t.isLoading=!1}))},fetchTaskExecution(){var t=this;this.execLoading=!0,s.default.taskExecution({taskId:this.id,taskVariables:[]}).then((function(e){var a=e.taskInstanceId;t.$bkMessage({theme:"success",message:n.default.t("template.操作成功")}),t.$router.push({name:"historyTask",params:{id:a},query:{from:t.$route.name}})})).finally((function(){t.execLoading=!1}))},refresh(){this.fetchData()},handleEdit(){this.$emit("on-edit",{id:this.templateId,active:this.id})},handleEditSuccess(){this.$emit("on-edit-success")},handleGoCronList(){var t=this.$router.resolve({name:"cronList",query:{planId:this.id}}).href;window.open(t)},handleGoTemplate(){var t=this.$router.resolve({name:"templateDetail",params:{id:this.templateId}}).href;window.open(t)},handleGoCron(){var t=this.$router.resolve({name:"cronList",query:{mode:"create",templateId:this.templateId,planId:this.id}}).href;window.open(t)},handleDelete(){var t=this;return r.default.planDelete({id:this.id,templateId:this.templateId}).then((function(){return t.$bkMessage({theme:"success",message:n.default.t("template.操作成功")}),setTimeout((function(){t.$emit("on-delete")})),!0}))},handleSync(){this.$router.push({name:"syncPlan",params:{id:this.id,templateId:this.templateId},query:{from:this.$route.name}})},handleExec(){var t=this;this.planInfo.variableList.length?this.$router.push({name:"settingVariable",params:{id:this.id,templateId:this.templateId},query:{from:this.$route.name}}):this.$bkInfo({title:n.default.t("template.确认执行？"),subTitle:n.default.t("template.未设置全局变量，点击确认将直接执行。"),confirmFn:function(){t.fetchTaskExecution()}})}}};e.Z=f},22427:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(57024),a(45974),a(87033),a(61026),a(60259),a(35948),a(94522),a(7170),a(39677),a(77036),a(23232),a(80433);var n=i(a(15399)),r=i(a(84484)),s=a(41980),o=a(61681),l=i(a(40515)),c=i(a(14617)),u=i(a(36087)),d={name:"",components:{Layout:u.default,RenderGlobalVar:l.default,RenderTaskStep:c.default},props:{id:{type:[Number,String],required:!0},templateId:{type:[Number,String],required:!0}},data:()=>({name:"",formData:{id:0,name:"",enableSteps:[],templateId:0,variables:[]},globalVariableList:[],taskStepList:[],isLoading:!0,submitLoading:!1}),computed:{selectedVariable(){var t=this,e=this.taskStepList.filter((function(e){return t.formData.enableSteps.includes(e.id)}));return(0,s.findUsedVariable)(e)},hasSelectAll(){return this.formData.enableSteps.length>=this.taskStepList.length},isSubmitDisable(){return this.formData.enableSteps.length<1}},watch:{id:{handler(t){this.formData.id=t,this.fetchData()},immediate:!0}},created(){var t=this;this.rules={name:[{required:!0,message:n.default.t("template.方案名称必填"),trigger:"blur"},{validator:o.planNameRule.validator,message:o.planNameRule.message,trigger:"blur"},{validator:function(e){return r.default.planCheckName({templateId:t.templateId,planId:t.formData.id,name:e})},message:n.default.t("template.方案名称已存在，请重新输入"),trigger:"blur"}],enableSteps:[{validator:function(){return t.formData.enableSteps.length},message:n.default.t("template.执行步骤必填"),trigger:"blur"}]},this.formData.templateId=this.templateId},methods:{fetchData(){var t=this;this.isLoading=!0,r.default.fetchPlanEditInfo({id:this.formData.id,templateId:this.templateId}).then((function(e){var a=e.variableList,i=e.stepList,n=e.name;t.globalVariableList=a,t.taskStepList=i,t.name=n,t.formData.enableSteps=e.enableStepId,t.formData.variables=a,t.formData.name=n})).catch((function(e){[1,400].includes(e.code)&&setTimeout((function(){t.$router.push({name:"taskList"})}),3e3)})).finally((function(){t.isLoading=!1}))},refresh(){this.fetchData()},checkName(t){return r.default.planCheckName({templateId:this.templateId,planId:this.formData.id,name:t})},handleVariableChange(t){window.changeAlert=!0,this.formData.variables=t},handleSelectAll(){this.formData.enableSteps=this.taskStepList.map((function(t){return t.id}))},handleDeselectAll(){this.formData.enableSteps=[]},handleSelectStep(t){var e=this.formData.enableSteps.findIndex((function(e){return e===t.id}));e>-1?this.formData.enableSteps.splice(e,1):(this.formData.enableSteps.push(t.id),this.formData.enableSteps.length&&this.$refs.editPlanForm.clearError("enableSteps"))},handleSumbit(){var t=this;this.submitLoading=!0,Promise.all([this.$refs.titleForm.validate(),this.$refs.editPlanForm.validate()]).then((function(){return r.default.planUpdate(t.formData).then((function(){window.changeAlert=!1,t.$emit("on-edit-success"),t.$bkMessage({theme:"success",message:n.default.t("template.操作成功")}),t.handleCancle()}))})).finally((function(){t.submitLoading=!1}))},handleCancle(){var t=this;(0,s.leaveConfirm)().then((function(){t.$emit("on-edit-cancle")}))}}};e.Z=d},97026:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610)),r=i(a(42472));function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var o={name:"",props:{relateList:Array,latestValue:[String,Object]},data:()=>({isShowRelateList:!1}),computed:{globalVariableInfo(){return this.relateList[0].globalVariable},latestValueText(){var t=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},this.globalVariableInfo);return this.globalVariableInfo.isHost?t.defaultTargetValue=this.latestValue:t.defaultValue=this.latestValue,new r.default(t).valueText}},methods:{handleToggle(){this.isShowRelateList=!this.isShowRelateList}}};e.Z=o},92580:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(9042),a(90004);var n=a(88676),r={name:"EditPreview",components:{RenderRelatedInfo:i(a(85042)).default},props:{planList:{type:Array,required:!0},latestValueMap:{type:Object,required:!0}},data:()=>({globalVariableRelatePlanMap:{}}),created(){this.relatePlanMap={},this.traverPlanList()},methods:{traverPlanList(){var t=this,e={};this.planList.forEach((function(a){a.variableList.forEach((function(i){var r=(0,n.genGlobalVariableKey)(i),s={plan:a,globalVariable:i};Object.prototype.hasOwnProperty.call(t.latestValueMap,r)&&(e[r]?e[r].push(s):e[r]=[s],t.relatePlanMap[a.id]=a)}))})),this.globalVariableRelatePlanMap=Object.freeze(e),this.$nextTick((function(){t.$refs.relate[0].handleToggle()}))},getRelatePlanList(){return Object.values(this.relatePlanMap)}}};e.Z=r},14452:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(39986)),r={components:{ChooseIp:i(a(96481)).default},props:{data:{type:Object,required:!0},value:{type:Object,default:function(){return new n.default({})}}},data:()=>({isShowChooseIp:!1,hostNodeInfo:{}}),computed:{isValueEmpty(){return n.default.isHostNodeInfoEmpty(this.value.hostNodeInfo)},valueText(){return new n.default(this.value).text}},methods:{handleRemove(){this.$emit("on-remove")},handleChooseIp(){this.isShowChooseIp=!0,this.hostNodeInfo=this.value.hostNodeInfo},handleClear(){this.$emit("on-change",new n.default({}))},handleChange(t){this.$emit("on-change",{hostNodeInfo:t})}}};e.Z=r},67610:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(42472)),r=i(a(65208)),s=i(a(49200)),o=i(a(39955)),l={name:"",props:{data:{type:Object,required:!0}},data:()=>({}),computed:{com(){return{[n.default.TYPE_STRING]:r.default,[n.default.TYPE_NAMESPACE]:r.default,[n.default.TYPE_PASSWORD]:o.default,[n.default.TYPE_RELATE_ARRAY]:r.default,[n.default.TYPE_INDEX_ARRAY]:r.default,[n.default.TYPE_HOST]:s.default}[this.data.type]}}};e.Z=l},39033:function(t,e){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a={name:"",props:{data:{type:Object,required:!0},value:{type:String}},methods:{handleRemove(){this.$emit("on-remove")},handleChange(t){this.$emit("on-change",t)}}};e.Z=a},59429:function(t,e){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a={name:"",props:{data:{type:Object,required:!0},value:{type:String}},methods:{handleRemove(){this.$emit("on-remove")},handleChange(t){this.$emit("on-change",t)}}};e.Z=a},81303:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(90004),a(70969),a(87033),a(9042),a(92974);var n=i(a(15399)),r=i(a(39986)),s=i(a(53914)),o=a(88676),l={name:"",components:{RenderGlobalVariable:s.default},inheritAttrs:!1,props:{planList:{type:Array,required:!0}},data:()=>({relatedTemplateNums:0,globalVariableMap:{},selectVariableMap:{},selectVariableValueMap:{}}),computed:{isHasSelectedAll(){var t=Object.values(this.selectVariableMap).length;return!(t<1)&&t===Object.values(this.globalVariableMap).length},selectResultText(){return"".concat(n.default.t("template.已选")," ").concat(Object.values(this.selectVariableMap).length," / ").concat(Object.values(this.globalVariableMap).length)},isSelectNotEmpty(){return Object.values(this.selectVariableMap).length>0}},created(){this.traverPlanList()},methods:{traverPlanList(){var t={},e={};this.planList.forEach((function(a){t[a.templateId]=!0,a.variableList.forEach((function(t){e[(0,o.genGlobalVariableKey)(t)]=t}))})),this.relatedTemplateNums=Object.values(t).length,this.globalVariableMap=Object.freeze(e)},triggerChange(){window.changeAlert=!0,this.$emit("on-edit-change",Object.assign({},this.selectVariableValueMap))},getEditValue(){return Object.assign({},this.selectVariableValueMap)},handleVariableSelect(t){var e=Object.assign({},this.selectVariableMap),a=Object.assign({},this.selectVariableValueMap);e[t]?(delete e[t],delete a[t]):(e[t]=!0,this.globalVariableMap[t].isHost?a[t]=new r.default({}):a[t]=""),this.selectVariableMap=Object.freeze(e),this.selectVariableValueMap=Object.freeze(a),this.triggerChange()},handleSelectAll(){var t={},e={};for(var a in this.globalVariableMap)t[a]=!0,this.globalVariableMap[a].isHost?e[a]=new r.default({}):e[a]="";this.selectVariableMap=Object.freeze(t),this.selectVariableValueMap=Object.freeze(e),this.triggerChange()},handleCancleSelectAll(){this.selectVariableMap={},this.selectVariableValueMap={},this.triggerChange()},handleRemoveSelect(t){var e=Object.assign({},this.selectVariableMap);delete e[t],this.selectVariableMap=Object.freeze(e);var a=Object.assign({},this.selectVariableValueMap);delete a[t],this.selectVariableValueMap=Object.freeze(a),this.triggerChange()},handleValueChange(t,e){this.selectVariableValueMap=Object.freeze(Object.assign({},this.selectVariableValueMap,{[t]:e})),this.triggerChange()}}};e.Z=l},57186:function(t,e,a){"use strict";a(35927),a(45974),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522),a(7170),a(90004),a(9042);var n=i(a(33610)),r=i(a(56959)),s=i(a(15399)),o=i(a(84484)),l=a(41980),c=a(88676),u=i(a(53610)),d=i(a(67341));function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:"",components:{EditValue:u.default,EditPreview:d.default},model:{prop:"isShow",event:"input"},props:{isShow:{type:Boolean,default:!1},data:{type:Array,required:!0}},data:()=>({isLoading:!0,curStep:1,isGlobalVariableNotEmpty:!1,planList:[],isPreviewDisabled:!0,globalVariableValueMap:{}}),computed:{stepCom(){return{1:u.default,2:d.default}[this.curStep]},hasEmptyValueVariable(){for(var t in this.globalVariableValueMap){var e=this.globalVariableValueMap[t];if(!e)return!0;if((0,r.default)(e)&&e.isEmpty)return!0}return!1}},watch:{isShow:{handler(t){t&&this.fetchPlanDetailData()},immediate:!0}},created(){this.steps=[{title:s.default.t("template.编辑变量"),icon:1},{title:s.default.t("template.更新预览"),icon:2}]},methods:{fetchPlanDetailData(){var t=this;this.isLoading=!0,this.isGlobalVariableNotEmpty=!1,o.default.fetchBatchPlan({planIds:this.data.map((function(t){return t.id})).join(",")}).then((function(e){t.planList=Object.freeze(e);for(var a=0;a<t.planList.length;a++)if(t.planList[a].variableList.length>0){t.isGlobalVariableNotEmpty=!0;break}})).finally((function(){t.isLoading=!1}))},handleEditChange(t){this.isPreviewDisabled=Object.values(t).length<1},handlePreview(){this.globalVariableValueMap=Object.freeze(this.$refs.handler.getEditValue()),this.handleChangeStep(2)},handleChangeStep(t){this.curStep=t,this.$refs.root.$el.querySelector(".bk-sideslider-content").scrollTop=0},handleSubmit(){var t=this,e=this.$refs.handler.getRelatePlanList(),a=[];return e.forEach((function(e){var i=[],n={planId:e.id,templateId:e.templateId,variableInfoList:i};e.variableList.forEach((function(e){var a=(0,c.genGlobalVariableKey)(e);Object.prototype.hasOwnProperty.call(t.globalVariableValueMap,a)?e.isHost?i.push(p(p({},e),{},{defaultTargetValue:t.globalVariableValueMap[a]})):i.push(p(p({},e),{},{defaultValue:t.globalVariableValueMap[a]})):i.push(e)})),a.push(n)})),o.default.batchUpdateVariable(a).then((function(){window.changeAlert=!1,t.messageSuccess(s.default.t("template.编辑成功")),t.$emit("on-success"),setTimeout((function(){t.handleCancel()}))}))},handleCancel(){var t=this;(0,l.leaveConfirm)().then((function(){t.curStep=1,t.planList=[],t.globalVariableValueMap={},t.isPreviewDisabled=!0,t.$emit("change",!1),t.$emit("input",!1)}))}}};e.Z=f},742:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(41980),n={name:"",props:{flod:{type:Boolean,default:!1}},data:()=>({isShowRight:!1,isOpen:!1,layoutWidth:"auto"}),computed:{styles(){return this.flod?{width:"370px"}:{width:this.layoutWidth}}},watch:{flod:{handler(t){var e=this;t?setTimeout((function(){e.isShowRight=t}),110):this.isShowRight=!1},immediate:!0}},mounted(){var t=this;this.calcWidth(),window.addEventListener("resize",this.calcWidth),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.calcWidth)}))},methods:{calcWidth(){var t=this.$refs.layout.getBoundingClientRect().width;this.layoutWidth="".concat(t,"px")},handleToggle(){this.isOpen=!this.isOpen},handleClose(){var t=this;(0,i.leaveConfirm)().then((function(){t.isOpen=!1,t.$emit("on-flod"),t.$emit("update:flod",!1)}))}}};e.Z=n},3833:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(15399)),r=i(a(22910)),s=a(41980),o={name:"",props:{value:{type:Boolean,default:!1}},data:()=>({templateList:[],formData:{templateId:""}}),watch:{value:{handler(t){t&&this.fetchData()},immediate:!0}},created(){this.rules={templateId:[{required:!0,message:n.default.t("template.请选择作业模板"),trigger:"blur"}]}},methods:{fetchData(t){var e=this;r.default.taskList({name:t,start:0,pageSize:10}).then((function(t){e.templateList=Object.freeze(t.data)}))},handleCreate(){var t=this.$router.resolve({name:"templateCreate"});window.open(t.href)},handleSubmit(){var t=this;this.$refs.form.validate().then((function(){window.changeAlert=!1,t.handleCancel(),t.$emit("on-change",t.formData.templateId)}))},handleCancel(){var t=this;(0,s.leaveConfirm)().then((function(){t.$emit("input",!1)}))}}};e.Z=o},16832:function(t,e,a){"use strict";a(35927),a(45974),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610));a(71959),a(87033),a(9042),a(63762),a(77036),a(57024),a(7170),a(23232),a(80433),a(46904),a(2156),a(95179);var r=i(a(15399)),s=i(a(49135)),o=i(a(46117)),l=i(a(84484)),c=i(a(67713)),u=i(a(80712)),d=i(a(27452)),h=i(a(2645)),p=i(a(47009)),f=a(46790),v=a(41980),m=i(a(93220)),g=i(a(11677)),y=i(a(49941)),_=i(a(15676)),b=i(a(31695)),x=i(a(57099));function w(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function S(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?w(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var C="task_plan_list_columns",I={name:"",components:{ListActionLayout:u.default,RenderList:d.default,JbSearchSelect:h.default,ListOperationExtend:p.default,Layout:_.default,PlanDetail:m.default,PlanEdit:g.default,TemplateSelect:b.default,BatchEditGlobalVariable:x.default},data:()=>({searchValue:[],listSelect:[],isShowTemplateSelect:!1,isShowBatchGlobalVariable:!1,planComType:"",newPlanName:"",isFirstTemplatePlan:!1,selectPlanInfo:{templateId:-1,id:-1},currentUser:{},selectedTableColumn:[],tableSize:"small",paginationSmall:!1}),computed:{isLoading(){return this.$refs.list.isLoading},allRenderColumnMap(){return this.isListFlod?{name:!0}:this.selectedTableColumn.reduce((function(t,e){return t[e.id]=!0,t}),{})},planCom(){var t={detail:m.default,edit:g.default,create:y.default};return t[this.planComType]?t[this.planComType]:"div"},isCreatePlan(){return"create"===this.planComType},isListFlod(){return Boolean(this.planComType)},batchSyncDisableTips(){if(this.listSelect.length<1)return r.default.t("template.请选择要同步的执行方案");var t=!0,e=!0;return this.listSelect.forEach((function(a){a.needUpdate||(t=!1),a.canEdit||(e=!1)})),t?e?"":r.default.t("template.已选结果中有执行方案中没有权限同步"):r.default.t("template.已选结果中有执行方案中不需要同步")},batchEditGlobalVariableTips(){if(this.listSelect.length<1)return r.default.t("template.请选择要编辑的执行方案");for(var t=!0,e=0;e<this.listSelect.length;e++){if(!this.listSelect[e].canEdit){t=!1;break}}return t?"":r.default.t("template.已选结果中有执行方案中没有权限编辑")}},created(){this.parseUrl(),this.fetchUserInfo(),this.listDataSource=l.default.fetchAllPlan,this.searchData=[{name:"ID",id:"planId",description:r.default.t("template.将覆盖其它条件"),validate:(t,e)=>!!(t||[]).every((function(t){return/^(\d*)$/.test(t.name)}))||r.default.t("template.ID只支持数字")},{name:r.default.t("template.执行方案.colHead"),id:"planName",default:!0},{name:r.default.t("template.更新人.colHead"),id:"lastModifyUser",remoteMethod:o.default.fetchUsersOfSearch,inputInclude:!0},{name:r.default.t("template.创建人"),id:"creator",remoteMethod:o.default.fetchUsersOfSearch,inputInclude:!0}],this.isViewTemplatePlanList||this.searchData.splice(2,0,{name:r.default.t("template.作业模板名称"),id:"templateName"}),this.tableColumn=[{id:"id",label:"ID"},{id:"name",label:r.default.t("template.执行方案.colHead"),disabled:!0},{id:"templateName",label:r.default.t("template.所属作业模板")},{id:"lastModifyUser",label:r.default.t("template.更新人.colHead")},{id:"lastModifyTime",label:r.default.t("template.更新时间")},{id:"creator",label:r.default.t("template.创建人")},{id:"createTime",label:r.default.t("template.创建时间")}];var t=f.listColumnsCache.getItem(C);t?(this.selectedTableColumn=Object.freeze(t.columns),this.tableSize=t.size):this.selectedTableColumn=Object.freeze([{id:"id"},{id:"name"},{id:"lastModifyUser"},{id:"lastModifyTime"}])},methods:{fetchData(){var t=S({},this.searchParams);this.templateId&&(t.templateId=this.templateId),this.$refs.list.$emit("onFetch",t)},fetchUserInfo(){var t=this;s.default.fetchUserInfo().then((function(e){t.currentUser=Object.freeze(e)}))},parseUrl(){var t=this;if(this.isViewTemplatePlanList="viewPlan"===this.$route.name,this.templateId="",this.isViewTemplatePlanList){var e=this.$route.params.templateId;e=Number(e),this.templateId=e;var a=this.$route.query,i=a.viewPlanId;if("create"===a.mode)return void setTimeout((function(){t.handleCreatePlan()}));var n=Number(i)||0;n>0&&setTimeout((function(){t.handlePlanSelect({templateId:e,id:n})}))}else{var r=this.$route.query,s=r.viewTemplateId,o=r.viewPlanId,l=Number(s)||0,c=Number(o)||0;l&&c&&setTimeout((function(){t.handlePlanSelect({templateId:l,id:c})}))}},caclRowClassName(t){return t.row.id===this.selectPlanInfo.id?"active":""},handleSettingChange(t){var e=t.fields,a=t.size;this.selectedTableColumn=Object.freeze(e),this.tableSize=a,f.listColumnsCache.setItem(C,{columns:e,size:a})},handleCreatePlan(){this.isViewTemplatePlanList?this.handleTemplateChange(this.templateId):this.isShowTemplateSelect=!0},handleTemplateChange(t){this.selectPlanInfo={templateId:t,id:-1},this.planComType="create",this.paginationSmall=!0,this.isFirstTemplatePlan=this.$refs.list.data.length<1},handleCreatePlanNameChange(t){this.newPlanName=t},handleSyncBatch(){this.$router.push({name:"syncPlanBatch",query:{planIds:this.listSelect.map((function(t){return t.id})).join(","),from:this.$route.name}})},handleBatchEditGlobalVariable(){this.isShowBatchGlobalVariable=!0},handleSearch(t){this.searchParams=t,this.fetchData()},handleMyPlan(){var t=this.currentUser.username,e={name:r.default.t("template.创建人"),id:"creator",values:[{id:t,name:t}]};this.searchParams=S(S({},this.searchParams),{},{creator:t}),this.searchValue=[e],this.fetchData()},handleSelection(t){this.listSelect=Object.freeze(t)},handleLayoutFlod(){this.planComType="",this.selectPlanInfo={templateId:-1,id:-1},this.paginationSmall=!1;var t=new URLSearchParams(window.location.search);t.delete("viewTemplateId"),t.delete("viewPlanId"),window.history.replaceState({},"","?".concat(t.toString()))},handlePlanSelect(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"detail",i=t.id;i!==this.selectPlanInfo.id&&(0,v.leaveConfirm)().then((function(){e.planComType=a,e.selectPlanInfo={templateId:t.templateId,id:i},e.paginationSmall=!0,setTimeout((function(){var e=new URLSearchParams(window.location.search);e.set("viewTemplateId",t.templateId),e.set("viewPlanId",t.id),window.history.replaceState({},"","?".concat(e.toString()))}))}))},handleCollection(t){var e=this;(t.favored?l.default.deleteFavorite:l.default.updateFavorite)({id:t.id,templateId:t.templateId}).then((function(){t.toggleFavored(),e.messageSuccess(t.favored?r.default.t("template.收藏成功"):r.default.t("template.取消收藏成功"))}))},handleGoCronJobList(t){var e=this.$router.resolve({name:"cronList",query:{planId:t.id}}).href;window.open(e)},handleExecute(t){var e=this;[1,2].length<1?this.$bkInfo({title:r.default.t("template.确认执行？"),subTitle:r.default.t("template.未设置全局变量，点击确认将直接执行。"),confirmFn:function(){c.default.taskExecution({taskId:t.id,taskVariables:[]}).then((function(t){var a=t.taskInstanceId;e.$bkMessage({theme:"success",message:r.default.t("template.操作成功")}),e.$router.push({name:"historyTask",params:{id:a},query:{from:e.$route.name}})}))}}):this.$router.push({name:"settingVariable",params:{id:t.id,templateId:t.templateId},query:{from:this.$route.name}})},handleEdit(t){this.handlePlanSelect(t,"edit")},handleUpdate(t){this.$router.push({name:"syncPlan",params:{id:t.id,templateId:t.templateId},query:{from:this.$route.name}})},handleGoCreateCronJob(t){var e=this.$router.resolve({name:"cronList",query:{mode:"create",templateId:t.templateId,planId:t.id}}).href;window.open(e)},handleDelete(t){var e=this;return l.default.planDelete({id:t.id,templateId:t.templateId}).then((function(t){e.$bkMessage({theme:"success",message:r.default.t("template.操作成功")}),e.fetchData()}))},handleCreateSubmit(t){this.fetchData(),this.handlePlanSelect({templateId:this.selectPlanInfo.templateId,id:t})},handleShowPlanEdit(){this.planComType="edit"},handlePlanDelete(){this.handleLayoutFlod(),this.fetchData()},handleEditCancle(){this.planComType="detail"},handleEditSuccess(){this.fetchData()},handleBatchEditGlobalVariableSuccess(){this.$refs.list.resetSelect(),this.$refs.planHandler&&this.$refs.planHandler.refresh()}}};e.Z=I},95930:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(71959),a(87033),a(9042),a(23232),a(35948),a(80433),a(92974);var n=i(a(52189)),r=i(a(81920)),s={name:"",components:{ToggleDisplay:i(a(75552)).default,GlobalVariableLayout:n.default,GlobalVariable:r.default},props:{variableList:Array,selectedList:{type:Array,default:function(){return[]}}},created(){var t=this,e=this.selectedList.reduce((function(t,e){return t[e]=!0,t}),{});this.usedList=[],this.unusedList=[],this.variableList.forEach((function(a){e[a.name]?t.usedList.push(a):t.unusedList.push(a)}))},methods:{submit(){var t=this,e=[];return this.$refs.used&&this.$refs.used.forEach((function(t){e.push(t.validate())})),this.$refs.unused&&this.$refs.unused.forEach((function(t){e.push(t.validate())})),Promise.all(e).then((function(e){var a=e.reduce((function(t,e){var a=e.value,i=e.targetValue;return t[e.id]={defaultValue:a,defaultTargetValue:i},t}),{}),i=t.variableList.reduce((function(t,e){return a[e.id]&&t.push(Object.assign({},e,a[e.id])),t}),[]);t.$emit("on-change",i)}))}}};e.Z=s},82493:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(61026),a(60259),a(87033),a(35948);var n=i(a(38502)),r=i(a(15399)),s=a(61681),o=i(a(42472)),l=i(a(96481)),c=i(a(32660)),u=a(70034),d={name:"",components:{ChooseIp:l.default,JbEditHost:c.default},props:{variableNameList:{type:Array},data:{type:Object,require:!0}},data(){return{formData:(0,n.default)(this.data),isShowChooseIp:!1,isShowNameError:!1,errorNameText:""}},computed:{withChangable(){return[o.default.TYPE_STRING,o.default.TYPE_RELATE_ARRAY,o.default.TYPE_INDEX_ARRAY].includes(this.formData.type)},isHostVarialbe(){return[o.default.TYPE_HOST].includes(this.formData.type)},isNameError(){return this.isShowNameError&&this.errorNameText}},created(){this.typeList=[{id:o.default.TYPE_STRING,name:r.default.t("template.字符串")},{id:o.default.TYPE_NAMESPACE,name:r.default.t("template.命名空间")},{id:o.default.TYPE_HOST,name:r.default.t("template.主机列表")},{id:o.default.TYPE_PASSWORD,name:r.default.t("template.密文")},{id:o.default.TYPE_RELATE_ARRAY,name:r.default.t("template.关联数组")},{id:o.default.TYPE_INDEX_ARRAY,name:r.default.t("template.索引数组")}]},methods:{validate(){return this.isShowNameError=!0,this.errorNameText="",this.formData.name||(this.errorNameText=r.default.t("template.变量名称必填")),s.globalVariableNameRule.validator(this.formData.name)||(this.errorNameText=s.globalVariableNameRule.message),this.variableNameList.includes(this.formData.name)&&(this.errorNameText=r.default.t("template.变量名称已存在，请重新输入")),this.errorNameText?Promise.reject(new Error(this.errorNameText)):Promise.resolve()},triggerChange(){this.$emit("on-change",this.formData)},handleShowNameError(){this.validate()},handleShowChooseIp(){this.isShowChooseIp=!0},handleHostChange(t){this.formData.defaultTargetValue.hostNodeInfo=t,this.triggerChange()},handleChange(t,e){"type"===t&&(this.formData=(0,u.createVariable)(this.formData.id)),this.formData[t]=e,this.isShowNameError=!1,this.triggerChange()},handleCreate(){this.$emit("on-append")},handleDelete(){this.$emit("on-delete")}}};e.Z=d},77809:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(71959),a(87033),a(23232),a(80433),a(77036),a(7170),a(35948);var n=i(a(38502)),r=i(a(42472)),s=i(a(71822)),o=i(a(25522)),l=a(70034),c={name:"",components:{RenderTableRow:s.default,CreateTableRow:o.default},props:{variable:{type:Array,default:function(){return[]}}},data(){return{variableList:(0,n.default)(this.variable)}},computed:{isEmpty(){for(var t=0;t<this.variableList.length;t++)if(!this.variableList[t].delete)return!1;return!0}},methods:{calcExcludeNameList(t){return this.variableList.reduce((function(e,a){return t.id!==a.id&&a.name&&1!==a.delete&&e.push(a.name),e}),[])},handleChange(t,e){var a=[...this.variableList],i=new r.default(e);a.splice(t,1,i),this.variableList=a,window.changeAlert=!0},handleDelete(t){var e=[...this.variableList],a=e[t];a.id>0?a.delete=1:e.splice(t,1),this.variableList=e,window.changeAlert=!0},handleAppendVariable(t){this.variableList.splice(t+1,0,(0,l.createVariable)()),window.changeAlert=!0},submit(){var t=this,e=[];return this.$refs.variableEdit&&e.push(...this.$refs.variableEdit.map((function(t){return t.validate()}))),this.$refs.variableCreate&&e.push(...this.$refs.variableCreate.map((function(t){return t.validate()}))),Promise.all(e).then((function(){return t.$emit("on-change",t.variableList)}))}}};e.Z=c},37882:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(61026),a(60259),a(87033),a(35948),a(92974);var n=i(a(42472)),r=i(a(15399)),s=a(61681),o=i(a(36894)),l=i(a(28877)),c=i(a(32660)),u={name:"",components:{JbEditInput:o.default,JbEditTextarea:l.default,JbEditHost:c.default},props:{data:{type:Object,required:!0},variableNameList:{type:Array}},computed:{withChangable(){return[n.default.TYPE_STRING,n.default.TYPE_RELATE_ARRAY,n.default.TYPE_INDEX_ARRAY].includes(this.data.type)}},created(){var t=this;this.rules={name:[{required:!0,message:r.default.t("template.变量名称必填"),trigger:"blur"},{validator:s.globalVariableNameRule.validator,message:s.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variableNameList.includes(e)},message:r.default.t("template.变量名称已存在，请重新输入"),trigger:"blur"}]}},methods:{validate(){return this.errorNameText="",this.data.name?s.globalVariableNameRule.validator(this.data.name)?this.variableNameList.includes(this.data.name)&&(this.errorNameText=r.default.t("template.变量名称已存在，请重新输入")):this.errorNameText=s.globalVariableNameRule.message:this.errorNameText=r.default.t("template.变量名称必填"),this.errorNameText?Promise.reject(new Error(this.errorNameText)):Promise.resolve()},handleChange(t){this.$emit("on-change",Object.assign({},this.data,t))},handleDelete(){this.$emit("on-delete")},handleAppend(){this.$emit("on-append")}}};e.Z=u},99505:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(15399)),r=i(a(42472)),s=i(a(29637)),o=i(a(28877)),l=function(){return{label:n.default.t("template.变量类型"),filed:"typeText"}},c=function(){return{label:n.default.t("template.变量名称"),filed:"name"}},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.default.t("template.初始值");return{label:t,filed:"valueText"}},d=function(){return{label:n.default.t("template.变量描述"),filed:"description"}},h=function(){return{label:n.default.t("template.赋值可变"),filed:"changeableText"}},p=function(){return{label:n.default.t("template.必填"),filed:"requiredText"}},f={name:"GlobalVarView",components:{ServerPanel:s.default,JbEditTextarea:o.default},props:{data:{type:Object,default:()=>({})},defaultField:{type:String,default:n.default.t("template.初始值")}},computed:{describeMap(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.default.t("template.初始值");return{[r.default.TYPE_STRING]:[l(),c(),u(t),d(),h(),p()],[r.default.TYPE_NAMESPACE]:[l(),c(),u(t),d(),p()],[r.default.TYPE_HOST]:[l(),c(),u(t),d(),p()],[r.default.TYPE_PASSWORD]:[l(),c(),u(t),d(),p()],[r.default.TYPE_RELATE_ARRAY]:[l(),c(),u(t),d(),p()],[r.default.TYPE_INDEX_ARRAY]:[l(),c(),u(t),d(),p()]}}(this.defaultField)[this.data.type]}}};e.Z=f},2328:function(t,e,a){"use strict";a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610));function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}a(35927),a(6919),a(87033),a(35948);var o={name:"VarString",props:{data:{type:Object,default:()=>({})}},data:()=>({arrayType:5,formData:{id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}),watch:{data:{handler(t){if(Object.keys(t).length){var e=t.name,a=t.defaultValue,i=t.description,n=t.changeable,r=t.required,s=t.id,o=t.type;this.formData={name:e,defaultValue:a,description:i,changeable:n,required:r,id:s,delete:t.delete},this.arrayType=o}},immediate:!0}},methods:{submit(){return Promise.resolve(s(s({},this.formData),{},{type:this.arrayType}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}}};e.Z=o},82096:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610));a(87033),a(35948);var r=i(a(42472)),s=i(a(39986)),o=i(a(96481)),l=i(a(29637));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d=function(){return{id:0,delete:0,name:"",defaultTargetValue:{hostNodeInfo:{},variable:""},description:"",required:0}},h={name:"VarHost",components:{ChooseIp:o.default,ServerPanel:l.default},props:{data:{type:Object,default:function(){return{}}}},data:()=>({formData:{},isShowChooseIp:!1}),computed:{isShowClear(){return!s.default.isHostNodeInfoEmpty(this.formData.defaultTargetValue.hostNodeInfo)}},watch:{data:{handler(t){this.formData=new r.default(t)},immediate:!0}},methods:{handleHostChange(t){this.formData.defaultTargetValue.hostNodeInfo=Object.freeze(t)},handleShowChooseIp(){this.isShowChooseIp=!0},handleClear(){var t=new s.default({}).hostNodeInfo;this.formData.defaultTargetValue.hostNodeInfo=t},submit(){return Promise.resolve(u(u({},this.formData),{},{type:r.default.TYPE_HOST}))},reset(){this.formData=new r.default(d)}}};e.Z=h},62244:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(15399)),r=i(a(92480)),s=i(a(16305)),o=i(a(88152)),l=i(a(32358)),c=i(a(92011)),u={name:"GlobalVar",components:{VarString:r.default,VarNamespace:s.default,VarHost:o.default,VarPassword:l.default,VarArray:c.default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:()=>({})}},data:()=>({globalType:"string"}),computed:{globalVarCom(){var t={string:r.default,namespace:s.default,host:o.default,password:l.default,array:c.default};return Object.prototype.hasOwnProperty.call(t,this.globalType)?t[this.globalType]:"div"},isTypeDisabled(){return!!Object.keys(this.data).length}},watch:{data:{handler(t){Object.keys(t).length&&(this.globalType=t.typeDescription)},immediate:!0}},created(){this.nametips={theme:"dark",content:n.default.t("template.在步骤参数或脚本内使用 ${变量名} 即可获取到变量值"),width:200}},methods:{submit(){var t=this;return this.$refs.handler.submit().then((function(e){t.$emit("on-change",e)}))},reset(){return this.globalType=1,this.$refs.handler.reset()}}};e.Z=u},86015:function(t,e,a){"use strict";a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610));function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}a(35927),a(6919),a(87033),a(35948);var o={name:"VarNamespace",props:{data:{type:Object,default:()=>({})}},data:()=>({formData:{id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}),watch:{data:{handler(t){if(Object.keys(t).length){var e=t.name,a=t.defaultValue,i=t.description,n=t.required,r=t.id,s=t.delete;this.formData={name:e,defaultValue:a,description:i,required:n,id:r},this.formData.delete=s}},immediate:!0}},methods:{submit(){return Promise.resolve(s(s({},this.formData),{},{type:2}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}}};e.Z=o},25350:function(t,e,a){"use strict";a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610));function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}a(35927),a(6919),a(87033),a(35948);var o={name:"VarPassword",props:{data:{type:Object,default:()=>({})}},data:()=>({formData:{id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}),watch:{data:{handler(t){if(Object.keys(t).length){var e=t.name,a=t.defaultValue,i=t.description,n=t.required,r=t.id,s=t.delete;this.formData={name:e,defaultValue:a,description:i,required:n,id:r},this.formData.delete=s}},immediate:!0}},methods:{submit(){return Promise.resolve(s(s({},this.formData),{},{type:4}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}}};e.Z=o},89215:function(t,e,a){"use strict";a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610));function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}a(35927),a(6919),a(87033),a(35948);var o={name:"VarString",props:{data:{type:Object,default:()=>({})}},data:()=>({formData:{id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}),watch:{data:{handler(t){if(Object.keys(t).length){var e=t.name,a=t.defaultValue,i=t.description,n=t.changeable,r=t.required,s=t.id;this.formData={name:e,defaultValue:a,description:i,changeable:n,required:r,id:s,delete:t.delete}}},immediate:!0}},methods:{submit(){return Promise.resolve(s(s({},this.formData),{},{type:1}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}}};e.Z=o},60815:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(45974),a(87033),a(77036),a(7170);var n=i(a(38502)),r=i(a(15399)),s=i(a(42472)),o=i(a(68665)),l=i(a(31049)),c=i(a(85751)),u=i(a(182)),d=i(a(93181)),h=i(a(92981)),p=i(a(23205)),f={name:"RenderGlobalVar",components:{VariableUseGuide:o.default,Operation:l.default,BatchOperation:c.default,Detail:u.default,EditOfPlan:d.default,BatchEditOfPlan:h.default,PopoverDetail:p.default},props:{list:{type:Array,required:!0},mode:{type:String,default:""},selectValue:{type:Array,default:function(){return[]}},defaultField:{type:String,default:r.default.t("template.初始值")},diff:{type:Object,default:function(){return{}}}},data:()=>({isShowDetail:!1,isShowUseGuide:!1,isShowOperation:!1,isShowBatchOperation:!1,isShowEditOfPlan:!1,isShowBatchEditOfPlan:!1,variable:[],currentPopoverDetail:{},currentData:{},currentIndex:-1,currentOperation:"create",detailMedia:[]}),computed:{showEmpty(){return!this.isOperation&&this.variable.length<1},isOperation(){return"operate"===this.mode},isSelect(){return"select"===this.mode||"editOfPlan"===this.mode},isEditOfPlan(){return"editOfPlan"===this.mode},isView(){return!this.mode},isDiff(){return"diff"===this.mode},realVariable(){var t=this,e=this.variable.filter((function(t){return!t.delete}));return"edit"===this.currentOperation?e.filter((function(e){return e.name!==t.currentData.name})):e},operationSideSliderInfo(){return Object.keys(this.currentData).length<1?{title:r.default.t("template.新建全局变量"),okText:r.default.t("template.提交")}:{title:r.default.t("template.编辑全局变量"),okText:r.default.t("template.保存")}}},watch:{list:{handler(t){this.variable=(0,n.default)(t)},immediate:!0}},created(){this.batchOperationMediaQuery=[1080,1280,1520,1800]},methods:{triggerChange(){this.$emit("on-change",this.variable)},handleShowPopoverDetail(t){this.currentPopoverDetail=t},handleHidePopoverDetail(){this.currentPopoverDetail={}},handleShowBatchOperation(){this.isShowBatchOperation=!0},handleShowBatchEditOfPlan(){this.isShowBatchEditOfPlan=!0},handlerOperation(t,e){if(this.currentData=t,this.isView)return this.detailMedia=t.type===s.default.TYPE_HOST?[960]:[600,660,720,780],void(this.isShowDetail=!0);this.currentOperation="edit",this.currentIndex=e,this.isEditOfPlan?this.isShowEditOfPlan=!0:this.isShowOperation=!0},handleDelete(t){var e=this;this.$bkInfo({title:r.default.t("template.确定删除该全局变量？"),subTitle:r.default.t("template.若该变量被步骤引用，请及时检查并更新步骤设置"),confirmFn:function(){var a=e.variable[t];a.id>0?a.delete=1:e.variable.splice(t,1),e.triggerChange()}})},handleCreate(){this.currentOperation="create",this.currentData={},this.isShowOperation=!0,this.$refs.globalVar&&this.$refs.globalVar.reset()},handlePlanEditSubmit(t){var e=new s.default(t);this.variable.splice(this.currentIndex,1,e),this.triggerChange()},handleBatchPlanEditSubmit(t){var e=t.map((function(t){return new s.default(t)}));this.variable=e,this.triggerChange()},handleOperationSubmit(t){var e=new s.default(t);"create"===this.currentOperation?this.variable.push(e):this.variable.splice(this.currentIndex,1,e),this.triggerChange(),this.currentOperation=""},handleBatchOperationSubmit(t){this.variable=t,this.triggerChange()},handleUseGuideToggle(){this.isShowUseGuide=!this.isShowUseGuide},handleUseGuideClose(){this.isShowUseGuide=!1}}};e.Z=f},73162:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948);var n=i(a(33610)),r=i(a(15399)),s=a(61681);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={name:"VarArray",components:{JbInput:i(a(86234)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:()=>({})}},data(){return{arrayType:5,formData:l({},this.data)}},computed:{isEdit(){return!!this.data.name}},watch:{data:{handler(t){t.name&&(this.arrayType=t.type)},immediate:!0}},created(){var t=this;this.rules={name:[{required:!0,message:r.default.t("template.变量名称必填"),trigger:"blur"},{validator:s.globalVariableNameRule.validator,message:s.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variable.some((function(t){return t.name===e}))},message:r.default.t("template.变量名称已存在，请重新输入"),trigger:"blur"}]}},methods:{handleArrayTypeChange(t){this.arrayType=t},submit(){var t=this;return this.$refs.varArrayForm.validate().then((function(){t.$emit("on-change",l(l({},t.formData),{},{type:t.arrayType}))}),(function(t){return Promise.reject(t.content)}))}}};e.Z=c},58822:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948);var n=i(a(33610)),r=i(a(15399)),s=i(a(42472)),o=i(a(39986)),l=a(61681),c=i(a(86234)),u=i(a(96481)),d=i(a(29637));function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:"VarHost",components:{JbInput:c.default,ChooseIp:u.default,ServerPanel:d.default},props:{variable:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){return{}}}},data(){return{formData:p({},this.data),isShowChooseIp:!1}},computed:{isShowClear(){return!o.default.isHostNodeInfoEmpty(this.formData.defaultTargetValue.hostNodeInfo)}},created(){var t=this;this.rules={name:[{required:!0,message:r.default.t("template.变量名称必填"),trigger:"blur"},{validator:l.globalVariableNameRule.validator,message:l.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variable.some((function(t){return t.name===e}))},message:r.default.t("template.变量名称已存在，请重新输入"),trigger:"blur"}]}},methods:{handleHostChange(t){this.formData.defaultTargetValue.hostNodeInfo=t},handleOpenChooseIp(){this.isShowChooseIp=!0},handleClearDefault(){var t=new o.default({}).hostNodeInfo;this.formData.defaultTargetValue.hostNodeInfo=t},submit(){var t=this;return this.$refs.varHostForm.validate().then((function(){t.$emit("on-change",p(p({},t.formData),{},{type:s.default.TYPE_HOST}))}),(function(t){return Promise.reject(t.content)}))}}};e.Z=f},43839:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(15399)),r=i(a(93046)),s=i(a(36805)),o=i(a(14426)),l=i(a(33435)),c=i(a(40339)),u=a(70034),d={name:"GlobalVar",components:{VarString:r.default,VarNamespace:s.default,VarHost:o.default,VarPassword:l.default,VarArray:c.default},props:{data:{type:Object,default:()=>({})}},data:()=>({globalType:"string",formData:{}}),computed:{globalVarCom(){var t={string:r.default,namespace:s.default,host:o.default,password:l.default,array:c.default};return Object.prototype.hasOwnProperty.call(t,this.globalType)?t[this.globalType]:"div"},isTypeDisabled(){return!!Object.keys(this.data).length}},watch:{data:{handler(t){t.name?this.formData=t:this.formData=(0,u.createVariable)(null,""),this.globalType=this.formData.typeDescription},immediate:!0}},created(){this.nametips={theme:"dark",content:n.default.t("template.在步骤参数或脚本内使用 ${变量名} 即可获取到变量值"),width:200}},methods:{submit(){return this.$refs.handler.submit&&this.$refs.handler.submit()},reset(){var t=this;return this.$refs.handler.reset&&this.$refs.handler.reset().then((function(){t.globalType=""}))}}};e.Z=d},60558:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948);var n=i(a(33610)),r=i(a(15399)),s=a(61681);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={name:"VarNamespace",components:{JbInput:i(a(86234)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:function(){return{}}}},data(){return{formData:l({},this.data)}},created(){var t=this;this.rules={name:[{required:!0,message:r.default.t("template.变量名称必填"),trigger:"blur"},{validator:s.globalVariableNameRule.validator,message:s.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variable.some((function(t){return t.name===e}))},message:r.default.t("template.变量名称已存在，请重新输入"),trigger:"blur"}]}},methods:{submit(){var t=this;return this.$refs.varNamespaceForm.validate().then((function(){t.$emit("on-change",l(l({},t.formData),{},{type:2}))}),(function(t){return Promise.reject(t.content)}))}}};e.Z=c},52837:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033);var n=i(a(33610)),r=i(a(15399)),s=a(61681);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={name:"VarPassword",components:{JbInput:i(a(86234)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:()=>({})}},data(){return{formData:l({},this.data),passwordIcon:[]}},watch:{data:{handler(t){t.name?this.passwordIcon=[]:this.passwordIcon=["icon-eye-slash"]},immediate:!0}},created(){var t=this;this.rules={name:[{required:!0,message:r.default.t("template.变量名称必填"),trigger:"blur"},{validator:s.globalVariableNameRule.validator,message:s.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variable.some((function(t){return t.name===e}))},message:r.default.t("template.变量名称已存在，请重新输入"),trigger:"blur"}]}},methods:{submit(){var t=this;return this.$refs.varPasswordForm.validate().then((function(){t.$emit("on-change",l(l({},t.formData),{},{type:4}))}))}}};e.Z=c},59583:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948);var n=i(a(33610)),r=i(a(15399)),s=a(61681);function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={name:"VarString",components:{JbInput:i(a(86234)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:function(){return{}}}},data(){return{formData:l({},this.data)}},created(){var t=this;this.rules={name:[{required:!0,message:r.default.t("template.变量名称必填"),trigger:"blur"},{validator:s.globalVariableNameRule.validator,message:s.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variable.some((function(t){return t.name===e}))},message:r.default.t("template.变量名称已存在，请重新输入"),trigger:"blur"}]}},methods:{submit(){var t=this;return this.$refs.varStringForm.validate().then((function(){t.$emit("on-change",l(l({},t.formData),{},{type:1}))}),(function(t){return Promise.reject(t.content)}))}}};e.Z=c},95472:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(15399)),r=i(a(15621)),s=i(a(4027)),o={name:"GlobalVariablePopoverDetail",components:{DetailLayout:r.default,DetailItem:s.default},props:{data:{type:Object,required:!0},selectValue:{type:Array,required:!0},editOfPlan:{type:Boolean,DEFAULT:!1},defaultField:{type:String,default:n.default.t("template.初始值")}},data:()=>({position:"left",width:300,top:0,left:0}),computed:{classes(){return{["arrow-position-".concat(this.position)]:!0}},styles(){return{position:"absolute",top:"".concat(this.top,"px"),left:"".concat(this.left,"px"),"z-index":window.__bk_zIndex_manager.nextZIndex(),width:"".concat(this.width,"px")}}},mounted(){this.init()},beforeDestroy(){try{this.$refs.detail&&document.body.hasChildNodes(this.$refs.detail)&&document.body.removeChild(this.$refs.detail)}catch(t){}},methods:{init(){var t=window.innerWidth,e=document.querySelector("#globalVariableWithName_".concat(this.data.name)).getBoundingClientRect(),a=e.top,i=e.left;this.top=a+50,this.left=i-11,t<=i+this.width&&(this.left=i-150,this.position="right"),document.body.appendChild(this.$refs.detail)}}};e.Z=o},63330:function(t,e,a){"use strict";a(35927),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(45974),a(87033),a(23232),a(80433),a(77036);var n=i(a(33610)),r=i(a(45812)),s=i(a(15399)),o=i(a(14943)),l=i(a(72075)),c=i(a(15695)),u=i(a(14560)),d=i(a(86136));function h(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var p={name:"RenderTaskStep",components:{Draggable:o.default,JbSideslider:c.default,TaskStepOperation:u.default,TaskStepView:d.default},props:{list:{type:Array,required:!0},mode:{type:String,default:""},selectValue:{type:Array,default:function(){return[]}},variable:{type:Array,default:function(){return[]}},diff:{type:Object,default:function(){return{}}}},data:()=>({steps:[],isShowOperation:!1,isShowDetail:!1,isShowClone:!1,operationType:"",currentIndex:-1,operationData:{},detailInfo:{},dragStartIndex:-1,mediaQueryMap:[1e3,1100,1200,1300]}),computed:{isEdit(){for(var t=0;t<this.list.length;t++)if(this.list[t].id)return!0;return!1},isOperation(){return"operation"===this.mode},isSelect(){return"select"===this.mode},isView(){return!this.mode||"select"===this.mode},isDiff(){return"diff"===this.mode},stepBoxCom(){return this.isOperation?"draggable":"div"},stepContainerClasses(){var t={};return this.isShowOperation||this.isShowDetail||this.isShowClone?(t[this.operationType]=!0,t):t},hostVariables(){return this.variable.filter((function(t){return!t.delete&&t.isHost}))},scriptVariables(){return this.variable.filter((function(t){return!t.delete&&!t.isHost}))},operationSideSliderInfo(){return"create"===this.operationType?{title:s.default.t("template.新建作业步骤"),okText:s.default.t("template.提交")}:{title:s.default.t("template.编辑作业步骤"),okText:s.default.t("template.保存")}}},watch:{list:{handler(t){this.isOperation&&t.length<1?this.steps=[]:this.steps=Object.freeze([...t])},immediate:!0}},created(){this.order=0},beforeUpdate(){this.order=0},methods:{clickStepByIndex(t){this.handleStepClick(t)},genOrder(){return this.order+=1,this.order},handleStepClick(t){this.isOperation?this.handleShowEdit(t):(this.currentIndex=t,this.operationType="detail",this.detailInfo=this.steps[t],this.isShowDetail=!0)},handleStepSelect(t){this.$emit("on-select",t)},handleShowEdit(t){this.operationType="edit",this.currentIndex=t,this.operationData=this.steps[t],this.isShowOperation=!0},handleCloneStepHover(t,e){e?(this.currentIndex=t,this.operationType="clone",this.isShowClone=!0):(this.currentIndex=-1,this.operationType="",this.isShowClone=!1)},handleCloneStep(t){var e=[...this.steps],a=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?h(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):h(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},e[t]);a.id=0,a.name="".concat(a.name,"_copy"),a=new l.default(a,!0),e.splice(t+1,0,a),this.steps=Object.freeze(e),this.handleCloneStepHover(-1,!1),this.$emit("on-change",e)},handleShowCreate(t){this.operationType="create",this.currentIndex=t,this.operationData={},this.isShowOperation=!0},handleDel(t){var e=this;this.$bkInfo({title:s.default.t("template.确定删除该步骤？"),subTitle:s.default.t("template.删除之后不可恢复，请谨慎操作！"),confirmFn:function(){var a=[...e.steps],i=a[t];i.id>0?i.delete=1:a.splice(t,1),e.steps=Object.freeze(a),e.$emit("on-change",a)}})},handleTaskStepSubmit(t,e){var a=new l.default(t),i=[...this.steps];a.localValidator=e,"create"===this.operationType?-1===this.currentIndex?i.push(a):i.splice(this.currentIndex+1,0,a):i.splice(this.currentIndex,1,a),this.steps=Object.freeze(i),this.$emit("on-change",i)},handleDragStart(t){this.dragStartIndex=t},handleDragMove:(0,r.default)((function(t){return this.dragFutureIndex=t.draggedContext.futureIndex,!0}),30),handleDragAdd(t){if(this.dragStartIndex!==t&&!(this.dragStartIndex-t==1&&1===this.dragFutureIndex||this.dragStartIndex-t==-1&&0===this.dragFutureIndex)){var e=[...this.steps],a=e[this.dragStartIndex];e.splice(this.dragStartIndex,1),e.splice(t,0,a),this.dragStartIndex=-1,this.steps=Object.freeze(e),this.$emit("on-change",e)}}}};e.Z=p},9285:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522),a(23232),a(80433),a(9042),a(71959);var n=i(a(1249)),r=i(a(46117)),s={name:"",components:{DetailItem:i(a(4027)).default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}}},data:()=>({isLoading:!0,stepInfo:{},renderRoleList:[],renderChannel:""}),created(){var t=this;this.stepInfo=Object.freeze(this.data.approvalStepInfo),Promise.all([this.fetchRoleList(),this.fetchAllChannel()]).finally((function(){t.isLoading=!1}))},methods:{fetchRoleList(){var t=this;r.default.fetchRoleList().then((function(e){var a={};e.forEach((function(t){a[t.code]=t.name})),t.renderRoleList=t.stepInfo.approvalUser.roleList.reduce((function(t,e){return a[e]&&t.push(a[e]),t}),[])}))},fetchAllChannel(){var t=this;if(this.stepInfo.notifyChannel.length<1)return this.renderChannel="--",Promise.resolve();n.default.fetchActiveNotifyChannel().then((function(e){var a={};e.forEach((function(t){a[t.code]=t.name}));var i=t.stepInfo.notifyChannel.reduce((function(t,e){return a[e]&&t.push(a[e]),t}),[]);i.length<1&&(t.renderChannel="--"),t.renderChannel=i.join("，")}))}}};e.Z=s},43413:function(t,e,a){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70201);var i={name:"",props:{data:{type:Array,default:function(){return[]}}},data:()=>({}),computed:{renderData(){return this.data.slice(0,3)},hasMore(){return this.data.length>3}}};e.Z=i},86658:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(39986)),r=i(a(94498)),s=i(a(29637)),o={name:"",components:{ScrollFaker:r.default,ServerPanel:s.default},props:{data:{type:Object,required:!0}},data:()=>({isShowDetail:!1,hostNodeInfo:new n.default({}).hostNodeInfo}),methods:{handlerView(){this.hostNodeInfo=this.data.host.hostNodeInfo,this.isShowDetail=!0},handleClose(){this.isShowDetail=!1}}};e.Z=o},76293:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(70969),a(5580),a(87033);var n=i(a(15399)),r=i(a(39986)),s=i(a(94498)),o=i(a(29637)),l=i(a(63715)),c={name:"StepViewGlobalVariable",components:{ScrollFaker:s.default,ServerPanel:o.default,Empty:l.default},props:{type:{type:String,default:""},name:{type:String,required:!0},data:{type:Array,default:function(){return[]}}},data:()=>({isShowDetail:!1,hostNodeInfo:new r.default({}).hostNodeInfo}),computed:{title(){return this.type?this.type:"".concat(n.default.t("template.全局变量.label")," - ").concat(this.name)},isEmpty(){return r.default.isHostNodeInfoEmpty(this.hostNodeInfo)}},methods:{handlerView(){var t=this,e=this.data.find((function(e){return e.name===t.name}));this.hostNodeInfo=Object.freeze(e.defaultTargetValue.hostNodeInfo),this.isShowDetail=!0},handleClose(){this.isShowDetail=!1}}};e.Z=c},60996:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(9042),a(7170),a(23232),a(35948),a(80433),a(5580);var n=i(a(77480)),r=i(a(39986)),s=i(a(36166)),o=i(a(12584)),l=i(a(83797)),c=i(a(82248)),u=i(a(77422)),d=i(a(28052)),h={name:"",components:{JbCollapseItem:o.default,RenderServerAgent:l.default,RenderFilePath:c.default,RenderGlobalVariable:u.default,RenderFileServer:d.default},props:{data:{type:Array,default:function(){return[]}},variable:{type:Array,default:function(){return[]}},account:{type:Array,default:function(){return[]}}},data:()=>({activeResult:[],localFileList:[],serverFileList:[],sourceFileList:[],fileSourceIdsList:[],fileSourceAliasList:[]}),computed:{isShowLocalFile(){return this.localFileList.length>0},isShowServerFile(){return this.serverFileList.length>0},isShowSourceFile(){return this.sourceFileList.length>0}},watch:{data:{handler(t){var e=this;t.forEach((function(t){var a=new s.default(t);if(a.isServerFile)e.serverFileList.push(a);else if(a.isLocalFile)e.localFileList.push(a);else if(a.isSourceFile){e.sourceFileList.push(a);var i=[];e.sourceFileList.forEach((function(t){i.push(t.fileSourceId),e.fileSourceIdsList=i}))}e.localFileList.length>0?e.activeResult=["local"]:e.serverFileList.length>0&&(e.activeResult=["server"])}))},immediate:!0},fileSourceIdsList:{handler(t){var e=this;if(t.length){var a=t.map((function(t){return n.default.getSourceInfo({id:t})}));Promise.all(a).then((function(t){t.forEach((function(t){e.fileSourceAliasList.push(t.alias)}))}))}},immediate:!0}},methods:{findVariableValue(t){var e=this.variable.find((function(e){return e.name===t}));return e?e.defaultTargetValue.hostNodeInfo:new r.default({}).hostNodeInfo},findAccountAlias(t){var e=this.account.find((function(e){return e.id===t}));return e?e.alias:""},handleGoSource(t,e){var a=t.fileSourceId,i=this.fileSourceAliasList[e],n=this.$router.resolve({name:"bucketList",query:{fileSourceId:a,sourceAlias:i}}).href;window.open(n,"_blank")}}};e.Z=h},48939:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522),a(5580);var n=i(a(6089)),r=i(a(29637)),s=i(a(1854)),o=i(a(4027)),l=i(a(77422)),c={name:"",components:{ServerPanel:r.default,RenderSourceFile:s.default,RenderGlobalVariable:l.default,DetailItem:o.default},props:{data:{type:Object,default:function(){return{}}},variable:{type:Array,default:function(){return[]}}},data:()=>({isLoading:!0,stepInfo:{},executeAccountText:"",account:[]}),created(){this.stepInfo=Object.freeze(this.data.fileStepInfo),this.fetchAccount()},methods:{fetchAccount(){var t=this;this.isLoading=!0,n.default.fetchAccountWhole().then((function(e){t.account=e;var a=e.find((function(e){return e.id===t.stepInfo.fileDestination.account}));t.executeAccountText=a?a.alias:"--"})).finally((function(){t.isLoading=!1}))}}};e.Z=c},80803:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522),a(5580);var n=i(a(44068)),r=i(a(6089)),s=i(a(45673)),o=i(a(29637)),l=i(a(4027)),c=i(a(28877)),u=i(a(77422)),d=a(41980),h={name:"",components:{AceEditor:s.default,ServerPanel:o.default,DetailItem:l.default,JbEditTextarea:c.default,RenderGlobalVariable:u.default},props:{data:{type:Object,default:function(){return{}}},variable:{type:Array,default:function(){return[]}}},data:()=>({stepInfo:{},executeAccountText:"",language:"",scriptName:"",scriptInfo:{},isShowScriptSource:!1,requestQueue:[]}),computed:{isLoading(){return this.requestQueue.length>0},isReferScript(){return this.data.scriptStepInfo.scriptSource&&1!==this.data.scriptStepInfo.scriptSource}},created(){this.stepInfo=Object.freeze(this.data.scriptStepInfo),this.language=(0,d.formatScriptTypeValue)(this.stepInfo.scriptLanguage),this.languageOption=[this.language],this.stepInfo.scriptVersionId&&this.fetchScriptDetail(),this.fetchAccount()},methods:{fetchScriptDetail(){var t=this;this.requestQueue.push(!0),n.default.versionDetail({id:this.stepInfo.scriptVersionId}).then((function(e){t.scriptName=e.name,t.stepInfo.content=e.content,t.scriptInfo=Object.freeze(e)})).finally((function(){t.requestQueue.pop()}))},fetchAccount(){var t=this;this.requestQueue.push(!0),r.default.fetchAccountWhole().then((function(e){var a=e.find((function(e){return e.id===t.stepInfo.account}));t.executeAccountText=a?a.alias:"--"})).finally((function(){t.requestQueue.pop()}))},handleGoScriptDetail(){var t=this.scriptInfo.publicScript?"publicScriptVersion":"scriptVersion",e=this.$router.resolve({name:t,params:{id:this.stepInfo.scriptId},query:{scriptVersionId:this.scriptInfo.scriptVersionId}});window.open(e.href)},handleGoScriptVersion(){var t=this.isReferPublicScript?"publicScriptVersion":"scriptVersion",e=this.$router.resolve({name:t,params:{id:this.stepInfo.scriptId}}).href;window.open(e)},handleUpdateScript(){this.$router.push({name:"templateEdit",params:{id:this.$route.params.id,stepId:this.data.id},query:{from:"templateDetail"}})}}};e.Z=h},43424:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(15399)),r=i(a(15621)),s=i(a(4027)),o=i(a(21594)),l=i(a(80073)),c=i(a(3724)),u={1:n.default.t("template.执行脚本"),2:n.default.t("template.分发文件"),3:n.default.t("template.人工确认")},d={components:{StepDistroFile:o.default,StepExecScript:l.default,StepArificial:c.default,DetailLayout:r.default,DetailItem:s.default},props:{variable:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){return{}}}},computed:{stepTypeText(){return u[this.data.type]},stepCom(){var t={1:l.default,2:o.default,3:c.default};return Object.prototype.hasOwnProperty.call(t,this.data.type)?t[this.data.type]:"div"}}};e.Z=d},42762:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948),a(94522),a(7170),a(58794);var n=i(a(33610)),r=i(a(31813)),s=i(a(15399)),o=i(a(1249)),l=i(a(6922)),c=i(a(2699)),u=a(41980);function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={name:"",components:{JbUserSelector:l.default,ItemFactory:c.default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}}},data:()=>({formData:{id:0,name:(0,u.genDefaultName)(s.default.t("template.步骤人工确认")),delete:0,approvalMessage:"",approvalType:1,approvalUser:{roleList:["JOB_RESOURCE_TRIGGER_USER"],userList:[]},notifyChannel:[]},channleList:[]}),computed:{isChannelAll(){return!(this.channleList.length<1)&&this.formData.notifyChannel.length===this.channleList.length},isChannelIndeterminate(){return!(this.formData.notifyChannel.length<1)&&this.formData.notifyChannel.length!==this.channleList.length}},watch:{data:{handler(t){var e=this;(0,r.default)(t)||(this.formData=h(h({},this.formData),t),setTimeout((function(){e.$refs.form.validate()})))},immediate:!0}},created(){this.rules={approvalUser:[{validator:function(t){return t.roleList.length+t.userList.length>0},message:s.default.t("template.确认人必填"),trigger:"blur"}]},this.fetchAllChannel()},methods:{fetchAllChannel(){var t=this;o.default.fetchActiveNotifyChannel().then((function(e){t.channleList=e})).finally((function(){t.isLoading=!1}))},handleToggleAllChannel(){this.isChannelAll?this.formData.notifyChannel=[]:this.formData.notifyChannel=this.channleList.map((function(t){return t.code}))},handleNameChange(t,e){this.formData[t]=e.trim()},handleApprovalUserChange(t,e){this.formData.approvalUser.roleList=e,this.formData.approvalUser.userList=t},submit(){var t=this,e=this.formData,a=e.name,i=e.id,n=e.approvalMessage,r=e.approvalType,s=e.approvalUser,o=e.notifyChannel,l={id:i,name:a,delete:this.formData.delete,type:3,approvalStepInfo:{approvalMessage:n,approvalType:r,approvalUser:s,notifyChannel:o}};return this.$refs.form.validate().then((function(){t.$emit("on-change",l,!0)}),(function(){t.$emit("on-change",l,!1)}))}}};e.Z=p},12351:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948);var n=i(a(33610)),r=i(a(31813)),s=i(a(15399)),o=a(45614),l=i(a(72075)),c=i(a(39986)),u=i(a(70007)),d=i(a(2699)),h=a(41980);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function f(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var v={name:"",components:{CardLayout:u.default,ItemFactory:d.default},inheritAttrs:!1,props:{variable:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){return[]}}},data:()=>({formData:{id:0,name:(0,h.genDefaultName)(s.default.t("template.步骤分发文件")),fileSourceList:[],timeout:7200,uploadSpeedLimit:0,transferMode:2,ignoreError:0,downloadSpeedLimit:0,account:"",path:"",server:new c.default({})}}),computed:f(f({},(0,o.mapState)("distroFile",{isEditNewSourceFile:function(t){return t.isEditNewSourceFile},isLocalFileUploading:function(t){return t.isLocalFileUploading},isLocalFileUploadFailed:function(t){return t.isLocalFileUploadFailed}})),{},{formMarginLeftWidth(){return"en-US"===this.$i18n.locale?140:110}}),watch:{data:{handler(t){var e=this;if(!(0,r.default)(t)){var a=t.fileDestination,i=a.account,n=a.path,s=a.server,o=f({},t);delete o.fileDestination,this.formData=f(f(f({},this.formData),o),{},{account:i,path:n,server:s}),setTimeout((function(){e.$refs.form.validate()}))}},immediate:!0}},mounted(){window.IPInputScope="FILE_DISTRIBUTION",this.$once("hook:beforeDestroy",(function(){window.IPInputScope=""}))},methods:{handleChange(t,e){this.formData[t]=e},submit(){var t=this,e=this.$createElement;return Promise.resolve().then((function(){return new Promise((function(e,a){if(!t.isEditNewSourceFile)return e();t.$bkInfo({title:s.default.t("template.您有未保存的源文件"),type:"warning",okText:s.default.t("template.继续提交"),cancelText:s.default.t("template.去保存"),confirmFn:function(){e()},cancelFn:function(){a(new Error("save"))}})}))})).then((function(){return new Promise((function(e,a){for(var i=!1,n=0;n<t.formData.fileSourceList.length;n++){var r=t.formData.fileSourceList[n];if(r.fileType===l.default.fileStep.TYPE_SERVER&&(0,h.compareHost)(t.formData.server,r.host)){i=!0;break}}i?t.$bkInfo({title:s.default.t("template.源和目标服务器相同"),subTitle:s.default.t("template.检测到文件传输源和目标服务器是同一批，若是单台建议使用本地 cp 方式效率会更高，请问你是否确定参数无误？"),width:500,okText:s.default.t("template.好的，我调整一下"),cancelText:s.default.t("template.是的，确定无误"),confirmFn:function(){a(new Error("save"))},cancelFn:function(){e()}}):e()}))})).then((function(){return new Promise((function(e,a){(0,h.detectionSourceFileDupLocation)(t.formData.fileSourceList)?t.$bkInfo({title:s.default.t("template.源文件可能出现同名"),subTitle:s.default.t("template.多文件源传输场景下容易出现同名文件覆盖的问题，你可以在目标路径中使用 [源服务器IP] 的变量来尽可能规避风险。"),okText:s.default.t("template.好的，我调整一下"),cancelText:s.default.t("template.已知悉，确定执行"),closeIcon:!1,width:500,confirmFn:function(){t.$refs.targetPath.$el.scrollIntoView(),t.$refs.targetPath.$el.querySelector(".bk-form-input").focus(),a(new Error("transferMode change"))},cancelFn:function(){e()}}):e()}))})).then((function(){var a=t.formData,i={id:a.id,name:a.name,delete:0,type:2,fileStepInfo:{timeout:a.timeout,uploadSpeedLimit:a.uploadSpeedLimit,downloadSpeedLimit:a.downloadSpeedLimit,transferMode:a.transferMode,ignoreError:a.ignoreError,fileSourceList:a.fileSourceList,fileDestination:{account:a.account,path:a.path,server:a.server}}};return t.$refs.form.validate().then((function(){t.$emit("on-change",i,!0)})).catch((function(){return new Promise((function(a,n){var r=null,o=function(){r.close(),n(new Error("not save"))},l=function(){return e("div",[e("div",{style:"text-align: center"},[e("bk-button",{on:{click:o},style:"width: 96px",attrs:{theme:"primary"}},[s.default.t("template.去处理")])])])};t.isLocalFileUploading?r=t.$bkInfo({type:"error",title:s.default.t("template.本地源文件上传未完成"),subHeader:l(),showFooter:!1}):t.isLocalFileUploadFailed?r=t.$bkInfo({type:"error",title:s.default.t("template.本地源文件上传失败"),subHeader:l(),showFooter:!1}):(t.$emit("on-change",i,!1),a())}))}))}))}}};e.Z=v},94542:function(t,e,a){"use strict";a(35927),a(45974),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(87033),a(35948);var n=i(a(33610)),r=i(a(31813)),s=i(a(15399)),o=i(a(72075)),l=i(a(39986)),c=a(41980),u=i(a(20703));function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function h(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={name:"",components:{ItemFactory:u.default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return[]}},variable:{type:Array,default:function(){return[]}},scriptVariables:{type:Array,default:function(){return[]}},stepName:{type:Array,default:function(){return[]}}},data:()=>({formData:{isScriptContentLoading:!1,name:(0,c.genDefaultName)(s.default.t("template.步骤执行脚本")),ignoreError:0,id:0,delete:0,status:0,scriptSource:o.default.scriptStep.TYPE_SOURCE_LOCAL,scriptId:"",scriptVersionId:"",scriptLanguage:1,content:"",scriptParam:"",timeout:7200,secureParam:0,account:"",executeTarget:new l.default({})}}),watch:{data:{handler(t){var e=this;(0,r.default)(t)||(this.formData=h(h({},this.formData),t),setTimeout((function(){e.$refs.form.validate()})))},immediate:!0}},mounted(){window.IPInputScope="SCRIPT_EXECUTE",this.$once("hook:beforeDestroy",(function(){window.IPInputScope=""}))},methods:{handleChange(t,e){this.formData[t]=e},handleScriptContentReset(t){this.formData=h(h({},this.formData),t)},submit(){var t=this,e=this.formData,a=e.name,i=e.id,n=e.ignoreError,r=e.scriptParam,o=e.timeout,l=e.secureParam,u=e.scriptSource,d=e.scriptId,h=e.content,p=e.account,f=e.status,v=e.scriptVersionId,m=e.scriptLanguage,g=e.executeTarget,y={id:i,name:a,delete:this.formData.delete,type:1,scriptStepInfo:{ignoreError:n,scriptParam:r,timeout:o,scriptSource:u,scriptId:d,account:p,content:h,scriptLanguage:m,status:f,scriptVersionId:v,executeTarget:g,secureParam:l}};return this.$refs.form.validate().then((function(){return!0}),(function(){return!1})).then((function(e){if(t.$store.state.scriptCheckError)return(0,c.scriptErrorAlert)(),Promise.reject(new Error(s.default.t("template.脚本中出现高危语句")));t.$emit("on-change",y,e)}))}}};e.Z=p},26689:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n=i(a(33610)),r=i(a(68665)),s=i(a(9784)),o=i(a(34795)),l=i(a(69431));function c(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}var u={components:{StepDistroFile:s.default,StepExecScript:o.default,StepArificial:l.default,VariableUseGuide:r.default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}}},data:()=>({taskStepType:"",isShowVariableGuide:!1}),computed:{stepCom(){var t={1:o.default,2:s.default,3:l.default};return Object.prototype.hasOwnProperty.call(t,this.taskStepType)?t[this.taskStepType]:"div"},stepData(){var t={1:"scriptStepInfo",2:"fileStepInfo",3:"approvalStepInfo"}[this.taskStepType];if(!Object.prototype.hasOwnProperty.call(this.data,t)||!Object.keys(this.data[t]).length)return{};var e=this.data;return function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?c(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({name:e.name,id:e.id},this.data[t])},isStepTypeReadOnly(){return!!Object.keys(this.data).length},leftStyles(){var t={width:"100%"};return this.isShowVariableGuide&&(t.width="calc(100% - 366px)"),t},formMarginLeftWidth(){return"en-US"===this.$i18n.locale&&2===this.taskStepType?140:110}},watch:{data:{handler(t){Object.keys(t).length?this.taskStepType=this.data.type:this.taskStepType=1},immediate:!0}},created(){this.originWraperWidth=0},mounted(){document.querySelector("#taskStepOperationSideslider").querySelector(".jb-sideslider-footer").style.paddingLeft="".concat(this.formMarginLeftWidth+30,"px")},methods:{handleShowVariableGuide(){var t=this;if(!this.isShowVariableGuide){var e=document.querySelector("#taskStepOperationSideslider").querySelector(".bk-sideslider-wrapper");e.style.transition="width 0.1s",setTimeout((function(){var a=e.getBoundingClientRect().width;t.originWraperWidth=a,e.style.width="".concat(a+366,"px"),t.isShowVariableGuide=!0}))}},handleHideVariableGuide(){document.querySelector("#taskStepOperationSideslider").querySelector(".bk-sideslider-wrapper").style.width="".concat(this.originWraperWidth,"px"),this.isShowVariableGuide=!1},submit(){return this.$refs.handler.submit&&this.$refs.handler.submit()},reset(){return this.taskStepType="",this.$refs.handler.reset&&this.$refs.handler.reset()}}};e.Z=u},82591:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(92974),a(22695);var n=i(a(80951)),r=i(a(71780)),s=i(a(77127)),o=i(a(49601)),l={name:"",data:()=>({tab:"global"}),computed:{contentHtml(){var t={global:r.default,magic:o.default};return"zh-CN"===this.$i18n.locale&&Object.assign(t,{global:n.default,magic:s.default}),t[this.tab]}},methods:{handleTabToggle(t){this.tab=t,console.log("fromasasd = =",this.tab)},handleClose(){this.$emit("on-close")}}};e.Z=l},42152:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(54577)),r="zh-CN",s=n.default.get("blueking_language");s&&"en"===s.toLowerCase()&&(r="en-US");var o,l,c,u,d,h={Shell:(d=[],d.push("#!/bin/bash","","anynowtime=\"date +'%Y-%m-%d %H:%M:%S'\"",'NOW="echo [\\`$anynowtime\\`][PID:$$]"',"","zh-CN"===r?"##### 可在脚本开始运行时调用，打印当时的时间戳及PID。":"##### It's usually called when the script starts to run, prints the timestamp and PID.","function job_start","{",'    echo "`eval $NOW` job_start"',"}","","zh-CN"===r?"##### 可在脚本执行成功的逻辑分支处调用，打印当时的时间戳及PID。 ":"##### Use this func. to combine the execution results of multiple hosts and display by group.","function job_success","{",'    MSG="$*"','    echo "`eval $NOW` job_success:[$MSG]"',"    exit 0","}","","zh-CN"===r?"##### 可在脚本执行失败的逻辑分支处调用，打印当时的时间戳及PID。":"##### Use this func. to combine the execution results of multiple hosts and display by group.","function job_fail","{",'    MSG="$*"','    echo "`eval $NOW` job_fail:[$MSG]"',"    exit 1","}","","job_start","","zh-CN"===r?"###### 作业平台中执行脚本成功和失败的标准只取决于脚本最后一条执行语句的返回值":"###### The script execution result is depends on the value of return/exit code, weather it success or failed.","zh-CN"===r?"###### 如果返回值为0，则认为此脚本执行成功，如果非0，则认为脚本执行失败":"###### If return code is 0, means success, otherwise failed.","zh-CN"===r?"###### 可在此处开始编写您的脚本逻辑代码":"###### Start to writing your script code below this line","",""),d.join("\n")),Bat:(u=[],u.push("@echo on","setlocal enabledelayedexpansion","call:job_start","","zh-CN"===r?"REM 作业平台中执行脚本成功和失败的标准只取决于脚本最后一条执行语句的返回值":"REM The script execution result is depends on the value of return/exit code, weather it success or failed.","zh-CN"===r?"REM 如果返回值为0，则认为此脚本执行成功，如果非0，则认为脚本执行失败":"REM If return code is 0, means success, otherwise failed.","zh-CN"===r?"REM 可在此处开始编写您的脚本逻辑代码":"REM Start to writing your script code below this line","","","","zh-CN"===r?"REM 函数定定义区域，不要把正文写到函数区下面 ":"REM Function definition area, do not write the text below the function area","goto:eof","zh-CN"===r?"REM 可在脚本开始运行时调用，打印当时的时间戳及PID。":"REM It's usually called when the script starts to run, prints the timestamp and PID.",":job_start","    set cu_time=[%date:~0,10% %time:~0,8%]",'    for /F "skip=3 tokens=2" %%i in (\'tasklist /v /FI "IMAGENAME eq cmd.exe" /FI "STATUS eq Unknown"\') do (',"        set pid=[PID:%%i]","        goto:break","    )","    :break","    echo %cu_time%%pid% job_start","    goto:eof","    ","zh-CN"===r?"REM 可在脚本执行成功的逻辑分支处调用，打印当时的时间戳及PID。 ":"REM Use this func. to combine the execution results of multiple hosts and display by group.",":job_success","    set cu_time=[%date:~0,10% %time:~0,8%]",'    for /F "skip=3 tokens=2" %%i in (\'tasklist /v /FI "IMAGENAME eq cmd.exe" /FI "STATUS eq Unknown"\') do (',"        set pid=[PID:%%i]","        goto:break","    )","    :break","    echo %cu_time%%pid% job_success:[%*]","    exit 0","    ","zh-CN"===r?"REM 可在脚本执行失败的逻辑分支处调用，打印当时的时间戳及PID。":"REM Use this func. to combine the execution results of multiple hosts and display by group.",":job_fail","    set cu_time=[%date:~0,10% %time:~0,8%]",'    for /F "skip=3 tokens=2" %%i in (\'tasklist /v /FI "IMAGENAME eq cmd.exe" /FI "STATUS eq Unknown"\') do (',"        set pid=[PID:%%i]","        goto:break","    )","    :break","    echo %cu_time%%pid% job_fail:[%*]","    exit 1","",""),u.join("\n")),Perl:(c=[],c.push("#!/usr/bin/perl","","use strict;","","sub job_localtime {","    my @n = localtime();",'    return sprintf("%04d-%02d-%02d %02d:%02d:%02d",$n[5]+1900,$n[4]+1,$n[3], $n[2], $n[1], $n[0] );',"}","","zh-CN"===r?"##### 可在脚本开始运行时调用，打印当时的时间戳及PID。":"##### It's usually called when the script starts to run, prints the timestamp and PID.","sub job_start {",'    print "[",&job_localtime,"][PID:$$] job_start\\n";',"}","","zh-CN"===r?"##### 可在脚本执行成功的逻辑分支处调用，打印当时的时间戳及PID。 ":"##### Use this func. to combine the execution results of multiple hosts and display by group.","sub job_success {",'    print "[",&job_localtime,"][PID:$$] job_success:[@_]\\n";',"    exit 0;","}","","zh-CN"===r?"##### 可在脚本执行失败的逻辑分支处调用，打印当时的时间戳及PID。":"##### Use this func. to combine the execution results of multiple hosts and display by group.","sub job_fail {",'    print "[",&job_localtime,"][PID:$$] job_fail:[@_]\\n";',"    exit 1;","}","","job_start;","","zh-CN"===r?"###### iJobs中执行脚本成功和失败的标准只取决于脚本最后一条执行语句的返回值":"###### The script execution result is depends on the value of return/exit code, weather it success or failed.","zh-CN"===r?"###### 如果返回值为0，则认为此脚本执行成功，如果非0，则认为脚本执行失败":"###### If return code is 0, means success, otherwise failed.","zh-CN"===r?"###### 可在此处开始编写您的脚本逻辑代码":"###### You can start writing your script logic code here","",""),c.join("\n")),Python:(l=[],l.push("#!/usr/bin/env python","# -*- coding: utf8 -*-","","import datetime","import os","import sys","",'def _now(format="%Y-%m-%d %H:%M:%S"):',"    return datetime.datetime.now().strftime(format)","","zh-CN"===r?"##### 可在脚本开始运行时调用，打印当时的时间戳及PID。":"##### It's usually called when the script starts to run, prints the timestamp and PID.","def job_start():",'    print("[%s][PID:%s] job_start" % (_now(), os.getpid()))',"","zh-CN"===r?"##### 可在脚本执行成功的逻辑分支处调用，打印当时的时间戳及PID。 ":"##### Use this func. to combine the execution results of multiple hosts and display by group.","def job_success(msg):",'    print("[%s][PID:%s] job_success:[%s]" % (_now(), os.getpid(), msg))',"    sys.exit(0)","","zh-CN"===r?"##### 可在脚本执行失败的逻辑分支处调用，打印当时的时间戳及PID。":"##### Use this func. to combine the execution results of multiple hosts and display by group.","def job_fail(msg):",'    print("[%s][PID:%s] job_fail:[%s]" % (_now(), os.getpid(), msg))',"    sys.exit(1)","","if __name__ == '__main__':","","    job_start()","","zh-CN"===r?"###### iJobs中执行脚本成功和失败的标准只取决于脚本最后一条执行语句的返回值":"###### The script execution result is depends on the value of return/exit code, weather it success or failed.","zh-CN"===r?"###### 如果返回值为0，则认为此脚本执行成功，如果非0，则认为脚本执行失败":"###### If return code is 0, means success, otherwise failed.","zh-CN"===r?"###### 可在此处开始编写您的脚本逻辑代码":"###### Start to writing your script code below this line","",""),l.join("\n")),Powershell:(o=[],o.push("zh-CN"===r?"##### 可在脚本开始运行时调用，打印当时的时间戳及PID。":"#### It's usually called when the script starts to run, prints the timestamp and PID.","function job_start","{",'    $cu_date = Get-Date -Format "yyyy-MM-dd HH:mm:ss"    ','    "[{0}][PID:{1}] job_start" -f $cu_date,$pid',"}","","zh-CN"===r?"##### 可在脚本执行成功的逻辑分支处调用，打印当时的时间戳及PID。 ":"##### Use this func. to combine the execution results of multiple hosts and display by group.","function job_success","{",'    $cu_date = Get-Date -Format "yyyy-MM-dd HH:mm:ss"',"    if($args.count -ne 0)","    {",'        $args | foreach {$arg_str=$arg_str + " " + $_}',"        \"[{0}][PID:{1}] job_success:[{2}]\" -f $cu_date,$pid,$arg_str.TrimStart(' ')","    }","    else","    {",'        "[{0}][PID:{1}] job_success:[]" -f $cu_date,$pid',"    }","    exit 0","}","","zh-CN"===r?"##### 可在脚本执行失败的逻辑分支处调用，打印当时的时间戳及PID。":"##### Use this func. to combine the execution results of multiple hosts and display by group.","function job_fail","{",'    $cu_date = Get-Date -Format "yyyy-MM-dd HH:mm:ss"',"    if($args.count -ne 0)","    {",'        $args | foreach {$arg_str=$arg_str + " " + $_}',"        \"[{0}][PID:{1}] job_fail:[{2}]\" -f $cu_date,$pid,$arg_str.TrimStart(' ')","    }","    else","    {",'        "[{0}][PID:{1}] job_fail:[]" -f $cu_date,$pid',"    }","    exit 1","}","","job_start","","zh-CN"===r?"###### 作业平台中执行脚本成功和失败的标准只取决于脚本最后一条执行语句的返回值":"###### The script execution result is depends on the value of return/exit code, weather it success or failed.","zh-CN"===r?"###### 如果返回值为0，则认为此脚本执行成功，如果非0，则认为脚本执行失败":"###### If return code is 0, means success, otherwise failed.","zh-CN"===r?"###### 可在此处开始编写您的脚本逻辑代码":"###### Start to writing your script code below this line","",""),o.join("\n")),SQL:""};e.default=h},6615:function(t,e,a){"use strict";a(35927),a(45974),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.statisticsHost=e.sortHost=e.resetTree=e.parseIdInfo=e.mergeTopologyHost=e.mergeInputHost=e.generateHostRealId=e.findAllChildNodeId=e.filterTopology=e.bigTreeTransformTopologyOfTopology=void 0;var n=i(a(33610));function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function s(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}a(70969),a(70201),a(63762),a(14370),a(7170),a(71959),a(87033),a(9042),a(23232),a(80433),a(92974),a(47140),a(90004);var o=function(t){return"".concat(t.cloudAreaInfo.id,":").concat(t.ip)};e.generateHostRealId=o;e.parseIdInfo=function(t){return t.match(/^#([^#]+)#(.+)$/).slice(1)};e.bigTreeTransformTopologyOfTopology=function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!e||e.length<1?[]:e.map((function(e){var i=e.instanceId,n=e.instanceName,r=e.child,s=e.objectId,o=e.count,l=t(r,a+1);return Object.freeze({id:"#".concat(s,"#").concat(i),name:n,level:a,children:l,payload:{count:o}})}))};e.filterTopology=function t(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return!e||e.length<1?[]:a?e:e.reduce((function(e,i){return(0===i.level||i.level>0&&i.payload.count>0)&&e.push(s(s({},i),{},{children:t(i.children,a)})),e}),[])};e.statisticsHost=function(t){for(var e=t.length,a=0,i=0;i<e;i++){1!==t[i].alive&&a++}return{total:e,success:e-a,fail:a}};e.findAllChildNodeId=function t(e){var a=[];return e.children&&e.children.forEach((function(e){a.push(e.id),a.push(...t(e))})),a};var l=function(t,e){var a=[],i={};return t.forEach((function(t){a.push(t),i[t.realId]=!0})),e.forEach((function(t){i[t.realId]||a.push(t)})),a};e.mergeInputHost=l;e.mergeTopologyHost=function(t,e,a){var i={};if(a.forEach((function(t){i[t.realId]=!0})),e.length>a.length){var n={};e.forEach((function(t){var e=t.realId;i[e]||(n[e]=!0)}));var r=[];return t.forEach((function(t){n[t.realId]||r.push(t)})),r}return l(t,a)};e.resetTree=function t(e,a){!e||e.length<1||e.forEach((function(e){a(e),t(e.children,a)}))};e.sortHost=function(t){var e={};t.forEach((function(t){var a=t.ip;e[a]?e[a]+=1:e[a]=1}));var a={},i={},n={};t.forEach((function(t){var r=e[t.ip]>1,s=Object.assign({realId:o(t),repeat:r},t),l=t.ip;r?(a[l]||(a[l]=[]),a[l].push(s)):s.alive?n[l]=s:i[l]=s}));var r=[];return Object.keys(a).forEach((function(t){var e=a[t].sort((function(t,e){return t.alive-e.alive}));r.push(...e)})),Object.values(i).forEach((function(t){r.push(t)})),Object.values(n).forEach((function(t){r.push(t)})),r}},34109:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(92974),a(79981);var i={props:{headBackgroundColor:{type:String,default:"#FAFBFD"},tailBackgroundColor:String},render(t){var e=this.$slots.default;if(e.length>1){for(var a=e.length,i=0,n=null;i<a&&(!(n=e[i]).tag||!n.componentOptions);)i+=1;for(var r=null,s=a-1;s>=0&&s&&(!(r=e[s]).tag||!r.componentOptions);)s-=1;if(n&&r&&n!==r){var o="compose-form-item-first";n.data.staticClass&&(o+=" ".concat(n.data.staticClass)),this.headBackgroundColor&&(n.data.style=Object.assign(n.data.style||{},{"background-color":this.headBackgroundColor})),n.data.staticClass=o;var l="compose-form-item-last";r.data.staticClass&&(l+=" ".concat(r.data.staticClass)),this.tailBackgroundColor&&(r.data.style=Object.assign(r.data.style||{},{"background-color":this.tailBackgroundColor})),r.data.staticClass=l}}return t("div",{staticClass:"compose-form-item"},e)}};e.default=i},12023:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.popperConfig=e.generatorMenu=e.encodeRegexp=void 0,a(71959),a(87033),a(56259),a(63762),a(95179),a(78004);var i={arrow:!1,placement:"bottom-start",trigger:"manual",theme:"light bk-search-select-theme",hideOnClick:!1,animateFill:!1,animation:"slide-toggle",lazy:!1,ignoreAttributes:!0,boundary:"window",distance:15,zIndex:window.__bk_zIndex_manager.nextZIndex()};e.popperConfig=i;e.generatorMenu=function(){return{id:null,checked:[],condition:{}}};e.encodeRegexp=function(t){return["\\",".","*","-","{","}","[","]","^","(",")","$","+","?","|"].reduce((function(t,e){var a=new RegExp("\\".concat(e),"g");return t.replace(a,"\\".concat(e))}),t)}},75806:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={bk:{searchSelect:{placeholder:"Please enter",emptyText:"Included key worth filtering query must have a value",condition:"Or",remoteEmptyText:"Query no data",remoteLoadingText:"Loading...",tips:"multiple keywords separate by |",ok:"OK",cancel:"Cancel"}}}},24213:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(63762),a(40782);var n=i(a(54577)),r=i(a(75806)),s={"zh-CN":i(a(34349)).default,"en-US":r.default},o="zh-CN",l=n.default.get("blueking_language");l&&"en"===l.toLowerCase()&&(o="en-US");var c=s[o],u={t:function(t){for(var e=t.split("."),a=0,i=c;a<e.length;)i=i[e[a]],a+=1;return i}};e.default=u},34349:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={bk:{searchSelect:{placeholder:"请输入",emptyText:"包含键值得过滤查询必须有一个值",condition:"或",remoteEmptyText:"查询无数据",remoteLoadingText:"正在加载中...",tips:"多个关键字用竖线 “|” 分隔",ok:"确认",cancel:"取消"}}}},68022:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(61026);var i={methods:{scrollActiveToView(t){if([38,40].includes(t.keyCode)){38===t.keyCode?this.activeIndex-=1:40===t.keyCode&&(this.activeIndex+=1),this.activeIndex>=this.list.length&&(this.activeIndex=this.list.length-1),this.activeIndex<0&&(this.activeIndex=0);var e=this.$refs.list;this.$nextTick((function(){var t=e.getBoundingClientRect().height,a=e.querySelector(".active").offsetTop+34;a>t?e.scrollTop=a-t+10:a<=42&&(e.scrollTop=0)}))}}}};e.default=i},86093:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.parseCondition=e.default=e.checkIsCheckboxColumn=void 0;var n=i(a(64958));a(63762),a(78004),a(87033),a(9042),a(61026),a(70969),a(7170);var r=i(a(15399)),s=function(){},o=function(t,e){return t.replace(/\$\{([^}]+)\}+/g,(function(t,a){return e[a]}))},l=function(t,e){if(!t)return!1;if(!t.rely)return!0;for(var a={AND:function(t,e){return t&&e},OR:function(t,e){return t||e}},i=t.rely,n=i.operation,r=i.expressions,s="AND"===n,o=0;o<r.length;o++){var l=r[o],c=l.key,u=l.value;if(s=a[n](s,e[c]===u))break}return s};e.parseCondition=l;var c=function(t,e){return o(t,e)},u=function(t,e){var a=JSON.parse(t);return Object.keys(a).forEach((function(t){a[t]=o(a[t],e)})),a},d=function(t){return"checkbox"===t};e.checkIsCheckboxColumn=d;var h={DELETE:{title:r.default.t("确定删除该文件(夹)？"),content:r.default.t("文件源本体的该文件(夹)也会被删除，请谨慎操作！")}},p={functional:!0,render(t,e){var a=e.props,i=a.fileSourceId,r=void 0===i?"":i,o=a.column,p=void 0===o?{}:o,f=a.linkHandler,v=void 0===f?s:f,m=a.actionHandler,g=void 0===m?s:m,y=a.selectHandler,_=void 0===y?s:y,b=a.renderHeader,x=void 0===b?s:b,w=a.rowSelection,S=void 0===w?{}:w,C=p.type,I=p.actions,k=p.label,O=p.field;return d(C)?t("bk-table-column",{key:"".concat(e.data.key,"_section"),attrs:{width:"50",renderHeader:x},scopedSlots:{default:function(e){var a=e.row;return t("bk-checkbox",{attrs:{disabled:!l(p.enable,a),checked:!!S[a.completePath]},on:{change:function(t){return _(a.completePath,t)}}})}}}):function(t){return"buttonGroup"===t}(C)?t("bk-table-column",{attrs:{label:k,align:"left",width:120},key:"".concat(e.data.key,"_").concat(O),scopedSlots:{default:function(e){var a=e.row;return I.map((function(e){if(!l(e,a))return"";if(function(t){return["FILE_LINK"].includes(t)}(e.type))return t("bk-button",{attrs:{text:!0},on:{click:function(){return v(c(e.target,a))}}},[e.label||a[O]||"--"]);var i="bk-button",s={};return"DELETE"===e.actionType&&(i="auth-button",s={props:{auth:"file_source/delete",permission:a.canManage,resourceId:r}}),"Confirm"===e.displayType?t("jb-popover-confirm",{attrs:{title:h[e.actionType].title,content:h[e.actionType].content,"confirm-handler":function(){return g(e.actionCode,u(e.params,a))}}},[t(i,(0,n.default)([{},s,{attrs:{text:!0}}]),[e.label||a[O]||"--"])]):t(i,(0,n.default)([{},s,{attrs:{text:!0},on:{click:function(){return g(e.actionCode,u(e.params,a))}}}]),[e.label||a[O]||"--"])}))}}}):t("bk-table-column",{attrs:{label:k,align:"left"},key:"".concat(e.data.key,"_").concat(O),scopedSlots:{default:function(e){var a=e.row;return I?I.map((function(e){return l(e,a)?t("bk-button",{attrs:{text:!0},on:{click:function(){return v(c(e.target,a))}}},[t("icon",{attrs:{type:"folder-full"},class:"mr10",style:"color: #699DF4"}),e.label||a[O]||"--"]):t("div",[t("icon",{attrs:{type:"file-full"},class:"mr10",style:"color: #C4C6CC"}),t("span",[a[O]||"--"])])})):t("span",[a[O]||"--"])}}})}};e.default=p},76830:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(33610));class r{constructor(t){this.id=t.id,this.account=t.account,this.alias=t.alias,this.categoryName=t.categoryName,this.category=t.category,this.createTime=t.createTime,this.creator=t.creator,this.dbPassword=t.dbPassword,this.dbPort=t.dbPort,this.dbSystemAccountId=t.dbSystemAccountId,this.lastModifyTime=t.lastModifyTime,this.lastModifyUser=t.lastModifyUser,this.os=t.os,this.ownerUsers=t.ownerUsers||[],this.password=t.password,this.remark=t.remark||"",this.type=t.type,this.typeName=t.typeName,this.canUse=t.canUse,this.canManage=t.canManage}get isSystem(){return 1===this.category}}e.default=r,(0,n.default)(r,"OS",1),(0,n.default)(r,"DB",2),(0,n.default)(r,"TYPE_LINUX",1),(0,n.default)(r,"TYPE_WINDOWS",2),(0,n.default)(r,"TYPE_MYSQL",9),(0,n.default)(r,"TYPE_ORACLE",10),(0,n.default)(r,"TYPE_DB2",11),(0,n.default)(r,"accountType",{liunx:1,windows:2,mysql:9,oracle:10,db2:11})},6360:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(85604),a(70201),a(70969),a(71959),a(87033),a(7170);var n=i(a(56318)),r=i(a(33610)),s=i(a(56959)),o=i(a(32558)),l=i(a(27366)),c=i(a(15399)),u=a(41980),d=i(a(91052));class h{constructor(t){this.appId=t.appId,this.scopeType=t.scopeType,this.scopeId=t.scopeId,this.creator=t.creator,this.createTime=t.createTime,this.cronExpression=t.cronExpression,this.executeTime=t.executeTime||"",this.id=t.id,this.enable=t.enable,this.endTime=(0,u.prettyDateTimeFormat)(1e3*parseInt(t.endTime,10)),this.lastExecuteStatus=t.lastExecuteStatus,this.lastModifyTime=t.lastModifyTime,this.lastModifyUser=t.lastModifyUser,this.name=t.name,this.notifyChannel=t.notifyChannel||[],this.notifyOffset=t.notifyOffset,this.scriptId=t.scriptId||0,this.scriptVersionId=t.scriptVersionId||0,this.taskPlanId=t.taskPlanId||0,this.taskPlanName=t.taskPlanName,this.taskTemplateId=t.taskTemplateId,this.failCount=t.failCount||0,this.totalCount=t.totalCount||0,this.lastFailRecord=t.lastFailRecord||[],this.variableValue=this.initVariableValue(t.variableValue),this.notifyUser=this.initNotifyUser(t.notifyUser),this.canManage=t.canManage,this.isPlanLoading=!0,this.isStatictisLoading=!0}get executeStrategy(){return this.cronExpression?"period":"once"}get executeStrategyText(){return this.cronExpression?c.default.t("周期执行"):c.default.t("单次执行")}get executeTimeTips(){if(this.cronExpression){var t=(0,d.default)(this.cronExpression),e=(0,n.default)(t,5),a=e[0],i=e[1],r=e[2],s=e[3],o=a;return i&&(o+=i),r&&(a&&r&&(o+=i?"以及当月":"的"),o+=r),s&&((i||r)&&(o+="的"),o+=s),o+=e[4]}return this.executeTime}get statusIconType(){return h.STATUS_ICON_TYPE[this.lastExecuteStatus]}get statusText(){return h.STATUS_MAP[this.lastExecuteStatus]}get policeText(){return this.cronExpression?this.cronExpression:this.executeTime.slice(0,19)}get successRateText(){if(!this.failCount&&!this.totalCount)return"--";var t,e,a=Math.floor((this.totalCount-this.failCount)/this.totalCount*100);return'<span style="'.concat((t=a,e=["padding: 0 6px","border-radius: 2px"],0===t?(e.push("color: #EA3636"),e.push("background-color: #FFEBEB")):t<40?(e.push("color: #FF8801"),e.push("background-color: #FFEFD6")):t<80?(e.push("color: #EBB626"),e.push("background-color: #FFF6D1")):(e.push("color: #63656e"),e.push("background-color: #F0F1F5")),e.join(";")),'">').concat(a,"%</span>")}get successRateTips(){var t="\n            <p>\n                ".concat(c.default.t("最近"),'<span style="padding: 0 0.2em;">').concat(this.totalCount,"</span>").concat(c.default.t("次"),"\n                ").concat(c.default.t("有"),'<span style="padding: 0 0.2em;">').concat(this.failCount,"</span>").concat(c.default.t("次失败"),":\n            </p>\n        ");return this.lastFailRecord.slice(0,5).reduce((function(t,e){return t="".concat(t,"<p>").concat(e,"</p>")}),t)}get isRateEmpty(){return!this.failCount||!this.totalCount}get lastFailRecordList(){var t=this.lastFailRecord.length,e=this.lastFailRecord;return t>5&&(e=e.slice(0,5)),e.map((function(t){return(0,u.prettyDateTimeFormat)(t)}))}get showMoreFailAcion(){return this.lastFailRecord.length>0}initVariableValue(t){return(0,o.default)(t)?t.map((function(t){return new l.default(t)})):[]}initNotifyUser(t){return(0,s.default)(t)?{roleList:t.roleList||[],userList:t.userList||[]}:{roleList:[],userList:[]}}}e.default=h,(0,r.default)(h,"STATUS_MAP",{0:c.default.t("未开始"),1:c.default.t("成功"),2:c.default.t("失败")}),(0,r.default)(h,"STATUS_ICON_TYPE",{0:"sync-default",1:"sync-success",2:"sync-failed"})},27366:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(56959)),r=i(a(39986));e.default=class{constructor(t){this.id=t.id,this.name=t.name,this.type=t.type,this.value=t.value,this.targetValue=this.initTargetValue(t.targetValue)}initTargetValue(t){return(0,n.default)(t)?new r.default(t):new r.default({})}}},20274:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(70969);var n=i(a(33610)),r=i(a(15399)),s=i(a(7192));class o extends s.default{constructor(t){super(),this.id=t.id,this.alias=t.alias,this.appId=t.appId,this.scopeType=t.scopeType,this.scopeId=t.scopeId,this.code=t.code,this.createTime=t.createTime,this.creator=t.creator,this.credentialId=t.credentialId,this.enable=t.enable,this.filePrefix=t.filePrefix,this.fileSourceInfoMap=t.fileSourceInfoMap||{},this.fileSourceType=t.fileSourceType||{},this.lastModifyTime=t.lastModifyTime,this.lastModifyUser=t.lastModifyUser,this.publicFlag=t.publicFlag,this.shareToAllApp=t.shareToAllApp,this.sharedAppIdList=t.sharedAppIdList,this.status=t.status,this.storageType=t.storageType,this.workerId=t.workerId,this.workerSelectMode=t.workerSelectMode,this.workerSelectScope=t.workerSelectScope,this.canManage=t.canManage,this.canView=t.canView}get isAvailable(){return 1===this.status}get statusText(){return o.STATUS_TEXT_MAP[this.status]}get statusIcon(){return o.STATUS_ICON_MAP[this.status]}get storageTypeText(){return o.STORAGE_TYPE_MAP[this.storageType]}get publicFlagHtml(){var t="display: inline-block; font-size: 12px; padding: 0 3px;";return this.publicFlag?'<span style="'.concat(t+="background: #EBF2FF; color: #699DF4;",'" tippy-tips="').concat(r.default.t("公共存储"),'">').concat(r.default.t("公"),"</span>"):'<span style="'.concat(t+="background: #F0F1F5; color: #979BA5;",'" tippy-tips="').concat(r.default.t("私有存储"),'">').concat(r.default.t("私"),"</span>")}}e.default=o,(0,n.default)(o,"STATUS_TEXT_MAP",{0:r.default.t("异常"),1:r.default.t("正常"),2:r.default.t("未知")}),(0,n.default)(o,"STATUS_ICON_MAP",{0:"abnormal",1:"normal",2:"unknown"}),(0,n.default)(o,"STORAGE_TYPE_MAP",{OSS:r.default.t("对象存储"),FILE_SYSTEM:r.default.t("文件系统")}),(0,n.default)(o,"FILE_PERFIX_UUID","${UUID}")},83053:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(7192));class r extends n.default{constructor(t){super(),this.name=t.name,this.createDate=t.createDate,this.xcosAcl=t.xcosAcl,this.lastModifyTime=t.lastModifyTime,this.size=t.size,this.type=t.type,this.downloadUrl=t.downloadUrl,this.dir=t.dir,this.completePath=t.completePath,this.fileSourceAlias=t.fileSourceAlias,this.fileSourceId=t.fileSourceId}get fileIcon(){return this.dir?"folder-2":"file-line-2"}}e.default=r},42392:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(33610)),r=i(a(15399)),s=i(a(7192));class o extends s.default{}e.default=o,(0,n.default)(o,"STATUS_INVALID",-1),(0,n.default)(o,"STATUS_DRAFT",0),(0,n.default)(o,"STATUS_ONLINE",1),(0,n.default)(o,"STATUS_OFFLINE",2),(0,n.default)(o,"STATUS_DISABLED",3),(0,n.default)(o,"STATUS_TEXT_MAP",{[-1]:r.default.t("未保存"),0:r.default.t("未上线"),1:r.default.t("已上线"),2:r.default.t("已下线"),3:r.default.t("已禁用")})},44181:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(70969),a(35927),a(6919);var n=i(a(15399)),r={1:"info",2:"warning",3:"error"};e.default=class{constructor(t){this.row=t.line-1,this.column=1,this.level=t.level,this.type=r[t.level],this.text=this.initText(t)}get isDangerous(){return 3===this.level}initText(t){var e="";return 3===this.level&&(e="".concat(n.default.t("检测到代码存在高危语句："),"\n").concat(t.matchContent,"\n\n").concat(n.default.t("详细说明："),"\n")),"".concat(e).concat(t.description)}}},6627:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(70969);var n=i(a(42392));class r extends n.default{constructor(t){super(),this.appId=t.appId,this.scopeType=t.scopeType,this.scopeId=t.scopeId,this.scriptStatus=t.scriptStatus,this.scriptStatusDesc=t.scriptStatusDesc,this.scriptVersion=t.scriptVersion,this.taskTemplateId=t.taskTemplateId||0,this.taskTemplateName=t.taskTemplateName,this.taskPlanId=t.taskPlanId||0,this.taskPlanName=t.taskPlanName}get statusHtml(){var t="display: inline-block; padding: 0 8px; line-height: 18px; font-size: 12px; border-radius: 2px;";switch(this.status){case r.STATUS_INVALID:t+="background: #F4E3C7; color: #FF9C01";break;case r.STATUS_ONLINE:t+="background: #DAEBDE; color: #3FC06D";break;default:t+="background: #F0F1F5; color: #979BA5"}return['<span style="'.concat(t,'" data-script-status="').concat(this.status,'">'),r.STATUS_TEXT_MAP[this.scriptStatus],"</span>"].join("")}}e.default=r},10634:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(70969);var n=i(a(33610)),r=i(a(7192)),s=i(a(15399));class o extends r.default{constructor(t){super(),this.templateId=t.templateId,this.templateName=t.templateName,this.scriptId=t.scriptId,this.scriptName=t.scriptName,this.scriptStatus=t.scriptStatus,this.scriptStatusDesc=t.scriptStatusDesc,this.canEdit=t.canEdit,this.scriptVersion=t.scriptVersion,this.scriptVersionId=t.scriptVersionId,this.stepId=t.stepId,this.stepName=t.stepName,this.appId=t.appId,this.scopeType=t.scopeType,this.scopeId=t.scopeId,this.failMsg=t.failMsg||"",this.syncStatus=t.syncStatus}get isSyncFailed(){return 2===this.syncStatus}get statusHtml(){var t="display: inline-block; padding: 0 6px; line-height: 18px; font-size: 12px; border-radius: 2px;";return 1===this.scriptStatus?t+="background: #E5F6EA; color: #3FC06D":t+="background: #F0F1F5; color: #979BA5",'<span style="'.concat(t,'">').concat(this.scriptStatusDesc,"</span>")}get syncIcon(){return o.SYNC_STATUS_ICON_MAP[this.syncStatus]}get syncStatusMsg(){return 1===this.syncStatus?s.default.t("同步成功"):2===this.syncStatus?s.default.t("同步失败"):s.default.t("正在同步")}get syncTry(){return[2===this.syncStatus?"try-show":"try-hide"]}}e.default=o,(0,n.default)(o,"STATUS_TEXT_MAP",{0:s.default.t("未上线"),1:s.default.t("已上线"),2:s.default.t("已下线"),3:s.default.t("已禁用")}),(0,n.default)(o,"SYNC_STATUS_ICON_MAP",{1:"sync-success",2:"sync-failed"})},68830:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(35927),a(6919),a(61026),a(60259),a(7170),a(70969);var n=a(41980),r=i(a(24152)),s=i(a(42392));class o extends s.default{constructor(t){super(),this.appId=t.appId,this.scopeType=t.scopeType,this.scopeId=t.scopeId,this.id=t.id||0,this.name=t.name,this.category=t.category,this.content=t.content,this.createTime=t.createTime,this.creator=t.creator,this.description=t.description,this.typeName=t.typeName,this.lastModifyTime=t.lastModifyTime,this.lastModifyUser=t.lastModifyUser,this.publicScript=Boolean(t.publicScript),this.relatedTaskPlanNum=t.relatedTaskPlanNum||0,this.relatedTaskTemplateNum=t.relatedTaskTemplateNum||0,this.scriptVersionId=t.scriptVersionId,this.status=t.status||0,this.statusDesc=t.statusDesc,this.syncEnabled=Boolean(t.syncEnabled),this.type=t.type||0,this.typeName=(0,n.formatScriptTypeValue)(this.type),this.version=t.version,this.versionDesc=t.versionDesc,this.scriptVersions=this.initScriptVersion(t.scriptVersions),this.tags=this.initTag(t.tags),this.canClone=t.canClone,this.canManage=t.canManage,this.canView=t.canView}get versionText(){return this.getDefaultValue(this.version)}get isOnline(){return this.status===o.STATUS_ONLINE}get isDraft(){return this.status===o.STATUS_DRAFT}get isDisabled(){return this.status===o.STATUS_DISABLED}get isDisabledOnline(){return[o.STATUS_ONLINE,o.STATUS_DISABLED].includes(this.status)}get isEnableRemove(){return this.relatedTaskPlanNum<1&&this.relatedTaskTemplateNum<1}get isVersionEnableRemove(){return![o.STATUS_ONLINE,o.STATUS_OFFLINE].includes(this.status)}get isExecuteDisable(){return!this.version}get tagsText(){return this.getDefaultValue(this.tags.map((function(t){return t.name})).join("，"))}get statusHtml(){var t="display: inline-block; padding: 0 8px; line-height: 18px; font-size: 12px; border-radius: 2px;";switch(this.status){case o.STATUS_INVALID:t+="background: #FFE8C3; color: #FF9C01";break;case o.STATUS_ONLINE:t+="background: #E5F6EA; color: #3FC06D";break;default:t+="background: #F0F1F5; color: #979BA5"}return['<span style="'.concat(t,'" data-script-status="').concat(this.status,'">'),o.STATUS_TEXT_MAP[this.status],"</span>"].join("")}initTag(t){return t?t.map((function(t){return new r.default(t)})):[]}initScriptVersion(t){return t?t.map((function(t){return new o(t)})):[]}}e.default=o},11380:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(35927),a(6919);var n=i(a(33610)),r=i(a(15399)),s=i(a(7192));class o extends s.default{constructor(t){super(),this.description=t.description,this.id=t.id,this.name=t.name,this.createTime=t.createTime,this.creator=t.creator,this.lastModifyTime=t.lastModifyTime,this.lastModifyUser=t.lastModifyUser,this.type=t.type,this.value1=t.value1,this.value2=t.value2,this.value3=t.value3,this.relatedNums=t.relatedNums||0,this.canManage=t.canManage,this.canUse=t.canUse,this.isRelatedLoading=!0}}e.default=o,(0,n.default)(o,"VOUCHER_TYPE_MAP",{APP_ID_SECRET_KEY:r.default.t("AppID+SecretKey"),PASSWORD:r.default.t("单一密码"),USERNAME_PASSWORD:r.default.t("用户名+密码"),SECRET_KEY:r.default.t("单一SecretKey")})},6089:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(7170);var n=i(a(68894)),r=i(a(76830)),s={fetchAccountWhole:t=>n.default.getWhole(t).then((function(t){var e=t.data;return Object.freeze(e.map((function(t){return new r.default(t)})))})),fetchAccountList:t=>n.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new r.default(t))})),e})),createAccount:t=>n.default.create(t),updateAccount:t=>n.default.update(t),deleteAccount:t=>n.default.deleteById(t)};e.default=s},28975:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(37287)),r={fetchInfo:()=>n.default.getData().then((function(t){var e=t.data;return{importJob:e.importJob||[],exportJob:e.exportJob||[]}})),export:t=>n.default.export(t).then((function(t){return t.data})),fetchExportInfo:t=>n.default.getExportById(t).then((function(t){return t.data})),exportDelete:t=>n.default.deleteExportById(t).then((function(t){return t.data})),updateExportComplete:t=>n.default.exportComplete(t).then((function(t){return t.data})),import:t=>n.default.import(t).then((function(t){return t.data})),fetchImportInfo:t=>n.default.getImportById(t).then((function(t){return t.data})),checkImportPassword:t=>n.default.checkImportPassword(t).then((function(t){return t.data})),uploadImportFile:(t,e)=>n.default.putImportFile(t,e).then((function(t){return t.data})),fetchExportFile:t=>n.default.getImportFile(t)};e.default=r},77480:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(7170);var n=i(a(70537)),r=i(a(20274)),s={availableSourceList:t=>n.default.getAvailableList(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new r.default(t))})),e})),fetchAliasCheck(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAliasCheck(t).then((function(t){return t.data}))},fetchFileSourceList:t=>n.default.getWorkTableList(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new r.default(t))})),e})),addSource:t=>n.default.addFileSource(t).then((function(t){return t.data})),updateSource:t=>n.default.updateFileSource(t).then((function(t){return t.data})),getSourceInfo:t=>n.default.getFileSourceInfo(t).then((function(t){var e=t.data;return e=Object.freeze(new r.default(e))})),removeSource:t=>n.default.removeFileSource(t).then((function(t){return t.data})),toggleSourceEnable:t=>n.default.toggleEnable(t).then((function(t){return t.data})),fetchParams:t=>n.default.getParams(t).then((function(t){return t.data}))};e.default=s},82087:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(7170);var n=i(a(33610)),r=i(a(64865)),s=i(a(83053));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={fetchgetListFileNode:t=>r.default.getListFileNode(t).then((function(t){var e=t.data,a=e.metaData,i=e.pageData,n=e.fileSourceInfo;return l(l({},i),{},{metaData:a,fileSourceInfo:n})})),executeAction:t=>r.default.updateAction(t).then((function(t){return t.data})),bucketList:t=>r.default.getList(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new s.default(t))})),e})),fileList:t=>r.default.getFileList(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return new s.default(t)})),e})),deleteBucketFile:t=>r.default.deleteFile(t).then((function(t){return t.data})),deleteBucket:t=>r.default.deleteBucket(t).then((function(t){return t.data})),uploadFiles:t=>r.default.uploadFilesToBucket(t).then((function(t){return t.data}))};e.default=c},46117:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(7170);var n=i(a(67104)),r={fetchBlacklist:t=>n.default.getBlacklist(t).then((function(t){return t.data})),blacklistUpdate:t=>n.default.updateBlacklist(t),blacklistDelete:t=>n.default.deleteBlacklistMember(t),fetchPoliciesList:t=>n.default.getPoliciesList(t).then((function(t){return t.data})),defaultPoliciesUpdate:t=>n.default.updateDefaultPolicies(t),fetchAllUsers(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAllUsers(t).then((function(t){return t.data}))},fetchUsersOfSearch(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n.default.getAllUsers({prefixStr:t,offset:0,limit:10}).then((function(t){return t.data.map((function(t){return{id:t.englishName,name:t.englishName}}))}))},fetchPageTemplate:()=>n.default.getPageTemplate().then((function(t){return t.data})),fetchAllChannel:()=>n.default.getAllChannel().then((function(t){return t.data})),fetchAvailableChannel:()=>n.default.getAvailableChannel().then((function(t){return t.data})),fetchRoleList:()=>n.default.getAllRole().then((function(t){return t.data}))};e.default=r},12e3:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(7170),a(87033),a(35948);var n=i(a(517)),r=i(a(68830)),s=i(a(44181)),o=i(a(10634)),l=i(a(6627)),c={scriptList:t=>n.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new r.default(t))})),e})),scriptDetail:t=>n.default.getDataByScriptId(t).then((function(t){var e=t.data;return Object.freeze(new r.default(e))})),scriptName:t=>n.default.getName(t).then((function(t){return t.data.map((function(t){return{id:t,name:t}}))})),scriptVersionList:t=>n.default.getAllVersion(t).then((function(t){return t.data.map((function(t){return Object.freeze(new r.default(t))}))})),scriptUpdate:t=>n.default.update(t).then((function(t){return t.data})),scriptUpdateMeta:t=>n.default.updateMeta(t).then((function(t){return t.data})),scriptDelete:t=>n.default.deleteById(t).then((function(t){return t.data})),versionDetail:t=>n.default.getDataByVersionId(t).then((function(t){var e=t.data;return new r.default(e)})),scriptVersionOnline:t=>n.default.updateVersionStatusOnline(t),scriptVersionOffline:t=>n.default.updateVersionStatusOffline(t),scriptVersionRemove:t=>n.default.deleteVersionByVersionId(t),scriptTypeList:()=>Promise.resolve(Object.freeze([{id:1,name:"Shell"},{id:2,name:"Bat"},{id:3,name:"Perl"},{id:4,name:"Python"},{id:5,name:"Powershell"},{id:6,name:"SQL"}])),getScriptValidation:t=>n.default.getValidation(t).then((function(t){return t.data.map((function(t){return new s.default(t)}))})),getUploadContent:t=>n.default.uploadGetContent(t).then((function(t){var e=t.data;return Object.freeze(e)})),getOnlineScriptList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAllOnline(t).then((function(t){return t.data}))},getOneOnlineScript(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getOneOnlineByScriptId(t).then((function(t){var e=t.data;return e?new r.default(e):""}))},scriptRefTemplateSteps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getRefTemplateSteps(t).then((function(t){return t.data.map((function(t){return Object.freeze(new o.default(t))}))}))},scriptVersionSync(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.syncScriptVersion(t).then((function(t){return t.data.map((function(t){return Object.freeze(new o.default(t))}))}))},citeInfo:t=>n.default.getCiteInfo(t).then((function(t){var e=t.data;return{citedTaskPlanList:e.citedTaskPlanList.map((function(t){return new l.default(t)})),citedTemplateList:e.citedTemplateList.map((function(t){return new l.default(t)}))}})),fetchBasicInfo:t=>n.default.getBasiceInfoById(t).then((function(t){var e=t.data;return new r.default(e)})),fetchBatchBasicInfo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getBatchBasiceInfoByIds(t).then((function(t){return t.data.map((function(t){return new r.default(t)}))}))},batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.batchUpdateTag(t).then((function(t){return t.data}))},fetchTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getTagCount(t).then((function(t){return t.data}))}};e.default=c},34601:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(7170),a(47140);var n=i(a(29428)),r=i(a(24152)),s={fetchTagList:t=>n.default.getAll(t).then((function(t){return t.data.sort((function(t,e){return t.id-e.id})).map((function(t){return new r.default(t)}))})),fetchTagOfSearch:t=>n.default.getAll({tagName:t}).then((function(t){return t.data.map((function(t){return new r.default(t)}))}))};e.default=s},44068:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(7170),a(87033),a(35948);var n=i(a(59665)),r=i(a(68830)),s=i(a(44181)),o=i(a(10634)),l=i(a(6627)),c={scriptList:(t,e)=>n.default.getAll(t,e).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new r.default(t))})),e})),scriptDetail:(t,e)=>n.default.getDataByScriptId(t,e).then((function(t){var e=t.data;return Object.freeze(new r.default(e))})),scriptName:t=>n.default.getName(t).then((function(t){return t.data.map((function(t){return{id:t,name:t}}))})),scriptVersionList:(t,e)=>n.default.getAllVersion(t,e).then((function(t){return t.data.map((function(t){return Object.freeze(new r.default(t))}))})),scriptUpdate:t=>n.default.update(t).then((function(t){return t.data})),scriptUpdateMeta:t=>n.default.updateMeta(t),scriptDelete:t=>n.default.deleteById(t),versionDetail:(t,e)=>n.default.getDataByVersionId(t,e).then((function(t){var e=t.data;return new r.default(e)})),scriptVersionOnline:t=>n.default.updateVersionStatusOnline(t),scriptVersionOffline:t=>n.default.updateVersionStatusOffline(t),scriptVersionRemove:t=>n.default.deleteVersionByVersionId(t),scriptTypeList:()=>Promise.resolve([{id:1,name:"Shell"},{id:2,name:"Bat"},{id:3,name:"Perl"},{id:4,name:"Python"},{id:5,name:"Powershell"},{id:6,name:"SQL"}]),getScriptValidation:t=>n.default.getValidation(t).then((function(t){return t.data.map((function(t){return new s.default(t)}))})),getUploadContent:t=>n.default.uploadGetContent(t).then((function(t){var e=t.data;return Object.freeze(e)})),getOnlineScriptList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAllOnline(t).then((function(t){return t.data}))},getOneOnlineScript(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getOneOnlineByScriptId(t).then((function(t){var e=t.data;return e?new r.default(e):""}))},scriptRefTemplateSteps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getRefTemplateSteps(t).then((function(t){return t.data.map((function(t){return Object.freeze(new o.default(t))}))}))},scriptVersionSync(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.syncScriptVersion(t).then((function(t){return t.data.map((function(t){return Object.freeze(new o.default(t))}))}))},citeInfo:t=>n.default.getCiteInfo(t).then((function(t){var e=t.data;return{citedTaskPlanList:e.citedTaskPlanList.map((function(t){return new l.default(t)})),citedTemplateList:e.citedTemplateList.map((function(t){return new l.default(t)}))}})),fetchBasicInfo:t=>n.default.getBasiceInfoById(t).then((function(t){var e=t.data;return new r.default(e)})),fetchBatchBasicInfo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getBatchBasiceInfoByIds(t).then((function(t){return t.data.map((function(t){return new r.default(t)}))}))},batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.batchUpdateTag(t).then((function(t){return t.data}))},fetchTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getTagCount(t).then((function(t){return t.data}))}};e.default=c},81865:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(65760)),r={fetchOriginalTemplate:t=>n.default.getOriginalData(t).then((function(t){return t.data})),updateOriginalTemplate:t=>n.default.updateOriginalData(t).then((function(t){return t.data})),fetchRenderScript:t=>n.default.getRenderDataWithVariable(t).then((function(t){return t.data})),fetchTemplate:t=>n.default.getData(t).then((function(t){return t.data})),fetchVaribaleList:t=>n.default.getVariables(t).then((function(t){return t.data}))};e.default=r},60299:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(7170);var n=i(a(86400)),r=i(a(64795)),s=i(a(24152)),o={fetchTagList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return new s.default(t)})),e}))},fetchWholeList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getAllWithBasic(t).then((function(t){return t.data.map((function(t){return new s.default(t)}))}))},batchUpdate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.batchUpdate(t).then((function(t){return t.data}))},fetchTagOfSearch:t=>n.default.getAllWithBasic({name:t}).then((function(t){return t.data.map((function(t){return new s.default(t)}))})),fetchTagTemplateNum(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.getNum(t).then((function(t){return t.data}))},remove(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.remove(t).then((function(t){return t.data}))},updateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.update(t).then((function(t){return t.data}))},createTag:t=>n.default.create(t).then((function(t){return t.data})),checkName(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.checkName(t).then((function(t){return t.data}))}};e.default=o},22910:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(33610));a(7170);var r=i(a(46170)),s=i(a(42213));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var c={taskList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return new s.default(l(l({},t),{},{canCreate:e.canCreate}))})),e}))},taskDetail:(t,e)=>r.default.getDataById(t,e).then((function(t){var e=t.data;return Object.freeze(new s.default(e))})),taskClone:(t,e)=>r.default.getDataById(t,e).then((function(t){var e=t.data;return e.name="".concat(e.name,"_copy"),Object.freeze(new s.default(e,!0))})),taskUpdate:t=>r.default.update(t).then((function(t){return t.data})),taskDelete:t=>r.default.deleteById(t),taskUpdateBasic:t=>r.default.updateBasic(t).then((function(t){return t.data})),taskUpdateFavorite:t=>r.default.updateFavorite(t).then((function(t){return t.data})),taskDeleteFavorite:t=>r.default.deleteFavorite(t).then((function(t){return t.data})),taskCheckName:t=>r.default.getCheckResult(t).then((function(t){return t.data})),fetchBasic:t=>r.default.getBasicById(t).then((function(t){return t.data.map((function(t){return new s.default(t)}))})),batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.batchUpdateTag(t).then((function(t){return t.data}))},fetchTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.getTagCount(t).then((function(t){return t.data}))}};e.default=c},81363:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(7170),a(87033),a(9042);var n=i(a(99237)),r=i(a(77480)),s=i(a(11380)),o={fetchList:t=>n.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return new s.default(t)})),e})),fetchListWithRelate:t=>n.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return new s.default(t)})),e.data.forEach((function(t){r.default.fetchFileSourceList({credentialId:t.id,pageSize:1}).then((function(e){t.relatedNums=e.total,t.isRelatedLoading=!1}))})),e})),update:t=>n.default.update(t),remove:t=>n.default.delete(t)};e.default=o},47124:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(7170),a(87033),a(9042),a(71959);var n=i(a(2187)),r=i(a(64347)),s=i(a(6360)),o={timeTaskUpdate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.update(t)},getDetail(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return n.default.getDataById(t,e).then((function(t){var e=t.data;return new s.default(e)}))},timeTaskDelete(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.deleteDataById(t)},timeTaskList:(t,e)=>n.default.getAll(t,e).then((function(t){var e=t.data;e.data=e.data.map((function(t){return new s.default(t)}));var a=e.data,i=a.map((function(t){return t.taskPlanId})).join(",");return i.length>0&&(r.default.getPlansBasicInfo({planIds:i}).then((function(t){var i={};return t.data.forEach((function(t){i[t.id]=t.name})),a.forEach((function(t){t.isPlanLoading=!1,t.taskPlanName=i[t.taskPlanId]})),e})),n.default.getStatictis({cronJobIds:a.map((function(t){return t.id})).join(",")}).then((function(t){var e=t.data.reduce((function(t,e){return t[e.id]=e,t}),{});a.forEach((function(t){var a=e[t.id]||{},i=a.lastExecuteStatus,n=a.failCount,r=a.totalCount,s=a.lastFailRecord;t.lastExecuteStatus=i,t.isStatictisLoading=!1,t.failCount=n||0,t.totalCount=r||0,t.lastFailRecord=Object.freeze(s||[])}))}))),e})),timeTaskStatusUpdate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.updateStatus(t)},timeTaskCheckName(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getCheckResult(t).then((function(t){return t.data}))},updatePlanTask(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.updateVariableAndEnable(t).then((function(t){return t.data}))},fetchTaskOfPlan(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getDataByPlanId(t).then((function(t){return t.data.map((function(t){return new s.default(t)}))}))},fetchTaskOfPlanBatch(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.getDataByPlanIds(t).then((function(t){return t.data}))},fetchUnlaunchHistory:t=>n.default.getUnlaunchHistory(t).then((function(t){return t.data}))};e.default=o},68894:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(70969);var n=i(a(24875)),r=i(a(79121));class s extends r.default{constructor(){super(),this.module="job-manage/web/account"}getWhole(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.get("".concat(this.path,"/accounts"),{params:t,cache:2e3})}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.get("".concat(this.path,"/accounts/page"),{params:t})}create(t){return n.default.post("".concat(this.path,"/account"),{params:t})}update(t){return n.default.put("".concat(this.path,"/account"),{params:t})}deleteById(t){var e=t.id;return n.default.delete("".concat(this.path,"/account/").concat(e))}getOne(t){var e=t.id;return n.default.get("".concat(this.path,"/account").concat(e))}}var o=new s;e.default=o},37287:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(33610));a(70969);var r=i(a(24875)),s=i(a(79121));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}class c extends s.default{constructor(){super(),this.module="job-backup/web"}getData(){return r.default.get("".concat(this.path,"/backup"))}export(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/backup/export"),{params:t})}getExportById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/backup/export/").concat(t.id))}deleteExportById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.delete("".concat(this.path,"/backup/export/").concat(t.id))}exportComplete(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/backup/export/").concat(t.id,"/complete"),{params:t})}getImportById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/backup/import/").concat(t.id))}import(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.post("".concat(this.path,"/backup/import/").concat(t.id),{params:e})}checkImportPassword(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.post("".concat(this.path,"/backup/import/").concat(t.id,"/password"),{params:e})}putImportFile(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.post("".concat(this.path,"/backup/import/file"),{params:t,payload:l(l({},e),{},{timeout:0})})}getImportFile(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.download("".concat(this.path,"/backup/export/").concat(t.id,"/download"))}}var u=new c;e.default=u},70537:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(70969);var n=i(a(33610)),r=i(a(24875)),s=i(a(79121));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}class l extends s.default{constructor(){super(),this.module="/job-file-gateway/web/fileSource"}getAvailableList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/available/list"),{params:t})}getAliasCheck(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}({},t);return delete e.alias,r.default.get("".concat(this.path,"/checkAlias/").concat(t.alias),{params:e})}getWorkTableList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/workTable/list"),{params:t})}addFileSource(t){return r.default.post("".concat(this.path),{params:t})}updateFileSource(t){return r.default.put("".concat(this.path),{params:t})}getFileSourceInfo(t){var e=t.id;return r.default.get("".concat(this.path,"/ids/").concat(e))}removeFileSource(t){return r.default.delete("".concat(this.path,"/ids/").concat(t.id))}toggleEnable(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.path,"/ids/").concat(t.id,"/enable?flag=").concat(t.flag))}getParams(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/fileSourceParams"),{params:t})}}var c=new l;e.default=c},64865:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(70969);var n=i(a(33610)),r=i(a(24875)),s=i(a(79121));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}class c extends s.default{constructor(){super(),this.module="/job-file-gateway/web/file"}getListFileNode(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.fileSourceId,r.default.get("".concat(this.path,"/fileSourceIds/").concat(t.fileSourceId,"/listFileNode"),{params:e})}updateAction(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.fileSourceId,r.default.post("".concat(this.path,"/fileSourceIds/").concat(t.fileSourceId,"/executeAction"),{params:e})}}var u=new c;e.default=u},67104:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(24875)),r=i(a(79121));class s extends r.default{constructor(){super(),this.module="/job-manage/web/notify"}getBlacklist(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.get("".concat(this.module,"/users/blacklist"),{params:t})}updateBlacklist(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.post("".concat(this.module,"/"),{params:t})}deleteBlacklistMember(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.delete("".concat(this.module,"/"),{params:t})}getPoliciesList(t){return n.default.get("".concat(this.path,"/policies/listDefault"),{params:t})}updateDefaultPolicies(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.post("".concat(this.path,"/saveAppDefaultPolicies"),{params:t})}getAllUsers(t){return n.default.get("".concat(this.module,"/users/list"),{params:t})}getPageTemplate(){return n.default.get("".concat(this.module,"/pageTemplate"))}getAllChannel(){return n.default.get("".concat(this.module,"/notifyChannel/listAll"))}getAvailableChannel(){return n.default.get("".concat(this.module,"/notifyChannel/listAvailable"))}getAllRole(){return n.default.get("".concat(this.module,"/roles/list"))}}var o=new s;e.default=o},517:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(33610));a(70969);var r=i(a(24875));function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l=new class{constructor(){this.module="job-manage/web/public_script"}update(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.module,"/script"),{params:t})}getDataByScriptId(t){var e=t.id;return r.default.get("".concat(this.module,"/script/").concat(e))}deleteById(t){var e=t.id;return r.default.delete("".concat(this.module,"/script/").concat(e),{prefixPath:this.prefixPath})}updateMeta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o({},t);return delete e.id,r.default.put("".concat(this.module,"/script/").concat(t.id,"/info"),{params:e})}getAllVersion(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o({},t);return delete e.id,r.default.get("".concat(this.module,"/script/").concat(t.id,"/scriptVersion/list"),{prefixPath:this.prefixPath,params:e})}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/list"),{params:t})}getName(t){return r.default.get("".concat(this.module,"/scriptNames"),{params:t})}getAllOnline(t){return r.default.get("".concat(this.module,"/scripts/online"),{params:t})}getOneOnlineByScriptId(t){var e=o({},t);return delete e.id,r.default.get("".concat(this.module,"/scriptVersion/online/").concat(t.id),{params:e})}getDataByVersionId(t){var e=t.id;return r.default.get("".concat(this.module,"/scriptVersion/").concat(e))}deleteVersionByVersionId(t){var e=t.versionId;return r.default.delete("".concat(this.module,"/scriptVersion/").concat(e))}updateVersionStatusOnline(t){var e=t.id,a=t.versionId;return r.default.put("".concat(this.module,"/script/").concat(e,"/scriptVersion/").concat(a,"/publish"))}updateVersionStatusOffline(t){var e=t.id,a=t.versionId;return r.default.put("".concat(this.module,"/script/").concat(e,"/scriptVersion/").concat(a,"/disable"))}getValidation(t){return r.default.put("/job-manage/web/script/check",{params:t})}uploadGetContent(t){return r.default.post("/job-manage/web/script/upload",{params:t})}getRefTemplateSteps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/").concat(t.id,"/scriptVersion/").concat(t.scriptVersionId,"/syncTemplateSteps"))}syncScriptVersion(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=o({},t);return delete e.scriptId,delete e.scriptVersionId,r.default.post("".concat(this.module,"/script/").concat(t.scriptId,"/scriptVersion/").concat(t.scriptVersionId,"/sync"),{params:e})}getCiteInfo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/citeInfo"),{params:t})}getBasiceInfoById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/basic/").concat(t.id))}getBatchBasiceInfoByIds(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/basic/list"),{params:t})}batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.module,"/tag"),{params:t})}getTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/tag/count"),{params:t})}};e.default=l},29428:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(24875));var r=new class{constructor(){this.module="/job-manage/web/public_tag"}getAll(t){return n.default.get("".concat(this.module,"/list"),{params:t,cache:2e3})}};e.default=r},59665:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(33610));a(70969);var r=i(a(24875)),s=i(a(79121));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}class c extends s.default{constructor(){super(),this.module="job-manage/web/script"}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/script/list"),{params:t,payload:e})}update(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/script"),{params:t})}getDataByScriptId(t){var e=t.id,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/script/").concat(e),{payload:a})}deleteById(t){var e=t.id;return r.default.delete("".concat(this.path,"/script/").concat(e),{prefixPath:this.prefixPath})}updateMeta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.put("".concat(this.path,"/script/").concat(t.id,"/info"),{params:e})}getAllVersion(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/script/").concat(t.id,"/scriptVersion/list"),{payload:e})}getName(t){return r.default.get("".concat(this.path,"/scriptNames"),{params:t})}getAllOnline(t){return r.default.get("".concat(this.path,"/scripts/online"),{params:t})}getOneOnlineByScriptId(t){var e=l({},t);return delete e.id,r.default.get("".concat(this.path,"/scriptVersion/online/").concat(t.id),{params:e})}getDataByVersionId(t,e){var a=t.id;return r.default.get("".concat(this.path,"/scriptVersion/").concat(a),{payload:e})}deleteVersionByVersionId(t){var e=t.versionId;return r.default.delete("".concat(this.path,"/scriptVersion/").concat(e))}updateVersionStatusOnline(t){var e=t.id,a=t.versionId;return r.default.put("".concat(this.path,"/script/").concat(e,"/scriptVersion/").concat(a,"/publish"))}updateVersionStatusOffline(t){var e=t.id,a=t.versionId;return r.default.put("".concat(this.path,"/script/").concat(e,"/scriptVersion/").concat(a,"/disable"))}getValidation(t){return r.default.put("".concat(this.module,"/check"),{params:t})}uploadGetContent(t){return r.default.post("".concat(this.module,"/upload"),{params:t})}getRefTemplateSteps(t){var e=t.id,a=t.scriptVersionId;return r.default.get("".concat(this.path,"/script/").concat(e,"/scriptVersion/").concat(a,"/syncTemplateSteps"))}syncScriptVersion(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.scriptId,delete e.scriptVersionId,r.default.post("".concat(this.path,"/script/").concat(t.scriptId,"/scriptVersion/").concat(t.scriptVersionId,"/sync"),{params:e})}getCiteInfo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/citeInfo"),{params:t})}getBasiceInfoById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/script/basic/").concat(t.id))}getBatchBasiceInfoByIds(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/script/basic/list"),{params:t})}batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.path,"/tag"),{params:t})}getTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/tag/count"),{params:t})}}var u=new c;e.default=u},65760:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(33610)),r=i(a(24875));function s(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?s(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var l=new class{constructor(){this.module="job-manage/web/customSettings/scriptTemplate"}getOriginalData(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module),{params:t})}updateOriginalData(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.module),{params:t})}getRenderDataWithVariable(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.module,"/render"),{params:t})}getData(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/rendered"),{params:o(o({},t),{},{scopeType:window.PROJECT_CONFIG.SCOPE_TYPE,scopeId:window.PROJECT_CONFIG.SCOPE_ID})})}getVariables(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/variables"),{params:t})}};e.default=l},86400:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(70969);var n=i(a(33610)),r=i(a(24875)),s=i(a(79121));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}class c extends s.default{constructor(){super(),this.module="/job-manage/web/tag"}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/tag/list"),{params:t,cache:2e3})}getAllWithBasic(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/tag/basic/list"),{params:t,cache:2e3})}update(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.put("".concat(this.path,"/tag/").concat(t.id),{params:e})}create(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/tag"),{params:t})}remove(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.delete("".concat(this.path,"/tag/").concat(t.id))}batchUpdate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.put("".concat(this.path,"/tag/").concat(t.id,"/resources"),{params:e})}checkName(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.get("".concat(this.path,"/tag/").concat(t.id,"/checkName"),{params:e})}}var u=new c;e.default=u},64795:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(24875)),r=i(a(79121));class s extends r.default{constructor(){super(),this.module="/job-manage/web"}getNum(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.get("".concat(this.path,"/task/template/tag/count"),{params:t})}}var o=new s;e.default=o},46170:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(33610));a(70969);var r=i(a(24875)),s=i(a(79121));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}class c extends s.default{constructor(){super(),this.module="/job-manage/web"}getAll(t){return r.default.get("".concat(this.path,"/task/template/"),{params:t})}getDataById(t,e){var a=t.id;return r.default.get("".concat(this.path,"/task/template/").concat(a),{payload:e})}update(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.put("".concat(this.path,"/task/template/").concat(t.id),{params:e})}deleteById(t){var e=t.id;return r.default.delete("".concat(this.path,"/task/template/").concat(e))}updateBasic(){var t=l({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return r.default.put("".concat(this.path,"/task/template/").concat(t.id,"/basic"),{params:t})}updateFavorite(){var t=l({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return r.default.put("".concat(this.path,"/task/template/").concat(t.id,"/favorite"))}deleteFavorite(){var t=l({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return r.default.delete("".concat(this.path,"/task/template/").concat(t.id,"/favorite"))}getCheckResult(t){var e=l({},t);return delete e.id,r.default.get("".concat(this.path,"/task/template/").concat(t.id,"/check_name"),{params:e})}getBasicById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/task/template/basic"),{params:t})}batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.path,"/task/template/tag"),{params:t})}getTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/task/template/tag/count"),{params:t})}}var u=new c;e.default=u},99237:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(70969);var n=i(a(24875)),r=i(a(79121));class s extends r.default{constructor(){super(),this.module="job-manage/web/credentials"}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.default.get("".concat(this.path,"/list"),{params:t})}update(t){return n.default.post("".concat(this.path,"/"),{params:t})}delete(t){var e=t.id;return n.default.delete("".concat(this.path,"/ids/").concat(e))}}var o=new s;e.default=o},2187:function(t,e,a){"use strict";a(35927),a(45974),a(87033),a(9042),a(43364);var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=i(a(33610));a(70969);var r=i(a(24875)),s=i(a(79121));function o(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,i)}return a}function l(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?o(Object(a),!0).forEach((function(e){(0,n.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}class c extends s.default{constructor(){super(),this.module="/job-crontab/web"}update(t){var e=t.id;return r.default.put("".concat(this.path,"/cron/job/").concat(e),{params:t})}getDataById(t){var e=t.id,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/cron/job/").concat(e),{payload:a})}deleteDataById(t){var e=t.id;return r.default.delete("".concat(this.path,"/cron/job/").concat(e))}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/cron/job"),{params:t,payload:e})}updateStatus(t){var e=t.id,a=t.enable;return r.default.put("".concat(this.path,"/cron/job/").concat(e,"/status/?enable=").concat(a))}getCheckResult(t){var e=l({},t);return delete e.id,r.default.get("".concat(this.path,"/cron/job/").concat(t.id,"/check_name"),{params:e})}updateVariableAndEnable(t){return r.default.post("".concat(this.path,"/cron/job/batch_update"),{params:t})}getDataByPlanId(t){return r.default.get("".concat(this.path,"/cron/job/plan/").concat(t.id))}getDataByPlanIds(t){return r.default.get("".concat(this.path,"/cron/job/plans/").concat(t.planIds))}getStatictis(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/cron/job/statistic"),{params:t})}getUnlaunchHistory(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.cronTaskId,r.default.get("".concat(this.path,"/cron/job/").concat(t.cronTaskId,"/history"),{params:e})}}var u=new c;e.default=u},36166:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(70969),a(7170),a(63762),a(40782);var n=i(a(33610)),r=i(a(88052)),s=i(a(39986)),o=i(a(15399)),l=a(41980);class c{constructor(t){this.id=t.id||0,this.fileType=t.fileType||"",this.fileLocation=t.fileLocation||[],this.host=new s.default(t.host||{}),this.account=t.account,this.fileSourceId=t.fileSourceId,this.fileSize=t.fileSize||0,this.fileHash=t.fileHash||"",this.isEditAccount=!1,this.isEditVariable=!1,this.loaded=0,this.loadTotal=1,this.uploadStatus="primary"}get isVar(){return s.default.isHostNodeInfoEmpty(this.host.hostNodeInfo)}get isServerFile(){return 1===this.fileType}get isLocalFile(){return 2===this.fileType}get isSourceFile(){return 3===this.fileType}get fileSizeText(){return(0,l.bytePretty)(this.fileSize)}get uploadProgress(){return this.loaded/this.loadTotal}get isHostEmpty(){return s.default.isHostNodeInfoEmpty(this.host.hostNodeInfo)}get realId(){return 1===this.fileType?"".concat(this.fileLocation,"____").concat(this.account):this.fileLocationText}get fileLocationText(){return 2===this.fileType?this.fileLocation.map((function(t){return(0,r.default)(t.split("/"))})).join("\n"):this.fileLocation.join("\n")}get isDisableSave(){return!this.fileLocation||this.fileLocation.length<1||(!this.account||!(!s.default.isHostNodeInfoEmpty(this.host.hostNodeInfo)||""!==this.host.variable))}get variable(){return this.host.variable?this.host.variable:""}get serverDesc(){if(this.host.variable)return this.host.variable;var t=[],e=this.host.hostNodeInfo,a=e.dynamicGroupList,i=e.ipList,n=e.topoNodeList,r=function(t,e){return'<span><span class="strong number">'.concat(t,"</span>").concat(e,"</span>")};return i.length>0&&t.push(r(i.length,o.default.t("台主机.result"))),n.length>0&&t.push(r(n.length,o.default.t("个节点.result"))),a.length>0&&t.push(r(a.length,o.default.t("个分组.result"))),"".concat(t.join('<span class="sep-location"></span>\n'))}}e.default=c,(0,n.default)(c,"statusAgentMap",{1:o.default.t("正常"),0:o.default.t("异常"),2:o.default.t("未安装")}),(0,n.default)(c,"typeServer",1),(0,n.default)(c,"typeLocal",2),(0,n.default)(c,"typeSource",3)},91052:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a(87033),a(95179),a(63762),a(40782),a(58794),a(70969),a(7170),a(70201),a(9042);var n=i(a(56318)),r=i(a(33610));class s{constructor(t){var e=t.type,a=t.value,i=t.min,n=t.max,r=t.repeatInterval;this.type=e,this.value=a||"",this.min=i,this.max=n,this.repeatInterval=r}}(0,r.default)(s,"TYPE_ENUM",1),(0,r.default)(s,"TYPE_RANG",2),(0,r.default)(s,"TYPE_REPEAT",3),(0,r.default)(s,"TYPE_RANG_REPEAT",4);var o=["minute","hour","dayOfMonth","month","dayOfWeek"],l={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"},c={sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},u=function(t){if(l[t])return l[t];var e=t.toString().toLowerCase();return c[e]?c[e]:t},d=function(t){var e=~~t;return e<5?"凌晨".concat(e,"点"):e<12?"上午".concat(e,"点"):12===e?"中午".concat(e,"点"):e<18?"下午".concat(e,"点"):"晚上".concat(e,"点")},h=function(t){var e=~~t;return e<10?"0".concat(e):e},p={minute:{genAll:function(){return"每分钟"},[s.TYPE_ENUM]:function(t){return"".concat(h(t.value),"分")},[s.TYPE_RANG]:function(t){return"".concat(h(t.min),"分到").concat(h(t.max),"分")},[s.TYPE_REPEAT]:function(t){return"*"===t.value?"每隔".concat(t.repeatInterval,"分钟"):"从".concat(h(t.value),"分开始每隔").concat(t.repeatInterval,"分钟")},[s.TYPE_RANG_REPEAT]:function(t){return"从".concat(h(t.min),"分开始到").concat(h(t.max),"分的每").concat(t.repeatInterval,"分钟")}},hour:{genAll:function(){return"每小时"},[s.TYPE_ENUM]:function(t){return"".concat(d(t.value))},[s.TYPE_RANG]:function(t){return"".concat(d(t.min),"到").concat(d(t.max))},[s.TYPE_REPEAT]:function(t){return"*"===t.value?"每隔".concat(t.repeatInterval,"个小时"):"从".concat(d(t.value),"开始每隔").concat(t.repeatInterval,"个小时")},[s.TYPE_RANG_REPEAT]:function(t){return"从".concat(d(t.min),"开始到").concat(d(t.max),"的每").concat(t.repeatInterval,"个小时")}},dayOfMonth:{genAll:function(){return"每天"},[s.TYPE_ENUM]:function(t){return"".concat(t.value,"号")},[s.TYPE_RANG]:function(t){return"".concat(t.min,"号到").concat(t.max,"号")},[s.TYPE_REPEAT]:function(t){return"*"===t.value?"每隔".concat(t.repeatInterval,"天"):"从".concat(t.value,"号开始每隔").concat(t.repeatInterval,"天")},[s.TYPE_RANG_REPEAT]:function(t){return"从".concat(t.min,"号开始到").concat(t.max,"号的每").concat(t.repeatInterval,"天")}},month:{genAll:function(){return"每月"},[s.TYPE_ENUM]:function(t){return"".concat(t.value,"月")},[s.TYPE_RANG]:function(t){return"".concat(t.min,"月到").concat(t.max,"月")},[s.TYPE_REPEAT]:function(t){return"*"===t.value?"每隔".concat(t.repeatInterval,"个月"):"从".concat(t.value,"月开始每隔").concat(t.repeatInterval,"个月")},[s.TYPE_RANG_REPEAT]:function(t){return"从".concat(t.min,"月开始到").concat(t.max,"月的每").concat(t.repeatInterval,"个月")}},dayOfWeek:{genAll:function(){return"每天"},[s.TYPE_ENUM]:function(t){return"每周".concat(u(t.value))},[s.TYPE_RANG]:function(t){return"每周".concat(u(t.min),"到周").concat(u(t.max))},[s.TYPE_REPEAT]:function(t){return"*"===t.value?"每个星期内的每隔".concat(t.repeatInterval,"天"):"从每周".concat(u(t.value),"开始每隔").concat(t.repeatInterval,"天")},[s.TYPE_RANG_REPEAT]:function(t){return"从每周".concat(u(t.min),"开始到周").concat(u(t.max),"的每隔").concat(t.repeatInterval,"天")}}},f=function(t){var e="".concat(t).trim().split(/\s+/),a={};e.forEach((function(t,e){a[o[e]]=function(t){for(var e=[],a=/-/,i=/\//,r="".concat(t).trim().split(","),o=-1;++o<r.length;){var l=r[o];if(a.test(l)&&i.test(l)){var c=l.split("/"),u=(0,n.default)(c,2),d=u[0],h=u[1],p=d.split("-"),f=(0,n.default)(p,2),v=f[0],m=f[1];e.push(new s({type:s.TYPE_RANG_REPEAT,min:v,max:m,repeatInterval:h}))}else if(i.test(l)){var g=l.split("/"),y=(0,n.default)(g,2),_=y[0],b=y[1];e.push(new s({type:s.TYPE_REPEAT,value:_,repeatInterval:b}))}else if(a.test(l)){var x=l.split("-"),w=(0,n.default)(x,2),S=w[0],C=w[1];e.push(new s({type:s.TYPE_RANG,min:S,max:C}))}else e.push(new s({type:s.TYPE_ENUM,value:l}))}return e}(t)}));var i=function(t){var e=function(t){return 1===t.length&&t[0].type===s.TYPE_ENUM&&("*"===t[0].value||"?"===t[0].value)},a={};return a.month=e(t.month)?[]:t.month,e(t.dayOfMonth)&&e(t.month)&&e(t.dayOfWeek)?(a.dayOfMonth=[],delete a.month):(e(t.dayOfWeek)||(a.dayOfWeek=t.dayOfWeek),e(t.dayOfMonth)||(a.dayOfMonth=t.dayOfMonth),!a.dayOfMonth&&!a.dayOfWeek&&a.month.length>0&&(a.dayOfMonth=[])),a.hour=e(t.hour)?[]:t.hour,a.hour.length<1&&a.dayOfMonth&&a.dayOfMonth.length<1&&delete a.dayOfMonth,a.minute=e(t.minute)?[]:t.minute,a.minute.length<1&&a.hour.length<1&&delete a.hour,a}(a);return function(t){var e=function(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))return"";var a=t[e],i=p[e];if(a.length<1)return i.genAll();var n=a.map((function(t){return i[t.type](t)}));if(n.length<2)return n.join("");var r=n.slice(0,-1),s=n.slice(-1);return"".concat(r.join("，"),"和").concat(s[0])};return[e(t,"month"),e(t,"dayOfMonth"),e(t,"dayOfWeek"),e(t,"hour"),e(t,"minute")]}(i)};e.default=function(t){return f(t)}},61681:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.timeTaskNameRule=e.taskTemplateName=e.tagNameRule=e.scriptVersionRule=e.scriptNameRule=e.planNameRule=e.globalVariableNameRule=e.fileSourceAliasNameRule=e.filePathRule=e.accountAliasNameRule=e.IPRule=void 0,a(63762);var n=i(a(15399)),r={validator:function(t){return/^[^\\|/:*<>"?]{1,60}$/.test(t)},message:"".concat(n.default.t("不允许包含这些字符"),'：\\ | / : * < > " ?')};e.scriptNameRule=r;var s={validator:function(t){return/^[A-Za-z0-9\-_#@.]{1,30}$/.test(t)},message:"".concat(n.default.t("只允许包含这些字符"),"：A-Z a-z 0-9 _ - # @ .")};e.scriptVersionRule=s;var o={validator:function(t){return/^[^\\|/:*<>"?]{1,60}$/.test(t)},message:"".concat(n.default.t("不允许包含这些字符"),'：\\ | / : * < > " ?')};e.taskTemplateName=o;var l={validator:function(t){return/^[^\\|/:*<>"?]{1,60}$/.test(t)},message:"".concat(n.default.t("不允许包含这些字符"),'：\\ | / : * < > " ?')};e.planNameRule=l;var c={validator:function(t){return/^[^\\|/:*<>"?]{1,60}$/.test(t)},message:"".concat(n.default.t("不允许包含这些字符"),'：\\ | / : * < > " ?')};e.timeTaskNameRule=c;var u={validator:function(t){return/^[^\\|/:*<>"?]{1,32}$/.test(t)},message:"".concat(n.default.t("不允许包含这些字符"),'：\\ | / : * < > " ?')};e.accountAliasNameRule=u;var d={validator:function(t){return/(^([a-z]|[A-Z]):(?=\\(?![\0-\37<>:"/\\|?*])|\/(?![\0-\37<>:"/\\|?*])|$)|^\\(?=[\\/][^\0-\37<>:"/\\|?*]+)|^(?=(\\|\/)$)|^\.(?=(\\|\/)$)|^\.\.(?=(\\|\/)$)|^(?=(\\|\/)[^\0-\37<>:"/\\|?*]+)|^\.(?=(\\|\/)[^\0-\37<>:"/\\|?*]+)|^\.\.(?=(\\|\/)[^\0-\37<>:"/\\|?*]+))((\\|\/)[^\0-\37<>:"/\\|?*]+|(\\|\/)$)*()|(^\/$|(^(?=\/)|^\.|^\.\.)(\/(?=[^/\0])[^/\0]+)*\/?)$/.test(t)||/^\$\{/.test(t)},message:n.default.t("目标路径格式错误")};e.filePathRule=d;var h={validator:function(t){return/^[\u4e00-\u9fa5A-Za-z0-9\-_!#@$&%^~=+.]{1,20}$/.test(t)},message:n.default.t("标签名支持：汉字 A-Z a-z 0-9 _ - ! # @ $ & % ^ ~ = + .")};e.tagNameRule=h;var p={validator:function(t){return/^[a-zA-Z_][0-9a-zA-Z_-]{0,29}$/.test(t)},message:n.default.t("变量名称：以英文字符、下划线开头；只允许英文字符、数字、下划线、和 -")};e.globalVariableNameRule=p;var f={validator:function(t){return/([0,1]?\d{1,2}|2([0-4][0-9]|5[0-5]))(\.([0,1]?\d{1,2}|2([0-4][0-9]|5[0-5]))){3}/.test(t)},message:n.default.t("IP 格式不正确")};e.IPRule=f;var v={validator:function(t){return/^[^\\|/:*<>"?]{1,32}$/.test(t)},message:"".concat(n.default.t("不允许包含这些字符"),'：\\ | / : * < > " ?')};e.fileSourceAliasNameRule=v},88777:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findParent=void 0;e.findParent=function(t,e){for(var a=t.$parent||t.$root,i=a.$options.name;a&&(!i||i!==e);)(a=a.$parent)&&(i=a.$options.name);return a}},66502:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={namespace:"script",message:{"新建":"New","搜索脚本名称，类型，场景标签，更新人...":"Search by Script Name / Type / Tag / Created By...","脚本语言":"TYPE","线上版本":"ON-LINE","创建时间":"CREATED ON","操作":"ACTIONS","去执行":"Launch","同步":"Sync","更新人：":"Last Modify By：","更新时间：":"LAST MODIFIED ON：","脚本语言：":"TYPE：","确定删除该脚本？":"Are you sure to delete it?","注意！脚本内的所有版本也将被清除":"Caution! All Versions will also be deleted.","删除":"Delete","类型":"Type","脚本名称必填":"Script name is required","删除成功":"Script has been deleted.","操作失败！请前往「版本管理」设置线上版后重试":"Failed! No online version available.","脚本正被作业引用中，无法删除":"Script is related with Jobs, cannot be delete.","显示被作业引用的次数":"Show the related Jobs list","搜索名称，版本号":"Search by Name or Version number...","作业模板":"TEMPLATE NAME","执行方案":"PLAN NAME","引用的版本号":"VERSION No.","引用版本状态":"VERSION STATUS","版本状态":"Status","名称":"NAME","输入版本号":"Type the version number...","版本日志":"ChangeLog","脚本内容":"Contents","提交":"Commit","取消":"Cancel","立即同步":"Synchronize Now","全部重试":"All retry","重试":"Retry","完成":"inish","同步作业模板":"Synchronize job templates","版本号必填":"Version number is required","版本号已存在，请重新输入":"Version number is already exist, please try another one...","操作成功":"Successful","推荐按照该脚本逻辑提供的使用场景来取名...":"Type your script name here...","标签对资源的分类管理有很大帮助":"Select or type any tag you want...","在此处标注该脚本的备注和使用说明":"Type the usage scenario description of this script here...","上传脚本":"Upload","标签名已存在，请重新输入":"Tag name is already exist, please try another one...","脚本版本必填":"Script version number is required","最多仅可 200个字符":"Up to 200 characters...","脚本类型不支持":"Script type not supported","脚本内容不能为空":"Script content is required","脚本名称：":"Name: ","脚本名：":"Name: ","场景标签：":"Tags: ","脚本描述：":"Desc: ","创建人：":"Created By: ","创建时间：":"Created On: ","版本列表":"Versions","该脚本没有线上版本，无法执行":"Failed! No Online version available.","线上版":"Online","版本管理":"Versions","上传文件":"Upload","版本对比":"Diff","直接输入 版本号 或 更新人 进行全局模糊搜索":"Search by Version No. or Modified By...","更新时间":"LAST MODIFIED ON","状态":"STATUS","确定上线该版本？":"Are you sure ?","上线后，之前的线上版本将被置为「已下线」状态，但不影响作业使用":'After going Online, the previous online version will be set to "Offline", but it still can be execute.',"上线":"On","确定禁用该版本？":"Are you sure to ban it ?","一旦禁用成功，线上引用该版本的作业脚本步骤都会执行失败，请务必谨慎操作！":"IMPORTANT! once the version is banned, the job steps that quote to this version will fail to execute, please be careful!","禁用":"Ban","确定删除该版本？":"Are you sure to delete it ?","删除后不可恢复，请谨慎操作！":"Caution! It cannot be restored after deletion.","编辑":"Edit","复制并新建":"Copy New","描述":"Desc","编辑脚本":"Script Editing","新建脚本":"New Script","查看脚本":"View Details","作业模板名称":"Template Name","步骤名称":"Step Name","已选":"Selected","搜索作业模板":"Search job template","版本 ID":" VERSION ID","脚本名称":{label:"Name",colHead:"NAME"},"场景标签":{label:"Tags",colHead:"TAGS"},"被引用":{label:"Related",colHead:"RELATED"},"创建人":{label:"Created By",colHead:"CREATED BY"},"版本号":{label:"Version No.",colHead:"VERSION NO."},"更新人":{label:"Last Modify By",colHead:"LAST MODIFIED BY"},"该脚本没有 “线上版本” 可执行，请前往版本管理内设置。":'There is no "ON-LINE" version yet, go to "Versions" page and set one.',"已上线":"Online","未上线":"Stand-by","已下线":"Offline","已禁用":"Banned","所有关联作业模板已是当前版本":"Associated Job Templates are already using current version","部分作业模板同步失败，请留意":"Some of Job Template is sync failed","同步至":"Update to","将覆盖其它条件":"override other conditions","作业模板引用":"Related by Job Template","执行方案引用":"Related by Job Plan","引用脚本的作业模板":"List of Related Job Template","引用脚本的执行方案":"List of Related Job Plan","共":"","个":{result:"totals"},"请先选择作业模板步骤":"Job Template not selected yet","显示被执行方案引用的次数":"Shows the number of times related by Job Template or plan","是否需要进行执行方案同步？":"Need to synchronize job plan ?","点击":"Click","“立即前往”":'"Go now"',"将进入关联的执行方案同步确认页面，点击":"to enter the job plan synchronization confirmation page, ","“暂时不用”":'"Later"',"结束本次操作并退出。":"to end this operation and quit.","立即前往":"Go now","暂时不用":"Later","脚本内容检测失败":"Script content detection failed","新建版本":"New","确定":"Commit","当前已有 [未上线] 版本，":"「Stand-by」version is exists","返回列表":"go back to list","前往编辑":"edit now","选择载入版本":"Choose version to load","调试":"Debug","标签":"Tags","搜索结果为空":"Search Empty","清空搜索":"Clear Search","全部脚本":"All","未分类":"Non-Tag","编辑标签":"Multi-Edit","范围":"Total","个脚本":"scripts selected","勾选范围里，全部脚本使用":"Applied in all selected scripts","勾选范围里，有":"","个脚本使用":" of the selected scripts applied it.","新建标签":"New","编辑标签成功":"New tag has been created","已有[未上线]版本":"「Stand-by」version is exists"}}},88676:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.genGlobalVariableKey=void 0,a(70969);e.genGlobalVariableKey=function(t){return"".concat(t.type,"#").concat(t.name)}},70034:function(t,e,a){"use strict";var i=a(22696);Object.defineProperty(e,"__esModule",{value:!0}),e.createVariable=void 0;var n,r=i(a(42472)),s=(n=-1,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.TYPE_STRING;return new r.default({id:t||n--,type:e})});e.createVariable=s},57159:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={namespace:"template",message:{"变量类型":"Type","变量名称":"Name","变量描述":"Description","赋值可变":"Value is changeable","必填":"Is Required","执行时必填":"Is Required","初始值":"Default Value","选择主机":"Select Hosts","清空":"Clear","字符串":"String","命名空间":"Namespace","主机列表":"Host","密文":"Ciphertext","变量名仅支持大小写英文字母或下划线 [必填]":"Start with lowercase or _ , followed by lowercase / numbers / _ or -","这里可以备注变量的用途、使用说明等信息 [可选]":"Type the usage description of the variable here...","（必填变量必须设置初始值）":"(If required, default value must be set up.)","变量名称必填":"Variable name is required","变量名称已存在，请重新输入":"Name already exist, please try another one...","初始值必填":"Default Value is required","普通的字符串变量，可跨主机、跨步骤使用":"Ordinary string variable, can be used across hosts and steps","同一主机对象的共享变量，无法跨主机使用":"Shared variable of same host, but cannot be used across hosts","通过拓扑、动态分组或属性筛选的主机对象":"Host variable, filtered by topology, dynamic group or host attr.","经过加密处理的变量，不会以明文形式外显":"Encrypted variable, more safety, will not be displayed in Plaintext","在步骤参数或脚本内使用 ${变量名} 即可获取到变量值":"Variable usage method ${xxxx}","请输入变量的初始值 [可选]":"Set default value of this variable [optional]","变量的值在执行中可变":"Means this variable's value is changeable during task running","查看全局变量":"Variable Details","编辑全局变量":"Edit Variable","新建全局变量":"New Variable","提交":"Commit","保存":"Save","确定删除该全局变量？":"Are you sure to delete it?","若该变量被步骤引用，请及时检查并更新步骤设置":"If this variable is referenced by the step, please check and update the setting in time","推荐按步骤实际处理的场景行为来取名...":"Name it as actual use scenario [Recommended]...","确认人":"Confirmer","输入确认人":"Type the confirmer name...","通知方式":"Notify by","全部":"All","确认描述":"Description","确认人必填":"Confirmer is required","步骤人工确认":"ConfirmationStep","上传限速":"Upload Speed Limit","下载限速":"Download Speed Limit","文件来源":"Source","传输目标":"Destination","步骤分发文件":"FileTransferStep","您有未保存的源文件":"Some source file not save yet","继续提交":"Commit","去保存":"Save","步骤执行脚本":"ScriptStep","步骤类型":"Type","执行脚本":"Script Execution","分发文件":"File Transfer","人工确认":"Confirmation","关闭":"Close","全局变量":{label:"Global Variables",tab:"Global Var."},"已选择":"Seleted","个本地文件":"Local file","个服务器文件":"Remote file","个文件源文件":"Source file","文件路径":"FILEPATH","服务器列表":"HOSTS","Agent 状态":"AGENT STATUS","服务器账号":"ACCOUNT","确认人：":"Confirmer: ","通知方式：":"Notify by: ","确认描述：":"Description: ","超时时长：":"Timeout: ","错误处理：":"Error Ignore: ","上传限速：":"Upload Speed Limit: ","下载限速：":"Download Speed Limit: ","文件来源：":"Source: ","目标路径：":"DST Path: ","重名处理：":"Duplication: ","执行帐号：":"Account: ","执行目标：":"Host: ","脚本来源：":"From: ","脚本引用：":"Quote From: ","去更新":"Update Now","脚本内容：":"Contents: ","脚本参数：":"Params: ","执行账号：":"Account: ","执行目标":"Host","步骤类型：":"Type: ","步骤名称：":"Name: ","查看作业步骤":"Step Details","新建作业步骤":"New Step","编辑作业步骤":"Edit Step","确定删除该作业步骤？":"Are you sure to delete this step?","调试方案的特殊性：不可删除、始终与作业模板同步、不能被API调用、只能在作业平台使用":"Debug Mode: Cannot be deleted, always synchronized with the template, cannot be called by API, and can only be used on JOB WebUI.","执行步骤":"Steps","取消":"Cancel","执行步骤必填":"Select at least one step","操作成功":"Save Successful","执行成功":"Launch Successful","确认离开当前页？":"Are you sure to leave now?","离开将会导致未保存信息丢失":"Your changes will be lost if you close without saving.","执行步骤：":"Steps: ","去执行":"Launch","编辑":"Edit","确认执行？":"Are you sure to launch now?","未设置全局变量，点击确认将直接执行。":"Global Variable is not set, If confirmed will launch directly.","全部作业":"All","标签名不可为空":"Tag name is required","标签名已存在，请重新输入":"Tag name already exist, please try another one...","文件加密密码":"Encrypte Code","文件有效期":"Valid of Days","请输入":"Please type ...","天":"Day","月":"Month","年":"Year","由 6-8 位字符构成":"Composed of at least 6 to 8 letters","由英文字母、数字和特殊符号～!@#$%^()_-+=构成":"Composed of letters, numbers and symbol(～!@#$%^()_-+=)","永久":"PERM.","自定义":"Custom","1 天":"1 Day","3 天":"3 Days","7 天":"7 Days","支持扩展名: job.rar.zip":"Extensions: .rar / .zip","作业模板名称":"TEMPLATE NAME","作业模板 ID":"TEMPLATE ID","状态":"STATUS","新建":"New","导入":"Import","批量":"Multi.","导出":"Export","管理标签":"Tag Manage","输入 作业模板名、标签名 或 更新人 进行搜索...":"Search by Template Name / Tag / Last Modified By...","我的作业":"Mine","更新时间":"LAST MODIFIED ON","操作":"ACTIONS","调试":"Debug","确定删除该作业？":"Are you sure to delete it?","注意！模板下关联的所有执行方案也将被清除":"Caution: Those plans associated with the template will also be deleted.","删除":"Delete","导入作业模板":"Job Template Import","导出设置":"Settings","作业模板名":"Template Name","标签名":"Tags","删除模板成功":"Template has been deleted.","收藏成功":"Favorite Added","取消收藏成功":"Favorite canceled","新建执行方案":"New Plan","方案名称":"Name","推荐按照该执行方案提供的使用场景来取名...":"Name it as actual use scenario [Recommended]...","重置":"Reset","方案名称必填":"Plan name is required","方案名称已存在，请重新输入":"Plan name already exist, please try another one...","变量值":"Value","去同步":"Sync","确定删除该执行方案？":"Are you sure to delete it?","若已设置了定时任务，需要先删除才能操作":"If the plan is related to cron, you need to delete it before you can operate.","编辑执行方案":"Edit Plan","关联了定时任务":"Related to cron","未同步":"Not synchronized","执行":"Launch","无差异":"No Difference","显示差异":"Show Difference","个节点":"node(s)","台主机":"host(s)","个主机":"host(s)","个分组":"group(s)","查看脚本":"View Details","同步前":"Before Synchronization","同步后":"After Synchronization","变量类型：":"Type: ","变量名称：":"Name: ","变量值：":"Value: ","初始值：":"Default: ","变量描述：":"Description: ","赋值可变：":"Value is changeable: ","必填：":"Is Required: ","同步执行方案需要重新确认定时任务的全局变量，不使用的定时任务可以直接停用。":"The synchronous operation needs to reconfirm the global variables of the related Crons.","的全局变量":"Variables confirm","已停用":"OFF","已确认":"DONE","待确认":"AWAIT","无关联的全局变量":"There's no related Global Variables.","已直接确认":"DONE","确认":"Confirm","定时任务确认成功":"Cron has been confirmed.","暂无关联的定时任务":"There's no related Cron task.","下一步":"Next","上一步":"Previous","是否确认同步？":"Are you sure to sync?","关联定时任务的调整将立即生效":"The adjustment of the associated Crons will update immediately.","立即同步":"Sync Now","有定时任务还未确认":"Some cron not confirm yet.","执行方案同步失败":"Sync Failed","同步成功":"Synchronized successfully","定时任务更新失败":"Crons update failed","模板名称：":"Name: ","场景标签：":"Tags: ","模板描述：":"Desc: ","全局变量：":"Global Variable: ","作业步骤：":"Job Step: ","选择方案":"Plans","模板名称必填":"Template name is required","模板名称已存在，请重新输入":"Template name is already exist, please try another one...","确定删除该作业模板？":"Are you sure to delete it?","模板下关联的所有执行方案也将被删除，请谨慎操作！":"Caution! Related job plans will also be deleted.","收起更多设置":"Hide Details","展开更多设置":"More Details","「对作业模板的修改不会立即自动更新执行方案，需要由用户手动触发」":"The change of the Job Template will not directly affect the Plans, it needs to be synchronized by yourself.","输入作业模板名称":"Type the name of your Job Template...","标签对资源的分类管理有很大帮助":"Select or type any tag you want...","模板描述":"Description","填写该模板的功能介绍等详细描述...":"Type the usage scenario description of this job template here...","作业步骤必填":"Job steps is required","目标服务器":"Hosts","服务器文件":"Remote File","步骤":"Step","中":"","变量":"Variable","变量被删除，请重新设置":"Variable has been deleted, try to reset another one.","去设置":"Go To","还差一步「 设置执行方案」，即可执行作业":'One step away from "Set Job Plan" to complete Job configuration.',"设置方案":"Set Job Plan","返回作业列表":"Back To List","作业创建成功":"Successful","编辑保存成功":"Successful","可以通过 “立即同步” 入口前往更新所有执行方案":'Click "Sync Now" to update all Plans of this Job Template',"继续编辑":"Keep Editing","查看方案":"View Plans","模板名已存在，请重新输入":"Template name is already exist, please try another one...","未分类":"Non-Tag","待更新":"Pending Update","传输模式：":"Mode: ","差异总览":"Overview of differences","差异明细":"Difference Details","确认定时任务":"Crons Confirmation","全局变量的初始值不会同步到执行方案":"Global variable's default value will not sync to Job Plan","模板名称":"Name","数组":"Array","数组类型":"Array Type","关联数组":"Associative","索引数组":"Indexed","Array 格式的字符串，支持关联或索引数组":"An array is a data structure that contains a group of elements","标签名更新成功":"Tag name has been modified","请输入标签名...":"Please input tag name...","基本信息":"Information","克隆":"Clone","克隆步骤":"Clone Step","确定删除该步骤？":"Are  you sure to delete it?","删除之后不可恢复，请谨慎操作！":"Caution! It cannot be restored after deletion.","执行方案":{label:"Plans",colHead:"PLAN NAME"},"作业步骤":{label:"Steps",add:"New Steps"},"场景标签":{label:"Tags",colHead:"TAGS"},"更新人":{label:"Last Modify By",colHead:"LAST MODIFIED BY"},"版本对比":"Diff","模板中包含密文变量，请重新设置值":"Template contains ciphertext variable, please reset the value","“密文”类型的变量经过特殊加密处理，为避免信息泄露，克隆后初始值不会还原，需用户重新设置。":'Variable of the "Ciphertext" type are specially encrypted. To protect information security, the default value will not be restored after cloning and need to be reset by yourself.',"我知道了":"Got it","仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案":"","创建人":"CREATED BY","创建时间":"CREATED ON","共有":"","共":"","个步骤，":"steps total, ","定时":"Crons","上一次任务还未完成":"Job export not finished yet","您上一次的任务还在后台运行中，请先等待完成后再发起新的任务。":"Your last export is still running, please wait for it to complete before launching a new task.","查看":"Details","返回":"Back","脚本详情":"Script Details","当前已选中":"","个":{select:"selected.",total:"totals"},"执行方案名称":"JOB PLAN NAME","作业模板":"JOB TEMPLATE","关联定时任务":"RELATED CRON(s)","批量同步":"Sync","我的方案":"Mine","全部确认":"All Confirm","查看差异":"Diff","所属作业模板":"JOB TEMPLATE","请选择作业模板":"Please choose job template","选择要调试的步骤":"Choose your debug steps","取消全选":"Unselect All","全选":"Select All","另存为":"Save As","选择执行步骤":"Steps of the plan","ID只支持数字":"ID is only allow numbers","输入 ID、执行方案名、作业模板名、更新人 或 创建人 进行搜索...":"Search by ID / Plan Name / Template Name / Created by / ...","同步执行方案":"Job Plan Sync from Template","个已就绪":"Ready","个未就绪":"Not Ready","个无需处理":"Already","同步失败":"Failed","重试":"Retry","同步请求失败，请重试":"Sync failed, please try later","没有关联定时任务":"No CRON related","另存为执行方案":"Save as new job plan","请输入执行方案名称":"Please type the new plan name","确定":"Commit","定时执行":"Scheduled","变量值为空":"Empty","另存执行方案成功":"New Job Plan has been created","返回继续调试":"Keep Debug","立即前往查看":"More Detail","已同步至最新版":"All Job Plan(s) is latest now","项执行方案的确认出现问题，请逐个确认":"Job plan(s) confirm failed, please make sure its ready before synchronize","定时任务中必填变量未赋值":"The required fields in the CRON is not assigned","所有方案均已同步至最新版":"The Job Plan(s) above is latest already","新增":"New","无需同步":"Latest","没有定时任务管理权限，请手动确认":"No permission, please apply it first","自动确认定时任务失败，请手动确认":"CRON auto confirm failed, please try again","待补全":"Incomplete","请将「待补全」的步骤信息完善后提交重试":'Please complete the "Incomplete" step and try again',"请选择要同步的执行方案":"No job plan selected yet","已选结果中有执行方案中不需要同步":"Some of the selected job plans is already latest","已选结果中有执行方案中没有权限同步":"Some of the selected job plans you do not have permission","是否结束当前任务？":"Are you sure to leave now ?","你可以选择保留或结束当前任务":"Do you want to KEEP or END this task","（选择保留，后续可以从列表页重新进入）":"(You can re-entry from Job page if you chosen to KEEP the task.)","保留":"KEEP","结束":"END","全局变量的 “初始值” 不会被同步到执行方案":"Default value will not be sync to job plan","1. 作业内文件分发步骤中带有“本地文件”的会一并导出，没有大小限制！但导入时会受到目标环境的文件上传大小限制，请知悉；":'1. The "Local Files" in the Job will be also exported, and there is no size limit! However, when importing, it will be limited by the file upload size of the target environment, please be aware;',"2. 作业内引用的脚本会保留其原始ID，但如果在导入时目标环境找不到对应ID的脚本，将自动转换为「手工录入」的方式导入；":'2. The scripts referenced in the job will retain script ID, but if the target environment cannot find the same script ID when importing, it will be automatically converted to "Custom" mode to import;',"3. 由于导出和导入环境的服务器 IP 地址、人工确认的用户名、通知渠道可能存在差异，请在后续导入后修改对应的信息，以免造成作业不可用的问题；":"3. Since there may be differences IP address, username, and notification channel between export and import environment, please modify the information of specified steps after job imported;","4. 为了保证步骤信息一致性，作业中使用的「执行账号」会以账号名称导出，并在导入时在目标环境中挑选其中一个相同名称的账号进行保存；如果没有相同的账号名存在，请记得导入后及时更改步骤信息，以免造成作业不可用的问题；":'4. "Execution Account" will be exported with the name(not alias name), please make sure the target environment has the same account during import, so as not to cause the problem of unavailability of the job;',"5. 如作业的脚本步骤中使用了「公共函数」，请确保导入的环境中也同样存在对应的函数，以免造成脚本执行逻辑错误；":'5. If the "Public Function" is used in the script step, please ensure that the corresponding function also exists in the imported environment;',"6. 导出的作业模板会保存其原始ID，如需在导入的环境中完全保留作业ID，请在导入作业的流程中按指引进行设置；":"6. The exported job template will completely retain the ID, If you need to retain it in the imported environment, please follow the instructions of the import settings;","7. 因蓝鲸权限中心的规则中对实例的唯一标识是ID，如在导入时选择保留作业ID，请根据需要选择是否回收原有的权限策略；":"7. Because the unique identification of the instance in the rules of the IAM is the ID, if you choose to keep the job ID when importing, please mind the existing data of the imported environment;","8. 在导入时选择保留作业原始ID的前提下，请确保导入的环境中不存在已配置了相同作业ID的定时任务，以免造成影响；":"8. If you choose to keep the job ID when importing, please make sure that there is no Cron task with the same job ID configured in the import environment;",'9. 若导入的作业模板或执行方案名称与目标环境的作业存在冲突的情况，会根据导入时设置的"重名后缀"自动在作业名称后面追加命名。':'9. When the imported job template or plan name is duplicate, the "Name Suffix" will be automatically add to the imported job name.',"用户须知":{header:"Notice",title:""},"选择要导出的作业执行方案":"Select Plans to Export","新窗口打开该执行方案":"Open in New Tab","暂无执行方案":"No Job plan available","压缩包名":"Package Name","压缩包名仅支持大小写英文、数字、- 或 _":"Using uppercase / lowercase letter, numbers, - or _","密文变量值处理":"Ciphertext Variable","保存为空值":"Replace with empty value","保存真实值":"Using original value","文件加密":"Encrypt","是":"Yes","否":"No","密码设置":"Password","请设置6-20个字符密码":"Please type 6 to 20 characters password","二次确认":"Password Confirm","请输入同样的密码，以确认密码准确":"Type the same password for confirm","请输入整数，不可超过365":"","长度6-20个字符":"Length limit in 6 to 20 characters","必须包含英文字母、数字和特殊符号":"Must include three of the following mix of character types: letters, numbers and non-alphanumeric symbols","密码长度为6-20个字符，必须包含英文字母、数字和特殊符号":"Must include three of the following mix of character types: letters, numbers and non-alphanumeric symbols, for example: admin@2020","两次输入的密码不一致":"The passwords are not equal.","密码必填":"Password field is required","确认密码必填":"Password Confirm field is required","文件有效期必填":"Valid of Days","文件有效期须大于1或不超过365":"Valid of Days field is required","压缩包名必填":"Package Name field is required","密文变量值处理必填":"Ciphertext Variable field is required","文件加密必填":"Encrypt field is required","作业导出成功！请及时保存并妥善保管。":"Export Successfully! Please save it immediately.","如果页面未出现提示保存窗口，请点击":"If the page does not prompt to save automatically, please click","重新下载文件":"Download","正在导出作业，请稍候":"Job Exporting, please wait a sec","完成":"Close","下载文件成功":"Download Successful","文件包上传":"Upload","导入内容确认":"Confirmation","导入设置":"Settings","开始导入":"Process","仅支持上传来自作业平台专属导出的压缩包":"File upload allow only .jobexport","上传成功":"File Upload Successful","上传失败":"File Upload Failed","文件包解密确认":"Password of the Package","文件包密码":"Password","请输入上传的文件包密码，完成后点提交验证":"Please type the correct password to decrypt the package","请输入文件包密码":"Password field is required","输入密码":"Enter Password","重新输入密码":"Try again","请点":"Click","文件类型不支持":"File type is not allowed","上传任务已取消":"Upload process has been canceled","导入任务已取消！需要重试请点击":"Upload process has been canceled, click here to retry","不导入":"Cancel","选择要导入的作业执行方案":"Select Plans to Import","导入内容不能为空":"Import Job is empty","重名后缀":"Dupl. Suffix","作业ID处理":"Job ID.","不保留，全部按自增处理":"Auto Increment","保留，ID 冲突时自增处理":"Keep it, Auto increment if exists","保留，ID 冲突时不导入":"Keep it, skip if exists","请输入重名后缀":"Dupl. Suffix field is required","作业导入完成！请及时检查。":"Import Successfully! Please check it immediately.","作业导入出现异常，请稍后再试...":"Import Failed! Please try again later...","正在导入作业，请稍候":"Job Importing, please wait a sec","查看详情":"Open in New Tab","复制日志":"Copy Logs","有一项导入任务正在进行中":"1 import task is processing","有一项导出任务正在进行中":"1 export task is processing","将覆盖其它条件":"override other conditions","引用脚本的作业模板":"List of Related Job Template","引用脚本的执行方案":"List of Related Job Plan","导出内容确认":"Confirmation","开始导出":"Process","你还未选择导出作业":"Job not selected yet","同步方案":"Sync Plans","返回查看":"View Job","该模板下面没有执行方案":"No Job Plan found","该模板下面的所有执行方案已是最新版":"All Job Plans are already Latest","待同步":"Plans need to be sync.","服务器文件-服务器列表":"Remote file - HOSTS","立即查看":"View Job","本地源文件上传未完成":"Local file is still uploading...","本地源文件上传失败":"Local file upload failed","去处理":"To Solve","源文件可能出现同名":"Source Files may have same filename","多文件源传输场景下容易出现同名文件覆盖的问题，你可以在目标路径中使用 [源服务器IP] 的变量来尽可能规避风险。":"Files may have the risk of overwriting with the same name in multi-file source, using built-in variable like [FILESRCIP] in the Dst. path to avoid risks as much as possible.","好的，我调整一下":"Oops... Adjust Now","已知悉，确定执行":"I'm Sure, Keep Going","添加服务器":"Add Hosts","确定立即批量更新？":"Are you sure want to update now ?","请注意！变量值填框留空，即代表设置目标变量为空值。":"Caution! If the input is blank, means the variable value is also empty.","批量编辑变量值":"Multi-Edit","批量编辑变量":"Multi-Edit","请选择要编辑的执行方案":"Please specifi job plan first","已选结果中有执行方案中没有权限编辑":"Some you do not have permission in the selected results","原始值":"OLD VALUE","更新值":"NEW VALUE","编辑成功":"Edit successful","暂无全局变量":"No Global Variable found","所选执行方案，无变量值可编辑":"No Global Variable found","更新范围":"Selected","已选":"","个执行方案，":"Job Plan(s)","来自":"From","个作业模板":"Job Template","选择变量":"Global Var.(s)","编辑变量":"Edit","更新预览":"Preview","移除无效主机":"Remove Invd.","批量编辑":"Multi-Edit","源和目标服务器相同":"","检测到文件传输源和目标服务器是同一批，若是单台建议使用本地 cp 方式效率会更高，请问你是否确定参数无误？":"","是的，确定无误":"I'm Sure, Keep Going","变量使用指引":"How to use Global Var","魔法变量":"Magic Var.","使用指引":"User Guide","标签":"Tags","搜索结果为空":"Search Empty","清空搜索":"Clear Search","编辑标签":"Multi-Edit","范围":"Total","个作业":"templates selected","勾选范围里，全部作业使用":"Applied in all selected templates","勾选范围里，有":"","个作业使用":" of the selected templates applied it.","新建标签":"New Tag","编辑标签成功":"New tag has been created","未引用":"Unquoted","执行方案名称编辑成功":"Plan name has been modified","暂无引用的变量":"There are no variables quoted by this job plan","有":"","个定时任务":" Cron(s) related","点击前往查看":"Click to show more","请至少勾选一个执行步骤":"At least one step need to be selecte","新建模板":"New Template"}}},71780:function(t,e,a){"use strict";a.r(e);e.default="<h1>Instruction</h1> <p>The variables who customized in the Job</p> <h1>How to</h1> <p> Using <code>$</code> and <code>{}</code>, e.g.: <code>${VarName}</code></p> <h1>Where to</h1> <ul> <li><p>String</p> <ol> <li>Available in the script, only <code>shell</code> supported</li> <li><code>Source</code> and <code>Destination</code> in “File Transfer”</li> <li><code>Params</code> field in “Script Execution” step</li> </ol> </li> <li><p>Namespace</p> <p>Available in the script, only <code>shell</code> supported</p> </li> <li><p>Host</p> <p>Not available in script, need to be used with &quot;Magic Var&quot;</p> </li> <li><p>Ciphertext</p> <p>Available in the script, only <code>shell</code> supported</p> </li> <li><p>Array</p> <p>Available in the script, only <code>shell</code> supported</p> </li> </ul> "},80951:function(t,e,a){"use strict";a.r(e);e.default="<h1>说明</h1> <p>即，在作业中用户自定义的全局通用变量</p> <h1>用法</h1> <p> 使用 dollar 符 + 大括号：<code>${变量名}</code></p> <h1>在哪里用</h1> <ul> <li><p>字符串</p> <ol> <li>脚本中直接引用，当前仅支持 <code>shell</code></li> <li>“文件分发”步骤的源 <code>文件路径</code> 和 <code>目标路径</code></li> <li>“执行脚本”步骤的 <code>脚本参数</code></li> </ol> </li> <li><p>命名空间</p> <p>脚本中直接引用，当前仅支持 <code>shell</code></p> </li> <li><p>主机列表</p> <p>无法直接引用，需要配合 “魔法变量”</p> </li> <li><p>密文</p> <p>脚本中直接引用，当前仅支持 <code>shell</code></p> </li> <li><p>数组</p> <p>脚本中直接引用，当前仅支持 <code>shell</code></p> </li> </ul> "},49601:function(t,e,a){"use strict";a.r(e);e.default='<h1>Instruction</h1> <p>Magic Variable is a special variable that built-in specific to the JOB platform, and it&#39;s only supported in the JOB platform</p> <h1>How to</h1> <p> Must declare before use it: <code># job_import {{VarName}}</code></p> <p> After that, using <code>$</code> and <code>{}</code>, e.g.: <code>${VarName}</code></p> <h1>Where to</h1> <p> Only supported in <code>shell</code> script</p> <h1>Variable List</h1> <ul> <li><p>To get value of <code>Host</code> type global variable</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{host_type_var_name}}</span>\n\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${host_type_var_name}</span>\n</code></pre> <p>Result (Example):</p> <pre><code>0:10.1.1.100,1:20.2.2.200\n</code></pre> <p>The result output format is <code>Cloud Area + : + inner IP addr</code>, multiple IPs are separated by commas(,)</p> </li> <li><p>To get value of last step host list</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_LAST_ALL}}</span>\n<span class="hljs-comment"># Get all host list of last step</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_SUCCESS}}</span>\n<span class="hljs-comment"># Get success host list of last step</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_FAIL}}</span>\n<span class="hljs-comment"># Get failure host list of last step</span>\n</code></pre> <p>The result output format is &quot;Cloud Area + : + inner IP addr&quot;, multiple IPs are separated by commas(,)</p> </li> <li><p>To get value of other host&#39;s namespace variable</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_NAMESPACE_ALL}}</span>\n<span class="hljs-comment"># Get value of all namespace variable</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_ALL}</span>\n\n<span class="hljs-comment"># job_import {{JOB_NAMESPACE_varname}}</span>\n<span class="hljs-comment"># Get value of specific namespace variable</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_varname}</span>\n</code></pre> <p>Result (Example):</p> <pre><code class="language-bash"><span class="hljs-comment">### echo ${JOB_NAMESPACE_ALL} (If there have two namespace variables: ns_var1 and ns_var2):</span>\n{<span class="hljs-string">&quot;ns_var1&quot;</span>:{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>},<span class="hljs-string">&quot;ns_var2&quot;</span>:{<span class="hljs-string">&quot;0:20.20.20.1&quot;</span>:<span class="hljs-string">&quot;aaaa&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.2&quot;</span>:<span class="hljs-string">&quot;bbbb&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.3&quot;</span>:<span class="hljs-string">&quot;cccc&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.4&quot;</span>:<span class="hljs-string">&quot;dddd&quot;</span>}}\n  \n<span class="hljs-comment">### echo ${JOB_NAMESPACE_ns_var1}:</span>\n{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>}\n</code></pre> </li> <li><p>Two ways to processing JSON string with Shell (For reference only, it&#39;s recommended to be on-line after debug)：</p> <ol> <li>Using sed &amp; awk : ```bash #!/bin/bash</li> </ol> <p> str=&#39;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#39;</p> <p> function json_parse { local _json=$1 local _key=$2 temp=<code>echo $_json | sed &#39;s/\\\\\\\\\\//\\//g&#39; | sed &#39;s/[{}]//g&#39; | awk -v k=&quot;text&quot; &#39;{n=split($0,a,&quot;,&quot;); for (i=1; i&lt;=n; i++) print a[i]}&#39; | sed &#39;s/\\&quot;\\:\\&quot;/\\|/g&#39; | sed &#39;s/[\\,]/ /g&#39; | sed &#39;s/\\&quot;//g&#39; | grep -w $_key</code> echo ${temp##*|} }</p> <p> json_parse $str ip1 ## Value of ip1 in $str variable, it will be &quot;value1&quot; json_parse $str ns1 ## Value of ns1, it will be {&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;}</p> <pre><code>\n2. Using Python&#x27;s json module :\n```bash\n  #!/bin/bash\n  \n  str=&#x27;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#x27;\n  \n  ### To get value of ip2 in $str variable, it will be &quot;value2&quot;\n  echo ${str} | python -c &#x27;import json,sys;obj=json.load(sys.stdin);print obj[&quot;ns1&quot;][&quot;ip2&quot;]&#x27;\n</code></pre> </li> </ul> '},77127:function(t,e,a){"use strict";a.r(e);e.default='<h1>说明</h1> <p>JOB平台执行引擎提供的特有的变量能力</p> <h1>用法</h1> <p> 脚本中使用，并且需要事先声明：<code>job_import {{变量名}}</code></p> <p> 声明后，同样是使用 dollar 符 + 大括号：<code>${变量名}</code></p> <h1>在哪里用</h1> <p> 当前仅支持在 <code>shell</code> 脚本语言中使用</p> <h1>变量列表</h1> <ul> <li><p>获取 <code>主机列表</code> 类型的全局变量值</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{主机列表的全局变量名}}</span>\n\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${主机列表的全局变量名}</span>\n</code></pre> <p>输出结果（示例）：</p> <pre><code>0:10.1.1.100,1:20.2.2.200\n</code></pre> <p>输出的格式为： <code>云区域ID + 冒号 + 内网IP</code>，多个IP地址以逗号分隔</p> </li> <li><p>获取上一个步骤执行的主机列表</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_LAST_ALL}}</span>\n<span class="hljs-comment"># 获取上一个步骤的所有执行主机IP列表</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_SUCCESS}}</span>\n<span class="hljs-comment"># 获取上一个步骤执行成功的主机IP列表</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_FAIL}}</span>\n<span class="hljs-comment"># 获取上一个步骤执行失败的主机IP列表</span>\n</code></pre> <p>输出的格式同上： <code>云区域ID + 冒号 + 内网IP</code>，多个IP地址以逗号分隔</p> </li> <li><p>获取其他主机的命名空间变量值</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_NAMESPACE_ALL}}</span>\n<span class="hljs-comment"># 获取所有命名空间变量的汇聚值</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_ALL}</span>\n\n<span class="hljs-comment"># job_import {{JOB_NAMESPACE_命名空间变量名}}</span>\n<span class="hljs-comment"># 获取某个命名空间变量的汇聚值</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_命名空间变量名}</span>\n</code></pre> <p>输出结果（示例）：</p> <pre><code class="language-bash"><span class="hljs-comment">### echo ${JOB_NAMESPACE_ALL} 的输出(假定有 ns_var1 和 ns_var2 两个命名空间类型全局变量)：</span>\n{<span class="hljs-string">&quot;ns_var1&quot;</span>:{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>},<span class="hljs-string">&quot;ns_var2&quot;</span>:{<span class="hljs-string">&quot;0:20.20.20.1&quot;</span>:<span class="hljs-string">&quot;aaaa&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.2&quot;</span>:<span class="hljs-string">&quot;bbbb&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.3&quot;</span>:<span class="hljs-string">&quot;cccc&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.4&quot;</span>:<span class="hljs-string">&quot;dddd&quot;</span>}}\n  \n<span class="hljs-comment">### echo ${JOB_NAMESPACE_命名空间变量名} 的输出：</span>\n{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>}\n</code></pre> </li> <li><p>Shell 脚本处理 JSON字符串的两种方式（仅供参考，正式投入使用建议调试确认后再上线）：</p> <p> 方式一：（纯 sed + awk 实现）</p> <pre><code class="language-bash">  <span class="hljs-comment">#!/bin/bash</span>\n  \n  str=<span class="hljs-string">&#x27;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#x27;</span>\n  \n  <span class="hljs-keyword">function</span> json_parse {\n      <span class="hljs-built_in">local</span> _json=<span class="hljs-variable">$1</span>\n      <span class="hljs-built_in">local</span> _key=<span class="hljs-variable">$2</span>\n      temp=`<span class="hljs-built_in">echo</span> <span class="hljs-variable">$_json</span> | sed <span class="hljs-string">&#x27;s/\\\\\\\\\\//\\//g&#x27;</span> | sed <span class="hljs-string">&#x27;s/[{}]//g&#x27;</span> | awk -v k=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-string">&#x27;{n=split($0,a,&quot;,&quot;); for (i=1; i&lt;=n; i++) print a[i]}&#x27;</span> | sed <span class="hljs-string">&#x27;s/\\&quot;\\:\\&quot;/\\|/g&#x27;</span> | sed <span class="hljs-string">&#x27;s/[\\,]/ /g&#x27;</span> | sed <span class="hljs-string">&#x27;s/\\&quot;//g&#x27;</span> | grep -w <span class="hljs-variable">$_key</span>`\n      <span class="hljs-built_in">echo</span> <span class="hljs-variable">${temp##*|}</span>\n  }\n  \n  json_parse <span class="hljs-variable">$str</span> ip1\t\t\t<span class="hljs-comment">## 获取 str 的 json字符串中 ip1 的值，即：value1</span>\n  json_parse <span class="hljs-variable">$str</span> ns1\t\t\t<span class="hljs-comment">## 获取 str 的 json字符串中 ns1 的值，即：{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;}</span>\n</code></pre> <p>方式二：（借助 Python 的 json 模块实现）</p> <pre><code class="language-bash">  <span class="hljs-comment">#!/bin/bash</span>\n  \n  str=<span class="hljs-string">&#x27;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#x27;</span>\n  \n  <span class="hljs-comment">### 获取 str 的 json字符串中 ip2 的值，即：value2</span>\n  <span class="hljs-built_in">echo</span> <span class="hljs-variable">${str}</span> | python -c <span class="hljs-string">&#x27;import json,sys;obj=json.load(sys.stdin);print obj[&quot;ns1&quot;][&quot;ip2&quot;]&#x27;</span>\n</code></pre> </li> </ul> '},46167:function(){},29565:function(){},72709:function(){},2154:function(){},62478:function(){},64832:function(){},85724:function(){},57284:function(){},86918:function(){},28722:function(){},93765:function(){},71556:function(){},61738:function(){},78321:function(){},86255:function(){},47444:function(){},58637:function(){},40096:function(){},84554:function(){},36073:function(){},87902:function(){},21700:function(){},65773:function(){},73145:function(){},2355:function(){},89631:function(){},11810:function(){},2607:function(){},7620:function(){},41260:function(){},631:function(){},12767:function(){},18864:function(){},53553:function(){},6844:function(){},18076:function(){},99184:function(){},34138:function(){},57322:function(){},48876:function(){},77521:function(){},5943:function(){},70338:function(){},53638:function(){},71402:function(){},13573:function(){},88627:function(){},33364:function(){},47616:function(){},64354:function(){},19687:function(){},86717:function(){},689:function(){},46132:function(){},63401:function(){},5686:function(){},28353:function(){},70405:function(){},15672:function(){},76656:function(){},38150:function(){},4010:function(){},22590:function(){},51995:function(){},83773:function(){},54637:function(){},39648:function(){},73769:function(){},59538:function(){},42362:function(){},11188:function(){},79261:function(){},86149:function(){},52734:function(){},91109:function(){},89153:function(){},37731:function(){},28259:function(){},97976:function(){},97014:function(){},79008:function(){},85194:function(){},9772:function(){},17971:function(){},89965:function(){},95722:function(){},94992:function(){},41293:function(){},3104:function(){},13580:function(){},95724:function(){},59421:function(){},13287:function(){},90686:function(){},36310:function(){},53004:function(){},52784:function(){},92691:function(){},70354:function(){},65271:function(){},42463:function(){},33277:function(){},59623:function(){},47087:function(){},21289:function(){},16258:function(){},27064:function(){},33009:function(){},77283:function(){},86940:function(){},57645:function(){},64571:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}]},[a("bk-select",t._b({ref:"select",attrs:{clearable:!1,value:t.value,"ext-popover-cls":"account-select-menu-list",searchable:""},on:{change:t.handleChange,toggle:t.handleClick}},"bk-select",t.$attrs,!1),[t._l(t.accountList,(function(e){return[a("auth-option",{key:e.id,attrs:{id:e.id,name:e.alias,permission:e.canUse,"resource-id":e.id,auth:"account/use"}},[a("div",[t._v(t._s(e.alias))])])]})),t._v(" "),a("template",{slot:"extension"},[a("auth-component",{attrs:{auth:"account/create"}},[a("div",{staticStyle:{cursor:"pointer"},on:{click:t.handleCreate}},[a("i",{staticClass:"bk-icon icon-plus-circle mr10"}),t._v(t._s(t.$t("新建账号"))+"\n                ")]),t._v(" "),a("div",{attrs:{slot:"forbid"},slot:"forbid"},[a("i",{staticClass:"bk-icon icon-plus-circle mr10"}),t._v(t._s(t.$t("新建账号"))+"\n                ")])])],1)],2)],1)};i._withStripped=!0;var n=a(55867),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/account-select/index.vue";var o=s.exports},45673:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X$},builtInScript:function(){return n.nI},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"aceEditor",staticClass:"jd-ace-editor",style:{height:t.height+"px"}},[a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading,opacity:.2},expression:"{ isLoading: isLoading, opacity: 0.2 }"}],ref:"contentWrapper",staticClass:"jb-ace-content",class:{readonly:t.readonly},style:t.boxStyle},[t.showTabHeader?a("div",{staticClass:"jb-ace-title",style:{height:t.tabHeight+"px"}},[t._l(t.tabList,(function(e,i){return[a("div",{key:e,staticClass:"jb-ace-mode-item",class:{active:t.currentLang===i},on:{click:function(e){return t.handleLangChange(i)}}},[t._v("\n                    "+t._s(i)+"\n                ")])]}))],2):t._e(),t._v(" "),a("div",{staticClass:"jb-ace-main"},[a("div",{staticClass:"ace-edit-content"},[a("div",{style:t.editorStyle,attrs:{id:t.selfId}})]),t._v(" "),a("div",{staticClass:"right-side-panel"},[t._t("side")],2)]),t._v(" "),a("div",{staticClass:"jb-ace-action",style:{height:t.tabHeight+"px"}},[t._t("action"),t._v(" "),t.readonly||t.isFullScreen?t._e():[a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("上传脚本"),expression:"$t('上传脚本')"}],attrs:{type:"upload"},on:{click:t.handleUploadScript}}),t._v(" "),a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("历史缓存"),expression:"$t('历史缓存')"}],attrs:{type:"history"},on:{click:function(e){return e.stopPropagation(),t.handleShowHistory.apply(null,arguments)}}})],t._v(" "),t.isFullScreen?t._e():a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("全屏"),expression:"$t('全屏')"}],attrs:{type:"full-screen"},on:{click:t.handleFullScreen}}),t._v(" "),t.isFullScreen?a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("还原"),expression:"$t('还原')"}],attrs:{type:"un-full-screen"},on:{click:t.handleExitFullScreen}}):t._e()],2),t._v(" "),t.isShowHistoryPanel?a("div",{ref:"historyPanel",staticClass:"jb-ace-history-panel",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"panel-header"},[a("div",[t._v(t._s(t.$t("历史缓存")))]),t._v(" "),a("div",{staticClass:"save-btn",on:{click:function(e){return e.stopPropagation(),t.handleSaveHistory.apply(null,arguments)}}},[t._v(t._s(t.$t("手动保存")))])]),t._v(" "),t.historyList.length>0?a("div",{staticStyle:{"max-height":"250px"}},[a("scroll-faker",[a("div",{staticClass:"panel-body"},t._l(t.historyList,(function(e){return a("div",{key:e.name,staticClass:"item"},[a("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"history-name"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"history-action",on:{click:function(a){return t.handleChangeValueFromHistory(e)}}},[t._v(t._s(t.$t("载入")))])])})),0)])],1):a("empty",{staticClass:"history-empty",attrs:{width:100}})],1):t._e(),t._v(" "),a("input",{ref:"upload",staticStyle:{position:"absolute",width:"0",height:"0"},attrs:{type:"file"},on:{change:t.handleStartUpload}})])])};i._withStripped=!0;var n=a(55738),r=n.ZP,s=(a(28208),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/ace-editor/index.vue";var o=s.exports},54606:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isNotPermission?a("div",{staticClass:"apply-permission-page"},[a("div",{staticClass:"page-main"},[a("ask-permission",{attrs:{"permission-list":t.authResult.requiredPermissions}}),t._v(" "),a("div",{staticClass:"footer"},[t.isAppleFlag?a("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:t.handleApply}},[t._v(t._s(t.applyText))]):a("bk-button",{attrs:{theme:"primary"},on:{click:t.handleReload}},[t._v(t._s(t.appliedText))])],1)],1)]):a("div",[t._t("default")],2)};i._withStripped=!0;var n=a(66437),r=n.Z,s=(a(55016),(0,a(35471).Z)(r,i,[],!1,null,"1e14bf56",null));s.options.__file="src/components/apply-permission/apply-section.vue";var o=s.exports},41641:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isShow?a("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("回到顶部"),expression:"$t('回到顶部')"}],staticClass:"job-back-top",class:t.classes,style:t.styles,on:{click:t.handleBackTop}},[a("Icon",{attrs:{type:"up-to-top"}})],1):t._e()};i._withStripped=!0;var n=a(44769),r=n.Z,s=(a(95309),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/back-top/index.vue";var o=s.exports},30545:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"server-panel-action-extend",on:{click:function(t){t.stopPropagation()},mouseleave:t.handleHide}},[a("Icon",{attrs:{type:"more"}}),t._v(" "),a("div",{ref:"popoverContent",staticClass:"server-action-extend-content",on:{click:t.handleWraperClick,mouseover:t.handleShow,mouseleave:t.handleClose}},[t.copyable?[a("div",{staticClass:"action-item",on:{click:t.handleCopyAll}},[t._v(t._s(t.$t("复制全部IP")))]),t._v(" "),a("div",{staticClass:"action-item",on:{click:t.handleCopyFail}},[t._v(t._s(t.$t("复制异常IP")))])]:t._e(),t._v(" "),t._t("default")],2)],1)};i._withStripped=!0;var n=a(56244),r=n.Z,s=(a(30628),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/action-extend.vue";var o=s.exports},45220:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"server-panel-dropdown-menu",on:{click:function(t){t.stopPropagation()},mouseleave:t.handleHide}},[t._t("default"),t._v(" "),a("div",{ref:"popoverContent",staticClass:"server-dropdown-menu-content",on:{mouseover:t.handleShow,mouseleave:t.handleClose}},[t._t("menu")],2)],2)};i._withStripped=!0;var n=a(54073),r=n.Z,s=(a(79652),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/dropdown-menu.vue";var o=s.exports},65442:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"choose-ip-host-table",class:{empty:t.isEmpty}},[a("scroll-faker",{style:t.styles},[a("table",[t.$slots.default?[t._t("appendBefore"),t._v(" "),t._t("default")]:[a("thead",[a("th",{staticStyle:{width:"20%"}},[t._v(t._s(t.$t("主机IP")))]),t._v(" "),a("th",{staticStyle:{width:"20%"}},[t._v(t._s(t.$t("云区域")))]),t._v(" "),a("th",{staticStyle:{width:"150px"}},[t._v(t._s(t.$t("Agent 状态")))]),t._v(" "),a("th",[t._v(t._s(t.$t("主机名")))]),t._v(" "),a("th",[t._v(t._s(t.$t("操作系统名称")))]),t._v(" "),t.editable?a("th",{staticClass:"action-column"},[t._v(t._s(t.$t("操作")))]):t._e()]),t._v(" "),t._t("appendBefore"),t._v(" "),t.renderList.length>0?a("tbody",{staticClass:"valid-list"},t._l(t.renderList,(function(e){return a("tr",{key:e.realId,class:t.diff[e.realId]},[a("td",{staticClass:"table-cell"},[e.repeat?a("span",{staticClass:"repeat",attrs:{"tippy-tips":t.$t("指和其他主机的IP地址相同，但云区域不同")}},[t._v("\n                                "+t._s(t.$t("重复"))+"\n                            ")]):t._e(),t._v(" "),a("div",{staticClass:"cell-text"},[t._v(t._s(e.ip))])]),t._v(" "),a("td",[a("div",{staticClass:"cell-text"},[t._v(t._s(e.cloudAreaInfo.name||"--"))])]),t._v(" "),a("td",[e.alive?a("span",[a("icon",{staticStyle:{"vertical-align":"middle"},attrs:{svg:"",type:"normal"}}),t._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t.$t("正常")))])],1):a("span",[a("icon",{staticStyle:{"vertical-align":"middle"},attrs:{svg:"",type:"abnormal"}}),t._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t.$t("异常")))])],1)]),t._v(" "),a("td",[a("div",{staticClass:"cell-text"},[t._v(t._s(e.ipDesc||"--"))])]),t._v(" "),a("td",[a("div",{staticClass:"cell-text"},[t._v(t._s(e.os||"--"))])]),t._v(" "),t.editable?a("td",{staticClass:"action-column"},[a("bk-button",{attrs:{text:""},on:{click:function(a){return t.handleRemove(e.realId)}}},[t._v(t._s(t.$t("移除")))])],1):t._e()])})),0):t._e()]],2),t._v(" "),t.isShowMorePage?a("div",{staticClass:"list-more",on:{click:t.handlePage}},[t._v("\n            "+t._s(t.$t("查看更多"))+"\n        ")]):t._e()]),t._v(" "),t.isEmpty?a("empty",{attrs:{type:t.emptyType}}):t._e()],1)};i._withStripped=!0;var n=a(79447),r=n.Z,s=(a(43312),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/host-table.vue";var o=s.exports},75016:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mult-input"},[a("div",{ref:"input",staticClass:"input-text-area",style:t.stylees,attrs:{contenteditable:"true"},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,paste:t.handlePaste}}),t._v(" "),t.showPlaceholder?a("div",{staticClass:"mult-input-placeholder",on:{click:t.handleInputFocus}},[t._v(t._s(t.placeholder))]):t._e()])};i._withStripped=!0;var n=a(56689),r=n.Z,s=(a(17263),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/mult-input.vue";var o=s.exports},49557:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("sideslider-box",{staticClass:"server-group-host-preview",attrs:{value:t.value},on:{change:t.handleClose}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("分组预览"))+"——"+t._s(t.data.name))]),t._v(" "),a("div",{attrs:{slot:"desc"},slot:"desc"},[a("statistics-text",{attrs:{data:t.statisticsData}}),t._v(" "),a("action-extend",{attrs:{list:t.list,copyable:""}})],1),t._v(" "),a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"preview-wraper"},[a("host-table",{attrs:{list:t.list}})],1)])};i._withStripped=!0;var n=a(52885),r=n.Z,s=(a(29483),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/preview-group.vue";var o=s.exports},23793:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"choose-ip-business-topology"},[a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.topologyLoading},expression:"{ isLoading: topologyLoading }"}],staticClass:"topology-data"},[a("div",{staticClass:"topology-node-search"},[a("bk-input",{attrs:{placeholder:t.$t("搜索拓扑节点"),"right-icon":"bk-icon icon-search"},on:{input:t.handleNodeSearch}})],1),t._v(" "),a("div",{staticClass:"topology-node-tree"},[a("scroll-faker",[a("div",{staticClass:"wraper"},[a("bk-big-tree",{ref:"tree",attrs:{"show-link-line":"",selectable:"","expand-on-click":!1},on:{"select-change":t.handleNodeChange},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,n=e.data;return a("div",{staticClass:"node-box"},[a("div",{staticClass:"node-name"},[t._v(t._s(i.name))]),t._v(" "),0===i.level?a("div",{staticClass:"node-filter",on:{click:t.handleFilterEmptyToggle}},[t.isRenderEmptyTopoNode?[a("Icon",{attrs:{type:"eye-slash-shape"}}),t._v(" "),a("span",[t._v(t._s(t.$t("隐藏空节点")))])]:[a("Icon",{attrs:{type:"eye-shape"}}),t._v(" "),a("span",[t._v(t._s(t.$t("恢复完整拓扑")))])]],2):t._e(),t._v(" "),a("div",{staticClass:"node-count"},[t._v(t._s(n.payload.count))])])}}])})],1)])],1),t._v(" "),t.isNodeEmpty?a("empty",{staticClass:"topology-empty"}):t._e()],1),t._v(" "),a("div",{staticClass:"host-list"},[a("mult-input",{staticClass:"host-search",attrs:{placeholder:t.$t("输入 主机 IP / 主机名 / 操作系统 / 云区域 进行搜索...")},on:{input:t.handleHostSearch}}),t._v(" "),a("host-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],attrs:{list:t.renderList,"is-search":t.isSearch}},[a("thead",[a("tr",[a("th",{staticStyle:{width:"10.2%"}},[a("bk-checkbox",{attrs:{value:t.isCheckedAll},nativeOn:{click:function(e){return t.handleToggleWholeAll.apply(null,arguments)}}})],1),t._v(" "),a("th",{staticStyle:{width:"18.9%"}},[t._v(t._s(t.$t("主机IP")))]),t._v(" "),a("th",{staticStyle:{width:"12.8%"}},[t._v(t._s(t.$t("云区域")))]),t._v(" "),a("th",{staticStyle:{width:"13.4%"}},[a("div",{staticClass:"head-cell",class:{"is-filtered":""!==t.agentFilter}},[a("span",[t._v(t._s(t.$t("Agent 状态")))]),t._v(" "),a("dropdown-menu",[a("Icon",{staticClass:"filer-flag",attrs:{type:"filter-fill"}}),t._v(" "),a("div",{attrs:{slot:"menu"},slot:"menu"},[a("div",{staticClass:"dropdown-menu-item",class:{active:""===t.agentFilter},on:{click:function(e){return t.handleAgentFiler("")}}},[t._v("\n                                        "+t._s(t.$t("全部"))+"\n                                    ")]),t._v(" "),a("div",{staticClass:"dropdown-menu-item",class:{active:0===t.agentFilter},on:{click:function(e){return t.handleAgentFiler(0)}}},[t._v("\n                                        "+t._s(t.$t("异常"))+"\n                                    ")]),t._v(" "),a("div",{staticClass:"dropdown-menu-item",class:{active:1===t.agentFilter},on:{click:function(e){return t.handleAgentFiler(1)}}},[t._v("\n                                        "+t._s(t.$t("正常"))+"\n                                    ")])])],1)],1)]),t._v(" "),a("th",[t._v(t._s(t.$t("主机名")))]),t._v(" "),a("th",{staticStyle:{width:"14.7%"}},[t._v(t._s(t.$t("操作系统名称")))])])]),t._v(" "),t.renderList.length>0?a("tbody",[t._l(t.renderList,(function(e,i){return[a("tr",{key:e.realId+"_"+i,staticClass:"host-row",on:{click:function(a){return t.handleHostCheck(e)}}},[a("td",[a("bk-checkbox",{attrs:{checked:!!t.checkedMap[e.realId]}})],1),t._v(" "),a("td",[a("div",{staticClass:"cell-text"},[t._v(t._s(e.displayIp))])]),t._v(" "),a("td",[a("div",{staticClass:"cell-text"},[t._v(t._s(e.cloudAreaInfo.name||"--"))])]),t._v(" "),a("td",[e.alive?a("span",[a("icon",{staticStyle:{"vertical-align":"middle"},attrs:{svg:"",type:"normal"}}),t._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t.$t("正常")))])],1):a("span",[a("icon",{staticStyle:{"vertical-align":"middle"},attrs:{svg:"",type:"abnormal"}}),t._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t.$t("异常")))])],1)]),t._v(" "),a("td",[a("div",{staticClass:"cell-text"},[t._v(t._s(e.ipDesc||"--"))])]),t._v(" "),a("td",[a("div",{staticClass:"cell-text"},[t._v(t._s(e.os||"--"))])])])]}))],2):t._e()]),t._v(" "),t.pagination.pageSize>0?a("div",{staticStyle:{padding:"16px 0"}},[a("bk-pagination",{attrs:{align:"right","show-total-count":"","show-limit":!1,count:t.pagination.total,limit:t.pagination.pageSize,current:t.pagination.page,"limit-list":[t.pagination.pageSize],small:""},on:{"update:current":function(e){return t.$set(t.pagination,"page",e)},change:t.handlePageChange}})],1):t._e()],1)])};i._withStripped=!0;var n=a(65728),r=n.Z,s=(a(46772),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/render-business-topology.vue";var o=s.exports},26786:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.topologyLoading},expression:"{\n        isLoading: topologyLoading,\n    }"}],staticClass:"choose-ip-dinamic-business-topology"},[a("div",{staticClass:"node-search"},[a("bk-input",{attrs:{placeholder:t.$t("搜索拓扑节点"),"right-icon":"bk-icon icon-search"},on:{input:t.handleSearch}})],1),t._v(" "),t.emptyTopologyOfAllBusiness?a("empty"):[a("empty",{directives:[{name:"show",rawName:"v-show",value:t.isSearchEmpty,expression:"isSearchEmpty"}],staticClass:"topology-empty"}),t._v(" "),a("div",{staticClass:"topology-node-tree"},[a("scroll-faker",[a("bk-big-tree",{ref:"tree",attrs:{"show-link-line":"","show-checkbox":"","expand-on-click":!1},on:{"check-change":t.handleCheckChange},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.node,n=e.data;return a("div",{staticClass:"node-box"},[a("div",{staticClass:"node-name"},[t._v(t._s(n.name))]),t._v(" "),0===i.level?a("div",{staticClass:"node-filter",on:{click:t.handleFilterEmptyToggle}},[t.isRenderEmptyTopoNode?[a("Icon",{attrs:{type:"eye-slash-shape"}}),t._v(" "),a("span",[t._v(t._s(t.$t("隐藏空节点")))])]:[a("Icon",{attrs:{type:"eye-shape"}}),t._v(" "),a("span",[t._v(t._s(t.$t("恢复完整拓扑")))])]],2):t._e(),t._v(" "),a("div",{staticClass:"node-count"},[t._v(t._s(n.payload.count))])])}}])})],1)],1)]],2)};i._withStripped=!0;var n=a(5052),r=n.Z,s=(a(81352),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/render-dynamic-business-topology.vue";var o=s.exports},77527:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"choose-ip-dynamic-group"},[a("div",{staticClass:"group-search"},[a("bk-input",{attrs:{placeholder:t.$t("搜索分组名称"),"right-icon":"bk-icon icon-search"},on:{input:t.handleGroupSearch}})],1),t._v(" "),t.isLoading?t._e():[t.hasNotGroup?a("div",{staticClass:"group-empty"},[t._v("\n            "+t._s(t.$t("无数据"))+"，"),a("a",{attrs:{href:t.CMDBCreateGroupUrl,target:"_blank"}},[t._v(t._s(t.$t("去创建")))])]):a("div",{staticClass:"group-list"},[a("host-table",{attrs:{list:t.renderList}},[a("thead",[a("tr",[a("th",{staticStyle:{width:"80px"}},[a("div",{staticClass:"head-cell"},[a("bk-checkbox",t._b({nativeOn:{click:function(e){return t.handleToggleWholeAll.apply(null,arguments)}}},"bk-checkbox",t.pageCheckInfo,!1))],1)]),t._v(" "),a("th",{staticStyle:{width:"450px"}},[t._v(t._s(t.$t("分组名称")))]),t._v(" "),a("th",[t._v(t._s(t.$t("操作")))])])]),t._v(" "),t.renderList.length>0?a("tbody",[t._l(t.renderList,(function(e){return[a("tr",{key:e.id,staticClass:"group-row"},[a("td",{on:{click:function(a){return t.handleGroupCheck(e.id)}}},[a("bk-checkbox",{attrs:{checked:t.checkedMap[e.id]}})],1),t._v(" "),a("td",{on:{click:function(a){return t.handleGroupCheck(e.id)}}},[t._v(t._s(e.name))]),t._v(" "),a("td",[a("bk-button",{attrs:{text:""},on:{click:function(a){return t.handlePreview(e)}}},[t._v(t._s(t.$t("预览")))])],1)])]}))],2):t._e()]),t._v(" "),t.pagination.pageSize>0?a("div",{staticStyle:{padding:"16px 0"}},[a("bk-pagination",{attrs:{count:t.pagination.total,align:"right","show-total-count":"","show-limit":!1,limit:t.pagination.pageSize,current:t.pagination.page,"limit-list":[t.pagination.pageSize],small:""},on:{"update:current":function(e){return t.$set(t.pagination,"page",e)},change:t.handlePageChange}})],1):t._e()],1)]],2)};i._withStripped=!0;var n=a(91342),r=n.Z,s=(a(21882),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/render-dynamic-group.vue";var o=s.exports},46438:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"choose-ip-server-ip-input"},[a("div",{on:{click:t.handleInputClick}},[a("bk-input",{ref:"input",class:{"focus-error":t.isFocusError},attrs:{type:"textarea",rows:t.inputRows,value:t.ipInputText,placeholder:t.$t("请输入 IP 地址，多IP可用 空格 换行 ; , |分隔 \n带云区域请用冒号分隔，如（ 0:192.168.1.101 ）")},on:{change:t.handleIPChange}})],1),t._v(" "),a("div",{staticClass:"input-action"},[t.isError?a("div",{staticClass:"input-error"},[a("div",[t._v(t._s(t.$t("以上内容存在错误：")))]),t._v(" "),t.invalidIPList.length>0?a("div",[a("span",[t._v(t._s(t.$t("IP 在本业务下不存在")))]),t._v(" "),a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("标识错误"),expression:"$t('标识错误')"}],staticClass:"error-action",attrs:{type:"ip-audit"},on:{click:t.handleHighlightInvilad}}),t._v(" "),a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("一键清除"),expression:"$t('一键清除')"}],staticClass:"error-action",attrs:{type:"delete"},on:{click:t.handleRemoveInvalid}})],1):t._e(),t._v(" "),t.invalidIPList.length>0&&t.errorIPList.length>0?a("div",[t._v("；")]):t._e(),t._v(" "),t.errorIPList.length>0?a("div",[a("span",[t._v(t._s(t.$t("内容格式错误，无法识别")))]),t._v(" "),a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("标识错误"),expression:"$t('标识错误')"}],staticClass:"error-action",attrs:{type:"ip-audit"},on:{click:t.handleHightlightError}}),t._v(" "),a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("一键清除"),expression:"$t('一键清除')"}],staticClass:"error-action",attrs:{type:"delete"},on:{click:t.handleRemoveError}})],1):t._e()]):t._e(),t._v(" "),a("bk-button",{staticClass:"submit-btn",attrs:{theme:"primary",outline:"",loading:t.isSubmiting},on:{click:t.handleAddHost}},[a("span",[t._v(t._s(t.$t("添加到已选择")))]),t._v(" "),t.inputItemList.length>0?a("div",{ref:"inputNumber",staticClass:"server-input-number"},[a("span",{staticClass:"text"},[t._v(t._s(t.inputItemList.length))])]):t._e()])],1)])};i._withStripped=!0;var n=a(75971),r=n.Z,s=(a(98837),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/render-ip-input.vue";var o=s.exports},29181:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"host-sideslider",duration:300}},[t.value?a("div",[a("div",{staticClass:"sideslider-box",style:t.styles},[a("div",{staticClass:"container",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"box-header"},[a("div",{staticClass:"toggle-btn",on:{click:t.handleClose}},[a("Icon",{staticClass:"btn-flag",attrs:{type:"down-small"}})],1),t._v(" "),a("div",{staticClass:"box-title"},[t._t("title"),t._v(" "),a("div",{staticClass:"desc"},[t._t("desc")],2)],2)]),t._v(" "),a("div",{staticClass:"box-content"},[a("scroll-faker",[t._t("default")],2)],1),t._v(" "),a("div",{staticClass:"box-footer"},[a("bk-button",{attrs:{theme:"primary"},on:{click:t.handleClose}},[t._v(t._s(t.$t("关闭")))])],1)]),t._v(" "),a("div",{staticClass:"box-mask",on:{click:t.handleClose}})])]):t._e()])};i._withStripped=!0;var n=a(75626),r=n.Z,s=(a(88363),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/sideslider-box.vue";var o=s.exports},61007:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"statistics-text"},[t.data.success>0?[t._v("\n        "+t._s(t.$t("正常"))+":"),a("span",{staticClass:"success number"},[t._v(t._s(t.data.success))])]:t._e(),t._v(" "),t.data.fail>0?[t.data.success>0?a("span",{staticStyle:{"padding-left":"16px"}}):t._e(),t._v("\n        "+t._s(t.$t("异常"))+":"),a("span",{staticClass:"error number"},[t._v(t._s(t.data.fail))])]:t._e()],2)};i._withStripped=!0;var n=a(35647),r=n.Z,s=(a(94791),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/components/statistics-text.vue";var o=s.exports},96481:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("lower-component",{attrs:{level:"custom",custom:t.isShowDialog}},[a("jb-dialog",{staticClass:"choose-ip-dialog",attrs:{"mask-close":!1,"esc-close":!1,draggable:!1,width:1240,media:t.mediaWidth},model:{value:t.isShowDialog,callback:function(e){t.isShowDialog=e},expression:"isShowDialog"}},[a("div",{staticClass:"choose-ip-container",style:t.containerStyles},[t.isShowDialog?[a("div",{staticClass:"action-tab"},[a("div",{staticClass:"tab-container"},[a("div",{staticClass:"tab-item",class:{active:"static"===t.activeTab},on:{click:function(e){return t.handleTabChange("static")}}},[t._v("\n                            "+t._s(t.$t("静态 - IP 选择"))+"\n                        ")]),t._v(" "),a("div",{staticClass:"tab-item",class:{active:"dynamic"===t.activeTab},on:{click:function(e){return t.handleTabChange("dynamic")}}},[t._v("\n                            "+t._s(t.$t("动态 - 拓扑选择"))+"\n                        ")]),t._v(" "),a("div",{staticClass:"tab-item",class:{active:"group"===t.activeTab},on:{click:function(e){return t.handleTabChange("group")}}},[t._v("\n                            "+t._s(t.$t("动态 - 分组选择"))+"\n                        ")]),t._v(" "),a("div",{staticClass:"tab-item",class:{active:"input"===t.activeTab},on:{click:function(e){return t.handleTabChange("input")}}},[t._v("\n                            "+t._s(t.$t("手动输入"))+"\n                        ")])])]),t._v(" "),a("div",{staticClass:"action-content",style:t.contentStyles},[a("keep-alive",[a(t.panelCom,{ref:"dataTree",tag:"component",staticClass:"fade-in",attrs:{"preview-id":t.previewId,"topology-node-tree":t.topologyNodeTree,"ip-list":t.ipList,"topo-node-list":t.topoNodeList,"dynamic-group-list":t.dynamicGroupList,"topology-loading":t.isLoading,"dialog-height":t.dialogHeight},on:{"on-group-preview":t.handleGroupPreview,"on-input-change":t.handleInputChange,"on-input-animate":t.handleInputAnimate,"on-change":t.handleChange}})],1)],1)]:t._e()],2),t._v(" "),t.showGroupPreview?[a("preview-group",{attrs:{data:t.previewGroup},model:{value:t.showGroupPreview,callback:function(e){t.showGroupPreview=e},expression:"showGroupPreview"}})]:t._e(),t._v(" "),t.showChoosePreview?[a("preview",{attrs:{host:t.ipList,node:t.topoNodeList,group:t.dynamicGroupList},on:{"on-change":t.handlePreviewChange},model:{value:t.showChoosePreview,callback:function(e){t.showChoosePreview=e},expression:"showChoosePreview"}},[a("div",{attrs:{slot:"desc"},domProps:{innerHTML:t._s(t.actionResult)},slot:"desc"})])]:t._e(),t._v(" "),a("template",{slot:"footer"},[t.error?a("span",{staticClass:"ip-error"},[t._v(t._s(t.error))]):t._e(),t._v(" "),a("div",{staticClass:"choose-result",class:t.currentChangeClass,attrs:{id:t.previewId},domProps:{innerHTML:t._s(t.actionResult)},on:{click:t.handleShowChoosePreview}}),t._v(" "),t.ipInputStatus?a("jb-popover-confirm",{attrs:{title:t.$t("操作确认"),content:t.$t("手动输入框有内容未添加到“已选择”列表，确认结束操作？"),"confirm-handler":t.handleSubmit}},[a("bk-button",{staticClass:"mr10",attrs:{theme:"primary"}},[t._v(t._s(t.$t("确定")))])],1):t._e(),t._v(" "),t.ipInputStatus?t._e():a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",disabled:t.isSubmitDisable},on:{click:t.handleSubmit}},[t._v("\n                "+t._s(t.$t("确定"))+"\n            ")]),t._v(" "),a("bk-button",{on:{click:t.handleCancle}},[t._v(t._s(t.$t("取消")))])],1)],2)],1)};i._withStripped=!0;var n=a(31713),r=n.Z,s=(a(18388),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/index.vue";var o=s.exports},57027:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.value?a("div",{staticClass:"server-preview",attrs:{id:"chooseIPServerPreview"}},[a("div",{staticClass:"preview-header"},[a("div",[t._v(t._s(t.$t("已选项预览")))]),t._v(" "),a("div",{staticClass:"server-description"},[a("span",{domProps:{innerHTML:t._s(t.resultText)}})])]),t._v(" "),a("scroll-faker",{staticClass:"preview-content",staticStyle:{height:"calc(100% - 118px)"}},[a("server-panel",{attrs:{"host-node-info":t.hostNodeInfo,"host-detail-append":t.getElementTarget,editable:"","render-with-empty":""},on:{"on-change":t.handleServerPanelChange}})],1),t._v(" "),a("div",{staticClass:"preview-footer"},[a("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:t.handleSubmit}},[t._v(t._s(t.$t("确定")))]),t._v(" "),a("bk-button",{on:{click:t.handleClose}},[t._v(t._s(t.$t("关闭")))])],1)],1):t._e()};i._withStripped=!0;var n=a(83065),r=n.Z,s=(a(95161),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/preview.vue";var o=s.exports},29637:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"server-panel",class:t.classes},[t.needRender?a("div",{staticClass:"server-result-wraper"},[a("bk-collapse",{model:{value:t.activePanel,callback:function(e){t.activePanel=e},expression:"activePanel"}},[t.hostList.length>0||t.renderWithEmpty?a("server-host",{ref:"host",attrs:{data:t.hostList,editable:t.editable,diff:t.hostDiff},on:{"on-change":t.handleHostChange}}):t._e(),t._v(" "),t.nodeInfo.length>0||t.renderWithEmpty?a("server-node",{ref:"node",attrs:{data:t.nodeInfo,editable:t.editable,diff:t.nodeDiff},on:{"on-view":t.handleView,"on-change":t.handleNodeChange}}):t._e(),t._v(" "),t.groupList.length>0||t.renderWithEmpty?a("server-group",{ref:"group",attrs:{data:t.groupList,editable:t.editable,diff:t.groupDiff},on:{"on-view":t.handleView,"on-change":t.handleGroupChange}}):t._e()],1)],1):t._e(),t._v(" "),a("lower-component",{attrs:{level:"custom",custom:t.showDetail}},[a("host-detail",{attrs:{data:t.viewInfo,append:t.hostDetailAppend},model:{value:t.showDetail,callback:function(e){t.showDetail=e},expression:"showDetail"}})],1),t._v(" "),a("lower-component",{attrs:{level:"custom",custom:t.searchMode}},[a("host-search",{directives:[{name:"show",rawName:"v-show",value:t.searchMode,expression:"searchMode"}],attrs:{data:t.searchData,editable:t.editable},on:{"on-change":t.handleSearchChange}})],1)],1)};i._withStripped=!0;var n=a(55674),r=n.Z,s=(a(15962),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/server-panel.vue";var o=s.exports},66897:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-collapse-item",{attrs:{name:"group"},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}]},[t.isRequestError?t._e():a("host-table",{attrs:{"max-height":410,list:t.list,"append-nums":t.invalidList.length}},[t.invalidList.length>0?a("tbody",{staticClass:"invalid-list",attrs:{slot:"appendBefore"},slot:"appendBefore"},t._l(t.invalidList,(function(e,i){return a("tr",{key:"invalid_"+i},[a("td",{staticClass:"table-cell"},[a("span",{staticClass:"invalid",attrs:{"tippy-tips":t.$t("该分组在配置平台已被删除")}},[t._v(t._s(t.$t("无效")))]),t._v(" "),a("span",[t._v(t._s(e))])]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("--")]),t._v(" "),t.editable?a("td",{staticClass:"action-column"},[a("bk-button",{attrs:{text:""},on:{click:function(e){return t.handleInvalidRemove(i)}}},[t._v("\n                                "+t._s(t.$t("移除"))+"\n                            ")])],1):t._e()])})),0):t._e(),t._v(" "),a("tbody",{staticClass:"valid-list"},t._l(t.list,(function(e,i){return a("tr",{key:i,class:t.diff[e.id]},[a("td",{staticStyle:{width:"40%",cursor:"pointer"},on:{click:function(a){return t.handleView(e.id)}}},[t._v("\n                            "+t._s(e.name)+"\n                        ")]),t._v(" "),a("td",{staticStyle:{width:"150px"}},[a("div",{staticClass:"cell-text"},[t._v("共"),a("span",{staticClass:"number strong"},[t._v(t._s(e.total))]),t._v("台主机")])]),t._v(" "),a("td",{on:{click:function(a){return t.handleView(e.id)}}},[a("statistics-text",{staticStyle:{cursor:"pointer"},attrs:{data:e}})],1),t._v(" "),t.editable?a("td",{staticClass:"action-column"},[a("bk-button",{attrs:{text:""},on:{click:function(e){return t.handleRemove(i)}}},[t._v("\n                                "+t._s(t.$t("移除"))+"\n                            ")])],1):t._e()])})),0)]),t._v(" "),t.isRequestError?a("bk-exception",{staticStyle:{"padding-bottom":"50px"},attrs:{type:"500"}},[a("div",{staticStyle:{display:"flex","font-size":"14px"}},[a("span",[t._v("数据拉取失败，请")]),t._v(" "),a("bk-button",{attrs:{text:""},on:{click:t.handleRefresh}},[t._v("重试")])],1)]):t._e()],1)]},proxy:!0}])},[a("span",{staticClass:"panel-title"},[a("span",[t._v(t._s(t.$t("已选择.result")))]),t._v(" "),a("span",{staticClass:"strong number"},[t._v(t._s(t.data.length))]),t._v(" "),a("span",[t._v(t._s(t.$t("个动态分组")))])]),t._v(" "),t.editable?a("action-extend",[a("div",{staticClass:"action-item",on:{click:t.handleRemoveAll}},[t._v(t._s(t.$t("移除全部")))])]):t._e()],1)};i._withStripped=!0;var n=a(11838),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/choose-ip/view/group.vue";var o=s.exports},54476:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"hostDetail",staticClass:"choose-ip-host-detail"},[a("sideslider-box",{attrs:{value:t.show},on:{change:t.handleClose}},[a("div",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.data.name))]),t._v(" "),a("div",{attrs:{slot:"desc"},slot:"desc"},[a("statistics-text",{attrs:{slot:"desc",data:t.data},slot:"desc"}),t._v(" "),a("action-extend",{attrs:{list:t.list,copyable:""}})],1),t._v(" "),a("host-table",{attrs:{list:t.list}})],1)],1)};i._withStripped=!0;var n=a(58860),r=n.Z,s=(a(65819),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/view/host-detail.vue";var o=s.exports},18164:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"server-search-panel"},[a("div",{staticClass:"search-header"},[a("span",[a("span",[t._v(t._s(t.$t("已筛选出"))),a("span",{staticClass:"strong number"},[t._v(t._s(t.list.length))]),t._v(t._s(t.$t("个IP")))]),t._v(" "),t.statisticsData.fail?a("span",[t._v("（"),a("span",{staticClass:"error"},[t._v(t._s(t.statisticsData.fail))]),t._v(t._s(t.$t("台Agent异常"))+"）")]):t._e()]),t._v(" "),a("action-extend",{attrs:{list:t.list,copyable:""}},[t.editable?[a("div",{staticClass:"action-item",on:{click:t.handleRemoveAll}},[t._v(t._s(t.$t("移除全部")))]),t._v(" "),a("div",{staticClass:"action-item",on:{click:t.handleRemoveFail}},[t._v(t._s(t.$t("移除异常")))])]:t._e()],2)],1),t._v(" "),a("host-table",{attrs:{list:t.list,editable:"","is-search":""},on:{"on-change":t.handleRemoveOne}})],1)};i._withStripped=!0;var n=a(37e3),r=n.Z,s=(a(98022),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/view/host-search.vue";var o=s.exports},41306:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-collapse-item",{attrs:{name:"host"},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}]},[t.isRequestError?t._e():a("host-table",{attrs:{editable:t.editable,list:t.list,"max-height":410,"append-nums":t.invalidList.length,diff:t.diff},on:{"on-change":t.handleRemoveOne}},[t.invalidList.length>0?a("tbody",{staticClass:"invalid-list",attrs:{slot:"appendBefore"},slot:"appendBefore"},t._l(t.invalidList,(function(e){return a("tr",{key:e.realId},[a("td",{staticClass:"table-cell"},[a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("指主机已不属于该业务，或已不存在"),expression:"$t('指主机已不属于该业务，或已不存在')"}],staticClass:"invalid"},[t._v("\n                                "+t._s(t.$t("无效"))+"\n                            ")]),t._v(" "),a("span",[t._v(t._s(e.ip))])]),t._v(" "),a("td",[t._v("--")]),t._v(" "),a("td",[t._v("--")]),t._v(" "),a("td",[t._v("--")]),t._v(" "),a("td",[t._v("--")]),t._v(" "),t.editable?a("td",{staticClass:"action-column"},[a("bk-button",{attrs:{text:""},on:{click:function(a){return t.handleInvalidRemove(e)}}},[t._v(t._s(t.$t("移除")))])],1):t._e()])})),0):t._e()]),t._v(" "),t.isRequestError?a("bk-exception",{staticStyle:{"padding-bottom":"50px"},attrs:{type:"500"}},[a("div",{staticStyle:{display:"flex","font-size":"14px"}},[a("span",[t._v("数据拉取失败，请")]),t._v(" "),a("bk-button",{attrs:{text:""},on:{click:t.handleRefresh}},[t._v("重试")])],1)]):t._e()],1)]},proxy:!0}])},[a("span",{staticClass:"panel-title"},[a("span",[t._v(t._s(t.$t("已选择.result"))),a("span",{staticClass:"strong number"},[t._v(t._s(t.data.length))]),t._v(t._s(t.$t("台主机.result")))]),t._v(" "),t.statisticsData.fail?a("span",[t._v("（"),a("span",{staticClass:"error number"},[t._v(t._s(t.statisticsData.fail))]),t._v(t._s(t.$t("台Agent异常"))+"）")]):t._e()]),t._v(" "),a("action-extend",{attrs:{list:t.list,copyable:"","invalid-list":t.invalidList}},[t.editable?[a("div",{staticClass:"action-item",on:{click:t.handleRemoveAll}},[t._v(t._s(t.$t("移除全部")))]),t._v(" "),a("div",{staticClass:"action-item",on:{click:t.handleRemoveFail}},[t._v(t._s(t.$t("移除异常")))])]:t._e()],2)],1)};i._withStripped=!0;var n=a(34525),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/choose-ip/view/host.vue";var o=s.exports},64784:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-collapse-item",{attrs:{name:"node"},scopedSlots:t._u([{key:"content",fn:function(){return[a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"server-panel-node-view"},[t.isRequestError?t._e():a("host-table",{attrs:{"max-height":410,list:t.list,"append-nums":t.invalidList.length}},[t.invalidList.length>0?a("tbody",{staticClass:"invalid-list",attrs:{slot:"appendBefore"},slot:"appendBefore"},t._l(t.invalidList,(function(e,i){return a("tr",{key:"invalid_"+i},[a("td",{staticClass:"table-cell"},[a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("该节点在配置平台已被删除"),expression:"$t('该节点在配置平台已被删除')"}],staticClass:"invalid"},[t._v("\n                                "+t._s(t.$t("无效"))+"\n                            ")]),t._v(" "),a("span",[t._v(t._s(e.type)+"#"+t._s(e.id))])]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("--")]),t._v(" "),t.editable?a("td",{staticClass:"action-column"},[a("bk-button",{attrs:{text:""},on:{click:function(e){return t.handleInvalidRemove(i)}}},[t._v("\n                                "+t._s(t.$t("移除"))+"\n                            ")])],1):t._e()])})),0):t._e(),t._v(" "),a("tbody",{staticClass:"valid-list"},t._l(t.list,(function(e,i){return a("tr",{key:e.key,class:t.diff[e.key]},[a("td",{staticStyle:{width:"40%",cursor:"pointer"},on:{click:function(a){return t.handleViewHostList(e.key)}}},[a("div",{staticClass:"cell-text"},[t._v("\n                                "+t._s(t.wholePathMap[e.key]||e.name)+"\n                            ")])]),t._v(" "),a("td",{staticStyle:{width:"150px"}},[e.isHostLoading?a("Icon",{staticClass:"loading-status",attrs:{svg:"",type:"sync-pending"}}):a("div",{staticClass:"cell-text"},[a("span",[t._v(t._s(t.$t("共")))]),t._v(" "),a("span",{staticClass:"number strong"},[t._v(t._s(e.total))]),t._v(" "),a("span",[t._v(t._s(t.$t("台主机.result")))])])],1),t._v(" "),a("td",{on:{click:function(a){return t.handleViewHostList(e.key)}}},[e.isHostLoading?t._e():a("statistics-text",{staticStyle:{cursor:"pointer"},attrs:{data:e}})],1),t._v(" "),t.editable?a("td",{staticClass:"action-column"},[a("bk-button",{attrs:{text:""},on:{click:function(e){return t.handleRemoveOne(i)}}},[t._v("\n                                "+t._s(t.$t("移除"))+"\n                            ")])],1):t._e()])})),0)]),t._v(" "),t.isRequestError?a("bk-exception",{staticStyle:{"padding-bottom":"50px"},attrs:{type:"500"}},[a("div",{staticStyle:{display:"flex","font-size":"14px"}},[a("span",[t._v("数据拉取失败，请")]),t._v(" "),a("bk-button",{attrs:{text:""},on:{click:t.handleRefresh}},[t._v("重试")])],1)]):t._e()],1)]},proxy:!0}])},[a("span",{staticClass:"panel-title"},[a("span",[t._v(t._s(t.$t("已选择.result")))]),t._v(" "),a("span",{staticClass:"strong number"},[t._v(t._s(t.data.length))]),t._v(" "),a("span",[t._v(t._s(t.$t("个节点.result")))])]),t._v(" "),t.editable?a("action-extend",[a("div",{staticClass:"action-item",on:{click:t.handleRemoveAll}},[t._v(t._s(t.$t("移除全部")))])]):t._e()],1)};i._withStripped=!0;var n=a(42135),r=n.Z,s=(a(8025),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/choose-ip/view/node.vue";var o=s.exports},15621:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"detailLayout",staticClass:"jb-detail-layout",class:[t.mode,t.layout]},[t._t("default")],2)};i._withStripped=!0;var n=a(74339),r=n.Z,s=(a(67854),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/detail-layout/index.vue";var o=s.exports},4027:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-item",class:"design-layout-"+t.layout},[a("div",{staticClass:"detail-label"},[a("span",[t._v(t._s(t.label))])]),t._v(" "),a("div",{staticClass:"detail-content"},[t._t("default")],2)])};i._withStripped=!0;var n=a(3558),r=n.Z,s=(a(31552),(0,a(35471).Z)(r,i,[],!1,null,"c6328928",null));s.options.__file="src/components/detail-layout/item.vue";var o=s.exports},44492:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"variable-value-error":t.isError}},[a("bk-input",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.descPopover,expression:"descPopover"}],ref:"input",attrs:{value:t.value,readonly:t.readonly},on:{change:t.handleChange}}),t._v(" "),t.isError?a("p",{staticClass:"variable-error"},[t._v(t._s(t.$t("该变量的值必填")))]):t._e()],1)};i._withStripped=!0;var n=a(65788),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/global-variable/edit/array.vue";var o=s.exports},18277:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"variable-type-host",class:{"variable-value-error":t.isError}},[a("div",[a("div",[a("bk-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.descPopover,expression:"descPopover"}],staticClass:"mr10",attrs:{disabled:t.readonly},on:{click:t.handleChooseIp}},[a("Icon",{attrs:{type:"plus"}}),t._v("\n                "+t._s(t.$t("添加服务器"))+"\n            ")],1),t._v(" "),a("bk-button",{directives:[{name:"show",rawName:"v-show",value:t.isNotEmpty,expression:"isNotEmpty"}],attrs:{disabled:t.readonly},on:{click:t.handleClear}},[t._v("\n                "+t._s(t.$t("清空"))+"\n            ")])],1),t._v(" "),a("server-panel",{directives:[{name:"show",rawName:"v-show",value:t.isNotEmpty,expression:"isNotEmpty"}],ref:"choostIP",staticClass:"host-value-panel",attrs:{"host-node-info":t.hostNodeInfo,"detail-fullscreen":"",editable:!t.readonly},on:{"on-change":t.handleChange}}),t._v(" "),t.isError?a("p",{staticClass:"variable-error"},[t._v(t._s(t.$t("该变量的值必填")))]):t._e()],1),t._v(" "),a("choose-ip",{attrs:{"host-node-info":t.hostNodeInfo},on:{"on-change":t.handleChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};i._withStripped=!0;var n=a(93415),r=n.Z,s=(a(52252),(0,a(35471).Z)(r,i,[],!1,null,"6ae70b44",null));s.options.__file="src/components/global-variable/edit/host.vue";var o=s.exports},81920:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"varBox",staticClass:"global-variable-edit-box",class:t.boxClasses},[a("div",{ref:"varName",staticClass:"variable-name"},[a("span",{staticClass:"name-text"},[t._v(t._s(t.data.name))])]),t._v(" "),a("div",{ref:"varValue",staticClass:"variable-value"},[a(t.typeCom,t._g(t._b({ref:"target",tag:"component",attrs:{data:t.data,placement:t.placement}},"component",t.$attrs,!1),t.$listeners))],1)])};i._withStripped=!0;var n=a(45484),r=n.Z,s=(a(85717),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/global-variable/edit/index.vue";var o=s.exports},58333:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"variable-value-error":t.isError}},[a("bk-input",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.descPopover,expression:"descPopover"}],ref:"input",attrs:{value:t.value,readonly:t.readonly},on:{change:t.handleChange}}),t._v(" "),t.isError?a("p",{staticClass:"variable-error"},[t._v("\n        "+t._s(t.$t("该变量的值必填"))+"\n    ")]):t._e()],1)};i._withStripped=!0;var n=a(22392),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/global-variable/edit/namespace.vue";var o=s.exports},38886:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"variable-value-error":t.isError}},[a("bk-input",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.descPopover,expression:"descPopover"}],ref:"input",attrs:{type:"password",value:t.value,readonly:t.readonly},on:{change:t.handleChange}}),t._v(" "),t.isError?a("p",{staticClass:"variable-error"},[t._v("\n        "+t._s(t.$t("该变量的值必填"))+"\n    ")]):t._e()],1)};i._withStripped=!0;var n=a(98886),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/global-variable/edit/password.vue";var o=s.exports},262:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{"variable-value-error":t.isError},staticStyle:{position:"relative"}},[a("bk-input",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.descPopover,expression:"descPopover"}],ref:"input",attrs:{value:t.value,readonly:t.readonly},on:{change:t.handleChange}}),t._v(" "),t.isError?a("p",{staticClass:"variable-error"},[t._v(t._s(t.$t("该变量的值必填")))]):t._e()],1)};i._withStripped=!0;var n=a(93812),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/global-variable/edit/string.vue";var o=s.exports},52189:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"layout",class:t.classes},[t._t("default")],2)};i._withStripped=!0;var n=a(38283),r=n.Z,s=(a(82049),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/global-variable/layout.vue";var o=s.exports},75552:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toggle-display"},[a("div",{staticClass:"action",class:{open:t.isOpen},on:{click:t.handleToggle}},[t.isOpen?[a("Icon",{staticClass:"toggle-arrow",attrs:{type:"angle-double-up"}}),t._v(" "),a("span",[t._v(t._s(t.$t("收起未引用的变量"))+" ("+t._s(t.count)+")")])]:[a("Icon",{staticClass:"toggle-arrow",attrs:{type:"angle-double-down"}}),t._v(" "),a("span",[t._v(t._s(t.$t("展开未引用的变量"))+" ("+t._s(t.count)+")")])]],2),t._v(" "),t.isOpen?a("div",[t._t("default")],2):t._e()])};i._withStripped=!0;var n=a(97471),r=n.Z,s=(a(1538),(0,a(35471).Z)(r,i,[],!1,null,"a75387bc",null));s.options.__file="src/components/global-variable/toggle-display.vue";var o=s.exports},39170:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.data.isEmpty?a("div",[t._v("--")]):a("server-panel",{attrs:{"host-node-info":t.data.defaultTargetValue.hostNodeInfo,"detail-fullscreen":""}})],1)};i._withStripped=!0;var n=a(49517),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/global-variable/view/host.vue";var o=s.exports},97388:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"global-variable-detail",class:t.classes},[a("div",{staticClass:"variable-name"},[a("span",[t._v(t._s(t.data.name)+"：")])]),t._v(" "),a("div",{staticClass:"variable-value"},[a(t.typeCom,t._g(t._b({ref:"value",tag:"component",attrs:{data:t.data}},"component",t.$attrs,!1),t.$listeners))],1)])};i._withStripped=!0;var n=a(14396),r=n.Z,s=(a(32779),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/global-variable/view/index.vue";var o=s.exports},87718:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n    "+t._s(t.data.defaultValue)+"\n")])};i._withStripped=!0;var n=a(86358),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/global-variable/view/text.vue";var o=s.exports},12584:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jb-collapse-item"},[a("bk-collapse-item",t._g(t._b({ref:"collapseItem",attrs:{"hide-arrow":""},scopedSlots:t._u([{key:"default",fn:function(){return[a("Icon",{attrs:{type:t.iconType}}),t._v(" "),a("span",{staticStyle:{display:"none"}},[t._v(t._s(t.iconType))]),t._v(" "),t._t("default")]},proxy:!0},{key:"content",fn:function(){return[t._t("content")]},proxy:!0}],null,!0)},"bk-collapse-item",t.$attrs,!1),t.$listeners))],1)};i._withStripped=!0;var n=a(50188),r=n.Z,s=(a(79012),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/jb-collapse-item/index.vue";var o=s.exports},32660:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jb-edit-host",class:t.mode},[a("div",{staticClass:"render-value-box",on:{click:function(e){return e.stopPropagation(),t.handleBlockShowEdit.apply(null,arguments)}}},[a("div",{staticClass:"value-text"},[t._t("default",(function(){return[a("div",{staticStyle:{"margin-left":"-4px"},domProps:{innerHTML:t._s(t.renderHtml)}})]}),{value:t.localValue})],2),t._v(" "),a("div",{staticClass:"edit-action-box"},[t.isBlock||t.isSubmiting?t._e():a("Icon",{staticClass:"edit-action",attrs:{type:"edit-2"},on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.handleShowEdit.apply(null,arguments))}}}),t._v(" "),t.isSubmiting?a("Icon",{staticClass:"edit-loading",attrs:{type:"loading-circle"}}):t._e()],1)]),t._v(" "),a("choose-ip",{attrs:{"host-node-info":t.localValue.hostNodeInfo},on:{"on-change":t.handleHostChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};i._withStripped=!0;var n=a(25031),r=n.Z,s=(a(4484),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/jb-edit/host.vue";var o=s.exports},36894:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{key:t.value,staticClass:"jb-edit-input",class:t.mode},[t.isEditing?[a("div",{staticClass:"edit-value-box",class:{"edit-error":!!t.error},on:{click:function(t){t.stopPropagation()}}},[a("bk-input",{ref:"input",attrs:{value:t.newVal},on:{change:t.handleInputChange,blur:t.handleInputBlur,keyup:t.handleInputEnter}}),t._v(" "),t.error?a("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.top",value:t.error,expression:"error",modifiers:{top:!0}}],staticClass:"input-edit-info"},[a("Icon",{attrs:{type:"info"}})],1):t._e()],1)]:[a("div",{staticClass:"render-value-box",on:{click:function(e){return e.stopPropagation(),t.handleBlockShowEdit.apply(null,arguments)}}},[a("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"value-text"},[t._t("default",(function(){return[a("span",[t._v(t._s(t.newVal||"--"))])]}),{value:t.newVal})],2),t._v(" "),a("div",{staticClass:"edit-action-box"},[t.isBlock||t.isSubmiting?t._e():a("Icon",{staticClass:"edit-action",attrs:{type:"edit-2"},on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.handleShowEdit.apply(null,arguments))}}}),t._v(" "),t.isSubmiting?a("Icon",{staticClass:"edit-loading",attrs:{type:"loading-circle"}}):t._e()],1)])]],2)};i._withStripped=!0;var n=a(43200),r=n.Z,s=(a(937),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/jb-edit/input.vue";var o=s.exports},53823:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jb-edit-tag",class:{shortcurt:t.shortcurt},on:{click:function(t){t.stopPropagation()}}},[t.isEditing?a("div",{staticClass:"edit-value-box"},[a("jb-tag-select",{ref:"tagSelect",attrs:{value:t.localValue},on:{"on-change":t.handleTagValueChange}})],1):a("div",{staticClass:"render-value-box",on:{click:function(e){return e.stopPropagation(),t.handleTextClick.apply(null,arguments)}}},[a("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],ref:"content",staticClass:"value-text",attrs:{"tag-edit-tag":""}},[t._t("default",(function(){return[t._v(t._s(t.text||"--"))]}),{value:t.text})],2),t._v(" "),t.isLoading?t._e():[t.shortcurt?a("div",{staticClass:"tag-shortcurt-box",on:{click:function(t){t.stopPropagation()}}},[a("div",{staticClass:"shortcurt-action-btn"},[a("Icon",{attrs:{type:"copy"},on:{click:t.handleCopy}}),t._v(" "),a("Icon",{staticClass:"paste-btn",attrs:{type:"paste"},on:{click:t.handlePaste}})],1)]):a("div",{staticClass:"tag-normal-box"},[a("Icon",{staticClass:"edit-action",attrs:{type:"edit-2"},on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.handleEdit.apply(null,arguments))}}})],1)],t._v(" "),t.isLoading?a("Icon",{staticClass:"tag-edit-loading",attrs:{type:"loading-circle"}}):t._e()],2)])};i._withStripped=!0;var n=a(14179),r=n.Z,s=(a(83394),a(88608),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/jb-edit/tag.vue";var o=s.exports},28877:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"jb-edit-textarea",class:t.mode},[t.isEditing?a("div",{on:{click:function(t){t.stopPropagation()}}},[a("jb-textarea",t._b({ref:"input",staticClass:"edit-value-box",attrs:{rows:t.rows},on:{blur:t.handleInputBlur},model:{value:t.newVal,callback:function(e){t.newVal=e},expression:"newVal"}},"jb-textarea",t.$attrs,!1))],1):a("div",{staticClass:"render-value-box",on:{click:function(e){return e.stopPropagation(),t.handleBlockShowEdit.apply(null,arguments)}}},[a("div",{ref:"valueTextBox",staticClass:"render-text-box",style:t.boxStyles,on:{copy:t.handleCopy}},[t._t("default",(function(){return[t._v(t._s(t.renderText))]}),{value:t.newVal}),t._v(" "),t.isShowMore?a("span",{staticClass:"text-whole",on:{click:function(e){return e.stopPropagation(),t.handleExpandAll.apply(null,arguments)}}},[t.isExpand?[a("Icon",{staticStyle:{"font-size":"12px"},attrs:{type:"angle-double-up"}}),t._v(" "),a("span",[t._v("收起")])]:[a("Icon",{staticStyle:{"font-size":"12px"},attrs:{type:"angle-double-down"}}),t._v(" "),a("span",[t._v("展开")])]],2):t._e()],2),t._v(" "),t.readonly?t._e():a("div",{staticClass:"edit-action-box"},[t.isBlock||t.isSubmiting?t._e():a("Icon",{staticClass:"edit-action",attrs:{type:"edit-2"},on:{click:function(e){return e.target!==e.currentTarget?null:(e.stopPropagation(),t.handleShowInput.apply(null,arguments))}}}),t._v(" "),t.isSubmiting?a("Icon",{staticClass:"edit-loading",attrs:{type:"loading-circle"}}):t._e()],1)])])};i._withStripped=!0;var n=a(56828),r=n.Z,s=(a(95185),(0,a(35471).Z)(r,i,[],!1,null,"7f35b0da",null));s.options.__file="src/components/jb-edit/textarea.vue";var o=s.exports},2645:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("search-select",t._g(t._b({ref:"searchSelect",staticClass:"jb-search-select",attrs:{placeholder:t.placeholder,data:t.data,"show-condition":!1,values:t.searchValue},on:{change:t.handleChange}},"search-select",t.$attrs,!1),t.$listeners))};i._withStripped=!0;var n=a(80995),r=n.Z,s=(a(25902),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/jb-search-select/index.vue";var o=s.exports},52113:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",t._b({ref:"searchSelect",staticClass:"jb-bk-search-select",class:{focused:t.focused},on:{click:t.handleSearchSelectClick}},"div",t.$attrs,!1),[a("div",{ref:"wrap",staticClass:"search-select-wrap"},[a("div",{ref:"tagGroup",staticClass:"search-tag-group",style:t.tagGroupStyles},[t._l(t.renderTagList,(function(e,i){return a("render-tag",{key:e.id+"_"+i,ref:"tag",refInFor:!0,attrs:{index:i,data:e},on:{delete:t.handleTagDelete,focus:t.handleInputFocus,change:t.handleTagChange}})})),t._v(" "),t.isShowTagMultLine?a("div",{key:"multPlaceholder",staticClass:"mult-tag-placeholder"},[t._v("...")]):t._e(),t._v(" "),a("div",{key:"input",ref:"input",staticClass:"search-input-box",style:t.searchInputBoxStyles,on:{click:function(t){t.stopPropagation()}}},[a("div",{staticStyle:{position:"absolute",top:"-9999px",left:"-9999px"}},[a("pre",{ref:"realInputContent",staticStyle:{display:"block",font:"inherit",visibility:"hidden"}},[t._v(t._s(t.localValue))])]),t._v(" "),a("div",{staticStyle:{"min-height":"22px","word-break":"break-all","white-space":"normal",visibility:"hidden"}},[t._v(t._s(t.localValue))]),t._v(" "),a("textarea",{directives:[{name:"bk-clickoutside",rawName:"v-bk-clickoutside",value:t.handleInputOutSide,expression:"handleInputOutSide"}],ref:"textarea",staticClass:"input-box",attrs:{placeholder:t.placeholderText,spellcheck:"false"},domProps:{value:t.localValue},on:{focus:t.handleInputFocus,input:t.handleInputChange,keydown:t.handleInputKeydown}})]),t._v(" "),t.focused?t._m(0):t._e()],2),t._v(" "),a("div",{staticClass:"search-nextfix"},[t.isClearable?a("i",{staticClass:"search-clear bk-icon icon-close-circle-shape",on:{click:function(e){return e.target!==e.currentTarget?null:t.handleClearAll.apply(null,arguments)}}}):t._e(),t._v(" "),t._t("nextfix",(function(){return[a("i",{staticClass:"bk-icon icon-search search-nextfix-icon",class:{"is-focus":t.focused},on:{click:function(e){return e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}})]}))],2)]),t._v(" "),t.validateStr.length?a("div",{staticClass:"bk-select-tips"},[t._t("validate",(function(){return[a("i",{staticClass:"bk-icon icon-exclamation-circle-shape select-tips"}),t._v(t._s(t.validateStr||"")+"\n        ")]}))],2):t._e()])};i._withStripped=!0;var n=a(42063),r=n.Z,s=(a(14545),(0,a(35471).Z)(r,i,[function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticStyle:{"margin-top":"4px","font-size":"12px","line-height":"22px",color:"#c4c6cc"}},[t._v("\n                "+t._s(t.inputTips)+"\n            ")])}],!1,null,null,null));s.options.__file="src/components/jb-search-select/search-select/index.vue";var o=s.exports},47939:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return s}});var i=a(17245),n=i.Z,r=(0,a(35471).Z)(n,undefined,undefined,!1,null,null,null);r.options.__file="src/components/jb-search-select/search-select/key-menu.vue";var s=r.exports},60311:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return s}});var i=a(12445),n=i.Z,r=(0,a(35471).Z)(n,undefined,undefined,!1,null,null,null);r.options.__file="src/components/jb-search-select/search-select/render-tag.vue";var s=r.exports},35157:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return s}});var i=a(94359),n=i.Z,r=(0,a(35471).Z)(n,undefined,undefined,!1,null,null,null);r.options.__file="src/components/jb-search-select/search-select/suggest-menu.vue";var s=r.exports},47047:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return s}});var i=a(17851),n=i.Z,r=(0,a(35471).Z)(n,undefined,undefined,!1,null,null,null);r.options.__file="src/components/jb-search-select/search-select/value-menu.vue";var s=r.exports},15578:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"job-tag-select"},[a("bk-select",{ref:"select",attrs:{searchable:"",multiple:"","display-tag":"",clearable:!1,value:t.realValue},on:{change:t.handleChange}},[t._l(t.list,(function(t){return a("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})})),t._v(" "),t.publicScript?t._e():a("template",{slot:"extension"},[a("auth-component",{attrs:{auth:"tag/create"}},[a("div",{on:{click:t.handleCreate}},[a("i",{staticClass:"bk-icon icon-plus-circle mr10"}),t._v(t._s(t.$t("新建标签"))+"\n                ")]),t._v(" "),a("div",{attrs:{slot:"forbid"},slot:"forbid"},[a("i",{staticClass:"bk-icon icon-plus-circle mr10"}),t._v(t._s(t.$t("新建标签"))+"\n                ")])])],1)],2),t._v(" "),a("lower-component",{attrs:{level:"custom",custom:t.isShowCreate}},[a("operation-tag",{on:{"on-change":t.handleTagNew},model:{value:t.isShowCreate,callback:function(e){t.isShowCreate=e},expression:"isShowCreate"}})],1)],1)};i._withStripped=!0;var n=a(41541),r=n.Z,s=(a(50114),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/jb-tag-select/index.vue";var o=s.exports},6922:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"jb-user-selector",class:{disabled:t.isLoading}},[t.isLoading?t._e():a("user-selector",t._b({attrs:{value:t.defaultValue,"disabled-users":t.disabledUsers,"list-scroll-height":300,"history-key":t.historyKey,"default-alternate":t.formatDefaultAlternate,"fuzzy-search-method":t.handleFuzzySearch,"render-tag":t.renderTag,"render-list":t.renterMerberItem},on:{change:t.handleChange}},"user-selector",t.$attrs,!1))],1)};i._withStripped=!0;var n=a(31185),r=n.Z,s=(a(36467),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/jb-user-selector/index.vue";var o=s.exports},80712:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(t,e){var a=e._c;return a("div",{staticClass:"list-action-layout"},[a("div",{staticClass:"right-box"},[e._t("default")],2),e._v(" "),a("div",{staticClass:"left-box"},[e._t("right")],2)])};i._withStripped=!0;a(26151);var n=(0,a(35471).Z)({},i,[],!0,null,null,null);n.options.__file="src/components/list-action-layout/index.vue";var r=n.exports},47009:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-operation-extend"},[a("Icon",{staticClass:"icon",attrs:{type:"more"}}),t._v(" "),a("div",{ref:"content",staticClass:"list-operation-extend-wrapper",on:{click:t.handleClick}},[t._t("default")],2)],1)};i._withStripped=!0;var n=a(43462),r=n.Z,s=(a(94348),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/list-operation-extend/index.vue";var o=s.exports},60174:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-dialog",{staticClass:"job-tag-create-dialog",attrs:{value:t.value,title:t.dialogInfo.title,"header-position":"left","mask-close":!1,width:480}},[t.value?a("jb-form",{ref:"formRef",staticStyle:{"margin-top":"5px"},attrs:{model:t.formData,"form-type":"vertical",rules:t.rules}},[a("jb-form-item",{attrs:{label:t.$t("标签名称"),required:"",property:"name"}},[a("jb-input",{attrs:{maxlength:20,"native-attributes":{autofocus:!0}},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:t.$t("描述")}},[a("bk-input",{attrs:{type:"textarea",maxlength:100},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1)],1):t._e(),t._v(" "),a("template",{slot:"footer"},[a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",loading:t.isSubmiting},on:{click:t.handleSubmit}},[t._v("\n            "+t._s(t.dialogInfo.okText)+"\n        ")]),t._v(" "),a("bk-button",{on:{click:t.handleCancel}},[t._v(t._s(t.$t("取消")))])],1)],2)};i._withStripped=!0;var n=a(45637),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/operation-tag/index.vue";var o=s.exports},27452:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"test",rawName:"v-test",value:{type:"data",value:"table"},expression:"{ type: 'data', value: 'table' }"},{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],ref:"renderList",staticClass:"jb-render-list"},[t.isRendered?a("bk-table",t._g(t._b({attrs:{"default-sort":t.defaultSort,data:t.data,pagination:t.realPagination,"max-height":t.tableMaxHeight,width:"100%"},on:{"sort-change":t.handleSort,"page-change":t.handlePageChange,"page-limit-change":t.handleLimitChange}},"bk-table",t.$attrs,!1),t.$listeners),[a("template",{slot:"prepend"},[t.selectNums>0?a("div",{staticClass:"jb-table-select-tips"},[a("span",[t._v(t._s(t.$t("已选择.select"))),a("span",{staticClass:"number strong"},[t._v(t._s(t.selectNums))]),t._v(t._s(t.$t("条.total")))]),t._v(" "),a("span",{staticClass:"action-clear",on:{click:t.handleClearAllSelect}},[t._v("，"+t._s(t.$t("清除所有勾选")))])]):t._e(),t._v(" "),t._t("prepend")],2),t._v(" "),t.selectable?a("bk-table-column",{key:"listSelect",attrs:{"render-header":t.renderHeader,width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("bk-checkbox",{attrs:{checked:!!t.rowSelectMemo[i[t.primaryKey]]},on:{change:function(e){return t.handleRowSelect(i,e)}}})]}}],null,!1,696268871)}):t._e(),t._v(" "),t._t("default"),t._v(" "),t.isRequesting?a("div",{staticStyle:{height:"200px"},attrs:{slot:"empty"},slot:"empty"}):t.isSearching?a("Empty",{attrs:{slot:"empty",type:"search"},slot:"empty"},[a("div",[a("div",{staticStyle:{"font-size":"14px",color:"#63656e"}},[t._v(t._s(t.$t("搜索结果为空")))]),t._v(" "),a("div",{staticStyle:{"margin-top":"8px","font-size":"12px","line-height":"16px",color:"#979ba5"}},[a("span",[t._v(t._s(t.$t("可以尝试调整关键词")))]),t._v(" "),t.searchControl?[a("span",[t._v(t._s(t.$t("或")))]),t._v(" "),a("bk-button",{attrs:{text:""},on:{click:t.handleClearSearch}},[t._v("\n                            "+t._s(t.$t("清空搜索条件"))+"\n                        ")])]:t._e()],2)])]):t._e()],2):t._e()],1)};i._withStripped=!0;var n=a(59042),r=n.Z,s=(a(47161),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/render-list/index.vue";var o=s.exports},83797:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"render-server-agent"},[t.isLoading?a("Icon",{staticClass:"rotate-loading",attrs:{svg:"",type:"sync-pending"}}):a("div",{staticClass:"agent-text",on:{click:t.handleShowDetail}},[t.data.normalNum>0?a("div",[t._v("\n            "+t._s(t.$t("正常"))+":"),a("span",{staticClass:"success number"},[t._v(t._s(t.data.normalNum))])]):t._e(),t._v(" "),t.data.abnormalNum>0?a("div",[t.data.normalNum>0?a("span",{staticClass:"splite"}):t._e(),t._v("\n            "+t._s(t.$t("异常"))+":"),a("span",{staticClass:"error number"},[t._v(t._s(t.data.abnormalNum))])]):t._e(),t._v(" "),t.isEmpty?a("span",[t._v("--")]):t._e()]),t._v(" "),a("lower-component",{attrs:{level:"custom",custom:t.isShowDetail}},[a("jb-dialog",{staticClass:"render-server-detail-dialog",attrs:{width:1020,"ok-text":t.$t("关闭")},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"variable-title"},[a("span",[t._v(t._s(t.title))]),t._v(" "),a("i",{staticClass:"global-variable-dialog-close bk-icon icon-close",on:{click:t.handleClose}})])]},proxy:!0}]),model:{value:t.isShowDetail,callback:function(e){t.isShowDetail=e},expression:"isShowDetail"}},[t._v(" "),a("div",{staticClass:"content-wraper"},[a("scroll-faker",[a("server-panel",{attrs:{"detail-mode":"dialog","host-node-info":t.hostNodeInfo}})],1)],1)])],1)],1)};i._withStripped=!0;var n=a(39795),r=n.Z,s=(a(26100),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/render-server-agent/index.vue";var o=s.exports},38061:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"job-smart-input"},[a("div",{ref:"input",staticClass:"job-smart-input-area",style:t.stylees,attrs:{contenteditable:"true",spellcheck:"false"},on:{input:t.handleInput,focus:t.handleFocus,blur:t.handleBlur,paste:t.handlePaste}}),t._v(" "),t.showPlaceholder?a("div",{staticClass:"job-smart-input-placeholder",on:{click:t.handleInputFocus}},[t._v(t._s(t.placeholder))]):t._e()])};i._withStripped=!0;var n=a(66525),r=n.Z,s=(a(97978),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/smart-input/index.vue";var o=s.exports},27559:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form-item",{attrs:{label:t.$t("错误处理")}},[a("div",{staticClass:"error-handle-wraper"},[a("bk-checkbox",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.tips,expression:"tips"}],attrs:{value:t.formData[t.field],"true-value":1,"false-value":0},on:{change:t.handleChange}},[t._v("\n            "+t._s(t.$t("自动忽略错误"))+"\n        ")])],1)])};i._withStripped=!0;var n=a(67114),r=n.Z,s=(a(98582),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/common/error-handle.vue";var o=s.exports},27564:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-step-execute-target",class:{"only-host":"onlyHost"===t.mode}},[a("jb-form-item",{ref:"targetServerRef",attrs:{label:t.$t("目标服务器"),required:"",property:t.property,rules:t.rules}},[a("div",{staticStyle:{display:"flex"}},["onlyHost"===t.mode?[a("bk-button",{staticClass:"mr10",on:{click:t.handleShowChooseIp}},[a("Icon",{attrs:{type:"plus"}}),t._v("\n                    "+t._s(t.$t("添加服务器"))+"\n                ")],1)]:[a("compose-form-item",[a("bk-select",{style:t.targetSelectorStyle,attrs:{value:t.targetType,clearable:!1},on:{change:t.handleTargetTypeChange}},[a("bk-option",{attrs:{id:"variable",name:t.$t("全局变量")}}),t._v(" "),a("bk-option",{attrs:{id:"hostNodeInfo",name:t.$t("手动添加")}})],1),t._v(" "),t.isGolbalVariableType?[a("bk-select",{staticClass:"server-global-variable-select",attrs:{placeholder:t.$t("请选择主机列表变量"),value:t.localVariable,clearable:!1},on:{change:t.handleVariableChange}},t._l(t.variable,(function(t,e){return a("bk-option",{key:e,attrs:{id:t.name,name:t.name}})})),1)]:[a("bk-button",{staticClass:"w120 mr10",on:{click:t.handleShowChooseIp}},[a("Icon",{attrs:{type:"plus"}}),t._v("\n                            "+t._s(t.$t("添加服务器"))+"\n                        ")],1)]],2)],t._v(" "),t.isShowServerAction?[a("bk-dropdown-menu",[a("bk-button",{staticClass:"mr10",attrs:{slot:"dropdown-trigger",type:"primary"},slot:"dropdown-trigger"},[a("span",[t._v(t._s(t.$t("复制IP")))]),t._v(" "),a("Icon",{staticClass:"action-flag",attrs:{type:"down-small"}})],1),t._v(" "),a("ul",{staticClass:"bk-dropdown-list",attrs:{slot:"dropdown-content"},slot:"dropdown-content"},[a("li",[a("a",{on:{click:t.handleCopyAll}},[t._v(t._s(t.$t("全部IP")))])]),t._v(" "),a("li",[a("a",{on:{click:t.handleCopyFail}},[t._v(t._s(t.$t("异常IP")))])])])],1),t._v(" "),a("bk-button",{staticClass:"mr10",on:{click:t.handleClearAll}},[a("span",[t._v(t._s(t.$t("清空")))])]),t._v(" "),a("bk-button",{attrs:{type:"primary"},on:{click:t.handleRefreshHost}},[t._v("\n                    "+t._s(t.$t("刷新状态"))+"\n                ")])]:t._e(),t._v(" "),t.isShowHostSearchInput?a("bk-input",{staticClass:"ip-search",attrs:{value:t.searchText,placeholder:t.$t("筛选主机"),"right-icon":"bk-icon icon-search"},on:{change:t.handleHostSearch}}):t._e()],2),t._v(" "),a("lower-component",{attrs:{level:"custom",custom:t.isShowServerPanel}},[a("server-panel",{directives:[{name:"show",rawName:"v-show",value:t.isShowServerPanel,expression:"isShowServerPanel"}],ref:"serverPanel",staticClass:"view-server-panel",attrs:{"host-node-info":t.localHost,"search-mode":Boolean(t.searchText),"search-data":t.searchData,editable:""},on:{"on-change":t.handleHostChange}})],1)],1),t._v(" "),a("choose-ip",{attrs:{"host-node-info":t.localHost},on:{"on-change":t.handleHostChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};i._withStripped=!0;var n=a(9059),r=n.Z,s=(a(25653),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/common/execute-target/index.vue";var o=s.exports},73524:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form-item",{attrs:{label:t.label,required:"",property:t.field,rules:t.rules}},[a("jb-input",{staticClass:"form-item-content",attrs:{placeholder:t.placeholder,value:t.formData[t.field],maxlength:60},on:{change:t.handleChange}})],1)};i._withStripped=!0;var n=a(51346),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/common/name/index.vue";var o=s.exports},78669:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"source-file-action-extend",on:{click:function(t){t.stopPropagation()},mouseleave:t.handleHide}},[a("Icon",{attrs:{type:"more"}}),t._v(" "),a("div",{ref:"popoverContent",staticClass:"source-file-action-content",on:{click:t.handleWraperClick,mouseover:t.handleShow,mouseleave:t.handleClose}},[t._t("default")],2)],1)};i._withStripped=!0;var n=a(91889),r=n.Z,s=(a(65855),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/components/action-extend.vue";var o=s.exports},71336:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"editBox",staticClass:"edit-source-file",class:{"path-error":!!t.error},attrs:{"data-error":t.error}},["edit"===t.mode?[a("div",{staticClass:"path-text",style:t.styles,on:{click:t.handleShowEdit}},[a("bk-popover",{attrs:{placement:"right"}},[t._l(t.displayRows,(function(e,i){return a("div",{key:i,staticClass:"path-text-row"},[t._v("\n                    "+t._s(e)+"\n                ")])})),t._v(" "),t.hasMore?a("div",[t._v("...")]):t._e(),t._v(" "),a("ul",{staticClass:"source-file-tips-box",attrs:{slot:"content"},slot:"content"},t._l(t.renderValue,(function(e,i){return a("li",{key:i,staticClass:"row"},[a("span",{staticClass:"dot"}),t._v("\n                        "+t._s(e)+"\n                    ")])})),0)],2)],1),t._v(" "),t.showEdit?a("smart-input",{ref:"pathEdit",staticClass:"file-path-edit",attrs:{placeholder:t.$t("Enter 换行可输入多个路径"),value:t.tempValue},on:{input:t.handleEditChange,blur:t.handleEditSubmit}}):t._e()]:t._e(),t._v(" "),"input"===t.mode?[a("smart-input",{ref:"pathSubmit",staticClass:"file-path-create",attrs:{placeholder:t.$t("Enter 换行可输入多个路径")},on:{input:t.handleCreateSubmit,blur:t.handleCreteaBlur}})]:t._e(),t._v(" "),t.error?a("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.error,expression:"error"}],staticClass:"error-flag"},[a("Icon",{attrs:{type:"info"}})],1):t._e()],2)};i._withStripped=!0;var n=a(47997),r=n.Z,s=(a(46261),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/components/edit-file-path.vue";var o=s.exports},80241:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("jb-form-item",{ref:"item",attrs:{label:t.$t("源文件"),required:"",property:t.field,rules:t.rules}},[a("div",[a("bk-button",{staticClass:"mr10",on:{click:t.handleAddServerFile}},[a("Icon",{attrs:{type:"plus"}}),t._v("\n                "+t._s(t.$t("添加服务器文件"))+"\n            ")],1),t._v(" "),t.ENABLE_FEATURE_FILE_MANAGE?a("bk-button",{staticClass:"mr10",on:{click:t.handleAddSourceFile}},[a("Icon",{attrs:{type:"plus"}}),t._v("\n                "+t._s(t.$t("添加文件源文件"))+"\n            ")],1):t._e(),t._v(" "),a("bk-button",{staticClass:"mr10",attrs:{loading:t.isConfigLoading},on:{click:t.handlerUploadLocalFile}},[a("Icon",{attrs:{type:"plus"}}),t._v("\n                "+t._s(t.$t("添加本地文件"))+"\n            ")],1),t._v(" "),a("span",{staticClass:"source-file-tips"},[t._v("\n                "+t._s(t.$t("添加本地文件会有同名文件覆盖风险"))+"\n                "),a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.uploadFileTipsConfig,expression:"uploadFileTipsConfig"}],staticClass:"tips-flag",attrs:{type:"info"}})],1)],1),t._v(" "),a("view-file",t._b({directives:[{name:"show",rawName:"v-show",value:t.showFileView,expression:"showFileView"}],ref:"serverFileView",staticClass:"source-file-view",attrs:{data:t.sourceFileList},on:{"on-change":t.handleSourceFileChange},model:{value:t.isAddServerFile,callback:function(e){t.isAddServerFile=e},expression:"isAddServerFile"}},"view-file",t.$attrs,!1))],1),t._v(" "),a("div",{staticClass:"upload-file-tips",attrs:{id:"uploadFileTips"}},[a("div",{staticClass:"row"},[t._v(t._s(t.$t("支持中文文件名，本地上传文件大小不能超过"))+" "+t._s(t.fileMaxUploadSize))]),t._v(" "),a("div",{staticClass:"row"},[t._v(t._s(t.$t("文件名支持使用通配符，如： /tmp/jobsvr_2020*.log")))]),t._v(" "),a("div",{staticClass:"row"},[t._v(t._s(t.$t("文件名支持正则表达式写法以匹配多个文件，文件名前 需加 REGEX: 前缀，如：/tmp/REGEX:myfile-[A-Za-z]{0,10}.tar.gz")))]),t._v(" "),a("div",{staticClass:"row"},[t._v(t._s(t.$t("如需分发文件目录，文件名请以/结束")))])])],1)};i._withStripped=!0;var n=a(30638),r=n.Z,s=(a(7550),(0,a(35471).Z)(r,i,[],!1,null,"a1452c10",null));s.options.__file="src/components/task-step/common/source-file/index.vue";var o=s.exports},47010:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"source-file-edit-view-box",class:t.mode?t.mode:"normal"},[a("bk-collapse",{model:{value:t.activeResult,callback:function(e){t.activeResult=e},expression:"activeResult"}},[a("jb-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.isShowLocalFile,expression:"isShowLocalFile"}],attrs:{"content-hidden-type":"hidden",name:"local",active:t.activeResult},scopedSlots:t._u([{key:"content",fn:function(){return[a("local-file",t._b({ref:"localFile",attrs:{data:t.localFileList},on:{"on-change":t.handleLocalFileChange}},"local-file",t.$attrs,!1))]},proxy:!0}])},[a("span",[a("span",[t._v(t._s(t.$t("已选择.result"))),a("span",{staticClass:"number strong"},[t._v(t._s(t.localFileList.length))]),t._v(t._s(t.$t("个本地文件")))]),t._v(" "),a("action-extend",[a("div",{staticClass:"action-item",on:{click:t.handleRemoveAllLocal}},[t._v(t._s(t.$t("移除全部")))])])],1)]),t._v(" "),a("jb-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.isShowSourceFile,expression:"isShowSourceFile"}],attrs:{"content-hidden-type":"hidden",name:"source",active:t.activeResult},scopedSlots:t._u([{key:"content",fn:function(){return[a("source-file",{ref:"sourceFile",attrs:{data:t.sourceFileList},on:{"on-change":t.handleSourceFileChange}})]},proxy:!0}])},[a("span",[t._v(t._s(t.$t("已选择.result"))),a("span",{staticClass:"number strong"},[t._v(t._s(t.sourceFileList.length))]),t._v(t._s(t.$t("个源文件文件")))])]),t._v(" "),a("jb-collapse-item",{directives:[{name:"show",rawName:"v-show",value:t.isShowServerFile,expression:"isShowServerFile"}],attrs:{"content-hidden-type":"hidden",name:"server",active:t.activeResult},scopedSlots:t._u([{key:"content",fn:function(){return[a("server-file",t._b({attrs:{mode:t.mode,data:t.serverFileList},on:{"on-change":t.handleServerFileChange,"on-close":t.handleServerClose}},"server-file",t.$attrs,!1))]},proxy:!0}])},[a("span",[t._v(t._s(t.$t("已选择.result"))),a("span",{staticClass:"number strong"},[t._v(t._s(t.serverFileList.length))]),t._v(t._s(t.$t("个服务器文件")))])])],1)],1)};i._withStripped=!0;var n=a(71152),r=n.Z,s=(a(20257),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/index.vue";var o=s.exports},26782:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",[a("tbody",t._l(t.fileList,(function(e,i){return a("tr",{key:i},[a("td",{staticStyle:{width:"40%"}},[t._v(t._s(e.fileLocationText))]),t._v(" "),a("td",{staticStyle:{width:"auto"}},[e.fileSize>0?["danger"!==e.uploadStatus?a("p",[t._v("\n                            "+t._s(t.$t("本地文件"))+"（"+t._s(e.fileSizeText)+"）\n                        ")]):a("p",{staticStyle:{color:"#ff5656"}},[t._v("\n                            "+t._s(t.$t("上传失败"))+"\n                        ")]),t._v(" "),a("div",{staticClass:"upload-progress"},[a("transition",{attrs:{name:"fade"}},[a("bk-progress",{directives:[{name:"show",rawName:"v-show",value:1!==e.uploadProgress,expression:"row.uploadProgress !== 1"}],attrs:{theme:e.uploadStatus,"show-text":!1,percent:e.uploadProgress}})],1)],1)]:t._e()],2),t._v(" "),a("td",[a("div",{staticClass:"action-box"},[a("bk-button",{attrs:{text:""},on:{click:function(e){return t.handlerRemove(i)}}},[t._v("\n                            "+t._s(t.$t("移除"))+"\n                        ")])],1)])])})),0)]),t._v(" "),a("input",{ref:"uploadInput",staticStyle:{position:"absolute",width:"0",height:"0",opacity:"0%"},attrs:{type:"file",multiple:""},on:{change:t.handleStartUpload}})])};i._withStripped=!0;var n=a(23072),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/common/source-file/view/local.vue";var o=s.exports},54691:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tbody",{key:t.reset,staticClass:"create-server-file"},[t.hasSaved?a("tr",[a("td",{attrs:{colspan:"4"}},[a("bk-button",{attrs:{text:""},on:{click:t.handleAddNew}},[a("Icon",{attrs:{type:"plus"}}),t._v("\n                "+t._s(t.$t("添加一行"))+"\n            ")],1)],1),t._v(" "),a("td")]):a("tr",[a("td",[a("edit-file-path",{attrs:{value:t.serverFile.fileLocation,mode:"input"},on:{"on-change":t.handleFileChange}})],1),t._v(" "),t.serverFile.isHostEmpty?[a("td",{attrs:{colspan:"2"}},[a("div",{staticClass:"server-add-btn"},[a("bk-select",{ref:"serverTypeSelect",staticClass:"server-type-select",staticStyle:{width:"78px"},attrs:{value:t.sourceFileType,"popover-width":"en-US"===t.$i18n.locale?130:85,"ext-popover-cls":"server-file-popover-class",clearable:!1},on:{change:t.handleSourceFileTypeChange}},[a("bk-option",{attrs:{id:"globalVar",name:t.$t("全局变量")}}),t._v(" "),a("bk-option",{attrs:{id:"manualAddition",name:t.$t("手动添加")}})],1),t._v(" "),a("div",{staticClass:"line"}),t._v(" "),"globalVar"===t.sourceFileType?[a("bk-select",{staticClass:"server-add-variable",attrs:{placeholder:t.$t("请选择主机列表变量"),value:t.serverFile.host.variable,clearable:!1,searchable:""},on:{change:t.handleVariableChange}},t._l(t.variable,(function(t,e){return a("bk-option",{key:e,attrs:{id:t.name,name:t.name}})})),1)]:[a("div",{staticClass:"server-add-host",on:{click:t.handleShowChooseIp}},[a("Icon",{staticClass:"add-flag",attrs:{type:"plus"}}),t._v("\n                            "+t._s(t.$t("添加服务器"))+"\n                        ")],1)]],2)])]:[a("td",[a("div",{staticClass:"file-edit-server",on:{click:t.handleShowChooseIp}},[a("p",{domProps:{innerHTML:t._s(t.serverFile.serverDesc)}})])]),t._v(" "),a("td",[t._v("--")])],t._v(" "),a("td",[a("account-select",{staticClass:"account-add-btn",attrs:{value:t.serverFile.account,type:"system"},on:{change:t.handleAccountChange}})],1),t._v(" "),a("td",[a("bk-button",{attrs:{text:"",disabled:t.serverFile.isDisableSave},on:{click:t.handlerSave}},[t._v("\n                "+t._s(t.$t("保存"))+"\n            ")]),t._v(" "),a("bk-button",{attrs:{text:""},on:{click:t.handlerCancel}},[t._v(t._s(t.$t("取消")))])],1)],2),t._v(" "),a("choose-ip",{ref:"chooseIp",on:{"on-change":t.handleHostChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};i._withStripped=!0;var n=a(48800),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/common/source-file/view/server/host-and-variable.vue";var o=s.exports},74654:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"server-file-edit-box"},[a("table",[a("thead",[a("th",[t._v(t._s(t.$t("文件路径")))]),t._v(" "),a("th",[t._v(t._s(t.$t("服务器列表")))]),t._v(" "),a("th",[t._v(t._s(t.$t("Agent 状态")))]),t._v(" "),a("th",[t._v(t._s(t.$t("服务器账号")))]),t._v(" "),a("th",[t._v(t._s(t.$t("操作")))])]),t._v(" "),a("tbody",t._l(t.serverFileList,(function(e,i){return a("tr",{key:i},[a("td",[a("edit-file-path",{attrs:{value:e.fileLocation},on:{"on-change":function(e){return t.handleFilePathEdit(e,i)}}})],1),t._v(" "),a("td",[e.isVar?a("div",{staticClass:"global-variable-render-box",class:{"value-error":!e.host.variable},staticStyle:{"margin-left":"-10px"}},[a("bk-select",{staticClass:"variable-edit-select",attrs:{value:e.host.variable,clearable:!1,searchable:""},on:{change:function(e){return t.handleVariableChange(e,i)}}},t._l(t.variable,(function(t,e){return a("bk-option",{key:e,attrs:{id:t.name,name:t.name}})})),1),t._v(" "),e.host.variable?t._e():a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("全局变量被删除，重新设置"),expression:"$t('全局变量被删除，重新设置')"}],staticClass:"error-tips",attrs:{type:"info"}})],1):a("div",{staticClass:"server-edit-btn",domProps:{innerHTML:t._s(e.serverDesc)},on:{click:function(e){return t.handleHostEdit(i)}}})]),t._v(" "),a("td",[e.isVar?a("render-server-agent",{key:e.serverDesc,attrs:{title:t.$t("全局变量")+" - "+e.host.variable,"host-node-info":t.findVariableValue(e.serverDesc),separator:t.agentSeparator}}):a("render-server-agent",{key:"host",attrs:{title:""+t.$t("服务器文件-服务器列表"),"host-node-info":e.host.hostNodeInfo,separator:t.agentSeparator}})],1),t._v(" "),a("td",[a("account-select",{staticClass:"account-add-btn",attrs:{value:e.account,type:"system"},on:{change:function(e){return t.handleAccountChange(e,i)}}})],1),t._v(" "),a("td",[a("bk-button",{attrs:{text:""},on:{click:function(e){return t.handlerRemove(i)}}},[t._v("\n                        "+t._s(t.$t("移除"))+"\n                    ")])],1)])})),0),t._v(" "),a(t.addCom,t._b({key:"add",tag:"component",attrs:{data:t.serverFileList,account:t.accountList,variable:t.variable},on:{"on-change":t.handleAddSave,"on-cancel":t.handleAddCancel}},"component",t.$attrs,!1))],1),t._v(" "),a("lower-component",{attrs:{level:"custom",custom:t.isShowChooseIp}},[a("choose-ip",{attrs:{required:"","host-node-info":t.currentHost},on:{"on-change":t.handleHostChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)],1)};i._withStripped=!0;var n=a(70990),r=n.Z,s=(a(86291),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/server/index.vue";var o=s.exports},83040:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tbody",{staticClass:"create-server-file"},[t.hasSaved?a("tr",[a("td",{attrs:{colspan:"4"}},[a("bk-button",{attrs:{text:""},on:{click:t.handleAddNew}},[a("Icon",{attrs:{type:"plus"}}),t._v("\n                "+t._s(t.$t("添加一行"))+"\n            ")],1)],1),t._v(" "),a("td")]):a("tr",[a("td",[a("edit-file-path",{attrs:{value:t.serverFile.fileLocation,mode:"input"},on:{"on-change":t.handleFileChange}})],1),t._v(" "),t.serverFile.isHostEmpty?[a("td",[a("div",{staticClass:"server-add-only-host-btn",on:{click:t.handleShowChooseIp}},[a("Icon",{staticClass:"add-flag",attrs:{type:"plus"}}),t._v("\n                    "+t._s(t.$t("添加服务器"))+"\n                ")],1)]),t._v(" "),a("td")]:[a("td",[a("div",{staticClass:"server-edit-btn",on:{click:t.handleShowChooseIp}},[a("div",{domProps:{innerHTML:t._s(t.serverFile.serverDesc)}})])]),t._v(" "),a("td")],t._v(" "),a("td",[a("account-select",{staticClass:"account-add-btn",attrs:{value:t.serverFile.account,type:"system"},on:{change:t.handleAccountChange}})],1),t._v(" "),a("td",[a("bk-button",{attrs:{text:"",disabled:t.serverFile.isDisableSave},on:{click:t.handlerSave}},[t._v("\n                "+t._s(t.$t("保存"))+"\n            ")]),t._v(" "),a("bk-button",{attrs:{text:""},on:{click:t.handlerCancel}},[t._v(t._s(t.$t("取消")))])],1)],2),t._v(" "),a("choose-ip",{ref:"chooseIp",on:{"on-change":t.handleHostChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};i._withStripped=!0;var n=a(16021),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/common/source-file/view/server/only-host.vue";var o=s.exports},89415:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-dialog",{staticClass:"choose-source-file",attrs:{value:t.value,"header-position":"left","esc-close":!1,"mask-close":!1,width:1200,title:t.$t("选择文件源文件")},on:{input:t.handleCancle},scopedSlots:t._u([{key:"footer",fn:function(){return[a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",disabled:t.isSelectedEmpty},on:{click:t.handleSubmit}},[a("span",[t._v(t._s(t.$t("添加")))]),t._v(" "),t.isSelectedEmpty?t._e():a("span",{staticClass:"result-nums"},[t._v(t._s(t.fileLocation.length))])]),t._v(" "),a("bk-button",{on:{click:t.handleCancle}},[t._v(t._s(t.$t("取消")))])]},proxy:!0}])},[a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}]},[t.value?a(t.panelCom,{tag:"component",staticClass:"dialog-content",attrs:{"file-source-id":t.fileSourceId,"file-location":t.fileLocation},on:{"on-source-change":t.handleSourceChange,"on-file-change":t.handelFileChange}}):t._e()],1)])};i._withStripped=!0;var n=a(1327),r=n.Z,s=(a(65688),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/source/components/choose-source-file/index.vue";var o=s.exports},33221:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sleect-source-file"},[a("list-action-layout",{scopedSlots:t._u([{key:"right",fn:function(){return[a("jb-input",{staticStyle:{width:"480px"},attrs:{placeholder:t.$t("搜索“所有文件源”"),"right-icon":"bk-icon icon-search"},on:{change:t.handleSearch}})]},proxy:!0}])},[a("jb-breadcrumb",{attrs:{width:645}},[a("jb-breadcrumb-item",[a("Icon",{staticStyle:{"font-size":"20px"},attrs:{type:"folder-open"}}),t._v(" "),a("span",[t._v(t._s(t.$t("请选择文件源")))])],1)],1)],1),t._v(" "),a("bk-table",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],attrs:{data:t.tableData,"max-height":"500","highlight-current-row":!0}},[a("bk-table-column",{attrs:{width:"50"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{domProps:{innerHTML:t._s(i.publicFlagHtml)}})]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("文件源别名"),prop:"alias",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.isAvailable?a("auth-button",{attrs:{auth:"file_source/view",permission:i.canView,"resource-id":i.id,text:""},on:{click:function(e){return t.handleGoBucket(i)}}},[t._v("\n                    "+t._s(i.alias)+"\n                ")]):a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("接入点异常，暂时不可用"),expression:"$t('接入点异常，暂时不可用')"}]},[a("bk-button",{attrs:{disabled:"",text:""}},[t._v(t._s(i.alias))])],1)]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("文件源标识"),prop:"code","show-overflow-tooltip":"",sortable:""}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("状态"),prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("Icon",{attrs:{type:i.statusIcon,svg:""}}),t._v("\n                "+t._s(i.statusText)+"\n            ")]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("类型"),prop:"create_time"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[t._v("\n                "+t._s(a.storageTypeText)+"\n            ")]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("更新人"),prop:"creator"}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("更新时间"),prop:"lastModifyTime"}})],1)],1)};i._withStripped=!0;var n=a(88380),r=n.Z,s=(a(80413),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/source/components/choose-source-file/select-file-source.vue";var o=s.exports},34850:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select-bucket"},[a("list-action-layout",{scopedSlots:t._u([{key:"right",fn:function(){return[a("jb-input",{staticStyle:{width:"480px"},attrs:{placeholder:t.$t("搜索关键字"),"right-icon":"bk-icon icon-search","enter-trigger":""},on:{submit:t.handleSearch}})]},proxy:!0}])},[a("jb-breadcrumb",{key:t.fileSourceInfo.alias+"_"+t.path,attrs:{width:645},on:{"on-last":t.handleBackLast}},[a("jb-breadcrumb-item",[a("Icon",{staticStyle:{"font-size":"20px"},attrs:{type:"folder-open"}}),t._v(" "),a("span",{on:{click:t.handleGoSourceList}},[t._v(t._s(t.$t("文件源列表")))])],1),t._v(" "),a("jb-breadcrumb-item",[a("span",{on:{click:function(e){return t.handlePathLocation("")}}},[t._v(t._s(t.fileSourceInfo.alias))])]),t._v(" "),t._l(t.pathStack,(function(e){return a("jb-breadcrumb-item",{key:e.path},[a("span",{on:{click:function(a){return t.handlePathLocation(e.path)}}},[t._v(t._s(e.name))])])}))],2)],1),t._v(" "),a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}]},[a("bk-table",{attrs:{pagination:t.pagination,data:t.tableData},on:{"page-change":t.handlePageChange}},[t._l(t.renderColumns,(function(e,i){return[a("render-file-list-column",{key:t.path+"_"+i+"_"+t.isLoading+"_"+t.wholeTableRowSelect,attrs:{column:e,"row-selection":t.rowSelectMemo,"render-header":t.renderHeader,"link-handler":t.handleLink,"select-handler":t.handleRowSelect}})]}))],2)],1)],1)};i._withStripped=!0;var n=a(12989),r=n.Z,s=(a(9679),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/source/components/choose-source-file/select-file.vue";var o=s.exports},34014:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"render-source-file-name"},[a("bk-popover",{attrs:{placement:"left"}},[t._l(t.renderData,(function(e,i){return a("div",{key:i,staticClass:"path-text-row"},[t._v("\n            "+t._s(e)+"\n        ")])})),t._v(" "),t.hasMore?a("div",[t._v("...")]):t._e(),t._v(" "),a("ul",{staticClass:"source-file-tips-box",attrs:{slot:"content"},slot:"content"},t._l(t.data,(function(e,i){return a("li",{key:i,staticClass:"row"},[a("span",{staticClass:"dot"}),t._v("\n                "+t._s(e)+"\n            ")])})),0)],2)],1)};i._withStripped=!0;var n=a(60592),r=n.Z,s=(a(65647),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/source/components/render-file-name.vue";var o=s.exports},69385:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"render-file-source-name"},[a("div",{on:{click:function(e){return t.handleGoFileSource(t.fileSourceId)}}},[t._v("\n        "+t._s(t.fileSourceAlias||"--")+"\n        "),a("Icon",{staticClass:"link-flag",attrs:{type:"edit",svg:""}})],1)])};i._withStripped=!0;var n=a(42),r=n.Z,s=(a(26047),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/common/source-file/view/source/components/render-source-name.vue";var o=s.exports},509:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("table",[a("thead",[a("th",{staticStyle:{width:"40%"}},[t._v(t._s(t.$t("文件名称")))]),t._v(" "),a("th",{staticStyle:{width:"auto"}},[t._v(t._s(t.$t("文件源.text")))]),t._v(" "),a("th",[t._v(t._s(t.$t("操作")))])]),t._v(" "),a("tbody",t._l(t.list,(function(e,i){return a("tr",{key:i},[a("td",[a("div",{staticClass:"path-text-style",on:{click:function(e){return t.handleEditSourceFile(i)}}},[a("render-file-name",{attrs:{data:e.fileLocation}})],1)]),t._v(" "),a("td",[a("render-source-name",{attrs:{"file-source-id":e.fileSourceId}})],1),t._v(" "),a("td",[a("div",{staticClass:"action-box"},[a("bk-button",{attrs:{text:""},on:{click:function(e){return t.handlerRemove(i)}}},[t._v(t._s(t.$t("移除")))])],1)])])})),0)]),t._v(" "),a("lower-component",{attrs:{level:"custom",custom:t.isShowSourceFile}},[a("choose-source-file",{attrs:{"source-file":t.data[t.editSourceFileIndex]||{}},on:{"on-change":t.handleSourceFileChange},model:{value:t.isShowSourceFile,callback:function(e){t.isShowSourceFile=e},expression:"isShowSourceFile"}})],1)],1)};i._withStripped=!0;var n=a(77079),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/common/source-file/view/source/index.vue";var o=s.exports},43807:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("jb-form-item",{attrs:{label:t.$t("超时时长")}},[a("div",{staticClass:"form-item-content",on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave}},[a("bk-input",{ref:"input",attrs:{type:"number",value:t.formData[t.field],palceholder:t.$t("此处留空将默认为7200s"),min:1,max:86400,precision:0},on:{focus:t.handleInputFocus,blur:t.handleInputBlur,change:t.handleChange}},[a("template",{slot:"append"},[a("div",{staticClass:"group-text"},[t._v("s")])])],2)],1)]),t._v(" "),a("div",{staticStyle:{display:"none"}},[a("div",{ref:"tips",on:{mouseleave:t.handleMouseleave,mouseenter:t.handleTipsMouseenter}},[t._v("\n            "+t._s(t.$t("允许最小 1s，最大为 86400s"))+"\n        ")])])],1)};i._withStripped=!0;var n=a(12606),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/common/timeout.vue";var o=s.exports},70007:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(t,e){var a=e._c;return a("div",{staticClass:"card-box"},[a("div",{staticClass:"card-title"},[e._v(e._s(e.props.title))]),e._v(" "),e._t("default")],2)};i._withStripped=!0;a(58730);var n=(0,a(35471).Z)({},i,[],!0,null,"1ae41d9f",null);n.options.__file="src/components/task-step/file/card-layout.vue";var r=n.exports},2699:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.itemCom,t._g(t._b({tag:"component"},"component",t.$attrs,!1),t.$listeners))};i._withStripped=!0;var n=a(33238),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/file/item-factory.vue";var o=s.exports},42875:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form-item",{attrs:{label:t.$t("执行账号"),required:"",property:t.field,rules:t.rules}},[a("account-select",{staticClass:"form-item-content",attrs:{value:t.formData[t.field],type:"system"},on:{change:t.handleChange}})],1)};i._withStripped=!0;var n=a(9455),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/file/strategy/execute-account.vue";var o=s.exports},32105:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("source-file",{attrs:{mode:"onlyHost",data:t.fileSources,field:t.field},on:{"on-change":t.handleSourceFileChange}})};i._withStripped=!0;var n=a(54225),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/file/strategy/source-file-of-execution.vue";var o=s.exports},51397:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("source-file",{attrs:{data:t.fileSources,variable:t.variable,field:t.field},on:{"on-change":t.handleSourceFileChange}})};i._withStripped=!0;var n=a(5401),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/file/strategy/source-file-of-template.vue";var o=s.exports},77006:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"push-speed-limit"},[a("jb-form-item",{attrs:{label:t.label}},[a("div",{staticClass:"speed-limit-wraper"},[a("div",{staticClass:"speed-limit-content form-item-content"},[a("bk-checkbox",{attrs:{value:t.enabled},on:{change:t.handleEnableChange}},[t._v("\n                    "+t._s(t.$t("启用限速"))+"\n                ")]),t._v(" "),a("bk-input",{directives:[{name:"show",rawName:"v-show",value:t.enabled,expression:"enabled"}],staticClass:"speed-limit-input",attrs:{value:t.formData[t.field]},on:{change:t.handleChange}},[a("template",{slot:"append"},[a("div",{staticClass:"group-text"},[t._v("MB/s")])])],2)],1),t._v(" "),a("Icon",{directives:[{name:"show",rawName:"v-show",value:t.enabled,expression:"enabled"},{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.speedLimitTipsConfig,expression:"speedLimitTipsConfig"}],staticClass:"tips-flag",attrs:{type:"info"}})],1)]),t._v(" "),a("div",{staticClass:"speed-limit-tips",attrs:{id:"targetPathTips"}},[a("div",{staticClass:"row"},[t._v(t._s(t.$t("请根据机器的网卡情况酌情配置速率，以免影响其他服务的正常使用；")))]),t._v(" "),a("div",{staticClass:"row"},[t._v(t._s(t.$t("未开启时，将按 Agent 默认配置规则限速 （Agent会根据机器资源使用情况，有自身保护机制）")))])])],1)};i._withStripped=!0;var n=a(33116),r=n.Z,s=(a(32650),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/file/strategy/speed-limit.vue";var o=s.exports},92578:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("jb-form-item",{attrs:{label:t.$t("目标路径"),required:"",property:t.field,rules:t.rules}},[a("div",{staticClass:"form-item-content",on:{mouseenter:t.handleMouseenter,mouseleave:t.handleMouseleave}},[a("bk-input",{ref:"input",attrs:{placeholder:t.$t("请填写分发路径"),value:t.formData[t.field]},on:{focus:t.handleInputFocus,blur:t.handleInputBlur,change:t.handleChange}})],1)]),t._v(" "),a("div",{staticStyle:{display:"none"}},[a("div",{ref:"targetPathTips",staticClass:"target-path-tips",on:{mouseleave:t.handleMouseleave,mouseenter:t.handleTipsMouseenter}},[a("div",{staticClass:"row"},[t._v(t._s(t.$t("传输至linux服务器需以/开头的绝对路径，如：/data/xx")))]),t._v(" "),a("div",{staticClass:"row"},[t._v(t._s(t.$t("传输至Windows服务器需包含盘符开头，如：D:\\tmp\\")))]),t._v(" "),a("div",{staticClass:"row"},[a("div",[t._v(t._s(t.$t("目标路径支持的内置变量：（点击可直接复制使用）")))]),t._v(" "),a("table",{staticClass:"target-path-demo"},[a("thead",[a("tr",[a("th",[t._v(t._s(t.$t("变量名称")))]),t._v(" "),a("th",[t._v(t._s(t.$t("含义")))]),t._v(" "),a("th",[t._v(t._s(t.$t("示例")))])])]),t._v(" "),a("tbody",[a("tr",[a("td",{on:{click:function(e){return t.handleCopy("[FILESRCIP]")}}},[a("div",{staticClass:"copy-box"},[a("span",{staticClass:"copy-value"},[t._v("[FILESRCIP]")]),t._v(" "),a("span",{staticClass:"copy-tips"},[t._v(t._s(t.$t("点击复制")))])])]),t._v(" "),a("td",[t._v(t._s(t.$t("源服务器IP")))]),t._v(" "),a("td",[t._v("0_192.168.0.100")])]),t._v(" "),a("tr",[a("td",{on:{click:function(e){return t.handleCopy("[DATE:yyyy-MM-dd]")}}},[a("div",{staticClass:"copy-box"},[a("span",{staticClass:"copy-value"},[t._v("[DATE:yyyy-MM-dd]")]),t._v(" "),a("span",{staticClass:"copy-tips"},[t._v(t._s(t.$t("点击复制")))])])]),t._v(" "),a("td",[t._v(t._s(t.$t("当前日期")))]),t._v(" "),a("td",[t._v("2021-01-01")])])])])]),t._v(" "),a("div",{staticClass:"row"},[t._v(t._s(t.$t("（日期变量可传入标准的日期时间格式，如 yyyy-MM-dd_HH:mm:ss）")))])])])],1)};i._withStripped=!0;var n=a(63909),r=n.Z,s=(a(88383),(0,a(35471).Z)(r,i,[],!1,null,"07d3ec5d",null));s.options.__file="src/components/task-step/file/strategy/target-path.vue";var o=s.exports},68229:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("execute-target",t._b({attrs:{property:"targetServers",mode:"onlyHost","task-host-node":t.formData[t.field]},on:{"on-change":t.handleTargetChange}},"execute-target",t.$attrs,!1))};i._withStripped=!0;var n=a(80121),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/file/strategy/target-server-of-execution.vue";var o=s.exports},41158:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("execute-target",t._b({attrs:{property:t.field,"task-host-node":t.formData[t.field]},on:{"on-change":t.handleTargetChange}},"execute-target",t.$attrs,!1))};i._withStripped=!0;var n=a(81274),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/file/strategy/target-server-of-template.vue";var o=s.exports},21828:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form-item",{attrs:{label:t.$t("传输模式"),required:""}},[a("div",{staticClass:"form-item-content"},[a("div",{staticClass:"file-step-transfer-mode-wraper"},[a("bk-radio-group",{staticClass:"radio-check",attrs:{value:t.formData[t.field]},on:{change:t.handleChange}},[a("bk-radio",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.constraintTips,expression:"constraintTips"}],attrs:{value:2}},[t._v(t._s(t.$t("强制模式")))]),t._v(" "),a("bk-radio",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.strictTips,expression:"strictTips"}],attrs:{value:1}},[t._v(t._s(t.$t("严谨模式")))])],1)],1)])])};i._withStripped=!0;var n=a(81356),r=n.Z,s=(a(51500),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/file/strategy/transfer-mode.vue";var o=s.exports},20703:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.itemCom,t._g(t._b({ref:"item",tag:"component"},"component",t.$attrs,!1),t.$listeners))};i._withStripped=!0;var n=a(68225),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/script/item-factory.vue";var o=s.exports},75475:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form-item",{attrs:{label:t.$t("执行账号"),required:"",property:t.field,rules:t.rules}},[a("account-select",{staticClass:"form-item-content",attrs:{value:t.formData[t.field],type:t.accountType},on:{change:t.handleChange}})],1)};i._withStripped=!0;var n=a(52918),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/script/strategy/execute-account.vue";var o=s.exports},510:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("execute-target",t._b({attrs:{property:"targetServers",mode:"onlyHost","task-host-node":t.formData[t.field]},on:{"on-change":t.handleTargetChange}},"execute-target",t.$attrs,!1))};i._withStripped=!0;var n=a(63932),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/script/strategy/execute-target-of-execution.vue";var o=s.exports},26838:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)("execute-target",t._b({attrs:{property:"executeTarget","task-host-node":t.formData[t.field]},on:{"on-change":t.handleTargetChange}},"execute-target",t.$attrs,!1))};i._withStripped=!0;var n=a(88717),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/script/strategy/execute-target-of-template.vue";var o=s.exports},78735:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form-item",{ref:"item",attrs:{label:t.$t("脚本内容"),required:"",property:t.contentField,rules:t.rules}},[a("ace-editor",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isContentLoading,opacity:.2},expression:"{ isLoading: isContentLoading, opacity: .2 }"}],ref:"aceEditor",attrs:{value:t.formData[t.contentField],lang:t.lang,readonly:t.isReadonly,constants:t.scriptVariables,"readonly-tips":t.$t("引用的脚本不支持编辑")},on:{"on-mode-change":t.handleTypeChange,change:t.handleChange}})],1)};i._withStripped=!0;var n=a(61948),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/components/task-step/script/strategy/script-content.vue";var o=s.exports},74882:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form-item",{attrs:{label:t.$t("脚本参数")}},[a("div",{staticClass:"muti-item"},[a("jb-input",{attrs:{placeholder:t.$t("脚本执行时传入的参数，同脚本在终端执行时的传参格式，如：./test.sh xxxx xxx xxx"),type:t.paramType,value:t.formData[t.paramField],maxlength:5e3},on:{change:t.handleParamChange}}),t._v(" "),a("bk-checkbox",{staticClass:"muti-checkbox",attrs:{value:t.formData[t.secureField],"true-value":1,"false-value":0},on:{change:t.handleSecureParam}},[t._v("\n            "+t._s(t.$t("敏感参数"))+"\n        ")])],1)])};i._withStripped=!0;var n=a(87329),r=n.Z,s=(a(86335),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/script/strategy/script-param.vue";var o=s.exports},33577:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"script-source-of-execution"},[a("jb-form-item",{staticClass:"script-source-item",attrs:{label:t.$t("脚本来源"),required:""}},[a("bk-radio-group",{attrs:{value:t.scriptSource},on:{change:t.handleScriptSourceChange}},[a("bk-radio-button",{attrs:{value:"local"}},[t._v(t._s(t.$t("手工录入")))]),t._v(" "),a("bk-radio-button",{attrs:{value:"refer"}},[t._v(t._s(t.$t("脚本引用")))])],1)],1),t._v(" "),t.isScriptRefer?a("jb-form-item",{ref:"scriptId",attrs:{label:t.$t("脚本引用"),required:"",property:"scriptId",rules:t.rules}},[a("div",{staticClass:"form-item-content refer-script-box"},[a("compose-form-item",[a("bk-select",{staticStyle:{width:"120px"},attrs:{value:t.referType,clearable:!1},on:{change:t.handleReferScriptTypeChange}},[a("bk-option",{attrs:{id:2,name:t.$t("业务脚本")}},[t._v(t._s(t.$t("业务脚本")))]),t._v(" "),a("bk-option",{attrs:{id:3,name:t.$t("公共脚本")}},[t._v(t._s(t.$t("公共脚本")))])],1),t._v(" "),a("bk-select",{key:t.referType,staticClass:"refer-script-list",attrs:{placeholder:t.$t("选择引用脚本"),value:t.formData[t.scriptVersionIdField],clearable:!1,searchable:""},on:{change:t.handleScriptVersionIdChange}},[t._l(t.scripListDisplay,(function(e){return a("auth-option",{key:e.scriptVersionId,attrs:{id:e.scriptVersionId,permission:e.canView,"resource-id":e.id,name:e.name,auth:t.authView}})})),t._v(" "),a("template",{slot:"extension"},[a("auth-component",{attrs:{auth:t.authCreate}},[a("div",{staticStyle:{cursor:"pointer"},on:{click:t.handleGoCreate}},[a("i",{staticClass:"bk-icon icon-plus-circle mr10"}),t._v(t._s(t.newBtnText)+"\n                            ")]),t._v(" "),a("div",{attrs:{slot:"forbid"},slot:"forbid"},[a("i",{staticClass:"bk-icon icon-plus-circle mr10"}),t._v(t._s(t.newBtnText)+"\n                            ")])])],1)],2)],1),t._v(" "),t.formData[t.scriptVersionIdField]?a("div",{staticClass:"refer-script-detail",attrs:{"tippy-tips":t.$t("脚本详情")},on:{click:t.handleGoScriptDetail}},[a("Icon",{attrs:{type:"jump"}})],1):t._e()],1)]):t._e()],1)};i._withStripped=!0;var n=a(13640),r=n.Z,s=(a(2038),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/script/strategy/script-source-of-execution.vue";var o=s.exports},33707:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"script-source-of-template"},[a("jb-form-item",{staticClass:"script-source-item",attrs:{label:t.$t("脚本来源"),required:""}},[a("bk-radio-group",{attrs:{value:t.sourceType},on:{change:t.handleScriptSourceChange}},[a("bk-radio-button",{attrs:{value:"local"}},[t._v(t._s(t.$t("手工录入")))]),t._v(" "),a("bk-radio-button",{attrs:{value:"refer"}},[t._v(t._s(t.$t("脚本引用")))])],1)],1),t._v(" "),a("jb-form-item",{directives:[{name:"show",rawName:"v-show",value:t.isScriptRefer,expression:"isScriptRefer"}],ref:"scriptId",attrs:{label:t.$t("脚本引用"),required:"",property:"scriptId",rules:t.rules}},[a("div",{staticClass:"refer-script-item"},[a("compose-form-item",{staticClass:"form-item-content",attrs:{type:"select"}},[a("bk-select",{staticStyle:{width:"120px"},attrs:{value:t.referType,clearable:!1},on:{change:t.handleReferScriptTypeChange}},[a("bk-option",{attrs:{id:2,name:t.$t("业务脚本")}},[t._v("\n                        "+t._s(t.$t("业务脚本"))+"\n                    ")]),t._v(" "),a("bk-option",{attrs:{id:3,name:t.$t("公共脚本")}},[t._v("\n                        "+t._s(t.$t("公共脚本"))+"\n                    ")])],1),t._v(" "),a("bk-select",{staticStyle:{width:"375px"},attrs:{placeholder:t.$t("选择引用脚本"),value:t.formData[t.scriptVersionIdField],clearable:!1,searchable:""},on:{change:t.handleScriptVersionIdChange}},[t._l(t.scriptListDisplay,(function(e,i){return a(t.scriptGroupComponent,{key:i,tag:"component",attrs:{name:0===i?t.$t("当前脚本"):t.$t("其它脚本")}},t._l(e,(function(e,i){return a("auth-option",{key:e.scriptVersionId+"_"+i,attrs:{id:e.scriptVersionId,name:e.name,permission:e.canView,"resource-id":e.id,auth:t.authView}})})),1)})),t._v(" "),a("template",{slot:"extension"},[a("auth-component",{attrs:{auth:t.authCreate}},[a("div",{staticStyle:{cursor:"pointer"},on:{click:t.handleGoCreate}},[a("i",{staticClass:"bk-icon icon-plus-circle mr10"}),t._v(t._s(t.newBtnText)+"\n                            ")]),t._v(" "),a("div",{attrs:{slot:"forbid"},slot:"forbid"},[a("i",{staticClass:"bk-icon icon-plus-circle mr10"}),t._v(t._s(t.newBtnText)+"\n                            ")])])],1)],2)],1),t._v(" "),t.formData[t.scriptStatusField]?a("Icon",{staticClass:"update-flag",attrs:{type:"script-update","tippy-tips":t.$t("引用脚本待更新")}}):t._e(),t._v(" "),t.formData[t.scriptVersionIdField]?a("div",{staticClass:"refer-script-detail",attrs:{"tippy-tips":t.$t("脚本详情")},on:{click:t.handleGoScriptDetail}},[a("Icon",{attrs:{type:"jump"}})],1):t._e()],1)])],1)};i._withStripped=!0;var n=a(89173),r=n.Z,s=(a(21551),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/components/task-step/script/strategy/script-source-of-template.vue";var o=s.exports},59362:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"exection-status-bar",class:[t.data.displayStyle]},[a(t.themeCom,{tag:"component",attrs:{data:t.data,"title-max-width":t.titleMaxWidth}},[t._t("default")],2)],1)};i._withStripped=!0;var n=a(95747),r=n.Z,s=(a(90160),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/executive-history/common/execution-status-bar/index.vue";var o=s.exports},13826:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(t,e){var a=e._c;return a("div",{staticClass:"step-exection-status-bar"},[e.props.data.name?a("div",{staticClass:"title"},[e._v("\n        （"),a("div",{staticClass:"title-text"},[e._v(e._s(e.props.data.name))]),e._v("）\n    ")]):e._e(),e._v(" "),a("div",{staticClass:"status-box"},[a("div",{staticClass:"status"},[a("span",[e._v(e._s(e.parent.$t("history.状态.execute"))+"：")]),e._v(" "),a("span",{staticClass:"status-text"},[e._v(e._s(e.props.data.statusDesc))])]),e._v(" "),a("div",{staticClass:"time"},[a("span",[e._v(e._s(e.parent.$t("history.总耗时"))+"：")]),e._v(" "),a("span",{staticClass:"value",style:{width:9*(e.props.data.totalTimeText&&e.props.data.totalTimeText.length||1)+"px"}},[e._v("\n                "+e._s(e.props.data.totalTimeText)+"\n            ")])]),e._v(" "),a("div",{staticClass:"action"},[e._t("default")],2)])])};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!0,null,null,null);n.options.__file="src/views/executive-history/common/execution-status-bar/step.vue";var r=n.exports},34527:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(t,e){var a=e._c;return a("div",{staticClass:"task-exection-status-bar"},[e.props.data.name?a("div",{staticClass:"title"},[e._v("\n        （"),a("div",{staticClass:"title-text"},[e._v(e._s(e.props.data.name))]),e._v("）\n    ")]):e._e(),e._v(" "),a("div",{staticClass:"status-box"},[a("div",{staticClass:"status"},[a("span",[e._v(e._s(e.parent.$t("history.状态.execute"))+"：")]),e._v(" "),a("span",{staticClass:"status-text"},[e._v(e._s(e.props.data.statusDesc))])]),e._v(" "),a("div",{staticClass:"time"},[a("span",[e._v(e._s(e.parent.$t("history.总耗时"))+"：")]),e._v(" "),a("span",{staticClass:"value",style:{width:9*(e.props.data.totalTimeText&&e.props.data.totalTimeText.length||1)+"px"}},[e._v("\n                "+e._s(e.props.data.totalTimeText)+"\n            ")])]),e._v(" "),a("div",{staticClass:"action"},[e._t("default")],2)])])};i._withStripped=!0;a(43172);var n=(0,a(35471).Z)({},i,[],!0,null,null,null);n.options.__file="src/views/executive-history/common/execution-status-bar/task.vue";var r=n.exports},19553:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"execute-global-variable"},[t.isLoading?t._e():[t.taskVariables.length>0?a("global-variable-layout",t._l(t.taskVariables,(function(t){return a("global-variable",{key:t.id,ref:"variable",refInFor:!0,attrs:{type:t.type,layout:3===t.type?"vertical":"",data:t}})})),1):a("empty",{staticClass:"empty"})]],2)};i._withStripped=!0;var n=a(85769),r=n.Z,s=(a(39721),(0,a(35471).Z)(r,i,[],!1,null,"4ff780bc",null));s.options.__file="src/views/executive-history/common/global-variable.vue";var o=s.exports},41547:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"job-execute-record"},[t.isLoading?t._e():[t.data.length>0?a("bk-table",{attrs:{data:t.data}},[a("bk-table-column",{attrs:{label:t.$t("history.时间"),prop:"createTime",width:"180"}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("history.操作人"),prop:"operator",width:"120"}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("history.操作"),prop:"operationName",width:"120"}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("history.步骤"),prop:"stepName","show-overflow-tooltip":"","class-name":"step-name"}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("history.详情")},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[i.detailEnable?a("bk-button",{attrs:{theme:"primary",text:""},on:{click:function(e){return t.handleView(i)}}},[t._v(t._s(i.detail))]):a("div",[t._v(t._s(i.detail))])]}}],null,!1,107930035)})],1):a("empty",{staticClass:"empty"})]],2)};i._withStripped=!0;var n=a(74540),r=n.Z,s=(a(80953),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/executive-history/common/operation-record.vue";var o=s.exports},95403:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"retry"},[a("Icon",{attrs:{type:"retry"}}),t._v(" "),a("span",[t._v(t._s(t.$t("history.全部重试")))])],1)};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/all-retry.vue";var r=n.exports},89572:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"confirm-forced"},[a("Icon",{attrs:{type:"stop"}}),t._v(" "),a("span",[t._v(t._s(t.$t("history.终止流程")))])],1)};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/confirm-forced.vue";var r=n.exports},87061:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"retry"},[a("Icon",{attrs:{type:"retry"}}),t._v(" "),a("span",[t._v(t._s(t.$t("history.重新发起确认")))])],1)};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/confirm-retry.vue";var r=n.exports},27195:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"confirm"},[a("Icon",{attrs:{type:"confirm"}}),t._v(" "),a("span",[t._v(t._s(t.$t("history.确认继续")))])],1)};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/confirm.vue";var r=n.exports},23255:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"retry"},[a("Icon",{attrs:{type:"retry"}}),t._v(" "),a("span",[t._v(t._s(t.$t("history.失败IP重试")))])],1)};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/fail-ip-retry.vue";var r=n.exports},97034:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"retry"},[a("Icon",{attrs:{type:"retry"}}),t._v(" "),a("span",[t._v(t._s(t.$t("history.重试并继续")))])],1)};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/forced-retry.vue";var r=n.exports},55079:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"skip"},[a("Icon",{attrs:{type:"skip"}}),t._v(" "),a("span",[t._v(t._s(t.$t("history.跳过")))])],1)};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/forced-skip.vue";var r=n.exports},7605:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stop"},[a("Icon",{attrs:{type:"stop"}}),t._v(" "),a("span",[t._v(t._s(t.$t("history.强制终止")))])],1)};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/forced.vue";var r=n.exports},1156:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-popover-confirm",{staticClass:"step-action-confirm",attrs:{title:t.confirmInfo.title,content:t.confirmInfo.desc,"confirm-handler":t.handleConfirm},on:{show:t.handleConfirmShow,cancel:t.handleConfirmCancel}},[a(t.actionCom,{tag:"component",staticClass:"step-instance-action",class:t.displayStyle})],1)};i._withStripped=!0;var n=a(92997),r=n.Z,s=(a(19267),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/executive-history/common/step-action/index.vue";var o=s.exports},75366:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"next"},[a("Icon",{attrs:{type:"skip"}}),t._v(" "),a("span",[t._v(t._s(t.$t("history.进入下一步")))])],1)};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/next.vue";var r=n.exports},68683:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"skip"},[a("Icon",{attrs:{type:"skip"}}),t._v(" "),a("span",[t._v(t._s(t.$t("history.忽略错误")))])],1)};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!1,null,null,null);n.options.__file="src/views/executive-history/common/step-action/skip.vue";var r=n.exports},2317:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"layout",staticClass:"script-version-manage-layout"},[a("div",{staticClass:"layout-header"},[a("div",{staticClass:"header-title"},[t._t("title")],2),t._v(" "),a("div",{staticClass:"sub-header"},[t._t("sub-header")],2)]),t._v(" "),a("div",{ref:"content",staticClass:"layout-container",style:t.contentStyles},[t.$slots.left?a("resizeable-box",{staticClass:"left",attrs:{"free-position":"right"}},[t._t("left")],2):t._e(),t._v(" "),a("div",{staticClass:"right"},[t._t("default")],2)],1),t._v(" "),a("div",{staticClass:"layout-footer"},[t._t("footer")],2)])};i._withStripped=!0;var n=a(6696),r=n.Z,s=(a(2027),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/script-manage/common/components/layout.vue";var o=s.exports},27223:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return r}});var i=function(t,e){return(0,e._c)("div",{staticClass:"render-version-log"},[e._v(e._s(e.props.versionDesc||"--"))])};i._withStripped=!0;var n=(0,a(35471).Z)({},i,[],!0,null,null,null);n.options.__file="src/views/script-manage/common/detail/components/render-log.vue";var r=n.exports},98336:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",{staticClass:"script-manage-detail-box",scopedSlots:t._u([{key:"footer",fn:function(){return[t.scriptInfo.isOnline?a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"execScript"},expression:"{ type: 'button', value: 'execScript' }"}],key:"execute",staticClass:"w120 mr10",attrs:{permission:t.scriptInfo.canManage,auth:"script/execute","resource-id":t.scriptInfo.id,theme:"primary",loading:t.isExceLoading},on:{click:t.handleGoExce}},[t._v("\n            "+t._s(t.$t("script.去执行"))+"\n        ")]):t._e(),t._v(" "),t.scriptInfo.isOnline?t._e():a("jb-popover-confirm",{key:"online",staticClass:"mr10",attrs:{title:t.$t("script.确定上线该版本？"),content:t.$t("script.上线后，之前的线上版本将被置为「已下线」状态，但不影响作业使用"),disabled:t.scriptInfo.isDisabledOnline,"confirm-handler":t.handleOnline}},[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"onlineScript"},expression:"{ type: 'button', value: 'onlineScript' }"}],staticClass:"w120",attrs:{permission:t.scriptInfo.canManage,"resource-id":t.scriptInfo.id,auth:"script/edit",theme:"primary",disabled:t.scriptInfo.isDisabledOnline}},[t._v("\n                "+t._s(t.$t("script.上线"))+"\n            ")])],1),t._v(" "),t.scriptInfo.isDraft?t._e():a("span",{key:"create",attrs:{"tippy-tips":t.isCopyCreateDisabled?t.$t("script.已有[未上线]版本"):""}},[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"copyCreateScript"},expression:"{ type: 'button', value: 'copyCreateScript' }"}],staticClass:"w120 mr10",attrs:{permission:t.scriptInfo.canClone,"resource-id":t.scriptInfo.id,auth:"script/clone",disabled:t.isCopyCreateDisabled},on:{click:function(e){return t.handleCopyAndCreate(t.scriptInfo)}}},[t._v("\n                "+t._s(t.$t("script.复制并新建"))+"\n            ")])],1),t._v(" "),a("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"debugScript"},expression:"{ type: 'button', value: 'debugScript' }"}],staticClass:"mr10",on:{click:t.handleDebugScript}},[t._v("\n            "+t._s(t.$t("script.调试"))+"\n        ")]),t._v(" "),t.scriptInfo.isOnline?a("span",{key:"sync",staticClass:"mr10",attrs:{"tippy-tips":t.scriptInfo.syncEnabled?"":t.$t("script.所有关联作业模板已是当前版本")}},[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"syncScript"},expression:"{ type: 'button', value: 'syncScript' }"}],attrs:{permission:t.scriptInfo.canManage,"resource-id":t.scriptInfo.id,auth:"script/edit",disabled:!t.scriptInfo.syncEnabled},on:{click:t.handleGoSync}},[t._v("\n                "+t._s(t.$t("script.同步"))+"\n            ")])],1):t._e(),t._v(" "),t.scriptInfo.isDraft?a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editScript"},expression:"{ type: 'button', value: 'editScript' }"}],key:"edit",staticClass:"mr10",attrs:{permission:t.scriptInfo.canManage,"resource-id":t.scriptInfo.id,auth:"script/edit"},on:{click:function(e){return t.handleEdit(t.scriptInfo)}}},[t._v("\n            "+t._s(t.$t("script.编辑"))+"\n        ")]):t._e(),t._v(" "),t.scriptInfo.isVersionEnableRemove?a("jb-popover-confirm",{key:"delete",staticClass:"mr10",attrs:{title:t.$t("script.确定删除该版本？"),content:t.$t("script.删除后不可恢复，请谨慎操作！"),"confirm-handler":t.handleRemove}},[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deleteScript"},expression:"{ type: 'button', value: 'deleteScript' }"}],attrs:{permission:t.scriptInfo.canManage,"resource-id":t.scriptInfo.id,auth:"script/delete"}},[t._v("\n                "+t._s(t.$t("script.删除"))+"\n            ")])],1):t._e(),t._v(" "),t.scriptInfo.isOnline?a("jb-popover-confirm",{key:"offline",staticStyle:{"margin-left":"auto"},attrs:{title:t.$t("script.确定禁用该版本？"),content:t.$t("script.一旦禁用成功，线上引用该版本的作业脚本步骤都会执行失败，请务必谨慎操作！"),"confirm-handler":t.handleOffline}},[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"offlineScript"},expression:"{ type: 'button', value: 'offlineScript' }"}],attrs:{permission:t.scriptInfo.canManage,"resource-id":t.scriptInfo.id,auth:"script/edit"}},[t._v("\n                "+t._s(t.$t("script.禁用"))+"\n            ")])],1):t._e()]},proxy:!0}])},[a("div",{attrs:{slot:"title"},slot:"title"},[a("span",[t._v(t._s(t.scriptInfo.version))]),t._v(" "),a("span",{staticClass:"script-status",domProps:{innerHTML:t._s(t.scriptInfo.statusHtml)}})]),t._v(" "),a("template",{slot:"sub-header"},[a("span",{staticStyle:{"font-size":"12px",color:"#63656e"}},[a("span",[t._v(t._s(t.scriptInfo.lastModifyUser))]),t._v(" "),a("span",[t._v("|")]),t._v(" "),a("span",[t._v(t._s(t.scriptInfo.lastModifyTime))])]),t._v(" "),"content"===t.contentTab?a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("全屏"),expression:"$t('全屏')"},{name:"test",rawName:"v-test",value:{type:"button",value:"scriptEditFullscreen"},expression:"{ type: 'button', value: 'scriptEditFullscreen' }"}],attrs:{type:"full-screen"},on:{click:t.handleFullScreen}}):t._e()],1),t._v(" "),a("div",{staticClass:"content-tab"},[a("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"scriptContentTab"},expression:"{ type: 'button', value: 'scriptContentTab' }"}],staticClass:"content-tab-item",class:{active:"content"===t.contentTab},on:{click:function(e){return t.handleChangeDispaly("content")}}},[t._v("\n            "+t._s(t.$t("script.脚本内容"))+"\n        ")]),t._v(" "),a("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"scriptVersionLogTab"},expression:"{ type: 'button', value: 'scriptVersionLogTab' }"}],staticClass:"content-tab-item",class:{active:"log"===t.contentTab},on:{click:function(e){return t.handleChangeDispaly("log")}}},[t._v("\n            "+t._s(t.$t("script.版本日志"))+"\n        ")])]),t._v(" "),a("div",{staticClass:"version-content"},[a("div",{ref:"content",staticClass:"content-dispaly",style:t.contentStyles},[t.contentHeight>0?a("keep-alive",[a(t.contentCom,{ref:"aceEditor",tag:"component",attrs:{readonly:"",height:t.contentHeight,value:t.scriptInfo.content,lang:t.scriptInfo.typeName,options:t.scriptInfo.typeName,"version-desc":t.scriptInfo.versionDesc}})],1):t._e()],1)])],2)};i._withStripped=!0;var n=a(78896),r=n.Z,s=(a(95645),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/script-manage/common/detail/index.vue";var o=s.exports},78621:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"render-related-script"},[a("div",{staticClass:"tab-wraper"},[a("div",{staticClass:"tab-item",class:{active:"template"===t.listTab},on:{click:function(e){return t.handleTabChange("template")}}},[a("div",{staticClass:"tab-name"},[t._v(t._s(t.$t("script.作业模板引用")))]),t._v(" "),a("div",{staticClass:"tab-nums"},[t._v(t._s(t.info.relatedTaskTemplateNum))])]),t._v(" "),a("div",{staticClass:"tab-item",class:{active:"plan"===t.listTab},on:{click:function(e){return t.handleTabChange("plan")}}},[a("div",{staticClass:"tab-name"},[t._v(t._s(t.$t("script.执行方案引用")))]),t._v(" "),a("div",{staticClass:"tab-nums"},[t._v(t._s(t.info.relatedTaskPlanNum))])])]),t._v(" "),a(t.listCom,{tag:"component",attrs:{params:t.params}})],1)};i._withStripped=!0;var n=a(63687),r=n.Z,s=(a(70918),(0,a(35471).Z)(r,i,[],!1,null,"23134e9a",null));s.options.__file="src/views/script-manage/common/script-related-info/index.vue";var o=s.exports},4839:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("jb-search-select",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.searchSelect,"popover-zindex":99999,placeholder:t.$t("script.搜索名称，版本号")},on:{"on-change":t.handleSearch}}),t._v(" "),a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}]},[a("bk-table",{attrs:{data:t.renderList}},[a("bk-table-column",{attrs:{label:t.$t("script.执行方案"),align:"left","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("bk-button",{attrs:{text:""},on:{click:function(e){return t.handleGoPlanDetail(i)}}},[t._v("\n                        "+t._s(i.taskPlanName)+"\n                    ")])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("script.引用的版本号"),prop:"scriptVersion",align:"left"}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("script.状态"),prop:"scriptStatusDesc",align:"left",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{domProps:{innerHTML:t._s(i.statusHtml)}})]}}])})],1)],1)],1)};i._withStripped=!0;var n=a(46642),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/script-manage/common/script-related-info/plan-list.vue";var o=s.exports},40021:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("jb-search-select",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.searchSelect,"popover-zindex":99999,placeholder:t.$t("script.搜索名称，版本号")},on:{"on-change":t.handleSearch}}),t._v(" "),a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}]},[a("bk-table",{attrs:{data:t.renderList}},[a("bk-table-column",{attrs:{label:t.$t("script.作业模板"),align:"left","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("bk-button",{attrs:{text:""},on:{click:function(e){return t.handleGoTemplateDetail(i)}}},[t._v("\n                        "+t._s(i.taskTemplateName)+"\n                    ")])]}}])}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("script.引用的版本号"),prop:"scriptVersion",align:"left"}}),t._v(" "),a("bk-table-column",{attrs:{label:t.$t("script.状态"),prop:"scriptStatusDesc",align:"left",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("span",{domProps:{innerHTML:t._s(i.statusHtml)}})]}}])})],1)],1)],1)};i._withStripped=!0;var n=a(6252),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/script-manage/common/script-related-info/template-list.vue";var o=s.exports},69539:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"box",staticClass:"plan-edit-title",on:{click:function(t){t.stopPropagation()}}},[t.isEditing?a("div",{staticClass:"input-box",class:{"validate-error":!!t.errorInfo}},[a("jb-input",{ref:"input",style:{width:t.inputWidth+"px"},attrs:{"native-attributes":{spellcheck:!1,autofocus:!0},placeholder:t.$t("template.推荐按照该执行方案提供的使用场景来取名..."),"enter-trigger":"",maxlength:60,behavior:"simplicity"},on:{input:t.handleInput,submit:t.handleSubmit},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}}),t._v(" "),t.errorInfo?a("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.errorInfo,expression:"errorInfo"}],staticClass:"edit-status-flag bk-icon icon-exclamation-circle-shape",staticStyle:{color:"#ea3636"}}):t._e(),t._v(" "),t.isSubmiting?a("Icon",{staticClass:"edit-status-flag rotate-loading",staticStyle:{color:"#979ba5"},attrs:{type:"loading-circle"}}):t._e()],1):a("div",{ref:"text",staticClass:"text"},[a("span",[t._v(t._s(t.localValue))]),t._v(" "),a("Icon",{staticClass:"edit-btn",attrs:{type:"edit-2"},on:{click:t.handleEdit}})],1)])};i._withStripped=!0;var n=a(83987),r=n.Z,s=(a(9126),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/components/edit-title.vue";var o=s.exports},36087:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"layout",staticClass:"plan-action-layout",style:t.layoutStyles},[a("div",{staticClass:"loading-wraper",class:{"loading-hidden":t.showContent}},[a("div",{staticClass:"loading-content"},[a("content-loader",{attrs:{height:455,width:580,speed:2,"primary-color":"#EBECF3","secondary-color":"#F6F7FB"}},[a("rect",{attrs:{x:"0",y:"0",width:"128",height:"16",rx:"1"}}),t._v(" "),a("rect",{attrs:{x:"0",y:"148",width:"128",height:"16",rx:"1"}}),t._v(" "),a("rect",{attrs:{x:"0",y:"180",width:"620",height:"42",rx:"2"}}),t._v(" "),a("rect",{attrs:{x:"0",y:"232",width:"620",height:"42",rx:"2"}}),t._v(" "),a("rect",{attrs:{x:"0",y:"284",width:"620",height:"42",rx:"2"}}),t._v(" "),a("rect",{attrs:{x:"0",y:"336",width:"620",height:"42",rx:"2"}}),t._v(" "),a("rect",{attrs:{x:"0",y:"388",width:"620",height:"42",rx:"2"}}),t._v(" "),a("rect",{attrs:{x:"0",y:"28",width:"128",height:"16",rx:"1"}}),t._v(" "),a("rect",{attrs:{x:"0",y:"56",width:"200",height:"50",rx:"1"}}),t._v(" "),a("rect",{attrs:{x:"210",y:"56",width:"200",height:"50",rx:"1"}}),t._v(" "),a("rect",{attrs:{x:"420",y:"56",width:"200",height:"50",rx:"1"}})])],1)]),t._v(" "),a("div",{staticClass:"layout-title"},[t._t("title",(function(){return[a("div",{staticClass:"title-text"},[t._v(t._s(t.title))])]})),t._v(" "),a("div",{staticClass:"sub-title"},[t._t("sub-title")],2)],2),t._v(" "),a("div",{ref:"content",staticClass:"content-wraper",style:t.contentStyles},[t._t("default")],2),t._v(" "),a("div",{staticClass:"layout-footer",style:t.footerStyles},[t._t("footer")],2),t._v(" "),t.showContent?a("back-top",{attrs:{target:t.getBackTopTarget}}):t._e()],1)};i._withStripped=!0;var n=a(32112),r=n.Z,s=(a(9243),(0,a(35471).Z)(r,i,[],!1,null,"77864916",null));s.options.__file="src/views/task-manage/common/plan/components/layout.vue";var o=s.exports},50859:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"toggle-display"},[a("div",{staticClass:"action",on:{click:t.handleToggle}},[t.isOpen?[a("Icon",{staticClass:"toggle-arrow",attrs:{type:"angle-double-up"}}),t._v(" "),a("span",[t._v(t._s(t.$t("收起未引用的变量"))+" ("+t._s(t.count)+")")])]:[a("Icon",{staticClass:"toggle-arrow",attrs:{type:"angle-double-down"}}),t._v(" "),a("span",[t._v(t._s(t.$t("展开未引用的变量"))+" ("+t._s(t.count)+")")])]],2),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}]},[t._t("default")],2)])};i._withStripped=!0;var n=a(23655),r=n.Z,s=(a(45722),(0,a(35471).Z)(r,i,[],!1,null,"b1a70dd8",null));s.options.__file="src/views/task-manage/common/plan/components/toggle-display.vue";var o=s.exports},49941:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",t._b({staticClass:"task-plan-create-box",attrs:{loading:t.isLoading},scopedSlots:t._u([{key:"footer",fn:function(){return[a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.isSubmitDisable?t.$t("template.请至少勾选一个执行步骤"):"",expression:"isSubmitDisable ? $t('template.请至少勾选一个执行步骤') : ''"}]},[a("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createPlanSubmit"},expression:"{ type: 'button', value: 'createPlanSubmit' }"}],staticClass:"w120 mr10",attrs:{theme:"primary",loading:t.submitLoading,disabled:t.isSubmitDisable},on:{click:t.handleSumbit}},[t._v("\n                "+t._s(t.$t("template.提交"))+"\n            ")])],1),t._v(" "),a("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createPlanReset"},expression:"{ type: 'button', value: 'createPlanReset' }"}],on:{click:t.handleReset}},[t._v("\n            "+t._s(t.$t("template.重置"))+"\n        ")])]},proxy:!0}])},"layout",t.$attrs,!1),[a("jb-form",{ref:"titleForm",staticStyle:{width:"100%"},attrs:{slot:"title",model:t.formData},slot:"title"},[a("jb-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{rules:t.rules.name,property:"name","error-display-type":"tooltips"}},[a("jb-input",{staticClass:"name-input",attrs:{behavior:"simplicity",placeholder:t.$t("template.推荐按照该执行方案提供的使用场景来取名..."),maxlength:60,"native-attributes":{spellcheck:!1,autofocus:!0}},on:{change:t.handleNameChange},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("jb-form",{ref:"createPlanForm",attrs:{model:t.formData,"form-type":"vertical"}},[a("jb-form-item",{staticStyle:{"margin-bottom":"40px"}},[a("div",{staticClass:"section-title"},[a("span",[t._v(t._s(t.$t("template.全局变量.label")))]),t._v(" "),a("span",[t._v("（ "+t._s(t.selectedVariable.length)+" / "+t._s(t.globalVariableList.length)+" ）")])]),t._v(" "),a("render-global-var",{key:t.templateId,attrs:{list:t.globalVariableList,"select-value":t.selectedVariable,mode:"editOfPlan","default-field":t.$t("template.变量值")},on:{"on-change":t.handleVariableChange}})],1),t._v(" "),a("jb-form-item",{attrs:{rules:t.rules.enableSteps,property:"enableSteps"}},[a("div",{staticClass:"task-step-selection"},[a("div",{staticClass:"section-title"},[a("span",[t._v(t._s(t.$t("template.选择执行步骤")))]),t._v(" "),a("span",[t._v("（ "+t._s(t.formData.enableSteps.length)+" / "+t._s(t.taskStepList.length)+" ）")])]),t._v(" "),a("div",{staticClass:"step-check"},[t.hasSelectAll?a("bk-button",{attrs:{text:""},on:{click:t.handleDeselectAll}},[t._v("\n                        "+t._s(t.$t("template.取消全选"))+"\n                    ")]):a("bk-button",{attrs:{text:""},on:{click:t.handleSelectAll}},[t._v("\n                        "+t._s(t.$t("template.全选"))+"\n                    ")])],1)]),t._v(" "),a("render-task-step",{key:t.templateId,attrs:{list:t.taskStepList,"select-value":t.formData.enableSteps,variable:t.globalVariableList,mode:"select"},on:{"on-select":t.handleSelectStep}})],1)],1)],1)};i._withStripped=!0;var n=a(84924),r=n.Z,s=(a(66955),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/create.vue";var o=s.exports},93220:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("permission-section",{key:t.id},[a("div",{staticClass:"task-plan-view-box"},[a("layout",t._b({attrs:{title:t.planInfo.name,"plan-name":t.planInfo.name,loading:t.isLoading},scopedSlots:t._u([{key:"footer",fn:function(){return[a("div",{staticClass:"action-box"},[a("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"execPlan"},expression:"{ type: 'button', value: 'execPlan' }"}],staticClass:"w120 mr10",attrs:{theme:"primary",loading:t.execLoading},on:{click:t.handleExec}},[t._v("\n                        "+t._s(t.$t("template.去执行"))+"\n                    ")]),t._v(" "),a("bk-popover",{attrs:{placement:"top"}},[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlan"},expression:"{ type: 'button', value: 'editPlan' }"}],staticClass:"mr10",attrs:{permission:t.planInfo.canEdit,"resource-id":t.id,auth:"job_plan/edit"},on:{click:t.handleEdit}},[a("span",[t._v(t._s(t.$t("template.编辑")))]),t._v(" "),a("span",{staticStyle:{"font-size":"12px",color:"#979ba5"}},[t._v("\n                                ("+t._s(t.planInfo.enableStepNums)+"/"+t._s(t.planInfo.templateStepNums)+")\n                            ")])]),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v(t._s(t.$t("template.共有"))+" "+t._s(t.planInfo.templateStepNums)+" "+t._s(t.$t("template.个步骤，")))]),t._v(" "),a("p",[t._v(t._s(t.$t("template.当前已选中"))+" "+t._s(t.planInfo.enableStepNums)+" "+t._s(t.$t("template.个.select")))])])],1),t._v(" "),a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createCrontab"},expression:"{ type: 'button', value: 'createCrontab' }"}],staticClass:"mr10",attrs:{auth:"cron/create"},on:{click:t.handleGoCron}},[t._v("\n                        "+t._s(t.$t("template.定时执行"))+"\n                    ")]),t._v(" "),a("span",{attrs:{"tippy-tips":t.planInfo.needUpdate?"":t.$t("template.无需同步")}},[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"syncPlan"},expression:"{ type: 'button', value: 'syncPlan' }"}],staticClass:"action-update",attrs:{disabled:!t.planInfo.needUpdate,"resource-id":t.id,auth:"job_plan/sync"},on:{click:t.handleSync}},[a("span",[t._v(t._s(t.$t("template.去同步")))]),t._v(" "),t.planInfo.needUpdate?a("div",{staticClass:"update-flag"},[a("Icon",{attrs:{type:"sync-8","tippy-tips":t.$t("template.未同步")}})],1):t._e()])],1),t._v(" "),a("jb-popover-confirm",{staticClass:"action-del",attrs:{title:t.$t("template.确定删除该执行方案？"),content:t.$t("template.若已设置了定时任务，需要先删除才能操作"),"confirm-handler":t.handleDelete}},[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deletePlan"},expression:"{ type: 'button', value: 'deletePlan' }"}],staticClass:"delete-btn",attrs:{permission:t.planInfo.canDelete,"resource-id":t.id,auth:"job_plan/delete"}},[t._v("\n                            "+t._s(t.$t("template.删除"))+"\n                        ")])],1)],1)]},proxy:!0}])},"layout",t.$attrs,!1),[a("div",{staticClass:"view-title",attrs:{slot:"title"},slot:"title"},[a("edit-title",{attrs:{data:t.planInfo},on:{"on-edit-success":t.handleEditSuccess}}),t._v(" "),t.planInfo.cronJobCount>0?a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.html",value:"\n                        <div>"+t.$t("template.有")+" "+t.planInfo.cronJobCount+" "+t.$t("template.个定时任务")+"</div>\n                        <div>"+t.$t("template.点击前往查看")+"</div>\n                    ",expression:"`\n                        <div>${$t('template.有')} ${planInfo.cronJobCount} ${$t('template.个定时任务')}</div>\n                        <div>${$t('template.点击前往查看')}</div>\n                    `",modifiers:{html:!0}}],staticClass:"cron-job-tag",on:{click:t.handleGoCronList}},[a("Icon",{attrs:{type:"job-timing",svg:""}}),t._v(" "),a("span",{staticStyle:{"margin-left":"2px"}},[t._v(t._s(t.planInfo.cronJobCount))])],1):t._e()],1),t._v(" "),a("div",{staticClass:"link-wraper",attrs:{slot:"sub-title"},slot:"sub-title"},[a("auth-button",{attrs:{"resource-id":t.templateId,auth:"job_template/view",text:""},on:{click:t.handleGoTemplate}},[a("span",[t._v(t._s(t.$t("template.所属作业模板")))]),t._v(" "),a("Icon",{attrs:{type:"jump"}})],1)],1),t._v(" "),a("jb-form",{attrs:{"form-type":"vertical"}},[a("jb-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{label:t.$t("template.全局变量.label")}},[a("render-global-var",{key:t.id,attrs:{list:t.usedVariableList,"default-field":t.$t("template.变量值")}}),t._v(" "),t.unusedVariableList.length>0?a("toggle-display",{staticStyle:{"margin-top":"20px"},attrs:{count:t.unusedVariableList.length}},[a("render-global-var",{key:t.id,staticStyle:{"margin-top":"18px"},attrs:{list:t.unusedVariableList,"default-field":t.$t("template.变量值")}})],1):t._e()],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.执行步骤")}},[a("render-task-step",{key:t.id,attrs:{list:t.planInfo.enableStepList,variable:t.planInfo.variableList}})],1)],1)],1)],1)])};i._withStripped=!0;var n=a(10294),r=n.Z,s=(a(78366),(0,a(35471).Z)(r,i,[],!1,null,"12544ee2",null));s.options.__file="src/views/task-manage/common/plan/detail.vue";var o=s.exports},11677:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("layout",t._b({staticClass:"task-plan-edit-box",attrs:{"plan-name":t.name,loading:t.isLoading},scopedSlots:t._u([{key:"footer",fn:function(){return[a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.isSubmitDisable?t.$t("template.请至少勾选一个执行步骤"):"",expression:"isSubmitDisable ? $t('template.请至少勾选一个执行步骤') : ''"}]},[a("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlanSave"},expression:"{ type: 'button', value: 'editPlanSave' }"}],staticClass:"w120 mr10",attrs:{theme:"primary",disabled:t.isSubmitDisable,loading:t.submitLoading},on:{click:t.handleSumbit}},[t._v("\n                "+t._s(t.$t("template.保存"))+"\n            ")])],1),t._v(" "),a("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlanCancel"},expression:"{ type: 'button', value: 'editPlanCancel' }"}],on:{click:t.handleCancle}},[t._v("\n            "+t._s(t.$t("template.取消"))+"\n        ")])]},proxy:!0}])},"layout",t.$attrs,!1),[a("jb-form",{ref:"titleForm",staticStyle:{width:"100%"},attrs:{slot:"title",model:t.formData},slot:"title"},[a("jb-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{rules:t.rules.name,property:"name","error-display-type":"tooltips"}},[a("jb-input",{staticClass:"name-input",attrs:{behavior:"simplicity",placeholder:t.$t("template.推荐按照该执行方案提供的使用场景来取名..."),"native-attributes":{spellcheck:!1,autofocus:!0},maxlength:60},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),a("jb-form",{directives:[{name:"test",rawName:"v-test",value:{type:"form",value:"editPlan"},expression:"{ type: 'form', value: 'editPlan' }"}],ref:"editPlanForm",attrs:{model:t.formData,rules:t.rules,"form-type":"vertical"}},[a("jb-form-item",{staticStyle:{"margin-bottom":"40px"}},[a("div",{staticClass:"section-title"},[a("span",[t._v(t._s(t.$t("template.全局变量.label")))]),t._v(" "),a("span",[t._v("（ "+t._s(t.selectedVariable.length)+" / "+t._s(t.globalVariableList.length)+" ）")])]),t._v(" "),a("render-global-var",{key:t.id,attrs:{list:t.globalVariableList,"select-value":t.selectedVariable,"default-field":t.$t("template.变量值"),mode:"editOfPlan"},on:{"on-change":t.handleVariableChange}})],1),t._v(" "),a("jb-form-item",{attrs:{rules:t.rules.enableSteps,property:"enableSteps"}},[a("div",{staticClass:"task-step-selection"},[a("div",{staticClass:"section-title"},[a("span",[t._v(t._s(t.$t("template.选择执行步骤")))]),t._v(" "),a("span",[t._v("（ "+t._s(t.formData.enableSteps.length)+" / "+t._s(t.taskStepList.length)+" ）")])]),t._v(" "),a("div",{staticClass:"step-check"},[t.hasSelectAll?a("bk-button",{attrs:{text:""},on:{click:t.handleDeselectAll}},[t._v("\n                        "+t._s(t.$t("template.取消全选"))+"\n                    ")]):a("bk-button",{attrs:{text:""},on:{click:t.handleSelectAll}},[t._v("\n                        "+t._s(t.$t("template.全选"))+"\n                    ")])],1)]),t._v(" "),a("render-task-step",{key:t.id,attrs:{list:t.taskStepList,"select-value":t.formData.enableSteps,variable:t.globalVariableList,mode:"select"},on:{"on-select":t.handleSelectStep}})],1)],1)],1)};i._withStripped=!0;var n=a(22427),r=n.Z,s=(a(66235),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/edit.vue";var o=s.exports},85042:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"preview-render-ralated"},[a("div",{staticClass:"header",on:{click:t.handleToggle}},[a("div",{staticClass:"toggle-flag"},[t.isShowRelateList?a("Icon",{attrs:{type:"arrow-full-down"}}):a("Icon",{attrs:{type:"arrow-full-right"}})],1),t._v(" "),a("div",{staticClass:"type"},[a("Icon",{attrs:{type:t.globalVariableInfo.icon}})],1),t._v(" "),a("div",{staticClass:"name"},[t._v(t._s(t.globalVariableInfo.name))])]),t._v(" "),t.isShowRelateList?a("table",[a("thead",[a("tr",[a("th",{staticStyle:{width:"230px"}},[t._v(t._s(t.$t("template.执行方案.colHead")))]),t._v(" "),a("th",{staticStyle:{width:"205px"}},[t._v(t._s(t.$t("template.作业模板")))]),t._v(" "),a("th",{staticStyle:{width:"185px"}},[t._v(t._s(t.$t("template.原始值")))]),t._v(" "),a("th",[t._v(t._s(t.$t("template.更新值")))])])]),t._v(" "),a("tbody",t._l(t.relateList,(function(e){return a("tr",{key:e.id},[a("td",[a("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[t._v(t._s(e.plan.name))])]),t._v(" "),a("td",[a("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[t._v(t._s(e.plan.templateName))])]),t._v(" "),a("td",[a("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[t._v(t._s(e.globalVariable.valueText))])]),t._v(" "),a("td",[a("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[t._v(t._s(t.latestValueText))])])])})),0)]):t._e()])};i._withStripped=!0;var n=a(97026),r=n.Z,s=(a(9073),(0,a(35471).Z)(r,i,[],!1,null,"12952eb2",null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-preview/components/render-related-info.vue";var o=s.exports},67341:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"batch-preview-plan-global-variable"},[t._l(t.globalVariableRelatePlanMap,(function(e,i){return[a("render-related-info",{key:i,ref:"relate",refInFor:!0,attrs:{"relate-list":e,"latest-value":t.latestValueMap[i]}})]}))],2)};i._withStripped=!0;var n=a(92580),r=n.Z,s=(a(73607),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-preview/index.vue";var o=s.exports},49200:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"name"},[a("span",[t._v(t._s(t.data.name))]),t._v(" "),a("span",{staticClass:"remove-flag",on:{click:t.handleRemove}},[a("Icon",{attrs:{type:"reduce-fill"}})],1)]),t._v(" "),a("div",[t.isValueEmpty?a("bk-button",{staticStyle:{width:"160px"},on:{click:t.handleChooseIp}},[a("Icon",{attrs:{type:"plus"}}),t._v("\n            "+t._s(t.$t("template.添加服务器"))+"\n        ")],1):a("div",{staticClass:"host-value-text",on:{click:t.handleChooseIp}},[a("div",{staticClass:"host-type"},[a("Icon",{attrs:{type:"host"}})],1),t._v(" "),a("div",[t._v("\n                "+t._s(t.valueText)+"\n            ")]),t._v(" "),a("Icon",{staticClass:"host-edit",attrs:{type:"edit-2"}})],1)],1),t._v(" "),a("choose-ip",{attrs:{"host-node-info":t.hostNodeInfo},on:{"on-change":t.handleChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};i._withStripped=!0;var n=a(14452),r=n.Z,s=(a(2730),(0,a(35471).Z)(r,i,[],!1,null,"68f52c02",null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/host.vue";var o=s.exports},53914:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.com,t._g(t._b({tag:"comoponent",staticClass:"global-variable-batch-edit-render",attrs:{data:t.data}},"comoponent",t.$attrs,!1),t.$listeners))};i._withStripped=!0;var n=a(67610),r=n.Z,s=(a(48806),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/index.vue";var o=s.exports},39955:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"name"},[a("span",[t._v(t._s(t.data.name))]),t._v(" "),a("span",{staticClass:"remove-flag",on:{click:t.handleRemove}},[a("Icon",{attrs:{type:"reduce-fill"}})],1)]),t._v(" "),a("bk-input",{attrs:{type:"password",value:t.value},on:{change:t.handleChange}})],1)};i._withStripped=!0;var n=a(39033),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/password.vue";var o=s.exports},65208:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"name"},[a("span",[t._v(t._s(t.data.name))]),t._v(" "),a("span",{staticClass:"remove-flag",on:{click:t.handleRemove}},[a("Icon",{attrs:{type:"reduce-fill"}})],1)]),t._v(" "),a("bk-input",{attrs:{value:t.value},on:{change:t.handleChange}})],1)};i._withStripped=!0;var n=a(59429),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/text.vue";var o=s.exports},53610:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"batch-edit-plan-global-variable"},[a("div",{staticClass:"action-target-info"},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("template.更新范围")))]),t._v(" "),a("span",{staticClass:"content-split"},[t._v(":")]),t._v(" "),a("span",[a("span",[t._v(t._s(t.$t("template.已选")))]),t._v(" "),a("span",{staticClass:"number strong"},[t._v(t._s(t.planList.length))]),t._v(" "),a("span",[t._v(t._s(t.$t("template.个执行方案，"))+t._s(t.$t("template.来自")))]),t._v(" "),a("span",{staticClass:"number strong"},[t._v(t._s(t.relatedTemplateNums))]),t._v(" "),a("span",[t._v(t._s(t.$t("template.个作业模板")))])])]),t._v(" "),a("div",{staticClass:"action-target-info",staticStyle:{"margin-top":"10px"}},[a("span",{staticClass:"label"},[t._v(t._s(t.$t("template.选择变量")))]),t._v(" "),a("span",{staticClass:"content-split",staticStyle:{color:"#ea3636"}},[t._v("*")]),t._v(" "),a("span",[t._v(t._s(t.selectResultText)+"，")]),t._v(" "),t.isHasSelectedAll?a("bk-button",{attrs:{text:""},on:{click:t.handleCancleSelectAll}},[t._v(t._s(t.$t("template.取消全选")))]):a("bk-button",{attrs:{text:""},on:{click:t.handleSelectAll}},[t._v(t._s(t.$t("template.全选")))])],1),t._v(" "),a("div",{staticClass:"global-variable-list"},t._l(t.globalVariableMap,(function(e,i){return a("div",{key:i,staticClass:"variable-item",class:{active:!!t.selectVariableMap[i]},on:{click:function(e){return t.handleVariableSelect(i)}}},[a("div",{staticClass:"variable-type"},[a("Icon",{attrs:{type:e.icon}})],1),t._v(" "),a("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"variable-name"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"select-checked"})])})),0),t._v(" "),t.isSelectNotEmpty?a("div",{staticClass:"global-variable-value"},[t._l(t.globalVariableMap,(function(e,i){return[t.selectVariableMap[i]?a("render-global-variable",{key:i,attrs:{value:t.selectVariableValueMap[i],data:e},on:{"on-change":function(e){return t.handleValueChange(i,e)},"on-remove":function(e){return t.handleRemoveSelect(i)}}}):t._e()]}))],2):t._e()])};i._withStripped=!0;var n=a(81303),r=n.Z,s=(a(40279),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/index.vue";var o=s.exports},57099:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-sideslider",{ref:"root",attrs:{"is-show":t.isShow,width:900,title:t.$t("template.批量编辑变量值"),"show-footer":!t.isLoading&&t.isGlobalVariableNotEmpty},on:{"update:isShow":t.handleCancel}},[t.isLoading?a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticStyle:{"min-height":"100px"}}):a("div",[t.isGlobalVariableNotEmpty?a("div",{staticClass:"batch-edit-global-variable-box"},[a("div",{staticClass:"edit-header"},[a("bk-steps",{staticStyle:{width:"300px"},attrs:{"cur-step":t.curStep,steps:t.steps},on:{"update:curStep":function(e){t.curStep=e},"update:cur-step":function(e){t.curStep=e}}})],1),t._v(" "),a("keep-alive",{attrs:{exclude:"editPreview"}},[t.planList.length>0?a(t.stepCom,{ref:"handler",tag:"component",attrs:{"plan-list":t.planList,"latest-value-map":t.globalVariableValueMap},on:{"on-edit-change":t.handleEditChange}}):t._e()],1)],1):a("Empty",{staticStyle:{"margin-top":"126px"}},[a("div",{staticStyle:{"font-size":"20px","line-height":"26px",color:"#63656e"}},[t._v("\n                "+t._s(t.$t("template.暂无全局变量"))+"\n            ")]),t._v(" "),a("div",{staticStyle:{"margin-top":"12px","font-size":"14px","line-height":"19px",color:"#979ba5"},attrs:{slot:"desc"},slot:"desc"},[t._v("\n                "+t._s(t.$t("template.所选执行方案，无变量值可编辑"))+"\n            ")])])],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[1===t.curStep?[a("bk-button",{staticClass:"mr10",attrs:{theme:"primary",disabled:t.isPreviewDisabled},on:{click:t.handlePreview}},[t._v("\n                "+t._s(t.$t("template.下一步"))+"\n            ")])]:t._e(),t._v(" "),2===t.curStep?[t.hasEmptyValueVariable?a("jb-popover-confirm",{attrs:{title:t.$t("template.确定立即批量更新？"),content:t.$t("template.请注意！变量值填框留空，即代表设置目标变量为空值。"),"confirm-handler":t.handleSubmit}},[a("bk-button",{staticClass:"mr10",attrs:{theme:"primary"}},[t._v("\n                    "+t._s(t.$t("template.提交"))+"\n                ")])],1):a("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:t.handleSubmit}},[t._v("\n                "+t._s(t.$t("template.提交"))+"\n            ")]),t._v(" "),a("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:function(e){return t.handleChangeStep(1)}}},[t._v("\n                "+t._s(t.$t("template.上一步"))+"\n            ")])]:t._e(),t._v(" "),a("bk-button",{on:{click:t.handleCancel}},[t._v(t._s(t.$t("template.取消")))])],2)])};i._withStripped=!0;var n=a(57186),r=n.Z,s=(a(16627),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/index.vue";var o=s.exports},15676:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"layout",staticClass:"plan-list-page-layout",class:{toggled:t.isOpen}},[a("div",{staticClass:"layout-left"},[a("div",{staticClass:"left-wraper",style:t.styles},[t._t("default")],2),t._v(" "),t.flod?a("div",{staticClass:"toggle-button",on:{click:t.handleToggle}},[a("Icon",{staticClass:"toggle-arrow",attrs:{type:"down-small"}})],1):t._e()]),t._v(" "),t.flod?a("div",{staticClass:"layout-right"},[a("div",{staticClass:"right-wraper",class:{active:t.isShowRight}},[t.isShowRight?t._t("flod"):t._e()],2),t._v(" "),a("div",{staticClass:"close-btn",on:{click:t.handleClose}},[a("Icon",{attrs:{type:"close-big"}})],1)]):t._e()])};i._withStripped=!0;var n=a(742),r=n.Z,s=(a(62978),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/layout.vue";var o=s.exports},31695:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-dialog",{staticClass:"template-select-dialog",attrs:{value:t.value,title:t.$t("template.新建执行方案"),"header-position":"left","render-directive":"if","mask-close":!1,"esc-close":!1,width:480,draggable:!1},on:{cancel:t.handleCancel}},[a("jb-form",{ref:"form",attrs:{model:t.formData,"form-type":"vertical",rules:t.rules}},[a("jb-form-item",{attrs:{label:t.$t("template.作业模板"),required:"",property:"templateId"}},[a("bk-select",{attrs:{placeholder:t.$t("template.请选择作业模板"),clearable:!1,searchable:"","remote-method":t.fetchData},model:{value:t.formData.templateId,callback:function(e){t.$set(t.formData,"templateId",e)},expression:"formData.templateId"}},[t._l(t.templateList,(function(t){return a("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})})),t._v(" "),a("template",{slot:"extension"},[a("auth-component",{attrs:{auth:"job_template/create"}},[a("div",{staticStyle:{cursor:"pointer"},on:{click:t.handleCreate}},[a("i",{staticClass:"bk-icon icon-plus-circle"}),t._v(t._s(t.$t("template.新建模板"))+"\n                        ")]),t._v(" "),a("div",{attrs:{slot:"forbid"},slot:"forbid"},[a("i",{staticClass:"bk-icon icon-plus-circle"}),t._v(t._s(t.$t("template.新建模板"))+"\n                        ")])])],1)],2)],1)],1),t._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("auth-button",{staticClass:"mr10",attrs:{"resource-id":t.formData.templateId,auth:t.formData.templateId?"job_plan/create":"",theme:"primary",disabled:!t.formData.templateId},on:{click:t.handleSubmit}},[t._v("\n            "+t._s(t.$t("template.确定"))+"\n        ")]),t._v(" "),a("bk-button",{on:{click:t.handleCancel}},[t._v(t._s(t.$t("template.取消")))])],1)],1)};i._withStripped=!0;var n=a(3833),r=n.Z,s=(a(87005),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/components/template-select.vue";var o=s.exports},60663:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-manage-plan-page"},[a("list-action-layout",{scopedSlots:t._u([{key:"right",fn:function(){return[a("jb-search-select",{ref:"search",staticStyle:{width:"420px"},attrs:{"append-value":t.searchValue,data:t.searchData,placeholder:t.$t("template.输入 ID、执行方案名、作业模板名、更新人 或 创建人 进行搜索...")},on:{"on-change":t.handleSearch}}),t._v(" "),a("bk-button",{on:{click:t.handleMyPlan}},[t._v(t._s(t.$t("template.我的方案")))])]},proxy:!0}])},[a("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createPlan"},expression:"{ type: 'button', value: 'createPlan' }"}],staticClass:"w120",attrs:{theme:"primary"},on:{click:t.handleCreatePlan}},[t._v("\n            "+t._s(t.$t("template.新建"))+"\n        ")]),t._v(" "),a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.batchSyncDisableTips,expression:"batchSyncDisableTips"}]},[a("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"batchSyncPlan"},expression:"{ type: 'button', value: 'batchSyncPlan' }"}],on:{click:t.handleSyncBatch}},[t._v("\n                "+t._s(t.$t("template.批量同步"))+"\n            ")])],1),t._v(" "),a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.batchEditGlobalVariableTips,expression:"batchEditGlobalVariableTips"}]},[a("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"batchEditPlanValue"},expression:"{ type: 'button', value: 'batchEditPlanValue' }"}],on:{click:t.handleBatchEditGlobalVariable}},[t._v("\n                "+t._s(t.$t("template.批量编辑变量值"))+"\n            ")])],1)],1),t._v(" "),a("layout",{attrs:{flod:t.isListFlod},on:{"on-flod":t.handleLayoutFlod}},[a("render-list",{directives:[{name:"test",rawName:"v-test",value:{type:"list",value:"plan"},expression:"{ type: 'list', value: 'plan' }"}],ref:"list",attrs:{"data-source":t.listDataSource,"search-control":function(){return t.$refs.search},selectable:"","outer-border":!1,size:t.tableSize,"row-class-name":t.caclRowClassName,"pagination-small":t.paginationSmall},on:{"on-selection-change":t.handleSelection}},[t.isCreatePlan?a("div",{staticClass:"create-plan-placeholder",class:{active:-1===t.selectPlanInfo.id},attrs:{slot:"prepend"},slot:"prepend"},[a("div",{staticClass:"name-box"},[t._v(t._s(t.newPlanName||"--"))]),t._v(" "),a("Icon",{staticStyle:{"font-size":"26px",color:"#ff9c01"},attrs:{type:"new-3",svg:""}})],1):t._e(),t._v(" "),t.allRenderColumnMap.id?a("bk-table-column",{key:"id",attrs:{label:"ID",prop:"id",width:"120",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.name?a("bk-table-column",{key:"name",attrs:{label:t.$t("template.执行方案名称"),prop:"name","min-width":"300",align:"left","class-name":"plan-name-column"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("auth-component",{staticStyle:{width:"100%"},attrs:{permission:i.canView,auth:"job_plan/view","resource-id":i.id}},[a("div",{staticClass:"plan-name-box",class:{active:t.selectPlanInfo.id===i.id},on:{click:function(e){return t.handlePlanSelect(i)}}},[a("div",{staticClass:"name-wraper"},[a("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"name-text"},[t._v("\n                                    "+t._s(i.name)+"\n                                ")]),t._v(" "),i.cronJobCount>0?a("router-link",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.html",value:"\n                                        <div>"+t.$t("template.有")+" "+i.cronJobCount+" "+t.$t("template.个定时任务")+"</div>\n                                        <div>"+t.$t("template.点击前往查看")+"</div>\n                                    ",expression:"`\n                                        <div>${$t('template.有')} ${row.cronJobCount} ${$t('template.个定时任务')}</div>\n                                        <div>${$t('template.点击前往查看')}</div>\n                                    `",modifiers:{html:!0}}],staticClass:"cron-job-tag",attrs:{to:{name:"cronList",query:{planId:i.id}},target:"_blank"}},[a("Icon",{attrs:{type:"job-timing",svg:""}}),t._v(" "),a("span",{staticStyle:{"margin-left":"2px"}},[t._v(t._s(i.cronJobCount))])],1):t._e(),t._v(" "),i.needUpdate?a("span",{staticClass:"update-flag"},[a("Icon",{attrs:{"tippy-tips":t.$t("template.未同步"),type:"sync-8",svg:""}})],1):t._e()],1),t._v(" "),a("Icon",{staticClass:"collection-flag",class:{favored:i.favored},attrs:{type:"collection"},on:{click:function(e){return e.stopPropagation(),t.handleCollection(i)}}}),t._v(" "),t.selectPlanInfo.id===i.id?a("Icon",{staticClass:"select-flag",attrs:{type:"arrow-full-right"}}):t._e()],1),t._v(" "),a("div",{staticClass:"plan-name-box",class:{active:t.selectPlanInfo.id===i.id},attrs:{slot:"forbid"},slot:"forbid"},[a("div",{staticClass:"name-wraper"},[a("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"name-text"},[t._v(t._s(i.name))]),t._v(" "),i.cronJobCount>0?a("router-link",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.html",value:"\n                                        <div>"+t.$t("template.有")+" "+i.cronJobCount+" "+t.$t("template.个定时任务")+"</div>\n                                        <div>"+t.$t("template.点击前往查看")+"</div>\n                                    ",expression:"`\n                                        <div>${$t('template.有')} ${row.cronJobCount} ${$t('template.个定时任务')}</div>\n                                        <div>${$t('template.点击前往查看')}</div>\n                                    `",modifiers:{html:!0}}],staticClass:"cron-job-tag",attrs:{to:{name:"cronList",query:{planId:i.id}},target:"_blank"}},[a("Icon",{attrs:{type:"job-timing",svg:""}}),t._v(" "),a("span",{staticStyle:{"margin-left":"2px"}},[t._v(t._s(i.cronJobCount))])],1):t._e(),t._v(" "),i.needUpdate?a("span",{staticClass:"update-flag"},[a("Icon",{attrs:{"tippy-tips":t.$t("template.未同步"),type:"sync-8",svg:""}})],1):t._e()],1),t._v(" "),a("Icon",{staticClass:"collection-flag",class:{favored:i.favored},attrs:{type:"collection"},on:{click:function(e){return e.stopPropagation(),t.handleCollection(i)}}})],1)])]}}],null,!1,1206902604)}):t._e(),t._v(" "),t.allRenderColumnMap.templateName?a("bk-table-column",{key:"templateName",attrs:{label:t.$t("template.所属作业模板"),prop:"templateName","min-width":"200","show-overflow-tooltip":"",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.lastModifyUser?a("bk-table-column",{key:"lastModifyUser",attrs:{label:t.$t("template.更新人.colHead"),prop:"lastModifyUser",width:"160",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.lastModifyTime?a("bk-table-column",{key:"lastModifyTime",attrs:{label:t.$t("template.更新时间"),prop:"lastModifyTime",width:"180",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.creator?a("bk-table-column",{key:"creator",attrs:{label:t.$t("template.创建人"),prop:"creator",width:"120",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.createTime?a("bk-table-column",{key:"createTime",attrs:{label:t.$t("template.创建时间"),prop:"createTime",width:"180",align:"left"}}):t._e(),t._v(" "),t.isListFlod?t._e():a("bk-table-column",{key:"action",attrs:{resizable:!1,label:t.$t("template.操作"),prop:"statusText",fixed:"right",width:"120",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.row;return[a("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"execPlan"},expression:"{ type: 'button', value: 'execPlan' }"}],staticClass:"mr10",attrs:{text:""},on:{click:function(e){return t.handleExecute(i)}}},[t._v("\n                        "+t._s(t.$t("template.去执行"))+"\n                    ")]),t._v(" "),a("span",{attrs:{"tippy-tips":i.needUpdate?"":t.$t("template.无需同步")}},[a("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"syncPlan"},expression:"{ type: 'button', value: 'syncPlan' }"}],staticClass:"mr10",attrs:{permission:i.canEdit,auth:"job_plan/sync","resource-id":i.id,text:""},on:{click:function(e){return t.handleUpdate(i)}}},[t._v("\n                            "+t._s(t.$t("template.去同步"))+"\n                        ")])],1),t._v(" "),a("list-operation-extend",[a("div",{directives:[{name:"test",rawName:"v-test",value:{type:"link",value:"createCrontab"},expression:"{ type: 'link', value: 'createCrontab' }"}],staticClass:"action-item",on:{click:function(e){return t.handleGoCreateCronJob(i)}}},[t._v("\n                            "+t._s(t.$t("template.定时执行"))+"\n                        ")]),t._v(" "),a("auth-component",{attrs:{permission:i.canEdit,auth:"job_plan/edit","resource-id":i.id}},[a("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlan"},expression:"{ type: 'button', value: 'editPlan' }"}],staticClass:"action-item",on:{click:function(e){return t.handleEdit(i)}}},[t._v("\n                                "+t._s(t.$t("template.编辑"))+"\n                            ")]),t._v(" "),a("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlan"},expression:"{ type: 'button', value: 'editPlan' }"}],staticClass:"action-item",attrs:{slot:"forbid"},slot:"forbid"},[t._v("\n                                "+t._s(t.$t("template.编辑"))+"\n                            ")])]),t._v(" "),a("jb-popover-confirm",{staticClass:"action-del",attrs:{title:t.$t("template.确定删除该执行方案？"),content:t.$t("template.若已设置了定时任务，需要先删除才能操作"),"confirm-handler":function(){return t.handleDelete(i)}}},[a("auth-component",{attrs:{permission:i.canDelete,auth:"job_plan/delete","resource-id":i.id}},[a("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deletePlan"},expression:"{ type: 'button', value: 'deletePlan' }"}],staticClass:"action-item"},[t._v("\n                                    "+t._s(t.$t("template.删除"))+"\n                                ")]),t._v(" "),a("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deletePlan"},expression:"{ type: 'button', value: 'deletePlan' }"}],staticClass:"action-item",attrs:{slot:"forbid"},slot:"forbid"},[t._v("\n                                    "+t._s(t.$t("template.删除"))+"\n                                ")])])],1)],1)]}}],null,!1,1752967623)}),t._v(" "),t.isListFlod?t._e():a("bk-table-column",{attrs:{type:"setting"}},[a("bk-table-setting-content",{attrs:{fields:t.tableColumn,selected:t.selectedTableColumn,size:t.tableSize},on:{"setting-change":t.handleSettingChange}})],1)],1),t._v(" "),a("template",{slot:"flod"},[a(t.planCom,t._b({ref:"planHandler",tag:"component",attrs:{"bottom-offset":20,"first-plan":t.isFirstTemplatePlan},on:{"on-name-change":t.handleCreatePlanNameChange,"on-create":t.handleCreateSubmit,"on-edit":t.handleShowPlanEdit,"on-edit-cancle":t.handleEditCancle,"on-edit-success":t.handleEditSuccess,"on-delete":t.handlePlanDelete}},"component",t.selectPlanInfo,!1))],1)],2),t._v(" "),a("lower-component",{attrs:{level:"custom",custom:t.isShowTemplateSelect}},[a("template-select",{on:{"on-change":t.handleTemplateChange},model:{value:t.isShowTemplateSelect,callback:function(e){t.isShowTemplateSelect=e},expression:"isShowTemplateSelect"}})],1),t._v(" "),a("lower-component",{attrs:{level:"custom",custom:t.isShowBatchGlobalVariable}},[a("batch-edit-global-variable",{attrs:{data:t.listSelect},on:{"on-success":t.handleBatchEditGlobalVariableSuccess},model:{value:t.isShowBatchGlobalVariable,callback:function(e){t.isShowBatchGlobalVariable=e},expression:"isShowBatchGlobalVariable"}})],1)],1)};i._withStripped=!0;var n=a(16832),r=n.Z,s=(a(476),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/plan/list/index.vue";var o=s.exports},92981:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("global-variable-layout",{attrs:{type:"vertical"}},[t._l(t.usedList,(function(t){return a("global-variable",{key:t.id,ref:"used",refInFor:!0,attrs:{type:t.type,data:t}})})),t._v(" "),t.usedList.length<1?a("Empty",{key:"empty",staticStyle:{height:"160px","max-width":"960px","background-color":"#f0f1f5"},attrs:{title:t.$t("template.暂无引用的变量")}}):t._e(),t._v(" "),t.unusedList.length>0?a("toggle-display",{staticStyle:{"margin-top":"20px"},attrs:{count:t.unusedList.length}},[a("div",{staticStyle:{"margin-top":"20px"}},t._l(t.unusedList,(function(t){return a("global-variable",{key:t.id,ref:"unused",refInFor:!0,attrs:{type:t.type,data:t}})})),1)]):t._e()],2)};i._withStripped=!0;var n=a(95930),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/batch-edit-of-plan/index.vue";var o=s.exports},25522:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",{staticClass:"global-variable-create-row"},[a("td",[a("bk-select",{staticClass:"offset-left",attrs:{clearable:!1,value:t.formData.type},on:{change:function(e){return t.handleChange("type",e)}}},t._l(t.typeList,(function(t){return a("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})})),1)],1),t._v(" "),a("td",[a("div",{staticClass:"variable-name-box offset-left",class:{"edit-error":t.isNameError}},[a("bk-input",{attrs:{value:t.formData.name},on:{blur:t.handleShowNameError,change:function(e){return t.handleChange("name",e)}}}),t._v(" "),t.isNameError?a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.errorNameText,expression:"errorNameText"}],staticClass:"input-error",attrs:{type:"info"}}):t._e()],1)]),t._v(" "),a("td",[t.isHostVarialbe?[t.formData.defaultTargetValue.isEmpty?a("div",{staticClass:"add-host-btn offset-left",on:{click:t.handleShowChooseIp}},[a("Icon",{staticStyle:{"margin-right":"6px"},attrs:{type:"plus"}}),t._v("\n                "+t._s(t.$t("添加服务器"))+"\n            ")],1):a("jb-edit-host",{attrs:{field:"defaultTargetValue",value:t.formData.defaultTargetValue}})]:[a("bk-input",{staticClass:"offset-left",attrs:{value:t.formData.defaultValue},on:{change:function(e){return t.handleChange("defaultValue",e)}}})]],2),t._v(" "),a("td",[a("jb-textarea",{staticClass:"offset-left",attrs:{value:t.formData.description},on:{change:function(e){return t.handleChange("description",e)}}})],1),t._v(" "),a("td",[t.withChangable?a("bk-checkbox",{attrs:{value:t.formData.changeable,"true-value":1,"false-value":0},on:{change:function(e){return t.handleChange("changeable",e)}}}):a("span",[t._v("--")])],1),t._v(" "),a("td",[a("bk-checkbox",{attrs:{value:t.formData.required,"true-value":1,"false-value":0},on:{change:function(e){return t.handleChange("required",e)}}})],1),t._v(" "),a("td",{staticClass:"action-row"},[a("Icon",{staticClass:"action-btn",attrs:{type:"add-fill"},on:{click:t.handleCreate}}),t._v(" "),a("Icon",{staticClass:"action-btn",attrs:{type:"reduce-fill"},on:{click:t.handleDelete}})],1),t._v(" "),a("choose-ip",{attrs:{"host-node-info":t.formData.defaultTargetValue.hostNodeInfo},on:{"on-change":t.handleHostChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};i._withStripped=!0;var n=a(82493),r=n.Z,s=(a(18576),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/batch-operation/create-table-row.vue";var o=s.exports},85751:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"global-bariable-batch-operation"},[a("table",[a("thead",[a("tr",[a("th",{staticStyle:{width:"130px"}},[t._v(t._s(t.$t("template.变量类型"))),a("span",{staticClass:"require-flag"})]),t._v(" "),a("th",[t._v(t._s(t.$t("template.变量名称"))),a("span",{staticClass:"require-flag"})]),t._v(" "),a("th",[a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("template.请输入变量的初始值 [可选]"),expression:"$t('template.请输入变量的初始值 [可选]')"}],staticClass:"hover-tips"},[t._v("\n                        "+t._s(t.$t("template.初始值"))+"\n                    ")])]),t._v(" "),a("th",{staticStyle:{width:"320px"}},[t._v(t._s(t.$t("template.变量描述")))]),t._v(" "),a("th",{staticStyle:{width:"80px"}},[a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("template.变量的值在执行中可变"),expression:"$t('template.变量的值在执行中可变')"}],staticClass:"hover-tips"},[t._v("\n                        "+t._s(t.$t("template.赋值可变"))+"\n                    ")])]),t._v(" "),a("th",{staticStyle:{width:"100px"}},[t._v(t._s(t.$t("template.执行时必填")))]),t._v(" "),a("th",{staticStyle:{width:"80px"}},[t._v(t._s(t.$t("template.操作")))])])]),t._v(" "),t._l(t.variableList,(function(e,i){return[e.id>0&&1!==e.delete?a("render-table-row",{key:e.id,ref:"variableEdit",refInFor:!0,attrs:{"variable-name-list":t.calcExcludeNameList(e),data:e},on:{"on-change":function(e){return t.handleChange(i,e)},"on-delete":function(e){return t.handleDelete(i)},"on-append":function(e){return t.handleAppendVariable(i)}}}):e.id<0?a("create-table-row",{key:e.id,ref:"variableCreate",refInFor:!0,attrs:{"variable-name-list":t.calcExcludeNameList(e),data:e},on:{"on-change":function(e){return t.handleChange(i,e)},"on-delete":function(e){return t.handleDelete(i)},"on-append":function(e){return t.handleAppendVariable(i)}}}):t._e()]}))],2),t._v(" "),t.isEmpty?a("div",{staticClass:"empty-box",on:{click:function(e){return t.handleAppendVariable(0)}}},[a("Icon",{attrs:{type:"add-fill"}}),t._v(" "),a("span",[t._v(t._s(t.$t("template.全局变量.label")))])],1):t._e()])};i._withStripped=!0;var n=a(77809),r=n.Z,s=(a(16307),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/batch-operation/index.vue";var o=s.exports},71822:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tbody",[a("tr",[a("td",[t._v("\n            "+t._s(t.data.typeText)+"\n        ")]),t._v(" "),a("td",[a("jb-edit-input",{attrs:{mode:"block",value:t.data.name,field:"name",rules:t.rules.name},on:{"on-change":t.handleChange}})],1),t._v(" "),a("td",[t.data.isHost?a("jb-edit-host",{attrs:{value:t.data.defaultTargetValue,field:"defaultTargetValue"},on:{"on-change":t.handleChange}}):a("jb-edit-input",{attrs:{mode:"block",value:t.data.defaultValue,field:"defaultValue"},on:{"on-change":t.handleChange}})],1),t._v(" "),a("td",[a("jb-edit-textarea",{attrs:{mode:"block",rows:1,value:t.data.description,field:"description"},on:{"on-change":t.handleChange}})],1),t._v(" "),a("td",[t.withChangable?a("bk-checkbox",{attrs:{value:t.data.changeable,"true-value":1,"false-value":0}}):a("span",[t._v("--")])],1),t._v(" "),a("td",[a("bk-checkbox",{attrs:{value:t.data.required,"true-value":1,"false-value":0}})],1),t._v(" "),a("td",{staticClass:"action-row"},[a("Icon",{staticClass:"action-btn",attrs:{type:"add-fill"},on:{click:t.handleAppend}}),t._v(" "),a("Icon",{staticClass:"action-btn",attrs:{type:"reduce-fill"},on:{click:t.handleDelete}})],1)])])};i._withStripped=!0;var n=a(37882),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/batch-operation/render-table-row.vue";var o=s.exports},182:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"job-variable-detail"},[a("table",{staticClass:"info-table"},t._l(t.describeMap,(function(e,i){return a("tr",{key:i,staticClass:"variable-item"},[a("td",{staticClass:"info-label"},[t._v(t._s(e.label))]),t._v(" "),a("td",{staticClass:"info-value"},[a("jb-edit-textarea",{attrs:{field:e.filed,value:t.data[e.filed],readonly:""}})],1)])})),0),t._v(" "),t.data.isHost?[a("server-panel",{staticStyle:{"margin-top":"20px"},attrs:{"detail-fullscreen":"","host-node-info":t.data.defaultTargetValue.hostNodeInfo}})]:t._e()],2)};i._withStripped=!0;var n=a(99505),r=n.Z,s=(a(4314),(0,a(35471).Z)(r,i,[],!1,null,"6ccc38c7",null));s.options.__file="src/views/task-manage/common/render-global-var/detail/index.vue";var o=s.exports},92011:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"varArrayForm",attrs:{model:t.formData}},[a("jb-form-item",{attrs:{label:t.$t("template.数组类型")}},[a("div",{staticClass:"array-type-group"},[a("bk-radio-group",{attrs:{value:t.arrayType}},[a("bk-radio-button",{staticClass:"item",attrs:{value:5,disabled:5!==t.arrayType}},[t._v("\n                    "+t._s(t.$t("template.关联数组"))+"\n                ")]),t._v(" "),a("bk-radio-button",{staticClass:"item",attrs:{value:6,disabled:6!==t.arrayType}},[t._v("\n                    "+t._s(t.$t("template.索引数组"))+"\n                ")])],1)],1)]),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量名称")}},[a("bk-input",{attrs:{disabled:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量值")}},[a("bk-input",{attrs:{"native-attributes":{autofocus:"autofocus"}},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量描述")}},[a("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),a("jb-form-item",[a("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.changeable,callback:function(e){t.$set(t.formData,"changeable",e)},expression:"formData.changeable"}},[t._v("\n            "+t._s(t.$t("template.赋值可变"))+"\n        ")])],1),t._v(" "),a("jb-form-item",[a("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s(t.$t("template.必填"))+"\n        ")])],1)],1)};i._withStripped=!0;var n=a(2328),r=n.Z,s=(a(3822),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/array.vue";var o=s.exports},88152:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"varHostForm",attrs:{model:t.formData}},[a("jb-form-item",{attrs:{label:t.$t("template.变量名称")}},[a("bk-input",{attrs:{disabled:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量值")}},[a("section",[a("bk-button",{on:{click:t.handleShowChooseIp}},[a("Icon",{attrs:{type:"plus"}}),t._v("\n                "+t._s(t.$t("template.选择主机"))+"\n            ")],1),t._v(" "),t.isShowClear?a("bk-button",{staticStyle:{"margin-left":"10px"},on:{click:t.handleClear}},[t._v("\n                "+t._s(t.$t("template.清空"))+"\n            ")]):t._e()],1),t._v(" "),a("server-panel",{staticClass:"view-server-panel",attrs:{"host-node-info":t.formData.defaultTargetValue.hostNodeInfo,editable:"","detail-fullscreen":""},on:{"on-change":t.handleHostChange}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量描述")}},[a("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),a("jb-form-item",[a("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v(t._s(t.$t("template.必填")))])],1),t._v(" "),a("choose-ip",{attrs:{"host-node-info":t.formData.defaultTargetValue.hostNodeInfo},on:{"on-change":t.handleHostChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};i._withStripped=!0;var n=a(82096),r=n.Z,s=(a(45960),(0,a(35471).Z)(r,i,[],!1,null,"cd8062d0",null));s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/host.vue";var o=s.exports},93181:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{attrs:{"form-type":"vertical"}},[a("jb-form-item",{attrs:{label:t.$t("template.变量类型"),required:"",desc:t.nametips}},[a("bk-radio-group",{model:{value:t.globalType,callback:function(e){t.globalType=e},expression:"globalType"}},[a("bk-radio-button",{staticClass:"item",attrs:{value:"string",disabled:t.isTypeDisabled,name:t.$t("template.字符串")}},[t._v("\n                "+t._s(t.$t("template.字符串"))+"\n            ")]),t._v(" "),a("bk-radio-button",{staticClass:"item",attrs:{value:"namespace",disabled:t.isTypeDisabled}},[t._v("\n                "+t._s(t.$t("template.命名空间"))+"\n            ")]),t._v(" "),a("bk-radio-button",{staticClass:"item",attrs:{value:"host",disabled:t.isTypeDisabled}},[t._v("\n                "+t._s(t.$t("template.主机列表"))+"\n            ")]),t._v(" "),a("bk-radio-button",{staticClass:"item",attrs:{value:"password",disabled:t.isTypeDisabled}},[t._v("\n                "+t._s(t.$t("template.密文"))+"\n            ")]),t._v(" "),a("bk-radio-button",{staticClass:"item",attrs:{value:"array",disabled:t.isTypeDisabled}},[t._v("\n                "+t._s(t.$t("template.数组"))+"\n            ")])],1)],1),t._v(" "),a(t.globalVarCom,{ref:"handler",tag:"component",attrs:{variable:t.variable,data:t.data}})],1)};i._withStripped=!0;var n=a(62244),r=n.Z,s=(a(76051),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/index.vue";var o=s.exports},16305:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"varNamespaceForm",attrs:{model:t.formData}},[a("jb-form-item",{attrs:{label:t.$t("template.变量名称")}},[a("bk-input",{attrs:{disabled:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量值")}},[a("bk-input",{attrs:{"native-attributes":{autofocus:"autofocus"}},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量描述")}},[a("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),a("jb-form-item",[a("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s(t.$t("template.必填"))+"\n        ")])],1)],1)};i._withStripped=!0;var n=a(86015),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/namespace.vue";var o=s.exports},32358:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"varPasswordForm",attrs:{model:t.formData}},[a("jb-form-item",{attrs:{label:t.$t("template.变量名称")}},[a("bk-input",{attrs:{disabled:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量值")}},[a("bk-input",{attrs:{type:"password","password-icon":[],"native-attributes":{autofocus:"autofocus"}},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量描述")}},[a("bk-input",{attrs:{disabled:"",type:"textarea",row:8,maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),a("jb-form-item",[a("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s(t.$t("template.必填"))+"\n        ")])],1)],1)};i._withStripped=!0;var n=a(25350),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/password.vue";var o=s.exports},92480:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"varStringForm",attrs:{model:t.formData}},[a("jb-form-item",{attrs:{label:t.$t("template.变量名称")}},[a("bk-input",{attrs:{disabled:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量值")}},[a("bk-input",{attrs:{"native-attributes":{autofocus:"autofocus"}},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量描述")}},[a("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),a("jb-form-item",[a("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.changeable,callback:function(e){t.$set(t.formData,"changeable",e)},expression:"formData.changeable"}},[t._v("\n            "+t._s(t.$t("template.赋值可变"))+"\n        ")])],1),t._v(" "),a("jb-form-item",[a("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s(t.$t("template.必填"))+"\n        ")])],1)],1)};i._withStripped=!0;var n=a(89215),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/string.vue";var o=s.exports},40515:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"templateVariableRender"}},[t.showEmpty?a("div",[t._v("--")]):[a("div",{staticClass:"variable-batch-action"},[t.isOperation?a("bk-button",{attrs:{text:""},on:{click:t.handleShowBatchOperation}},[a("Icon",{attrs:{type:"bulk-edit"}}),t._v("\n                "+t._s(t.$t("template.批量编辑"))+"\n            ")],1):t._e(),t._v(" "),t.isEditOfPlan?a("bk-button",{attrs:{text:""},on:{click:t.handleShowBatchEditOfPlan}},[a("Icon",{attrs:{type:"bulk-edit"}}),t._v("\n                "+t._s(t.$t("template.批量编辑变量值"))+"\n            ")],1):t._e()],1),t._v(" "),a("div",{staticClass:"task-global-variable-box"},[t._l(t.variable,(function(e,i){return[1!==e.delete?a("div",{key:e.name+"_"+i,staticClass:"render-global-variable",class:[{"step-mode-diff":t.isDiff},t.isSelect?t.selectValue.includes(e.name)?"selected":"not-selected":""]},[a("div",{staticClass:"global-variable-content",class:[t.diff[e.id]&&t.diff[e.id].type],on:{mouseenter:function(a){return t.handleShowPopoverDetail(e)},mouseleave:t.handleHidePopoverDetail,click:function(a){return t.handlerOperation(e,i)}}},[a("div",{staticClass:"variable-type",attrs:{id:"globalVariableWithName_"+e.name}},[a("Icon",{attrs:{type:e.icon}})],1),t._v(" "),a("div",{staticClass:"variable-info"},[a("div",{staticClass:"variable-name"},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticClass:"variable-description"},[t._v(t._s(e.valueText))])]),t._v(" "),t.isOperation?a("Icon",{staticClass:"variable-delete-btn",attrs:{type:"close"},on:{click:function(e){return e.stopPropagation(),t.handleDelete(i)}}}):t._e()],1)]):t._e()]})),t._v(" "),t.isOperation?a("div",{key:"create",staticClass:"global-variable-new"},[a("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"create_global_variable"},expression:"{ type: 'button', value: 'create_global_variable' }"}],staticClass:"new-btn",on:{click:t.handleCreate}},[a("Icon",{staticClass:"create-flag",attrs:{type:"plus"}}),t._v(" "),a("span",[t._v(t._s(t.$t("template.全局变量.label")))])],1),t._v(" "),a("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("template.使用指引"),expression:"$t('template.使用指引')"}],staticClass:"use-guide",class:{active:t.isShowUseGuide},on:{click:function(e){return e.stopPropagation(),t.handleUseGuideToggle.apply(null,arguments)}}},[a("Icon",{attrs:{type:"help-document-fill"}})],1)]):t._e()],2),t._v(" "),t.currentPopoverDetail.name?a("popover-detail",{attrs:{data:t.currentPopoverDetail,"select-value":t.selectValue,"edit-of-plan":t.isEditOfPlan,"default-field":t.defaultField}}):t._e(),t._v(" "),t.isOperation?a("element-teleport",{attrs:{target:"#templateOperationLayoutRight"}},[t.isShowUseGuide?a("variable-use-guide",{on:{"on-close":t.handleUseGuideClose}}):t._e()],1):t._e(),t._v(" "),t.isView||t.isEditOfPlan?a("jb-sideslider",{ref:"variableView",attrs:{"is-show":t.isShowDetail,title:t.$t("template.查看全局变量"),"show-footer":!1,media:t.detailMedia},on:{"update:isShow":function(e){t.isShowDetail=e},"update:is-show":function(e){t.isShowDetail=e}}},[t.isShowDetail?a("detail",{attrs:{data:t.currentData,"default-field":t.defaultField}}):t._e()],1):t._e(),t._v(" "),t.isEditOfPlan?a("jb-sideslider",{attrs:{"is-show":t.isShowEditOfPlan,title:t.$t("template.编辑全局变量"),width:960},on:{"update:isShow":function(e){t.isShowEditOfPlan=e},"update:is-show":function(e){t.isShowEditOfPlan=e}}},[t.isShowEditOfPlan?a("edit-of-plan",{ref:"planGlobalVar",attrs:{data:t.currentData},on:{"on-change":t.handlePlanEditSubmit}}):t._e()],1):t._e(),t._v(" "),t.isEditOfPlan?a("jb-sideslider",{attrs:{"is-show":t.isShowBatchEditOfPlan,title:t.$t("template.批量编辑变量值"),width:960,"ok-text":t.$t("template.确定"),"footer-offset-target":"variable-value"},on:{"update:isShow":function(e){t.isShowBatchEditOfPlan=e},"update:is-show":function(e){t.isShowBatchEditOfPlan=e}}},[t.isShowBatchEditOfPlan?a("batch-edit-of-plan",{ref:"planGlobalVar",attrs:{"selected-list":t.selectValue,"variable-list":t.variable},on:{"on-change":t.handleBatchPlanEditSubmit}}):t._e()],1):t._e(),t._v(" "),t.isOperation?a("jb-sideslider",t._b({attrs:{"is-show":t.isShowOperation,width:960},on:{"update:isShow":function(e){t.isShowOperation=e},"update:is-show":function(e){t.isShowOperation=e}}},"jb-sideslider",t.operationSideSliderInfo,!1),[t.isShowOperation?a("operation",{ref:"globalVar",attrs:{variable:t.realVariable,data:t.currentData},on:{"on-change":t.handleOperationSubmit}}):t._e()],1):t._e(),t._v(" "),t.isOperation?a("jb-sideslider",{attrs:{"is-show":t.isShowBatchOperation,title:t.$t("template.批量编辑变量"),media:t.batchOperationMediaQuery},on:{"update:isShow":function(e){t.isShowBatchOperation=e},"update:is-show":function(e){t.isShowBatchOperation=e}}},[t.isShowBatchOperation?a("batch-operation",{attrs:{variable:t.variable},on:{"on-change":t.handleBatchOperationSubmit}}):t._e()],1):t._e()]],2)};i._withStripped=!0;var n=a(60815),r=n.Z,s=(a(48174),(0,a(35471).Z)(r,i,[],!1,null,"58e93fa2",null));s.options.__file="src/views/task-manage/common/render-global-var/index.vue";var o=s.exports},40339:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"varArrayForm",attrs:{model:t.formData,rules:t.rules}},[a("jb-form-item",{attrs:{label:t.$t("template.数组类型"),required:"",property:"name"}},[a("div",{staticClass:"array-type-group"},[a("bk-radio-group",{attrs:{value:t.arrayType},on:{change:t.handleArrayTypeChange}},[a("bk-radio-button",{staticClass:"item",attrs:{value:5,disabled:t.isEdit&&5!==t.arrayType}},[t._v("\n                    "+t._s(t.$t("template.关联数组"))+"\n                ")]),t._v(" "),a("bk-radio-button",{staticClass:"item",attrs:{value:6,disabled:t.isEdit&&6!==t.arrayType}},[t._v("\n                    "+t._s(t.$t("template.索引数组"))+"\n                ")])],1)],1)]),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量名称"),required:"",property:"name"}},[a("jb-input",{attrs:{placeholder:t.$t("template.变量名仅支持大小写英文字母或下划线 [必填]"),maxlength:30},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{ref:"defaultValue",attrs:{label:t.$t("template.初始值"),desc:t.$t("template.仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案"),property:"defaultValue"}},[a("bk-input",{staticClass:"var-default-value",attrs:{placeholder:t.$t("template.请输入变量的初始值 [可选]")},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量描述")}},[a("bk-input",{attrs:{type:"textarea",placeholder:t.$t("template.这里可以备注变量的用途、使用说明等信息 [可选]"),maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),a("jb-form-item",{staticClass:"form-item-changeable"},[a("bk-checkbox",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.right",value:t.$t("template.变量的值在执行中可变"),expression:"$t('template.变量的值在执行中可变')",modifiers:{right:!0}}],attrs:{"true-value":1,"false-value":0},model:{value:t.formData.changeable,callback:function(e){t.$set(t.formData,"changeable",e)},expression:"formData.changeable"}},[t._v("\n            "+t._s(t.$t("template.赋值可变"))+"\n        ")])],1),t._v(" "),a("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[a("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s(t.$t("template.执行时必填"))+"\n        ")])],1)],1)};i._withStripped=!0;var n=a(73162),r=n.Z,s=(a(56262),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/operation/array.vue";var o=s.exports},14426:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("jb-form",{ref:"varHostForm",attrs:{model:t.formData,rules:t.rules}},[a("jb-form-item",{attrs:{label:t.$t("template.变量名称"),required:"",property:"name"}},[a("jb-input",{attrs:{maxlength:30,placeholder:t.$t("template.变量名仅支持大小写英文字母或下划线 [必填]")},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{ref:"defaultTargetValue",attrs:{label:t.$t("template.初始值"),desc:t.$t("template.仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案"),property:"defaultTargetValue"}},[a("div",[a("bk-button",{staticClass:"mr10",on:{click:t.handleOpenChooseIp}},[a("Icon",{attrs:{type:"plus"}}),t._v("\n                    "+t._s(t.$t("template.选择主机"))+"\n                ")],1),t._v(" "),t.isShowClear?a("bk-button",{on:{click:t.handleClearDefault}},[t._v("\n                    "+t._s(t.$t("template.清空"))+"\n                ")]):t._e()],1),t._v(" "),t.isShowClear?a("server-panel",{staticClass:"view-server-panel",attrs:{"host-node-info":t.formData.defaultTargetValue.hostNodeInfo,editable:"","detail-fullscreen":""},on:{"on-change":t.handleHostChange}}):t._e()],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量描述")}},[a("bk-input",{attrs:{placeholder:t.$t("template.这里可以备注变量的用途、使用说明等信息 [可选]"),type:"textarea",maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),a("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[a("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n                "+t._s(t.$t("template.执行时必填"))+"\n            ")])],1)],1),t._v(" "),a("choose-ip",{attrs:{"host-node-info":t.formData.defaultTargetValue.hostNodeInfo},on:{"on-change":t.handleHostChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};i._withStripped=!0;var n=a(58822),r=n.Z,s=(a(86657),(0,a(35471).Z)(r,i,[],!1,null,"583e987a",null));s.options.__file="src/views/task-manage/common/render-global-var/operation/host.vue";var o=s.exports},31049:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{attrs:{"form-type":"vertical"}},[a("jb-form-item",{attrs:{label:t.$t("template.变量类型"),required:"",desc:t.nametips}},[a("div",{staticClass:"variable-type-wraper"},[a("bk-radio-group",{model:{value:t.globalType,callback:function(e){t.globalType=e},expression:"globalType"}},[a("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("template.普通的字符串变量，可跨主机、跨步骤使用"),expression:"$t('template.普通的字符串变量，可跨主机、跨步骤使用')"}],staticClass:"item",attrs:{value:"string",disabled:t.isTypeDisabled,name:t.$t("template.字符串")}},[t._v("\n                    "+t._s(t.$t("template.字符串"))+"\n                ")]),t._v(" "),a("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("template.同一主机对象的共享变量，无法跨主机使用"),expression:"$t('template.同一主机对象的共享变量，无法跨主机使用')"}],staticClass:"item",attrs:{value:"namespace",disabled:t.isTypeDisabled}},[t._v("\n                    "+t._s(t.$t("template.命名空间"))+"\n                ")]),t._v(" "),a("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("template.通过拓扑、动态分组或属性筛选的主机对象"),expression:"$t('template.通过拓扑、动态分组或属性筛选的主机对象')"}],staticClass:"item",attrs:{value:"host",disabled:t.isTypeDisabled}},[t._v("\n                    "+t._s(t.$t("template.主机列表"))+"\n                ")]),t._v(" "),a("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("template.经过加密处理的变量，不会以明文形式外显"),expression:"$t('template.经过加密处理的变量，不会以明文形式外显')"}],staticClass:"item",attrs:{value:"password",disabled:t.isTypeDisabled}},[t._v("\n                    "+t._s(t.$t("template.密文"))+"\n                ")]),t._v(" "),a("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("template.Array 格式的字符串，支持关联或索引数组"),expression:"$t('template.Array 格式的字符串，支持关联或索引数组')"}],staticClass:"item",attrs:{value:"array",disabled:t.isTypeDisabled}},[t._v("\n                    "+t._s(t.$t("template.数组"))+"\n                ")])],1)],1)]),t._v(" "),a(t.globalVarCom,t._g(t._b({ref:"handler",tag:"component",attrs:{data:t.formData}},"component",t.$attrs,!1),t.$listeners))],1)};i._withStripped=!0;var n=a(43839),r=n.Z,s=(a(30725),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/operation/index.vue";var o=s.exports},36805:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"varNamespaceForm",attrs:{model:t.formData,rules:t.rules}},[a("jb-form-item",{attrs:{label:t.$t("template.变量名称"),required:"",property:"name"}},[a("jb-input",{attrs:{placeholder:t.$t("template.变量名仅支持大小写英文字母或下划线 [必填]"),maxlength:30},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.初始值"),desc:t.$t("template.仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案"),property:"defaultValue"}},[a("bk-input",{attrs:{placeholder:t.$t("template.请输入变量的初始值 [可选]")},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量描述")}},[a("bk-input",{attrs:{placeholder:t.$t("template.这里可以备注变量的用途、使用说明等信息 [可选]"),type:"textarea",maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),a("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[a("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s(t.$t("template.执行时必填"))+"\n        ")])],1)],1)};i._withStripped=!0;var n=a(60558),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/operation/namespace.vue";var o=s.exports},33435:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"varPasswordForm",attrs:{model:t.formData,rules:t.rules}},[a("jb-form-item",{attrs:{label:t.$t("template.变量名称"),required:"",property:"name"}},[a("jb-input",{attrs:{placeholder:t.$t("template.变量名仅支持大小写英文字母或下划线 [必填]"),maxlength:30},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{ref:"defaultValue",attrs:{label:t.$t("template.初始值"),desc:t.$t("template.仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案"),property:"defaultValue"}},[a("bk-input",{attrs:{placeholder:t.$t("template.请输入变量的初始值 [可选]"),type:"password","password-icon":t.passwordIcon},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:"变量描述"}},[a("bk-input",{attrs:{type:"textarea",placeholder:t.$t("template.这里可以备注变量的用途、使用说明等信息 [可选]"),maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),a("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[a("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s(t.$t("template.执行时必填"))+"\n        ")])],1)],1)};i._withStripped=!0;var n=a(52837),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-global-var/operation/password.vue";var o=s.exports},93046:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("jb-form",{ref:"varStringForm",attrs:{model:t.formData,rules:t.rules}},[a("jb-form-item",{attrs:{label:t.$t("template.变量名称"),required:"",property:"name"}},[a("jb-input",{attrs:{placeholder:t.$t("template.变量名仅支持大小写英文字母或下划线 [必填]"),maxlength:30},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),a("jb-form-item",{ref:"defaultValue",attrs:{label:t.$t("template.初始值"),desc:t.$t("template.仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案"),property:"defaultValue"}},[a("bk-input",{staticClass:"var-default-value",attrs:{placeholder:t.$t("template.请输入变量的初始值 [可选]")},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.变量描述")}},[a("bk-input",{attrs:{type:"textarea",placeholder:t.$t("template.这里可以备注变量的用途、使用说明等信息 [可选]"),maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),a("jb-form-item",{attrs:{"ext-cls":"changeable-cls"}},[a("bk-checkbox",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.right",value:t.$t("template.变量的值在执行中可变"),expression:"$t('template.变量的值在执行中可变')",modifiers:{right:!0}}],attrs:{"true-value":1,"false-value":0},model:{value:t.formData.changeable,callback:function(e){t.$set(t.formData,"changeable",e)},expression:"formData.changeable"}},[t._v("\n            "+t._s(t.$t("template.赋值可变"))+"\n        ")])],1),t._v(" "),a("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[a("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s(t.$t("template.执行时必填"))+"\n        ")])],1)],1)};i._withStripped=!0;var n=a(59583),r=n.Z,s=(a(84094),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/operation/string.vue";var o=s.exports},23205:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"detail",staticClass:"global-variable-popover-detail",class:t.classes,style:t.styles},[a("div",{staticClass:"wraper"},[a("div",{staticClass:"header"},[a("span",[t._v(t._s(t.data.name))]),t._v(" "),t.editOfPlan&&!t.selectValue.includes(t.data.name)?a("span",{staticClass:"tag"},[t._v("\n                "+t._s(t.$t("template.未引用"))+"\n            ")]):t._e()]),t._v(" "),a("detail-layout",[a("detail-item",{attrs:{label:t.$t("template.变量类型：")}},[t._v("\n                "+t._s(t.data.typeText)+"\n            ")]),t._v(" "),a("detail-item",{attrs:{label:t.defaultField+"："}},[t._v("\n                "+t._s(t.data.valueText)+"\n            ")]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.变量描述：")}},[t._v("\n                "+t._s(t.data.description||"--")+"\n            ")]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.必填：")}},[t._v("\n                "+t._s(t.data.requiredText)+"\n            ")]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.赋值可变：")}},[t._v("\n                "+t._s(t.data.changeableText)+"\n            ")])],1)],1)])};i._withStripped=!0;var n=a(95472),r=n.Z,s=(a(26403),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-global-var/popover-detail.vue";var o=s.exports},14617:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"templateStepRender"}},[a("div",{staticClass:"task-step-container",class:t.stepContainerClasses},[t._l(t.steps,(function(e,i){return[1!==e.delete?a(t.stepBoxCom,{key:i+"_"+e.id,tag:"components",staticClass:"step-drag-box",class:{sort:t.isOperation&&t.dragStartIndex>-1},attrs:{list:[e],group:{name:"step",pull:"clone",put:t.dragStartIndex!==i},move:t.handleDragMove,index:i},on:{start:function(e){return t.handleDragStart(i)},add:function(e){return t.handleDragAdd(i)}}},[a("div",{staticClass:"step-content-wraper",class:{"step-mode-diff":t.isDiff,select:t.isSelect,"not-select":t.isSelect&&!t.selectValue.includes(e.id),active:i===t.currentIndex},attrs:{order:t.genOrder()}},[a("div",{staticClass:"render-task-step",class:[t.diff[e.id]&&t.diff[e.id].type]},[a("div",{staticClass:"step-content",on:{click:function(e){return t.handleStepClick(i)}}},[a("div",{staticClass:"step-icon"},[a("Icon",{attrs:{type:e.icon}})],1),t._v(" "),a("div",{staticClass:"step-name"},[a("div",{staticClass:"step-name-text"},[t._v(t._s(e.name||"--"))]),t._v(" "),a("div",{domProps:{innerHTML:t._s(e.scriptStatusHtml)}})]),t._v(" "),t.isOperation?a("Icon",{staticClass:"draggable-flag",attrs:{type:"move"}}):t._e()],1),t._v(" "),t.isOperation?a("div",{staticClass:"step-operation"},[a("Icon",{staticClass:"operation",attrs:{type:"plus-circle"},on:{click:function(e){return t.handleShowCreate(i)}}}),t._v(" "),a("Icon",{staticClass:"operation",attrs:{type:"minus-circle"},on:{click:function(e){return t.handleDel(i)}}}),t._v(" "),a("Icon",{staticClass:"operation",attrs:{type:"edit-2"},on:{click:function(e){return t.handleShowEdit(i)}}}),t._v(" "),a("Icon",{staticClass:"operation",attrs:{type:"step-copy","tippy-tips":t.$t("template.克隆步骤")},on:{mouseover:function(e){return t.handleCloneStepHover(i,!0)},mouseout:function(e){return t.handleCloneStepHover(i,!1)},click:function(e){return t.handleCloneStep(i)}}})],1):t._e(),t._v(" "),t.isSelect?a("div",{staticClass:"select-flag",on:{click:function(a){return t.handleStepSelect(e)}}},[a("div",{staticClass:"select-checked"})]):t._e(),t._v(" "),t.isEdit?[e.id?t._e():a("div",{staticClass:"step-new-flag"},[t._v("new")])]:t._e(),t._v(" "),!1===e.localValidator?a("div",{staticClass:"need-validate-falg"},[t._v("\n                            "+t._s(t.$t("template.待补全"))+"\n                        ")]):t._e()],2),t._v(" "),t.diff[e.id]&&"move"===t.diff[e.id].type?a("div",{staticClass:"diff-order"},[0!==t.diff[e.id].value?a("div",{staticClass:"order-change"},[a("Icon",{attrs:{type:t.diff[e.id].value<0?"down-arrow":"up-arrow"}}),t._v("\n                            "+t._s(Math.abs(t.diff[e.id].value))+"\n                        ")],1):a("span",{staticClass:"order-normal"},[t._v("-")])]):t._e()])]):t._e()]})),t._v(" "),t.isOperation?a("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"create_step"},expression:"{ type: 'button', value: 'create_step' }"}],key:"create",staticClass:"step-create-btn",on:{click:function(e){return t.handleShowCreate(-1)}}},[a("Icon",{staticClass:"action-flag",attrs:{type:"plus"}}),t._v("\n            "+t._s(t.$t("template.作业步骤.add"))+"\n        ")],1):t._e()],2),t._v(" "),t.isView?a("lower-component",[a("jb-sideslider",{attrs:{"is-show":t.isShowDetail,title:t.$t("template.查看作业步骤"),"show-footer":!1,"quick-close":!0,width:896,media:t.mediaQueryMap},on:{"update:isShow":function(e){t.isShowDetail=e},"update:is-show":function(e){t.isShowDetail=e}}},[t.isShowDetail?a("task-step-view",{ref:"stepViewRef",attrs:{variable:t.hostVariables,data:t.detailInfo}}):t._e()],1)],1):t._e(),t._v(" "),t.isOperation?a("lower-component",[a("jb-sideslider",t._b({attrs:{id:"taskStepOperationSideslider","is-show":t.isShowOperation,width:916,media:t.mediaQueryMap},on:{"update:isShow":function(e){t.isShowOperation=e},"update:is-show":function(e){t.isShowOperation=e}}},"jb-sideslider",t.operationSideSliderInfo,!1),[t.isShowOperation?a("task-step-operation",{ref:"taskStep",attrs:{variable:t.hostVariables,"script-variables":t.scriptVariables,data:t.operationData},on:{"on-change":t.handleTaskStepSubmit}}):t._e()],1)],1):t._e()],1)};i._withStripped=!0;var n=a(63330),r=n.Z,s=(a(51723),(0,a(35471).Z)(r,i,[],!1,null,"30214c10",null));s.options.__file="src/views/task-manage/common/render-task-step/index.vue";var o=s.exports},3724:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"artificial-view"},[a("detail-item",{attrs:{label:t.$t("template.确认人：")}},[a("div",{staticClass:"approval-wraper"},[t._l(t.renderRoleList,(function(e){return a("div",{key:e,staticClass:"item"},[a("Icon",{staticClass:"approval-flag",attrs:{type:"user-group-gray"}}),t._v("\n                "+t._s(e)+"\n            ")],1)})),t._v(" "),t._l(t.stepInfo.approvalUser.userList,(function(e){return a("div",{key:e,staticClass:"item"},[a("Icon",{staticClass:"approval-flag",attrs:{type:"user"}}),t._v("\n                "+t._s(e)+"\n            ")],1)}))],2)]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.通知方式：")}},[t._v(t._s(t.renderChannel))]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.确认描述：")}},[t._v(t._s(t.stepInfo.approvalMessage||"--"))])],1)};i._withStripped=!0;var n=a(9285),r=n.Z,s=(a(19833),(0,a(35471).Z)(r,i,[],!1,null,"08b9e5d1",null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/artificial.vue";var o=s.exports},82248:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"render-file-path-box"},[a("bk-popover",{attrs:{placement:"left"}},[t._l(t.renderData,(function(e,i){return a("div",{key:i,staticClass:"path-text-row"},[t._v("\n            "+t._s(e)+"\n        ")])})),t._v(" "),t.hasMore?a("div",[t._v("...")]):t._e(),t._v(" "),a("ul",{staticClass:"source-file-tips-box",attrs:{slot:"content"},slot:"content"},t._l(t.data,(function(e,i){return a("li",{key:i,staticClass:"row"},[a("span",{staticClass:"dot"}),t._v("\n                "+t._s(e)+"\n            ")])})),0)],2)],1)};i._withStripped=!0;var n=a(43413),r=n.Z,s=(a(77515),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-file-path.vue";var o=s.exports},28052:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"render-file-server"},[a("div",{staticClass:"server-agent-text",domProps:{innerHTML:t._s(t.data.serverDesc)},on:{click:t.handlerView}}),t._v(" "),a("jb-dialog",{staticClass:"step-view-server-detail-dialog",attrs:{width:1020,"ok-text":t.$t("template.关闭")},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"variable-title"},[a("span",[t._v(t._s(t.$t("template.服务器文件-服务器列表")))]),t._v(" "),a("i",{staticClass:"server-detail-close bk-icon icon-close",on:{click:t.handleClose}})])]},proxy:!0}]),model:{value:t.isShowDetail,callback:function(e){t.isShowDetail=e},expression:"isShowDetail"}},[t._v(" "),a("div",{staticClass:"content-wraper"},[a("scroll-faker",[a("server-panel",{attrs:{"detail-mode":"dialog","host-node-info":t.hostNodeInfo}})],1)],1)])],1)};i._withStripped=!0;var n=a(86658),r=n.Z,s=(a(3723),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-file-server.vue";var o=s.exports},77422:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"step-view-global-variable",on:{click:t.handlerView}},[a("div",{staticClass:"flag"},[a("Icon",{attrs:{type:"host"}})],1),t._v(" "),a("div",{staticClass:"name",attrs:{title:t.name}},[t._v(t._s(t.name))]),t._v(" "),a("jb-dialog",{staticClass:"global-host-variable-detail-dialog",attrs:{title:t.title,width:1020,"ok-text":t.$t("template.关闭")},scopedSlots:t._u([{key:"header",fn:function(){return[a("div",{staticClass:"variable-title"},[a("span",[t._v(t._s(t.title))]),t._v(" "),a("i",{staticClass:"global-variable-dialog-close bk-icon icon-close",on:{click:t.handleClose}})])]},proxy:!0}]),model:{value:t.isShowDetail,callback:function(e){t.isShowDetail=e},expression:"isShowDetail"}},[t._v(" "),a("div",{staticClass:"content-wraper"},[t.isEmpty?a("Empty",{staticStyle:{height:"100%"},attrs:{title:t.$t("template.变量值为空")}}):a("scroll-faker",[a("server-panel",{attrs:{"detail-mode":"dialog","host-node-info":t.hostNodeInfo}})],1)],1)])],1)};i._withStripped=!0;var n=a(76293),r=n.Z,s=(a(73424),a(89407),(0,a(35471).Z)(r,i,[],!1,null,"42caee01",null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-global-variable.vue";var o=s.exports},1854:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"render-server-file"},[t.isShowLocalFile||t.isShowServerFile||t.isShowSourceFile?a("bk-collapse",{staticClass:"host-detail",model:{value:t.activeResult,callback:function(e){t.activeResult=e},expression:"activeResult"}},[t.isShowLocalFile?a("jb-collapse-item",{attrs:{name:"local",active:t.activeResult},scopedSlots:t._u([{key:"content",fn:function(){return[a("table",[a("tbody",t._l(t.localFileList,(function(e,i){return a("tr",{key:i},[a("td",{staticStyle:{width:"40%","word-break":"break-all"}},[t._v(t._s(e.fileLocationText))]),t._v(" "),a("td",[t._v(t._s(e.fileSizeText))])])})),0)])]},proxy:!0}],null,!1,372446648)},[a("span",{staticClass:"collapse-title"},[t._v(t._s(t.$t("template.已选择"))),a("span",{staticClass:"number strong"},[t._v(t._s(t.localFileList.length))]),t._v(t._s(t.$t("template.个本地文件")))])]):t._e(),t._v(" "),t.isShowSourceFile?a("jb-collapse-item",{attrs:{name:"source",active:t.activeResult},scopedSlots:t._u([{key:"content",fn:function(){return[a("table",[a("thead",[a("th",{staticStyle:{width:"40%"}},[t._v(t._s(t.$t("文件名称")))]),t._v(" "),a("th",[t._v(t._s(t.$t("文件源.text")))])]),t._v(" "),a("tbody",{staticClass:"source-file-list"},t._l(t.sourceFileList,(function(e,i){return a("tr",{key:i},[a("td",[a("render-file-path",{attrs:{data:e.fileLocation}})],1),t._v(" "),a("td",[a("span",{staticClass:"source-file-alias",on:{click:function(a){return t.handleGoSource(e,i)}}},[t._v("\n                                    "+t._s(t.fileSourceAliasList[i])+"\n                                    "),a("Icon",{staticClass:"source-file-icon",attrs:{type:"edit",svg:""}})],1)])])})),0)])]},proxy:!0}],null,!1,2944941708)},[a("span",{staticClass:"collapse-title"},[t._v(t._s(t.$t("template.已选择"))),a("span",{staticClass:"number strong"},[t._v(t._s(t.sourceFileList.length))]),t._v(t._s(t.$t("template.个文件源文件")))])]):t._e(),t._v(" "),t.isShowServerFile?a("jb-collapse-item",{attrs:{name:"server",active:t.activeResult},scopedSlots:t._u([{key:"content",fn:function(){return[a("table",[a("thead",[a("th",{staticStyle:{width:"40%"}},[t._v(t._s(t.$t("template.文件路径")))]),t._v(" "),a("th",{staticStyle:{width:"15%"}},[t._v(t._s(t.$t("template.服务器列表")))]),t._v(" "),a("th",[t._v(t._s(t.$t("template.Agent 状态")))]),t._v(" "),a("th",{staticStyle:{width:"20%"}},[t._v(t._s(t.$t("template.服务器账号")))])]),t._v(" "),a("tbody",t._l(t.serverFileList,(function(e,i){return a("tr",{key:i},[a("td",[a("render-file-path",{attrs:{data:e.fileLocation}})],1),t._v(" "),e.isVar?[a("td",[a("render-global-variable",{attrs:{name:e.serverDesc,data:t.variable}})],1),t._v(" "),a("td",[a("render-server-agent",{attrs:{title:t.$t("template.全局变量.label")+" - "+e.host.variable,"host-node-info":t.findVariableValue(e.host.variable)}})],1)]:[a("td",[a("render-file-server",{attrs:{data:e}})],1),t._v(" "),a("td",[a("render-server-agent",{attrs:{title:t.$t("template.服务器文件-服务器列表"),"host-node-info":e.host.hostNodeInfo}})],1)],t._v(" "),a("td",[t._v(t._s(t.findAccountAlias(e.account)))])],2)})),0)])]},proxy:!0}],null,!1,2989368009)},[a("span",{staticClass:"collapse-title"},[t._v(t._s(t.$t("template.已选择"))),a("span",{staticClass:"number strong"},[t._v(t._s(t.serverFileList.length))]),t._v(t._s(t.$t("template.个服务器文件")))])]):t._e()],1):t._e()],1)};i._withStripped=!0;var n=a(60996),r=n.Z,s=(a(85959),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-source-file.vue";var o=s.exports},21594:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"distro-file-view",class:{loading:t.isLoading}},[a("detail-item",{attrs:{label:t.$t("template.超时时长：")}},[t._v(t._s(t.stepInfo.timeout)+" (s)")]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.错误处理：")}},[t._v(t._s(t.stepInfo.ignoreErrorText))]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.上传限速：")}},[t._v(t._s(t.stepInfo.uploadSpeedLimitText))]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.下载限速：")}},[t._v(t._s(t.stepInfo.downloadSpeedLimitText))]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.文件来源："),layout:"vertical"}},[t.isLoading?t._e():a("render-source-file",{attrs:{data:t.stepInfo.fileSourceList,variable:t.variable,account:t.account}})],1),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.目标路径：")}},[t._v(t._s(t.stepInfo.fileDestination.path))]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.传输模式：")}},[t._v(t._s(t.stepInfo.transferModeText))]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.执行帐号：")}},[t._v(t._s(t.executeAccountText))]),t._v(" "),t.stepInfo.fileDestination.server.variable?a("detail-item",{attrs:{label:t.$t("template.执行目标：")}},[a("render-global-variable",{attrs:{type:t.$t("template.执行目标"),data:t.variable,name:t.stepInfo.fileDestination.server.variable}})],1):a("detail-item",{attrs:{label:t.$t("template.执行目标："),layout:"vertical"}},[a("server-panel",{attrs:{"detail-fullscreen":"","host-node-info":t.stepInfo.fileDestination.server.hostNodeInfo}})],1)],1)};i._withStripped=!0;var n=a(48939),r=n.Z,s=(a(75292),(0,a(35471).Z)(r,i,[],!1,null,"71de5a1f",null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/distro-file.vue";var o=s.exports},80073:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"exec-script-view",class:{loading:t.isLoading}},[a("detail-item",{attrs:{label:t.$t("template.脚本来源：")}},[t._v("\n        "+t._s(t.stepInfo.scriptSourceText)+"\n    ")]),t._v(" "),t.isReferScript?a("detail-item",{attrs:{label:t.$t("template.脚本引用：")}},[a("span",[t._v(t._s(t.scriptName))]),t._v(" "),a("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.$t("template.脚本详情"),expression:"$t('template.脚本详情')"}],staticClass:"script-detail",attrs:{type:"jump"},on:{click:t.handleGoScriptDetail}}),t._v(" "),t.stepInfo.isNeedUpdate||t.stepInfo.isDisabled?a("div",{staticClass:"script-update-flag"},[a("span",{domProps:{innerHTML:t._s(t.stepInfo.scriptStatusHtml)}}),t._v(" "),t.stepInfo.isNeedUpdate?a("bk-button",{attrs:{text:""},on:{click:t.handleGoScriptVersion}},[t._v("\n                "+t._s(t.$t("template.版本对比"))+"\n            ")]):t._e(),t._v(" "),a("bk-button",{attrs:{text:""},on:{click:t.handleUpdateScript}},[t._v("\n                "+t._s(t.$t("template.去更新"))+"\n            ")])],1):t._e()],1):t._e(),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.脚本内容："),layout:"vertical"}},[a("ace-editor",{attrs:{value:t.stepInfo.content,lang:t.language,options:t.languageOption,readonly:""}})],1),t._v(" "),a("div",[a("detail-item",{attrs:{label:t.$t("template.脚本参数：")}},[a("jb-edit-textarea",{attrs:{field:"scriptParam",value:t.stepInfo.scriptParam,readonly:""}})],1),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.超时时长：")}},[t._v(t._s(t.stepInfo.timeout)+"（s）")]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.错误处理：")}},[t._v(t._s(t.stepInfo.ignoreErrorText))]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.执行账号：")}},[t._v(t._s(t.executeAccountText))])],1),t._v(" "),t.stepInfo.executeTarget.variable?a("detail-item",{attrs:{label:t.$t("template.执行目标：")}},[a("render-global-variable",{attrs:{type:t.$t("template.执行目标"),name:t.stepInfo.executeTarget.variable,data:t.variable}})],1):a("detail-item",{attrs:{label:t.$t("template.执行目标："),layout:"vertical"}},[a("server-panel",{attrs:{"detail-fullscreen":"","host-node-info":t.stepInfo.executeTarget.hostNodeInfo}})],1)],1)};i._withStripped=!0;var n=a(80803),r=n.Z,s=(a(44508),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/exec-script.vue";var o=s.exports},86136:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("detail-layout",{staticClass:"detail-layout-wrapper",attrs:{mode:"see"}},[a("detail-item",{attrs:{label:t.$t("template.步骤类型：")}},[t._v(t._s(t.stepTypeText))]),t._v(" "),a("detail-item",{attrs:{label:t.$t("template.步骤名称：")}},[t._v(t._s(t.data.name))]),t._v(" "),a(t.stepCom,{ref:"stepCom",tag:"component",attrs:{variable:t.variable,data:t.data}})],1)};i._withStripped=!0;var n=a(43424),r=n.Z,s=(a(24220),(0,a(35471).Z)(r,i,[],!1,null,"28d8770b",null));s.options.__file="src/views/task-manage/common/render-task-step/task-step-view/index.vue";var o=s.exports},69431:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("jb-form",{ref:"form",attrs:{model:t.formData,rules:t.rules,fixed:"","label-width":110}},[a("item-factory",{attrs:{name:"stepName",field:"name",placeholder:t.$t("template.推荐按步骤实际处理的场景行为来取名..."),"form-data":t.formData},on:{"on-change":t.handleNameChange}}),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.确认人"),required:!0,property:"approvalUser"}},[a("jb-user-selector",{staticClass:"input",attrs:{placeholder:t.$t("template.输入确认人"),user:t.formData.approvalUser.userList,role:t.formData.approvalUser.roleList,"filter-list":["JOB_EXTRA_OBSERVER"]},on:{"on-change":t.handleApprovalUserChange}})],1),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.通知方式")}},[a("div",{staticClass:"notify-channel-wraper"},[a("bk-checkbox",{attrs:{checked:t.isChannelAll,indeterminate:t.isChannelIndeterminate},nativeOn:{click:function(e){return t.handleToggleAllChannel.apply(null,arguments)}}},[t._v("\n                    "+t._s(t.$t("template.全部"))+"\n                ")]),t._v(" "),a("bk-checkbox-group",{staticClass:"all-channel",model:{value:t.formData.notifyChannel,callback:function(e){t.$set(t.formData,"notifyChannel",e)},expression:"formData.notifyChannel"}},t._l(t.channleList,(function(e){return a("bk-checkbox",{key:e.code,attrs:{value:e.code}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])})),1)],1)]),t._v(" "),a("jb-form-item",{attrs:{label:t.$t("template.确认描述")}},[a("bk-input",{staticClass:"input",attrs:{type:"textarea",maxlength:1e3},model:{value:t.formData.approvalMessage,callback:function(e){t.$set(t.formData,"approvalMessage",e)},expression:"formData.approvalMessage"}})],1)],1)],1)};i._withStripped=!0;var n=a(42762),r=n.Z,s=(a(92744),(0,a(35471).Z)(r,i,[],!1,null,"94b0c084",null));s.options.__file="src/views/task-manage/common/render-task-step/task-step/components/artificial.vue";var o=s.exports},9784:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"step-distro-file"},[a("jb-form",{ref:"form",attrs:{model:t.formData,fixed:"","label-width":t.formMarginLeftWidth}},[a("card-layout",{staticClass:"block",attrs:{title:t.$t("template.基本信息")}},[a("item-factory",{attrs:{name:"stepName",field:"name",placeholder:t.$t("template.推荐按步骤实际处理的场景行为来取名..."),"form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"timeout",field:"timeout","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"errorHandle",field:"ignoreError","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"speedLimit",field:"uploadSpeedLimit",label:t.$t("template.上传限速"),"form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"speedLimit",field:"downloadSpeedLimit",label:t.$t("template.下载限速"),"form-data":t.formData},on:{"on-change":t.handleChange}})],1),t._v(" "),a("card-layout",{staticClass:"block",attrs:{title:t.$t("template.文件来源")}},[a("item-factory",{attrs:{name:"sourceFileOfTemplate",field:"fileSourceList",variable:t.variable,"form-data":t.formData},on:{"on-change":t.handleChange}})],1),t._v(" "),a("card-layout",{staticClass:"block",attrs:{title:t.$t("template.传输目标")}},[a("item-factory",{ref:"targetPath",attrs:{name:"targetPath",field:"path","tips-placement":"top","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"transferMode",field:"transferMode","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"executeAccount",field:"account","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"targetServerOfTemplate",field:"server",variable:t.variable,"form-data":t.formData},on:{"on-change":t.handleChange}})],1)],1)],1)};i._withStripped=!0;var n=a(12351),r=n.Z,s=(a(58991),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step/components/distro-file.vue";var o=s.exports},34795:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("jb-form",{ref:"form",attrs:{model:t.formData,fixed:"","label-width":110}},[a("item-factory",{attrs:{name:"scriptName",field:"name",placeholder:t.$t("template.推荐按步骤实际处理的场景行为来取名..."),"form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"scriptSourceOfTemplate","script-source-field":"scriptSource","content-field":"content","language-field":"scriptLanguage","script-id-field":"scriptId","script-version-id-field":"scriptVersionId","script-status-field":"status","form-data":t.formData},on:{"on-change":t.handleChange,"on-reset":t.handleScriptContentReset}}),t._v(" "),a("item-factory",{attrs:{name:"scriptContent","script-source-field":"scriptSource","content-field":"content","language-field":"scriptLanguage","form-data":t.formData,"script-variables":t.scriptVariables},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"scriptParam","param-field":"scriptParam","secure-field":"secureParam","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"scriptTimeout",field:"timeout","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"errorHandle",field:"ignoreError","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"scriptAccount",field:"account","script-language-field":"scriptLanguage","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),a("item-factory",{attrs:{name:"executeTargetOfTemplate",field:"executeTarget",variable:t.variable,"form-data":t.formData},on:{"on-change":t.handleChange}})],1)],1)};i._withStripped=!0;var n=a(94542),r=n.Z,s=(0,a(35471).Z)(r,i,[],!1,null,null,null);s.options.__file="src/views/task-manage/common/render-task-step/task-step/components/exec-script.vue";var o=s.exports},14560:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-step-operation-wraper"},[a("div",{staticClass:"left",style:t.leftStyles},[a("scroll-faker",[a("div",{staticClass:"container"},[a("jb-form",{attrs:{fixed:"","label-width":t.formMarginLeftWidth}},[a("bk-form-item",{attrs:{label:t.$t("template.步骤类型"),required:""}},[a("bk-select",{staticClass:"form-item-content",attrs:{clearable:!1,disabled:t.isStepTypeReadOnly},model:{value:t.taskStepType,callback:function(e){t.taskStepType=e},expression:"taskStepType"}},[a("bk-option",{attrs:{id:"1",name:t.$t("template.执行脚本")}}),t._v(" "),a("bk-option",{attrs:{id:"2",name:t.$t("template.分发文件")}}),t._v(" "),a("bk-option",{attrs:{id:"3",name:t.$t("template.人工确认")}})],1)],1)],1),t._v(" "),a(t.stepCom,t._g(t._b({ref:"handler",tag:"component",attrs:{data:t.stepData}},"component",t.$attrs,!1),t.$listeners))],1)]),t._v(" "),a("bk-button",{staticClass:"variable-guide-btn",attrs:{text:""},on:{click:t.handleShowVariableGuide}},[a("Icon",{attrs:{type:"book"}}),t._v("\n            "+t._s(t.$t("template.变量使用指引"))+"\n        ")],1)],1),t._v(" "),t.isShowVariableGuide?a("div",{staticClass:"right"},[a("variable-use-guide",{on:{"on-close":t.handleHideVariableGuide}})],1):t._e()])};i._withStripped=!0;var n=a(26689),r=n.Z,s=(a(57329),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/render-task-step/task-step/index.vue";var o=s.exports},68665:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return n.X},default:function(){return o}});var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"variable-use-guide"},[a("div",{staticClass:"header"},[a("div",[t._v(t._s(t.$t("template.使用指引")))]),t._v(" "),a("div",{staticClass:"tab-container"},[a("div",{staticClass:"tab-item",class:{active:"global"===t.tab},on:{click:function(e){return t.handleTabToggle("global")}}},[t._v("\n                "+t._s(t.$t("template.全局变量.tab"))+"\n            ")]),t._v(" "),a("div",{staticClass:"tab-item",class:{active:"magic"===t.tab},on:{click:function(e){return t.handleTabToggle("magic")}}},[t._v("\n                "+t._s(t.$t("template.魔法变量"))+"\n            ")])])]),t._v(" "),a("scroll-faker",{staticStyle:{height:"calc(100% - 88px)"}},[a("div",{staticClass:"content"},[a("div",{staticStyle:{"margin-top":"-24px"},domProps:{innerHTML:t._s(t.contentHtml)}})])]),t._v(" "),a("div",{staticClass:"close-btn",on:{click:t.handleClose}},[a("Icon",{attrs:{type:"close"}})],1)],1)};i._withStripped=!0;var n=a(82591),r=n.Z,s=(a(81655),(0,a(35471).Z)(r,i,[],!1,null,null,null));s.options.__file="src/views/task-manage/common/variable-use-guide/index.vue";var o=s.exports},79981:function(t,e,a){var i=a(46167);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("62179477",i,!1,{})},28208:function(t,e,a){var i=a(29565);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("dcb81b46",i,!1,{})},55016:function(t,e,a){var i=a(72709);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("85060c92",i,!1,{})},95309:function(t,e,a){var i=a(2154);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("a97c2ed6",i,!1,{})},30628:function(t,e,a){var i=a(62478);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("4bf68719",i,!1,{})},79652:function(t,e,a){var i=a(64832);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("bd597f4e",i,!1,{})},43312:function(t,e,a){var i=a(85724);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("16e1afbe",i,!1,{})},17263:function(t,e,a){var i=a(57284);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("683ca829",i,!1,{})},29483:function(t,e,a){var i=a(86918);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("1eae4f8e",i,!1,{})},46772:function(t,e,a){var i=a(28722);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("051955ce",i,!1,{})},81352:function(t,e,a){var i=a(93765);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("c4b3a006",i,!1,{})},21882:function(t,e,a){var i=a(71556);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("dcc1b17a",i,!1,{})},98837:function(t,e,a){var i=a(61738);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("f4bda84e",i,!1,{})},88363:function(t,e,a){var i=a(78321);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("69fcb1fb",i,!1,{})},94791:function(t,e,a){var i=a(86255);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("84aef34e",i,!1,{})},18388:function(t,e,a){var i=a(47444);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("28c0c40d",i,!1,{})},95161:function(t,e,a){var i=a(58637);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("72cdf90e",i,!1,{})},15962:function(t,e,a){var i=a(40096);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("057747a5",i,!1,{})},65819:function(t,e,a){var i=a(84554);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("ae57a3f0",i,!1,{})},98022:function(t,e,a){var i=a(36073);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("92ef5430",i,!1,{})},8025:function(t,e,a){var i=a(87902);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("8ad190b8",i,!1,{})},67854:function(t,e,a){var i=a(21700);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("2ba43454",i,!1,{})},31552:function(t,e,a){var i=a(65773);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("c1f0f048",i,!1,{})},52252:function(t,e,a){var i=a(73145);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("5fd400fe",i,!1,{})},85717:function(t,e,a){var i=a(2355);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("40a1adc4",i,!1,{})},82049:function(t,e,a){var i=a(89631);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("2abfddfc",i,!1,{})},1538:function(t,e,a){var i=a(11810);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("63050b52",i,!1,{})},32779:function(t,e,a){var i=a(2607);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("ee5a96c2",i,!1,{})},79012:function(t,e,a){var i=a(7620);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("5a45d8c4",i,!1,{})},4484:function(t,e,a){var i=a(41260);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("47f35afa",i,!1,{})},937:function(t,e,a){var i=a(631);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("69ec359f",i,!1,{})},83394:function(t,e,a){var i=a(12767);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("2d8ff782",i,!1,{})},88608:function(t,e,a){var i=a(18864);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("17109e9e",i,!1,{})},95185:function(t,e,a){var i=a(53553);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("0ad16bb4",i,!1,{})},25902:function(t,e,a){var i=a(6844);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("9716e25c",i,!1,{})},14545:function(t,e,a){var i=a(18076);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("8608df62",i,!1,{})},50114:function(t,e,a){var i=a(99184);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("7e877b18",i,!1,{})},36467:function(t,e,a){var i=a(34138);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("c711ec9c",i,!1,{})},26151:function(t,e,a){var i=a(57322);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("a9e75950",i,!1,{})},94348:function(t,e,a){var i=a(48876);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("0140b8ff",i,!1,{})},47161:function(t,e,a){var i=a(77521);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("07efaea5",i,!1,{})},26100:function(t,e,a){var i=a(5943);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("3bf1c9c2",i,!1,{})},97978:function(t,e,a){var i=a(70338);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("14a23494",i,!1,{})},98582:function(t,e,a){var i=a(53638);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("4e849daa",i,!1,{})},25653:function(t,e,a){var i=a(71402);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("c7418abc",i,!1,{})},65855:function(t,e,a){var i=a(13573);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("4a6ef363",i,!1,{})},46261:function(t,e,a){var i=a(88627);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("50d03c77",i,!1,{})},7550:function(t,e,a){var i=a(33364);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("49e6da5a",i,!1,{})},20257:function(t,e,a){var i=a(47616);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("3515cf34",i,!1,{})},86291:function(t,e,a){var i=a(64354);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("39646c2e",i,!1,{})},65688:function(t,e,a){var i=a(19687);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("7d6c0963",i,!1,{})},80413:function(t,e,a){var i=a(86717);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("1f971de5",i,!1,{})},9679:function(t,e,a){var i=a(689);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("7da1b343",i,!1,{})},65647:function(t,e,a){var i=a(46132);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("7f213f0d",i,!1,{})},26047:function(t,e,a){var i=a(63401);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("531652ad",i,!1,{})},58730:function(t,e,a){var i=a(5686);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("04be2aae",i,!1,{})},32650:function(t,e,a){var i=a(28353);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("34e61efe",i,!1,{})},88383:function(t,e,a){var i=a(70405);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("059b4022",i,!1,{})},51500:function(t,e,a){var i=a(15672);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("704a0ae1",i,!1,{})},86335:function(t,e,a){var i=a(76656);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("107c81e6",i,!1,{})},2038:function(t,e,a){var i=a(38150);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("721b9306",i,!1,{})},21551:function(t,e,a){var i=a(4010);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("10e591b0",i,!1,{})},90160:function(t,e,a){var i=a(22590);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("65e139dd",i,!1,{})},43172:function(t,e,a){var i=a(51995);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("10a26082",i,!1,{})},39721:function(t,e,a){var i=a(83773);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("0b9c702f",i,!1,{})},80953:function(t,e,a){var i=a(54637);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("09af6f1c",i,!1,{})},19267:function(t,e,a){var i=a(39648);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("00fcfd9d",i,!1,{})},2027:function(t,e,a){var i=a(73769);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("0248a428",i,!1,{})},95645:function(t,e,a){var i=a(59538);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("724dcdd9",i,!1,{})},70918:function(t,e,a){var i=a(42362);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("7072d33d",i,!1,{})},9126:function(t,e,a){var i=a(11188);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("b09633fa",i,!1,{})},9243:function(t,e,a){var i=a(79261);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("31bbc95c",i,!1,{})},45722:function(t,e,a){var i=a(86149);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("ee62f012",i,!1,{})},66955:function(t,e,a){var i=a(52734);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("22ec9513",i,!1,{})},78366:function(t,e,a){var i=a(91109);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("12e00158",i,!1,{})},66235:function(t,e,a){var i=a(89153);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("0a3842a2",i,!1,{})},9073:function(t,e,a){var i=a(37731);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("96cce452",i,!1,{})},73607:function(t,e,a){var i=a(28259);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("3f710ad6",i,!1,{})},2730:function(t,e,a){var i=a(97976);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("104662e5",i,!1,{})},48806:function(t,e,a){var i=a(97014);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("2a849718",i,!1,{})},40279:function(t,e,a){var i=a(79008);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("19fe59ff",i,!1,{})},16627:function(t,e,a){var i=a(85194);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("7993169f",i,!1,{})},62978:function(t,e,a){var i=a(9772);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("12a43012",i,!1,{})},87005:function(t,e,a){var i=a(17971);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("510758e2",i,!1,{})},476:function(t,e,a){var i=a(89965);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("9c46d33e",i,!1,{})},18576:function(t,e,a){var i=a(95722);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("6124ade6",i,!1,{})},16307:function(t,e,a){var i=a(94992);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("8a2d6914",i,!1,{})},4314:function(t,e,a){var i=a(41293);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("9bbdacdc",i,!1,{})},3822:function(t,e,a){var i=a(3104);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("0c30ba30",i,!1,{})},45960:function(t,e,a){var i=a(13580);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("14a39da0",i,!1,{})},76051:function(t,e,a){var i=a(95724);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("18329160",i,!1,{})},48174:function(t,e,a){var i=a(59421);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("70e8674c",i,!1,{})},56262:function(t,e,a){var i=a(13287);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("eeb590d2",i,!1,{})},86657:function(t,e,a){var i=a(90686);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("05993c38",i,!1,{})},30725:function(t,e,a){var i=a(36310);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("44ba07c9",i,!1,{})},84094:function(t,e,a){var i=a(53004);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("21ffe1da",i,!1,{})},26403:function(t,e,a){var i=a(52784);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("95e7b454",i,!1,{})},51723:function(t,e,a){var i=a(92691);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("2cfed33c",i,!1,{})},19833:function(t,e,a){var i=a(70354);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("b02c059c",i,!1,{})},77515:function(t,e,a){var i=a(65271);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("192a264d",i,!1,{})},3723:function(t,e,a){var i=a(42463);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("1197c649",i,!1,{})},73424:function(t,e,a){var i=a(33277);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("031d62ad",i,!1,{})},89407:function(t,e,a){var i=a(59623);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("159f70e8",i,!1,{})},85959:function(t,e,a){var i=a(47087);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("02f94b86",i,!1,{})},75292:function(t,e,a){var i=a(21289);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("34aded32",i,!1,{})},44508:function(t,e,a){var i=a(16258);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("63b32ab7",i,!1,{})},24220:function(t,e,a){var i=a(27064);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("08c73a4c",i,!1,{})},92744:function(t,e,a){var i=a(33009);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("be278bc0",i,!1,{})},58991:function(t,e,a){var i=a(77283);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("ab551d9a",i,!1,{})},57329:function(t,e,a){var i=a(86940);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("0dea250a",i,!1,{})},81655:function(t,e,a){var i=a(57645);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);(0,a(13570).Z)("57bff173",i,!1,{})}}]);