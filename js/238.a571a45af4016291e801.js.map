{"version":3,"file":"js/238.a571a45af4016291e801.js","mappings":"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","sources":["webpack://job/src/views/script-manage/common/copy-create.vue","webpack://job/src/views/script-manage/common/edit.vue","webpack://job/src/views/script-manage/version/components/diff.vue","webpack://job/src/views/script-manage/version/components/layout.vue","webpack://job/src/views/script-manage/version/components/new-version.vue","webpack://job/src/views/script-manage/version/components/script-basic.vue","webpack://job/src/views/script-manage/version/index.vue","webpack://job/./src/views/script-manage/common/copy-create.vue?085d","webpack://job/./src/views/script-manage/common/copy-create.vue?fdaf","webpack://job/./src/views/script-manage/common/copy-create.vue?ff3c","webpack://job/./src/views/script-manage/common/edit.vue?a370","webpack://job/./src/views/script-manage/common/edit.vue?b840","webpack://job/./src/views/script-manage/common/edit.vue","webpack://job/./src/views/script-manage/version/components/diff.vue?0268","webpack://job/./src/views/script-manage/version/components/diff.vue?d5e1","webpack://job/./src/views/script-manage/version/components/diff.vue?ea39","webpack://job/./src/views/script-manage/version/components/layout.vue?9f2d","webpack://job/./src/views/script-manage/version/components/layout.vue?ba85","webpack://job/./src/views/script-manage/version/components/layout.vue?6c1d","webpack://job/./src/views/script-manage/version/components/new-version.vue?cb50","webpack://job/./src/views/script-manage/version/components/new-version.vue?aeb4","webpack://job/./src/views/script-manage/version/components/new-version.vue","webpack://job/./src/views/script-manage/version/components/script-basic.vue?3a2d","webpack://job/./src/views/script-manage/version/components/script-basic.vue?f826","webpack://job/./src/views/script-manage/version/components/script-basic.vue?62cd","webpack://job/./src/views/script-manage/version/index.vue?e7ac","webpack://job/./src/views/script-manage/version/index.vue?e313","webpack://job/./src/views/script-manage/version/index.vue?447a","webpack://job/./src/views/script-manage/common/copy-create.vue?fa9e","webpack://job/./src/views/script-manage/version/components/diff.vue?a736","webpack://job/./src/views/script-manage/version/components/layout.vue?60c2","webpack://job/./src/views/script-manage/version/components/script-basic.vue?c579","webpack://job/./src/views/script-manage/version/index.vue?90bf"],"sourcesContent":["\r\n\r\n<template>\r\n    <layout class=\"script-manage-copy-create-box\">\r\n        <div slot=\"title\">{{ $t('script.新建脚本') }}</div>\r\n        <template slot=\"sub-header\">\r\n            <Icon\r\n                type=\"upload\"\r\n                @click=\"handleUploadScript\"\r\n                v-bk-tooltips=\"$t('上传脚本')\"\r\n                v-test=\"{ type: 'button', value: 'uploadScript' }\" />\r\n            <Icon\r\n                type=\"history\"\r\n                @click.stop=\"handleShowHistory\"\r\n                v-bk-tooltips=\"$t('历史缓存')\"\r\n                v-test=\"{ type: 'button', value: 'scriptEditHistory' }\" />\r\n            <Icon\r\n                type=\"full-screen\"\r\n                v-bk-tooltips=\"$t('全屏')\"\r\n                @click=\"handleFullScreen\"\r\n                v-test=\"{ type: 'button', value: 'scriptEditFullscreen' }\" />\r\n        </template>\r\n        <div slot=\"left\">\r\n            <jb-form\r\n                ref=\"form\"\r\n                :model=\"formData\"\r\n                form-type=\"vertical\"\r\n                :rules=\"rules\"\r\n                v-test=\"{ type: 'form', value: 'copyCreateScript' }\">\r\n                <jb-form-item\r\n                    :label=\"$t('script.版本号.label')\"\r\n                    required\r\n                    property=\"version\">\r\n                    <div class=\"script-version\">\r\n                        <jb-input\r\n                            :value=\"formData.version\"\r\n                            :placeholder=\"$t('script.输入版本号')\"\r\n                            :maxlength=\"30\"\r\n                            property=\"version\"\r\n                            @change=\"handleVersionChange\" />\r\n                        <Icon type=\"new-dark\" svg class=\"new-flag\" />\r\n                    </div>\r\n                </jb-form-item>\r\n                <jb-form-item :label=\"$t('script.版本日志')\">\r\n                    <bk-input\r\n                        v-model=\"formData.versionDesc\"\r\n                        type=\"textarea\"\r\n                        :maxlength=\"100\"\r\n                        :rows=\"5\" />\r\n                </jb-form-item>\r\n            </jb-form>\r\n        </div>\r\n        <div ref=\"content\">\r\n            <ace-editor\r\n                v-if=\"contentHeight > 0\"\r\n                ref=\"aceEditor\"\r\n                v-model=\"formData.content\"\r\n                :lang=\"formData.typeName\"\r\n                :height=\"contentHeight\"\r\n                :options=\"formData.typeName\"\r\n                @on-mode-change=\"handleTypeChange\" />\r\n        </div>\r\n        <template #footer>\r\n            <bk-button\r\n                class=\"w120 mr10\"\r\n                :loading=\"isSubmiting\"\r\n                theme=\"primary\"\r\n                @click=\"handleSubmit\"\r\n                v-test=\"{ type: 'button', value: 'copyCreateScriptSubmit' }\">\r\n                {{ $t('script.提交') }}\r\n            </bk-button>\r\n            <bk-button\r\n                class=\"mr10\"\r\n                @click=\"handleDebugScript\"\r\n                v-test=\"{ type: 'button', value: 'debugScript' }\">\r\n                {{ $t('script.调试') }}\r\n            </bk-button>\r\n            <bk-button\r\n                @click=\"handleCancel\"\r\n                v-test=\"{ type: 'button', value: 'copyCreateScriptCancel' }\">\r\n                {{ $t('script.取消') }}\r\n            </bk-button>\r\n        </template>\r\n    </layout>\r\n</template>\r\n<script>\r\n    import _ from 'lodash';\r\n    import I18n from '@/i18n';\r\n    import ScriptManageService from '@service/script-manage';\r\n    import PublicScriptManageService from '@service/public-script-manage';\r\n    import JbInput from '@components/jb-input';\r\n    import AceEditor from '@components/ace-editor';\r\n    import {\r\n        formatScriptTypeValue,\r\n        genDefaultScriptVersion,\r\n        checkPublicScript,\r\n        getOffset,\r\n        leaveConfirm,\r\n        scriptErrorAlert,\r\n    } from '@utils/assist';\r\n    import { debugScriptCache } from '@utils/cache-helper';\r\n    import { scriptVersionRule } from '@utils/validator';\r\n    import Layout from './components/layout';\r\n\r\n    const genDefaultFormData = () => ({\r\n        id: '',\r\n        typeName: 'Shell',\r\n        version: genDefaultScriptVersion(),\r\n        versionDesc: '',\r\n        type: 1,\r\n        content: '',\r\n    });\r\n\r\n    export default {\r\n        name: '',\r\n        components: {\r\n            JbInput,\r\n            AceEditor,\r\n            Layout,\r\n        },\r\n        inheritAttrs: false,\r\n        props: {\r\n            scriptInfo: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n            scriptVersionList: {\r\n                type: Array,\r\n                default: () => [],\r\n            },\r\n        },\r\n        data () {\r\n            return {\r\n                isLoading: true,\r\n                isSubmiting: false,\r\n                formData: genDefaultFormData(),\r\n                contentHeight: 0,\r\n            };\r\n        },\r\n        computed: {\r\n            versionMap () {\r\n                return this.scriptVersionList.reduce((result, item) => {\r\n                    if (item.scriptVersionId < 1) {\r\n                        return result;\r\n                    }\r\n                    result[item.version] = true;\r\n                    return result;\r\n                }, {});\r\n            },\r\n        },\r\n        watch: {\r\n            scriptInfo: {\r\n                handler (scriptInfo) {\r\n                    if (!scriptInfo.id) {\r\n                        return;\r\n                    }\r\n                    const {\r\n                        content,\r\n                        id,\r\n                        name,\r\n                        versionDesc,\r\n                        type,\r\n                        typeName,\r\n                    } = scriptInfo;\r\n                    this.formData = {\r\n                        ...genDefaultFormData(),\r\n                        id,\r\n                        name,\r\n                        versionDesc,\r\n                        type,\r\n                        typeName,\r\n                        content,\r\n                    };\r\n                },\r\n                immediate: true,\r\n            },\r\n        },\r\n        created () {\r\n            this.publicScript = checkPublicScript(this.$route);\r\n            this.scriptManageServiceHandler = this.publicScript ? PublicScriptManageService : ScriptManageService;\r\n            this.rules = {\r\n                version: [\r\n                    {\r\n                        required: true,\r\n                        message: I18n.t('script.版本号必填'),\r\n                        trigger: 'blur',\r\n                    },\r\n                    {\r\n                        validator: scriptVersionRule.validator,\r\n                        message: scriptVersionRule.message,\r\n                        trigger: 'blur',\r\n                    },\r\n                    {\r\n                        validator: value => !this.versionMap[value],\r\n                        message: I18n.t('script.版本号已存在，请重新输入'),\r\n                        trigger: 'blur',\r\n                    },\r\n                ],\r\n                content: [\r\n                    {\r\n                        required: true,\r\n                        message: I18n.t('script.脚本内容不能为空'),\r\n                        trigger: 'change',\r\n                    },\r\n                    {\r\n                        validator: value => ScriptManageService.getScriptValidation({\r\n                            content: value,\r\n                            scriptType: this.formData.type,\r\n                        }).then((data) => {\r\n                            // 高危语句报错状态需要全局保存\r\n                            this.$store.commit('setScriptCheckError', data.some(_ => _.isDangerous));\r\n                            return true;\r\n                        }),\r\n                        message: I18n.t('script.脚本内容检测失败'),\r\n                        trigger: 'blur',\r\n                    },\r\n                ],\r\n            };\r\n        },\r\n        mounted () {\r\n            this.calcContentHeight();\r\n            const handleResize = _.throttle(this.calcContentHeight, 60);\r\n            window.addEventListener('resize', handleResize);\r\n            this.$once('hook:beforeDestroy', () => {\r\n                window.removeEventListener('resize', handleResize);\r\n            });\r\n        },\r\n        methods: {\r\n            /**\r\n             * @desc 计算内容去高度\r\n             */\r\n            calcContentHeight () {\r\n                const contentOffsetTop = getOffset(this.$refs.content).top;\r\n                this.contentHeight = window.innerHeight - contentOffsetTop - 66;\r\n            },\r\n            handleUploadScript () {\r\n                this.$refs.aceEditor.handleUploadScript();\r\n            },\r\n            handleShowHistory () {\r\n                this.$refs.aceEditor.handleShowHistory();\r\n            },\r\n            handleFullScreen () {\r\n                this.$refs.aceEditor.handleFullScreen();\r\n            },\r\n            /**\r\n             * @desc 脚本版本修改\r\n             */\r\n            handleVersionChange: _.debounce(function (value) {\r\n                this.formData.version = value;\r\n                const { scriptVersionId } = this.scriptInfo;\r\n                this.$emit('on-create-change', scriptVersionId, {\r\n                    version: value,\r\n                });\r\n            }, 100),\r\n            /**\r\n             * @desc 脚本语言\r\n             * @param {String} scriptType 脚本语言\r\n             */\r\n            handleTypeChange (scriptType) {\r\n                this.formData.type = formatScriptTypeValue(scriptType);\r\n            },\r\n            /**\r\n             * @desc 保存脚本\r\n             */\r\n            handleSubmit () {\r\n                if (!this.formData.content) {\r\n                    this.messageError(I18n.t('script.脚本内容不能为空'));\r\n                    return;\r\n                }\r\n                this.isSubmiting = true;\r\n                Promise.all([\r\n                    // 验证表单\r\n                    this.$refs.form.validate(),\r\n                    // 脚本高危语句检测\r\n                    ScriptManageService.getScriptValidation({\r\n                        content: this.formData.content,\r\n                        scriptType: this.formData.type,\r\n                    }).then((data) => {\r\n                        // 高危语句报错状态需要全局保存\r\n                        this.$store.commit('setScriptCheckError', data.some(_ => _.isDangerous));\r\n                        return true;\r\n                    }),\r\n                ]).then(() => {\r\n                    if (this.$store.state.scriptCheckError) {\r\n                        scriptErrorAlert();\r\n                        return;\r\n                    }\r\n                    this.scriptManageServiceHandler.scriptUpdate({\r\n                        ...this.formData,\r\n                    }).then((data) => {\r\n                        this.$emit('on-create', {\r\n                            scriptVersionId: data.scriptVersionId,\r\n                        });\r\n                        window.changeAlert = false;\r\n                        this.messageSuccess(I18n.t('script.操作成功'));\r\n                    });\r\n                })\r\n                    .finally(() => {\r\n                        this.isSubmiting = false;\r\n                    });\r\n            },\r\n            /**\r\n             * @desc 跳转到快速执行脚本页面执行\r\n             */\r\n            handleDebugScript () {\r\n                debugScriptCache.setItem(this.formData.content);\r\n                const { href } = this.$router.resolve({\r\n                    name: 'fastExecuteScript',\r\n                    query: {\r\n                        model: 'debugScript',\r\n                    },\r\n                });\r\n                window.open(href);\r\n            },\r\n            /**\r\n             * @desc 取消新建\r\n             */\r\n            handleCancel () {\r\n                leaveConfirm()\r\n                    .then(() => {\r\n                        this.$emit('on-create-cancel');\r\n                    });\r\n            },\r\n        },\r\n    };\r\n</script>\r\n<style lang='postcss'>\r\n    .script-manage-copy-create-box {\r\n        .script-version {\r\n            position: relative;\r\n\r\n            .new-flag {\r\n                position: absolute;\r\n                top: -32px;\r\n                left: 55px;\r\n                font-size: 32px;\r\n                color: #7d6b50;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","\r\n\r\n<template>\r\n    <layout>\r\n        <div slot=\"title\">{{ $t('script.编辑脚本') }}</div>\r\n        <template slot=\"sub-header\">\r\n            <Icon\r\n                type=\"upload\"\r\n                @click=\"handleUploadScript\"\r\n                v-bk-tooltips=\"$t('上传脚本')\"\r\n                v-test=\"{ type: 'button', value: 'uploadScript' }\" />\r\n            <Icon\r\n                type=\"history\"\r\n                @click.stop=\"handleShowHistory\"\r\n                v-bk-tooltips=\"$t('历史缓存')\"\r\n                v-test=\"{ type: 'button', value: 'scriptEditHistory' }\" />\r\n            <Icon\r\n                type=\"full-screen\"\r\n                v-bk-tooltips=\"$t('全屏')\"\r\n                @click=\"handleFullScreen\"\r\n                v-test=\"{ type: 'button', value: 'scriptEditFullscreen' }\" />\r\n        </template>\r\n        <div slot=\"left\">\r\n            <jb-form\r\n                ref=\"form\"\r\n                :model=\"formData\"\r\n                :rules=\"rules\"\r\n                form-type=\"vertical\"\r\n                class=\"edit-script-form\"\r\n                v-test=\"{ type: 'form', value: 'editScript' }\">\r\n                <jb-form-item\r\n                    :label=\"$t('script.版本号.label')\"\r\n                    required>\r\n                    <bk-input :value=\"formData.version\" readonly />\r\n                </jb-form-item>\r\n                <jb-form-item :label=\"$t('script.版本日志')\">\r\n                    <bk-input\r\n                        v-model=\"formData.versionDesc\"\r\n                        type=\"textarea\"\r\n                        :rows=\"5\"\r\n                        :maxlength=\"100\" />\r\n                </jb-form-item>\r\n            </jb-form>\r\n        </div>\r\n        <div ref=\"content\">\r\n            <ace-editor\r\n                ref=\"aceEditor\"\r\n                v-model=\"formData.content\"\r\n                :lang=\"formData.typeName\"\r\n                :height=\"contentHeight\"\r\n                :readonly=\"!scriptInfo.isDraft\"\r\n                :options=\"formData.typeName\" />\r\n        </div>\r\n        <template #footer>\r\n            <bk-button\r\n                theme=\"primary\"\r\n                :loading=\"isSubmiting\"\r\n                @click=\"handleSubmit\"\r\n                class=\"w120 mr10\"\r\n                v-test=\"{ type: 'button', value: 'editScriptSubmit' }\">\r\n                {{ $t('script.提交') }}\r\n            </bk-button>\r\n            <bk-button\r\n                class=\"mr10\"\r\n                @click=\"handleDebugScript\"\r\n                v-test=\"{ type: 'button', value: 'debugScript' }\">\r\n                {{ $t('script.调试') }}\r\n            </bk-button>\r\n            <bk-button\r\n                @click=\"handleCancel\"\r\n                v-test=\"{ type: 'button', value: 'editScriptCancel' }\">\r\n                {{ $t('script.取消') }}\r\n            </bk-button>\r\n        </template>\r\n    </layout>\r\n</template>\r\n<script>\r\n    import _ from 'lodash';\r\n    import I18n from '@/i18n';\r\n    import ScriptManageService from '@service/script-manage';\r\n    import PublicScriptManageService from '@service/public-script-manage';\r\n    import AceEditor from '@components/ace-editor';\r\n    import {\r\n        checkPublicScript,\r\n        leaveConfirm,\r\n        getOffset,\r\n        scriptErrorAlert,\r\n    } from '@utils/assist';\r\n    import { debugScriptCache } from '@utils/cache-helper';\r\n    import Layout from './components/layout';\r\n\r\n    const genDefaultFormData = () => ({\r\n        id: '',\r\n        name: '',\r\n        scriptVersionId: '',\r\n        typeName: 'Shell',\r\n        version: '',\r\n        versionDesc: '',\r\n        type: 1,\r\n        content: '',\r\n    });\r\n\r\n    export default {\r\n        name: '',\r\n        components: {\r\n            AceEditor,\r\n            Layout,\r\n        },\r\n        inheritAttrs: false,\r\n        props: {\r\n            scriptInfo: {\r\n                type: Object,\r\n                required: true,\r\n            },\r\n        },\r\n        data () {\r\n            return {\r\n                isSubmiting: false,\r\n                contentHeight: 0,\r\n                formData: {},\r\n            };\r\n        },\r\n        watch: {\r\n            scriptInfo: {\r\n                handler (scriptInfo) {\r\n                    if (!scriptInfo.id) {\r\n                        return;\r\n                    }\r\n                    const {\r\n                        id,\r\n                        name,\r\n                        scriptVersionId,\r\n                        version,\r\n                        versionDesc,\r\n                        type,\r\n                        typeName,\r\n                        content,\r\n                    } = scriptInfo;\r\n\r\n                    this.formData = {\r\n                        ...genDefaultFormData(),\r\n                        id,\r\n                        name,\r\n                        scriptVersionId,\r\n                        version,\r\n                        versionDesc,\r\n                        type,\r\n                        typeName,\r\n                        content,\r\n                    };\r\n                },\r\n                immediate: true,\r\n            },\r\n        },\r\n        created () {\r\n            this.publicScript = checkPublicScript(this.$route);\r\n            this.serviceHandler = this.publicScript ? PublicScriptManageService : ScriptManageService;\r\n\r\n            this.rules = {\r\n                content: [\r\n                    {\r\n                        required: true,\r\n                        message: I18n.t('script.脚本内容不能为空'),\r\n                        trigger: 'change',\r\n                    },\r\n                    {\r\n                        validator: value => ScriptManageService.getScriptValidation({\r\n                            content: value,\r\n                            scriptType: this.formData.type,\r\n                        }).then((data) => {\r\n                            // 高危语句报错状态需要全局保存\r\n                            this.$store.commit('setScriptCheckError', data.some(_ => _.isDangerous));\r\n                            return true;\r\n                        }),\r\n                        message: I18n.t('script.脚本内容检测失败'),\r\n                        trigger: 'blur',\r\n                    },\r\n                ],\r\n            };\r\n\r\n            window.addEventListener('resize', this.init);\r\n            this.$once('hook:beforeDestroy', () => {\r\n                window.removeEventListener('resize', this.init);\r\n            });\r\n        },\r\n        mounted () {\r\n            this.calcContentHeight();\r\n            const handleResize = _.throttle(this.calcContentHeight, 60);\r\n            window.addEventListener('resize', handleResize);\r\n            this.$once('hook:beforeDestroy', () => {\r\n                window.removeEventListener('resize', handleResize);\r\n            });\r\n        },\r\n        methods: {\r\n            /**\r\n             * @desc 计算内容区高度\r\n             */\r\n            calcContentHeight () {\r\n                const contentOffsetTop = getOffset(this.$refs.content).top;\r\n                this.contentHeight = window.innerHeight - contentOffsetTop - 26;\r\n            },\r\n            handleUploadScript () {\r\n                this.$refs.aceEditor.handleUploadScript();\r\n            },\r\n            handleShowHistory () {\r\n                this.$refs.aceEditor.handleShowHistory();\r\n            },\r\n            handleFullScreen () {\r\n                this.$refs.aceEditor.handleFullScreen();\r\n            },\r\n            /**\r\n             * @desc 保存脚本\r\n             */\r\n            handleSubmit () {\r\n                if (!this.formData.content) {\r\n                    this.messageError(I18n.t('script.脚本内容不能为空'));\r\n                    return;\r\n                }\r\n                this.isSubmiting = true;\r\n                Promise.all([\r\n                    // 验证表单\r\n                    this.$refs.form.validate(),\r\n                    // 脚本高危语句检测\r\n                    ScriptManageService.getScriptValidation({\r\n                        content: this.formData.content,\r\n                        scriptType: this.formData.type,\r\n                    }).then((data) => {\r\n                        // 高危语句报错状态需要全局保存\r\n                        this.$store.commit('setScriptCheckError', data.some(_ => _.isDangerous));\r\n                        return true;\r\n                    }),\r\n                ]).then(() => {\r\n                    if (this.$store.state.scriptCheckError) {\r\n                        scriptErrorAlert();\r\n                        return;\r\n                    }\r\n                    this.serviceHandler.scriptUpdate({\r\n                        ...this.formData,\r\n                        scriptVersionId: this.scriptInfo.scriptVersionId,\r\n                    }).then(() => {\r\n                        window.changeAlert = false;\r\n                        this.$emit('on-edit', {\r\n                            scriptVersionId: this.scriptInfo.scriptVersionId,\r\n                        });\r\n                        this.messageSuccess(I18n.t('script.操作成功'));\r\n                    });\r\n                })\r\n                    .finally(() => {\r\n                        this.isSubmiting = false;\r\n                    });\r\n            },\r\n            /**\r\n             * @desc 跳转到快速执行脚本页面调试脚本\r\n             */\r\n            handleDebugScript () {\r\n                debugScriptCache.setItem(this.formData.content);\r\n                const { href } = this.$router.resolve({\r\n                    name: 'fastExecuteScript',\r\n                    query: {\r\n                        model: 'debugScript',\r\n                    },\r\n                });\r\n                window.open(href);\r\n            },\r\n            /**\r\n             * @desc 取消编辑\r\n             */\r\n            handleCancel () {\r\n                leaveConfirm()\r\n                    .then(() => {\r\n                        this.$emit('on-edit-cancel', {\r\n                            scriptVersionId: this.scriptInfo.scriptVersionId,\r\n                        });\r\n                    });\r\n            },\r\n        },\r\n    };\r\n</script>\r\n","\r\n\r\n<template>\r\n    <div class=\"jb-diff-layout\"\r\n        :style=\"{\r\n            'z-index': zIndex,\r\n        }\">\r\n        <div class=\"header\">\r\n            <div class=\"title\">{{ title }}</div>\r\n            <div class=\"diff-info\">\r\n                <div class=\"diff-del\" @click=\"handleViewDel\">\r\n                    <span class=\"before\" />\r\n                    <span class=\"after\" />\r\n                    <span>{{ $t('删除') }}（{{ del }}）</span>\r\n                </div>\r\n                <div class=\"diff-change\" @click=\"handleViewChange\">\r\n                    <span class=\"before\" />\r\n                    <span class=\"after\" />\r\n                    <span>{{ $t('变换') }}（{{ change }}）</span>\r\n                </div>\r\n                <div class=\"diff-ins\" @click=\"handleViewIns\">\r\n                    <span class=\"before\" />\r\n                    <span class=\"after\" />\r\n                    <span>{{ $t('新增.diff') }}（{{ ins }}）</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"version-select-layout\">\r\n            <div class=\"version-left\">\r\n                <bk-select class=\"version-selector\" :clearable=\"false\" v-model=\"oldVersion\">\r\n                    <bk-option\r\n                        v-for=\"item in data\"\r\n                        :key=\"item.scriptVersionId\"\r\n                        :id=\"item.scriptVersionId\"\r\n                        :name=\"item.version\"\r\n                         />\r\n                </bk-select>\r\n            </div>\r\n            <div class=\"version-right\">\r\n                <bk-select class=\"version-selector\" :clearable=\"false\" v-model=\"newVersion\">\r\n                    <bk-option\r\n                        v-for=\"item in data\"\r\n                        :key=\"item.scriptVersionId\"\r\n                        :id=\"item.scriptVersionId\"\r\n                        :name=\"item.version\"\r\n                         />\r\n                </bk-select>\r\n            </div>\r\n        </div>\r\n        <scroll-faker class=\"content-wraper\">\r\n            <jb-diff\r\n                class=\"diff-details\"\r\n                format=\"side-by-side\"\r\n                theme=\"dark\"\r\n                ref=\"diff\"\r\n                :language=\"language\"\r\n                :context=\"Infinity\"\r\n                :old-content=\"oldContent\"\r\n                :new-content=\"newContent\" />\r\n        </scroll-faker>\r\n        <i class=\"bk-icon icon-close\" @click=\"handleClose\" />\r\n    </div>\r\n</template>\r\n<script>\r\n    import _ from 'lodash';\r\n    import { Base64 } from 'js-base64';\r\n\r\n    export default {\r\n        props: {\r\n            data: {\r\n                type: Array,\r\n                required: true,\r\n            },\r\n            title: {\r\n                type: String,\r\n                default: '',\r\n            },\r\n            oldVersionId: {\r\n                type: Number,\r\n                required: true,\r\n            },\r\n            newVersionId: {\r\n                type: Number,\r\n                required: true,\r\n            },\r\n        },\r\n        data () {\r\n            return {\r\n                oldVersion: this.oldVersionId,\r\n                newVersion: this.newVersionId,\r\n                zIndex: 'auto',\r\n                del: 0,\r\n                ins: 0,\r\n                change: 0,\r\n            };\r\n        },\r\n        computed: {\r\n            language () {\r\n                if (this.data.length < 1) {\r\n                    return '';\r\n                }\r\n                return this.data[0].typeName.toLocaleLowerCase();\r\n            },\r\n            oldContent () {\r\n                const script = _.find(this.data, _ => _.scriptVersionId === this.oldVersion);\r\n                if (script) {\r\n                    return Base64.decode(script.content);\r\n                }\r\n                return '';\r\n            },\r\n            newContent () {\r\n                const script = _.find(this.data, _ => _.scriptVersionId === this.newVersion);\r\n                if (script) {\r\n                    return Base64.decode(script.content);\r\n                }\r\n                return '';\r\n            },\r\n        },\r\n        watch: {\r\n            oldContent () {\r\n                this.statisticsDiff();\r\n            },\r\n            newContent () {\r\n                this.statisticsDiff();\r\n            },\r\n        },\r\n        created () {\r\n            this.scrollTopMemo = 0;\r\n            this.insElements = [];\r\n            this.insIndex = 0;\r\n            this.delElements = [];\r\n            this.delIndex = 0;\r\n            this.changeElements = [];\r\n            this.changeIndex = 0;\r\n        },\r\n        mounted () {\r\n            this.zIndex = window.__bk_zIndex_manager.nextZIndex(); // eslint-disable-line no-underscore-dangle\r\n            document.body.append(this.$el);\r\n            window.addEventListener('keydown', this.handleEsc);\r\n            this.resetBodyStyle();\r\n            this.statisticsDiff();\r\n            this.$once('hook:beforeDestroy', () => {\r\n                window.removeEventListener('keydown', this.handleEsc);\r\n                try {\r\n                    document.body.removeChild(this.$el);\r\n                } catch {}\r\n            });\r\n        },\r\n        methods: {\r\n            statisticsDiff () {\r\n                this.$nextTick(() => {\r\n                    const $contentTarget = this.$refs.diff.$el.querySelectorAll('.d2h-file-side-diff');\r\n                    const $newTarget = $contentTarget[1];// eslint-disable-line prefer-destructuring\r\n                    const $allChangeElemennts = Array.from($newTarget.querySelectorAll('td.d2h-code-side-linenumber.d2h-ins'));\r\n                    $allChangeElemennts.pop();\r\n\r\n                    this.insElements = [];\r\n                    this.ins = 0;\r\n                    this.insIndex = 0;\r\n                    this.changeElements = [];\r\n                    this.change = 0;\r\n                    this.changeIndex = 0;\r\n\r\n                    $allChangeElemennts.forEach((ele) => {\r\n                        if (ele.classList.contains('d2h-change')) {\r\n                            this.changeElements.push(ele);\r\n                            this.change += 1;\r\n                        } else {\r\n                            this.insElements.push(ele);\r\n                            this.ins += 1;\r\n                        }\r\n                    });\r\n                    \r\n                    const $dels = $newTarget.querySelectorAll('td.d2h-code-side-linenumber.d2h-code-side-emptyplaceholder');\r\n                    this.delElements = $dels;\r\n                    this.del = $dels.length;\r\n                    this.delIndex = 0;\r\n\r\n                    this.lineElements = $newTarget.querySelectorAll('td.d2h-code-side-linenumber');\r\n                });\r\n            },\r\n            lineViewReset () {\r\n                this.lineElements.forEach((item) => {\r\n                    item.classList.remove('active');\r\n                });\r\n            },\r\n            handleViewDel () {\r\n                this.lineViewReset();\r\n                if (this.del < 1) {\r\n                    return;\r\n                }\r\n                const $target = this.delElements[this.delIndex];\r\n                $target.scrollIntoView();\r\n                $target.classList.add('active');\r\n                this.changeIndex = 0;\r\n                this.insIndex = 0;\r\n                this.delIndex += 1;\r\n                if (this.delIndex >= this.del) {\r\n                    this.delIndex = 0;\r\n                }\r\n            },\r\n            handleViewChange () {\r\n                this.lineViewReset();\r\n                if (this.change < 1) {\r\n                    return;\r\n                }\r\n                const $target = this.changeElements[this.changeIndex];\r\n                $target.scrollIntoView();\r\n                $target.classList.add('active');\r\n                this.insIndex = 0;\r\n                this.delIndex = 0;\r\n                this.changeIndex += 1;\r\n                if (this.changeIndex >= this.change) {\r\n                    this.changeIndex = 0;\r\n                }\r\n            },\r\n            handleViewIns () {\r\n                this.lineViewReset();\r\n                if (this.ins < 1) {\r\n                    return;\r\n                }\r\n                const $target = this.insElements[this.insIndex];\r\n                $target.scrollIntoView();\r\n                $target.classList.add('active');\r\n                this.delIndex = 0;\r\n                this.changeIndex = 0;\r\n                this.insIndex += 1;\r\n                if (this.insIndex >= this.ins) {\r\n                    this.insIndex = 0;\r\n                }\r\n            },\r\n            handleEsc (event) {\r\n                if (event && event.code === 'Escape') {\r\n                    this.handleClose();\r\n                }\r\n            },\r\n            handleClose () {\r\n                this.$emit('on-change', {\r\n                    [this.oldVersion]: true,\r\n                    [this.newVersion]: true,\r\n                });\r\n                this.$emit('close');\r\n            },\r\n            resetBodyStyle () {\r\n                this.scrollTopMemo = document.scrollingElement.scrollTop;\r\n                document.scrollingElement.style.overflow = 'hidden';\r\n            },\r\n            recoveryBodyStyle () {\r\n                document.scrollingElement.style.overflow = 'initial';\r\n                document.scrollingElement.scrollTop = this.scrollTopMemo;\r\n            },\r\n        },\r\n    };\r\n</script>\r\n<style lang=\"postcss\">\r\n    .jb-diff-layout {\r\n        position: fixed;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        padding: 0 40px;\r\n        background-color: #fafbfd;\r\n\r\n        .header {\r\n            display: flex;\r\n            height: 40px;\r\n            align-items: center;\r\n\r\n            .title {\r\n                font-size: 14px;\r\n                color: #313238;\r\n            }\r\n\r\n            .diff-info {\r\n                display: flex;\r\n                margin-right: 114px;\r\n                margin-left: auto;\r\n                font-size: 12px;\r\n                line-height: 1em;\r\n                align-items: center;\r\n\r\n                .diff-del,\r\n                .diff-change,\r\n                .diff-ins {\r\n                    display: flex;\r\n                    margin-left: 30px;\r\n                    cursor: pointer;\r\n                    user-select: none;\r\n                }\r\n\r\n                .diff-del {\r\n                    color: #bd5c58;\r\n\r\n                    .before {\r\n                        background: #b1615b;\r\n                    }\r\n\r\n                    .after {\r\n                        background: #dcdcdc;\r\n                    }\r\n                }\r\n\r\n                .diff-change {\r\n                    color: #63656e;\r\n\r\n                    .before {\r\n                        background: #b1615b;\r\n                    }\r\n\r\n                    .after {\r\n                        background: #9aad76;\r\n                    }\r\n                }\r\n\r\n                .diff-ins {\r\n                    color: #9aad76;\r\n\r\n                    .before {\r\n                        background: #dcdcdc;\r\n                    }\r\n\r\n                    .after {\r\n                        background: #9aad76;\r\n                    }\r\n                }\r\n\r\n                .before,\r\n                .after {\r\n                    width: 1em;\r\n                    height: 1em;\r\n                }\r\n\r\n                .after {\r\n                    margin-right: 6px;\r\n                    margin-left: 1px;\r\n                }\r\n            }\r\n        }\r\n\r\n        .version-select-layout {\r\n            display: flex;\r\n            height: 51px;\r\n            margin: 6px 0 0;\r\n            background: #2f3033;\r\n            border-radius: 2px 2px 0 0;\r\n\r\n            .version-left,\r\n            .version-right {\r\n                display: flex;\r\n                padding: 0 10px;\r\n                flex: 0 0 50%;\r\n                align-items: center;\r\n            }\r\n\r\n            .version-left {\r\n                border-right: 1px solid #dcdee5;\r\n            }\r\n\r\n            .bk-select {\r\n                color: #dcdee5;\r\n                background: #393a3d;\r\n                border-color: #393a3d;\r\n            }\r\n        }\r\n\r\n        .version-selector {\r\n            width: 300px;\r\n        }\r\n\r\n        .content-wraper {\r\n            max-height: calc(100vh - 92px);\r\n            background: #1d1d1d;\r\n        }\r\n\r\n        .d2h-file-wrapper {\r\n            border: none;\r\n        }\r\n\r\n        .diff-details {\r\n            position: relative;\r\n            background-color: #272822;\r\n        }\r\n\r\n        .d2h-code-side-linenumber {\r\n            line-height: 20px;\r\n\r\n            &.active::before {\r\n                float: left;\r\n                width: 10px;\r\n                height: 10px;\r\n                margin-top: 5px;\r\n                margin-left: 13px;\r\n                background: #666;\r\n                border-radius: 50%;\r\n                content: \"\";\r\n            }\r\n        }\r\n\r\n        .icon-close {\r\n            position: absolute;\r\n            top: 8px;\r\n            right: 8px;\r\n            font-size: 28px;\r\n            color: #313238;\r\n            cursor: pointer;\r\n            transition: all 0.1s;\r\n\r\n            &:hover {\r\n                transform: rotateZ(90deg);\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","\r\n\r\n<template>\r\n    <div\r\n        ref=\"layout\"\r\n        class=\"script-version-page-layout\"\r\n        :class=\"{\r\n            'is-flod': flod,\r\n            toggled: isOpen,\r\n        }\">\r\n        <div class=\"layout-left\">\r\n            <div class=\"left-wraper\" :style=\"styles\">\r\n                <slot />\r\n            </div>\r\n            <div v-if=\"isShowRight\" class=\"toggle-button\" @click=\"handleToggle\">\r\n                <Icon type=\"down-small\" class=\"toggle-arrow\" />\r\n            </div>\r\n        </div>\r\n        <div v-if=\"flod\" class=\"layout-right\" :style=\"rightStyles\">\r\n            <div class=\"right-wraper\" :class=\"{ active: isShowRight }\">\r\n                <slot v-if=\"isShowRight\" name=\"flod\" />\r\n            </div>\r\n            <div class=\"close-btn\" @click=\"handleClose\">\r\n                <Icon type=\"close-big\" />\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {\r\n        getOffset,\r\n        leaveConfirm,\r\n    } from '@utils/assist';\r\n\r\n    export default {\r\n        name: '',\r\n        props: {\r\n            flod: {\r\n                type: Boolean,\r\n                default: false,\r\n            },\r\n        },\r\n        data () {\r\n            return {\r\n                isShowRight: false,\r\n                isOpen: false,\r\n                layoutWidth: 'auto',\r\n                layoutOffsetTop: 0,\r\n            };\r\n        },\r\n        computed: {\r\n            styles () {\r\n                if (this.flod) {\r\n                    return {\r\n                        width: '360px',\r\n                    };\r\n                }\r\n                return {\r\n                    width: this.layoutWidth,\r\n                };\r\n            },\r\n            rightStyles () {\r\n                const paddingBottom = 20;\r\n                return {\r\n                    height: `calc(100vh -  ${this.layoutOffsetTop + paddingBottom}px)`,\r\n                };\r\n            },\r\n        },\r\n        watch: {\r\n            flod: {\r\n                handler (flod) {\r\n                    if (flod) {\r\n                        setTimeout(() => {\r\n                            this.isShowRight = flod;\r\n                        }, 110);\r\n                    } else {\r\n                        this.isShowRight = false;\r\n                    }\r\n                },\r\n                immediate: true,\r\n            },\r\n        },\r\n        mounted () {\r\n            this.init();\r\n            window.addEventListener('resize', this.init);\r\n            this.$once('hook:beforeDestroy', () => {\r\n                window.removeEventListener('resize', this.init);\r\n            });\r\n        },\r\n        methods: {\r\n            /**\r\n             * @desc 根据屏幕尺寸动态计算 layout 的位置信息\r\n             */\r\n            init () {\r\n                const layoutWidth = this.$refs.layout.getBoundingClientRect().width;\r\n                this.layoutWidth = `${layoutWidth}px`;\r\n                const offsetTop = getOffset(this.$refs.layout).top;\r\n                this.layoutOffsetTop = offsetTop;\r\n            },\r\n            handleToggle () {\r\n                this.isOpen = !this.isOpen;\r\n            },\r\n            handleClose () {\r\n                leaveConfirm()\r\n                    .then(() => {\r\n                        this.isOpen = false;\r\n                        this.$emit('on-flod');\r\n                        this.$emit('update:flod', false);\r\n                    });\r\n            },\r\n        },\r\n    };\r\n</script>\r\n<style lang='postcss'>\r\n    .script-version-page-layout {\r\n        display: flex;\r\n\r\n        &.is-flod {\r\n            .bk-table-row {\r\n                cursor: pointer;\r\n            }\r\n        }\r\n\r\n        &.toggled {\r\n            margin-left: -24px;\r\n\r\n            .left-wraper {\r\n                width: 0 !important;\r\n            }\r\n\r\n            .toggle-button {\r\n                .toggle-arrow {\r\n                    transform: rotateZ(-90deg);\r\n                }\r\n            }\r\n\r\n            .layout-right {\r\n                margin-left: 24px;\r\n            }\r\n        }\r\n\r\n        .layout-left {\r\n            position: relative;\r\n            z-index: 9;\r\n            background: #fff;\r\n            outline: 1px solid #dfe0e5;\r\n            transition: all 0.15s;\r\n            flex: 0 0 auto;\r\n\r\n            .left-wraper {\r\n                transition: all 0.1s;\r\n            }\r\n\r\n            .bk-table::before {\r\n                content: unset;\r\n            }\r\n\r\n            .toggle-button {\r\n                position: absolute;\r\n                top: 50%;\r\n                right: -14px;\r\n                display: flex;\r\n                width: 14px;\r\n                height: 64px;\r\n                font-size: 24px;\r\n                color: #fff;\r\n                cursor: pointer;\r\n                background: #dcdee5;\r\n                border-top-right-radius: 6px;\r\n                border-bottom-right-radius: 6px;\r\n                transform: translateY(-50%);\r\n                align-items: center;\r\n                justify-content: center;\r\n\r\n                &:hover {\r\n                    background: #c4c6cc;\r\n                }\r\n            }\r\n\r\n            .toggle-arrow {\r\n                transform: rotateZ(90deg);\r\n            }\r\n        }\r\n\r\n        .layout-right {\r\n            position: relative;\r\n            margin-left: 16px;\r\n            overflow: hidden;\r\n            background: #fff;\r\n            border-radius: 2px;\r\n            transition: all 0.15s;\r\n            flex: 1;\r\n\r\n            .right-wraper {\r\n                opacity: 0%;\r\n                transition: all 0.5s;\r\n\r\n                &.active {\r\n                    opacity: 100%;\r\n                }\r\n            }\r\n\r\n            .close-btn {\r\n                position: absolute;\r\n                top: 8px;\r\n                right: 8px;\r\n                display: flex;\r\n                width: 26px;\r\n                height: 26px;\r\n                font-size: 16px;\r\n                color: #c4c6cc;\r\n                cursor: pointer;\r\n                border-radius: 50%;\r\n                align-items: center;\r\n                justify-content: center;\r\n\r\n                &:hover {\r\n                    background-color: #4d4d4d;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","<template>\r\n    <div class=\"script-manage-new-version\">\r\n        <jb-form\r\n            ref=\"form\"\r\n            form-type=\"vertical\"\r\n            :model=\"formData\"\r\n            :rules=\"rules\">\r\n            <jb-form-item\r\n                :label=\"$t('script.选择载入版本')\"\r\n                required\r\n                property=\"scriptVersionId\"\r\n                style=\"margin-bottom: 0;\">\r\n                <bk-select v-model=\"formData.scriptVersionId\">\r\n                    <bk-option\r\n                        v-for=\"item in renderList\"\r\n                        :id=\"item.scriptVersionId\"\r\n                        :name=\"item.version\"\r\n                        :key=\"item.scriptVersionId\">\r\n                        <span>{{ item.version }}</span>\r\n                        <span v-html=\"item.statusHtml\" />\r\n                    </bk-option>\r\n                </bk-select>\r\n            </jb-form-item>\r\n        </jb-form>\r\n    </div>\r\n</template>\r\n<script>\r\n    import _ from 'lodash';\r\n    import I18n from '@/i18n';\r\n\r\n    export default {\r\n        name: '',\r\n        props: {\r\n            versionList: {\r\n                type: Array,\r\n                require: true,\r\n            },\r\n        },\r\n        data () {\r\n            return {\r\n                renderList: [{},{},{}],\r\n                formData: {\r\n                    scriptVersionId: '',\r\n                },\r\n            };\r\n        },\r\n        watch: {\r\n            versionList: {\r\n                handler (versionList) {\r\n                    this.renderList = Object.freeze(versionList);\r\n                    this.formData.scriptVersionId = '';\r\n                },\r\n                immediate: true,\r\n            },\r\n        },\r\n        created () {\r\n            this.rules = {\r\n                scriptVersionId: [\r\n                    {\r\n                        required: true,\r\n                        message: I18n.t('script.脚本版本必填'),\r\n                        trigger: 'blur',\r\n                    },\r\n                ],\r\n            };\r\n        },\r\n        methods: {\r\n            /**\r\n             * @desc 选中版本开始复制新建\r\n             */\r\n            submit () {\r\n                return this.$refs.form.validate()\r\n                    .then(() => {\r\n                        const scriptVersion = _.find(this.renderList, ({ scriptVersionId }) => scriptVersionId === this.formData.scriptVersionId);\r\n                        this.$emit('on-create', scriptVersion);\r\n                    });\r\n            },\r\n            reset () {\r\n                this.formData.scriptVersionId = '';\r\n                this.$refs.form.clearError();\r\n            },\r\n        },\r\n    };\r\n</script>\r\n","\r\n\r\n<template>\r\n    <div\r\n        ref=\"wraper\"\r\n        class=\"script-version-basic-box\"\r\n        v-bkloading=\"{ isLoading }\">\r\n        <template v-if=\"data.id\">\r\n            <div class=\"script-type-flag\">\r\n                <img :src=\"`/static/images/script/${data.typeName}.svg`\">\r\n            </div>\r\n            <div class=\"detail-column\" style=\"width: 270px;\">\r\n                <div class=\"detail-col\">\r\n                    <div class=\"item-label\">{{ $t('script.脚本名：') }}</div>\r\n                    <div class=\"item-value\">\r\n                        <auth-component\r\n                            auth=\"script/edit\"\r\n                            :resource-id=\"data.id\">\r\n                            <jb-edit-input\r\n                                style=\"width: 100%;\"\r\n                                field=\"scriptName\"\r\n                                :value=\"data.name\"\r\n                                :remote-hander=\"val => handleUpdateScript('scriptName', val)\" />\r\n                            <div slot=\"forbid\">{{ data.name }}</div>\r\n                        </auth-component>\r\n                    </div>\r\n                </div>\r\n                <div class=\"detail-col\">\r\n                    <div class=\"item-label\">{{ $t('script.更新人：') }}</div>\r\n                    <div class=\"item-value\">\r\n                        <div class=\"text-box\" v-bk-overflow-tips>{{ data.lastModifyUser }}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"detail-col\">\r\n                    <div class=\"item-label\">{{ $t('script.创建人：') }}</div>\r\n                    <div class=\"item-value\">\r\n                        <div class=\"text-box\" v-bk-overflow-tips>{{ data.creator }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"detail-column\" style=\"width: 282px;\">\r\n                <div class=\"detail-col\">\r\n                    <div class=\"item-label\">{{ $t('script.脚本语言：') }}</div>\r\n                    <div class=\"item-value\">\r\n                        <div class=\"text-box\">{{ data.typeName }}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"detail-col\">\r\n                    <div class=\"item-label\">{{ $t('script.更新时间：') }}</div>\r\n                    <div class=\"item-value\">\r\n                        <div class=\"text-box\" v-bk-overflow-tips>{{ data.lastModifyTime }}</div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"detail-col\">\r\n                    <div class=\"item-label\">{{ $t('script.创建时间：') }}</div>\r\n                    <div class=\"item-value\" v-bk-overflow-tips>\r\n                        <div class=\"text-box\">{{ data.createTime }}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"detail-column last\">\r\n                <div class=\"detail-col\">\r\n                    <div class=\"item-label\">{{ $t('script.场景标签：') }}</div>\r\n                    <div class=\"item-value\">\r\n                        <auth-component\r\n                            auth=\"script/edit\"\r\n                            :resource-id=\"data.id\">\r\n                            <jb-edit-tag\r\n                                class=\"input\"\r\n                                field=\"scriptTags\"\r\n                                :rows=\"1\"\r\n                                :value=\"data.tags\"\r\n                                :remote-hander=\"val => handleUpdateScript('scriptTags', val)\" />\r\n                            <div slot=\"forbid\">{{ data.tagText }}</div>\r\n                        </auth-component>\r\n                    </div>\r\n                </div>\r\n                <div class=\"detail-col\">\r\n                    <div class=\"item-label\">{{ $t('script.脚本描述：') }}</div>\r\n                    <div class=\"item-value\">\r\n                        <jb-edit-textarea\r\n                            field=\"scriptDesc\"\r\n                            single-row-render\r\n                            :placeholder=\"$t('script.在此处标注该脚本的备注和使用说明')\"\r\n                            :maxlength=\"500\"\r\n                            :rows=\"1\"\r\n                            :value=\"data.description\"\r\n                            :remote-hander=\"val => handleUpdateScript('scriptDesc', val)\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </template>\r\n    </div>\r\n</template>\r\n<script>\r\n    import ScriptService from '@service/script-manage';\r\n    import PublicScriptService from '@service/public-script-manage';\r\n    import { checkPublicScript } from '@utils/assist';\r\n    import JbEditInput from '@components/jb-edit/input';\r\n    import JbEditTag from '@components/jb-edit/tag';\r\n    import JbEditTextarea from '@components/jb-edit/textarea';\r\n\r\n    export default {\r\n        name: '',\r\n        components: {\r\n            JbEditInput,\r\n            JbEditTag,\r\n            JbEditTextarea,\r\n        },\r\n        data () {\r\n            return {\r\n                isLoading: true,\r\n                data: {},\r\n            };\r\n        },\r\n        created () {\r\n            this.publicScript = checkPublicScript(this.$route);\r\n            this.serviceHandler = this.publicScript ? PublicScriptService : ScriptService;\r\n            this.scriptId = this.$route.params.id;\r\n            this.fetchScriptBasic();\r\n        },\r\n        methods: {\r\n            /**\r\n             * @desc 获取脚本基本信息\r\n             */\r\n            fetchScriptBasic () {\r\n                this.isLoading = true;\r\n                this.serviceHandler.fetchBasicInfo({\r\n                    id: this.scriptId,\r\n                }).then((data) => {\r\n                    this.data = Object.freeze(data);\r\n                    this.calcLableWidth();\r\n                })\r\n                    .finally(() => {\r\n                        this.isLoading = false;\r\n                    });\r\n            },\r\n            /**\r\n             * @desc 计算脚本lable的宽度\r\n             */\r\n            calcLableWidth () {\r\n                this.$refs.wraper.querySelectorAll('.detail-column').forEach((columnEl) => {\r\n                    const $lableEles = columnEl.querySelectorAll('.item-label');\r\n                    let maxWidth = 0;\r\n                    $lableEles.forEach((ele) => {\r\n                        const { width } = ele.getBoundingClientRect();\r\n                        maxWidth = Math.max(maxWidth, width);\r\n                    });\r\n                    $lableEles.forEach((ele) => {\r\n                        ele.style.width = `${maxWidth + 2}px`;\r\n                    });\r\n                });\r\n            },\r\n            /**\r\n             * @desc 更新脚本基本信息\r\n             * @param {String} field 指定更新的字段名\r\n             * @param {Object} payload 更新的字段key和value\r\n             */\r\n            handleUpdateScript (field, payload) {\r\n                return this.serviceHandler.scriptUpdateMeta({\r\n                    id: this.scriptId,\r\n                    ...payload,\r\n                    updateField: field,\r\n                });\r\n            },\r\n        },\r\n    };\r\n</script>\r\n<style lang='postcss'>\r\n    .script-version-basic-box {\r\n        position: relative;\r\n        display: flex;\r\n        height: 128px;\r\n        padding: 16px 24px;\r\n        background: #fff;\r\n        box-shadow: 0 1px 2px 0 rgb(0 0 0 / 16%);\r\n\r\n        .script-type-flag {\r\n            flex: 0 0  auto;\r\n            margin-right: 20px;\r\n\r\n            img {\r\n                width: 100%;\r\n                height: 100%;\r\n            }\r\n        }\r\n\r\n        .detail-column {\r\n            display: flex;\r\n            line-height: 30px;\r\n            flex-direction: column;\r\n\r\n            &.last {\r\n                flex: 1;\r\n            }\r\n\r\n            .item-label {\r\n                flex: 0 0 auto;\r\n                color: #b2b5bd;\r\n            }\r\n\r\n            .item-value {\r\n                flex: 1;\r\n                width: 0;\r\n                padding-right: 20px;\r\n                color: #63656e;\r\n\r\n                .text-box {\r\n                    height: 32px;\r\n                    overflow: hidden;\r\n                    text-overflow: ellipsis;\r\n                    white-space: nowrap;\r\n                }\r\n            }\r\n        }\r\n\r\n        .detail-col {\r\n            display: flex;\r\n        }\r\n    }\r\n</style>\r\n","\r\n\r\n<template>\r\n    <div class=\"script-manage-version-page\">\r\n        <script-basic />\r\n        <div class=\"version-list-wraper\">\r\n            <list-action-layout>\r\n                <bk-button\r\n                    ref=\"newVersion\"\r\n                    @click=\"handlNewVersion\">\r\n                    {{ $t('script.新建版本') }}\r\n                </bk-button>\r\n                <bk-button\r\n                    \r\n                    @click=\"handlShowDiff\">\r\n                    {{ $t('script.版本对比') }}\r\n                </bk-button>\r\n                <template #right>\r\n                    <jb-search-select\r\n                        @on-change=\"handleSearch\"\r\n                        :data=\"searchSelect\"\r\n                        :placeholder=\"$t('script.直接输入 版本号 或 更新人 进行全局模糊搜索')\"\r\n                        :show-condition=\"false\"\r\n                        style=\"width: 420px;\" />\r\n                </template>\r\n            </list-action-layout>\r\n            <div ref=\"list\">\r\n                <layout :flod=\"isListFlod\" @on-flod=\"handleLayoutFlod\">\r\n                    <bk-table\r\n                        v-if=\"tableHeight\"\r\n                        class=\"script-version-list\"\r\n                        :data=\"renderList\"\r\n                        :outer-border=\"false\"\r\n                        :max-height=\"tableHeight\"\r\n                        @row-click=\"handleRowSelect\"\r\n                        @sort-change=\"handleSortChange\"\r\n                        :size=\"tableSize\"\r\n                        :row-class-name=\"rowClassName\">\r\n                        <bk-table-column\r\n                            key=\"selection\"\r\n                            width=\"47\"\r\n                            align=\"center\"\r\n                            :resizable=\"false\">\r\n                            <template slot-scope=\"{ row }\">\r\n                                <bk-checkbox\r\n                                    \r\n                                    :checked=\"isRowChecked(row)\"\r\n                                    @change=\"checked => handleSelectionChange(row, checked)\" />\r\n                            </template>\r\n                        </bk-table-column>\r\n                        <bk-table-column\r\n                            v-if=\"allColumnMap.scriptVersionId\"\r\n                            :label=\"$t('script.版本 ID')\"\r\n                            prop=\"scriptVersionId\"\r\n                            key=\"scriptVersionId\"\r\n                            align=\"left\"\r\n                            width=\"100\" />\r\n                        <bk-table-column\r\n                            v-if=\"allColumnMap.version\"\r\n                            :label=\"$t('script.版本号.colHead')\"\r\n                            prop=\"version\"\r\n                            key=\"version\"\r\n                            align=\"left\"\r\n                            show-overflow-tooltip\r\n                            :sortable=\"true\">\r\n                            <template slot-scope=\"{ row }\">\r\n                                <a @click=\"handleShowDetail(row)\">{{ row.version || '--' }}</a>\r\n                            </template>\r\n                        </bk-table-column>\r\n                        <bk-table-column\r\n                            v-if=\"allColumnMap.relatedTaskNum\"\r\n                            :label=\"$t('script.被引用.colHead')\"\r\n                            prop=\"relatedTaskNum\"\r\n                            key=\"relatedTaskNum\"\r\n                            :render-header=\"renderHeader\"\r\n                            align=\"right\"\r\n                            width=\"150\">\r\n                            <template slot-scope=\"{ row }\">\r\n                                <bk-button\r\n                                    class=\"mr20\"\r\n                                    text\r\n                                    v-bk-tooltips.allowHtml=\"`\r\n                                    <div>${$t('script.作业模板引用')}: ${row.relatedTaskTemplateNum}</div>\r\n                                    <div>${$t('script.执行方案引用')}: ${row.relatedTaskPlanNum}</div>`\"\r\n                                    @click=\"handleShowRelated(row)\">\r\n                                    <span>\r\n                                        {{ row.relatedTaskTemplateNum }}\r\n                                    </span>\r\n                                    <span> / </span>\r\n                                    <span>\r\n                                        {{ row.relatedTaskPlanNum }}\r\n                                    </span>\r\n                                </bk-button>\r\n                            </template>\r\n                        </bk-table-column>\r\n                        <bk-table-column\r\n                            v-if=\"allColumnMap.lastModifyUser\"\r\n                            :label=\"$t('script.更新人.colHead')\"\r\n                            prop=\"lastModifyUser\"\r\n                            key=\"lastModifyUser\"\r\n                            align=\"left\"\r\n                            width=\"160\" />\r\n                        <bk-table-column\r\n                            v-if=\"allColumnMap.lastModifyTime\"\r\n                            :label=\"$t('script.更新时间')\"\r\n                            prop=\"lastModifyTime\"\r\n                            key=\"lastModifyTime\"\r\n                            align=\"left\"\r\n                            width=\"200\"\r\n                            :sortable=\"true\" />\r\n                        <bk-table-column\r\n                            v-if=\"allColumnMap.statusDesc\"\r\n                            :label=\"$t('script.状态')\"\r\n                            prop=\"statusDesc\"\r\n                            key=\"statusDesc\"\r\n                            align=\"left\"\r\n                            width=\"120\"\r\n                            :sortable=\"true\">\r\n                            <template slot-scope=\"{ row }\">\r\n                                <span v-html=\"row.statusHtml\" />\r\n                                <Icon\r\n                                    v-show=\"row.scriptVersionId === selectVersionId\"\r\n                                    class=\"select-flag\"\r\n                                    type=\"arrow-full-right\" />\r\n                            </template>\r\n                        </bk-table-column>\r\n                        <bk-table-column\r\n                            v-if=\"!isListFlod\"\r\n                            :label=\"$t('script.操作')\"\r\n                            prop=\"action\"\r\n                            key=\"action\"\r\n                            align=\"left\"\r\n                            width=\"400\">\r\n                            <div slot-scope=\"{ row }\" @click.stop=\"\">\r\n                                <jb-popover-confirm\r\n                                    v-if=\"!row.isOnline\"\r\n                                    class=\"mr10\"\r\n                                    :title=\"$t('script.确定上线该版本？')\"\r\n                                    :content=\"$t('script.上线后，之前的线上版本将被置为「已下线」状态，但不影响作业使用')\"\r\n                                    \r\n                                    :confirm-handler=\"() => handleOnline(row.id, row.scriptVersionId)\">\r\n                                    <auth-button\r\n                                        :permission=\"row.canManage\"\r\n                                        :resource-id=\"row.id\"\r\n                                        auth=\"script/edit\"\r\n                                        \r\n                                        text>\r\n                                        {{ $t('script.上线') }}\r\n                                    </auth-button>\r\n                                </jb-popover-confirm>\r\n                                <jb-popover-confirm\r\n                                    class=\"mr10\"\r\n                                    :title=\"$t('script.确定禁用该版本？')\"\r\n                                    :content=\"$t('script.一旦禁用成功，线上引用该版本的作业脚本步骤都会执行失败，请务必谨慎操作！')\"\r\n                                    :confirm-handler=\"() => handleOffline(row.id, row.scriptVersionId)\">\r\n                                    <auth-button\r\n                                        :permission=\"row.canManage\"\r\n                                        :resource-id=\"row.id\"\r\n                                        auth=\"script/edit\"\r\n                                        text>\r\n                                        {{ $t('script.禁用') }}\r\n                                    </auth-button>\r\n                                </jb-popover-confirm>\r\n                                <auth-button\r\n                                    class=\"mr10\"\r\n                                    :permission=\"row.canManage\"\r\n                                    :resource-id=\"row.id\"\r\n                                    auth=\"script/edit\"\r\n                                    text\r\n                                    @click=\"handleEdit(row)\">\r\n                                    {{ $t('script.编辑') }}\r\n                                </auth-button>\r\n                                <span\r\n                                    class=\"mr10\"\r\n                                    :tippy-tips=\"isCopyCreateDisabled ? $t('script.已有[未上线]版本') : ''\">\r\n                                    <auth-button\r\n                                        :permission=\"row.canClone\"\r\n                                        :resource-id=\"row.id\"\r\n                                        auth=\"script/clone\"\r\n                                        \r\n                                        text\r\n                                        @click=\"handleToggleCopyCreate(row)\">\r\n                                        {{ $t('script.复制并新建') }}\r\n                                    </auth-button>\r\n                                </span>\r\n                                <auth-button\r\n                                    text\r\n                                    :permission=\"row.canManage\"\r\n                                    auth=\"script/execute\"\r\n                                    :resource-id=\"row.id\"\r\n                                    \r\n                                    @click=\"handleGoExce(row)\">\r\n                                    {{ $t('script.去执行') }}\r\n                                </auth-button>\r\n                                <span :tippy-tips=\"!row.syncEnabled ? $t('script.所有关联作业模板已是当前版本') : ''\">\r\n                                    <auth-button\r\n                                        :permission=\"row.canManage\"\r\n                                        :resource-id=\"row.id\"\r\n                                        auth=\"script/edit\"\r\n                                        class=\"ml10\"\r\n                                        \r\n                                        @click=\"handleSync(row)\"\r\n                                        text>\r\n                                        {{ $t('script.同步') }}\r\n                                    </auth-button>\r\n                                </span>\r\n                                <jb-popover-confirm\r\n                                    :title=\"$t('script.确定删除该版本？')\"\r\n                                    :content=\"$t('script.删除后不可恢复，请谨慎操作！')\"\r\n                                    :confirm-handler=\"() => handleRemove(row.scriptVersionId)\">\r\n                                    <auth-button\r\n                                        :permission=\"row.canManage\"\r\n                                        :resource-id=\"row.id\"\r\n                                        auth=\"script/delete\"\r\n                                        text>\r\n                                        {{ $t('script.删除') }}\r\n                                    </auth-button>\r\n                                </jb-popover-confirm>\r\n                            </div>\r\n                        </bk-table-column>\r\n                        <bk-table-column type=\"setting\">\r\n                            <bk-table-setting-content\r\n                                :fields=\"tableColumn\"\r\n                                :selected=\"selectedTableColumn\"\r\n                                :size=\"tableSize\"\r\n                                @setting-change=\"handleSettingChange\" />\r\n                        </bk-table-column>\r\n                    </bk-table>\r\n                    <template slot=\"flod\">\r\n                        <component\r\n                            :is=\"curCom\"\r\n                            :script-version-list=\"data\"\r\n                            :script-info=\"selectVersion\"\r\n                            @on-edit-change=\"handleScriptChangeSubmit\"\r\n                            @on-go-copy-create=\"handleToggleCopyCreate\"\r\n                            @on-go-edit=\"handleToggleEdit\"\r\n                            @on-delete=\"handleDeleteSubmit\"\r\n                            @on-create-change=\"handleCreateValueChange\"\r\n                            @on-create=\"handleCreateSubmit\"\r\n                            @on-create-cancel=\"handleCreateCancel\"\r\n                            @on-edit=\"handleEditSubmit\"\r\n                            @on-edit-cancel=\"handleEditCancel\" />\r\n                    </template>\r\n                </layout>\r\n            </div>\r\n        </div>\r\n        <div style=\"display: none;\">\r\n            <div id=\"newVersionDisableActions\" style=\"padding: 16px 12px;\">\r\n                <div style=\"margin-bottom: 17px; font-size: 14px; line-height: 22px; color: #313238;\">\r\n                    {{ $t('script.已有[未上线]版本') }}\r\n                </div>\r\n                <div>\r\n                    <bk-button\r\n                        theme=\"primary\"\r\n                        size=\"small\"\r\n                        style=\"margin-right: 8px;\"\r\n                        @click=\"handleEditDraftVersion\">\r\n                        {{ $t('script.前往编辑') }}\r\n                    </bk-button>\r\n                    <bk-button\r\n                        size=\"small\"\r\n                        @click=\"handleNewVersionClose\">\r\n                        {{ $t('script.取消') }}\r\n                    </bk-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <element-teleport v-if=\"currentVersionName\">\r\n            <span> - {{ currentVersionName }}</span>\r\n        </element-teleport>\r\n        <Diff\r\n            v-if=\"showDiff\"\r\n            :title=\"$t('script.版本对比')\"\r\n            :data=\"dataMemo\"\r\n            :old-version-id=\"diffInfo.oldVersionId\"\r\n            :new-version-id=\"diffInfo.newVersionId\"\r\n            @on-change=\"handleDiffVersionChange\"\r\n            @close=\"handleDiffClose\" />\r\n        <jb-sideslider\r\n            :is-show.sync=\"showRelated\"\r\n            :show-footer=\"false\"\r\n            quick-close\r\n            :title=\"$t('script.被引用.label')\"\r\n            :width=\"695\">\r\n            <script-related-info\r\n                :info=\"relatedScriptInfo\"\r\n                mode=\"scriptVersionList\" />\r\n        </jb-sideslider>\r\n        <jb-dialog\r\n            v-model=\"isShowNewVersion\"\r\n            header-position=\"left\"\r\n            :title=\"$t('script.新建版本')\"\r\n            :ok-text=\"$t('script.确定')\"\r\n            :mask-close=\"false\"\r\n            :width=\"480\">\r\n            <new-version\r\n                :version-list=\"data\"\r\n                @on-close=\"handleNewVersionClose\"\r\n                @on-create=\"handleToggleCopyCreate\" />\r\n        </jb-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\n    import _ from 'lodash';\r\n    import Tippy from 'bk-magic-vue/lib/utils/tippy';\r\n    import I18n from '@/i18n';\r\n    import ScriptService from '@service/script-manage';\r\n    import PublicScriptService from '@service/public-script-manage';\r\n    import NotifyService from '@service/notify';\r\n    import ScriptModel from '@model/script/script';\r\n    import JbSearchSelect from '@components/jb-search-select';\r\n    import ListActionLayout from '@components/list-action-layout';\r\n    import JbPopoverConfirm from '@components/jb-popover-confirm';\r\n    import {\r\n        checkPublicScript,\r\n        leaveConfirm,\r\n        getOffset,\r\n        genDefaultScriptVersion,\r\n        encodeRegexp,\r\n    } from '@utils/assist';\r\n    import { listColumnsCache } from '@utils/cache-helper';\r\n    import ScriptRelatedInfo from '../common/script-related-info';\r\n    import DetailScript from '../common/detail/index';\r\n    import Edit from '../common/edit';\r\n    import CopyCreate from '../common/copy-create';\r\n    import Layout from './components/layout';\r\n    import ScriptBasic from './components/script-basic';\r\n    import Diff from './components/diff';\r\n    import NewVersion from './components/new-version';\r\n\r\n    const TABLE_COLUMN_CACHE = 'script_version_list_columns';\r\n\r\n    export default {\r\n        name: 'ScriptVersion',\r\n        components: {\r\n            ListActionLayout,\r\n            JbPopoverConfirm,\r\n            JbSearchSelect,\r\n            ScriptRelatedInfo,\r\n            Diff,\r\n            Layout,\r\n            DetailScript,\r\n            Edit,\r\n            CopyCreate,\r\n            ScriptBasic,\r\n            NewVersion,\r\n        },\r\n        data () {\r\n            return {\r\n                isLoading: false,\r\n                isListFlod: false,\r\n                isShowNewVersion: false,\r\n                showDiff: false,\r\n                data: [{},{},{}],\r\n                dataAppendList: [{},{},{}],\r\n                scriptDetailInfo: {},\r\n                tableHeight: '',\r\n                selectedTableColumn: [],\r\n                selectVersionId: '',\r\n                choosedMap: {},\r\n                showRelated: false,\r\n                relatedScriptInfo: [],\r\n                displayCom: '',\r\n                tableSize: 'small',\r\n            };\r\n        },\r\n        computed: {\r\n            /**\r\n             * @desc 骨架屏 Loading\r\n             * @returns { Boolean }\r\n             */\r\n            isSkeletonLoading () {\r\n                return this.isLoading;\r\n            },\r\n            /**\r\n             * @desc 脚本展示状态组件\r\n             * @returns { Object }\r\n             */\r\n            curCom () {\r\n                if (!this.displayCom) {\r\n                    return 'div';\r\n                }\r\n                const comMap = {\r\n                    detail: DetailScript,\r\n                    edit: Edit,\r\n                    copyCreate: CopyCreate,\r\n                };\r\n                return comMap[this.displayCom];\r\n            },\r\n            /**\r\n             * @desc 列表数据\r\n             * @returns { Array }\r\n             */\r\n            renderList () {\r\n                return [\r\n                    ...this.dataAppendList,\r\n                    ...this.data,\r\n                ];\r\n            },\r\n            /**\r\n             * @desc 已存在未上线版本不允许新建版本\r\n             * @returns { Boolean }\r\n             */\r\n            isCopyCreateDisabled () {\r\n                return !!_.find(this.dataMemo, scriptVersion => scriptVersion.isDraft);\r\n            },\r\n            /**\r\n             * @desc 选中的脚本版本\r\n             * @returns { Object }\r\n             */\r\n            selectVersion () {\r\n                const current = _.find(this.renderList, _ => _.scriptVersionId === this.selectVersionId);\r\n                if (!current) {\r\n                    return {};\r\n                }\r\n                return current;\r\n            },\r\n            /**\r\n             * @desc 需要选中两个脚本才能对比\r\n             * @returns { Boolean }\r\n             */\r\n            disableDiff () {\r\n                return Object.keys(this.choosedMap).length < 2;\r\n            },\r\n            /**\r\n             * @desc 将要对比的脚本数据\r\n             * @returns { Object }\r\n             */\r\n            diffInfo () {\r\n                const diffVersion = Object.keys(this.choosedMap);\r\n                return {\r\n                    oldVersionId: parseInt(diffVersion[0], 10) || '',\r\n                    newVersionId: parseInt(diffVersion[1], 10) || '',\r\n                };\r\n            },\r\n            /**\r\n             * @desc 当前脚本版本的 name\r\n             * @returns { String }\r\n             */\r\n            currentVersionName () {\r\n                if (this.dataMemo.length < 1) {\r\n                    return '';\r\n                }\r\n                return this.dataMemo[0].name;\r\n            },\r\n            /**\r\n             * @desc 展示的列表列\r\n             * @returns { Object }\r\n             */\r\n            allColumnMap () {\r\n                if (this.isListFlod) {\r\n                    return {\r\n                        version: true,\r\n                        statusDesc: true,\r\n                    };\r\n                }\r\n                return this.selectedTableColumn.reduce((result, item) => {\r\n                    result[item.id] = true;\r\n                    return result;\r\n                }, {});\r\n            },\r\n        },\r\n        watch: {\r\n            displayCom (displayCom) {\r\n                // 当右侧详情面板切换时，需要重置dataAppendList\r\n                if (displayCom !== 'copyCreate') {\r\n                    this.dataAppendList = [];\r\n                }\r\n            },\r\n        },\r\n        created () {\r\n            // 缓存状态切换中的中间状态\r\n            this.lastSelectScriptVersionId = '';\r\n            // 缓存脚本版本的完整数据列表——用于脚本搜索\r\n            this.dataMemo = [];\r\n\r\n            this.publicScript = checkPublicScript(this.$route);\r\n            this.serviceHandler = this.publicScript ? PublicScriptService : ScriptService;\r\n            this.scriptId = this.$route.params.id;\r\n\r\n            this.fetchData(true);\r\n            \r\n            this.searchSelect = [\r\n                {\r\n                    name: I18n.t('script.版本号.colHead'),\r\n                    id: 'version',\r\n                    default: true,\r\n                },\r\n                {\r\n                    name: I18n.t('script.更新人.colHead'),\r\n                    id: 'lastModifyUser',\r\n                    remoteMethod: NotifyService.fetchUsersOfSearch,\r\n                    inputInclude: true,\r\n                },\r\n            ];\r\n            this.tableColumn = [\r\n                {\r\n                    id: 'scriptVersionId',\r\n                    label: I18n.t('script.版本 ID'),\r\n                },\r\n                {\r\n                    id: 'version',\r\n                    label: I18n.t('script.版本号.colHead'),\r\n                    disabled: true,\r\n                },\r\n                {\r\n                    id: 'relatedTaskNum',\r\n                    label: I18n.t('script.被引用.colHead'),\r\n                    disabled: true,\r\n                },\r\n                {\r\n                    id: 'lastModifyUser',\r\n                    label: I18n.t('script.更新人.colHead'),\r\n                },\r\n                {\r\n                    id: 'lastModifyTime',\r\n                    label: I18n.t('script.更新时间'),\r\n                },\r\n                {\r\n                    id: 'statusDesc',\r\n                    label: I18n.t('script.状态'),\r\n                    disabled: true,\r\n                },\r\n            ];\r\n            const columnsCache = listColumnsCache.getItem(TABLE_COLUMN_CACHE);\r\n            if (columnsCache) {\r\n                this.selectedTableColumn = Object.freeze(columnsCache.columns);\r\n                this.tableSize = columnsCache.size;\r\n            } else {\r\n                this.selectedTableColumn = Object.freeze([\r\n                    { id: 'version' },\r\n                    { id: 'relatedTaskNum' },\r\n                    { id: 'lastModifyUser' },\r\n                    { id: 'lastModifyTime' },\r\n                    { id: 'statusDesc' },\r\n                ]);\r\n            }\r\n        },\r\n        mounted () {\r\n            this.calcTableHeight();\r\n            window.addEventListener('resize', this.calcTableHeight);\r\n            this.$once('hook:beforeDestroy', () => {\r\n                window.removeEventListener('resize', this.calcTableHeight);\r\n            });\r\n        },\r\n        methods: {\r\n            /**\r\n             * @desc 获取脚本版本列表数据\r\n             * @param {Boolean} isFirst 第一次调用\r\n             *\r\n             * 需要解析url参数\r\n             */\r\n            fetchData (isFirst) {\r\n                this.isLoading = true;\r\n                return this.serviceHandler.scriptVersionList({\r\n                    id: this.scriptId,\r\n                }, {\r\n                    permission: 'page',\r\n                }).then((data) => {\r\n                    this.dataMemo = Object.freeze([\r\n                        ...data,\r\n                    ]);\r\n                    this.data = Object.freeze(data);\r\n\r\n                    if (isFirst) {\r\n                        this.parseUrl();\r\n                    }\r\n                })\r\n                    .finally(() => {\r\n                        this.isLoading = false;\r\n                    });\r\n            },\r\n            /**\r\n             * @desc URL链接指定了脚本版本\r\n             *\r\n             * 进入脚本详情模式\r\n             */\r\n            parseUrl () {\r\n                const scriptVersionId = parseInt(this.$route.query.scriptVersionId, 10);\r\n                if (scriptVersionId) {\r\n                    this.handleShowDetail({\r\n                        scriptVersionId,\r\n                    });\r\n                }\r\n            },\r\n            /**\r\n             * @desc 计算表格高度\r\n             */\r\n            calcTableHeight () {\r\n                const { top } = getOffset(this.$refs.list);\r\n                const windowHeight = window.innerHeight;\r\n                this.tableHeight = windowHeight - top - 20;\r\n            },\r\n            \r\n            rowClassName ({ row }) {\r\n                return row.scriptVersionId === this.selectVersionId ? 'active' : '';\r\n            },\r\n            /**\r\n             * @desc 新建脚本版本\r\n             */\r\n            handlNewVersion () {\r\n                if (!this.isCopyCreateDisabled) {\r\n                    this.isShowNewVersion = true;\r\n                    return;\r\n                }\r\n                // 已有未上线脚本给出提示\r\n                if (!this.newVersionPopperInstance) {\r\n                    this.newVersionPopperInstance = Tippy(this.$refs.newVersion.$el, {\r\n                        arrow: true,\r\n                        width: 192,\r\n                        placement: 'bottom-start',\r\n                        trigger: 'manual',\r\n                        theme: 'light',\r\n                        interactive: true,\r\n                        animation: 'slide-toggle',\r\n                        content: document.querySelector('#newVersionDisableActions'),\r\n                        boundary: 'window',\r\n                        distance: 20,\r\n                        zIndex: window.__bk_zIndex_manager.nextZIndex(), // eslint-disable-line no-underscore-dangle\r\n                    });\r\n                    this.$once('hook:beforeDestroy', () => {\r\n                        this.newVersionPopperInstance.hide();\r\n                        this.newVersionPopperInstance.destroy();\r\n                    });\r\n                }\r\n                this.newVersionPopperInstance.show();\r\n            },\r\n            /**\r\n             * @desc 编辑最新的未上线脚本版本\r\n             */\r\n            handleEditDraftVersion () {\r\n                const lastestDraftScriptVersion = _.find(this.dataMemo, scriptVersion => scriptVersion.isDraft);\r\n                this.handleEdit(lastestDraftScriptVersion);\r\n                this.newVersionPopperInstance.hide();\r\n            },\r\n            /**\r\n             * @desc 取消新建版本\r\n             */\r\n            handleNewVersionClose () {\r\n                this.newVersionPopperInstance && this.newVersionPopperInstance.hide();\r\n                this.isShowNewVersion = false;\r\n            },\r\n            /**\r\n             * @desc 列表搜索\r\n             * @param {Object} payload 搜索字段\r\n             */\r\n            handleSearch (payload) {\r\n                let list = this.dataMemo;\r\n                Object.keys(payload).forEach((key) => {\r\n                    const reg = new RegExp(encodeRegexp(payload[key]));\r\n                    list = list.filter(item => reg.test(item[key]));\r\n                });\r\n                this.data = Object.freeze(list);\r\n                this.handleLayoutFlod();\r\n            },\r\n            /**\r\n             * @desc 列表排序\r\n             * @param {Object} payload 排序字段\r\n             */\r\n            handleSortChange (payload) {\r\n                if (payload.prop) {\r\n                    const key = payload.prop;\r\n                    const list = [\r\n                        ...this.data,\r\n                    ];\r\n                    list.sort((preItem, nextItem) => {\r\n                        if (payload.order === 'descending') {\r\n                            return preItem[key] - nextItem[key];\r\n                        }\r\n                        return nextItem[key] - preItem[key];\r\n                    });\r\n                }\r\n            },\r\n            /**\r\n             * @desc 自定义列表配置\r\n             */\r\n            handleSettingChange ({ fields, size }) {\r\n                this.selectedTableColumn = Object.freeze(fields);\r\n                this.tableSize = size;\r\n                listColumnsCache.setItem(TABLE_COLUMN_CACHE, {\r\n                    columns: fields,\r\n                    size,\r\n                });\r\n            },\r\n            /**\r\n             * @desc 布局切换\r\n             */\r\n            handleLayoutFlod () {\r\n                this.displayCom = '';\r\n                this.isListFlod = false;\r\n                if (this.selectVersionId === -1) {\r\n                    // 还原复制并新建的占位数据\r\n                    this.handleCreateCancel();\r\n                }\r\n                this.selectVersionId = '';\r\n            },\r\n            /**\r\n             * @desc 选中一行\r\n             * @param {Object} payload 脚本数据\r\n             * @param {Boolean} checked 选择状态\r\n             */\r\n            handleSelectionChange (payload, checked) {\r\n                if (checked) {\r\n                    this.choosedMap[payload.scriptVersionId] = true;\r\n                } else {\r\n                    delete this.choosedMap[payload.scriptVersionId];\r\n                }\r\n                this.choosedMap = { ...this.choosedMap };\r\n            },\r\n            /**\r\n             * @desc 点击版本名查看详情\r\n             * @param {Object} row 脚本数据\r\n             */\r\n            handleShowDetail (row) {\r\n                leaveConfirm()\r\n                    .then(() => {\r\n                        this.selectVersionId = row.scriptVersionId;\r\n                        this.isListFlod = true;\r\n                        this.displayCom = 'detail';\r\n                    });\r\n            },\r\n            /**\r\n             * @desc 鼠标选中一行\r\n             * @param {Object} row 脚本数据\r\n             */\r\n            handleRowSelect (row) {\r\n                if (this.isListFlod) {\r\n                    this.handleShowDetail(row);\r\n                }\r\n            },\r\n            /**\r\n             * @desc 下线\r\n             * @param {Number} id 脚本id\r\n             * @param {String} versionId\r\n             */\r\n            handleOffline (id, versionId) {\r\n                return this.serviceHandler.scriptVersionOffline({\r\n                    id,\r\n                    versionId,\r\n                }).then(() => {\r\n                    this.messageSuccess(I18n.t('script.操作成功'));\r\n                    this.fetchData();\r\n                });\r\n            },\r\n            /**\r\n             * @desc 上线\r\n             * @param {Number} id 脚本id\r\n             * @param {String} versionId 脚本版本id\r\n             */\r\n            handleOnline (id, versionId) {\r\n                return this.serviceHandler.scriptVersionOnline({\r\n                    id,\r\n                    versionId,\r\n                }).then(() => {\r\n                    this.messageSuccess(I18n.t('script.操作成功'));\r\n                    this.fetchData();\r\n                });\r\n            },\r\n            /**\r\n             * @desc 删除\r\n             * @param {String} versionId 脚本版本id\r\n             */\r\n            handleRemove (versionId) {\r\n                return this.serviceHandler.scriptVersionRemove({\r\n                    versionId,\r\n                }).then(() => {\r\n                    this.messageSuccess(I18n.t('script.删除成功'));\r\n                    this.fetchData();\r\n                });\r\n            },\r\n            /**\r\n             * @desc 执行\r\n             * @param {Object} payload 脚本数据\r\n             */\r\n            handleGoExce (payload) {\r\n                this.$router.push({\r\n                    name: 'fastExecuteScript',\r\n                    params: {\r\n                        taskInstanceId: 0,\r\n                        scriptVersionId: payload.scriptVersionId,\r\n                    },\r\n                    query: {\r\n                        from: 'scriptDetail',\r\n                    },\r\n                });\r\n            },\r\n            /**\r\n             * @desc 同步\r\n             * @param {Object} row 脚本数据\r\n             */\r\n            handleSync (row) {\r\n                const routerName = this.publicScript ? 'scriptPublicSync' : 'scriptSync';\r\n                \r\n                this.$router.push({\r\n                    name: routerName,\r\n                    params: {\r\n                        scriptId: 4 || row.id,\r\n                        scriptVersionid: 4 || row.scriptVersionId,\r\n                    },\r\n                });\r\n            },\r\n            /**\r\n             * @desc 编辑脚本版本\r\n             * @param {Object} scriptInfo 脚本数据\r\n             */\r\n            handleEdit (scriptInfo) {\r\n                this.selectVersionId = scriptInfo.scriptVersionId;\r\n                this.displayCom = 'edit';\r\n                this.isListFlod = true;\r\n                this.isShowNewVersion = false;\r\n            },\r\n            /**\r\n             * @desc 显示脚本引用列表\r\n             * @param {String} mode 引用的模板、执行方案\r\n             * @param {Object} payload 脚本数据\r\n             */\r\n            handleShowRelated (payload) {\r\n                this.showRelated = true;\r\n                this.relatedScriptInfo = payload;\r\n            },\r\n            /**\r\n             * @desc 显示脚本差异弹层\r\n             * @param {Object} payload\r\n             */\r\n            handlShowDiff () {\r\n                this.showDiff = true;\r\n            },\r\n            /**\r\n             * @desc 脚本对比版本切换\r\n             * @param {Object} payload\r\n             */\r\n            handleDiffVersionChange (payload) {\r\n                this.choosedMap = payload;\r\n            },\r\n            /**\r\n             * @desc 关闭脚本对比弹层\r\n             */\r\n            handleDiffClose () {\r\n                this.showDiff = false;\r\n            },\r\n            /**\r\n             * @desc 编辑成功刷新列表\r\n             */\r\n            handleScriptChangeSubmit () {\r\n                this.fetchData();\r\n            },\r\n            /**\r\n             * @desc 删除成功\r\n             *\r\n             * 更新布局、刷新列表\r\n             */\r\n            handleDeleteSubmit () {\r\n                this.handleLayoutFlod();\r\n                this.fetchData();\r\n            },\r\n            /**\r\n             * @desc 切换到复制并新建状态\r\n             */\r\n            handleToggleCopyCreate ({ scriptVersionId }) {\r\n                this.selectVersionId = scriptVersionId;\r\n                const currentScriptVersion = _.find(this.dataMemo, _ => _.scriptVersionId === scriptVersionId);\r\n                const newScriptVersion = new ScriptModel({\r\n                    ...currentScriptVersion,\r\n                    scriptVersionId: -1,\r\n                    status: -1,\r\n                    version: genDefaultScriptVersion(),\r\n                });\r\n                this.isListFlod = true;\r\n                this.lastSelectScriptVersionId = this.selectVersionId;\r\n                this.selectVersionId = -1;\r\n                this.displayCom = 'copyCreate';\r\n                this.dataAppendList = Object.freeze([\r\n                    newScriptVersion,\r\n                ]);\r\n            },\r\n            /**\r\n             * @desc 编辑脚本\r\n             */\r\n            handleToggleEdit () {\r\n                this.displayCom = 'edit';\r\n            },\r\n            /**\r\n             * @desc 取消新建脚本版本\r\n             */\r\n            handleCreateCancel () {\r\n                this.displayCom = 'detail';\r\n                this.selectVersionId = this.lastSelectScriptVersionId;\r\n            },\r\n            /**\r\n             * @desc 新建成功\r\n             *\r\n             * 并选中新版本\r\n             */\r\n            handleCreateSubmit ({ scriptVersionId }) {\r\n                this.fetchData()\r\n                    .then(() => {\r\n                        setTimeout(() => {\r\n                            this.displayCom = 'detail';\r\n                            this.selectVersionId = scriptVersionId;\r\n                        });\r\n                    });\r\n            },\r\n            /**\r\n             * @desc 新建脚本过程中字段值改变\r\n             * @param {Number} scriptVersionId 脚本版本id\r\n             * @param {Object} payload 脚本数据\r\n             */\r\n            handleCreateValueChange (scriptVersionId, payload) {\r\n                const data = [\r\n                    ...this.dataAppendList,\r\n                ];\r\n                const currentScriptVersion = _.find(data, _ => _.scriptVersionId === scriptVersionId);\r\n                if (currentScriptVersion) {\r\n                    Object.assign(currentScriptVersion, payload);\r\n                    this.dataAppendList = Object.freeze(data);\r\n                }\r\n            },\r\n            /**\r\n             * @desc 编辑成功\r\n             *\r\n             * 显示脚本详情\r\n             * 刷新列表数据\r\n             */\r\n            handleEditSubmit () {\r\n                this.displayCom = 'detail';\r\n                this.fetchData();\r\n            },\r\n            /**\r\n             * @desc 编辑取消\r\n             */\r\n            handleEditCancel () {\r\n                this.displayCom = 'detail';\r\n            },\r\n            \r\n            /**\r\n             * @desc 判断是否可以选中\r\n             * @param {Object} row 脚本数据\r\n             */\r\n            isRowSelectable (row) {\r\n                if (this.disableDiff) {\r\n                    return true;\r\n                }\r\n                return this.choosedMap[row.scriptVersionId];\r\n            },\r\n            /**\r\n             * @desc 判断是否选中\r\n             * @param {Object} row 脚本数据\r\n             */\r\n            isRowChecked (row) {\r\n                return this.choosedMap[row.scriptVersionId];\r\n            },\r\n            /**\r\n             * @desc 自定义表头\r\n             */\r\n            renderHeader (h, data) {\r\n                return (\r\n                    <span>\r\n                        <span>{ data.column.label }</span>\r\n                        <bk-popover>\r\n                            <icon\r\n                                type=\"circle-italics-info\"\r\n                                style=\"margin-left: 8px; font-size: 12px;\" />\r\n                            <div slot=\"content\">\r\n                                <div>{ I18n.t('script.显示被作业引用的次数') }</div>\r\n                                <div>{ I18n.t('script.显示被执行方案引用的次数') }</div>\r\n                            </div>\r\n                        </bk-popover>\r\n                    </span>\r\n                );\r\n            },\r\n            /**\r\n             * @desc 路由回退\r\n             */\r\n            routerBack () {\r\n                if (this.publicScript) {\r\n                    this.$router.push({\r\n                        name: 'publicScriptList',\r\n                    });\r\n                    return;\r\n                }\r\n                this.$router.push({\r\n                    name: 'scriptList',\r\n                });\r\n            },\r\n        },\r\n    };\r\n</script>\r\n<style lang='postcss'>\r\n    .script-manage-version-page {\r\n        .version-list-wraper {\r\n            margin-top: 20px;\r\n        }\r\n\r\n        .script-version-list {\r\n            .bk-table-row {\r\n                &.active {\r\n                    background: #eff5ff;\r\n                }\r\n\r\n                &.active,\r\n                &.hover-row {\r\n                    span[data-script-status] {\r\n                        background: #e6e7eb !important;\r\n                    }\r\n\r\n                    span[data-script-status=\"1\"] {\r\n                        background: #daebde !important;\r\n                    }\r\n\r\n                    span[data-script-status=\"-1\"] {\r\n                        background: #ffe8c3 !important;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .select-flag {\r\n                float: right;\r\n                margin-top: 3px;\r\n                color: #a3c5fd;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"layout\",\n    {\n      staticClass: \"script-manage-copy-create-box\",\n      scopedSlots: _vm._u([\n        {\n          key: \"footer\",\n          fn: function () {\n            return [\n              _c(\n                \"bk-button\",\n                {\n                  directives: [\n                    {\n                      name: \"test\",\n                      rawName: \"v-test\",\n                      value: {\n                        type: \"button\",\n                        value: \"copyCreateScriptSubmit\",\n                      },\n                      expression:\n                        \"{ type: 'button', value: 'copyCreateScriptSubmit' }\",\n                    },\n                  ],\n                  staticClass: \"w120 mr10\",\n                  attrs: { loading: _vm.isSubmiting, theme: \"primary\" },\n                  on: { click: _vm.handleSubmit },\n                },\n                [\n                  _vm._v(\n                    \"\\n            \" +\n                      _vm._s(_vm.$t(\"script.提交\")) +\n                      \"\\n        \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"bk-button\",\n                {\n                  directives: [\n                    {\n                      name: \"test\",\n                      rawName: \"v-test\",\n                      value: { type: \"button\", value: \"debugScript\" },\n                      expression: \"{ type: 'button', value: 'debugScript' }\",\n                    },\n                  ],\n                  staticClass: \"mr10\",\n                  on: { click: _vm.handleDebugScript },\n                },\n                [\n                  _vm._v(\n                    \"\\n            \" +\n                      _vm._s(_vm.$t(\"script.调试\")) +\n                      \"\\n        \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"bk-button\",\n                {\n                  directives: [\n                    {\n                      name: \"test\",\n                      rawName: \"v-test\",\n                      value: {\n                        type: \"button\",\n                        value: \"copyCreateScriptCancel\",\n                      },\n                      expression:\n                        \"{ type: 'button', value: 'copyCreateScriptCancel' }\",\n                    },\n                  ],\n                  on: { click: _vm.handleCancel },\n                },\n                [\n                  _vm._v(\n                    \"\\n            \" +\n                      _vm._s(_vm.$t(\"script.取消\")) +\n                      \"\\n        \"\n                  ),\n                ]\n              ),\n            ]\n          },\n          proxy: true,\n        },\n      ]),\n    },\n    [\n      _c(\"div\", { attrs: { slot: \"title\" }, slot: \"title\" }, [\n        _vm._v(_vm._s(_vm.$t(\"script.新建脚本\"))),\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"template\",\n        { slot: \"sub-header\" },\n        [\n          _c(\"Icon\", {\n            directives: [\n              {\n                name: \"bk-tooltips\",\n                rawName: \"v-bk-tooltips\",\n                value: _vm.$t(\"上传脚本\"),\n                expression: \"$t('上传脚本')\",\n              },\n              {\n                name: \"test\",\n                rawName: \"v-test\",\n                value: { type: \"button\", value: \"uploadScript\" },\n                expression: \"{ type: 'button', value: 'uploadScript' }\",\n              },\n            ],\n            attrs: { type: \"upload\" },\n            on: { click: _vm.handleUploadScript },\n          }),\n          _vm._v(\" \"),\n          _c(\"Icon\", {\n            directives: [\n              {\n                name: \"bk-tooltips\",\n                rawName: \"v-bk-tooltips\",\n                value: _vm.$t(\"历史缓存\"),\n                expression: \"$t('历史缓存')\",\n              },\n              {\n                name: \"test\",\n                rawName: \"v-test\",\n                value: { type: \"button\", value: \"scriptEditHistory\" },\n                expression: \"{ type: 'button', value: 'scriptEditHistory' }\",\n              },\n            ],\n            attrs: { type: \"history\" },\n            on: {\n              click: function ($event) {\n                $event.stopPropagation()\n                return _vm.handleShowHistory.apply(null, arguments)\n              },\n            },\n          }),\n          _vm._v(\" \"),\n          _c(\"Icon\", {\n            directives: [\n              {\n                name: \"bk-tooltips\",\n                rawName: \"v-bk-tooltips\",\n                value: _vm.$t(\"全屏\"),\n                expression: \"$t('全屏')\",\n              },\n              {\n                name: \"test\",\n                rawName: \"v-test\",\n                value: { type: \"button\", value: \"scriptEditFullscreen\" },\n                expression: \"{ type: 'button', value: 'scriptEditFullscreen' }\",\n              },\n            ],\n            attrs: { type: \"full-screen\" },\n            on: { click: _vm.handleFullScreen },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { attrs: { slot: \"left\" }, slot: \"left\" },\n        [\n          _c(\n            \"jb-form\",\n            {\n              directives: [\n                {\n                  name: \"test\",\n                  rawName: \"v-test\",\n                  value: { type: \"form\", value: \"copyCreateScript\" },\n                  expression: \"{ type: 'form', value: 'copyCreateScript' }\",\n                },\n              ],\n              ref: \"form\",\n              attrs: {\n                model: _vm.formData,\n                \"form-type\": \"vertical\",\n                rules: _vm.rules,\n              },\n            },\n            [\n              _c(\n                \"jb-form-item\",\n                {\n                  attrs: {\n                    label: _vm.$t(\"script.版本号.label\"),\n                    required: \"\",\n                    property: \"version\",\n                  },\n                },\n                [\n                  _c(\n                    \"div\",\n                    { staticClass: \"script-version\" },\n                    [\n                      _c(\"jb-input\", {\n                        attrs: {\n                          value: _vm.formData.version,\n                          placeholder: _vm.$t(\"script.输入版本号\"),\n                          maxlength: 30,\n                          property: \"version\",\n                        },\n                        on: { change: _vm.handleVersionChange },\n                      }),\n                      _vm._v(\" \"),\n                      _c(\"Icon\", {\n                        staticClass: \"new-flag\",\n                        attrs: { type: \"new-dark\", svg: \"\" },\n                      }),\n                    ],\n                    1\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"jb-form-item\",\n                { attrs: { label: _vm.$t(\"script.版本日志\") } },\n                [\n                  _c(\"bk-input\", {\n                    attrs: { type: \"textarea\", maxlength: 100, rows: 5 },\n                    model: {\n                      value: _vm.formData.versionDesc,\n                      callback: function ($$v) {\n                        _vm.$set(_vm.formData, \"versionDesc\", $$v)\n                      },\n                      expression: \"formData.versionDesc\",\n                    },\n                  }),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { ref: \"content\" },\n        [\n          _vm.contentHeight > 0\n            ? _c(\"ace-editor\", {\n                ref: \"aceEditor\",\n                attrs: {\n                  lang: _vm.formData.typeName,\n                  height: _vm.contentHeight,\n                  options: _vm.formData.typeName,\n                },\n                on: { \"on-mode-change\": _vm.handleTypeChange },\n                model: {\n                  value: _vm.formData.content,\n                  callback: function ($$v) {\n                    _vm.$set(_vm.formData, \"content\", $$v)\n                  },\n                  expression: \"formData.content\",\n                },\n              })\n            : _vm._e(),\n        ],\n        1\n      ),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./copy-create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./copy-create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./copy-create.vue?vue&type=template&id=3110729c&\"\nimport script from \"./copy-create.vue?vue&type=script&lang=js&\"\nexport * from \"./copy-create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./copy-create.vue?vue&type=style&index=0&lang=postcss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Desktop\\\\bk-job-frontend\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3110729c')) {\n      api.createRecord('3110729c', component.options)\n    } else {\n      api.reload('3110729c', component.options)\n    }\n    module.hot.accept(\"./copy-create.vue?vue&type=template&id=3110729c&\", function () {\n      api.rerender('3110729c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/script-manage/common/copy-create.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"layout\",\n    {\n      scopedSlots: _vm._u([\n        {\n          key: \"footer\",\n          fn: function () {\n            return [\n              _c(\n                \"bk-button\",\n                {\n                  directives: [\n                    {\n                      name: \"test\",\n                      rawName: \"v-test\",\n                      value: { type: \"button\", value: \"editScriptSubmit\" },\n                      expression:\n                        \"{ type: 'button', value: 'editScriptSubmit' }\",\n                    },\n                  ],\n                  staticClass: \"w120 mr10\",\n                  attrs: { theme: \"primary\", loading: _vm.isSubmiting },\n                  on: { click: _vm.handleSubmit },\n                },\n                [\n                  _vm._v(\n                    \"\\n            \" +\n                      _vm._s(_vm.$t(\"script.提交\")) +\n                      \"\\n        \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"bk-button\",\n                {\n                  directives: [\n                    {\n                      name: \"test\",\n                      rawName: \"v-test\",\n                      value: { type: \"button\", value: \"debugScript\" },\n                      expression: \"{ type: 'button', value: 'debugScript' }\",\n                    },\n                  ],\n                  staticClass: \"mr10\",\n                  on: { click: _vm.handleDebugScript },\n                },\n                [\n                  _vm._v(\n                    \"\\n            \" +\n                      _vm._s(_vm.$t(\"script.调试\")) +\n                      \"\\n        \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"bk-button\",\n                {\n                  directives: [\n                    {\n                      name: \"test\",\n                      rawName: \"v-test\",\n                      value: { type: \"button\", value: \"editScriptCancel\" },\n                      expression:\n                        \"{ type: 'button', value: 'editScriptCancel' }\",\n                    },\n                  ],\n                  on: { click: _vm.handleCancel },\n                },\n                [\n                  _vm._v(\n                    \"\\n            \" +\n                      _vm._s(_vm.$t(\"script.取消\")) +\n                      \"\\n        \"\n                  ),\n                ]\n              ),\n            ]\n          },\n          proxy: true,\n        },\n      ]),\n    },\n    [\n      _c(\"div\", { attrs: { slot: \"title\" }, slot: \"title\" }, [\n        _vm._v(_vm._s(_vm.$t(\"script.编辑脚本\"))),\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"template\",\n        { slot: \"sub-header\" },\n        [\n          _c(\"Icon\", {\n            directives: [\n              {\n                name: \"bk-tooltips\",\n                rawName: \"v-bk-tooltips\",\n                value: _vm.$t(\"上传脚本\"),\n                expression: \"$t('上传脚本')\",\n              },\n              {\n                name: \"test\",\n                rawName: \"v-test\",\n                value: { type: \"button\", value: \"uploadScript\" },\n                expression: \"{ type: 'button', value: 'uploadScript' }\",\n              },\n            ],\n            attrs: { type: \"upload\" },\n            on: { click: _vm.handleUploadScript },\n          }),\n          _vm._v(\" \"),\n          _c(\"Icon\", {\n            directives: [\n              {\n                name: \"bk-tooltips\",\n                rawName: \"v-bk-tooltips\",\n                value: _vm.$t(\"历史缓存\"),\n                expression: \"$t('历史缓存')\",\n              },\n              {\n                name: \"test\",\n                rawName: \"v-test\",\n                value: { type: \"button\", value: \"scriptEditHistory\" },\n                expression: \"{ type: 'button', value: 'scriptEditHistory' }\",\n              },\n            ],\n            attrs: { type: \"history\" },\n            on: {\n              click: function ($event) {\n                $event.stopPropagation()\n                return _vm.handleShowHistory.apply(null, arguments)\n              },\n            },\n          }),\n          _vm._v(\" \"),\n          _c(\"Icon\", {\n            directives: [\n              {\n                name: \"bk-tooltips\",\n                rawName: \"v-bk-tooltips\",\n                value: _vm.$t(\"全屏\"),\n                expression: \"$t('全屏')\",\n              },\n              {\n                name: \"test\",\n                rawName: \"v-test\",\n                value: { type: \"button\", value: \"scriptEditFullscreen\" },\n                expression: \"{ type: 'button', value: 'scriptEditFullscreen' }\",\n              },\n            ],\n            attrs: { type: \"full-screen\" },\n            on: { click: _vm.handleFullScreen },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { attrs: { slot: \"left\" }, slot: \"left\" },\n        [\n          _c(\n            \"jb-form\",\n            {\n              directives: [\n                {\n                  name: \"test\",\n                  rawName: \"v-test\",\n                  value: { type: \"form\", value: \"editScript\" },\n                  expression: \"{ type: 'form', value: 'editScript' }\",\n                },\n              ],\n              ref: \"form\",\n              staticClass: \"edit-script-form\",\n              attrs: {\n                model: _vm.formData,\n                rules: _vm.rules,\n                \"form-type\": \"vertical\",\n              },\n            },\n            [\n              _c(\n                \"jb-form-item\",\n                {\n                  attrs: { label: _vm.$t(\"script.版本号.label\"), required: \"\" },\n                },\n                [\n                  _c(\"bk-input\", {\n                    attrs: { value: _vm.formData.version, readonly: \"\" },\n                  }),\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\n                \"jb-form-item\",\n                { attrs: { label: _vm.$t(\"script.版本日志\") } },\n                [\n                  _c(\"bk-input\", {\n                    attrs: { type: \"textarea\", rows: 5, maxlength: 100 },\n                    model: {\n                      value: _vm.formData.versionDesc,\n                      callback: function ($$v) {\n                        _vm.$set(_vm.formData, \"versionDesc\", $$v)\n                      },\n                      expression: \"formData.versionDesc\",\n                    },\n                  }),\n                ],\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { ref: \"content\" },\n        [\n          _c(\"ace-editor\", {\n            ref: \"aceEditor\",\n            attrs: {\n              lang: _vm.formData.typeName,\n              height: _vm.contentHeight,\n              readonly: !_vm.scriptInfo.isDraft,\n              options: _vm.formData.typeName,\n            },\n            model: {\n              value: _vm.formData.content,\n              callback: function ($$v) {\n                _vm.$set(_vm.formData, \"content\", $$v)\n              },\n              expression: \"formData.content\",\n            },\n          }),\n        ],\n        1\n      ),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edit.vue?vue&type=template&id=14cb3e9c&\"\nimport script from \"./edit.vue?vue&type=script&lang=js&\"\nexport * from \"./edit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Desktop\\\\bk-job-frontend\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('14cb3e9c')) {\n      api.createRecord('14cb3e9c', component.options)\n    } else {\n      api.reload('14cb3e9c', component.options)\n    }\n    module.hot.accept(\"./edit.vue?vue&type=template&id=14cb3e9c&\", function () {\n      api.rerender('14cb3e9c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/script-manage/common/edit.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      staticClass: \"jb-diff-layout\",\n      style: {\n        \"z-index\": _vm.zIndex,\n      },\n    },\n    [\n      _c(\"div\", { staticClass: \"header\" }, [\n        _c(\"div\", { staticClass: \"title\" }, [_vm._v(_vm._s(_vm.title))]),\n        _vm._v(\" \"),\n        _c(\"div\", { staticClass: \"diff-info\" }, [\n          _c(\n            \"div\",\n            { staticClass: \"diff-del\", on: { click: _vm.handleViewDel } },\n            [\n              _c(\"span\", { staticClass: \"before\" }),\n              _vm._v(\" \"),\n              _c(\"span\", { staticClass: \"after\" }),\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(_vm._s(_vm.$t(\"删除\")) + \"（\" + _vm._s(_vm.del) + \"）\"),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"diff-change\", on: { click: _vm.handleViewChange } },\n            [\n              _c(\"span\", { staticClass: \"before\" }),\n              _vm._v(\" \"),\n              _c(\"span\", { staticClass: \"after\" }),\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(\n                  _vm._s(_vm.$t(\"变换\")) + \"（\" + _vm._s(_vm.change) + \"）\"\n                ),\n              ]),\n            ]\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { staticClass: \"diff-ins\", on: { click: _vm.handleViewIns } },\n            [\n              _c(\"span\", { staticClass: \"before\" }),\n              _vm._v(\" \"),\n              _c(\"span\", { staticClass: \"after\" }),\n              _vm._v(\" \"),\n              _c(\"span\", [\n                _vm._v(\n                  _vm._s(_vm.$t(\"新增.diff\")) + \"（\" + _vm._s(_vm.ins) + \"）\"\n                ),\n              ]),\n            ]\n          ),\n        ]),\n      ]),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"version-select-layout\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"version-left\" },\n          [\n            _c(\n              \"bk-select\",\n              {\n                staticClass: \"version-selector\",\n                attrs: { clearable: false },\n                model: {\n                  value: _vm.oldVersion,\n                  callback: function ($$v) {\n                    _vm.oldVersion = $$v\n                  },\n                  expression: \"oldVersion\",\n                },\n              },\n              _vm._l(_vm.data, function (item) {\n                return _c(\"bk-option\", {\n                  key: item.scriptVersionId,\n                  attrs: { id: item.scriptVersionId, name: item.version },\n                })\n              }),\n              1\n            ),\n          ],\n          1\n        ),\n        _vm._v(\" \"),\n        _c(\n          \"div\",\n          { staticClass: \"version-right\" },\n          [\n            _c(\n              \"bk-select\",\n              {\n                staticClass: \"version-selector\",\n                attrs: { clearable: false },\n                model: {\n                  value: _vm.newVersion,\n                  callback: function ($$v) {\n                    _vm.newVersion = $$v\n                  },\n                  expression: \"newVersion\",\n                },\n              },\n              _vm._l(_vm.data, function (item) {\n                return _c(\"bk-option\", {\n                  key: item.scriptVersionId,\n                  attrs: { id: item.scriptVersionId, name: item.version },\n                })\n              }),\n              1\n            ),\n          ],\n          1\n        ),\n      ]),\n      _vm._v(\" \"),\n      _c(\n        \"scroll-faker\",\n        { staticClass: \"content-wraper\" },\n        [\n          _c(\"jb-diff\", {\n            ref: \"diff\",\n            staticClass: \"diff-details\",\n            attrs: {\n              format: \"side-by-side\",\n              theme: \"dark\",\n              language: _vm.language,\n              context: Infinity,\n              \"old-content\": _vm.oldContent,\n              \"new-content\": _vm.newContent,\n            },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"i\", {\n        staticClass: \"bk-icon icon-close\",\n        on: { click: _vm.handleClose },\n      }),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./diff.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./diff.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./diff.vue?vue&type=template&id=53330cd6&\"\nimport script from \"./diff.vue?vue&type=script&lang=js&\"\nexport * from \"./diff.vue?vue&type=script&lang=js&\"\nimport style0 from \"./diff.vue?vue&type=style&index=0&lang=postcss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Desktop\\\\bk-job-frontend\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('53330cd6')) {\n      api.createRecord('53330cd6', component.options)\n    } else {\n      api.reload('53330cd6', component.options)\n    }\n    module.hot.accept(\"./diff.vue?vue&type=template&id=53330cd6&\", function () {\n      api.rerender('53330cd6', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/script-manage/version/components/diff.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      ref: \"layout\",\n      staticClass: \"script-version-page-layout\",\n      class: {\n        \"is-flod\": _vm.flod,\n        toggled: _vm.isOpen,\n      },\n    },\n    [\n      _c(\"div\", { staticClass: \"layout-left\" }, [\n        _c(\n          \"div\",\n          { staticClass: \"left-wraper\", style: _vm.styles },\n          [_vm._t(\"default\")],\n          2\n        ),\n        _vm._v(\" \"),\n        _vm.isShowRight\n          ? _c(\n              \"div\",\n              { staticClass: \"toggle-button\", on: { click: _vm.handleToggle } },\n              [\n                _c(\"Icon\", {\n                  staticClass: \"toggle-arrow\",\n                  attrs: { type: \"down-small\" },\n                }),\n              ],\n              1\n            )\n          : _vm._e(),\n      ]),\n      _vm._v(\" \"),\n      _vm.flod\n        ? _c(\"div\", { staticClass: \"layout-right\", style: _vm.rightStyles }, [\n            _c(\n              \"div\",\n              {\n                staticClass: \"right-wraper\",\n                class: { active: _vm.isShowRight },\n              },\n              [_vm.isShowRight ? _vm._t(\"flod\") : _vm._e()],\n              2\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"close-btn\", on: { click: _vm.handleClose } },\n              [_c(\"Icon\", { attrs: { type: \"close-big\" } })],\n              1\n            ),\n          ])\n        : _vm._e(),\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./layout.vue?vue&type=template&id=3cde5f8c&\"\nimport script from \"./layout.vue?vue&type=script&lang=js&\"\nexport * from \"./layout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./layout.vue?vue&type=style&index=0&lang=postcss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Desktop\\\\bk-job-frontend\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('3cde5f8c')) {\n      api.createRecord('3cde5f8c', component.options)\n    } else {\n      api.reload('3cde5f8c', component.options)\n    }\n    module.hot.accept(\"./layout.vue?vue&type=template&id=3cde5f8c&\", function () {\n      api.rerender('3cde5f8c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/script-manage/version/components/layout.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"script-manage-new-version\" },\n    [\n      _c(\n        \"jb-form\",\n        {\n          ref: \"form\",\n          attrs: {\n            \"form-type\": \"vertical\",\n            model: _vm.formData,\n            rules: _vm.rules,\n          },\n        },\n        [\n          _c(\n            \"jb-form-item\",\n            {\n              staticStyle: { \"margin-bottom\": \"0\" },\n              attrs: {\n                label: _vm.$t(\"script.选择载入版本\"),\n                required: \"\",\n                property: \"scriptVersionId\",\n              },\n            },\n            [\n              _c(\n                \"bk-select\",\n                {\n                  model: {\n                    value: _vm.formData.scriptVersionId,\n                    callback: function ($$v) {\n                      _vm.$set(_vm.formData, \"scriptVersionId\", $$v)\n                    },\n                    expression: \"formData.scriptVersionId\",\n                  },\n                },\n                _vm._l(_vm.renderList, function (item) {\n                  return _c(\n                    \"bk-option\",\n                    {\n                      key: item.scriptVersionId,\n                      attrs: { id: item.scriptVersionId, name: item.version },\n                    },\n                    [\n                      _c(\"span\", [_vm._v(_vm._s(item.version))]),\n                      _vm._v(\" \"),\n                      _c(\"span\", {\n                        domProps: { innerHTML: _vm._s(item.statusHtml) },\n                      }),\n                    ]\n                  )\n                }),\n                1\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./new-version.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./new-version.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./new-version.vue?vue&type=template&id=5951124b&\"\nimport script from \"./new-version.vue?vue&type=script&lang=js&\"\nexport * from \"./new-version.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Desktop\\\\bk-job-frontend\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5951124b')) {\n      api.createRecord('5951124b', component.options)\n    } else {\n      api.reload('5951124b', component.options)\n    }\n    module.hot.accept(\"./new-version.vue?vue&type=template&id=5951124b&\", function () {\n      api.rerender('5951124b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/script-manage/version/components/new-version.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      directives: [\n        {\n          name: \"bkloading\",\n          rawName: \"v-bkloading\",\n          value: { isLoading: _vm.isLoading },\n          expression: \"{ isLoading }\",\n        },\n      ],\n      ref: \"wraper\",\n      staticClass: \"script-version-basic-box\",\n    },\n    [\n      _vm.data.id\n        ? [\n            _c(\"div\", { staticClass: \"script-type-flag\" }, [\n              _c(\"img\", {\n                attrs: {\n                  src: \"/static/images/script/\" + _vm.data.typeName + \".svg\",\n                },\n              }),\n            ]),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"detail-column\", staticStyle: { width: \"270px\" } },\n              [\n                _c(\"div\", { staticClass: \"detail-col\" }, [\n                  _c(\"div\", { staticClass: \"item-label\" }, [\n                    _vm._v(_vm._s(_vm.$t(\"script.脚本名：\"))),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    { staticClass: \"item-value\" },\n                    [\n                      _c(\n                        \"auth-component\",\n                        {\n                          attrs: {\n                            auth: \"script/edit\",\n                            \"resource-id\": _vm.data.id,\n                          },\n                        },\n                        [\n                          _c(\"jb-edit-input\", {\n                            staticStyle: { width: \"100%\" },\n                            attrs: {\n                              field: \"scriptName\",\n                              value: _vm.data.name,\n                              \"remote-hander\": function (val) {\n                                return _vm.handleUpdateScript(\"scriptName\", val)\n                              },\n                            },\n                          }),\n                          _vm._v(\" \"),\n                          _c(\n                            \"div\",\n                            { attrs: { slot: \"forbid\" }, slot: \"forbid\" },\n                            [_vm._v(_vm._s(_vm.data.name))]\n                          ),\n                        ],\n                        1\n                      ),\n                    ],\n                    1\n                  ),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"detail-col\" }, [\n                  _c(\"div\", { staticClass: \"item-label\" }, [\n                    _vm._v(_vm._s(_vm.$t(\"script.更新人：\"))),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"item-value\" }, [\n                    _c(\n                      \"div\",\n                      {\n                        directives: [\n                          {\n                            name: \"bk-overflow-tips\",\n                            rawName: \"v-bk-overflow-tips\",\n                          },\n                        ],\n                        staticClass: \"text-box\",\n                      },\n                      [_vm._v(_vm._s(_vm.data.lastModifyUser))]\n                    ),\n                  ]),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"detail-col\" }, [\n                  _c(\"div\", { staticClass: \"item-label\" }, [\n                    _vm._v(_vm._s(_vm.$t(\"script.创建人：\"))),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"item-value\" }, [\n                    _c(\n                      \"div\",\n                      {\n                        directives: [\n                          {\n                            name: \"bk-overflow-tips\",\n                            rawName: \"v-bk-overflow-tips\",\n                          },\n                        ],\n                        staticClass: \"text-box\",\n                      },\n                      [_vm._v(_vm._s(_vm.data.creator))]\n                    ),\n                  ]),\n                ]),\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              { staticClass: \"detail-column\", staticStyle: { width: \"282px\" } },\n              [\n                _c(\"div\", { staticClass: \"detail-col\" }, [\n                  _c(\"div\", { staticClass: \"item-label\" }, [\n                    _vm._v(_vm._s(_vm.$t(\"script.脚本语言：\"))),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"item-value\" }, [\n                    _c(\"div\", { staticClass: \"text-box\" }, [\n                      _vm._v(_vm._s(_vm.data.typeName)),\n                    ]),\n                  ]),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"detail-col\" }, [\n                  _c(\"div\", { staticClass: \"item-label\" }, [\n                    _vm._v(_vm._s(_vm.$t(\"script.更新时间：\"))),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\"div\", { staticClass: \"item-value\" }, [\n                    _c(\n                      \"div\",\n                      {\n                        directives: [\n                          {\n                            name: \"bk-overflow-tips\",\n                            rawName: \"v-bk-overflow-tips\",\n                          },\n                        ],\n                        staticClass: \"text-box\",\n                      },\n                      [_vm._v(_vm._s(_vm.data.lastModifyTime))]\n                    ),\n                  ]),\n                ]),\n                _vm._v(\" \"),\n                _c(\"div\", { staticClass: \"detail-col\" }, [\n                  _c(\"div\", { staticClass: \"item-label\" }, [\n                    _vm._v(_vm._s(_vm.$t(\"script.创建时间：\"))),\n                  ]),\n                  _vm._v(\" \"),\n                  _c(\n                    \"div\",\n                    {\n                      directives: [\n                        {\n                          name: \"bk-overflow-tips\",\n                          rawName: \"v-bk-overflow-tips\",\n                        },\n                      ],\n                      staticClass: \"item-value\",\n                    },\n                    [\n                      _c(\"div\", { staticClass: \"text-box\" }, [\n                        _vm._v(_vm._s(_vm.data.createTime)),\n                      ]),\n                    ]\n                  ),\n                ]),\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\"div\", { staticClass: \"detail-column last\" }, [\n              _c(\"div\", { staticClass: \"detail-col\" }, [\n                _c(\"div\", { staticClass: \"item-label\" }, [\n                  _vm._v(_vm._s(_vm.$t(\"script.场景标签：\"))),\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"item-value\" },\n                  [\n                    _c(\n                      \"auth-component\",\n                      {\n                        attrs: {\n                          auth: \"script/edit\",\n                          \"resource-id\": _vm.data.id,\n                        },\n                      },\n                      [\n                        _c(\"jb-edit-tag\", {\n                          staticClass: \"input\",\n                          attrs: {\n                            field: \"scriptTags\",\n                            rows: 1,\n                            value: _vm.data.tags,\n                            \"remote-hander\": function (val) {\n                              return _vm.handleUpdateScript(\"scriptTags\", val)\n                            },\n                          },\n                        }),\n                        _vm._v(\" \"),\n                        _c(\n                          \"div\",\n                          { attrs: { slot: \"forbid\" }, slot: \"forbid\" },\n                          [_vm._v(_vm._s(_vm.data.tagText))]\n                        ),\n                      ],\n                      1\n                    ),\n                  ],\n                  1\n                ),\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"detail-col\" }, [\n                _c(\"div\", { staticClass: \"item-label\" }, [\n                  _vm._v(_vm._s(_vm.$t(\"script.脚本描述：\"))),\n                ]),\n                _vm._v(\" \"),\n                _c(\n                  \"div\",\n                  { staticClass: \"item-value\" },\n                  [\n                    _c(\"jb-edit-textarea\", {\n                      attrs: {\n                        field: \"scriptDesc\",\n                        \"single-row-render\": \"\",\n                        placeholder: _vm.$t(\n                          \"script.在此处标注该脚本的备注和使用说明\"\n                        ),\n                        maxlength: 500,\n                        rows: 1,\n                        value: _vm.data.description,\n                        \"remote-hander\": function (val) {\n                          return _vm.handleUpdateScript(\"scriptDesc\", val)\n                        },\n                      },\n                    }),\n                  ],\n                  1\n                ),\n              ]),\n            ]),\n          ]\n        : _vm._e(),\n    ],\n    2\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./script-basic.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./script-basic.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./script-basic.vue?vue&type=template&id=6c0b7ebc&\"\nimport script from \"./script-basic.vue?vue&type=script&lang=js&\"\nexport * from \"./script-basic.vue?vue&type=script&lang=js&\"\nimport style0 from \"./script-basic.vue?vue&type=style&index=0&lang=postcss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Desktop\\\\bk-job-frontend\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('6c0b7ebc')) {\n      api.createRecord('6c0b7ebc', component.options)\n    } else {\n      api.reload('6c0b7ebc', component.options)\n    }\n    module.hot.accept(\"./script-basic.vue?vue&type=template&id=6c0b7ebc&\", function () {\n      api.rerender('6c0b7ebc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/script-manage/version/components/script-basic.vue\"\nexport default component.exports","var render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    { staticClass: \"script-manage-version-page\" },\n    [\n      _c(\"script-basic\"),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        { staticClass: \"version-list-wraper\" },\n        [\n          _c(\n            \"list-action-layout\",\n            {\n              scopedSlots: _vm._u([\n                {\n                  key: \"right\",\n                  fn: function () {\n                    return [\n                      _c(\"jb-search-select\", {\n                        staticStyle: { width: \"420px\" },\n                        attrs: {\n                          data: _vm.searchSelect,\n                          placeholder: _vm.$t(\n                            \"script.直接输入 版本号 或 更新人 进行全局模糊搜索\"\n                          ),\n                          \"show-condition\": false,\n                        },\n                        on: { \"on-change\": _vm.handleSearch },\n                      }),\n                    ]\n                  },\n                  proxy: true,\n                },\n              ]),\n            },\n            [\n              _c(\n                \"bk-button\",\n                { ref: \"newVersion\", on: { click: _vm.handlNewVersion } },\n                [\n                  _vm._v(\n                    \"\\n                \" +\n                      _vm._s(_vm.$t(\"script.新建版本\")) +\n                      \"\\n            \"\n                  ),\n                ]\n              ),\n              _vm._v(\" \"),\n              _c(\"bk-button\", { on: { click: _vm.handlShowDiff } }, [\n                _vm._v(\n                  \"\\n                \" +\n                    _vm._s(_vm.$t(\"script.版本对比\")) +\n                    \"\\n            \"\n                ),\n              ]),\n            ],\n            1\n          ),\n          _vm._v(\" \"),\n          _c(\n            \"div\",\n            { ref: \"list\" },\n            [\n              _c(\n                \"layout\",\n                {\n                  attrs: { flod: _vm.isListFlod },\n                  on: { \"on-flod\": _vm.handleLayoutFlod },\n                },\n                [\n                  _vm.tableHeight\n                    ? _c(\n                        \"bk-table\",\n                        {\n                          staticClass: \"script-version-list\",\n                          attrs: {\n                            data: _vm.renderList,\n                            \"outer-border\": false,\n                            \"max-height\": _vm.tableHeight,\n                            size: _vm.tableSize,\n                            \"row-class-name\": _vm.rowClassName,\n                          },\n                          on: {\n                            \"row-click\": _vm.handleRowSelect,\n                            \"sort-change\": _vm.handleSortChange,\n                          },\n                        },\n                        [\n                          _c(\"bk-table-column\", {\n                            key: \"selection\",\n                            attrs: {\n                              width: \"47\",\n                              align: \"center\",\n                              resizable: false,\n                            },\n                            scopedSlots: _vm._u(\n                              [\n                                {\n                                  key: \"default\",\n                                  fn: function (ref) {\n                                    var row = ref.row\n                                    return [\n                                      _c(\"bk-checkbox\", {\n                                        attrs: {\n                                          checked: _vm.isRowChecked(row),\n                                        },\n                                        on: {\n                                          change: function (checked) {\n                                            return _vm.handleSelectionChange(\n                                              row,\n                                              checked\n                                            )\n                                          },\n                                        },\n                                      }),\n                                    ]\n                                  },\n                                },\n                              ],\n                              null,\n                              false,\n                              175312358\n                            ),\n                          }),\n                          _vm._v(\" \"),\n                          _vm.allColumnMap.scriptVersionId\n                            ? _c(\"bk-table-column\", {\n                                key: \"scriptVersionId\",\n                                attrs: {\n                                  label: _vm.$t(\"script.版本 ID\"),\n                                  prop: \"scriptVersionId\",\n                                  align: \"left\",\n                                  width: \"100\",\n                                },\n                              })\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          _vm.allColumnMap.version\n                            ? _c(\"bk-table-column\", {\n                                key: \"version\",\n                                attrs: {\n                                  label: _vm.$t(\"script.版本号.colHead\"),\n                                  prop: \"version\",\n                                  align: \"left\",\n                                  \"show-overflow-tooltip\": \"\",\n                                  sortable: true,\n                                },\n                                scopedSlots: _vm._u(\n                                  [\n                                    {\n                                      key: \"default\",\n                                      fn: function (ref) {\n                                        var row = ref.row\n                                        return [\n                                          _c(\n                                            \"a\",\n                                            {\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.handleShowDetail(\n                                                    row\n                                                  )\n                                                },\n                                              },\n                                            },\n                                            [\n                                              _vm._v(\n                                                _vm._s(row.version || \"--\")\n                                              ),\n                                            ]\n                                          ),\n                                        ]\n                                      },\n                                    },\n                                  ],\n                                  null,\n                                  false,\n                                  1975994852\n                                ),\n                              })\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          _vm.allColumnMap.relatedTaskNum\n                            ? _c(\"bk-table-column\", {\n                                key: \"relatedTaskNum\",\n                                attrs: {\n                                  label: _vm.$t(\"script.被引用.colHead\"),\n                                  prop: \"relatedTaskNum\",\n                                  \"render-header\": _vm.renderHeader,\n                                  align: \"right\",\n                                  width: \"150\",\n                                },\n                                scopedSlots: _vm._u(\n                                  [\n                                    {\n                                      key: \"default\",\n                                      fn: function (ref) {\n                                        var row = ref.row\n                                        return [\n                                          _c(\n                                            \"bk-button\",\n                                            {\n                                              directives: [\n                                                {\n                                                  name: \"bk-tooltips\",\n                                                  rawName:\n                                                    \"v-bk-tooltips.allowHtml\",\n                                                  value:\n                                                    \"\\n                                <div>\" +\n                                                    _vm.$t(\n                                                      \"script.作业模板引用\"\n                                                    ) +\n                                                    \": \" +\n                                                    row.relatedTaskTemplateNum +\n                                                    \"</div>\\n                                <div>\" +\n                                                    _vm.$t(\n                                                      \"script.执行方案引用\"\n                                                    ) +\n                                                    \": \" +\n                                                    row.relatedTaskPlanNum +\n                                                    \"</div>\",\n                                                  expression:\n                                                    \"`\\n                                <div>${$t('script.作业模板引用')}: ${row.relatedTaskTemplateNum}</div>\\n                                <div>${$t('script.执行方案引用')}: ${row.relatedTaskPlanNum}</div>`\",\n                                                  modifiers: {\n                                                    allowHtml: true,\n                                                  },\n                                                },\n                                              ],\n                                              staticClass: \"mr20\",\n                                              attrs: { text: \"\" },\n                                              on: {\n                                                click: function ($event) {\n                                                  return _vm.handleShowRelated(\n                                                    row\n                                                  )\n                                                },\n                                              },\n                                            },\n                                            [\n                                              _c(\"span\", [\n                                                _vm._v(\n                                                  \"\\n                                    \" +\n                                                    _vm._s(\n                                                      row.relatedTaskTemplateNum\n                                                    ) +\n                                                    \"\\n                                \"\n                                                ),\n                                              ]),\n                                              _vm._v(\" \"),\n                                              _c(\"span\", [_vm._v(\" / \")]),\n                                              _vm._v(\" \"),\n                                              _c(\"span\", [\n                                                _vm._v(\n                                                  \"\\n                                    \" +\n                                                    _vm._s(\n                                                      row.relatedTaskPlanNum\n                                                    ) +\n                                                    \"\\n                                \"\n                                                ),\n                                              ]),\n                                            ]\n                                          ),\n                                        ]\n                                      },\n                                    },\n                                  ],\n                                  null,\n                                  false,\n                                  152096840\n                                ),\n                              })\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          _vm.allColumnMap.lastModifyUser\n                            ? _c(\"bk-table-column\", {\n                                key: \"lastModifyUser\",\n                                attrs: {\n                                  label: _vm.$t(\"script.更新人.colHead\"),\n                                  prop: \"lastModifyUser\",\n                                  align: \"left\",\n                                  width: \"160\",\n                                },\n                              })\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          _vm.allColumnMap.lastModifyTime\n                            ? _c(\"bk-table-column\", {\n                                key: \"lastModifyTime\",\n                                attrs: {\n                                  label: _vm.$t(\"script.更新时间\"),\n                                  prop: \"lastModifyTime\",\n                                  align: \"left\",\n                                  width: \"200\",\n                                  sortable: true,\n                                },\n                              })\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          _vm.allColumnMap.statusDesc\n                            ? _c(\"bk-table-column\", {\n                                key: \"statusDesc\",\n                                attrs: {\n                                  label: _vm.$t(\"script.状态\"),\n                                  prop: \"statusDesc\",\n                                  align: \"left\",\n                                  width: \"120\",\n                                  sortable: true,\n                                },\n                                scopedSlots: _vm._u(\n                                  [\n                                    {\n                                      key: \"default\",\n                                      fn: function (ref) {\n                                        var row = ref.row\n                                        return [\n                                          _c(\"span\", {\n                                            domProps: {\n                                              innerHTML: _vm._s(row.statusHtml),\n                                            },\n                                          }),\n                                          _vm._v(\" \"),\n                                          _c(\"Icon\", {\n                                            directives: [\n                                              {\n                                                name: \"show\",\n                                                rawName: \"v-show\",\n                                                value:\n                                                  row.scriptVersionId ===\n                                                  _vm.selectVersionId,\n                                                expression:\n                                                  \"row.scriptVersionId === selectVersionId\",\n                                              },\n                                            ],\n                                            staticClass: \"select-flag\",\n                                            attrs: { type: \"arrow-full-right\" },\n                                          }),\n                                        ]\n                                      },\n                                    },\n                                  ],\n                                  null,\n                                  false,\n                                  2485370968\n                                ),\n                              })\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          !_vm.isListFlod\n                            ? _c(\"bk-table-column\", {\n                                key: \"action\",\n                                attrs: {\n                                  label: _vm.$t(\"script.操作\"),\n                                  prop: \"action\",\n                                  align: \"left\",\n                                  width: \"400\",\n                                },\n                                scopedSlots: _vm._u(\n                                  [\n                                    {\n                                      key: \"default\",\n                                      fn: function (ref) {\n                                        var row = ref.row\n                                        return _c(\n                                          \"div\",\n                                          {\n                                            on: {\n                                              click: function ($event) {\n                                                $event.stopPropagation()\n                                              },\n                                            },\n                                          },\n                                          [\n                                            !row.isOnline\n                                              ? _c(\n                                                  \"jb-popover-confirm\",\n                                                  {\n                                                    staticClass: \"mr10\",\n                                                    attrs: {\n                                                      title:\n                                                        _vm.$t(\n                                                          \"script.确定上线该版本？\"\n                                                        ),\n                                                      content: _vm.$t(\n                                                        \"script.上线后，之前的线上版本将被置为「已下线」状态，但不影响作业使用\"\n                                                      ),\n                                                      \"confirm-handler\":\n                                                        function () {\n                                                          return _vm.handleOnline(\n                                                            row.id,\n                                                            row.scriptVersionId\n                                                          )\n                                                        },\n                                                    },\n                                                  },\n                                                  [\n                                                    _c(\n                                                      \"auth-button\",\n                                                      {\n                                                        attrs: {\n                                                          permission:\n                                                            row.canManage,\n                                                          \"resource-id\": row.id,\n                                                          auth: \"script/edit\",\n                                                          text: \"\",\n                                                        },\n                                                      },\n                                                      [\n                                                        _vm._v(\n                                                          \"\\n                                    \" +\n                                                            _vm._s(\n                                                              _vm.$t(\n                                                                \"script.上线\"\n                                                              )\n                                                            ) +\n                                                            \"\\n                                \"\n                                                        ),\n                                                      ]\n                                                    ),\n                                                  ],\n                                                  1\n                                                )\n                                              : _vm._e(),\n                                            _vm._v(\" \"),\n                                            _c(\n                                              \"jb-popover-confirm\",\n                                              {\n                                                staticClass: \"mr10\",\n                                                attrs: {\n                                                  title:\n                                                    _vm.$t(\n                                                      \"script.确定禁用该版本？\"\n                                                    ),\n                                                  content: _vm.$t(\n                                                    \"script.一旦禁用成功，线上引用该版本的作业脚本步骤都会执行失败，请务必谨慎操作！\"\n                                                  ),\n                                                  \"confirm-handler\":\n                                                    function () {\n                                                      return _vm.handleOffline(\n                                                        row.id,\n                                                        row.scriptVersionId\n                                                      )\n                                                    },\n                                                },\n                                              },\n                                              [\n                                                _c(\n                                                  \"auth-button\",\n                                                  {\n                                                    attrs: {\n                                                      permission: row.canManage,\n                                                      \"resource-id\": row.id,\n                                                      auth: \"script/edit\",\n                                                      text: \"\",\n                                                    },\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"\\n                                    \" +\n                                                        _vm._s(\n                                                          _vm.$t(\"script.禁用\")\n                                                        ) +\n                                                        \"\\n                                \"\n                                                    ),\n                                                  ]\n                                                ),\n                                              ],\n                                              1\n                                            ),\n                                            _vm._v(\" \"),\n                                            _c(\n                                              \"auth-button\",\n                                              {\n                                                staticClass: \"mr10\",\n                                                attrs: {\n                                                  permission: row.canManage,\n                                                  \"resource-id\": row.id,\n                                                  auth: \"script/edit\",\n                                                  text: \"\",\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    return _vm.handleEdit(row)\n                                                  },\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"\\n                                \" +\n                                                    _vm._s(\n                                                      _vm.$t(\"script.编辑\")\n                                                    ) +\n                                                    \"\\n                            \"\n                                                ),\n                                              ]\n                                            ),\n                                            _vm._v(\" \"),\n                                            _c(\n                                              \"span\",\n                                              {\n                                                staticClass: \"mr10\",\n                                                attrs: {\n                                                  \"tippy-tips\":\n                                                    _vm.isCopyCreateDisabled\n                                                      ? _vm.$t(\n                                                          \"script.已有[未上线]版本\"\n                                                        )\n                                                      : \"\",\n                                                },\n                                              },\n                                              [\n                                                _c(\n                                                  \"auth-button\",\n                                                  {\n                                                    attrs: {\n                                                      permission: row.canClone,\n                                                      \"resource-id\": row.id,\n                                                      auth: \"script/clone\",\n                                                      text: \"\",\n                                                    },\n                                                    on: {\n                                                      click: function ($event) {\n                                                        return _vm.handleToggleCopyCreate(\n                                                          row\n                                                        )\n                                                      },\n                                                    },\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"\\n                                    \" +\n                                                        _vm._s(\n                                                          _vm.$t(\n                                                            \"script.复制并新建\"\n                                                          )\n                                                        ) +\n                                                        \"\\n                                \"\n                                                    ),\n                                                  ]\n                                                ),\n                                              ],\n                                              1\n                                            ),\n                                            _vm._v(\" \"),\n                                            _c(\n                                              \"auth-button\",\n                                              {\n                                                attrs: {\n                                                  text: \"\",\n                                                  permission: row.canManage,\n                                                  auth: \"script/execute\",\n                                                  \"resource-id\": row.id,\n                                                },\n                                                on: {\n                                                  click: function ($event) {\n                                                    return _vm.handleGoExce(row)\n                                                  },\n                                                },\n                                              },\n                                              [\n                                                _vm._v(\n                                                  \"\\n                                \" +\n                                                    _vm._s(\n                                                      _vm.$t(\"script.去执行\")\n                                                    ) +\n                                                    \"\\n                            \"\n                                                ),\n                                              ]\n                                            ),\n                                            _vm._v(\" \"),\n                                            _c(\n                                              \"span\",\n                                              {\n                                                attrs: {\n                                                  \"tippy-tips\": !row.syncEnabled\n                                                    ? _vm.$t(\n                                                        \"script.所有关联作业模板已是当前版本\"\n                                                      )\n                                                    : \"\",\n                                                },\n                                              },\n                                              [\n                                                _c(\n                                                  \"auth-button\",\n                                                  {\n                                                    staticClass: \"ml10\",\n                                                    attrs: {\n                                                      permission: row.canManage,\n                                                      \"resource-id\": row.id,\n                                                      auth: \"script/edit\",\n                                                      text: \"\",\n                                                    },\n                                                    on: {\n                                                      click: function ($event) {\n                                                        return _vm.handleSync(\n                                                          row\n                                                        )\n                                                      },\n                                                    },\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"\\n                                    \" +\n                                                        _vm._s(\n                                                          _vm.$t(\"script.同步\")\n                                                        ) +\n                                                        \"\\n                                \"\n                                                    ),\n                                                  ]\n                                                ),\n                                              ],\n                                              1\n                                            ),\n                                            _vm._v(\" \"),\n                                            _c(\n                                              \"jb-popover-confirm\",\n                                              {\n                                                attrs: {\n                                                  title:\n                                                    _vm.$t(\n                                                      \"script.确定删除该版本？\"\n                                                    ),\n                                                  content: _vm.$t(\n                                                    \"script.删除后不可恢复，请谨慎操作！\"\n                                                  ),\n                                                  \"confirm-handler\":\n                                                    function () {\n                                                      return _vm.handleRemove(\n                                                        row.scriptVersionId\n                                                      )\n                                                    },\n                                                },\n                                              },\n                                              [\n                                                _c(\n                                                  \"auth-button\",\n                                                  {\n                                                    attrs: {\n                                                      permission: row.canManage,\n                                                      \"resource-id\": row.id,\n                                                      auth: \"script/delete\",\n                                                      text: \"\",\n                                                    },\n                                                  },\n                                                  [\n                                                    _vm._v(\n                                                      \"\\n                                    \" +\n                                                        _vm._s(\n                                                          _vm.$t(\"script.删除\")\n                                                        ) +\n                                                        \"\\n                                \"\n                                                    ),\n                                                  ]\n                                                ),\n                                              ],\n                                              1\n                                            ),\n                                          ],\n                                          1\n                                        )\n                                      },\n                                    },\n                                  ],\n                                  null,\n                                  false,\n                                  3850035267\n                                ),\n                              })\n                            : _vm._e(),\n                          _vm._v(\" \"),\n                          _c(\n                            \"bk-table-column\",\n                            { attrs: { type: \"setting\" } },\n                            [\n                              _c(\"bk-table-setting-content\", {\n                                attrs: {\n                                  fields: _vm.tableColumn,\n                                  selected: _vm.selectedTableColumn,\n                                  size: _vm.tableSize,\n                                },\n                                on: {\n                                  \"setting-change\": _vm.handleSettingChange,\n                                },\n                              }),\n                            ],\n                            1\n                          ),\n                        ],\n                        1\n                      )\n                    : _vm._e(),\n                  _vm._v(\" \"),\n                  _c(\n                    \"template\",\n                    { slot: \"flod\" },\n                    [\n                      _c(_vm.curCom, {\n                        tag: \"component\",\n                        attrs: {\n                          \"script-version-list\": _vm.data,\n                          \"script-info\": _vm.selectVersion,\n                        },\n                        on: {\n                          \"on-edit-change\": _vm.handleScriptChangeSubmit,\n                          \"on-go-copy-create\": _vm.handleToggleCopyCreate,\n                          \"on-go-edit\": _vm.handleToggleEdit,\n                          \"on-delete\": _vm.handleDeleteSubmit,\n                          \"on-create-change\": _vm.handleCreateValueChange,\n                          \"on-create\": _vm.handleCreateSubmit,\n                          \"on-create-cancel\": _vm.handleCreateCancel,\n                          \"on-edit\": _vm.handleEditSubmit,\n                          \"on-edit-cancel\": _vm.handleEditCancel,\n                        },\n                      }),\n                    ],\n                    1\n                  ),\n                ],\n                2\n              ),\n            ],\n            1\n          ),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", { staticStyle: { display: \"none\" } }, [\n        _c(\n          \"div\",\n          {\n            staticStyle: { padding: \"16px 12px\" },\n            attrs: { id: \"newVersionDisableActions\" },\n          },\n          [\n            _c(\n              \"div\",\n              {\n                staticStyle: {\n                  \"margin-bottom\": \"17px\",\n                  \"font-size\": \"14px\",\n                  \"line-height\": \"22px\",\n                  color: \"#313238\",\n                },\n              },\n              [\n                _vm._v(\n                  \"\\n                \" +\n                    _vm._s(_vm.$t(\"script.已有[未上线]版本\")) +\n                    \"\\n            \"\n                ),\n              ]\n            ),\n            _vm._v(\" \"),\n            _c(\n              \"div\",\n              [\n                _c(\n                  \"bk-button\",\n                  {\n                    staticStyle: { \"margin-right\": \"8px\" },\n                    attrs: { theme: \"primary\", size: \"small\" },\n                    on: { click: _vm.handleEditDraftVersion },\n                  },\n                  [\n                    _vm._v(\n                      \"\\n                    \" +\n                        _vm._s(_vm.$t(\"script.前往编辑\")) +\n                        \"\\n                \"\n                    ),\n                  ]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"bk-button\",\n                  {\n                    attrs: { size: \"small\" },\n                    on: { click: _vm.handleNewVersionClose },\n                  },\n                  [\n                    _vm._v(\n                      \"\\n                    \" +\n                        _vm._s(_vm.$t(\"script.取消\")) +\n                        \"\\n                \"\n                    ),\n                  ]\n                ),\n              ],\n              1\n            ),\n          ]\n        ),\n      ]),\n      _vm._v(\" \"),\n      _vm.currentVersionName\n        ? _c(\"element-teleport\", [\n            _c(\"span\", [_vm._v(\" - \" + _vm._s(_vm.currentVersionName))]),\n          ])\n        : _vm._e(),\n      _vm._v(\" \"),\n      _vm.showDiff\n        ? _c(\"Diff\", {\n            attrs: {\n              title: _vm.$t(\"script.版本对比\"),\n              data: _vm.dataMemo,\n              \"old-version-id\": _vm.diffInfo.oldVersionId,\n              \"new-version-id\": _vm.diffInfo.newVersionId,\n            },\n            on: {\n              \"on-change\": _vm.handleDiffVersionChange,\n              close: _vm.handleDiffClose,\n            },\n          })\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"jb-sideslider\",\n        {\n          attrs: {\n            \"is-show\": _vm.showRelated,\n            \"show-footer\": false,\n            \"quick-close\": \"\",\n            title: _vm.$t(\"script.被引用.label\"),\n            width: 695,\n          },\n          on: {\n            \"update:isShow\": function ($event) {\n              _vm.showRelated = $event\n            },\n            \"update:is-show\": function ($event) {\n              _vm.showRelated = $event\n            },\n          },\n        },\n        [\n          _c(\"script-related-info\", {\n            attrs: { info: _vm.relatedScriptInfo, mode: \"scriptVersionList\" },\n          }),\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\n        \"jb-dialog\",\n        {\n          attrs: {\n            \"header-position\": \"left\",\n            title: _vm.$t(\"script.新建版本\"),\n            \"ok-text\": _vm.$t(\"script.确定\"),\n            \"mask-close\": false,\n            width: 480,\n          },\n          model: {\n            value: _vm.isShowNewVersion,\n            callback: function ($$v) {\n              _vm.isShowNewVersion = $$v\n            },\n            expression: \"isShowNewVersion\",\n          },\n        },\n        [\n          _c(\"new-version\", {\n            attrs: { \"version-list\": _vm.data },\n            on: {\n              \"on-close\": _vm.handleNewVersionClose,\n              \"on-create\": _vm.handleToggleCopyCreate,\n            },\n          }),\n        ],\n        1\n      ),\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_babel-loader@8.2.5@babel-loader/lib/index.js??clonedRuleSet-1[0].rules[0].use[0]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5c19486e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=postcss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Desktop\\\\bk-job-frontend\\\\node_modules\\\\_vue-hot-reload-api@2.3.4@vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('5c19486e')) {\n      api.createRecord('5c19486e', component.options)\n    } else {\n      api.reload('5c19486e', component.options)\n    }\n    module.hot.accept(\"./index.vue?vue&type=template&id=5c19486e&\", function () {\n      api.rerender('5c19486e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/views/script-manage/version/index.vue\"\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./copy-create.vue?vue&type=style&index=0&lang=postcss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/_vue-style-loader@4.1.3@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"1e28ab96\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./copy-create.vue?vue&type=style&index=0&lang=postcss&\", function() {\n     var newContent = require(\"!!../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./copy-create.vue?vue&type=style&index=0&lang=postcss&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./diff.vue?vue&type=style&index=0&lang=postcss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/_vue-style-loader@4.1.3@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"0b614b9a\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./diff.vue?vue&type=style&index=0&lang=postcss&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./diff.vue?vue&type=style&index=0&lang=postcss&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=style&index=0&lang=postcss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/_vue-style-loader@4.1.3@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"387a3d93\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=style&index=0&lang=postcss&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./layout.vue?vue&type=style&index=0&lang=postcss&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./script-basic.vue?vue&type=style&index=0&lang=postcss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/_vue-style-loader@4.1.3@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"681ae15a\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./script-basic.vue?vue&type=style&index=0&lang=postcss&\", function() {\n     var newContent = require(\"!!../../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./script-basic.vue?vue&type=style&index=0&lang=postcss&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=postcss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../node_modules/_vue-style-loader@4.1.3@vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"b5f9c6b2\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=postcss&\", function() {\n     var newContent = require(\"!!../../../../node_modules/_mini-css-extract-plugin@2.6.0@mini-css-extract-plugin/dist/loader.js??clonedRuleSet-3[0].rules[0].use[1]!../../../../node_modules/_css-loader@6.7.1@css-loader/dist/cjs.js??clonedRuleSet-3[0].rules[0].use[2]!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@6.2.1@postcss-loader/dist/cjs.js!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=postcss&\");\n     if(newContent.__esModule) newContent = newContent.default;\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}"],"names":["id","typeName","version","versionDesc","type","content","name","components","JbInput","AceEditor","Layout","inheritAttrs","props","scriptInfo","required","scriptVersionList","default","data","isLoading","isSubmiting","formData","contentHeight","computed","result","watch","handler","genDefaultFormData","immediate","message","trigger","validator","scriptType","then","window","methods","handleVersionChange","handleTypeChange","Promise","ScriptManageService","scriptVersionId","finally","debugScriptCache","query","model","title","oldVersionId","newVersionId","oldVersion","newVersion","zIndex","del","ins","change","document","$allChangeElemennts","item","$target","handleEsc","flod","isShowRight","isOpen","layoutWidth","layoutOffsetTop","width","height","setTimeout","versionList","require","renderList","JbEditInput","JbEditTag","JbEditTextarea","$lableEles","maxWidth","ele","handleUpdateScript","payload","updateField","ListActionLayout","JbPopoverConfirm","JbSearchSelect","ScriptRelatedInfo","Diff","DetailScript","Edit","CopyCreate","ScriptBasic","NewVersion","isListFlod","isShowNewVersion","showDiff","dataAppendList","scriptDetailInfo","tableHeight","selectedTableColumn","selectVersionId","choosedMap","showRelated","relatedScriptInfo","displayCom","tableSize","detail","edit","copyCreate","statusDesc","remoteMethod","inputInclude","label","disabled","fetchData","permission","rowClassName","arrow","placement","theme","interactive","animation","boundary","distance","handleSearch","Object","list","handleSortChange","handleSettingChange","listColumnsCache","columns","handleSelectionChange","handleShowDetail","handleRowSelect","handleOffline","handleOnline","handleRemove","handleGoExce","params","taskInstanceId","from","handleSync","scriptId","scriptVersionid","handleEdit","handleShowRelated","handleDiffVersionChange","handleToggleCopyCreate","currentScriptVersion","status","newScriptVersion","handleCreateSubmit","handleCreateValueChange","isRowSelectable","isRowChecked","renderHeader","I18n","render","_vm","this","_h","$createElement","_c","_self","staticClass","scopedSlots","_u","key","fn","directives","rawName","value","expression","attrs","loading","on","click","handleSubmit","_v","_s","$t","handleDebugScript","handleCancel","proxy","slot","handleUploadScript","$event","stopPropagation","handleShowHistory","apply","arguments","handleFullScreen","ref","rules","property","placeholder","maxlength","svg","rows","callback","$$v","$set","lang","options","_e","_withStripped","component","__file","readonly","isDraft","style","handleViewDel","handleViewChange","handleViewIns","clearable","_l","format","language","context","Infinity","oldContent","newContent","handleClose","class","toggled","styles","_t","handleToggle","rightStyles","active","staticStyle","domProps","innerHTML","statusHtml","src","auth","field","val","lastModifyUser","creator","lastModifyTime","createTime","tags","tagText","description","searchSelect","handlNewVersion","handlShowDiff","handleLayoutFlod","size","align","resizable","row","checked","allColumnMap","prop","sortable","relatedTaskNum","relatedTaskTemplateNum","relatedTaskPlanNum","modifiers","allowHtml","text","isOnline","canManage","isCopyCreateDisabled","canClone","syncEnabled","fields","tableColumn","selected","curCom","tag","selectVersion","handleScriptChangeSubmit","handleToggleEdit","handleDeleteSubmit","handleCreateCancel","handleEditSubmit","handleEditCancel","display","padding","color","handleEditDraftVersion","handleNewVersionClose","currentVersionName","dataMemo","diffInfo","close","handleDiffClose","info","mode","__esModule","module","locals","exports","add"],"sourceRoot":""}