(self.webpackChunkjob=self.webpackChunkjob||[]).push([[2952],{84227:function(t,e,n){"use strict";n(32106),n(58701),n(68591),n(41336),n(59241),n(14309),n(70616),n(13118),n(98495),n(89242),n(36380),n(77702),n(33801),n(75328),n(17450),n(9158),n(84367),n(92824),n(54645),n(55218),n(56596),n(85376),n(54332),n(79951),n(88075),n(90282),n(55410),n(95071),n(52346),n(95968),n(87863),n(5409),n(97422),n(72090),n(31110),n(53621),n(68858),n(40243),function(t){function e(t){var e={},n={},a=t.match(/Firefox\/([\d.]+)/),i=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),r=t.match(/Edge\/([\d.]+)/),o=/micromessenger/i.test(t);return a&&(n.firefox=!0,n.version=a[1]),i&&(n.ie=!0,n.version=i[1]),r&&(n.edge=!0,n.version=r[1]),o&&(n.weChat=!0),{browser:n,os:e,node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!n.ie&&!n.edge,pointerEventsSupported:"onpointerdown"in window&&(n.edge||n.ie&&n.version>=11),domSupported:"undefined"!=typeof document}}function a(t,e){"createCanvas"===t&&(op=null),ip[t]=e}function i(t){if(null==t||"object"!=typeof t)return t;var e=t,n=Jf.call(t);if("[object Array]"===n){if(!V(t)){e=[];for(var a=0,r=t.length;r>a;a++)e[a]=i(t[a])}}else if(Yf[n]){if(!V(t)){var o=t.constructor;if(t.constructor.from)e=o.from(t);else for(e=new o(t.length),a=0,r=t.length;r>a;a++)e[a]=i(t[a])}}else if(!Xf[n]&&!V(t)&&!T(t))for(var s in e={},t)t.hasOwnProperty(s)&&(e[s]=i(t[s]));return e}function r(t,e,n){if(!I(e)||!I(t))return n?i(e):t;for(var a in e)if(e.hasOwnProperty(a)){var o=t[a],s=e[a];!I(s)||!I(o)||x(s)||x(o)||T(s)||T(o)||C(s)||C(o)||V(s)||V(o)?!n&&a in t||(t[a]=i(e[a],!0)):r(o,s,n)}return t}function o(t,e){for(var n=t[0],a=1,i=t.length;i>a;a++)n=r(n,t[a],e);return n}function s(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function l(t,e,n){for(var a in e)e.hasOwnProperty(a)&&(n?null!=e[a]:null==t[a])&&(t[a]=e[a]);return t}function u(){return op||(op=rp().getContext("2d")),op}function c(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,a=t.length;a>n;n++)if(t[n]===e)return n}return-1}function d(t,e){function n(){}var a=t.prototype;for(var i in n.prototype=e.prototype,t.prototype=new n,a)a.hasOwnProperty(i)&&(t.prototype[i]=a[i]);t.prototype.constructor=t,t.superClass=e}function h(t,e,n){l(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,n)}function f(t){return t?"string"!=typeof t&&"number"==typeof t.length:void 0}function p(t,e,n){if(t&&e)if(t.forEach&&t.forEach===Qf)t.forEach(e,n);else if(t.length===+t.length)for(var a=0,i=t.length;i>a;a++)e.call(n,t[a],a,t);else for(var r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function v(t,e,n){if(t&&e){if(t.map&&t.map===np)return t.map(e,n);for(var a=[],i=0,r=t.length;r>i;i++)a.push(e.call(n,t[i],i,t));return a}}function g(t,e,n,a){if(t&&e){if(t.reduce&&t.reduce===ap)return t.reduce(e,n,a);for(var i=0,r=t.length;r>i;i++)n=e.call(a,n,t[i],i,t);return n}}function m(t,e,n){if(t&&e){if(t.filter&&t.filter===tp)return t.filter(e,n);for(var a=[],i=0,r=t.length;r>i;i++)e.call(n,t[i],i,t)&&a.push(t[i]);return a}}function y(t,e,n){if(t&&e)for(var a=0,i=t.length;i>a;a++)if(e.call(n,t[a],a,t))return t[a]}function _(t,e){var n=ep.call(arguments,2);return function(){return t.apply(e,n.concat(ep.call(arguments)))}}function b(t){var e=ep.call(arguments,1);return function(){return t.apply(this,e.concat(ep.call(arguments)))}}function x(t){return"[object Array]"===Jf.call(t)}function w(t){return"function"==typeof t}function S(t){return"[object String]"===Jf.call(t)}function I(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function C(t){return!!Xf[Jf.call(t)]}function k(t){return!!Yf[Jf.call(t)]}function T(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function O(t){return t!=t}function D(){for(var t=0,e=arguments.length;e>t;t++)if(null!=arguments[t])return arguments[t]}function M(t,e){return null!=t?t:e}function P(t,e,n){return null!=t?t:null!=e?e:n}function A(){return Function.call.apply(ep,arguments)}function L(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function E(t,e){if(!t)throw new Error(e)}function j(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function N(t){t[sp]=!0}function V(t){return t[sp]}function R(t){function e(t,e){n?a.set(t,e):a.set(e,t)}var n=x(t);this.data={};var a=this;t instanceof R?t.each(e):t&&p(t,e)}function B(t){return new R(t)}function z(t,e){for(var n=new t.constructor(t.length+e.length),a=0;a<t.length;a++)n[a]=t[a];var i=t.length;for(a=0;a<e.length;a++)n[a+i]=e[a];return n}function F(){}function q(t,e){var n=new up(2);return null==t&&(t=0),null==e&&(e=0),n[0]=t,n[1]=e,n}function $(t,e){return t[0]=e[0],t[1]=e[1],t}function Z(t){var e=new up(2);return e[0]=t[0],e[1]=t[1],e}function G(t,e,n){return t[0]=e,t[1]=n,t}function H(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function W(t,e,n,a){return t[0]=e[0]+n[0]*a,t[1]=e[1]+n[1]*a,t}function U(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function X(t){return Math.sqrt(Y(t))}function Y(t){return t[0]*t[0]+t[1]*t[1]}function J(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t}function K(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t}function Q(t,e){return t[0]*e[0]+t[1]*e[1]}function tt(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function et(t,e){var n=X(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function nt(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function at(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}function it(t,e){return t[0]=-e[0],t[1]=-e[1],t}function rt(t,e,n,a){return t[0]=e[0]+a*(n[0]-e[0]),t[1]=e[1]+a*(n[1]-e[1]),t}function ot(t,e,n){var a=e[0],i=e[1];return t[0]=n[0]*a+n[2]*i+n[4],t[1]=n[1]*a+n[3]*i+n[5],t}function st(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function lt(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}function ut(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function ct(t,e){return{target:t,topTarget:e&&e.topTarget}}function dt(t,e){var n=t._$eventProcessor;return null!=e&&n&&n.normalizeQuery&&(e=n.normalizeQuery(e)),e}function ht(t,e,n,a,i,r){var o=t._$handlers;if("function"==typeof n&&(i=a,a=n,n=null),!a||!e)return t;n=dt(t,n),o[e]||(o[e]=[]);for(var s=0;s<o[e].length;s++)if(o[e][s].h===a)return t;var l={h:a,one:r,query:n,ctx:i||t,callAtLast:a.zrEventfulCallAtLast},u=o[e].length-1,c=o[e][u];return c&&c.callAtLast?o[e].splice(u,0,l):o[e].push(l),t}function ft(t,e,n,a,i,r){var o=a+"-"+i,s=t.length;if(r.hasOwnProperty(o))return r[o];if(1===e){var l=Math.round(Math.log((1<<s)-1&~i)/mp);return t[n][l]}for(var u=a|1<<n,c=n+1;a&1<<c;)c++;for(var d=0,h=0,f=0;s>h;h++){var p=1<<h;p&i||(d+=(f%2?-1:1)*t[n][h]*ft(t,e-1,c,u,i|p,r),f++)}return r[o]=d,d}function pt(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],a={},i=ft(n,8,0,0,0,a);if(0!==i){for(var r=[],o=0;8>o;o++)for(var s=0;8>s;s++)null==r[s]&&(r[s]=0),r[s]+=((o+s)%2?-1:1)*ft(n,7,0===o?1:0,1<<o,1<<s,a)/i*e[o];return function(t,e,n){var a=e*r[6]+n*r[7]+1;t[0]=(e*r[0]+n*r[1]+r[2])/a,t[1]=(e*r[3]+n*r[4]+r[5])/a}}}function vt(t,e,n,a,i){return gt(_p,e,a,i,!0)&&gt(t,n,_p[0],_p[1])}function gt(t,e,n,a,i){if(e.getBoundingClientRect&&Uf.domSupported&&!_t(e)){var r=e[yp]||(e[yp]={}),o=yt(mt(e,r),r,i);if(o)return o(t,n,a),!0}return!1}function mt(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var a=["left","right"],i=["top","bottom"],r=0;4>r;r++){var o=document.createElement("div"),s=r%2,l=(r>>1)%2;o.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",a[s]+":0",i[l]+":0",a[1-s]+":auto",i[1-l]+":auto",""].join("!important;"),t.appendChild(o),n.push(o)}return n}function yt(t,e,n){for(var a=n?"invTrans":"trans",i=e[a],r=e.srcCoords,o=!0,s=[],l=[],u=0;4>u;u++){var c=t[u].getBoundingClientRect(),d=2*u,h=c.left,f=c.top;s.push(h,f),o=o&&r&&h===r[d]&&f===r[d+1],l.push(t[u].offsetLeft,t[u].offsetTop)}return o&&i?i:(e.srcCoords=s,e[a]=n?pt(l,s):pt(s,l))}function _t(t){return"CANVAS"===t.nodeName.toUpperCase()}function bt(t,e,n,a){return n=n||{},a||!Uf.canvasSupported?xt(t,e,n):Uf.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):xt(t,e,n),n}function xt(t,e,n){if(Uf.domSupported&&t.getBoundingClientRect){var a=e.clientX,i=e.clientY;if(_t(t)){var r=t.getBoundingClientRect();return n.zrX=a-r.left,void(n.zrY=i-r.top)}if(gt(wp,t,a,i))return n.zrX=wp[0],void(n.zrY=wp[1])}n.zrX=n.zrY=0}function wt(t){return t||window.event}function St(t,e,n){if(null!=(e=wt(e)).zrX)return e;var a=e.type;if(a&&a.indexOf("touch")>=0){var i="touchend"!==a?e.targetTouches[0]:e.changedTouches[0];i&&bt(t,i,e,n)}else bt(t,e,e,n),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3;var r=e.button;return null==e.which&&void 0!==r&&xp.test(e.type)&&(e.which=1&r?1:2&r?3:4&r?2:0),e}function It(t,e,n,a){bp?t.addEventListener(e,n,a):t.attachEvent("on"+e,n)}function Ct(t,e,n,a){bp?t.removeEventListener(e,n,a):t.detachEvent("on"+e,n)}function kt(t){return 2===t.which||3===t.which}function Tt(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}function Ot(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function Dt(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:Mt}}function Mt(){Sp(this.event)}function Pt(){}function At(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var a,i=t;i;){if(i.clipPath&&!i.clipPath.contain(e,n))return!1;i.silent&&(a=!0),i=i.parent}return!a||kp}return!1}function Lt(t,e,n){var a=t.painter;return 0>e||e>a.getWidth()||0>n||n>a.getHeight()}function Et(){var t=new Dp(6);return jt(t),t}function jt(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function Nt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Vt(t,e,n){var a=e[0]*n[0]+e[2]*n[1],i=e[1]*n[0]+e[3]*n[1],r=e[0]*n[2]+e[2]*n[3],o=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=a,t[1]=i,t[2]=r,t[3]=o,t[4]=s,t[5]=l,t}function Rt(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function Bt(t,e,n){var a=e[0],i=e[2],r=e[4],o=e[1],s=e[3],l=e[5],u=Math.sin(n),c=Math.cos(n);return t[0]=a*c+o*u,t[1]=-a*u+o*c,t[2]=i*c+s*u,t[3]=-i*u+c*s,t[4]=c*r+u*l,t[5]=c*l-u*r,t}function zt(t,e,n){var a=n[0],i=n[1];return t[0]=e[0]*a,t[1]=e[1]*i,t[2]=e[2]*a,t[3]=e[3]*i,t[4]=e[4]*a,t[5]=e[5]*i,t}function Ft(t,e){var n=e[0],a=e[2],i=e[4],r=e[1],o=e[3],s=e[5],l=n*o-r*a;return l?(l=1/l,t[0]=o*l,t[1]=-r*l,t[2]=-a*l,t[3]=n*l,t[4]=(a*s-o*i)*l,t[5]=(r*i-n*s)*l,t):null}function qt(t){var e=Et();return Nt(e,t),e}function $t(t){return t>Ap||-Ap>t}function Zt(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}function Gt(t){return 0>(t=Math.round(t))?0:t>255?255:t}function Ht(t){return 0>(t=Math.round(t))?0:t>360?360:t}function Wt(t){return 0>t?0:t>1?1:t}function Ut(t){return Gt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100*255:parseInt(t,10))}function Xt(t){return Wt(t.length&&"%"===t.charAt(t.length-1)?parseFloat(t)/100:parseFloat(t))}function Yt(t,e,n){return 0>n?n+=1:n>1&&(n-=1),1>6*n?t+(e-t)*n*6:1>2*n?e:2>3*n?t+(e-t)*(2/3-n)*6:t}function Jt(t,e,n){return t+(e-t)*n}function Kt(t,e,n,a,i){return t[0]=e,t[1]=n,t[2]=a,t[3]=i,t}function Qt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function te(t,e){Hp&&Qt(Hp,e),Hp=Gp.put(t,Hp||e.slice())}function ee(t,e){if(t){e=e||[];var n=Gp.get(t);if(n)return Qt(e,n);var a=(t+="").replace(/ /g,"").toLowerCase();if(a in Zp)return Qt(e,Zp[a]),te(t,e),e;if("#"!==a.charAt(0)){var i=a.indexOf("("),r=a.indexOf(")");if(-1!==i&&r+1===a.length){var o=a.substr(0,i),s=a.substr(i+1,r-(i+1)).split(","),l=1;switch(o){case"rgba":if(4!==s.length)return void Kt(e,0,0,0,1);l=Xt(s.pop());case"rgb":return 3!==s.length?void Kt(e,0,0,0,1):(Kt(e,Ut(s[0]),Ut(s[1]),Ut(s[2]),l),te(t,e),e);case"hsla":return 4!==s.length?void Kt(e,0,0,0,1):(s[3]=Xt(s[3]),ne(s,e),te(t,e),e);case"hsl":return 3!==s.length?void Kt(e,0,0,0,1):(ne(s,e),te(t,e),e);default:return}}Kt(e,0,0,0,1)}else{var u;if(4===a.length)return(u=parseInt(a.substr(1),16))>=0&&4095>=u?(Kt(e,(3840&u)>>4|(3840&u)>>8,240&u|(240&u)>>4,15&u|(15&u)<<4,1),te(t,e),e):void Kt(e,0,0,0,1);if(7===a.length)return(u=parseInt(a.substr(1),16))>=0&&16777215>=u?(Kt(e,(16711680&u)>>16,(65280&u)>>8,255&u,1),te(t,e),e):void Kt(e,0,0,0,1)}}}function ne(t,e){var n=(parseFloat(t[0])%360+360)%360/360,a=Xt(t[1]),i=Xt(t[2]),r=.5>=i?i*(a+1):i+a-i*a,o=2*i-r;return Kt(e=e||[],Gt(255*Yt(o,r,n+1/3)),Gt(255*Yt(o,r,n)),Gt(255*Yt(o,r,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function ae(t){if(t){var e,n,a=t[0]/255,i=t[1]/255,r=t[2]/255,o=Math.min(a,i,r),s=Math.max(a,i,r),l=s-o,u=(s+o)/2;if(0===l)e=0,n=0;else{n=.5>u?l/(s+o):l/(2-s-o);var c=((s-a)/6+l/2)/l,d=((s-i)/6+l/2)/l,h=((s-r)/6+l/2)/l;a===s?e=h-d:i===s?e=1/3+c-h:r===s&&(e=2/3+d-c),0>e&&(e+=1),e>1&&(e-=1)}var f=[360*e,n,u];return null!=t[3]&&f.push(t[3]),f}}function ie(t,e){var n=ee(t);if(n){for(var a=0;3>a;a++)n[a]=0>e?n[a]*(1-e)|0:(255-n[a])*e+n[a]|0,n[a]>255?n[a]=255:t[a]<0&&(n[a]=0);return ce(n,4===n.length?"rgba":"rgb")}}function re(t){var e=ee(t);return e?((1<<24)+(e[0]<<16)+(e[1]<<8)+ +e[2]).toString(16).slice(1):void 0}function oe(t,e,n){if(e&&e.length&&t>=0&&1>=t){n=n||[];var a=t*(e.length-1),i=Math.floor(a),r=Math.ceil(a),o=e[i],s=e[r],l=a-i;return n[0]=Gt(Jt(o[0],s[0],l)),n[1]=Gt(Jt(o[1],s[1],l)),n[2]=Gt(Jt(o[2],s[2],l)),n[3]=Wt(Jt(o[3],s[3],l)),n}}function se(t,e,n){if(e&&e.length&&t>=0&&1>=t){var a=t*(e.length-1),i=Math.floor(a),r=Math.ceil(a),o=ee(e[i]),s=ee(e[r]),l=a-i,u=ce([Gt(Jt(o[0],s[0],l)),Gt(Jt(o[1],s[1],l)),Gt(Jt(o[2],s[2],l)),Wt(Jt(o[3],s[3],l))],"rgba");return n?{color:u,leftIndex:i,rightIndex:r,value:a}:u}}function le(t,e,n,a){return(t=ee(t))?(t=ae(t),null!=e&&(t[0]=Ht(e)),null!=n&&(t[1]=Xt(n)),null!=a&&(t[2]=Xt(a)),ce(ne(t),"rgba")):void 0}function ue(t,e){return(t=ee(t))&&null!=e?(t[3]=Wt(e),ce(t,"rgba")):void 0}function ce(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return("rgba"===e||"hsva"===e||"hsla"===e)&&(n+=","+t[3]),e+"("+n+")"}}function de(t,e){return t[e]}function he(t,e,n){t[e]=n}function fe(t,e,n){return(e-t)*n+t}function pe(t,e,n){return n>.5?e:t}function ve(t,e,n,a,i){var r=t.length;if(1===i)for(var o=0;r>o;o++)a[o]=fe(t[o],e[o],n);else{var s=r&&t[0].length;for(o=0;r>o;o++)for(var l=0;s>l;l++)a[o][l]=fe(t[o][l],e[o][l],n)}}function ge(t,e,n){var a=t.length,i=e.length;if(a!==i)if(a>i)t.length=i;else for(var r=a;i>r;r++)t.push(1===n?e[r]:Yp.call(e[r]));var o=t[0]&&t[0].length;for(r=0;r<t.length;r++)if(1===n)isNaN(t[r])&&(t[r]=e[r]);else for(var s=0;o>s;s++)isNaN(t[r][s])&&(t[r][s]=e[r][s])}function me(t,e,n){if(t===e)return!0;var a=t.length;if(a!==e.length)return!1;if(1===n){for(var i=0;a>i;i++)if(t[i]!==e[i])return!1}else{var r=t[0].length;for(i=0;a>i;i++)for(var o=0;r>o;o++)if(t[i][o]!==e[i][o])return!1}return!0}function ye(t,e,n,a,i,r,o,s,l){var u=t.length;if(1===l)for(var c=0;u>c;c++)s[c]=_e(t[c],e[c],n[c],a[c],i,r,o);else{var d=t[0].length;for(c=0;u>c;c++)for(var h=0;d>h;h++)s[c][h]=_e(t[c][h],e[c][h],n[c][h],a[c][h],i,r,o)}}function _e(t,e,n,a,i,r,o){var s=.5*(n-t),l=.5*(a-e);return(2*(e-n)+s+l)*o+(-3*(e-n)-2*s-l)*r+s*i+e}function be(t){if(f(t)){var e=t.length;if(f(t[0])){for(var n=[],a=0;e>a;a++)n.push(Yp.call(t[a]));return n}return Yp.call(t)}return t}function xe(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function we(t){var e=t[t.length-1].value;return f(e&&e[0])?2:1}function Se(t,e,n,a,i,r){var o=t._getter,s=t._setter,l="spline"===e,u=a.length;if(u){var c,d=f(a[0].value),h=!1,p=!1,v=d?we(a):0;a.sort((function(t,e){return t.time-e.time})),c=a[u-1].time;for(var g=[],m=[],y=a[0].value,_=!0,b=0;u>b;b++){g.push(a[b].time/c);var x=a[b].value;if(d&&me(x,y,v)||!d&&x===y||(_=!1),y=x,"string"==typeof x){var w=ee(x);w?(x=w,h=!0):p=!0}m.push(x)}if(r||!_){var S=m[u-1];for(b=0;u-1>b;b++)d?ge(m[b],S,v):!isNaN(m[b])||isNaN(S)||p||h||(m[b]=S);d&&ge(o(t._target,i),S,v);var I,C,k,T,O,D=0,M=0;if(h)var P=[0,0,0,0];var A=function(t,e){var n;if(0>e)n=0;else if(M>e){for(n=Math.min(D+1,u-1);n>=0&&!(g[n]<=e);n--);n=Math.min(n,u-2)}else{for(n=D;u>n&&!(g[n]>e);n++);n=Math.min(n-1,u-2)}D=n,M=e;var a=g[n+1]-g[n];if(0!==a)if(I=(e-g[n])/a,l)if(k=m[n],C=m[0===n?n:n-1],T=m[n>u-2?u-1:n+1],O=m[n>u-3?u-1:n+2],d)ye(C,k,T,O,I,I*I,I*I*I,o(t,i),v);else{if(h)r=ye(C,k,T,O,I,I*I,I*I*I,P,1),r=xe(P);else{if(p)return pe(k,T,I);r=_e(C,k,T,O,I,I*I,I*I*I)}s(t,i,r)}else if(d)ve(m[n],m[n+1],I,o(t,i),v);else{var r;if(h)ve(m[n],m[n+1],I,P,1),r=xe(P);else{if(p)return pe(m[n],m[n+1],I);r=fe(m[n],m[n+1],I)}s(t,i,r)}},L=new Zt({target:t._target,life:c,loop:t._loop,delay:t._delay,onframe:A,ondestroy:n});return e&&"spline"!==e&&(L.easing=e),L}}}function Ie(t,e,n,a,i,r,o,s){function l(){--c||r&&r()}S(a)?(r=i,i=a,a=0):w(i)?(r=i,i="linear",a=0):w(a)?(r=a,a=0):w(n)?(r=n,n=500):n||(n=500),t.stopAnimation(),Ce(t,"",t,e,n,a,s);var u=t.animators.slice(),c=u.length;c||r&&r();for(var d=0;d<u.length;d++)u[d].done(l).start(i,o)}function Ce(t,e,n,a,i,r,o){var s={},l=0;for(var u in a)a.hasOwnProperty(u)&&(null!=n[u]?I(a[u])&&!f(a[u])?Ce(t,e?e+"."+u:u,n[u],a[u],i,r,o):(o?(s[u]=n[u],ke(t,e,u,a[u])):s[u]=a[u],l++):null==a[u]||o||ke(t,e,u,a[u]));l>0&&t.animate(e,!1).when(null==i?500:i,s).delay(r||0)}function ke(t,e,n,a){if(e){var i={};i[e]={},i[e][n]=a,t.attr(i)}else t.attr(n,a)}function Te(t,e,n,a){0>n&&(t+=n,n=-n),0>a&&(e+=a,a=-a),this.x=t,this.y=e,this.width=n,this.height=a}function Oe(t){for(var e=0;t>=lv;)e|=1&t,t>>=1;return t+e}function De(t,e,n,a){var i=e+1;if(i===n)return 1;if(a(t[i++],t[e])<0){for(;n>i&&a(t[i],t[i-1])<0;)i++;Me(t,e,i)}else for(;n>i&&a(t[i],t[i-1])>=0;)i++;return i-e}function Me(t,e,n){for(n--;n>e;){var a=t[e];t[e++]=t[n],t[n--]=a}}function Pe(t,e,n,a,i){for(a===e&&a++;n>a;a++){for(var r,o=t[a],s=e,l=a;l>s;)i(o,t[r=s+l>>>1])<0?l=r:s=r+1;var u=a-s;switch(u){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;u>0;)t[s+u]=t[s+u-1],u--}t[s]=o}}function Ae(t,e,n,a,i,r){var o=0,s=0,l=1;if(r(t,e[n+i])>0){for(s=a-i;s>l&&r(t,e[n+i+l])>0;)o=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s),o+=i,l+=i}else{for(s=i+1;s>l&&r(t,e[n+i-l])<=0;)o=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}for(o++;l>o;){var c=o+(l-o>>>1);r(t,e[n+c])>0?o=c+1:l=c}return l}function Le(t,e,n,a,i,r){var o=0,s=0,l=1;if(r(t,e[n+i])<0){for(s=i+1;s>l&&r(t,e[n+i-l])<0;)o=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s);var u=o;o=i-l,l=i-u}else{for(s=a-i;s>l&&r(t,e[n+i+l])>=0;)o=l,0>=(l=1+(l<<1))&&(l=s);l>s&&(l=s),o+=i,l+=i}for(o++;l>o;){var c=o+(l-o>>>1);r(t,e[n+c])<0?l=c:o=c+1}return l}function Ee(t,e){function n(t,e){l[d]=t,u[d]=e,d+=1}function a(){for(;d>1;){var t=d-2;if(t>=1&&u[t-1]<=u[t]+u[t+1]||t>=2&&u[t-2]<=u[t]+u[t-1])u[t-1]<u[t+1]&&t--;else if(u[t]>u[t+1])break;r(t)}}function i(){for(;d>1;){var t=d-2;t>0&&u[t-1]<u[t+1]&&t--,r(t)}}function r(n){var a=l[n],i=u[n],r=l[n+1],c=u[n+1];u[n]=i+c,n===d-3&&(l[n+1]=l[n+2],u[n+1]=u[n+2]),d--;var h=Le(t[r],t,a,i,0,e);a+=h,0!=(i-=h)&&0!==(c=Ae(t[a+i-1],t,r,c,c-1,e))&&(c>=i?o(a,i,r,c):s(a,i,r,c))}function o(n,a,i,r){var o=0;for(o=0;a>o;o++)h[o]=t[n+o];var s=0,l=i,u=n;if(t[u++]=t[l++],0!=--r){if(1===a){for(o=0;r>o;o++)t[u+o]=t[l+o];return void(t[u+r]=h[s])}for(var d,f,p,v=c;;){d=0,f=0,p=!1;do{if(e(t[l],h[s])<0){if(t[u++]=t[l++],f++,d=0,0==--r){p=!0;break}}else if(t[u++]=h[s++],d++,f=0,1==--a){p=!0;break}}while(v>(d|f));if(p)break;do{if(0!==(d=Le(t[l],h,s,a,0,e))){for(o=0;d>o;o++)t[u+o]=h[s+o];if(u+=d,s+=d,1>=(a-=d)){p=!0;break}}if(t[u++]=t[l++],0==--r){p=!0;break}if(0!==(f=Ae(h[s],t,l,r,0,e))){for(o=0;f>o;o++)t[u+o]=t[l+o];if(u+=f,l+=f,0==(r-=f)){p=!0;break}}if(t[u++]=h[s++],1==--a){p=!0;break}v--}while(d>=uv||f>=uv);if(p)break;0>v&&(v=0),v+=2}if(1>(c=v)&&(c=1),1===a){for(o=0;r>o;o++)t[u+o]=t[l+o];t[u+r]=h[s]}else{if(0===a)throw new Error;for(o=0;a>o;o++)t[u+o]=h[s+o]}}else for(o=0;a>o;o++)t[u+o]=h[s+o]}function s(n,a,i,r){var o=0;for(o=0;r>o;o++)h[o]=t[i+o];var s=n+a-1,l=r-1,u=i+r-1,d=0,f=0;if(t[u--]=t[s--],0!=--a){if(1===r){for(f=1+(u-=a),d=1+(s-=a),o=a-1;o>=0;o--)t[f+o]=t[d+o];return void(t[u]=h[l])}for(var p=c;;){var v=0,g=0,m=!1;do{if(e(h[l],t[s])<0){if(t[u--]=t[s--],v++,g=0,0==--a){m=!0;break}}else if(t[u--]=h[l--],g++,v=0,1==--r){m=!0;break}}while(p>(v|g));if(m)break;do{if(0!=(v=a-Le(h[l],t,n,a,a-1,e))){for(a-=v,f=1+(u-=v),d=1+(s-=v),o=v-1;o>=0;o--)t[f+o]=t[d+o];if(0===a){m=!0;break}}if(t[u--]=h[l--],1==--r){m=!0;break}if(0!=(g=r-Ae(t[s],h,0,r,r-1,e))){for(r-=g,f=1+(u-=g),d=1+(l-=g),o=0;g>o;o++)t[f+o]=h[d+o];if(1>=r){m=!0;break}}if(t[u--]=t[s--],0==--a){m=!0;break}p--}while(v>=uv||g>=uv);if(m)break;0>p&&(p=0),p+=2}if(1>(c=p)&&(c=1),1===r){for(f=1+(u-=a),d=1+(s-=a),o=a-1;o>=0;o--)t[f+o]=t[d+o];t[u]=h[l]}else{if(0===r)throw new Error;for(d=u-(r-1),o=0;r>o;o++)t[d+o]=h[o]}}else for(d=u-(r-1),o=0;r>o;o++)t[d+o]=h[o]}var l,u,c=uv,d=0,h=[];l=[],u=[],this.mergeRuns=a,this.forceMergeRuns=i,this.pushRun=n}function je(t,e,n,a){n||(n=0),a||(a=t.length);var i=a-n;if(!(2>i)){var r=0;if(lv>i)return void Pe(t,n,a,n+(r=De(t,n,a,e)),e);var o=new Ee(t,e),s=Oe(i);do{if(s>(r=De(t,n,a,e))){var l=i;l>s&&(l=s),Pe(t,n,n+l,n+r,e),r=l}o.pushRun(n,r),o.mergeRuns(),i-=r,n+=r}while(0!==i);o.forceMergeRuns()}}function Ne(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function Ve(t,e,n){var a=null==e.x?0:e.x,i=null==e.x2?1:e.x2,r=null==e.y?0:e.y,o=null==e.y2?0:e.y2;return e.global||(a=a*n.width+n.x,i=i*n.width+n.x,r=r*n.height+n.y,o=o*n.height+n.y),a=isNaN(a)?0:a,i=isNaN(i)?1:i,r=isNaN(r)?0:r,o=isNaN(o)?0:o,t.createLinearGradient(a,r,i,o)}function Re(t,e,n){var a=n.width,i=n.height,r=Math.min(a,i),o=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(o=o*a+n.x,s=s*i+n.y,l*=r),t.createRadialGradient(o,s,0,o,s,l)}function Be(){return!1}function ze(t,e,n){var a=rp(),i=e.getWidth(),r=e.getHeight(),o=a.style;return o&&(o.position="absolute",o.left=0,o.top=0,o.width=i+"px",o.height=r+"px",a.setAttribute("data-zr-dom-id",t)),a.width=i*n,a.height=r*n,a}function Fe(t){if("string"==typeof t){var e=Sv.get(t);return e&&e.image}return t}function qe(t,e,n,a,i){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var r=Sv.get(t),o={hostEl:n,cb:a,cbPayload:i};return r?!Ze(e=r.image)&&r.pending.push(o):((e=new Image).onload=e.onerror=$e,Sv.put(t,e.__cachedImgObj={image:e,pending:[o]}),e.src=e.__zrImageSrc=t),e}return t}return e}function $e(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],a=n.cb;a&&a(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function Ze(t){return t&&t.width&&t.height}function Ge(t,e){var n=t+":"+(e=e||Ov);if(Iv[n])return Iv[n];for(var a=(t+"").split("\n"),i=0,r=0,o=a.length;o>r;r++)i=Math.max(an(a[r],e).width,i);return Cv>kv&&(Cv=0,Iv={}),Cv++,Iv[n]=i,i}function He(t,e,n,a,i,r,o,s){return o?Ue(t,e,n,a,i,r,o,s):We(t,e,n,a,i,r,s)}function We(t,e,n,a,i,r,o){var s=rn(t,e,i,r,o),l=Ge(t,e);i&&(l+=i[1]+i[3]);var u=s.outerHeight,c=new Te(Xe(0,l,n),Ye(0,u,a),l,u);return c.lineHeight=s.lineHeight,c}function Ue(t,e,n,a,i,r,o,s){var l=on(t,{rich:o,truncate:s,font:e,textAlign:n,textPadding:i,textLineHeight:r}),u=l.outerWidth,c=l.outerHeight;return new Te(Xe(0,u,n),Ye(0,c,a),u,c)}function Xe(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function Ye(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function Je(t,e,n){var a=e.textPosition,i=e.textDistance,r=n.x,o=n.y;i=i||0;var s=n.height,l=n.width,u=s/2,c="left",d="top";switch(a){case"left":r-=i,o+=u,c="right",d="middle";break;case"right":r+=i+l,o+=u,d="middle";break;case"top":r+=l/2,o-=i,c="center",d="bottom";break;case"bottom":r+=l/2,o+=s+i,c="center";break;case"inside":r+=l/2,o+=u,c="center",d="middle";break;case"insideLeft":r+=i,o+=u,d="middle";break;case"insideRight":r+=l-i,o+=u,c="right",d="middle";break;case"insideTop":r+=l/2,o+=i,c="center";break;case"insideBottom":r+=l/2,o+=s-i,c="center",d="bottom";break;case"insideTopLeft":r+=i,o+=i;break;case"insideTopRight":r+=l-i,o+=i,c="right";break;case"insideBottomLeft":r+=i,o+=s-i,d="bottom";break;case"insideBottomRight":r+=l-i,o+=s-i,c="right",d="bottom"}return(t=t||{}).x=r,t.y=o,t.textAlign=c,t.textVerticalAlign=d,t}function Ke(t,e,n,a,i){if(!e)return"";var r=(t+"").split("\n");i=Qe(e,n,a,i);for(var o=0,s=r.length;s>o;o++)r[o]=tn(r[o],i);return r.join("\n")}function Qe(t,e,n,a){(a=s({},a)).font=e,n=M(n,"..."),a.maxIterations=M(a.maxIterations,2);var i=a.minChar=M(a.minChar,0);a.cnCharWidth=Ge("国",e);var r=a.ascCharWidth=Ge("a",e);a.placeholder=M(a.placeholder,"");for(var o=t=Math.max(0,t-1),l=0;i>l&&o>=r;l++)o-=r;var u=Ge(n,e);return u>o&&(n="",u=0),o=t-u,a.ellipsis=n,a.ellipsisWidth=u,a.contentWidth=o,a.containerWidth=t,a}function tn(t,e){var n=e.containerWidth,a=e.font,i=e.contentWidth;if(!n)return"";var r=Ge(t,a);if(n>=r)return t;for(var o=0;;o++){if(i>=r||o>=e.maxIterations){t+=e.ellipsis;break}var s=0===o?en(t,i,e.ascCharWidth,e.cnCharWidth):r>0?Math.floor(t.length*i/r):0;r=Ge(t=t.substr(0,s),a)}return""===t&&(t=e.placeholder),t}function en(t,e,n,a){for(var i=0,r=0,o=t.length;o>r&&e>i;r++){var s=t.charCodeAt(r);i+=s>=0&&127>=s?n:a}return r}function nn(t){return Ge("国",t)}function an(t,e){return Dv.measureText(t,e)}function rn(t,e,n,a,i){null!=t&&(t+="");var r=M(a,nn(e)),o=t?t.split("\n"):[],s=o.length*r,l=s,u=!0;if(n&&(l+=n[0]+n[2]),t&&i){u=!1;var c=i.outerHeight,d=i.outerWidth;if(null!=c&&l>c)t="",o=[];else if(null!=d)for(var h=Qe(d-(n?n[1]+n[3]:0),e,i.ellipsis,{minChar:i.minChar,placeholder:i.placeholder}),f=0,p=o.length;p>f;f++)o[f]=tn(o[f],h)}return{lines:o,height:s,outerHeight:l,lineHeight:r,canCacheByTextString:u}}function on(t,e){var n={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return n;for(var a,i=Tv.lastIndex=0;null!=(a=Tv.exec(t));){var r=a.index;r>i&&sn(n,t.substring(i,r)),sn(n,a[2],a[1]),i=Tv.lastIndex}i<t.length&&sn(n,t.substring(i,t.length));var o=n.lines,s=0,l=0,u=[],c=e.textPadding,d=e.truncate,h=d&&d.outerWidth,f=d&&d.outerHeight;c&&(null!=h&&(h-=c[1]+c[3]),null!=f&&(f-=c[0]+c[2]));for(var p=0;p<o.length;p++){for(var v=o[p],g=0,m=0,y=0;y<v.tokens.length;y++){var _=(D=v.tokens[y]).styleName&&e.rich[D.styleName]||{},b=D.textPadding=_.textPadding,x=D.font=_.font||e.font,w=D.textHeight=M(_.textHeight,nn(x));if(b&&(w+=b[0]+b[2]),D.height=w,D.lineHeight=P(_.textLineHeight,e.textLineHeight,w),D.textAlign=_&&_.textAlign||e.textAlign,D.textVerticalAlign=_&&_.textVerticalAlign||"middle",null!=f&&s+D.lineHeight>f)return{lines:[],width:0,height:0};D.textWidth=Ge(D.text,x);var S=_.textWidth,I=null==S||"auto"===S;if("string"==typeof S&&"%"===S.charAt(S.length-1))D.percentWidth=S,u.push(D),S=0;else{if(I){S=D.textWidth;var C=_.textBackgroundColor,k=C&&C.image;k&&Ze(k=Fe(k))&&(S=Math.max(S,k.width*w/k.height))}var T=b?b[1]+b[3]:0;S+=T;var O=null!=h?h-m:null;null!=O&&S>O&&(!I||T>O?(D.text="",D.textWidth=S=0):(D.text=Ke(D.text,O-T,x,d.ellipsis,{minChar:d.minChar}),D.textWidth=Ge(D.text,x),S=D.textWidth+T))}m+=D.width=S,_&&(g=Math.max(g,D.lineHeight))}v.width=m,v.lineHeight=g,s+=g,l=Math.max(l,m)}for(n.outerWidth=n.width=M(e.textWidth,l),n.outerHeight=n.height=M(e.textHeight,s),c&&(n.outerWidth+=c[1]+c[3],n.outerHeight+=c[0]+c[2]),p=0;p<u.length;p++){var D,A=(D=u[p]).percentWidth;D.width=parseInt(A,10)/100*l}return n}function sn(t,e,n){for(var a=""===e,i=e.split("\n"),r=t.lines,o=0;o<i.length;o++){var s=i[o],l={styleName:n,text:s,isLineHolder:!s&&!a};if(o)r.push({tokens:[l]});else{var u=(r[r.length-1]||(r[0]={tokens:[]})).tokens,c=u.length;1===c&&u[0].isLineHolder?u[0]=l:(s||!c||a)&&u.push(l)}}}function ln(t){var e=(t.fontSize||t.fontFamily)&&[t.fontStyle,t.fontWeight,(t.fontSize||12)+"px",t.fontFamily||"sans-serif"].join(" ");return e&&j(e)||t.textFont||t.font}function un(t,e){var n,a,i,r,o,s=e.x,l=e.y,u=e.width,c=e.height,d=e.r;0>u&&(s+=u,u=-u),0>c&&(l+=c,c=-c),"number"==typeof d?n=a=i=r=d:d instanceof Array?1===d.length?n=a=i=r=d[0]:2===d.length?(n=i=d[0],a=r=d[1]):3===d.length?(n=d[0],a=r=d[1],i=d[2]):(n=d[0],a=d[1],i=d[2],r=d[3]):n=a=i=r=0,n+a>u&&(n*=u/(o=n+a),a*=u/o),i+r>u&&(i*=u/(o=i+r),r*=u/o),a+i>c&&(a*=c/(o=a+i),i*=c/o),n+r>c&&(n*=c/(o=n+r),r*=c/o),t.moveTo(s+n,l),t.lineTo(s+u-a,l),0!==a&&t.arc(s+u-a,l+a,a,-Math.PI/2,0),t.lineTo(s+u,l+c-i),0!==i&&t.arc(s+u-i,l+c-i,i,0,Math.PI/2),t.lineTo(s+r,l+c),0!==r&&t.arc(s+r,l+c-r,r,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}function cn(t){return dn(t),p(t.rich,dn),t}function dn(t){if(t){t.font=ln(t);var e=t.textAlign;"middle"===e&&(e="center"),t.textAlign=null==e||Pv[e]?e:"left";var n=t.textVerticalAlign||t.textBaseline;"center"===n&&(n="middle"),t.textVerticalAlign=null==n||Av[n]?n:"top",t.textPadding&&(t.textPadding=L(t.textPadding))}}function hn(t,e,n,a,i,r){a.rich?pn(t,e,n,a,i,r):fn(t,e,n,a,i,r)}function fn(t,e,n,a,i,r){var o,s=yn(a),l=!1,u=e.__attrCachedBy===fv.PLAIN_TEXT;r!==pv?(r&&(o=r.style,l=!s&&u&&o),e.__attrCachedBy=s?fv.NONE:fv.PLAIN_TEXT):u&&(e.__attrCachedBy=fv.NONE);var c=a.font||Mv;l&&c===(o.font||Mv)||(e.font=c);var d=t.__computedFont;t.__styleFont!==c&&(t.__styleFont=c,d=t.__computedFont=e.font);var h=a.textPadding,f=a.textLineHeight,p=t.__textCotentBlock;(!p||t.__dirtyText)&&(p=t.__textCotentBlock=rn(n,d,h,f,a.truncate));var v=p.outerHeight,g=p.lines,m=p.lineHeight,y=xn(jv,t,a,i),_=y.baseX,b=y.baseY,x=y.textAlign||"left",w=y.textVerticalAlign;gn(e,a,i,_,b);var S=Ye(b,v,w),I=_,C=S;if(s||h){var k=Ge(n,d);h&&(k+=h[1]+h[3]);var T=Xe(_,k,x);s&&_n(t,e,a,T,S,k,v),h&&(I=kn(_,x,h),C+=h[0])}e.textAlign=x,e.textBaseline="middle",e.globalAlpha=a.opacity||1;for(var O=0;O<Lv.length;O++){var D=Lv[O],M=D[0],P=D[1],A=a[M];l&&A===o[M]||(e[P]=hv(e,P,A||D[2]))}C+=m/2;var L=a.textStrokeWidth,E=l?o.textStrokeWidth:null,j=!l||L!==E,N=!l||j||a.textStroke!==o.textStroke,V=Sn(a.textStroke,L),R=In(a.textFill);if(V&&(j&&(e.lineWidth=L),N&&(e.strokeStyle=V)),R&&(l&&a.textFill===o.textFill||(e.fillStyle=R)),1===g.length)V&&e.strokeText(g[0],I,C),R&&e.fillText(g[0],I,C);else for(O=0;O<g.length;O++)V&&e.strokeText(g[O],I,C),R&&e.fillText(g[O],I,C),C+=m}function pn(t,e,n,a,i,r){r!==pv&&(e.__attrCachedBy=fv.NONE);var o=t.__textCotentBlock;(!o||t.__dirtyText)&&(o=t.__textCotentBlock=on(n,a)),vn(t,e,o,a,i)}function vn(t,e,n,a,i){var r=n.width,o=n.outerWidth,s=n.outerHeight,l=a.textPadding,u=xn(jv,t,a,i),c=u.baseX,d=u.baseY,h=u.textAlign,f=u.textVerticalAlign;gn(e,a,i,c,d);var p=Xe(c,o,h),v=Ye(d,s,f),g=p,m=v;l&&(g+=l[3],m+=l[0]);var y=g+r;yn(a)&&_n(t,e,a,p,v,o,s);for(var _=0;_<n.lines.length;_++){for(var b,x=n.lines[_],w=x.tokens,S=w.length,I=x.lineHeight,C=x.width,k=0,T=g,O=y,D=S-1;S>k&&(!(b=w[k]).textAlign||"left"===b.textAlign);)mn(t,e,b,a,I,m,T,"left"),C-=b.width,T+=b.width,k++;for(;D>=0&&"right"===(b=w[D]).textAlign;)mn(t,e,b,a,I,m,O,"right"),C-=b.width,O-=b.width,D--;for(T+=(r-(T-g)-(y-O)-C)/2;D>=k;)mn(t,e,b=w[k],a,I,m,T+b.width/2,"center"),T+=b.width,k++;m+=I}}function gn(t,e,n,a,i){if(n&&e.textRotation){var r=e.textOrigin;"center"===r?(a=n.width/2+n.x,i=n.height/2+n.y):r&&(a=r[0]+n.x,i=r[1]+n.y),t.translate(a,i),t.rotate(-e.textRotation),t.translate(-a,-i)}}function mn(t,e,n,a,i,r,o,s){var l=a.rich[n.styleName]||{};l.text=n.text;var u=n.textVerticalAlign,c=r+i/2;"top"===u?c=r+n.height/2:"bottom"===u&&(c=r+i-n.height/2),!n.isLineHolder&&yn(l)&&_n(t,e,l,"right"===s?o-n.width:"center"===s?o-n.width/2:o,c-n.height/2,n.width,n.height);var d=n.textPadding;d&&(o=kn(o,s,d),c-=n.height/2-d[2]-n.textHeight/2),wn(e,"shadowBlur",P(l.textShadowBlur,a.textShadowBlur,0)),wn(e,"shadowColor",l.textShadowColor||a.textShadowColor||"transparent"),wn(e,"shadowOffsetX",P(l.textShadowOffsetX,a.textShadowOffsetX,0)),wn(e,"shadowOffsetY",P(l.textShadowOffsetY,a.textShadowOffsetY,0)),wn(e,"textAlign",s),wn(e,"textBaseline","middle"),wn(e,"font",n.font||Mv);var h=Sn(l.textStroke||a.textStroke,p),f=In(l.textFill||a.textFill),p=M(l.textStrokeWidth,a.textStrokeWidth);h&&(wn(e,"lineWidth",p),wn(e,"strokeStyle",h),e.strokeText(n.text,o,c)),f&&(wn(e,"fillStyle",f),e.fillText(n.text,o,c))}function yn(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function _n(t,e,n,a,i,r,o){var s=n.textBackgroundColor,l=n.textBorderWidth,u=n.textBorderColor,c=S(s);if(wn(e,"shadowBlur",n.textBoxShadowBlur||0),wn(e,"shadowColor",n.textBoxShadowColor||"transparent"),wn(e,"shadowOffsetX",n.textBoxShadowOffsetX||0),wn(e,"shadowOffsetY",n.textBoxShadowOffsetY||0),c||l&&u){e.beginPath();var d=n.textBorderRadius;d?un(e,{x:a,y:i,width:r,height:o,r:d}):e.rect(a,i,r,o),e.closePath()}if(c)if(wn(e,"fillStyle",s),null!=n.fillOpacity){var h=e.globalAlpha;e.globalAlpha=n.fillOpacity*n.opacity,e.fill(),e.globalAlpha=h}else e.fill();else if(I(s)){var f=s.image;(f=qe(f,null,t,bn,s))&&Ze(f)&&e.drawImage(f,a,i,r,o)}l&&u&&(wn(e,"lineWidth",l),wn(e,"strokeStyle",u),null!=n.strokeOpacity?(h=e.globalAlpha,e.globalAlpha=n.strokeOpacity*n.opacity,e.stroke(),e.globalAlpha=h):e.stroke())}function bn(t,e){e.image=t}function xn(t,e,n,a){var i=n.x||0,r=n.y||0,o=n.textAlign,s=n.textVerticalAlign;if(a){var l=n.textPosition;if(l instanceof Array)i=a.x+Cn(l[0],a.width),r=a.y+Cn(l[1],a.height);else{var u=e&&e.calculateTextPosition?e.calculateTextPosition(Ev,n,a):Je(Ev,n,a);i=u.x,r=u.y,o=o||u.textAlign,s=s||u.textVerticalAlign}var c=n.textOffset;c&&(i+=c[0],r+=c[1])}return(t=t||{}).baseX=i,t.baseY=r,t.textAlign=o,t.textVerticalAlign=s,t}function wn(t,e,n){return t[e]=hv(t,e,n),t[e]}function Sn(t,e){return null==t||0>=e||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function In(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function Cn(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function kn(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function Tn(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}function On(t){for(var e in t=t||{},av.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new gv(t.style,this),this._rect=null,this.__clipPaths=null}function Dn(t){On.call(this,t)}function Mn(t){return parseInt(t,10)}function Pn(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}function An(t,e,n){return qv.copy(t.getBoundingRect()),t.transform&&qv.applyTransform(t.transform),$v.width=e,$v.height=n,!qv.intersect($v)}function Ln(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function En(t,e){for(var n=0;n<t.length;n++){var a=t[n];a.setTransform(e),e.beginPath(),a.buildPath(e,a.shape),e.clip(),a.restoreTransform(e)}}function jn(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}function Nn(t){return"mousewheel"===t&&Uf.browser.firefox?"DOMMouseScroll":t}function Vn(t){var e=t.pointerType;return"pen"===e||"touch"===e}function Rn(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}function Bn(t){t&&(t.zrByTouch=!0)}function zn(t,e){return St(t.dom,new qn(t,e),!0)}function Fn(t,e){for(var n=e,a=!1;n&&9!==n.nodeType&&!(a=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return a}function qn(t,e){this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}function $n(t,e){var n=e.domHandlers;Uf.pointerEventsSupported?p(Uv.pointer,(function(a){Gn(e,a,(function(e){n[a].call(t,e)}))})):(Uf.touchEventsSupported&&p(Uv.touch,(function(a){Gn(e,a,(function(i){n[a].call(t,i),Rn(e)}))})),p(Uv.mouse,(function(a){Gn(e,a,(function(i){i=wt(i),e.touching||n[a].call(t,i)}))})))}function Zn(t,e){function n(n){function a(a){a=wt(a),Fn(t,a.target)||(a=zn(t,a),e.domHandlers[n].call(t,a))}Gn(e,n,a,{capture:!0})}Uf.pointerEventsSupported?p(Xv.pointer,n):Uf.touchEventsSupported||p(Xv.mouse,n)}function Gn(t,e,n,a){t.mounted[e]=n,t.listenerOpts[e]=a,It(t.domTarget,Nn(e),n,a)}function Hn(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&Ct(t.domTarget,Nn(n),e[n],t.listenerOpts[n]);t.mounted={}}function Wn(t,e){if(t._mayPointerCapture=null,Wv&&t._pointerCapturing^e){t._pointerCapturing=e;var n=t._globalHandlerScope;e?Zn(t,n):Hn(n)}}function Un(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function Xn(t,e){gp.call(this),this.dom=t,this.painterRoot=e,this._localHandlerScope=new Un(t,Jv),Wv&&(this._globalHandlerScope=new Un(document,Kv)),this._pointerCapturing=!1,this._mayPointerCapture=null,$n(this,this._localHandlerScope)}function Yn(t,e){var n=new ig(Wf(),t,e);return ng[n.id]=n,n}function Jn(t){if(t)t.dispose();else{for(var e in ng)ng.hasOwnProperty(e)&&ng[e].dispose();ng={}}return this}function Kn(t){return ng[t]}function Qn(t,e){eg[t]=e}function ta(t){delete ng[t]}function ea(t){return t instanceof Array?t:null==t?[]:[t]}function na(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var a=0,i=n.length;i>a;a++){var r=n[a];!t.emphasis[e].hasOwnProperty(r)&&t[e].hasOwnProperty(r)&&(t.emphasis[e][r]=t[e][r])}}}function aa(t){return!sg(t)||lg(t)||t instanceof Date?t:t.value}function ia(t){return sg(t)&&!(t instanceof Array)}function ra(t,e){e=(e||[]).slice();var n=v(t||[],(function(t){return{exist:t}}));return og(e,(function(t,a){if(sg(t)){for(var i=0;i<n.length;i++)if(!n[i].option&&null!=t.id&&n[i].exist.id===t.id+"")return n[i].option=t,void(e[a]=null);for(i=0;i<n.length;i++){var r=n[i].exist;if(!(n[i].option||null!=r.id&&null!=t.id||null==t.name||la(t)||la(r)||r.name!==t.name+""))return n[i].option=t,void(e[a]=null)}}})),og(e,(function(t){if(sg(t)){for(var e=0;e<n.length;e++){var a=n[e].exist;if(!n[e].option&&!la(a)&&null==t.id){n[e].option=t;break}}e>=n.length&&n.push({option:t})}})),n}function oa(t){var e=B();og(t,(function(t){var n=t.exist;n&&e.set(n.id,t)})),og(t,(function(t){var n=t.option;E(!n||null==n.id||!e.get(n.id)||e.get(n.id)===t,"id duplicates: "+(n&&n.id)),n&&null!=n.id&&e.set(n.id,t),!t.keyInfo&&(t.keyInfo={})})),og(t,(function(t,n){var a=t.exist,i=t.option,r=t.keyInfo;if(sg(i)){if(r.name=null!=i.name?i.name+"":a?a.name:ug+n,a)r.id=a.id;else if(null!=i.id)r.id=i.id+"";else{var o=0;do{r.id="\0"+r.name+"\0"+o++}while(e.get(r.id))}e.set(r.id,t)}}))}function sa(t){var e=t.name;return!(!e||!e.indexOf(ug))}function la(t){return sg(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function ua(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?x(e.dataIndex)?v(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?x(e.name)?v(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function ca(){var t="__\0ec_inner_"+dg+++"_"+Math.random().toFixed(5);return function(e){return e[t]||(e[t]={})}}function da(t,e,n){if(S(e)){var a={};a[e+"Index"]=0,e=a}var i=n&&n.defaultMainType;!i||ha(e,i+"Index")||ha(e,i+"Id")||ha(e,i+"Name")||(e[i+"Index"]=0);var r={};return og(e,(function(a,i){if(a=e[i],"dataIndex"!==i&&"dataIndexInside"!==i){var o=i.match(/^(\w+)(Index|Id|Name)$/)||[],s=o[1],l=(o[2]||"").toLowerCase();if(!(!s||!l||null==a||"index"===l&&"none"===a||n&&n.includeMainTypes&&c(n.includeMainTypes,s)<0)){var u={mainType:s};("index"!==l||"all"!==a)&&(u[l]=a);var d=t.queryComponents(u);r[s+"Models"]=d,r[s+"Model"]=d[0]}}else r[i]=a})),r}function ha(t,e){return t&&t.hasOwnProperty(e)}function fa(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function pa(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function va(t){return"auto"===t?Uf.domSupported?"html":"richText":t||"html"}function ga(t){var e={main:"",sub:""};return t&&(t=t.split(hg),e.main=t[0]||"",e.sub=t[1]||""),e}function ma(t){E(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function ya(t,e){t.$constructor=t,t.extend=function(t){Gf&&p(e,(function(e){t[e]||console.warn("Method `"+e+"` should be implemented"+(t.type?" in "+t.type:"")+".")}));var n=this,a=function(){t.$constructor?t.$constructor.apply(this,arguments):n.apply(this,arguments)};return s(a.prototype,t),a.extend=this.extend,a.superCall=ba,a.superApply=xa,d(a,this),a.superClass=n,a}}function _a(t){var e=["__\0is_clz",pg++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,Gf&&E(!t.isInstance,'The method "is" can not be defined.'),t.isInstance=function(t){return!(!t||!t[e])}}function ba(t,e){var n=A(arguments,2);return this.superClass.prototype[e].apply(t,n)}function xa(t,e,n){return this.superClass.prototype[e].apply(t,n)}function wa(t,e){function n(t){var e=a[t.main];return e&&e[fg]||((e=a[t.main]={})[fg]=!0),e}e=e||{};var a={};if(t.registerClass=function(t,e){return e&&(ma(e),(e=ga(e)).sub?e.sub!==fg&&(n(e)[e.sub]=t):(Gf&&a[e.main]&&console.warn(e.main+" exists."),a[e.main]=t)),t},t.getClass=function(t,e,n){var i=a[t];if(i&&i[fg]&&(i=e?i[e]:null),n&&!i)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return i},t.getClassesByMainType=function(t){t=ga(t);var e=[],n=a[t.main];return n&&n[fg]?p(n,(function(t,n){n!==fg&&e.push(t)})):e.push(n),e},t.hasClass=function(t){return t=ga(t),!!a[t.main]},t.getAllClassMainTypes=function(){var t=[];return p(a,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){t=ga(t);var e=a[t.main];return e&&e[fg]},t.parseClassType=ga,e.registerWhenExtend){var i=t.extend;i&&(t.extend=function(e){var n=i.call(this,e);return t.registerClass(n,e.type)})}return t}function Sa(t){return t>-wg&&wg>t}function Ia(t){return t>wg||-wg>t}function Ca(t,e,n,a,i){var r=1-i;return r*r*(r*t+3*i*e)+i*i*(i*a+3*r*n)}function ka(t,e,n,a,i){var r=1-i;return 3*(((e-t)*r+2*(n-e)*i)*r+(a-n)*i*i)}function Ta(t,e,n,a,i,r){var o=a+3*(e-n)-t,s=3*(n-2*e+t),l=3*(e-t),u=t-i,c=s*s-3*o*l,d=s*l-9*o*u,h=l*l-3*s*u,f=0;if(Sa(c)&&Sa(d))Sa(s)?r[0]=0:(I=-l/s)>=0&&1>=I&&(r[f++]=I);else{var p=d*d-4*c*h;if(Sa(p)){var v=d/c,g=-v/2;(I=-s/o+v)>=0&&1>=I&&(r[f++]=I),g>=0&&1>=g&&(r[f++]=g)}else if(p>0){var m=xg(p),y=c*s+1.5*o*(-d+m),_=c*s+1.5*o*(-d-m);(I=(-s-((y=0>y?-bg(-y,Cg):bg(y,Cg))+(_=0>_?-bg(-_,Cg):bg(_,Cg))))/(3*o))>=0&&1>=I&&(r[f++]=I)}else{var b=(2*c*s-3*o*d)/(2*xg(c*c*c)),x=Math.acos(b)/3,w=xg(c),S=Math.cos(x),I=(-s-2*w*S)/(3*o),C=(g=(-s+w*(S+Ig*Math.sin(x)))/(3*o),(-s+w*(S-Ig*Math.sin(x)))/(3*o));I>=0&&1>=I&&(r[f++]=I),g>=0&&1>=g&&(r[f++]=g),C>=0&&1>=C&&(r[f++]=C)}}return f}function Oa(t,e,n,a,i){var r=6*n-12*e+6*t,o=9*e+3*a-3*t-9*n,s=3*e-3*t,l=0;if(Sa(o))Ia(r)&&(c=-s/r)>=0&&1>=c&&(i[l++]=c);else{var u=r*r-4*o*s;if(Sa(u))i[0]=-r/(2*o);else if(u>0){var c,d=xg(u),h=(-r-d)/(2*o);(c=(-r+d)/(2*o))>=0&&1>=c&&(i[l++]=c),h>=0&&1>=h&&(i[l++]=h)}}return l}function Da(t,e,n,a,i,r){var o=(e-t)*i+t,s=(n-e)*i+e,l=(a-n)*i+n,u=(s-o)*i+o,c=(l-s)*i+s,d=(c-u)*i+u;r[0]=t,r[1]=o,r[2]=u,r[3]=d,r[4]=d,r[5]=c,r[6]=l,r[7]=a}function Ma(t,e,n,a,i,r,o,s,l,u,c){var d,h,f,p,v,g=.005,m=1/0;kg[0]=l,kg[1]=u;for(var y=0;1>y;y+=.05)Tg[0]=Ca(t,n,i,o,y),Tg[1]=Ca(e,a,r,s,y),m>(p=fp(kg,Tg))&&(d=y,m=p);m=1/0;for(var _=0;32>_&&!(Sg>g);_++)h=d-g,f=d+g,Tg[0]=Ca(t,n,i,o,h),Tg[1]=Ca(e,a,r,s,h),p=fp(Tg,kg),h>=0&&m>p?(d=h,m=p):(Og[0]=Ca(t,n,i,o,f),Og[1]=Ca(e,a,r,s,f),v=fp(Og,kg),1>=f&&m>v?(d=f,m=v):g*=.5);return c&&(c[0]=Ca(t,n,i,o,d),c[1]=Ca(e,a,r,s,d)),xg(m)}function Pa(t,e,n,a){var i=1-a;return i*(i*t+2*a*e)+a*a*n}function Aa(t,e,n,a){return 2*((1-a)*(e-t)+a*(n-e))}function La(t,e,n,a,i){var r=t-2*e+n,o=2*(e-t),s=t-a,l=0;if(Sa(r))Ia(o)&&(c=-s/o)>=0&&1>=c&&(i[l++]=c);else{var u=o*o-4*r*s;if(Sa(u))(c=-o/(2*r))>=0&&1>=c&&(i[l++]=c);else if(u>0){var c,d=xg(u),h=(-o-d)/(2*r);(c=(-o+d)/(2*r))>=0&&1>=c&&(i[l++]=c),h>=0&&1>=h&&(i[l++]=h)}}return l}function Ea(t,e,n){var a=t+n-2*e;return 0===a?.5:(t-e)/a}function ja(t,e,n,a,i){var r=(e-t)*a+t,o=(n-e)*a+e,s=(o-r)*a+r;i[0]=t,i[1]=r,i[2]=s,i[3]=s,i[4]=o,i[5]=n}function Na(t,e,n,a,i,r,o,s,l){var u,c=.005,d=1/0;kg[0]=o,kg[1]=s;for(var h=0;1>h;h+=.05)Tg[0]=Pa(t,n,i,h),Tg[1]=Pa(e,a,r,h),d>(g=fp(kg,Tg))&&(u=h,d=g);d=1/0;for(var f=0;32>f&&!(Sg>c);f++){var p=u-c,v=u+c;Tg[0]=Pa(t,n,i,p),Tg[1]=Pa(e,a,r,p);var g=fp(Tg,kg);if(p>=0&&d>g)u=p,d=g;else{Og[0]=Pa(t,n,i,v),Og[1]=Pa(e,a,r,v);var m=fp(Og,kg);1>=v&&d>m?(u=v,d=m):c*=.5}}return l&&(l[0]=Pa(t,n,i,u),l[1]=Pa(e,a,r,u)),xg(d)}function Va(t,e,n){if(0!==t.length){var a,i=t[0],r=i[0],o=i[0],s=i[1],l=i[1];for(a=1;a<t.length;a++)i=t[a],r=Dg(r,i[0]),o=Mg(o,i[0]),s=Dg(s,i[1]),l=Mg(l,i[1]);e[0]=r,e[1]=s,n[0]=o,n[1]=l}}function Ra(t,e,n,a,i,r){i[0]=Dg(t,n),i[1]=Dg(e,a),r[0]=Mg(t,n),r[1]=Mg(e,a)}function Ba(t,e,n,a,i,r,o,s,l,u){var c,d=Oa,h=Ca,f=d(t,n,i,o,Vg);for(l[0]=1/0,l[1]=1/0,u[0]=-1/0,u[1]=-1/0,c=0;f>c;c++){var p=h(t,n,i,o,Vg[c]);l[0]=Dg(p,l[0]),u[0]=Mg(p,u[0])}for(f=d(e,a,r,s,Rg),c=0;f>c;c++){var v=h(e,a,r,s,Rg[c]);l[1]=Dg(v,l[1]),u[1]=Mg(v,u[1])}l[0]=Dg(t,l[0]),u[0]=Mg(t,u[0]),l[0]=Dg(o,l[0]),u[0]=Mg(o,u[0]),l[1]=Dg(e,l[1]),u[1]=Mg(e,u[1]),l[1]=Dg(s,l[1]),u[1]=Mg(s,u[1])}function za(t,e,n,a,i,r,o,s){var l=Ea,u=Pa,c=Mg(Dg(l(t,n,i),1),0),d=Mg(Dg(l(e,a,r),1),0),h=u(t,n,i,c),f=u(e,a,r,d);o[0]=Dg(t,i,h),o[1]=Dg(e,r,f),s[0]=Mg(t,i,h),s[1]=Mg(e,r,f)}function Fa(t,e,n,a,i,r,o,s,l){var u=st,c=lt,d=Math.abs(i-r);if(1e-4>d%Lg&&d>1e-4)return s[0]=t-n,s[1]=e-a,l[0]=t+n,void(l[1]=e+a);if(Eg[0]=Ag(i)*n+t,Eg[1]=Pg(i)*a+e,jg[0]=Ag(r)*n+t,jg[1]=Pg(r)*a+e,u(s,Eg,jg),c(l,Eg,jg),0>(i%=Lg)&&(i+=Lg),0>(r%=Lg)&&(r+=Lg),i>r&&!o?r+=Lg:r>i&&o&&(i+=Lg),o){var h=r;r=i,i=h}for(var f=0;r>f;f+=Math.PI/2)f>i&&(Ng[0]=Ag(f)*n+t,Ng[1]=Pg(f)*a+e,u(s,Ng,s),c(l,Ng,l))}function qa(t,e,n,a,i,r,o){if(0===i)return!1;var s=i,l=0;if(o>e+s&&o>a+s||e-s>o&&a-s>o||r>t+s&&r>n+s||t-s>r&&n-s>r)return!1;if(t===n)return Math.abs(r-t)<=s/2;var u=(l=(e-a)/(t-n))*r-o+(t*a-n*e)/(t-n);return s/2*s/2>=u*u/(l*l+1)}function $a(t,e,n,a,i,r,o,s,l,u,c){return 0!==l&&(!(c>e+l&&c>a+l&&c>r+l&&c>s+l||e-l>c&&a-l>c&&r-l>c&&s-l>c||u>t+l&&u>n+l&&u>i+l&&u>o+l||t-l>u&&n-l>u&&i-l>u&&o-l>u)&&l/2>=Ma(t,e,n,a,i,r,o,s,u,c,null))}function Za(t,e,n,a,i,r,o,s,l){return 0!==o&&(!(l>e+o&&l>a+o&&l>r+o||e-o>l&&a-o>l&&r-o>l||s>t+o&&s>n+o&&s>i+o||t-o>s&&n-o>s&&i-o>s)&&o/2>=Na(t,e,n,a,i,r,s,l,null))}function Ga(t){return 0>(t%=Kg)&&(t+=Kg),t}function Ha(t,e,n,a,i,r,o,s,l){if(0===o)return!1;var u=o;s-=t,l-=e;var c=Math.sqrt(s*s+l*l);if(c-u>n||n>c+u)return!1;if(Math.abs(a-i)%Qg<1e-4)return!0;if(r){var d=a;a=Ga(i),i=Ga(d)}else a=Ga(a),i=Ga(i);a>i&&(i+=Qg);var h=Math.atan2(l,s);return 0>h&&(h+=Qg),h>=a&&i>=h||h+Qg>=a&&i>=h+Qg}function Wa(t,e,n,a,i,r){if(r>e&&r>a||e>r&&a>r)return 0;if(a===e)return 0;var o=e>a?1:-1,s=(r-e)/(a-e);(1===s||0===s)&&(o=e>a?.5:-.5);var l=s*(n-t)+t;return l===i?1/0:l>i?o:0}function Ua(t,e){return Math.abs(t-e)<nm}function Xa(){var t=im[0];im[0]=im[1],im[1]=t}function Ya(t,e,n,a,i,r,o,s,l,u){if(u>e&&u>a&&u>r&&u>s||e>u&&a>u&&r>u&&s>u)return 0;var c=Ta(e,a,r,s,u,am);if(0===c)return 0;for(var d,h,f=0,p=-1,v=0;c>v;v++){var g=am[v],m=0===g||1===g?.5:1;l>Ca(t,n,i,o,g)||(0>p&&(p=Oa(e,a,r,s,im),im[1]<im[0]&&p>1&&Xa(),d=Ca(e,a,r,s,im[0]),p>1&&(h=Ca(e,a,r,s,im[1]))),f+=2===p?g<im[0]?e>d?m:-m:g<im[1]?d>h?m:-m:h>s?m:-m:g<im[0]?e>d?m:-m:d>s?m:-m)}return f}function Ja(t,e,n,a,i,r,o,s){if(s>e&&s>a&&s>r||e>s&&a>s&&r>s)return 0;var l=La(e,a,r,s,am);if(0===l)return 0;var u=Ea(e,a,r);if(u>=0&&1>=u){for(var c=0,d=Pa(e,a,r,u),h=0;l>h;h++){var f=0===am[h]||1===am[h]?.5:1;o>Pa(t,n,i,am[h])||(c+=am[h]<u?e>d?f:-f:d>r?f:-f)}return c}return f=0===am[0]||1===am[0]?.5:1,o>Pa(t,n,i,am[0])?0:e>r?f:-f}function Ka(t,e,n,a,i,r,o,s){if((s-=e)>n||-n>s)return 0;var l=Math.sqrt(n*n-s*s);am[0]=-l,am[1]=l;var u=Math.abs(a-i);if(1e-4>u)return 0;if(1e-4>u%em){a=0,i=em;var c=r?1:-1;return o>=am[0]+t&&o<=am[1]+t?c:0}r?(l=a,a=Ga(i),i=Ga(l)):(a=Ga(a),i=Ga(i)),a>i&&(i+=em);for(var d=0,h=0;2>h;h++){var f=am[h];if(f+t>o){var p=Math.atan2(s,f);c=r?1:-1,0>p&&(p=em+p),(p>=a&&i>=p||p+em>=a&&i>=p+em)&&(p>Math.PI/2&&p<1.5*Math.PI&&(c=-c),d+=c)}}return d}function Qa(t,e,n,a,i){for(var r=0,o=0,s=0,l=0,u=0,c=0;c<t.length;){var d=t[c++];switch(d===tm.M&&c>1&&(n||(r+=Wa(o,s,l,u,a,i))),1===c&&(l=o=t[c],u=s=t[c+1]),d){case tm.M:o=l=t[c++],s=u=t[c++];break;case tm.L:if(n){if(qa(o,s,t[c],t[c+1],e,a,i))return!0}else r+=Wa(o,s,t[c],t[c+1],a,i)||0;o=t[c++],s=t[c++];break;case tm.C:if(n){if($a(o,s,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],e,a,i))return!0}else r+=Ya(o,s,t[c++],t[c++],t[c++],t[c++],t[c],t[c+1],a,i)||0;o=t[c++],s=t[c++];break;case tm.Q:if(n){if(Za(o,s,t[c++],t[c++],t[c],t[c+1],e,a,i))return!0}else r+=Ja(o,s,t[c++],t[c++],t[c],t[c+1],a,i)||0;o=t[c++],s=t[c++];break;case tm.A:var h=t[c++],f=t[c++],p=t[c++],v=t[c++],g=t[c++],m=t[c++];c+=1;var y=1-t[c++],_=Math.cos(g)*p+h,b=Math.sin(g)*v+f;c>1?r+=Wa(o,s,_,b,a,i):(l=_,u=b);var x=(a-h)*v/p+h;if(n){if(Ha(h,f,v,g,g+m,y,e,x,i))return!0}else r+=Ka(h,f,v,g,g+m,y,x,i);o=Math.cos(g+m)*p+h,s=Math.sin(g+m)*v+f;break;case tm.R:if(l=o=t[c++],u=s=t[c++],_=l+t[c++],b=u+t[c++],n){if(qa(l,u,_,u,e,a,i)||qa(_,u,_,b,e,a,i)||qa(_,b,l,b,e,a,i)||qa(l,b,l,u,e,a,i))return!0}else r+=Wa(_,u,_,b,a,i),r+=Wa(l,b,l,u,a,i);break;case tm.Z:if(n){if(qa(o,s,l,u,e,a,i))return!0}else r+=Wa(o,s,l,u,a,i);o=l,s=u}}return n||Ua(s,u)||(r+=Wa(o,s,l,u,a,i)||0),0!==r}function ti(t,e,n){return Qa(t,0,!1,e,n)}function ei(t,e,n,a){return Qa(t,e,!0,n,a)}function ni(t){On.call(this,t),this.path=null}function ai(t,e,n,a,i,r,o,s,l,u,c){var d=l*(gm/180),h=vm(d)*(t-n)/2+pm(d)*(e-a)/2,f=-1*pm(d)*(t-n)/2+vm(d)*(e-a)/2,p=h*h/(o*o)+f*f/(s*s);p>1&&(o*=fm(p),s*=fm(p));var v=(i===r?-1:1)*fm((o*o*s*s-o*o*f*f-s*s*h*h)/(o*o*f*f+s*s*h*h))||0,g=v*o*f/s,m=v*-s*h/o,y=(t+n)/2+vm(d)*g-pm(d)*m,_=(e+a)/2+pm(d)*g+vm(d)*m,b=_m([1,0],[(h-g)/o,(f-m)/s]),x=[(h-g)/o,(f-m)/s],w=[(-1*h-g)/o,(-1*f-m)/s],S=_m(x,w);ym(x,w)<=-1&&(S=gm),ym(x,w)>=1&&(S=0),0===r&&S>0&&(S-=2*gm),1===r&&0>S&&(S+=2*gm),c.addData(u,y,_,o,s,b,S,d,r)}function ii(t){if(!t)return new Jg;for(var e,n=0,a=0,i=n,r=a,o=new Jg,s=Jg.CMD,l=t.match(bm),u=0;u<l.length;u++){for(var c,d=l[u],h=d.charAt(0),f=d.match(xm)||[],p=f.length,v=0;p>v;v++)f[v]=parseFloat(f[v]);for(var g=0;p>g;){var m,y,_,b,x,w,S,I=n,C=a;switch(h){case"l":n+=f[g++],a+=f[g++],c=s.L,o.addData(c,n,a);break;case"L":n=f[g++],a=f[g++],c=s.L,o.addData(c,n,a);break;case"m":n+=f[g++],a+=f[g++],c=s.M,o.addData(c,n,a),i=n,r=a,h="l";break;case"M":n=f[g++],a=f[g++],c=s.M,o.addData(c,n,a),i=n,r=a,h="L";break;case"h":n+=f[g++],c=s.L,o.addData(c,n,a);break;case"H":n=f[g++],c=s.L,o.addData(c,n,a);break;case"v":a+=f[g++],c=s.L,o.addData(c,n,a);break;case"V":a=f[g++],c=s.L,o.addData(c,n,a);break;case"C":c=s.C,o.addData(c,f[g++],f[g++],f[g++],f[g++],f[g++],f[g++]),n=f[g-2],a=f[g-1];break;case"c":c=s.C,o.addData(c,f[g++]+n,f[g++]+a,f[g++]+n,f[g++]+a,f[g++]+n,f[g++]+a),n+=f[g-2],a+=f[g-1];break;case"S":m=n,y=a;var k=o.len(),T=o.data;e===s.C&&(m+=n-T[k-4],y+=a-T[k-3]),c=s.C,I=f[g++],C=f[g++],n=f[g++],a=f[g++],o.addData(c,m,y,I,C,n,a);break;case"s":m=n,y=a,k=o.len(),T=o.data,e===s.C&&(m+=n-T[k-4],y+=a-T[k-3]),c=s.C,I=n+f[g++],C=a+f[g++],n+=f[g++],a+=f[g++],o.addData(c,m,y,I,C,n,a);break;case"Q":I=f[g++],C=f[g++],n=f[g++],a=f[g++],c=s.Q,o.addData(c,I,C,n,a);break;case"q":I=f[g++]+n,C=f[g++]+a,n+=f[g++],a+=f[g++],c=s.Q,o.addData(c,I,C,n,a);break;case"T":m=n,y=a,k=o.len(),T=o.data,e===s.Q&&(m+=n-T[k-4],y+=a-T[k-3]),n=f[g++],a=f[g++],c=s.Q,o.addData(c,m,y,n,a);break;case"t":m=n,y=a,k=o.len(),T=o.data,e===s.Q&&(m+=n-T[k-4],y+=a-T[k-3]),n+=f[g++],a+=f[g++],c=s.Q,o.addData(c,m,y,n,a);break;case"A":_=f[g++],b=f[g++],x=f[g++],w=f[g++],S=f[g++],ai(I=n,C=a,n=f[g++],a=f[g++],w,S,_,b,x,c=s.A,o);break;case"a":_=f[g++],b=f[g++],x=f[g++],w=f[g++],S=f[g++],ai(I=n,C=a,n+=f[g++],a+=f[g++],w,S,_,b,x,c=s.A,o)}}("z"===h||"Z"===h)&&(c=s.Z,o.addData(c),n=i,a=r),e=c}return o.toStatic(),o}function ri(t,e){var n=ii(t);return(e=e||{}).buildPath=function(t){if(t.setData)t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e);else{var e=t;n.rebuildPath(e)}},e.applyTransform=function(t){hm(n,t),this.dirty(!0)},e}function oi(t,e){return new ni(ri(t,e))}function si(t,e){return ni.extend(ri(t,e))}function li(t,e){for(var n=[],a=t.length,i=0;a>i;i++){var r=t[i];r.path||r.createPathProxy(),r.__dirtyPath&&r.buildPath(r.path,r.shape,!0),n.push(r.path)}var o=new ni(e);return o.createPathProxy(),o.buildPath=function(t){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e)},o}function ui(t,e,n,a,i,r,o){var s=.5*(n-t),l=.5*(a-e);return(2*(e-n)+s+l)*o+(-3*(e-n)-2*s-l)*r+s*i+e}function ci(t,e,n){var a=e.points,i=e.smooth;if(a&&a.length>=2){if(i&&"spline"!==i){var r=Dm(a,i,n,e.smoothConstraint);t.moveTo(a[0][0],a[0][1]);for(var o=a.length,s=0;(n?o:o-1)>s;s++){var l=r[2*s],u=r[2*s+1],c=a[(s+1)%o];t.bezierCurveTo(l[0],l[1],u[0],u[1],c[0],c[1])}}else{"spline"===i&&(a=Om(a,n)),t.moveTo(a[0][0],a[0][1]),s=1;for(var d=a.length;d>s;s++)t.lineTo(a[s][0],a[s][1])}n&&t.closePath()}}function di(t,e,n){if(e){var a=e.x1,i=e.x2,r=e.y1,o=e.y2;t.x1=a,t.x2=i,t.y1=r,t.y2=o;var s=n&&n.lineWidth;s&&(Am(2*a)===Am(2*i)&&(t.x1=t.x2=fi(a,s,!0)),Am(2*r)===Am(2*o)&&(t.y1=t.y2=fi(r,s,!0)))}}function hi(t,e,n){if(e){var a=e.x,i=e.y,r=e.width,o=e.height;t.x=a,t.y=i,t.width=r,t.height=o;var s=n&&n.lineWidth;s&&(t.x=fi(a,s,!0),t.y=fi(i,s,!0),t.width=Math.max(fi(a+r,s,!1)-t.x,0===r?0:1),t.height=Math.max(fi(i+o,s,!1)-t.y,0===o?0:1))}}function fi(t,e,n){if(!e)return t;var a=Am(2*t);return(a+Am(e))%2==0?a/2:(a+(n?1:-1))/2}function pi(t,e,n){var a=t.cpx2,i=t.cpy2;return null===a||null===i?[(n?ka:Ca)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?ka:Ca)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?Aa:Pa)(t.x1,t.cpx1,t.x2,e),(n?Aa:Pa)(t.y1,t.cpy1,t.y2,e)]}function vi(t){On.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}function gi(t){return ni.extend(t)}function mi(t,e){return si(t,e)}function yi(t,e){ty[t]=e}function _i(t){return ty.hasOwnProperty(t)?ty[t]:void 0}function bi(t,e,n,a){var i=oi(t,e);return n&&("center"===a&&(n=wi(n,i.getBoundingRect())),Si(i,n)),i}function xi(t,e,n){var a=new Dn({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var i={width:t.width,height:t.height};a.setStyle(wi(e,i))}}});return a}function wi(t,e){var n,a=e.width/e.height,i=t.height*a;return n=i<=t.width?t.height:(i=t.width)/a,{x:t.x+t.width/2-i/2,y:t.y+t.height/2-n/2,width:i,height:n}}function Si(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function Ii(t){return di(t.shape,t.shape,t.style),t}function Ci(t){return hi(t.shape,t.shape,t.style),t}function ki(t){return null!=t&&"none"!==t}function Ti(t){if("string"!=typeof t)return t;var e=ay.get(t);return e||(e=ie(t,-.1),1e4>iy&&(ay.set(t,e),iy++)),e}function Oi(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(!e)return void(t.__cachedNormalStl=t.__cachedNormalZ2=null);var n=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var a=t.style;for(var i in e)null!=e[i]&&(n[i]=a[i]);n.fill=a.fill,n.stroke=a.stroke}}function Di(t){var e=t.__hoverStl;if(e&&!t.__highlighted){var n=t.__zr,a=t.useHoverLayer&&n&&"canvas"===n.painter.type;if(t.__highlighted=a?"layer":"plain",!(t.isGroup||!n&&t.useHoverLayer)){var i=t,r=t.style;a&&(r=(i=n.addHover(t)).style),Ki(r),a||Oi(i),r.extendFrom(e),Mi(r,e,"fill"),Mi(r,e,"stroke"),Ji(r),a||(t.dirty(!1),t.z2+=Um)}}}function Mi(t,e,n){!ki(e[n])&&ki(t[n])&&(t[n]=Ti(t[n]))}function Pi(t){var e=t.__highlighted;if(e&&(t.__highlighted=!1,!t.isGroup))if("layer"===e)t.__zr&&t.__zr.removeHover(t);else{var n=t.style,a=t.__cachedNormalStl;a&&(Ki(n),t.setStyle(a),Ji(n));var i=t.__cachedNormalZ2;null!=i&&t.z2-i===Um&&(t.z2=i)}}function Ai(t,e,n){var a,i=Jm,r=Jm;t.__highlighted&&(i=Ym,a=!0),e(t,n),t.__highlighted&&(r=Ym,a=!0),t.isGroup&&t.traverse((function(t){!t.isGroup&&e(t,n)})),a&&t.__highDownOnUpdate&&t.__highDownOnUpdate(i,r)}function Li(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,Pi(t),Di(t))}function Ei(t){!Ri(this,t)&&!this.__highByOuter&&Ai(this,Di)}function ji(t){!Ri(this,t)&&!this.__highByOuter&&Ai(this,Pi)}function Ni(t){this.__highByOuter|=1<<(t||0),Ai(this,Di)}function Vi(t){!(this.__highByOuter&=~(1<<(t||0)))&&Ai(this,Pi)}function Ri(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function Bi(t,e){zi(t,!0),Ai(t,Li,e)}function zi(t,e){var n=!1===e;if(t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,!n||t.__highDownDispatcher){var a=n?"off":"on";t[a]("mouseover",Ei)[a]("mouseout",ji),t[a]("emphasis",Ni)[a]("normal",Vi),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!n}}function Fi(t){return!(!t||!t.__highDownDispatcher)}function qi(t){var e=Qm[t];return null==e&&32>=Km&&(e=Qm[t]=Km++),e}function $i(t,e,n,a,i,r,o){var s,l=(i=i||Wm).labelFetcher,u=i.labelDataIndex,c=i.labelDimIndex,d=i.labelProp,h=n.getShallow("show"),f=a.getShallow("show");(h||f)&&(l&&(s=l.getFormattedLabel(u,"normal",null,c,d)),null==s&&(s=w(i.defaultText)?i.defaultText(u,i):i.defaultText));var p=h?s:null,v=f?M(l?l.getFormattedLabel(u,"emphasis",null,c,d):null,s):null;(null!=p||null!=v)&&(Gi(t,n,r,i),Gi(e,a,o,i,!0)),t.text=p,e.text=v}function Zi(t,e,n){var a=t.style;e&&(Ki(a),t.setStyle(e),Ji(a)),a=t.__hoverStl,n&&a&&(Ki(a),s(a,n),Ji(a))}function Gi(t,e,n,a,i){return Wi(t,e,a,i),n&&s(t,n),t}function Hi(t,e,n){var a,i={isRectText:!0};!1===n?a=!0:i.autoColor=n,Wi(t,e,i,a)}function Wi(t,e,n,a){if((n=n||Wm).isRectText){var i;n.getTextPosition?i=n.getTextPosition(e,a):"outside"===(i=e.getShallow("position")||(a?null:"inside"))&&(i="top"),t.textPosition=i,t.textOffset=e.getShallow("offset");var r=e.getShallow("rotate");null!=r&&(r*=Math.PI/180),t.textRotation=r,t.textDistance=M(e.getShallow("distance"),a?null:5)}var o,s=e.ecModel,l=s&&s.option.textStyle,u=Ui(e);if(u)for(var c in o={},u)if(u.hasOwnProperty(c)){var d=e.getModel(["rich",c]);Xi(o[c]={},d,l,n,a)}return t.rich=o,Xi(t,e,l,n,a,!0),n.forceRich&&!n.textStyle&&(n.textStyle={}),t}function Ui(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||Wm).rich;if(n)for(var a in e=e||{},n)n.hasOwnProperty(a)&&(e[a]=1);t=t.parentModel}return e}function Xi(t,e,n,a,i,r){n=!i&&n||Wm,t.textFill=Yi(e.getShallow("color"),a)||n.color,t.textStroke=Yi(e.getShallow("textBorderColor"),a)||n.textBorderColor,t.textStrokeWidth=M(e.getShallow("textBorderWidth"),n.textBorderWidth),i||(r&&(t.insideRollbackOpt=a,Ji(t)),null==t.textFill&&(t.textFill=a.autoColor)),t.fontStyle=e.getShallow("fontStyle")||n.fontStyle,t.fontWeight=e.getShallow("fontWeight")||n.fontWeight,t.fontSize=e.getShallow("fontSize")||n.fontSize,t.fontFamily=e.getShallow("fontFamily")||n.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),r&&a.disableBox||(t.textBackgroundColor=Yi(e.getShallow("backgroundColor"),a),t.textPadding=e.getShallow("padding"),t.textBorderColor=Yi(e.getShallow("borderColor"),a),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||n.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||n.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||n.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||n.textShadowOffsetY}function Yi(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function Ji(t){var e,n=t.textPosition,a=t.insideRollbackOpt;if(a&&null==t.textFill){var i=a.autoColor,r=a.isRectText,o=a.useInsideStyle,s=!1!==o&&(!0===o||r&&n&&"string"==typeof n&&n.indexOf("inside")>=0),l=!s&&null!=i;(s||l)&&(e={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),s&&(t.textFill="#fff",null==t.textStroke&&(t.textStroke=i,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),l&&(t.textFill=i)}t.insideRollback=e}function Ki(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function Qi(t,e){var n=e&&e.getModel("textStyle");return j([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}function tr(t,e,n,a,i,r){if("function"==typeof i&&(r=i,i=null),a&&a.isAnimationEnabled()){var o=t?"Update":"",s=a.getShallow("animationDuration"+o),l=a.getShallow("animationEasing"+o),u=a.getShallow("animationDelay"+o);"function"==typeof u&&(u=u(i,a.getAnimationDelayParams?a.getAnimationDelayParams(e,i):null)),"function"==typeof s&&(s=s(i)),s>0?e.animateTo(n,s,u||0,l,r,!!r):(e.stopAnimation(),e.attr(n),r&&r())}else e.stopAnimation(),e.attr(n),r&&r()}function er(t,e,n,a,i){tr(!0,t,e,n,a,i)}function nr(t,e,n,a,i){tr(!1,t,e,n,a,i)}function ar(t,e){for(var n=jt([]);t&&t!==e;)Vt(n,t.getLocalTransform(),n),t=t.parent;return n}function ir(t,e,n){return e&&!f(e)&&(e=Lp.getLocalTransform(e)),n&&(e=Ft([],e)),ot([],t,e)}function rr(t,e,n){var a=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),i=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),r=["left"===t?-a:"right"===t?a:0,"top"===t?-i:"bottom"===t?i:0];return r=ir(r,e,n),Math.abs(r[0])>Math.abs(r[1])?r[0]>0?"right":"left":r[1]>0?"bottom":"top"}function or(t,e,n){function a(t){var e={};return t.traverse((function(t){!t.isGroup&&t.anid&&(e[t.anid]=t)})),e}function i(t){var e={position:Z(t.position),rotation:t.rotation};return t.shape&&(e.shape=s({},t.shape)),e}if(t&&e){var r=a(t);e.traverse((function(t){if(!t.isGroup&&t.anid){var e=r[t.anid];if(e){var a=i(t);t.attr(i(e)),er(t,a,n,t.dataIndex)}}}))}}function sr(t,e){return v(t,(function(t){var n=t[0];n=Gm(n,e.x),n=Hm(n,e.x+e.width);var a=t[1];return a=Gm(a,e.y),[n,a=Hm(a,e.y+e.height)]}))}function lr(t,e){var n=Gm(t.x,e.x),a=Hm(t.x+t.width,e.x+e.width),i=Gm(t.y,e.y),r=Hm(t.y+t.height,e.y+e.height);return a>=n&&r>=i?{x:n,y:i,width:a-n,height:r-i}:void 0}function ur(t,e,n){var a=(e=s({rectHover:!0},e)).style={strokeNoScale:!0};return n=n||{x:-1,y:-1,width:2,height:2},t?0===t.indexOf("image://")?(a.image=t.slice(8),l(a,n),new Dn(e)):bi(t.replace("path://",""),e,n,"center"):void 0}function cr(t,e,n,a,i){for(var r=0,o=i[i.length-1];r<i.length;r++){var s=i[r];if(dr(t,e,n,a,s[0],s[1],o[0],o[1]))return!0;o=s}}function dr(t,e,n,a,i,r,o,s){var l=n-t,u=a-e,c=o-i,d=s-r,h=hr(c,d,l,u);if(fr(h))return!1;var f=t-i,p=e-r,v=hr(f,p,l,u)/h;if(0>v||v>1)return!1;var g=hr(f,p,c,d)/h;return!(0>g||g>1)}function hr(t,e,n,a){return t*a-n*e}function fr(t){return 1e-6>=t&&t>=-1e-6}function pr(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}function vr(t,e,n){for(var a=0;a<e.length&&(!e[a]||null!=(t=t&&"object"==typeof t?t[e[a]]:null));a++);return null==t&&n&&(t=n.get(e)),t}function gr(t,e){var n=dy(t).getParent;return n?n.call(t,e):t.parentModel}function mr(t){return[t||"",hy++,Math.random().toFixed(5)].join("_")}function yr(t){var e={};return t.registerSubTypeDefaulter=function(t,n){t=ga(t),e[t.main]=n},t.determineSubType=function(n,a){var i=a.type;if(!i){var r=ga(n).main;t.hasSubTypes(n)&&e[r]&&(i=e[r](a))}return i},t}function _r(t,e){function n(t){var n={},r=[];return p(t,(function(o){var s=a(n,o),l=i(s.originalDeps=e(o),t);s.entryCount=l.length,0===s.entryCount&&r.push(o),p(l,(function(t){c(s.predecessor,t)<0&&s.predecessor.push(t);var e=a(n,t);c(e.successor,t)<0&&e.successor.push(o)}))})),{graph:n,noEntryList:r}}function a(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}function i(t,e){var n=[];return p(t,(function(t){c(e,t)>=0&&n.push(t)})),n}t.topologicalTravel=function(t,e,a,i){function r(t){l[t].entryCount--,0===l[t].entryCount&&u.push(t)}function o(t){c[t]=!0,r(t)}if(t.length){var s=n(e),l=s.graph,u=s.noEntryList,c={};for(p(t,(function(t){c[t]=!0}));u.length;){var d=u.pop(),h=l[d],f=!!c[d];f&&(a.call(i,d,h.originalDeps.slice()),delete c[d]),p(h.successor,f?o:r)}p(c,(function(){throw new Error("Circle dependency may exists")}))}}}function br(t){return t.replace(/^\s+|\s+$/g,"")}function xr(t,e,n,a){var i=e[1]-e[0],r=n[1]-n[0];if(0===i)return 0===r?n[0]:(n[0]+n[1])/2;if(a)if(i>0){if(t<=e[0])return n[0];if(t>=e[1])return n[1]}else{if(t>=e[0])return n[0];if(t<=e[1])return n[1]}else{if(t===e[0])return n[0];if(t===e[1])return n[1]}return(t-e[0])/i*r+n[0]}function wr(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?br(t).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function Sr(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function Ir(t){return t.sort((function(t,e){return t-e})),t}function Cr(t){if(t=+t,isNaN(t))return 0;for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}function kr(t){var e=t.toString(),n=e.indexOf("e");if(n>0){var a=+e.slice(n+1);return 0>a?-a:0}var i=e.indexOf(".");return 0>i?0:e.length-1-i}function Tr(t,e){var n=Math.log,a=Math.LN10,i=Math.floor(n(t[1]-t[0])/a),r=Math.round(n(Math.abs(e[1]-e[0]))/a),o=Math.min(Math.max(-i+r,0),20);return isFinite(o)?o:20}function Or(t,e,n){if(!t[e])return 0;var a=g(t,(function(t,e){return t+(isNaN(e)?0:e)}),0);if(0===a)return 0;for(var i=Math.pow(10,n),r=v(t,(function(t){return(isNaN(t)?0:t)/a*i*100})),o=100*i,s=v(r,(function(t){return Math.floor(t)})),l=g(s,(function(t,e){return t+e}),0),u=v(r,(function(t,e){return t-s[e]}));o>l;){for(var c=Number.NEGATIVE_INFINITY,d=null,h=0,f=u.length;f>h;++h)u[h]>c&&(c=u[h],d=h);++s[d],u[d]=0,++l}return s[e]/i}function Dr(t){var e=2*Math.PI;return(t%e+e)%e}function Mr(t){return t>-fy&&fy>t}function Pr(t){if(t instanceof Date)return t;if("string"==typeof t){var e=vy.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}return new Date(null==t?NaN:Math.round(t))}function Ar(t){return Math.pow(10,Lr(t))}function Lr(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function Er(t,e){var n=Lr(t),a=Math.pow(10,n),i=t/a;return t=(e?1.5>i?1:2.5>i?2:4>i?3:7>i?5:10:1>i?1:2>i?2:3>i?3:5>i?5:10)*a,n>=-20?+t.toFixed(0>n?-n:0):t}function jr(t,e){var n=(t.length-1)*e+1,a=Math.floor(n),i=+t[a-1],r=n-a;return r?i+r*(t[a]-i):i}function Nr(t){function e(t,n,a){return t.interval[a]<n.interval[a]||t.interval[a]===n.interval[a]&&(t.close[a]-n.close[a]==(a?-1:1)||!a&&e(t,n,1))}t.sort((function(t,n){return e(t,n,0)?-1:1}));for(var n=-1/0,a=1,i=0;i<t.length;){for(var r=t[i].interval,o=t[i].close,s=0;2>s;s++)r[s]<=n&&(r[s]=n,o[s]=s?1:1-a),n=r[s],a=o[s];r[0]===r[1]&&o[0]*o[1]!=1?t.splice(i,1):i++}return t}function Vr(t){return t-parseFloat(t)>=0}function Rr(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function Br(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}function zr(t){return null==t?"":(t+"").replace(yy,(function(t,e){return _y[e]}))}function Fr(t,e,n){x(e)||(e=[e]);var a=e.length;if(!a)return"";for(var i=e[0].$vars||[],r=0;r<i.length;r++){var o=by[r];t=t.replace(xy(o),xy(o,0))}for(var s=0;a>s;s++)for(var l=0;l<i.length;l++){var u=e[s][i[l]];t=t.replace(xy(by[l],s),n?zr(u):u)}return t}function qr(t,e,n){return p(e,(function(e,a){t=t.replace("{"+a+"}",n?zr(e):e)})),t}function $r(t,e){var n=(t=S(t)?{color:t,extraCssText:e}:t||{}).color,a=t.type,i=(e=t.extraCssText,t.renderMode||"html"),r=t.markerId||"X";return n?"html"===i?"subItem"===a?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+zr(n)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+zr(n)+";"+(e||"")+'"></span>':{renderMode:i,content:"{marker"+r+"|}  ",style:{color:n}}:""}function Zr(t,e){return"0000".substr(0,e-(t+="").length)+t}function Gr(t,e,n){("week"===t||"month"===t||"quarter"===t||"half-year"===t||"year"===t)&&(t="MM-dd\nyyyy");var a=Pr(e),i=n?"UTC":"",r=a["get"+i+"FullYear"](),o=a["get"+i+"Month"]()+1,s=a["get"+i+"Date"](),l=a["get"+i+"Hours"](),u=a["get"+i+"Minutes"](),c=a["get"+i+"Seconds"](),d=a["get"+i+"Milliseconds"]();return t.replace("MM",Zr(o,2)).replace("M",o).replace("yyyy",r).replace("yy",r%100).replace("dd",Zr(s,2)).replace("d",s).replace("hh",Zr(l,2)).replace("h",l).replace("mm",Zr(u,2)).replace("m",u).replace("ss",Zr(c,2)).replace("s",c).replace("SSS",Zr(d,3))}function Hr(t){return t?t.charAt(0).toUpperCase()+t.substr(1):t}function Wr(t){return He(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)}function Ur(t,e,n,a,i,r,o,s){return He(t,e,n,a,i,s,r,o)}function Xr(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location=t}else window.open(t,e)}function Yr(t,e,n,a,i){var r=0,o=0;null==a&&(a=1/0),null==i&&(i=1/0);var s=0;e.eachChild((function(l,u){var c,d,h=l.position,f=l.getBoundingRect(),p=e.childAt(u+1),v=p&&p.getBoundingRect();if("horizontal"===t){var g=f.width+(v?-v.x+f.x:0);(c=r+g)>a||l.newline?(r=0,c=g,o+=s+n,s=f.height):s=Math.max(s,f.height)}else{var m=f.height+(v?-v.y+f.y:0);(d=o+m)>i||l.newline?(r+=s+n,o=0,d=m,s=f.width):s=Math.max(s,f.width)}l.newline||(h[0]=r,h[1]=o,"horizontal"===t?r=c+n:o=d+n)}))}function Jr(t,e,n){n=my(n||0);var a=e.width,i=e.height,r=wr(t.left,a),o=wr(t.top,i),s=wr(t.right,a),l=wr(t.bottom,i),u=wr(t.width,a),c=wr(t.height,i),d=n[2]+n[0],h=n[1]+n[3],f=t.aspect;switch(isNaN(u)&&(u=a-s-h-r),isNaN(c)&&(c=i-l-d-o),null!=f&&(isNaN(u)&&isNaN(c)&&(f>a/i?u=.8*a:c=.8*i),isNaN(u)&&(u=f*c),isNaN(c)&&(c=u/f)),isNaN(r)&&(r=a-s-u-h),isNaN(o)&&(o=i-l-c-d),t.left||t.right){case"center":r=a/2-u/2-n[3];break;case"right":r=a-u-h}switch(t.top||t.bottom){case"middle":case"center":o=i/2-c/2-n[0];break;case"bottom":o=i-c-d}r=r||0,o=o||0,isNaN(u)&&(u=a-h-r-(s||0)),isNaN(c)&&(c=i-d-o-(l||0));var p=new Te(r+n[3],o+n[0],u,c);return p.margin=n,p}function Kr(t,e,n,a,i){var r=!i||!i.hv||i.hv[0],o=!i||!i.hv||i.hv[1],s=i&&i.boundingMode||"all";if(r||o){var u;if("raw"===s)u="group"===t.type?new Te(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(u=t.getBoundingRect(),t.needLocalTransform()){var c=t.getLocalTransform();(u=u.clone()).applyTransform(c)}e=Jr(l({width:u.width,height:u.height},e),n,a);var d=t.position,h=r?e.x-u.x:0,f=o?e.y-u.y:0;t.attr("position","raw"===s?[h,f]:[d[0]+h,d[1]+f])}}function Qr(t,e,n){function a(n,a){var o={},l=0,u={},c=0,d=2;if(Iy(n,(function(e){u[e]=t[e]})),Iy(n,(function(t){i(e,t)&&(o[t]=u[t]=e[t]),r(o,t)&&l++,r(u,t)&&c++})),s[a])return r(e,n[1])?u[n[2]]=null:r(e,n[2])&&(u[n[1]]=null),u;if(c!==d&&l){if(l>=d)return o;for(var h=0;h<n.length;h++){var f=n[h];if(!i(o,f)&&i(t,f)){o[f]=t[f];break}}return o}return u}function i(t,e){return t.hasOwnProperty(e)}function r(t,e){return null!=t[e]&&"auto"!==t[e]}function o(t,e,n){Iy(t,(function(t){e[t]=n[t]}))}!I(n)&&(n={});var s=n.ignoreSize;!x(s)&&(s=[s,s]);var l=a(ky[0],0),u=a(ky[1],1);o(ky[0],t,l),o(ky[1],t,u)}function to(t){return eo({},t)}function eo(t,e){return e&&t&&Iy(Cy,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}function no(t){var e=[];return p(My.getClassesByMainType(t),(function(t){e=e.concat(t.prototype.dependencies||[])})),e=v(e,(function(t){return ga(t).main})),"dataset"!==t&&c(e,"dataset")<=0&&e.unshift("dataset"),e}function ao(t,e){for(var n=t.length,a=0;n>a;a++)if(t[a].length>e)return t[a];return t[n-1]}function io(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===Ry?{}:[]),this.sourceFormat=t.sourceFormat||By,this.seriesLayoutBy=t.seriesLayoutBy||Fy,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&B(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}function ro(t){var e=t.option.source,n=By;if(k(e))n=zy;else if(x(e)){0===e.length&&(n=Ny);for(var a=0,i=e.length;i>a;a++){var r=e[a];if(null!=r){if(x(r)){n=Ny;break}if(I(r)){n=Vy;break}}}}else if(I(e)){for(var o in e)if(e.hasOwnProperty(o)&&f(e[o])){n=Ry;break}}else if(null!=e)throw new Error("Invalid data");Zy(t).sourceFormat=n}function oo(t){return Zy(t).source}function so(t){Zy(t).datasetMap=B()}function lo(t){var e=t.option,n=e.data,a=k(n)?zy:jy,i=!1,r=e.seriesLayoutBy,o=e.sourceHeader,s=e.dimensions,l=go(t);if(l){var u=l.option;n=u.source,a=Zy(l).sourceFormat,i=!0,r=r||u.seriesLayoutBy,null==o&&(o=u.sourceHeader),s=s||u.dimensions}var c=uo(n,a,r,o,s);Zy(t).source=new io({data:n,fromDataset:i,seriesLayoutBy:r,sourceFormat:a,dimensionsDefine:c.dimensionsDefine,startIndex:c.startIndex,dimensionsDetectCount:c.dimensionsDetectCount,encodeDefine:e.encode})}function uo(t,e,n,a,i){if(!t)return{dimensionsDefine:co(i)};var r,o;if(e===Ny)"auto"===a||null==a?ho((function(t){null!=t&&"-"!==t&&(S(t)?null==o&&(o=1):o=0)}),n,t,10):o=a?1:0,i||1!==o||(i=[],ho((function(t,e){i[e]=null!=t?t:""}),n,t)),r=i?i.length:n===qy?t.length:t[0]?t[0].length:null;else if(e===Vy)i||(i=fo(t));else if(e===Ry)i||(i=[],p(t,(function(t,e){i.push(e)})));else if(e===jy){var s=aa(t[0]);r=x(s)&&s.length||1}else e===zy&&Gf&&E(!!i,"dimensions must be given if data is TypedArray.");return{startIndex:o,dimensionsDefine:co(i),dimensionsDetectCount:r}}function co(t){if(t){var e=B();return v(t,(function(t){if(null==(t=s({},I(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var n=e.get(t.name);return n?t.name+="-"+n.count++:e.set(t.name,{count:1}),t}))}}function ho(t,e,n,a){if(null==a&&(a=1/0),e===qy)for(var i=0;i<n.length&&a>i;i++)t(n[i]?n[i][0]:null,i);else{var r=n[0]||[];for(i=0;i<r.length&&a>i;i++)t(r[i],i)}}function fo(t){for(var e,n=0;n<t.length&&!(e=t[n++]););if(e){var a=[];return p(e,(function(t,e){a.push(e)})),a}}function po(t,e,n){function a(t,e,n){for(var a=0;n>a;a++)t.push(e+a)}function i(t){var e=t.dimsDef;return e?e.length:1}var r={},o=go(e);if(!o||!t)return r;var s,l,u=[],c=[],d=e.ecModel,h=Zy(d).datasetMap,f=o.uid+"_"+n.seriesLayoutBy;p(t=t.slice(),(function(e,n){!I(e)&&(t[n]={name:e}),"ordinal"===e.type&&null==s&&(s=n,l=i(t[n])),r[e.name]=[]}));var v=h.get(f)||h.set(f,{categoryWayDim:l,valueWayDim:0});return p(t,(function(t,e){var n=t.name,o=i(t);if(null==s){var l=v.valueWayDim;a(r[n],l,o),a(c,l,o),v.valueWayDim+=o}else s===e?(a(r[n],0,o),a(u,0,o)):(l=v.categoryWayDim,a(r[n],l,o),a(c,l,o),v.categoryWayDim+=o)})),u.length&&(r.itemName=u),c.length&&(r.seriesName=c),r}function vo(t,e,n){var a={};if(!go(t))return a;var i,r=e.sourceFormat,o=e.dimensionsDefine;(r===Vy||r===Ry)&&p(o,(function(t,e){"name"===(I(t)?t.name:t)&&(i=e)}));var s=function(){function t(t){return null!=t.v&&null!=t.n}for(var a={},s={},l=[],u=0,c=Math.min(5,n);c>u;u++){var d=yo(e.data,r,e.seriesLayoutBy,o,e.startIndex,u);l.push(d);var h=d===$y.Not;if(h&&null==a.v&&u!==i&&(a.v=u),(null==a.n||a.n===a.v||!h&&l[a.n]===$y.Not)&&(a.n=u),t(a)&&l[a.n]!==$y.Not)return a;h||(d===$y.Might&&null==s.v&&u!==i&&(s.v=u),(null==s.n||s.n===s.v)&&(s.n=u))}return t(a)?a:t(s)?s:null}();if(s){a.value=s.v;var l=null!=i?i:s.n;a.itemName=[l],a.seriesName=[l]}return a}function go(t){var e=t.option;return e.data?void 0:t.ecModel.getComponent("dataset",e.datasetIndex||0)}function mo(t,e){return yo(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}function yo(t,e,n,a,i,r){function o(t){var e=S(t);return null!=t&&isFinite(t)&&""!==t?e?$y.Might:$y.Not:e&&"-"!==t?$y.Must:void 0}var s,l,u,c=5;if(k(t))return $y.Not;if(a){var d=a[r];I(d)?(l=d.name,u=d.type):S(d)&&(l=d)}if(null!=u)return"ordinal"===u?$y.Must:$y.Not;if(e===Ny)if(n===qy){for(var h=t[r],f=0;f<(h||[]).length&&c>f;f++)if(null!=(s=o(h[i+f])))return s}else for(f=0;f<t.length&&c>f;f++){var p=t[i+f];if(p&&null!=(s=o(p[r])))return s}else if(e===Vy){if(!l)return $y.Not;for(f=0;f<t.length&&c>f;f++)if((v=t[f])&&null!=(s=o(v[l])))return s}else if(e===Ry){if(!l)return $y.Not;if(!(h=t[l])||k(h))return $y.Not;for(f=0;f<h.length&&c>f;f++)if(null!=(s=o(h[f])))return s}else if(e===jy)for(f=0;f<t.length&&c>f;f++){var v,g=aa(v=t[f]);if(!x(g))return $y.Not;if(null!=(s=o(g[r])))return s}return $y.Not}function _o(t,e){if(e){var n=e.seiresIndex,a=e.seriesId,i=e.seriesName;return null!=n&&t.componentIndex!==n||null!=a&&t.id!==a||null!=i&&t.name!==i}}function bo(t,e){var n=t.color&&!t.colorLayer;p(e,(function(e,a){"colorLayer"===a&&n||My.hasClass(a)||("object"==typeof e?t[a]=t[a]?r(t[a],e,!1):i(e):null==t[a]&&(t[a]=e))}))}function xo(t){this.option={},this.option[Gy]=1,this._componentsMap=B({series:[]}),this._seriesIndices,this._seriesIndicesMap,bo(t,this._theme.option),r(t,Ay,!1),this.mergeOption(t)}function wo(t,e){x(e)||(e=e?[e]:[]);var n={};return p(e,(function(e){n[e]=(t.get(e)||[]).slice()})),n}function So(t,e,n){return e.type?e.type:n?n.subType:My.determineSubType(t,e)}function Io(t,e){t._seriesIndicesMap=B(t._seriesIndices=v(e,(function(t){return t.componentIndex}))||[])}function Co(t,e){return e.hasOwnProperty("subType")?m(t,(function(t){return t.subType===e.subType})):t}function ko(t){if(Gf&&!t._seriesIndices)throw new Error("Option should contains series.")}function To(t){p(Wy,(function(e){this[e]=_(t[e],t)}),this)}function Oo(){this._coordinateSystems=[]}function Do(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}function Mo(t,e,n){var a,i,r=[],o=[],s=t.timeline;if(t.baseOption&&(i=t.baseOption),(s||t.options)&&(i=i||{},r=(t.options||[]).slice()),t.media){i=i||{};var l=t.media;Xy(l,(function(t){t&&t.option&&(t.query?o.push(t):a||(a=t))}))}return i||(i=t),i.timeline||(i.timeline=s),Xy([i].concat(r).concat(v(o,(function(t){return t.option}))),(function(t){Xy(e,(function(e){e(t,n)}))})),{baseOption:i,timelineOptions:r,mediaDefault:a,mediaList:o}}function Po(t,e,n){var a={width:e,height:n,aspectratio:e/n},i=!0;return p(t,(function(t,e){var n=e.match(Qy);if(n&&n[1]&&n[2]){var r=n[1],o=n[2].toLowerCase();Ao(a[o],t,r)||(i=!1)}})),i}function Ao(t,e,n){return"min"===n?t>=e:"max"===n?e>=t:t===e}function Lo(t,e){return t.join(",")===e.join(",")}function Eo(t,e){Xy(e=e||{},(function(e,n){if(null!=e){var a=t[n];if(My.hasClass(n)){e=ea(e);var i=ra(a=ea(a),e);t[n]=Jy(i,(function(t){return t.option&&t.exist?Ky(t.exist,t.option,!0):t.exist||t.option}))}else t[n]=Ky(a,e,!0)}}))}function jo(t){var e=t&&t.itemStyle;if(e)for(var n=0,a=n_.length;a>n;n++){var i=n_[n],o=e.normal,s=e.emphasis;o&&o[i]&&(t[i]=t[i]||{},t[i].normal?r(t[i].normal,o[i]):t[i].normal=o[i],o[i]=null),s&&s[i]&&(t[i]=t[i]||{},t[i].emphasis?r(t[i].emphasis,s[i]):t[i].emphasis=s[i],s[i]=null)}}function No(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var a=t[e].normal,i=t[e].emphasis;a&&(n?(t[e].normal=t[e].emphasis=null,l(t[e],a)):t[e]=a),i&&(t.emphasis=t.emphasis||{},t.emphasis[e]=i)}}function Vo(t){No(t,"itemStyle"),No(t,"lineStyle"),No(t,"areaStyle"),No(t,"label"),No(t,"labelLine"),No(t,"upperLabel"),No(t,"edgeLabel")}function Ro(t,e){var n=e_(t)&&t[e],a=e_(n)&&n.textStyle;if(a)for(var i=0,r=cg.length;r>i;i++)e=cg[i],a.hasOwnProperty(e)&&(n[e]=a[e])}function Bo(t){t&&(Vo(t),Ro(t,"label"),t.emphasis&&Ro(t.emphasis,"label"))}function zo(t){if(e_(t)){jo(t),Vo(t),Ro(t,"label"),Ro(t,"upperLabel"),Ro(t,"edgeLabel"),t.emphasis&&(Ro(t.emphasis,"label"),Ro(t.emphasis,"upperLabel"),Ro(t.emphasis,"edgeLabel")),(n=t.markPoint)&&(jo(n),Bo(n)),(a=t.markLine)&&(jo(a),Bo(a));var e=t.markArea;e&&Bo(e);var n,a,i=t.data;if("graph"===t.type){i=i||t.nodes;var r=t.links||t.edges;if(r&&!k(r))for(var o=0;o<r.length;o++)Bo(r[o]);p(t.categories,(function(t){Vo(t)}))}if(i&&!k(i))for(o=0;o<i.length;o++)Bo(i[o]);if((n=t.markPoint)&&n.data){var s=n.data;for(o=0;o<s.length;o++)Bo(s[o])}if((a=t.markLine)&&a.data){var l=a.data;for(o=0;o<l.length;o++)x(l[o])?(Bo(l[o][0]),Bo(l[o][1])):Bo(l[o])}"gauge"===t.type?(Ro(t,"axisLabel"),Ro(t,"title"),Ro(t,"detail")):"treemap"===t.type?(No(t.breadcrumb,"itemStyle"),p(t.levels,(function(t){Vo(t)}))):"tree"===t.type&&Vo(t.leaves)}}function Fo(t){return x(t)?t:t?[t]:[]}function qo(t){return(x(t)?t[0]:t)||{}}function $o(t,e){e=e.split(",");for(var n=t,a=0;a<e.length&&null!=(n=n&&n[e[a]]);a++);return n}function Zo(t,e,n,a){e=e.split(",");for(var i,r=t,o=0;o<e.length-1;o++)null==r[i=e[o]]&&(r[i]={}),r=r[i];(a||null==r[e[o]])&&(r[e[o]]=n)}function Go(t){p(i_,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}function Ho(t){p(t,(function(e,n){var a=[],i=[NaN,NaN],r=[e.stackResultDimension,e.stackedOverDimension],o=e.data,s=e.isStackedByIndex,l=o.map(r,(function(r,l,u){var c,d,h=o.get(e.stackedDimension,u);if(isNaN(h))return i;s?d=o.getRawIndex(u):c=o.get(e.stackedByDimension,u);for(var f=NaN,p=n-1;p>=0;p--){var v=t[p];if(s||(d=v.data.rawIndexOf(v.stackedByDimension,c)),d>=0){var g=v.data.getByRawIndex(v.stackResultDimension,d);if(h>=0&&g>0||0>=h&&0>g){h+=g,f=g;break}}}return a[0]=h,a[1]=f,a}));o.hostModel.setData(l),e.data=l}))}function Wo(t,e){io.isInstance(t)||(t=io.seriesDataToSource(t)),this._source=t;var n=this._data=t.data,a=t.sourceFormat;if(a===zy){if(Gf&&null==e)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=e,this._data=n}var i=u_[a===Ny?a+"_"+t.seriesLayoutBy:a];Gf&&E(i,"Invalide sourceFormat: "+a),s(this,i)}function Uo(){return this._data.length}function Xo(t){return this._data[t]}function Yo(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}function Jo(t,e,n){return null!=n?t[n]:t}function Ko(t,e,n,a){return Qo(t[a],this._dimensionInfos[e])}function Qo(t,e){var n=e&&e.type;if("ordinal"===n){var a=e&&e.ordinalMeta;return a?a.parseAndCollect(t):t}return"time"===n&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+Pr(t)),null==t||""===t?NaN:+t}function ts(t,e,n){if(t){var a=t.getRawDataItem(e);if(null!=a){var i,r,o=t.getProvider().getSource().sourceFormat,s=t.getDimensionInfo(n);return s&&(i=s.name,r=s.index),c_[o](a,e,r,i)}}}function es(t,e,n){if(t){var a=t.getProvider().getSource().sourceFormat;if(a===jy||a===Vy){var i=t.getRawDataItem(e);return a!==jy||I(i)||(i=null),i?i[n]:void 0}}}function ns(t){return new as(t)}function as(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}function is(t,e,n,a,i,r){v_.reset(n,a,i,r),t._callingProgress=e,t._callingProgress({start:n,end:a,count:a-n,next:v_.next},t.context)}function rs(t,e){var n,a;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((n=t._reset(t.context))&&n.progress&&(a=n.forceFirstProgress,n=n.progress),x(n)&&!n.length&&(n=null)),t._progress=n,t._modBy=t._modDataCount=null;var i=t._downstream;return i&&i.dirty(),a}function os(t){var e=t.name;sa(t)||(t.name=ss(t)||e)}function ss(t){var e=t.getRawData(),n=e.mapDimension("seriesName",!0),a=[];return p(n,(function(t){var n=e.getDimensionInfo(t);n.displayName&&a.push(n.displayName)})),a.join(" ")}function ls(t){return t.model.getRawData().count()}function us(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),cs}function cs(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function ds(t,e){p(t.CHANGABLE_METHODS,(function(n){t.wrapMethod(n,b(hs,e))}))}function hs(t){var e=fs(t);e&&e.setOutputEnd(this.count())}function fs(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var a=n.currentTask;if(a){var i=a.agentStubMap;i&&(a=i.get(t.uid))}return a}}function ps(){this.group=new sv,this.uid=mr("viewChart"),this.renderTask=ns({plan:ms,reset:ys}),this.renderTask.context={view:this}}function vs(t,e,n){if(t&&(t.trigger(e,n),t.isGroup&&!Fi(t)))for(var a=0,i=t.childCount();i>a;a++)vs(t.childAt(a),e,n)}function gs(t,e,n){var a=ua(t,e),i=e&&null!=e.highlightKey?qi(e.highlightKey):null;null!=a?p(ea(a),(function(e){vs(t.getItemGraphicEl(e),n,i)})):t.eachItemGraphicEl((function(t){vs(t,n,i)}))}function ms(t){return w_(t.model)}function ys(t){var e=t.model,n=t.ecModel,a=t.api,i=t.payload,r=e.pipelineContext.progressiveRender,o=t.view,s=i&&x_(i).updateMethod,l=r?"incrementalPrepareRender":s&&o[s]?s:"render";return"render"!==l&&o[l](e,n,a,i),I_[l]}function _s(t,e,n){function a(){c=(new Date).getTime(),d=null,t.apply(o,s||[])}var i,r,o,s,l,u=0,c=0,d=null;e=e||0;var h=function(){i=(new Date).getTime(),o=this,s=arguments;var t=l||e,h=l||n;l=null,r=i-(h?u:c)-t,clearTimeout(d),h?d=setTimeout(a,t):r>=0?a():d=setTimeout(a,-r),u=i};return h.clear=function(){d&&(clearTimeout(d),d=null)},h.debounceNextCall=function(t){l=t},h}function bs(t,e,n,a){var i=t[e];if(i){var r=i[C_]||i,o=i[T_];if(i[k_]!==n||o!==a){if(null==n||!a)return t[e]=r;(i=t[e]=_s(r,n,"debounce"===a))[C_]=r,i[T_]=a,i[k_]=n}return i}}function xs(t,e){var n=t[e];n&&n[C_]&&(t[e]=n[C_])}function ws(t,e,n,a){this.ecInstance=t,this.api=e,this.unfinished,n=this._dataProcessorHandlers=n.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=n.concat(a),this._stageTaskMap=B()}function Ss(t,e,n,a,i){function r(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}var o;i=i||{},p(e,(function(e){if(!i.visualType||i.visualType===e.visualType){var s=t._stageTaskMap.get(e.uid),l=s.seriesTaskMap,u=s.overallTask;if(u){var c,d=u.agentStubMap;d.each((function(t){r(i,t)&&(t.dirty(),c=!0)})),c&&u.dirty(),E_(u,a);var h=t.getPerformArgs(u,i.block);d.each((function(t){t.perform(h)})),o|=u.perform(h)}else l&&l.each((function(s){r(i,s)&&s.dirty();var l=t.getPerformArgs(s,i.block);l.skip=!e.performRawSeries&&n.isSeriesFiltered(s.context.model),E_(s,a),o|=s.perform(l)}))}})),t.unfinished|=o}function Is(t,e,n,a,i){function r(n){var r=n.uid,s=o.get(r)||o.set(r,ns({plan:Ms,reset:Ps,count:Ls}));s.context={model:n,ecModel:a,api:i,useClearVisual:e.isVisual&&!e.isLayout,plan:e.plan,reset:e.reset,scheduler:t},Es(t,n,s)}var o=n.seriesTaskMap||(n.seriesTaskMap=B()),s=e.seriesType,l=e.getTargetSeries;e.createOnAllSeries?a.eachRawSeries(r):s?a.eachRawSeriesByType(s,r):l&&l(a,i).each(r);var u=t._pipelineMap;o.each((function(t,e){u.get(e)||(t.dispose(),o.removeKey(e))}))}function Cs(t,e,n,a,i){function r(e){var n=e.uid,a=s.get(n);a||(a=s.set(n,ns({reset:Ts,onDirty:Ds})),o.dirty()),a.context={model:e,overallProgress:c,modifyOutputEnd:d},a.agent=o,a.__block=c,Es(t,e,a)}var o=n.overallTask=n.overallTask||ns({reset:ks});o.context={ecModel:a,api:i,overallReset:e.overallReset,scheduler:t};var s=o.agentStubMap=o.agentStubMap||B(),l=e.seriesType,u=e.getTargetSeries,c=!0,d=e.modifyOutputEnd;l?a.eachRawSeriesByType(l,r):u?u(a,i).each(r):(c=!1,p(a.getSeries(),r));var h=t._pipelineMap;s.each((function(t,e){h.get(e)||(t.dispose(),o.dirty(),s.removeKey(e))}))}function ks(t){t.overallReset(t.ecModel,t.api,t.payload)}function Ts(t){return t.overallProgress&&Os}function Os(){this.agent.dirty(),this.getDownstream().dirty()}function Ds(){this.agent&&this.agent.dirty()}function Ms(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function Ps(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=ea(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?v(e,(function(t,e){return As(e)})):j_}function As(t){return function(e,n){var a=n.data,i=n.resetDefines[t];if(i&&i.dataEach)for(var r=e.start;r<e.end;r++)i.dataEach(a,r);else i&&i.progress&&i.progress(e,a)}}function Ls(t){return t.data.count()}function Es(t,e,n){var a=e.uid,i=t._pipelineMap.get(a);!i.head&&(i.head=n),i.tail&&i.tail.pipe(n),i.tail=n,n.__idxInPipeline=i.count++,n.__pipeline=i}function js(t){N_=null;try{t(V_,R_)}catch(t){}return N_}function Ns(t,e){for(var n in e.prototype)t[n]=F}function Vs(t){for(S(t)&&(t=(new DOMParser).parseFromString(t,"text/xml")),9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}function Rs(){this._defs={},this._root=null,this._isDefine=!1,this._isText=!1}function Bs(t,e){for(var n=t.firstChild;n;){if(1===n.nodeType){var a=n.getAttribute("offset");a=a.indexOf("%")>0?parseInt(a,10)/100:a?parseFloat(a):0;var i=n.getAttribute("stop-color")||"#000000";e.addColorStop(a,i)}n=n.nextSibling}}function zs(t,e){t&&t.__inheritedStyle&&(e.__inheritedStyle||(e.__inheritedStyle={}),l(e.__inheritedStyle,t.__inheritedStyle))}function Fs(t){for(var e=j(t).split(H_),n=[],a=0;a<e.length;a+=2){var i=parseFloat(e[a]),r=parseFloat(e[a+1]);n.push([i,r])}return n}function qs(t,e,n,a){var i=e.__inheritedStyle||{},r="text"===e.type;if(1===t.nodeType&&(Zs(t,e),s(i,Gs(t)),!a))for(var o in X_)if(X_.hasOwnProperty(o)){var l=t.getAttribute(o);null!=l&&(i[X_[o]]=l)}var u=r?"textFill":"fill",c=r?"textStroke":"stroke";e.style=e.style||new gv;var d=e.style;null!=i.fill&&d.set(u,$s(i.fill,n)),null!=i.stroke&&d.set(c,$s(i.stroke,n)),p(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],(function(t){var e="lineWidth"===t&&r?"textStrokeWidth":t;null!=i[t]&&d.set(e,parseFloat(i[t]))})),i.textBaseline&&"auto"!==i.textBaseline||(i.textBaseline="alphabetic"),"alphabetic"===i.textBaseline&&(i.textBaseline="bottom"),"start"===i.textAlign&&(i.textAlign="left"),"end"===i.textAlign&&(i.textAlign="right"),p(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign","textBaseline"],(function(t){null!=i[t]&&d.set(t,i[t])})),i.lineDash&&(e.style.lineDash=j(i.lineDash).split(H_)),d[c]&&"none"!==d[c]&&(e[c]=!0),e.__inheritedStyle=i}function $s(t,e){var n=e&&t&&t.match(Y_);return n?e[j(n[1])]:t}function Zs(t,e){var n=t.getAttribute("transform");if(n){n=n.replace(/,/g," ");var a=null,i=[];n.replace(J_,(function(t,e,n){i.push(e,n)}));for(var r=i.length-1;r>0;r-=2){var o=i[r],s=i[r-1];switch(a=a||Et(),s){case"translate":o=j(o).split(H_),Rt(a,a,[parseFloat(o[0]),parseFloat(o[1]||0)]);break;case"scale":o=j(o).split(H_),zt(a,a,[parseFloat(o[0]),parseFloat(o[1]||o[0])]);break;case"rotate":o=j(o).split(H_),Bt(a,a,parseFloat(o[0]));break;case"skew":o=j(o).split(H_),console.warn("Skew transform is not supported yet");break;case"matrix":o=j(o).split(H_),a[0]=parseFloat(o[0]),a[1]=parseFloat(o[1]),a[2]=parseFloat(o[2]),a[3]=parseFloat(o[3]),a[4]=parseFloat(o[4]),a[5]=parseFloat(o[5])}}e.setLocalTransform(a)}}function Gs(t){var e=t.getAttribute("style"),n={};if(!e)return n;var a,i={};for(K_.lastIndex=0;null!=(a=K_.exec(e));)i[a[1]]=a[2];for(var r in X_)X_.hasOwnProperty(r)&&null!=i[r]&&(n[X_[r]]=i[r]);return n}function Hs(t,e,n){var a=e/t.width,i=n/t.height,r=Math.min(a,i);return{scale:[r,r],position:[-(t.x+t.width/2)*r+e/2,-(t.y+t.height/2)*r+n/2]}}function Ws(t,e){return function(n,a,i){return!e&&this._disposed?void cl(this.id):(n=n&&n.toLowerCase(),void gp.prototype[t].call(this,n,a,i))}}function Us(){gp.call(this)}function Xs(t,e,a){function r(t,e){return t.__prio-e.__prio}a=a||{},"string"==typeof e&&(e=Ob[e]),this.id,this.group,this._dom=t;var o="canvas";Gf&&(o=("undefined"==typeof window?n.g:window).__ECHARTS__DEFAULT__RENDERER__||o);var s=this._zr=Yn(t,{renderer:a.renderer||o,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height});this._throttledZrFlush=_s(_(s.flush,s),17),(e=i(e))&&o_(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new Oo;var l=this._api=pl(this);je(Tb,r),je(Ib,r),this._scheduler=new ws(this,l,Ib,Tb),gp.call(this,this._ecEventProcessor=new vl),this._messageCenter=new Us,this._initEvents(),this.resize=_(this.resize,this),this._pendingActions=[],s.animation.on("frame",this._onframe,this),al(s,this),N(this)}function Ys(t,e,n){if(this._disposed)cl(this.id);else{var a,i=this._model,r=this._coordSysMgr.getCoordinateSystems();e=da(i,e);for(var o=0;o<r.length;o++){var s=r[o];if(s[t]&&null!=(a=s[t](i,e,n)))return a}Gf&&console.warn("No coordinate system that supports "+t+" found by the given finder.")}}function Js(t){var e=t._model,n=t._scheduler;n.restorePipelines(e),n.prepareStageTasks(),il(t,"component",e,n),il(t,"chart",e,n),n.plan()}function Ks(t,e,n,a,i){function r(a){a&&a.__alive&&a[e]&&a[e](a.__model,o,t._api,n)}var o=t._model;if(a){var s={};s[a+"Id"]=n[a+"Id"],s[a+"Index"]=n[a+"Index"],s[a+"Name"]=n[a+"Name"];var l={mainType:a,query:s};i&&(l.subType=i);var u=n.excludeSeriesId;null!=u&&(u=B(ea(u))),o&&o.eachComponent(l,(function(e){u&&null!=u.get(e.id)||r(t["series"===a?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else ab(t._componentsViews.concat(t._chartsViews),r)}function Qs(t,e){var n=t._chartsMap,a=t._scheduler;e.eachSeries((function(t){a.updateStreamModes(t,n[t.__viewId])}))}function tl(t,e){var n=t.type,a=t.escapeConnect,i=wb[n],r=i.actionInfo,o=(r.update||"update").split(":"),u=o.pop();o=null!=o[0]&&ob(o[0]),this[gb]=!0;var c=[t],d=!1;t.batch&&(d=!0,c=v(t.batch,(function(e){return(e=l(s({},e),t)).batch=null,e})));var h,f=[],p="highlight"===n||"downplay"===n;ab(c,(function(t){(h=(h=i.action(t,this._model,this._api))||s({},t)).type=r.event||h.type,f.push(h),p?Ks(this,u,t,"series"):o&&Ks(this,u,t,o.main,o.sub)}),this),"none"===u||p||o||(this[mb]?(Js(this),bb.update.call(this,t),this[mb]=!1):bb[u].call(this,t)),h=d?{type:r.event||n,escapeConnect:a,batch:f}:f[0],this[gb]=!1,!e&&this._messageCenter.trigger(h.type,h)}function el(t){for(var e=this._pendingActions;e.length;){var n=e.shift();tl.call(this,n,t)}}function nl(t){!t&&this.trigger("updated")}function al(t,e){t.on("rendered",(function(){e.trigger("rendered"),!t.animation.isFinished()||e[mb]||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))}function il(t,e,n,a){function i(t){var e="_ec_"+t.id+"_"+t.type,i=s[e];if(!i){var c=ob(t.type),d=r?y_.getClass(c.main,c.sub):ps.getClass(c.sub);Gf&&nb(d,c.sub+" does not exist."),(i=new d).init(n,u),s[e]=i,o.push(i),l.add(i.group)}t.__viewId=i.__id=e,i.__alive=!0,i.__model=t,i.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!r&&a.prepareView(i,t,n,u)}for(var r="component"===e,o=r?t._componentsViews:t._chartsViews,s=r?t._componentsMap:t._chartsMap,l=t._zr,u=t._api,c=0;c<o.length;c++)o[c].__alive=!1;for(r?n.eachComponent((function(t,e){"series"!==t&&i(e)})):n.eachSeries(i),c=0;c<o.length;){var d=o[c];d.__alive?c++:(!r&&d.renderTask.dispose(),l.remove(d.group),d.dispose(n,u),o.splice(c,1),delete s[d.__id],d.__id=d.group.__ecComponentInfo=null)}}function rl(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function ol(t,e,n,a){sl(t,e,n,a),ab(t._chartsViews,(function(t){t.__alive=!1})),ll(t,e,n,a),ab(t._chartsViews,(function(t){t.__alive||t.remove(e,n)}))}function sl(t,e,n,a,i){ab(i||t._componentsViews,(function(t){var i=t.__model;t.render(i,e,n,a),fl(i,t)}))}function ll(t,e,n,a,i){var r,o=t._scheduler;e.eachSeries((function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var s=n.renderTask;o.updatePayload(s,a),i&&i.get(e.uid)&&s.dirty(),r|=s.perform(o.getPerformArgs(s)),n.group.silent=!!e.get("silent"),fl(e,n),hl(e,n)})),o.unfinished|=r,dl(t,e),M_(t._zr.dom,e)}function ul(t,e){ab(kb,(function(n){n(t,e)}))}function cl(t){Gf&&console.warn("Instance "+t+" has been disposed")}function dl(t,e){var n=t._zr.storage,a=0;n.traverse((function(){a++})),a>e.get("hoverLayerThreshold")&&!Uf.node&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.group.traverse((function(t){t.useHoverLayer=!0}))}}))}function hl(t,e){var n=t.get("blendMode")||null;Gf&&!Uf.canvasSupported&&n&&"source-over"!==n&&console.warn("Only canvas support blendMode"),e.group.traverse((function(t){t.isGroup||t.style.blend!==n&&t.setStyle("blend",n),t.eachPendingDisplayable&&t.eachPendingDisplayable((function(t){t.setStyle("blend",n)}))}))}function fl(t,e){var n=t.get("z"),a=t.get("zlevel");e.group.traverse((function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=a&&(t.zlevel=a))}))}function pl(t){var e=t._coordSysMgr;return s(new To(t),{getCoordinateSystems:_(e.getCoordinateSystems,e),getComponentByElement:function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}}})}function vl(){this.eventInfo}function gl(t){function e(t,e){for(var n=0;n<t.length;n++)t[n][r]=e}var n=0,a=1,i=2,r="__connectUpdateStatus";ab(Sb,(function(o,s){t._messageCenter.on(s,(function(o){if(Pb[t.group]&&t[r]!==n){if(o&&o.escapeConnect)return;var s=t.makeActionFromEvent(o),l=[];ab(Mb,(function(e){e!==t&&e.group===t.group&&l.push(e)})),e(l,n),ab(l,(function(t){t[r]!==a&&t.dispatchAction(s)})),e(l,i)}}))}))}function ml(t,e,n){if(Gf){if(ag.replace(".","")-0<lb.zrender.replace(".","")-0)throw new Error("zrender/src "+ag+" is too old for ECharts "+sb+". Current version need ZRender "+lb.zrender+"+");if(!t)throw new Error("Initialize failed: invalid dom.")}var a=xl(t);if(a)return Gf&&console.warn("There is a chart instance already initialized on the dom."),a;Gf&&(!T(t)||"CANVAS"===t.nodeName.toUpperCase()||(t.clientWidth||n&&null!=n.width)&&(t.clientHeight||n&&null!=n.height)||console.warn("Can't get DOM width or height. Please check dom.clientWidth and dom.clientHeight. They should not be 0.For example, you may need to call this in the callback of window.onload."));var i=new Xs(t,e,n);return i.id="ec_"+Ab++,Mb[i.id]=i,fa(t,Eb,i.id),gl(i),i}function yl(t){if(x(t)){var e=t;t=null,ab(e,(function(e){null!=e.group&&(t=e.group)})),t=t||"g_"+Lb++,ab(e,(function(e){e.group=t}))}return Pb[t]=!0,t}function _l(t){Pb[t]=!1}function bl(t){"string"==typeof t?t=Mb[t]:t instanceof Xs||(t=xl(t)),t instanceof Xs&&!t.isDisposed()&&t.dispose()}function xl(t){return Mb[pa(t,Eb)]}function wl(t){return Mb[t]}function Sl(t,e){Ob[t]=e}function Il(t){Cb.push(t)}function Cl(t,e){Al(Ib,t,e,cb)}function kl(t){kb.push(t)}function Tl(t,e,n){"function"==typeof e&&(n=e,e="");var a=rb(t)?t.type:[t,t={event:e}][0];t.event=(t.event||a).toLowerCase(),e=t.event,nb(yb.test(a)&&yb.test(e)),wb[a]||(wb[a]={action:n,actionInfo:t}),Sb[e]=a}function Ol(t,e){Oo.register(t,e)}function Dl(t){var e=Oo.get(t);return e?e.getDimensionsInfo?e.getDimensionsInfo():e.dimensions.slice():void 0}function Ml(t,e){Al(Tb,t,e,hb,"layout")}function Pl(t,e){Al(Tb,t,e,pb,"visual")}function Al(t,e,n,a,i){if((ib(e)||rb(e))&&(n=e,e=a),Gf){if(isNaN(e)||null==e)throw new Error("Illegal priority");ab(t,(function(t){nb(t.__raw!==n)}))}var r=ws.wrapStageHandler(n,i);return r.__prio=e,r.__raw=n,t.push(r),r}function Ll(t,e){Db[t]=e}function El(t){return My.extend(t)}function jl(t){return y_.extend(t)}function Nl(t){return m_.extend(t)}function Vl(t){return ps.extend(t)}function Rl(t){a("createCanvas",t)}function Bl(t,e,n){tb.registerMap(t,e,n)}function zl(t){var e=tb.retrieveMap(t);return e&&e[0]&&{geoJson:e[0].geoJSON,specialAreas:e[0].specialAreas}}function Fl(t){return t}function ql(t,e,n,a,i){this._old=t,this._new=e,this._oldKeyGetter=n||Fl,this._newKeyGetter=a||Fl,this.context=i}function $l(t,e,n,a,i){for(var r=0;r<t.length;r++){var o="_ec_"+i[a](t[r],r),s=e[o];null==s?(n.push(o),e[o]=r):(s.length||(e[o]=s=[s]),s.push(r))}}function Zl(t){var e={},n=e.encode={},a=B(),i=[],r=[],o=e.userOutput={dimensionNames:t.dimensions.slice(),encode:{}};p(t.dimensions,(function(e){var s=t.getDimensionInfo(e),l=s.coordDim;if(l){Gf&&E(null==Vb.get(l));var u=s.coordDimIndex;Gl(n,l)[u]=e,s.isExtraCoord||(a.set(l,1),Wl(s.type)&&(i[0]=e),Gl(o.encode,l)[u]=s.index),s.defaultTooltip&&r.push(e)}Vb.each((function(t,e){var a=Gl(n,e),i=s.otherDims[e];null!=i&&!1!==i&&(a[i]=s.name)}))}));var s=[],l={};a.each((function(t,e){var a=n[e];l[e]=a[0],s=s.concat(a)})),e.dataDimsOnCoord=s,e.encodeFirstDimNotExtra=l;var u=n.label;u&&u.length&&(i=u.slice());var c=n.tooltip;return c&&c.length?r=c.slice():r.length||(r=i.slice()),n.defaultedLabel=i,n.defaultedTooltip=r,e}function Gl(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function Hl(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function Wl(t){return!("ordinal"===t||"time"===t)}function Ul(t){null!=t&&s(this,t),this.otherDims={}}function Xl(t){return t._rawCount>65535?$b:Gb}function Yl(t){var e=t.constructor;return e===Array?t.slice():new e(t)}function Jl(t,e){p(Hb.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,p(Wb,(function(n){t[n]=i(e[n])})),t._calculationInfo=s(e._calculationInfo)}function Kl(t,e,n,a,i){var r=qb[e.type],o=a-1,s=e.name,l=t[s][o];if(l&&l.length<n){for(var u=new r(Math.min(i-o*n,n)),c=0;c<l.length;c++)u[c]=l[c];t[s][o]=u}for(var d=a*n;i>d;d+=n)t[s].push(new r(Math.min(i-d,n)))}function Ql(t){var e=t._invertedIndicesMap;p(e,(function(n,a){var i=t._dimensionInfos[a].ordinalMeta;if(i){n=e[a]=new Zb(i.categories.length);for(var r=0;r<n.length;r++)n[r]=zb;for(r=0;r<t._count;r++)n[t.get(a,r)]=r}}))}function tu(t,e,n){var a;if(null!=e){var i=t._chunkSize,r=Math.floor(n/i),o=n%i,s=t.dimensions[e],l=t._storage[s][r];if(l){a=l[o];var u=t._dimensionInfos[s].ordinalMeta;u&&u.categories.length&&(a=u.categories[a])}}return a}function eu(t){return t}function nu(t){return t<this._count&&t>=0?this._indices[t]:-1}function au(t,e){var n=t._idList[e];return null==n&&(n=tu(t,t._idDimIdx,e)),null==n&&(n=Fb+e),n}function iu(t){return x(t)||(t=[t]),t}function ru(t,e){for(var n=0;n<e.length;n++)t._dimensionInfos[e[n]]||console.error("Unkown dimension "+e[n])}function ou(t,e){var n=t.dimensions,a=new Ub(v(n,t.getDimensionInfo,t),t.hostModel);Jl(a,t);for(var i=a._storage={},r=t._storage,o=0;o<n.length;o++){var s=n[o];r[s]&&(c(e,s)>=0?(i[s]=su(r[s]),a._rawExtent[s]=lu(),a._extent[s]=null):i[s]=r[s])}return a}function su(t){for(var e=new Array(t.length),n=0;n<t.length;n++)e[n]=Yl(t[n]);return e}function lu(){return[1/0,-1/0]}function uu(t,e,n){function a(t,e,n){null!=Vb.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,u.set(e,!0))}io.isInstance(e)||(e=io.seriesDataToSource(e)),n=n||{},t=(t||[]).slice();for(var r=(n.dimsDef||[]).slice(),o=B(),u=B(),c=[],d=cu(e,t,r,n.dimCount),h=0;d>h;h++){var f=r[h]=s({},I(r[h])?r[h]:{name:r[h]}),v=f.name,g=c[h]=new Ul;null!=v&&null==o.get(v)&&(g.name=g.displayName=v,o.set(v,h)),null!=f.type&&(g.type=f.type),null!=f.displayName&&(g.displayName=f.displayName)}var m=n.encodeDef;!m&&n.encodeDefaulter&&(m=n.encodeDefaulter(e,d)),(m=B(m)).each((function(t,e){if(1===(t=ea(t).slice()).length&&!S(t[0])&&t[0]<0)m.set(e,!1);else{var n=m.set(e,[]);p(t,(function(t,i){S(t)&&(t=o.get(t)),null!=t&&d>t&&(n[i]=t,a(c[t],e,i))}))}}));var y=0;p(t,(function(t){var e,n,r;if(S(t))e=t,t={};else{e=t.name;var o=t.ordinalMeta;t.ordinalMeta=null,(t=i(t)).ordinalMeta=o,n=t.dimsDef,r=t.otherDims,t.name=t.coordDim=t.coordDimIndex=t.dimsDef=t.otherDims=null}if(!1!==(s=m.get(e))){var s;if(!(s=ea(s)).length)for(var u=0;u<(n&&n.length||1);u++){for(;y<c.length&&null!=c[y].coordDim;)y++;y<c.length&&s.push(y++)}p(s,(function(i,o){var s=c[i];if(a(l(s,t),e,o),null==s.name&&n){var u=n[o];!I(u)&&(u={name:u}),s.name=s.displayName=u.name,s.defaultTooltip=u.defaultTooltip}r&&l(s.otherDims,r)}))}}));var _=n.generateCoord,b=n.generateCoordCount,x=null!=b;b=_?b||1:0;for(var w=_||"value",C=0;d>C;C++)null==(g=c[C]=c[C]||new Ul).coordDim&&(g.coordDim=du(w,u,x),g.coordDimIndex=0,(!_||0>=b)&&(g.isExtraCoord=!0),b--),null==g.name&&(g.name=du(g.coordDim,o)),null!=g.type||mo(e,C,g.name)!==$y.Must&&(!g.isExtraCoord||null==g.otherDims.itemName&&null==g.otherDims.seriesName)||(g.type="ordinal");return c}function cu(t,e,n,a){var i=Math.max(t.dimensionsDetectCount||1,e.length,n.length,a||0);return p(e,(function(t){var e=t.dimsDef;e&&(i=Math.max(i,e.length))})),i}function du(t,e,n){if(n||null!=e.get(t)){for(var a=0;null!=e.get(t+a);)a++;t+=a}return e.set(t,!0),t}function hu(t){this.coordSysName=t,this.coordSysDims=[],this.axisMap=B(),this.categoryAxisMap=B(),this.firstCategoryDimIndex=null}function fu(t){var e=t.get("coordinateSystem"),n=new hu(e),a=Kb[e];return a?(a(t,n,n.axisMap,n.categoryAxisMap),n):void 0}function pu(t){return"category"===t.get("type")}function vu(t,e,n){var a,i,r,o,s=(n=n||{}).byIndex,l=n.stackedCoordDimension,u=!(!t||!t.get("stack"));if(p(e,(function(t,n){S(t)&&(e[n]=t={name:t}),u&&!t.isExtraCoord&&(s||a||!t.ordinalMeta||(a=t),i||"ordinal"===t.type||"time"===t.type||l&&l!==t.coordDim||(i=t))})),!i||s||a||(s=!0),i){r="__\0ecstackresult",o="__\0ecstackedover",a&&(a.createInvertedIndices=!0);var c=i.coordDim,d=i.type,h=0;p(e,(function(t){t.coordDim===c&&h++})),e.push({name:r,coordDim:c,coordDimIndex:h,type:d,isExtraCoord:!0,isCalculationCoord:!0}),h++,e.push({name:o,coordDim:o,coordDimIndex:h,type:d,isExtraCoord:!0,isCalculationCoord:!0})}return{stackedDimension:i&&i.name,stackedByDimension:a&&a.name,isStackedByIndex:s,stackedOverDimension:o,stackResultDimension:r}}function gu(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function mu(t,e){return gu(t,e)?t.getCalculationInfo("stackResultDimension"):e}function yu(t,e,n){n=n||{},io.isInstance(t)||(t=io.seriesDataToSource(t));var a,i=e.get("coordinateSystem"),r=Oo.get(i),o=fu(e);o&&(a=v(o.coordSysDims,(function(t){var e={name:t},n=o.axisMap.get(t);if(n){var a=n.get("type");e.type=Hl(a)}return e}))),a||(a=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]);var s,l,u=Jb(t,{coordDimensions:a,generateCoord:n.generateCoord,encodeDefaulter:n.useEncodeDefaulter?b(po,a,e):null});o&&p(u,(function(t,e){var n=t.coordDim,a=o.categoryAxisMap.get(n);a&&(null==s&&(s=e),t.ordinalMeta=a.getOrdinalMeta()),null!=t.otherDims.itemName&&(l=!0)})),l||null==s||(u[s].otherDims.itemName=0);var c=vu(e,u),d=new Ub(u,e);d.setCalculationInfo(c);var h=null!=s&&_u(t)?function(t,e,n,a){return a===s?n:this.defaultDimValueGetter(t,e,n,a)}:null;return d.hasItemOption=!1,d.initData(t,null,h),d}function _u(t){if(t.sourceFormat===jy){var e=bu(t.data||[]);return null!=e&&!x(aa(e))}}function bu(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}function xu(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function wu(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}function Su(t){return t._map||(t._map=B(t.categories))}function Iu(t){return I(t)&&null!=t.value?t.value:t+""}function Cu(t,e,n,a){var i={},r=t[1]-t[0],o=i.interval=Er(r/e,!0);null!=n&&n>o&&(o=i.interval=n),null!=a&&o>a&&(o=i.interval=a);var s=i.intervalPrecision=ku(o);return Ou(i.niceTickExtent=[nx(Math.ceil(t[0]/o)*o,s),nx(Math.floor(t[1]/o)*o,s)],t),i}function ku(t){return kr(t)+2}function Tu(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function Ou(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),Tu(t,0,e),Tu(t,1,e),t[0]>t[1]&&(t[0]=t[1])}function Du(t){return t.get("stack")||rx+t.seriesIndex}function Mu(t){return t.dim+t.index}function Pu(t,e){var n=[];return e.eachSeriesByType(t,(function(t){Vu(t)&&!Ru(t)&&n.push(t)})),n}function Au(t){var e={};p(t,(function(t){var n=t.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var a=t.getData(),i=n.dim+"_"+n.index,r=a.mapDimension(n.dim),o=0,s=a.count();s>o;++o){var l=a.get(r,o);e[i]?e[i].push(l):e[i]=[l]}}));var n=[];for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];if(i){i.sort((function(t,e){return t-e}));for(var r=null,o=1;o<i.length;++o){var s=i[o]-i[o-1];s>0&&(r=null===r?s:Math.min(r,s))}n[a]=r}}return n}function Lu(t){var e=Au(t),n=[];return p(t,(function(t){var a,i=t.coordinateSystem.getBaseAxis(),r=i.getExtent();if("category"===i.type)a=i.getBandWidth();else if("value"===i.type||"time"===i.type){var o=i.dim+"_"+i.index,s=e[o],l=Math.abs(r[1]-r[0]),u=i.scale.getExtent(),c=Math.abs(u[1]-u[0]);a=s?l/c*s:l}else{var d=t.getData();a=Math.abs(r[1]-r[0])/d.count()}var h=wr(t.get("barWidth"),a),f=wr(t.get("barMaxWidth"),a),p=wr(t.get("barMinWidth")||1,a),v=t.get("barGap"),g=t.get("barCategoryGap");n.push({bandWidth:a,barWidth:h,barMaxWidth:f,barMinWidth:p,barGap:v,barCategoryGap:g,axisKey:Mu(i),stackId:Du(t)})})),Eu(n)}function Eu(t){var e={};p(t,(function(t){var n=t.axisKey,a=t.bandWidth,i=e[n]||{bandWidth:a,remainedWidth:a,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},r=i.stacks;e[n]=i;var o=t.stackId;r[o]||i.autoWidthCount++,r[o]=r[o]||{width:0,maxWidth:0};var s=t.barWidth;s&&!r[o].width&&(r[o].width=s,s=Math.min(i.remainedWidth,s),i.remainedWidth-=s);var l=t.barMaxWidth;l&&(r[o].maxWidth=l);var u=t.barMinWidth;u&&(r[o].minWidth=u);var c=t.barGap;null!=c&&(i.gap=c);var d=t.barCategoryGap;null!=d&&(i.categoryGap=d)}));var n={};return p(e,(function(t,e){n[e]={};var a=t.stacks,i=t.bandWidth,r=wr(t.categoryGap,i),o=wr(t.gap,1),s=t.remainedWidth,l=t.autoWidthCount,u=(s-r)/(l+(l-1)*o);u=Math.max(u,0),p(a,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width){var a=t.width;e&&(a=Math.min(a,e)),n&&(a=Math.max(a,n)),t.width=a,s-=a+o*a,l--}else a=u,e&&a>e&&(a=Math.min(e,s)),n&&n>a&&(a=n),a!==u&&(t.width=a,s-=a+o*a,l--)})),u=(s-r)/(l+(l-1)*o),u=Math.max(u,0);var c,d=0;p(a,(function(t){t.width||(t.width=u),c=t,d+=t.width*(1+o)})),c&&(d-=c.width*o);var h=-d/2;p(a,(function(t,a){n[e][a]=n[e][a]||{bandWidth:i,offset:h,width:t.width},h+=t.width*(1+o)}))})),n}function ju(t,e,n){if(t&&e){var a=t[Mu(e)];return null!=a&&null!=n&&(a=a[Du(n)]),a}}function Nu(t,e){var n=Pu(t,e),a=Lu(n),i={};p(n,(function(t){var e=t.getData(),n=t.coordinateSystem,r=n.getBaseAxis(),o=Du(t),s=a[Mu(r)][o],l=s.offset,u=s.width,c=n.getOtherAxis(r),d=t.get("barMinHeight")||0;i[o]=i[o]||[],e.setLayout({bandWidth:s.bandWidth,offset:l,size:u});for(var h=e.mapDimension(c.dim),f=e.mapDimension(r.dim),p=gu(e,h),v=c.isHorizontal(),g=Bu(r,c,p),m=0,y=e.count();y>m;m++){var _,b,x,w,S,I=e.get(h,m),C=e.get(f,m),k=I>=0?"p":"n",T=g;p&&(i[o][C]||(i[o][C]={p:g,n:g}),T=i[o][C][k]),v?(_=T,b=(S=n.dataToPoint([I,C]))[1]+l,x=S[0]-g,w=u,Math.abs(x)<d&&(x=(0>x?-1:1)*d),isNaN(x)||p&&(i[o][C][k]+=x)):(_=(S=n.dataToPoint([C,I]))[0]+l,b=T,x=u,w=S[1]-g,Math.abs(w)<d&&(w=(0>=w?-1:1)*d),isNaN(w)||p&&(i[o][C][k]+=w)),e.setItemLayout(m,{x:_,y:b,width:x,height:w})}}),this)}function Vu(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function Ru(t){return t.pipelineContext&&t.pipelineContext.large}function Bu(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}function zu(t,e){return Sx(t,xx(e))}function Fu(t,e){var n,a,i,r=t.type,o=e.getMin(),s=e.getMax(),l=t.getExtent();"ordinal"===r?n=e.getCategories().length:(x(a=e.get("boundaryGap"))||(a=[a||0,a||0]),"boolean"==typeof a[0]&&(Gf&&console.warn('Boolean type for boundaryGap is only allowed for ordinal axis. Please use string in percentage instead, e.g., "20%". Currently, boundaryGap is set to be 0.'),a=[0,0]),a[0]=wr(a[0],1),a[1]=wr(a[1],1),i=l[1]-l[0]||Math.abs(l[0])),"dataMin"===o?o=l[0]:"function"==typeof o&&(o=o({min:l[0],max:l[1]})),"dataMax"===s?s=l[1]:"function"==typeof s&&(s=s({min:l[0],max:l[1]}));var u=null!=o,c=null!=s;null==o&&(o="ordinal"===r?n?0:NaN:l[0]-a[0]*i),null==s&&(s="ordinal"===r?n?n-1:NaN:l[1]+a[1]*i),(null==o||!isFinite(o))&&(o=NaN),(null==s||!isFinite(s))&&(s=NaN),t.setBlank(O(o)||O(s)||"ordinal"===r&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(o>0&&s>0&&!u&&(o=0),0>o&&0>s&&!c&&(s=0));var d=e.ecModel;if(d&&"time"===r){var h,f=Pu("bar",d);if(p(f,(function(t){h|=t.getBaseAxis()===e.axis})),h){var v=Lu(f),g=qu(o,s,e,v);o=g.min,s=g.max}}return{extent:[o,s],fixMin:u,fixMax:c}}function qu(t,e,n,a){var i=n.axis.getExtent(),r=i[1]-i[0],o=ju(a,n.axis);if(void 0===o)return{min:t,max:e};var s=1/0;p(o,(function(t){s=Math.min(t.offset,s)}));var l=-1/0;p(o,(function(t){l=Math.max(t.offset+t.width,l)})),s=Math.abs(s),l=Math.abs(l);var u=s+l,c=e-t,d=c/(1-(s+l)/r)-c;return{min:t-=d*(s/u),max:e+=d*(l/u)}}function $u(t,e){var n=Fu(t,e),a=n.extent,i=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var r=t.type;t.setExtent(a[0],a[1]),t.niceExtent({splitNumber:i,fixMin:n.fixMin,fixMax:n.fixMax,minInterval:"interval"===r||"time"===r?e.get("minInterval"):null,maxInterval:"interval"===r||"time"===r?e.get("maxInterval"):null});var o=e.get("interval");null!=o&&t.setInterval&&t.setInterval(o)}function Zu(t,e){if(e=e||t.get("type"))switch(e){case"category":return new ex(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new ix;default:return(xu.getClass(e)||ix).create(t)}}function Gu(t){var e=t.scale.getExtent(),n=e[0],a=e[1];return!(n>0&&a>0||0>n&&0>a)}function Hu(t){var e=t.getLabelModel().get("formatter"),n="category"===t.type?t.scale.getExtent()[0]:null;return"string"==typeof e?e=function(e){return function(n){return n=t.scale.getLabel(n),e.replace("{value}",null!=n?n:"")}}(e):"function"==typeof e?function(a,i){return null!=n&&(i=a-n),e(Wu(t,a),i)}:function(e){return t.scale.getLabel(e)}}function Wu(t,e){return"category"===t.type?t.scale.getLabel(e):e}function Uu(t){var e=t.model,n=t.scale;if(e.get("axisLabel.show")&&!n.isBlank()){var a,i,r="category"===t.type,o=n.getExtent();i=r?n.count():(a=n.getTicks()).length;var s,l=t.getLabelModel(),u=Hu(t),c=1;i>40&&(c=Math.ceil(i/40));for(var d=0;i>d;d+=c){var h=u(a?a[d]:o[0]+d),f=Xu(l.getTextRect(h),l.get("rotate")||0);s?s.union(f):s=f}return s}}function Xu(t,e){var n=e*Math.PI/180,a=t.plain(),i=a.width,r=a.height,o=i*Math.abs(Math.cos(n))+Math.abs(r*Math.sin(n)),s=i*Math.abs(Math.sin(n))+Math.abs(r*Math.cos(n));return new Te(a.x,a.y,o,s)}function Yu(t){var e=t.get("interval");return null==e?"auto":e}function Ju(t){return"category"===t.type&&0===Yu(t.getLabelModel())}function Ku(t,e){if("image"!==this.type){var n=this.style,a=this.shape;a&&"line"===a.symbolType?n.stroke=t:this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff"):(n.fill&&(n.fill=t),n.stroke&&(n.stroke=t)),this.dirty(!1)}}function Qu(t,e,n,a,i,r,o){var s,l=0===t.indexOf("empty");return l&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?xi(t.slice(8),new Te(e,n,a,i),o?"center":"cover"):0===t.indexOf("path://")?bi(t.slice(7),{},new Te(e,n,a,i),o?"center":"cover"):new Nx({shape:{symbolType:t,x:e,y:n,width:a,height:i}})).__isEmptyBrush=l,s.setColor=Ku,s.setColor(r),s}function tc(t){return yu(t.getSource(),t)}function ec(t,e){var n=e;pr.isInstance(e)||h(n=new pr(e),Dx);var a=Zu(n);return a.setExtent(t[0],t[1]),$u(a,n),a}function nc(t){h(t,Dx)}function ac(t,e){return Math.abs(t-e)<Bx}function ic(t,e,n){var a=0,i=t[0];if(!i)return!1;for(var r=1;r<t.length;r++){var o=t[r];a+=Wa(i[0],i[1],o[0],o[1],e,n),i=o}var s=t[0];return ac(i[0],s[0])&&ac(i[1],s[1])||(a+=Wa(i[0],i[1],s[0],s[1],e,n)),0!==a}function rc(t,e,n){if(this.name=t,this.geometries=e,n)n=[n[0],n[1]];else{var a=this.getBoundingRect();n=[a.x+a.width/2,a.y+a.height/2]}this.center=n}function oc(t){if(!t.UTF8Encoding)return t;var e=t.UTF8Scale;null==e&&(e=1024);for(var n=t.features,a=0;a<n.length;a++)for(var i=n[a].geometry,r=i.coordinates,o=i.encodeOffsets,s=0;s<r.length;s++){var l=r[s];if("Polygon"===i.type)r[s]=sc(l,o[s],e);else if("MultiPolygon"===i.type)for(var u=0;u<l.length;u++){var c=l[u];l[u]=sc(c,o[s][u],e)}}return t.UTF8Encoding=!1,t}function sc(t,e,n){for(var a=[],i=e[0],r=e[1],o=0;o<t.length;o+=2){var s=t.charCodeAt(o)-64,l=t.charCodeAt(o+1)-64;s=s>>1^-(1&s),l=l>>1^-(1&l),i=s+=i,r=l+=r,a.push([s/n,l/n])}return a}function lc(t){return"category"===t.type?cc(t):fc(t)}function uc(t,e){return"category"===t.type?hc(t,e):{ticks:t.scale.getTicks()}}function cc(t){var e=t.getLabelModel(),n=dc(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}function dc(t,e){var n,a,i=pc(t,"labels"),r=Yu(e),o=vc(i,r);return o||(n=w(r)?xc(t,r):bc(t,a="auto"===r?mc(t):r),gc(i,r,{labels:n,labelCategoryInterval:a}))}function hc(t,e){var n,a,i=pc(t,"ticks"),r=Yu(e),o=vc(i,r);if(o)return o;if((!e.get("show")||t.scale.isBlank())&&(n=[]),w(r))n=xc(t,r,!0);else if("auto"===r){var s=dc(t,t.getLabelModel());a=s.labelCategoryInterval,n=v(s.labels,(function(t){return t.tickValue}))}else n=bc(t,a=r,!0);return gc(i,r,{ticks:n,tickCategoryInterval:a})}function fc(t){var e=t.scale.getTicks(),n=Hu(t);return{labels:v(e,(function(e,a){return{formattedLabel:n(e,a),rawLabel:t.scale.getLabel(e),tickValue:e}}))}}function pc(t,e){return Fx(t)[e]||(Fx(t)[e]=[])}function vc(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function gc(t,e,n){return t.push({key:e,value:n}),n}function mc(t){var e=Fx(t).autoInterval;return null!=e?e:Fx(t).autoInterval=t.calculateCategoryInterval()}function yc(t){var e=_c(t),n=Hu(t),a=(e.axisRotate-e.labelRotate)/180*Math.PI,i=t.scale,r=i.getExtent(),o=i.count();if(r[1]-r[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=r[0],u=t.dataToCoord(l+1)-t.dataToCoord(l),c=Math.abs(u*Math.cos(a)),d=Math.abs(u*Math.sin(a)),h=0,f=0;l<=r[1];l+=s){var p=0,v=0,g=He(n(l),e.font,"center","top");p=1.3*g.width,v=1.3*g.height,h=Math.max(h,p,7),f=Math.max(f,v,7)}var m=h/c,y=f/d;isNaN(m)&&(m=1/0),isNaN(y)&&(y=1/0);var _=Math.max(0,Math.floor(Math.min(m,y))),b=Fx(t.model),x=t.getExtent(),w=b.lastAutoInterval,S=b.lastTickCount;return null!=w&&null!=S&&Math.abs(w-_)<=1&&Math.abs(S-o)<=1&&w>_&&b.axisExtend0===x[0]&&b.axisExtend1===x[1]?_=w:(b.lastTickCount=o,b.lastAutoInterval=_,b.axisExtend0=x[0],b.axisExtend1=x[1]),_}function _c(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}function bc(t,e,n){function a(t){l.push(n?t:{formattedLabel:i(t),rawLabel:r.getLabel(t),tickValue:t})}var i=Hu(t),r=t.scale,o=r.getExtent(),s=t.getLabelModel(),l=[],u=Math.max((e||0)+1,1),c=o[0],d=r.count();0!==c&&u>1&&d/u>2&&(c=Math.round(Math.ceil(c/u)*u));var h=Ju(t),f=s.get("showMinLabel")||h,p=s.get("showMaxLabel")||h;f&&c!==o[0]&&a(o[0]);for(var v=c;v<=o[1];v+=u)a(v);return p&&v-u!==o[1]&&a(o[1]),l}function xc(t,e,n){var a=t.scale,i=Hu(t),r=[];return p(a.getTicks(),(function(t){var o=a.getLabel(t);e(t,o)&&r.push(n?t:{formattedLabel:i(t),rawLabel:o,tickValue:t})})),r}function wc(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}function Sc(t,e,n,a){function i(t,e){return t=Sr(t),e=Sr(e),d?t>e:e>t}var r=e.length;if(t.onBand&&!n&&r){var o,s,l=t.getExtent();if(1===r)e[0].coord=l[0],o=e[1]={coord:l[0]};else{var u=e[r-1].tickValue-e[0].tickValue,c=(e[r-1].coord-e[0].coord)/u;p(e,(function(t){t.coord-=c/2})),s=1+t.scale.getExtent()[1]-e[r-1].tickValue,o={coord:e[r-1].coord+c*s},e.push(o)}var d=l[0]>l[1];i(e[0].coord,l[0])&&(a?e[0].coord=l[0]:e.shift()),a&&i(l[0],e[0].coord)&&e.unshift({coord:l[0]}),i(l[1],o.coord)&&(a?o.coord=l[1]:e.pop()),a&&i(o.coord,l[1])&&e.push({coord:l[1]})}}function Ic(t){return this._axes[t]}function Cc(t){Wx.call(this,t)}function kc(t,e){return e.type||(e.data?"category":"value")}function Tc(t,e){return t.getCoordSysModel()===e}function Oc(t,e,n){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,n),this.model=t}function Dc(t,e,n,a){function i(t){return t.dim+"_"+t.index}n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=t[e],s=n.model,l=s.get("axisLine.onZero"),u=s.get("axisLine.onZeroAxisIndex");if(l){if(null!=u)Mc(o[u])&&(r=o[u]);else for(var c in o)if(o.hasOwnProperty(c)&&Mc(o[c])&&!a[i(o[c])]){r=o[c];break}r&&(a[i(r)]=!0)}}function Mc(t){return t&&"category"!==t.type&&"time"!==t.type&&Gu(t)}function Pc(t,e){var n=t.getExtent(),a=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return a-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return a-t+e}}function Ac(t){return v(nw,(function(e){var n=t.getReferringComponents(e)[0];if(Gf&&!n)throw new Error(e+' "'+D(t.get(e+"Index"),t.get(e+"Id"),0)+'" not found');return n}))}function Lc(t){return"cartesian2d"===t.get("coordinateSystem")}function Ec(t,e){var n=t.mapDimension("defaultedLabel",!0),a=n.length;if(1===a)return ts(t,e,n[0]);if(a){for(var i=[],r=0;r<n.length;r++){var o=ts(t,e,n[r]);i.push(o)}return i.join(" ")}}function jc(t,e,n,a,i,r){$i(t,e,n.getModel("label"),n.getModel("emphasis.label"),{labelFetcher:i,labelDataIndex:r,defaultText:Ec(i.getData(),r),isRectText:!0,autoColor:a}),Nc(t),Nc(e)}function Nc(t,e){"outside"===t.textPosition&&(t.textPosition=e)}function Vc(t,e,n){var a=t.getArea(),i=t.getBaseAxis().isHorizontal(),r=a.x,o=a.y,s=a.width,l=a.height,u=n.get("lineStyle.width")||2;r-=u/2,o-=u/2,s+=u,l+=u,r=Math.floor(r),s=Math.round(s);var c=new Em({shape:{x:r,y:o,width:s,height:l}});return e&&(c.shape[i?"width":"height"]=0,nr(c,{shape:{width:s,height:l}},n)),c}function Rc(t,e,n){var a=t.getArea(),i=new km({shape:{cx:Sr(t.cx,1),cy:Sr(t.cy,1),r0:Sr(a.r0,1),r:Sr(a.r,1),startAngle:a.startAngle,endAngle:a.endAngle,clockwise:a.clockwise}});return e&&(i.shape.endAngle=a.startAngle,nr(i,{shape:{endAngle:a.endAngle}},n)),i}function Bc(t,e,n){return t?"polar"===t.type?Rc(t,e,n):"cartesian2d"===t.type?Vc(t,e,n):null:null}function zc(t,e){var n=t.getArea&&t.getArea();if("cartesian2d"===t.type){var a=t.getBaseAxis();if("category"!==a.type||!a.onBand){var i=e.getLayout("bandWidth");a.isHorizontal()?(n.x-=i,n.width+=2*i):(n.y-=i,n.height+=2*i)}}return n}function Fc(t,e,n){n.style.text=null,er(n,{shape:{width:0}},e,t,(function(){n.parent&&n.parent.remove(n)}))}function qc(t,e,n){n.style.text=null,er(n,{shape:{r:n.shape.r0}},e,t,(function(){n.parent&&n.parent.remove(n)}))}function $c(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function Zc(t,e,n,a,i,r,o,s){var u=e.getItemVisual(n,"color"),c=e.getItemVisual(n,"opacity"),d=e.getVisual("borderColor"),h=a.getModel("itemStyle"),f=a.getModel("emphasis.itemStyle").getBarItemStyle();s||t.setShape("r",h.get("barBorderRadius")||0),t.useStyle(l({stroke:$c(i)?"none":d,fill:$c(i)?"none":u,opacity:c},h.getBarItemStyle()));var p=a.getShallow("cursor");p&&t.attr("cursor",p);var v=o?i.height>0?"bottom":"top":i.width>0?"left":"right";s||jc(t.style,f,a,u,r,n,v),$c(i)&&(f.fill=f.stroke="none"),Bi(t,f)}function Gc(t,e){var n=t.get(sw)||0,a=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),i=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(n,a,i)}function Hc(t,e,n){var a=t.getData(),i=[],r=a.getLayout("valueAxisHorizontal")?1:0;i[1-r]=a.getLayout("valueAxisStart");var o=a.getLayout("largeDataIndices"),s=a.getLayout("barWidth"),l=t.getModel("backgroundStyle");if(t.get("showBackground",!0)){var u=a.getLayout("largeBackgroundPoints"),c=[];c[1-r]=a.getLayout("backgroundStart");var d=new pw({shape:{points:u},incremental:!!n,__startPoint:c,__baseDimIdx:r,__largeDataIndices:o,__barWidth:s,silent:!0,z2:0});Xc(d,l,a),e.add(d)}var h=new pw({shape:{points:a.getLayout("largePoints")},incremental:!!n,__startPoint:i,__baseDimIdx:r,__largeDataIndices:o,__barWidth:s});e.add(h),Uc(h,t,a),h.seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",vw),h.on("mousemove",vw))}function Wc(t,e,n){var a=t.__baseDimIdx,i=1-a,r=t.shape.points,o=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[i];lw[0]=e,lw[1]=n;for(var u=lw[a],c=lw[1-a],d=u-s,h=u+s,f=0,p=r.length/2;p>f;f++){var v=2*f,g=r[v+a],m=r[v+i];if(g>=d&&h>=g&&(m>=l?c>=l&&m>=c:c>=m&&l>=c))return o[f]}return-1}function Uc(t,e,n){var a=n.getVisual("borderColor")||n.getVisual("color"),i=e.getModel("itemStyle").getItemStyle(["color","borderColor"]);t.useStyle(i),t.style.fill=null,t.style.stroke=a,t.style.lineWidth=n.getLayout("barWidth")}function Xc(t,e,n){var a=e.get("borderColor")||e.get("color"),i=e.getItemStyle(["color","borderColor"]);t.useStyle(i),t.style.fill=null,t.style.stroke=a,t.style.lineWidth=n.getLayout("barWidth")}function Yc(t,e,n){var a,i="polar"===n.type;return a=i?n.getArea():n.grid.getRect(),i?{cx:a.cx,cy:a.cy,r0:t?a.r0:e.r0,r:t?a.r:e.r,startAngle:t?e.startAngle:0,endAngle:t?e.endAngle:2*Math.PI}:{x:t?e.x:a.x,y:t?a.y:e.y,width:t?e.width:a.width,height:t?a.height:e.height}}function Jc(t,e,n){return new("polar"===t.type?km:Em)({shape:Yc(e,n,t),silent:!0,z2:0})}function Kc(t,e,n,a){var i,r,o=Dr(n-t.rotation),s=a[0]>a[1],l="start"===e&&!s||"start"!==e&&s;return Mr(o-gw/2)?(r=l?"bottom":"top",i="center"):Mr(o-1.5*gw)?(r=l?"top":"bottom",i="center"):(r="middle",i=1.5*gw>o&&o>gw/2?l?"left":"right":l?"right":"left"),{rotation:o,textAlign:i,textVerticalAlign:r}}function Qc(t,e,n){if(!Ju(t.axis)){var a=t.get("axisLabel.showMinLabel"),i=t.get("axisLabel.showMaxLabel");n=n||[];var r=(e=e||[])[0],o=e[1],s=e[e.length-1],l=e[e.length-2],u=n[0],c=n[1],d=n[n.length-1],h=n[n.length-2];!1===a?(td(r),td(u)):ed(r,o)&&(a?(td(o),td(c)):(td(r),td(u))),!1===i?(td(s),td(d)):ed(l,s)&&(i?(td(l),td(h)):(td(s),td(d)))}}function td(t){t&&(t.ignore=!0)}function ed(t,e){var n=t&&t.getBoundingRect().clone(),a=e&&e.getBoundingRect().clone();if(n&&a){var i=jt([]);return Bt(i,i,-t.rotation),n.applyTransform(Vt([],i,t.getLocalTransform())),a.applyTransform(Vt([],i,e.getLocalTransform())),n.intersect(a)}}function nd(t){return"middle"===t||"center"===t}function ad(t,e,n,a,i){for(var r=[],o=[],s=[],l=0;l<t.length;l++){var u=t[l].coord;o[0]=u,o[1]=0,s[0]=u,s[1]=n,e&&(ot(o,o,e),ot(s,s,e));var c=new Nm({anid:i+"_"+t[l].tickValue,subPixelOptimize:!0,shape:{x1:o[0],y1:o[1],x2:s[0],y2:s[1]},style:a,z2:2,silent:!0});r.push(c)}return r}function id(t,e,n){var a=e.axis,i=e.getModel("axisTick");if(i.get("show")&&!a.scale.isBlank()){for(var r=i.getModel("lineStyle"),o=n.tickDirection*i.get("length"),s=ad(a.getTicksCoords(),t._transform,o,l(r.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),"ticks"),u=0;u<s.length;u++)t.group.add(s[u]);return s}}function rd(t,e,n){var a=e.axis,i=e.getModel("minorTick");if(i.get("show")&&!a.scale.isBlank()){var r=a.getMinorTicksCoords();if(r.length)for(var o=i.getModel("lineStyle"),s=n.tickDirection*i.get("length"),u=l(o.getLineStyle(),l(e.getModel("axisTick").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})),c=0;c<r.length;c++)for(var d=ad(r[c],t._transform,s,u,"minorticks_"+c),h=0;h<d.length;h++)t.group.add(d[h])}}function od(t,e,n){var a=e.axis;if(D(n.axisLabelShow,e.get("axisLabel.show"))&&!a.scale.isBlank()){var i=e.getModel("axisLabel"),r=i.get("margin"),o=a.getViewLabels(),s=(D(n.labelRotate,i.get("rotate"))||0)*gw/180,l=bw(n.rotation,s,n.labelDirection),u=e.getCategories&&e.getCategories(!0),c=[],d=xw(e),h=e.get("triggerEvent");return p(o,(function(o,s){var f=o.tickValue,p=o.formattedLabel,v=o.rawLabel,g=i;u&&u[f]&&u[f].textStyle&&(g=new pr(u[f].textStyle,i,e.ecModel));var m=g.getTextColor()||e.get("axisLine.lineStyle.color"),y=[a.dataToCoord(f),n.labelOffset+n.labelDirection*r],_=new wm({anid:"label_"+f,position:y,rotation:l.rotation,silent:d,z2:10});Gi(_.style,g,{text:p,textAlign:g.getShallow("align",!0)||l.textAlign,textVerticalAlign:g.getShallow("verticalAlign",!0)||g.getShallow("baseline",!0)||l.textVerticalAlign,textFill:"function"==typeof m?m("category"===a.type?v:"value"===a.type?f+"":f,s):m}),h&&(_.eventData=_w(e),_.eventData.targetType="axisLabel",_.eventData.value=v),t._dumbGroup.add(_),_.updateTransform(),c.push(_),t.group.add(_),_.decomposeTransform()})),c}}function sd(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return ld(n,t,e),n.seriesInvolved&&cd(n,t),n}function ld(t,e,n){var a=e.getComponent("tooltip"),i=e.getComponent("axisPointer"),r=i.get("link",!0)||[],o=[];ww(n.getCoordinateSystems(),(function(n){function s(a,s,l){var d=l.model.getModel("axisPointer",i),h=d.get("show");if(h&&("auto"!==h||a||gd(d))){null==s&&(s=d.get("triggerTooltip"));var f=(d=a?ud(l,c,i,e,a,s):d).get("snap"),p=md(l.model),v=s||f||"category"===l.type,g=t.axesInfo[p]={key:p,axis:l,coordSys:n,axisPointerModel:d,triggerTooltip:s,involveSeries:v,snap:f,useHandle:gd(d),seriesModels:[]};u[p]=g,t.seriesInvolved|=v;var m=dd(r,l);if(null!=m){var y=o[m]||(o[m]={axesInfo:{}});y.axesInfo[p]=g,y.mapper=r[m].mapper,g.linkGroup=y}}}if(n.axisPointerEnabled){var l=md(n.model),u=t.coordSysAxesInfo[l]={};t.coordSysMap[l]=n;var c=n.model.getModel("tooltip",a);if(ww(n.getAxes(),Sw(s,!1,null)),n.getTooltipAxes&&a&&c.get("show")){var d="axis"===c.get("trigger"),h="cross"===c.get("axisPointer.type"),f=n.getTooltipAxes(c.get("axisPointer.axis"));(d||h)&&ww(f.baseAxes,Sw(s,!h||"cross",d)),h&&ww(f.otherAxes,Sw(s,"cross",!1))}}}))}function ud(t,e,n,a,r,o){var s=e.getModel("axisPointer"),u={};ww(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){u[t]=i(s.get(t))})),u.snap="category"!==t.type&&!!o,"cross"===s.get("type")&&(u.type="line");var c=u.label||(u.label={});if(null==c.show&&(c.show=!1),"cross"===r){var d=s.get("label.show");if(c.show=null==d||d,!o){var h=u.lineStyle=s.get("crossStyle");h&&l(c,h.textStyle)}}return t.model.getModel("axisPointer",new pr(u,n,a))}function cd(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,a=e.get("tooltip.trigger",!0),i=e.get("tooltip.show",!0);n&&"none"!==a&&!1!==a&&"item"!==a&&!1!==i&&!1!==e.get("axisPointer.show",!0)&&ww(t.coordSysAxesInfo[md(n.model)],(function(t){var a=t.axis;n.getAxis(a.dim)===a&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}),this)}function dd(t,e){for(var n=e.model,a=e.dim,i=0;i<t.length;i++){var r=t[i]||{};if(hd(r[a+"AxisId"],n.id)||hd(r[a+"AxisIndex"],n.componentIndex)||hd(r[a+"AxisName"],n.name))return i}}function hd(t,e){return"all"===t||x(t)&&c(t,e)>=0||t===e}function fd(t){var e=pd(t);if(e){var n=e.axisPointerModel,a=e.axis.scale,i=n.option,r=n.get("status"),o=n.get("value");null!=o&&(o=a.parse(o));var s=gd(n);null==r&&(i.status=s?"show":"hide");var l=a.getExtent().slice();l[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),i.value=o,s&&(i.status=e.axis.scale.isBlank()?"hide":"show")}}function pd(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[md(t)]}function vd(t){var e=pd(t);return e&&e.axisPointerModel}function gd(t){return!!t.get("handle.show")}function md(t){return t.type+"||"+t.id}function yd(t,e,n,a,i,r){var o=Iw.getAxisPointerClass(t.axisPointerClass);if(o){var s=vd(e);s?(t._axisPointer||(t._axisPointer=new o)).render(e,s,a,r):_d(t,a)}}function _d(t,e,n){var a=t._axisPointer;a&&a.dispose(e,n),t._axisPointer=null}function bd(t,e,n){n=n||{};var a=t.coordinateSystem,i=e.axis,r={},o=i.getAxesOnZeroOf()[0],s=i.position,l=o?"onZero":s,u=i.dim,c=a.getRect(),d=[c.x,c.x+c.width,c.y,c.y+c.height],h={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,p="x"===u?[d[2]-f,d[3]+f]:[d[0]-f,d[1]+f];if(o){var v=o.toGlobalCoord(o.dataToCoord(0));p[h.onZero]=Math.max(Math.min(v,p[1]),p[0])}r.position=["y"===u?p[h[l]]:d[0],"x"===u?p[h[l]]:d[3]],r.rotation=Math.PI/2*("x"===u?0:1);var g={top:-1,bottom:1,left:-1,right:1};r.labelDirection=r.tickDirection=r.nameDirection=g[s],r.labelOffset=o?p[h[s]]-p[h.onZero]:0,e.get("axisTick.inside")&&(r.tickDirection=-r.tickDirection),D(n.labelInside,e.get("axisLabel.inside"))&&(r.labelDirection=-r.labelDirection);var m=e.get("axisLabel.rotate");return r.labelRotate="top"===l?-m:m,r.z2=1,r}function xd(t,e,n,a){var i=n.axis;if(!i.scale.isBlank()){var r=n.getModel("splitArea"),o=r.getModel("areaStyle"),s=o.get("color"),u=a.coordinateSystem.getRect(),c=i.getTicksCoords({tickModel:r,clamp:!0});if(c.length){var d=s.length,h=t.__splitAreaColors,f=B(),p=0;if(h)for(var v=0;v<c.length;v++){var g=h.get(c[v].tickValue);if(null!=g){p=(g+(d-1)*v)%d;break}}var m=i.toGlobalCoord(c[0].coord),y=o.getAreaStyle();for(s=x(s)?s:[s],v=1;v<c.length;v++){var _,b,w,S,I=i.toGlobalCoord(c[v].coord);i.isHorizontal()?(_=m,b=u.y,w=I-_,S=u.height,m=_+w):(_=u.x,b=m,w=u.width,m=b+(S=I-b));var C=c[v-1].tickValue;null!=C&&f.set(C,p),e.add(new Em({anid:null!=C?"area_"+C:null,shape:{x:_,y:b,width:w,height:S},style:l({fill:s[p]},y),silent:!0})),p=(p+1)%d}t.__splitAreaColors=f}}}function wd(t){t.__splitAreaColors=null}function Sd(t,e,n){sv.call(this),this.updateData(t,e,n)}function Id(t){return[t[0]/2,t[1]/2]}function Cd(t,e){this.parent.drift(t,e)}function kd(t,e){if(!this.incremental&&!this.useHoverLayer)if("emphasis"===e){var n=this.__symbolOriginalScale,a=n[1]/n[0],i={scale:[Math.max(1.1*n[0],n[0]+3),Math.max(1.1*n[1],n[1]+3*a)]};this.animateTo(i,400,"elasticOut")}else"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut")}function Td(t){this.group=new sv,this._symbolCtor=t||Sd}function Od(t,e,n,a){return!(!e||isNaN(e[0])||isNaN(e[1])||a.isIgnore&&a.isIgnore(n)||a.clipShape&&!a.clipShape.contain(e[0],e[1])||"none"===t.getItemVisual(n,"symbol"))}function Dd(t){return null==t||I(t)||(t={isIgnore:t}),t||{}}function Md(t){var e=t.hostModel;return{itemStyle:e.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:e.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),labelModel:e.getModel("label"),hoverLabelModel:e.getModel("emphasis.label"),cursorStyle:e.get("cursor")}}function Pd(t,e,n){var a,i=t.getBaseAxis(),r=t.getOtherAxis(i),o=Ad(r,n),s=i.dim,l=r.dim,u=e.mapDimension(l),c=e.mapDimension(s),d="x"===l||"radius"===l?1:0,h=v(t.dimensions,(function(t){return e.mapDimension(t)})),f=e.getCalculationInfo("stackResultDimension");return(a|=gu(e,h[0]))&&(h[0]=f),(a|=gu(e,h[1]))&&(h[1]=f),{dataDimsForPoint:h,valueStart:o,valueAxisDim:l,baseAxisDim:s,stacked:!!a,valueDim:u,baseDim:c,baseDataOffset:d,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Ad(t,e){var n=0,a=t.scale.getExtent();return"start"===e?n=a[0]:"end"===e?n=a[1]:a[0]>0?n=a[0]:a[1]<0&&(n=a[1]),n}function Ld(t,e,n,a){var i=NaN;t.stacked&&(i=n.get(n.getCalculationInfo("stackedOverDimension"),a)),isNaN(i)&&(i=t.valueStart);var r=t.baseDataOffset,o=[];return o[r]=n.get(t.baseDim,a),o[1-r]=i,e.dataToPoint(o)}function Ed(t,e){var n=[];return e.diff(t).add((function(t){n.push({cmd:"+",idx:t})})).update((function(t,e){n.push({cmd:"=",idx:e,idx1:t})})).remove((function(t){n.push({cmd:"-",idx:t})})).execute(),n}function jd(t){return isNaN(t[0])||isNaN(t[1])}function Nd(t,e,n,a,i,r,o,s,l,u){return"none"!==u&&u?Vd.apply(this,arguments):Rd.apply(this,arguments)}function Vd(t,e,n,a,i,r,o,s,l,u,c){for(var d=0,h=n,f=0;a>f;f++){var p=e[h];if(h>=i||0>h)break;if(jd(p)){if(c){h+=r;continue}break}if(h===n)t[r>0?"moveTo":"lineTo"](p[0],p[1]);else if(l>0){var v=e[d],g="y"===u?1:0,m=(p[g]-v[g])*l;zw(qw,v),qw[g]=v[g]+m,zw($w,p),$w[g]=p[g]-m,t.bezierCurveTo(qw[0],qw[1],$w[0],$w[1],p[0],p[1])}else t.lineTo(p[0],p[1]);d=h,h+=r}return f}function Rd(t,e,n,a,i,r,o,s,l,u,c){for(var d=0,h=n,f=0;a>f;f++){var p=e[h];if(h>=i||0>h)break;if(jd(p)){if(c){h+=r;continue}break}if(h===n)t[r>0?"moveTo":"lineTo"](p[0],p[1]),zw(qw,p);else if(l>0){var v=h+r,g=e[v];if(c)for(;g&&jd(e[v]);)g=e[v+=r];var m=.5,y=e[d];if(!(g=e[v])||jd(g))zw($w,p);else{var _,b;if(jd(g)&&!c&&(g=p),U(Fw,g,y),"x"===u||"y"===u){var x="x"===u?0:1;_=Math.abs(p[x]-y[x]),b=Math.abs(p[x]-g[x])}else _=hp(p,y),b=hp(p,g);Bw($w,p,Fw,-l*(1-(m=b/(b+_))))}Vw(qw,qw,s),Rw(qw,qw,o),Vw($w,$w,s),Rw($w,$w,o),t.bezierCurveTo(qw[0],qw[1],$w[0],$w[1],p[0],p[1]),Bw(qw,p,Fw,l*m)}else t.lineTo(p[0],p[1]);d=h,h+=r}return f}function Bd(t,e){var n=[1/0,1/0],a=[-1/0,-1/0];if(e)for(var i=0;i<t.length;i++){var r=t[i];r[0]<n[0]&&(n[0]=r[0]),r[1]<n[1]&&(n[1]=r[1]),r[0]>a[0]&&(a[0]=r[0]),r[1]>a[1]&&(a[1]=r[1])}return{min:e?n:a,max:e?a:n}}function zd(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++){var a=t[n],i=e[n];if(a[0]!==i[0]||a[1]!==i[1])return}return!0}}function Fd(t,e){var n=[],a=[],i=[],r=[];return Va(t,n,a),Va(e,i,r),Math.max(Math.abs(n[0]-i[0]),Math.abs(n[1]-i[1]),Math.abs(a[0]-r[0]),Math.abs(a[1]-r[1]))}function qd(t){return"number"==typeof t?t:t?.5:0}function $d(t,e,n){if(!n.valueDim)return[];for(var a=[],i=0,r=e.count();r>i;i++)a.push(Ld(n,t,e,i));return a}function Zd(t,e,n){for(var a=e.getBaseAxis(),i="x"===a.dim||"radius"===a.dim?0:1,r=[],o=0;o<t.length-1;o++){var s=t[o+1],l=t[o];r.push(l);var u=[];switch(n){case"end":u[i]=s[i],u[1-i]=l[1-i],r.push(u);break;case"middle":var c=(l[i]+s[i])/2,d=[];u[i]=d[i]=c,u[1-i]=l[1-i],d[1-i]=s[1-i],r.push(u),r.push(d);break;default:u[i]=l[i],u[1-i]=s[1-i],r.push(u)}}return t[o]&&r.push(t[o]),r}function Gd(t,e){var n=t.getVisual("visualMeta");if(n&&n.length&&t.count()){if("cartesian2d"!==e.type)return void(Gf&&console.warn("Visual map on line style is only supported on cartesian2d."));for(var a,i,r=n.length-1;r>=0;r--){var o=n[r].dimension,s=t.dimensions[o],l=t.getDimensionInfo(s);if("x"===(a=l&&l.coordDim)||"y"===a){i=n[r];break}}if(!i)return void(Gf&&console.warn("Visual map on line style only support x or y dimension."));var u=e.getAxis(a),c=v(i.stops,(function(t){return{coord:u.toGlobalCoord(u.dataToCoord(t.value)),color:t.color}})),d=c.length,h=i.outerColors.slice();d&&c[0].coord>c[d-1].coord&&(c.reverse(),h.reverse());var f=10,g=c[0].coord-f,m=c[d-1].coord+f,y=m-g;if(.001>y)return"transparent";p(c,(function(t){t.offset=(t.coord-g)/y})),c.push({offset:d?c[d-1].offset:.5,color:h[1]||"transparent"}),c.unshift({offset:d?c[0].offset:.5,color:h[0]||"transparent"});var _=new qm(0,0,0,0,c,!0);return _[a]=g,_[a+"2"]=m,_}}function Hd(t,e,n){var a=t.get("showAllSymbol"),i="auto"===a;if(!a||i){var r=n.getAxesByScale("ordinal")[0];if(r&&(!i||!Wd(r,e))){var o=e.mapDimension(r.dim),s={};return p(r.getViewLabels(),(function(t){s[t.tickValue]=1})),function(t){return!s.hasOwnProperty(e.get(o,t))}}}}function Wd(t,e){var n=t.getExtent(),a=Math.abs(n[1]-n[0])/t.scale.count();isNaN(a)&&(a=0);for(var i=e.count(),r=Math.max(1,Math.round(i/5)),o=0;i>o;o+=r)if(1.5*Sd.getSymbolSize(e,o)[t.isHorizontal()?1:0]>a)return!1;return!0}function Ud(t,e,n){if("cartesian2d"===t.type){var a=t.getBaseAxis().isHorizontal(),i=Vc(t,e,n);if(!n.get("clip",!0)){var r=i.shape,o=Math.max(r.width,r.height);a?(r.y-=o,r.height+=2*o):(r.x-=o,r.width+=2*o)}return i}return Rc(t,e,n)}function Xd(t,e){this.getAllNames=function(){var t=e();return t.mapArray(t.getName)},this.containName=function(t){return e().indexOfName(t)>=0},this.indexOfName=function(e){return t().indexOfName(e)},this.getItemVisual=function(e,n){return t().getItemVisual(e,n)}}function Yd(t,e,n,a){var i=e.getData(),r=this.dataIndex,o=i.getName(r),s=e.get("selectedOffset");a.dispatchAction({type:"pieToggleSelect",from:t,name:o,seriesId:e.id}),i.each((function(t){Jd(i.getItemGraphicEl(t),i.getItemLayout(t),e.isSelected(i.getName(t)),s,n)}))}function Jd(t,e,n,a,i){var r=(e.startAngle+e.endAngle)/2,o=n?a:0,s=[Math.cos(r)*o,Math.sin(r)*o];i?t.animate().when(200,{position:s}).start("bounceOut"):t.attr("position",s)}function Kd(t,e){sv.call(this);var n=new km({z2:2}),a=new Pm,i=new wm;this.add(n),this.add(a),this.add(i),this.updateData(t,e,!0)}function Qd(t,e,n,a,i,r,o,s,l,u){function c(e,n,a){for(var i=e;n>i&&!(t[i].y+a>l+o);i++)if(t[i].y+=a,i>e&&n>i+1&&t[i+1].y>t[i].y+t[i].height)return void d(i,a/2);d(n-1,a/2)}function d(e,n){for(var a=e;a>=0&&!(t[a].y-n<l)&&(t[a].y-=n,!(a>0&&t[a].y>t[a-1].y+t[a-1].height));a--);}function h(t,e,n,a,i,r){for(var o=e?Number.MAX_VALUE:0,s=0,l=t.length;l>s;s++)if("none"===t[s].labelAlignTo){var u=Math.abs(t[s].y-a),c=t[s].len,d=t[s].len2,h=i+c>u?Math.sqrt((i+c+d)*(i+c+d)-u*u):Math.abs(t[s].x-n);e&&h>=o&&(h=o-10),!e&&o>=h&&(h=o+10),t[s].x=n+h*r,o=h}}t.sort((function(t,e){return t.y-e.y}));for(var f,p=0,v=t.length,g=[],m=[],y=0;v>y;y++){if("outer"===t[y].position&&"labelLine"===t[y].labelAlignTo){var _=t[y].x-u;t[y].linePoints[1][0]+=_,t[y].x=u}0>(f=t[y].y-p)&&c(y,v,-f,i),p=t[y].y+t[y].height}for(0>o-p&&d(v-1,p-o),y=0;v>y;y++)t[y].y>=n?m.push(t[y]):g.push(t[y]);h(g,!1,e,n,a,i),h(m,!0,e,n,a,i)}function th(t,e,n,a,i,r,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,d=-Number.MAX_VALUE,h=0;h<t.length;h++)eh(t[h])||(t[h].x<e?(c=Math.min(c,t[h].x),l.push(t[h])):(d=Math.max(d,t[h].x),u.push(t[h])));for(Qd(u,e,n,a,1,i,r,o,s,d),Qd(l,e,n,a,-1,i,r,o,s,c),h=0;h<t.length;h++){var f=t[h];if(!eh(f)){var p=f.linePoints;if(p){var v,g="edge"===f.labelAlignTo,m=f.textRect.width;(v=g?f.x<e?p[2][0]-f.labelDistance-o-f.labelMargin:o+i-f.labelMargin-p[2][0]-f.labelDistance:f.x<e?f.x-o-f.bleedMargin:o+i-f.x-f.bleedMargin)<f.textRect.width&&(f.text=Ke(f.text,v,f.font),"edge"===f.labelAlignTo&&(m=Ge(f.text,f.font)));var y=p[1][0]-p[2][0];g?p[2][0]=f.x<e?o+f.labelMargin+m+f.labelDistance:o+i-f.labelMargin-m-f.labelDistance:(p[2][0]=f.x<e?f.x+f.labelDistance:f.x-f.labelDistance,p[1][0]=p[2][0]+y),p[1][1]=p[2][1]=f.y}}}}function eh(t){return"center"===t.position}function nh(t,e){return Jr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()})}function ah(t,e,n){var a,i={},r="toggleSelected"===t;return n.eachComponent("legend",(function(n){r&&null!=a?n[a?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),a=n.isSelected(e.name)),p(n.getData(),(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var a=n.isSelected(e);i[e]=i.hasOwnProperty(e)?i[e]&&a:a}}))})),"allSelect"===t||"inverseSelect"===t?{selected:i}:{name:e.name,selected:i}}function ih(t,e){var n=my(e.get("padding")),a=e.getItemStyle(["color","opacity"]);return a.fill=e.get("backgroundColor"),t=new Em({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:a,silent:!0,z2:-1})}function rh(t,e,n,a,i,r){var o;return"line"!==e&&e.indexOf("empty")<0?(o=n.getItemStyle(),t.style.stroke=a,r||(o.stroke=i)):o=n.getItemStyle(["borderWidth","borderColor"]),t.setStyle(o)}function oh(t,e,n,a){lh(t,e,n,a),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),sh(t,e,n,a)}function sh(t,e,n,a){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:a})}function lh(t,e,n,a){var i=n.getZr().storage.getDisplayList()[0];i&&i.useHoverLayer||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:a})}function uh(t,e,n){var a=[1,1];a[t.getOrient().index]=0,Qr(e,n,{type:"box",ignoreSize:a})}function ch(t,e,n,a,i){var r=t.axis;if(!r.scale.isBlank()&&r.containData(e)){if(!t.involveSeries)return void n.showPointer(t,e);var o=dh(e,t),l=o.payloadBatch,u=o.snapToValue;l[0]&&null==i.seriesIndex&&s(i,l[0]),!a&&t.snap&&r.containData(u)&&null!=u&&(e=u),n.showPointer(t,e,l,i),n.showTooltip(t,o,u)}}function dh(t,e){var n=e.axis,a=n.dim,i=t,r=[],o=Number.MAX_VALUE,s=-1;return SS(e.seriesModels,(function(e){var l,u,c=e.getData().mapDimension(a,!0);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(c,t,n);u=d.dataIndices,l=d.nestestValue}else{if(!(u=e.getData().indicesOfNearest(c[0],t,"category"===n.type?.5:null)).length)return;l=e.getData().get(c[0],u[0])}if(null!=l&&isFinite(l)){var h=t-l,f=Math.abs(h);o>=f&&((o>f||h>=0&&0>s)&&(o=f,s=h,i=l,r.length=0),SS(u,(function(t){r.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:r,snapToValue:i}}function hh(t,e,n,a){t[e.key]={value:n,payloadBatch:a}}function fh(t,e,n,a){var i=n.payloadBatch,r=e.axis,o=r.model,s=e.axisPointerModel;if(e.triggerTooltip&&i.length){var l=e.coordSys.model,u=md(l),c=t.map[u];c||(c=t.map[u]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(c)),c.dataByAxis.push({axisDim:r.dim,axisIndex:o.componentIndex,axisType:o.type,axisId:o.id,value:a,valueLabelOpt:{precision:s.get("label.precision"),formatter:s.get("label.formatter")},seriesDataIndices:i.slice()})}}function ph(t,e,n){var a=n.axesInfo=[];SS(e,(function(e,n){var i=e.axisPointerModel.option,r=t[n];r?(!e.useHandle&&(i.status="show"),i.value=r.value,i.seriesDataIndices=(r.payloadBatch||[]).slice()):!e.useHandle&&(i.status="hide"),"show"===i.status&&a.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:i.value})}))}function vh(t,e,n,a){if(!_h(e)&&t.list.length){var i=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};a({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:t.list})}else a({type:"hideTip"})}function gh(t,e,n){var a=n.getZr(),i="axisPointerLastHighlights",r=CS(a)[i]||{},o=CS(a)[i]={};SS(t,(function(t){var e=t.axisPointerModel.option;"show"===e.status&&SS(e.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;o[e]=t}))}));var s=[],l=[];p(r,(function(t,e){!o[e]&&l.push(t)})),p(o,(function(t,e){!r[e]&&s.push(t)})),l.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,batch:l}),s.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,batch:s})}function mh(t,e){for(var n=0;n<(t||[]).length;n++){var a=t[n];if(e.axis.dim===a.axisDim&&e.axis.model.componentIndex===a.axisIndex)return a}}function yh(t){var e=t.axis.model,n={},a=n.axisDim=t.axis.dim;return n.axisIndex=n[a+"AxisIndex"]=e.componentIndex,n.axisName=n[a+"AxisName"]=e.name,n.axisId=n[a+"AxisId"]=e.id,n}function _h(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function bh(t,e,n){if(!Uf.node){var a=e.getZr();TS(a).records||(TS(a).records={}),xh(a,e),(TS(a).records[t]||(TS(a).records[t]={})).handler=n}}function xh(t,e){function n(n,a){t.on(n,(function(n){var i=Ch(e);OS(TS(t).records,(function(t){t&&a(t,n,i.dispatchAction)})),wh(i.pendings,e)}))}TS(t).initialized||(TS(t).initialized=!0,n("click",b(Ih,"click")),n("mousemove",b(Ih,"mousemove")),n("globalout",Sh))}function wh(t,e){var n,a=t.showTip.length,i=t.hideTip.length;a?n=t.showTip[a-1]:i&&(n=t.hideTip[i-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}function Sh(t,e,n){t.handler("leave",null,n)}function Ih(t,e,n,a){e.handler(t,n,a)}function Ch(t){var e={showTip:[],hideTip:[]},n=function n(a){var i=e[a.type];i?i.push(a):(a.dispatchAction=n,t.dispatchAction(a))};return{dispatchAction:n,pendings:e}}function kh(t,e){if(!Uf.node){var n=e.getZr();(TS(n).records||{})[t]&&(TS(n).records[t]=null)}}function Th(){}function Oh(t,e,n,a){Dh(MS(n).lastProp,a)||(MS(n).lastProp=a,e?er(n,a,t):(n.stopAnimation(),n.attr(a)))}function Dh(t,e){if(I(t)&&I(e)){var n=!0;return p(e,(function(e,a){n=n&&Dh(t[a],e)})),!!n}return t===e}function Mh(t,e){t[e.get("label.show")?"show":"hide"]()}function Ph(t){return{position:t.position.slice(),rotation:t.rotation||0}}function Ah(t,e,n){var a=e.get("z"),i=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=a&&(t.z=a),null!=i&&(t.zlevel=i),t.silent=n)}))}function Lh(t){var e,n=t.get("type"),a=t.getModel(n+"Style");return"line"===n?(e=a.getLineStyle()).fill=null:"shadow"===n&&((e=a.getAreaStyle()).stroke=null),e}function Eh(t,e,n,a,i){var r=Nh(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get("label.precision"),formatter:n.get("label.formatter")}),o=n.getModel("label"),s=my(o.get("padding")||0),l=o.getFont(),u=He(r,l),c=i.position,d=u.width+s[1]+s[3],h=u.height+s[0]+s[2],f=i.align;"right"===f&&(c[0]-=d),"center"===f&&(c[0]-=d/2);var p=i.verticalAlign;"bottom"===p&&(c[1]-=h),"middle"===p&&(c[1]-=h/2),jh(c,d,h,a);var v=o.get("backgroundColor");v&&"auto"!==v||(v=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:d,height:h,r:o.get("borderRadius")},position:c.slice(),style:{text:r,textFont:l,textFill:o.getTextColor(),textPosition:"inside",textPadding:s,fill:v,stroke:o.get("borderColor")||"transparent",lineWidth:o.get("borderWidth")||0,shadowBlur:o.get("shadowBlur"),shadowColor:o.get("shadowColor"),shadowOffsetX:o.get("shadowOffsetX"),shadowOffsetY:o.get("shadowOffsetY")},z2:10}}function jh(t,e,n,a){var i=a.getWidth(),r=a.getHeight();t[0]=Math.min(t[0]+e,i)-e,t[1]=Math.min(t[1]+n,r)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function Nh(t,e,n,a,i){t=e.scale.parse(t);var r=e.scale.getLabel(t,{precision:i.precision}),o=i.formatter;if(o){var s={value:Wu(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};p(a,(function(t){var e=n.getSeriesByIndex(t.seriesIndex),a=t.dataIndexInside,i=e&&e.getDataParams(a);i&&s.seriesData.push(i)})),S(o)?r=o.replace("{value}",r):w(o)&&(r=o(s))}return r}function Vh(t,e,n){var a=Et();return Bt(a,a,n.rotation),Rt(a,a,n.position),ir([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],a)}function Rh(t,e,n,a,i,r){var o=mw.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=i.get("label.margin"),Eh(e,a,i,r,{position:Vh(a.axis,t,n),align:o.textAlign,verticalAlign:o.textVerticalAlign})}function Bh(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}}function zh(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}function Fh(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}function qh(t){return"x"===t.dim?0:1}function $h(t){var e="cubic-bezier(0.23, 1, 0.32, 1)",n="left "+t+"s "+e+",top "+t+"s "+e;return v(VS,(function(t){return t+"transition:"+n})).join(";")}function Zh(t){var e=[],n=t.get("fontSize"),a=t.getTextColor();a&&e.push("color:"+a),e.push("font:"+t.getFont());var i=t.get("lineHeight");null==i&&(i=Math.round(3*n/2)),n&&e.push("line-height:"+i+"px");var r=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,s=t.get("textShadowOffsetX")||0,l=t.get("textShadowOffsetY")||0;return o&&e.push("text-shadow:"+s+"px "+l+"px "+o+"px "+r),jS(["decoration","align"],(function(n){var a=t.get(n);a&&e.push("text-"+n+":"+a)})),e.join(";")}function Gh(t){var e=[],n=t.get("transitionDuration"),a=t.get("backgroundColor"),i=t.getModel("textStyle"),r=t.get("padding");return n&&e.push($h(n)),a&&(Uf.canvasSupported?e.push("background-Color:"+a):(e.push("background-Color:#"+re(a)),e.push("filter:alpha(opacity=70)"))),jS(["width","color","radius"],(function(n){var a="border-"+n,i=NS(a),r=t.get(i);null!=r&&e.push(a+":"+r+("color"===n?"":"px"))})),e.push(Zh(i)),null!=r&&e.push("padding:"+my(r).join("px ")+"px"),e.join(";")+";"}function Hh(t,e,n,a,i){var r=e&&e.painter;if(n){var o=r&&r.getViewportRoot();o&&vt(t,o,document.body,a,i)}else{t[0]=a,t[1]=i;var s=r&&r.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function Wh(t,e,n){if(Uf.wxa)return null;var a=document.createElement("div");a.domBelongToZr=!0,this.el=a;var i=this._zr=e.getZr(),r=this._appendToBody=n&&n.appendToBody;this._styleCoord=[0,0,0,0],Hh(this._styleCoord,i,r,e.getWidth()/2,e.getHeight()/2),r?document.body.appendChild(a):t.appendChild(a),this._container=t,this._show=!1,this._hideTimeout;var o=this;a.onmouseenter=function(){o._enterable&&(clearTimeout(o._hideTimeout),o._show=!0),o._inContent=!0},a.onmousemove=function(t){if(t=t||window.event,!o._enterable){var e=i.handler;St(i.painter.getViewportRoot(),t,!0),e.dispatch("mousemove",t)}},a.onmouseleave=function(){o._enterable&&o._show&&o.hideLater(o._hideDelay),o._inContent=!1}}function Uh(t,e,n,a){t[0]=n,t[1]=a,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function Xh(t){var e=this._zr=t.getZr();this._styleCoord=[0,0,0,0],Uh(this._styleCoord,e,t.getWidth()/2,t.getHeight()/2),this._show=!1,this._hideTimeout}function Yh(t){for(var e=t.pop();t.length;){var n=t.pop();n&&(pr.isInstance(n)&&(n=n.get("tooltip",!0)),"string"==typeof n&&(n={formatter:n}),e=new pr(n,e,e.ecModel))}return e}function Jh(t,e){return t.dispatchAction||_(e.dispatchAction,e)}function Kh(t,e,n,a,i,r,o){var s=n.getOuterSize(),l=s.width,u=s.height;return null!=r&&(t+l+r>a?t-=l+r:t+=r),null!=o&&(e+u+o>i?e-=u+o:e+=o),[t,e]}function Qh(t,e,n,a,i){var r=n.getOuterSize(),o=r.width,s=r.height;return t=Math.min(t+o,a)-o,e=Math.min(e+s,i)-s,[t=Math.max(t,0),e=Math.max(e,0)]}function tf(t,e,n){var a=n[0],i=n[1],r=5,o=0,s=0,l=e.width,u=e.height;switch(t){case"inside":o=e.x+l/2-a/2,s=e.y+u/2-i/2;break;case"top":o=e.x+l/2-a/2,s=e.y-i-r;break;case"bottom":o=e.x+l/2-a/2,s=e.y+u+r;break;case"left":o=e.x-a-r,s=e.y+u/2-i/2;break;case"right":o=e.x+l+r,s=e.y+u/2-i/2}return[o,s]}function ef(t){return"center"===t||"middle"===t}function nf(t){return c($S,t)>=0}function af(t,e){var n=v(t=t.slice(),Hr),a=v(e=(e||[]).slice(),Hr);return function(i,r){p(t,(function(t,o){for(var s={name:t,capital:n[o]},l=0;l<e.length;l++)s[e[l]]=t+a[l];i.call(r,s)}))}}function rf(t,e,n){function a(t,e){return c(e.nodes,t)>=0}function i(t,a){var i=!1;return e((function(e){p(n(t,e)||[],(function(t){a.records[e.name][t]&&(i=!0)}))})),i}function r(t,a){a.nodes.push(t),e((function(e){p(n(t,e)||[],(function(t){a.records[e.name][t]=!0}))}))}return function(n){function o(t){!a(t,l)&&i(t,l)&&(r(t,l),s=!0)}var s,l={nodes:[],records:{}};if(e((function(t){l.records[t.name]={}})),!n)return l;r(n,l);do{s=!1,t(o)}while(s);return l}}function of(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:0>n?1:e?-1:1}}function sf(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}function lf(t,e,n){var a=[1/0,-1/0];return HS(n,(function(t){var n=t.getData();n&&HS(n.mapDimension(e,!0),(function(t){var e=n.getApproximateExtent(t);e[0]<a[0]&&(a[0]=e[0]),e[1]>a[1]&&(a[1]=e[1])}))})),a[1]<a[0]&&(a=[NaN,NaN]),uf(t,a),a}function uf(t,e){var n=t.getAxisModel(),a=n.getMin(!0),i="category"===n.get("type"),r=i&&n.getCategories().length;null!=a&&"dataMin"!==a&&"function"!=typeof a?e[0]=a:i&&(e[0]=r>0?0:NaN);var o=n.getMax(!0);return null!=o&&"dataMax"!==o&&"function"!=typeof o?e[1]=o:i&&(e[1]=r>0?r-1:NaN),n.get("scale",!0)||(e[0]>0&&(e[0]=0),e[1]<0&&(e[1]=0)),e}function cf(t,e){var n=t.getAxisModel(),a=t._percentWindow,i=t._valueWindow;if(a){var r=Tr(i,[0,500]);r=Math.min(r,20);var o=e||0===a[0]&&100===a[1];n.setRange(o?null:+i[0].toFixed(r),o?null:+i[1].toFixed(r))}}function df(t){var e=t._minMaxSpan={},n=t._dataZoomModel,a=t._dataExtent;HS(["min","max"],(function(i){var r=n.get(i+"Span"),o=n.get(i+"ValueSpan");null!=o&&(o=t.getAxisModel().axis.scale.parse(o)),null!=o?r=xr(a[0]+o,a,[0,100],!0):null!=r&&(o=xr(r,[0,100],a,!0)-a[0]),e[i+"Span"]=r,e[i+"ValueSpan"]=o}))}function hf(t){var e={};return XS(["start","end","startValue","endValue","throttle"],(function(n){t.hasOwnProperty(n)&&(e[n]=t[n])})),e}function ff(t,e){var n=t._rangePropMode,a=t.get("rangeMode");XS([["start","startValue"],["end","endValue"]],(function(t,i){var r=null!=e[t[0]],o=null!=e[t[1]];r&&!o?n[i]="percent":!r&&o?n[i]="value":a?n[i]=a[i]:r&&(n[i]="percent")}))}function pf(t){return{x:"y",y:"x",radius:"angle",angle:"radius"}[t]}function vf(t){return"vertical"===t?"ns-resize":"ew-resize"}function gf(t,e){return!!mf(t)[e]}function mf(t){return t[hI]||(t[hI]={})}function yf(t){this.pointerChecker,this._zr=t,this._opt={};var e=_,n=e(_f,this),a=e(bf,this),r=e(xf,this),o=e(wf,this),s=e(Sf,this);gp.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(e,u){this.disable(),this._opt=l(i(u)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==e&&(e=!0),(!0===e||"move"===e||"pan"===e)&&(t.on("mousedown",n),t.on("mousemove",a),t.on("mouseup",r)),(!0===e||"scale"===e||"zoom"===e)&&(t.on("mousewheel",o),t.on("pinch",s))},this.disable=function(){t.off("mousedown",n),t.off("mousemove",a),t.off("mouseup",r),t.off("mousewheel",o),t.off("pinch",s)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function _f(t){if(!(kt(t)||t.target&&t.target.draggable)){var e=t.offsetX,n=t.offsetY;this.pointerChecker&&this.pointerChecker(t,e,n)&&(this._x=e,this._y=n,this._dragging=!0)}}function bf(t){if(this._dragging&&kf("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!gf(this._zr,"globalPan")){var e=t.offsetX,n=t.offsetY,a=this._x,i=this._y,r=e-a,o=n-i;this._x=e,this._y=n,this._opt.preventDefaultMouseMove&&Sp(t.event),Cf(this,"pan","moveOnMouseMove",t,{dx:r,dy:o,oldX:a,oldY:i,newX:e,newY:n})}}function xf(t){kt(t)||(this._dragging=!1)}function wf(t){var e=kf("zoomOnMouseWheel",t,this._opt),n=kf("moveOnMouseWheel",t,this._opt),a=t.wheelDelta,i=Math.abs(a),r=t.offsetX,o=t.offsetY;if(0!==a&&(e||n)){if(e){var s=i>3?1.4:i>1?1.2:1.1;If(this,"zoom","zoomOnMouseWheel",t,{scale:a>0?s:1/s,originX:r,originY:o})}if(n){var l=Math.abs(a);If(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(a>0?1:-1)*(l>3?.4:l>1?.15:.05),originX:r,originY:o})}}}function Sf(t){gf(this._zr,"globalPan")||If(this,"zoom",null,t,{scale:t.pinchScale>1?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function If(t,e,n,a,i){t.pointerChecker&&t.pointerChecker(a,i.originX,i.originY)&&(Sp(a.event),Cf(t,e,n,a,i))}function Cf(t,e,n,a,i){i.isAvailableBehavior=_(kf,null,n,a),t.trigger(e,i)}function kf(t,e,n){var a=n[t];return!t||a&&(!S(a)||e.event[a+"Key"])}function Tf(t,e){var n=Mf(t),a=e.dataZoomId,i=e.coordId;p(n,(function(t){var n=t.dataZoomInfos;n[a]&&c(e.allCoordIds,i)<0&&(delete n[a],t.count--)})),Af(n);var r=n[i];r||((r=n[i]={coordId:i,dataZoomInfos:{},count:0}).controller=Pf(t,r),r.dispatchAction=b(Lf,t)),!r.dataZoomInfos[a]&&r.count++,r.dataZoomInfos[a]=e;var o=Ef(r.dataZoomInfos);r.controller.enable(o.controlType,o.opt),r.controller.setPointerChecker(e.containsPoint),bs(r,"dispatchAction",e.dataZoomModel.get("throttle",!0),"fixRate")}function Of(t,e){var n=Mf(t);p(n,(function(t){t.controller.dispose();var n=t.dataZoomInfos;n[e]&&(delete n[e],t.count--)})),Af(n)}function Df(t){return t.type+"\0_"+t.id}function Mf(t){var e=t.getZr();return e[fI]||(e[fI]={})}function Pf(t,e){var n=new yf(t.getZr());return p(["pan","zoom","scrollMove"],(function(t){n.on(t,(function(n){var a=[];p(e.dataZoomInfos,(function(i){if(n.isAvailableBehavior(i.dataZoomModel.option)){var r=(i.getRange||{})[t],o=r&&r(e.controller,n);!i.dataZoomModel.get("disabled",!0)&&o&&a.push({dataZoomId:i.dataZoomId,start:o[0],end:o[1]})}})),a.length&&e.dispatchAction(a)}))})),n}function Af(t){p(t,(function(e,n){e.count||(e.controller.dispose(),delete t[n])}))}function Lf(t,e){t.dispatchAction({type:"dataZoom",batch:e})}function Ef(t){var e,n="type_",a={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return p(t,(function(t){var r=t.dataZoomModel,o=!r.get("disabled",!0)&&(!r.get("zoomLock",!0)||"move");a[n+o]>a[n+e]&&(e=o),i&=r.get("preventDefaultMouseMove",!0)})),{controlType:e,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}function jf(t){return function(e,n,a,i){var r=this._range,o=r.slice(),s=e.axisModels[0];if(s){var l=t(o,s,e,n,a,i);return GS(l,o,[0,100],"all"),this._range=o,r[0]!==o[0]||r[1]!==o[1]?o:void 0}}}function Nf(t,e,n,a){var i=n.type;Gf&&E(i,"graphic type MUST be set");var r=yI.hasOwnProperty(i)?yI[i]:_i(i);Gf&&E(r,"graphic type can not be found");var o=new r(n);e.add(o),a.set(t,o),o.__ecGraphicId=t}function Vf(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse((function(t){Vf(t,e)})),e.removeKey(t.__ecGraphicId),n.remove(t))}function Rf(t){return t=s({},t),p(["id","parentId","$action","hv","bounding"].concat(Cy),(function(e){delete t[e]})),t}function Bf(t,e){var n;return p(e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}function zf(t,e){var n=t.exist;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var a=e.parentOption;a?e.parentId=a.id:n&&(e.parentId=n.parentId)}e.parentOption=null}function Ff(t,e,n){var a=s({},n),i=t[e],o=n.$action||"merge";if("merge"===o)if(i){if(Gf){var l=n.type;E(!l||i.type===l,'Please set $action: "replace" to change `type`')}r(i,a,!0),Qr(i,a,{ignoreSize:!0}),eo(n,i)}else t[e]=a;else"replace"===o?t[e]=a:"remove"===o&&i&&(t[e]=null)}function qf(t,e){t&&(t.hv=e.hv=[Bf(e,["left","right"]),Bf(e,["top","bottom"])],"group"===t.type&&(null==t.width&&(t.width=e.width=0),null==t.height&&(t.height=e.height=0)))}function $f(t,e){var n=t.eventData;t.silent||t.ignore||n||(n=t.eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),n&&(n.info=t.info)}var Zf;"undefined"!=typeof window?Zf=window.__DEV__:void 0!==n.g&&(Zf=n.g.__DEV__),void 0===Zf&&(Zf=!0);var Gf=Zf,Hf=2311,Wf=function(){return Hf++},Uf="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:e(navigator.userAgent),Xf={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},Yf={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},Jf=Object.prototype.toString,Kf=Array.prototype,Qf=Kf.forEach,tp=Kf.filter,ep=Kf.slice,np=Kf.map,ap=Kf.reduce,ip={},rp=function(){return ip.createCanvas()};ip.createCanvas=function(){return document.createElement("canvas")};var op,sp="__ec_primitive__";R.prototype={constructor:R,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var n in void 0!==e&&(t=_(t,e)),this.data)this.data.hasOwnProperty(n)&&t(this.data[n],n)},removeKey:function(t){delete this.data[t]}};var lp=(Object.freeze||Object)({$override:a,clone:i,merge:r,mergeAll:o,extend:s,defaults:l,createCanvas:rp,getContext:u,indexOf:c,inherits:d,mixin:h,isArrayLike:f,each:p,map:v,reduce:g,filter:m,find:y,bind:_,curry:b,isArray:x,isFunction:w,isString:S,isObject:I,isBuiltInObject:C,isTypedArray:k,isDom:T,eqNaN:O,retrieve:D,retrieve2:M,retrieve3:P,slice:A,normalizeCssArray:L,assert:E,trim:j,setAsPrimitive:N,isPrimitive:V,createHashMap:B,concatArray:z,noop:F}),up="undefined"==typeof Float32Array?Array:Float32Array,cp=X,dp=Y,hp=nt,fp=at,pp=(Object.freeze||Object)({create:q,copy:$,clone:Z,set:G,add:H,scaleAndAdd:W,sub:U,len:X,length:cp,lenSquare:Y,lengthSquare:dp,mul:J,div:K,dot:Q,scale:tt,normalize:et,distance:nt,dist:hp,distanceSquare:at,distSquare:fp,negate:it,lerp:rt,applyTransform:ot,min:st,max:lt});ut.prototype={constructor:ut,_dragStart:function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(ct(e,t),"dragstart",t.event))},_drag:function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,a=t.offsetY,i=n-this._x,r=a-this._y;this._x=n,this._y=a,e.drift(i,r,t),this.dispatchToElement(ct(e,t),"drag",t.event);var o=this.findHover(n,a,e).target,s=this._dropTarget;this._dropTarget=o,e!==o&&(s&&o!==s&&this.dispatchToElement(ct(s,t),"dragleave",t.event),o&&o!==s&&this.dispatchToElement(ct(o,t),"dragenter",t.event))}},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(ct(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(ct(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var vp=Array.prototype.slice,gp=function(t){this._$handlers={},this._$eventProcessor=t};gp.prototype={constructor:gp,one:function(t,e,n,a){return ht(this,t,e,n,a,!0)},on:function(t,e,n,a){return ht(this,t,e,n,a,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var n=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var a=[],i=0,r=n[t].length;r>i;i++)n[t][i].h!==e&&a.push(n[t][i]);n[t]=a}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},trigger:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var a=arguments,i=a.length;i>3&&(a=vp.call(a,1));for(var r=e.length,o=0;r>o;){var s=e[o];if(n&&n.filter&&null!=s.query&&!n.filter(t,s.query))o++;else{switch(i){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,a[1]);break;case 3:s.h.call(s.ctx,a[1],a[2]);break;default:s.h.apply(s.ctx,a)}s.one?(e.splice(o,1),r--):o++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],n=this._$eventProcessor;if(e){var a=arguments,i=a.length;i>4&&(a=vp.call(a,1,a.length-1));for(var r=a[a.length-1],o=e.length,s=0;o>s;){var l=e[s];if(n&&n.filter&&null!=l.query&&!n.filter(t,l.query))s++;else{switch(i){case 1:l.h.call(r);break;case 2:l.h.call(r,a[1]);break;case 3:l.h.call(r,a[1],a[2]);break;default:l.h.apply(r,a)}l.one?(e.splice(s,1),o--):s++}}}return n&&n.afterTrigger&&n.afterTrigger(t),this}};var mp=Math.log(2),yp="___zrEVENTSAVED",_p=[],bp="undefined"!=typeof window&&!!window.addEventListener,xp=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,wp=[],Sp=bp?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0},Ip=function(){this._track=[]};Ip.prototype={constructor:Ip,recognize:function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,n){var a=t.touches;if(a){for(var i={points:[],touches:[],target:e,event:t},r=0,o=a.length;o>r;r++){var s=a[r],l=bt(n,s,{});i.points.push([l.zrX,l.zrY]),i.touches.push(s)}this._track.push(i)}},_recognize:function(t){for(var e in Cp)if(Cp.hasOwnProperty(e)){var n=Cp[e](this._track,t);if(n)return n}}};var Cp={pinch:function(t,e){var n=t.length;if(n){var a=(t[n-1]||{}).points,i=(t[n-2]||{}).points||a;if(i&&i.length>1&&a&&a.length>1){var r=Tt(a)/Tt(i);!isFinite(r)&&(r=1),e.pinchScale=r;var o=Ot(a);return e.pinchX=o[0],e.pinchY=o[1],{type:"pinch",target:t[0].target,event:e}}}}},kp="silent";Pt.prototype.dispose=function(){};var Tp=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Op=function(t,e,n,a){gp.call(this),this.storage=t,this.painter=e,this.painterRoot=a,n=n||new Pt,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,ut.call(this),this.setHandlerProxy(n)};Op.prototype={constructor:Op,setHandlerProxy:function(t){this.proxy&&this.proxy.dispose(),t&&(p(Tp,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},mousemove:function(t){var e=t.zrX,n=t.zrY,a=Lt(this,e,n),i=this._hovered,r=i.target;r&&!r.__zr&&(r=(i=this.findHover(i.x,i.y)).target);var o=this._hovered=a?{x:e,y:n}:this.findHover(e,n),s=o.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),r&&s!==r&&this.dispatchToElement(i,"mouseout",t),this.dispatchToElement(o,"mousemove",t),s&&s!==r&&this.dispatchToElement(o,"mouseover",t)},mouseout:function(t){var e=t.zrEventControl,n=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&!n&&this.trigger("globalout",{type:"globalout",event:t})},resize:function(){this._hovered={}},dispatch:function(t,e){var n=this[t];n&&n.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,n){var a=(t=t||{}).target;if(!a||!a.silent){for(var i="on"+e,r=Dt(e,t,n);a&&(a[i]&&(r.cancelBubble=a[i].call(a,r)),a.trigger(e,r),a=a.parent,!r.cancelBubble););r.cancelBubble||(this.trigger(e,r),this.painter&&this.painter.eachOtherLayer((function(t){"function"==typeof t[i]&&t[i].call(t,r),t.trigger&&t.trigger(e,r)})))}},findHover:function(t,e,n){for(var a=this.storage.getDisplayList(),i={x:t,y:e},r=a.length-1;r>=0;r--){var o;if(a[r]!==n&&!a[r].ignore&&(o=At(a[r],t,e))&&(!i.topTarget&&(i.topTarget=a[r]),o!==kp)){i.target=a[r];break}}return i},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new Ip);var n=this._gestureMgr;"start"===e&&n.clear();var a=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),a){var i=a.type;t.gestureEvent=i,this.dispatchToElement({target:a.target},i,a.event)}}},p(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){Op.prototype[t]=function(e){var n,a,i=e.zrX,r=e.zrY,o=Lt(this,i,r);if("mouseup"===t&&o||(a=(n=this.findHover(i,r)).target),"mousedown"===t)this._downEl=a,this._downPoint=[e.zrX,e.zrY],this._upEl=a;else if("mouseup"===t)this._upEl=a;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||hp(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}})),h(Op,gp),h(Op,ut);var Dp="undefined"==typeof Float32Array?Array:Float32Array,Mp=(Object.freeze||Object)({create:Et,identity:jt,copy:Nt,mul:Vt,translate:Rt,rotate:Bt,scale:zt,invert:Ft,clone:qt}),Pp=jt,Ap=5e-5,Lp=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},Ep=Lp.prototype;Ep.transform=null,Ep.needLocalTransform=function(){return $t(this.rotation)||$t(this.position[0])||$t(this.position[1])||$t(this.scale[0]-1)||$t(this.scale[1]-1)};var jp=[];Ep.updateTransform=function(){var t=this.parent,e=t&&t.transform,n=this.needLocalTransform(),a=this.transform;if(n||e){a=a||Et(),n?this.getLocalTransform(a):Pp(a),e&&(n?Vt(a,t.transform,a):Nt(a,t.transform)),this.transform=a;var i=this.globalScaleRatio;if(null!=i&&1!==i){this.getGlobalScale(jp);var r=jp[0]<0?-1:1,o=jp[1]<0?-1:1,s=((jp[0]-r)*i+r)/jp[0]||0,l=((jp[1]-o)*i+o)/jp[1]||0;a[0]*=s,a[1]*=s,a[2]*=l,a[3]*=l}this.invTransform=this.invTransform||Et(),Ft(this.invTransform,a)}else a&&Pp(a)},Ep.getLocalTransform=function(t){return Lp.getLocalTransform(this,t)},Ep.setTransform=function(t){var e=this.transform,n=t.dpr||1;e?t.setTransform(n*e[0],n*e[1],n*e[2],n*e[3],n*e[4],n*e[5]):t.setTransform(n,0,0,n,0,0)},Ep.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var Np=[],Vp=Et();Ep.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],a=this.position,i=this.scale;$t(e-1)&&(e=Math.sqrt(e)),$t(n-1)&&(n=Math.sqrt(n)),t[0]<0&&(e=-e),t[3]<0&&(n=-n),a[0]=t[4],a[1]=t[5],i[0]=e,i[1]=n,this.rotation=Math.atan2(-t[1]/n,t[0]/e)}},Ep.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Vt(Np,t.invTransform,e),e=Np);var n=this.origin;n&&(n[0]||n[1])&&(Vp[4]=n[0],Vp[5]=n[1],Vt(Np,e,Vp),Np[4]-=n[0],Np[5]-=n[1],e=Np),this.setLocalTransform(e)}},Ep.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},Ep.transformCoordToLocal=function(t,e){var n=[t,e],a=this.invTransform;return a&&ot(n,n,a),n},Ep.transformCoordToGlobal=function(t,e){var n=[t,e],a=this.transform;return a&&ot(n,n,a),n},Lp.getLocalTransform=function(t,e){Pp(e=e||[]);var n=t.origin,a=t.scale||[1,1],i=t.rotation||0,r=t.position||[0,0];return n&&(e[4]-=n[0],e[5]-=n[1]),zt(e,e,a),i&&Bt(e,e,i),n&&(e[4]+=n[0],e[5]+=n[1]),e[4]+=r[0],e[5]+=r[1],e};var Rp={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1,a=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=a/4):e=a*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/a))},elasticOut:function(t){var e,n=.1,a=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=a/4):e=a*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin(2*(t-e)*Math.PI/a)+1)},elasticInOut:function(t){var e,n=.1,a=.4;return 0===t?0:1===t?1:(!n||1>n?(n=1,e=a/4):e=a*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?-.5*n*Math.pow(2,10*(t-=1))*Math.sin(2*(t-e)*Math.PI/a):n*Math.pow(2,-10*(t-=1))*Math.sin(2*(t-e)*Math.PI/a)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-Rp.bounceOut(1-t)},bounceOut:function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return.5>t?.5*Rp.bounceIn(2*t):.5*Rp.bounceOut(2*t-1)+.5}};Zt.prototype={constructor:Zt,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var n=(t-this._startTime-this._pausedTime)/this._life;if(!(0>n)){n=Math.min(n,1);var a=this.easing,i="string"==typeof a?Rp[a]:a,r="function"==typeof i?i(n):n;return this.fire("frame",r),1===n?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};var Bp=function(){this.head=null,this.tail=null,this._len=0},zp=Bp.prototype;zp.insert=function(t){var e=new Fp(t);return this.insertEntry(e),e},zp.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},zp.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},zp.len=function(){return this._len},zp.clear=function(){this.head=this.tail=null,this._len=0};var Fp=function(t){this.value=t,this.next,this.prev},qp=function(t){this._list=new Bp,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},$p=qp.prototype;$p.put=function(t,e){var n=this._list,a=this._map,i=null;if(null==a[t]){var r=n.len(),o=this._lastRemovedEntry;if(r>=this._maxSize&&r>0){var s=n.head;n.remove(s),delete a[s.key],i=s.value,this._lastRemovedEntry=s}o?o.value=e:o=new Fp(e),o.key=t,n.insertEntry(o),a[t]=o}return i},$p.get=function(t){var e=this._map[t],n=this._list;return null!=e?(e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value):void 0},$p.clear=function(){this._list.clear(),this._map={}};var Zp={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]},Gp=new qp(20),Hp=null,Wp=oe,Up=se,Xp=(Object.freeze||Object)({parse:ee,lift:ie,toHex:re,fastLerp:oe,fastMapToColor:Wp,lerp:se,mapToColor:Up,modifyHSL:le,modifyAlpha:ue,stringify:ce}),Yp=Array.prototype.slice,Jp=function(t,e,n,a){this._tracks={},this._target=t,this._loop=e||!1,this._getter=n||de,this._setter=a||he,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]};Jp.prototype={when:function(t,e){var n=this._tracks;for(var a in e)if(e.hasOwnProperty(a)){if(!n[a]){n[a]=[];var i=this._getter(this._target,a);if(null==i)continue;0!==t&&n[a].push({time:0,value:be(i)})}n[a].push({time:t,value:e[a]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,n=0;e>n;n++)t[n].call(this)},start:function(t,e){var n,a=this,i=0,r=function(){--i||a._doneCallback()};for(var o in this._tracks)if(this._tracks.hasOwnProperty(o)){var s=Se(this,t,r,this._tracks[o],o,e);s&&(this._clipList.push(s),i++,this.animation&&this.animation.addClip(s),n=s)}if(n){var l=n.onframe;n.onframe=function(t,e){l(t,e);for(var n=0;n<a._onframeList.length;n++)a._onframeList[n](t,e)}}return i||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,n=this.animation,a=0;a<e.length;a++){var i=e[a];t&&i.onframe(this._target,1),n&&n.removeClip(i)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var Kp=1;"undefined"!=typeof window&&(Kp=Math.max(window.devicePixelRatio||1,1));var Qp=Kp,tv=function(){},ev=tv,nv=function(){this.animators=[]};nv.prototype={constructor:nv,animate:function(t,e){var n,a=!1,i=this,r=this.__zr;if(t){var o=t.split("."),s=i;a="shape"===o[0];for(var l=0,u=o.length;u>l;l++)s&&(s=s[o[l]]);s&&(n=s)}else n=i;if(n){var d=i.animators,h=new Jp(n,e);return h.during((function(){i.dirty(a)})).done((function(){d.splice(c(d,h),1)})),d.push(h),r&&r.animation.addAnimator(h),h}ev('Property "'+t+'" is not existed in element '+i.id)},stopAnimation:function(t){for(var e=this.animators,n=e.length,a=0;n>a;a++)e[a].stop(t);return e.length=0,this},animateTo:function(t,e,n,a,i,r){Ie(this,t,e,n,a,i,r)},animateFrom:function(t,e,n,a,i,r){Ie(this,t,e,n,a,i,r,!0)}};var av=function(t){Lp.call(this,t),gp.call(this,t),nv.call(this,t),this.id=t.id||Wf()};av.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var n=this.transform;n||(n=this.transform=[1,0,0,1,0,0]),n[4]+=t,n[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(t,e){if("position"===t||"scale"===t||"origin"===t){if(e){var n=this[t];n||(n=this[t]=[]),n[0]=e[0],n[1]=e[1]}}else this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(I(t))for(var n in t)t.hasOwnProperty(n)&&this.attrKV(n,t[n]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),this.clipPath=t,t.__zr=e,t.__clipTarget=this,this.dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},h(av,nv),h(av,Lp),h(av,gp);var iv=ot,rv=Math.min,ov=Math.max;Te.prototype={constructor:Te,union:function(t){var e=rv(t.x,this.x),n=rv(t.y,this.y);this.width=ov(t.x+t.width,this.x+this.width)-e,this.height=ov(t.y+t.height,this.y+this.height)-n,this.x=e,this.y=n},applyTransform:function(){var t=[],e=[],n=[],a=[];return function(i){if(i){t[0]=n[0]=this.x,t[1]=a[1]=this.y,e[0]=a[0]=this.x+this.width,e[1]=n[1]=this.y+this.height,iv(t,t,i),iv(e,e,i),iv(n,n,i),iv(a,a,i),this.x=rv(t[0],e[0],n[0],a[0]),this.y=rv(t[1],e[1],n[1],a[1]);var r=ov(t[0],e[0],n[0],a[0]),o=ov(t[1],e[1],n[1],a[1]);this.width=r-this.x,this.height=o-this.y}}}(),calculateTransform:function(t){var e=this,n=t.width/e.width,a=t.height/e.height,i=Et();return Rt(i,i,[-e.x,-e.y]),zt(i,i,[n,a]),Rt(i,i,[t.x,t.y]),i},intersect:function(t){if(!t)return!1;t instanceof Te||(t=Te.create(t));var e=this,n=e.x,a=e.x+e.width,i=e.y,r=e.y+e.height,o=t.x,s=t.x+t.width,l=t.y,u=t.y+t.height;return!(o>a||n>s||l>r||i>u)},contain:function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},clone:function(){return new Te(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},Te.create=function(t){return new Te(t.x,t.y,t.width,t.height)};var sv=function(t){for(var e in t=t||{},av.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};sv.prototype={constructor:sv,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,a=n.indexOf(e);a>=0&&(n.splice(a,0,t),this._doAdd(t))}return this},_doAdd:function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__storage,n=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof sv&&t.addChildrenToStorage(e)),n&&n.refresh()},remove:function(t){var e=this.__zr,n=this.__storage,a=this._children,i=c(a,t);return 0>i||(a.splice(i,1),t.parent=null,n&&(n.delFromStorage(t),t instanceof sv&&t.delChildrenFromStorage(n)),e&&e.refresh()),this},removeAll:function(){var t,e,n=this._children,a=this.__storage;for(e=0;e<n.length;e++)t=n[e],a&&(a.delFromStorage(t),t instanceof sv&&t.delChildrenFromStorage(a)),t.parent=null;return n.length=0,this},eachChild:function(t,e){for(var n=this._children,a=0;a<n.length;a++){var i=n[a];t.call(e,i,a)}return this},traverse:function(t,e){for(var n=0;n<this._children.length;n++){var a=this._children[n];t.call(e,a),"group"===a.type&&a.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.addToStorage(n),n instanceof sv&&n.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var n=this._children[e];t.delFromStorage(n),n instanceof sv&&n.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,n=new Te(0,0,0,0),a=t||this._children,i=[],r=0;r<a.length;r++){var o=a[r];if(!o.ignore&&!o.invisible){var s=o.getBoundingRect(),l=o.getLocalTransform(i);l?(n.copy(s),n.applyTransform(l),(e=e||n.clone()).union(n)):(e=e||s.clone()).union(s)}}return e||n}},d(sv,av);var lv=32,uv=7,cv=function(){this._roots=[],this._displayList=[],this._displayListLen=0};cv.prototype={constructor:cv,traverse:function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,a=0,i=e.length;i>a;a++)this._updateAndAddDisplayable(e[a],null,t);n.length=this._displayListLen,Uf.canvasSupported&&je(n,Ne)},_updateAndAddDisplayable:function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var a=t.clipPath;if(a){e=e?e.slice():[];for(var i=a,r=t;i;)i.parent=r,i.updateTransform(),e.push(i),r=i,i=i.clipPath}if(t.isGroup){for(var o=t._children,s=0;s<o.length;s++){var l=o[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,n)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof sv&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var n=this._roots[e];n instanceof sv&&n.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var a=t.length;a>e;e++)this.delRoot(t[e])}else{var i=c(this._roots,t);i>=0&&(this.delFromStorage(t),this._roots.splice(i,1),t instanceof sv&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Ne};var dv={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},hv=function(t,e,n){return dv.hasOwnProperty(e)?n*=t.dpr:n},fv={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},pv=9,vv=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],gv=function(t){this.extendFrom(t,!1)};gv.prototype={constructor:gv,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,n){var a=this,i=n&&n.style,r=!i||t.__attrCachedBy!==fv.STYLE_BIND;t.__attrCachedBy=fv.STYLE_BIND;for(var o=0;o<vv.length;o++){var s=vv[o],l=s[0];(r||a[l]!==i[l])&&(t[l]=hv(t,l,a[l]||s[1]))}if((r||a.fill!==i.fill)&&(t.fillStyle=a.fill),(r||a.stroke!==i.stroke)&&(t.strokeStyle=a.stroke),(r||a.opacity!==i.opacity)&&(t.globalAlpha=null==a.opacity?1:a.opacity),(r||a.blend!==i.blend)&&(t.globalCompositeOperation=a.blend||"source-over"),this.hasStroke()){var u=a.lineWidth;t.lineWidth=u/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1)}},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&this.lineWidth>0},extendFrom:function(t,e){if(t)for(var n in t)!t.hasOwnProperty(n)||!0!==e&&(!1===e?this.hasOwnProperty(n):null==t[n])||(this[n]=t[n])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,n){for(var a=("radial"===e.type?Re:Ve)(t,e,n),i=e.colorStops,r=0;r<i.length;r++)a.addColorStop(i[r].offset,i[r].color);return a}};for(var mv=gv.prototype,yv=0;yv<vv.length;yv++){var _v=vv[yv];_v[0]in mv||(mv[_v[0]]=_v[1])}gv.getGradient=mv.getGradient;var bv=function(t,e){this.image=t,this.repeat=e,this.type="pattern"};bv.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")};var xv=function(t,e,n){var a;n=n||Qp,"string"==typeof t?a=ze(t,e,n):I(t)&&(t=(a=t).id),this.id=t,this.dom=a;var i=a.style;i&&(a.onselectstart=Be,i["-webkit-user-select"]="none",i["user-select"]="none",i["-webkit-touch-callout"]="none",i["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",i.padding=0,i.margin=0,i["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=n};xv.prototype={constructor:xv,__dirty:!0,__used:!1,__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=ze("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var n=this.dpr,a=this.dom,i=a.style,r=this.domBack;i&&(i.width=t+"px",i.height=e+"px"),a.width=t*n,a.height=e*n,r&&(r.width=t*n,r.height=e*n,1!==n&&this.ctxBack.scale(n,n))},clear:function(t,e){var n,a=this.dom,i=this.ctx,r=a.width,o=a.height,s=(e=e||this.clearColor,this.motionBlur&&!t),l=this.lastFrameAlpha,u=this.dpr;if(s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(a,0,0,r/u,o/u)),i.clearRect(0,0,r,o),e&&"transparent"!==e&&(e.colorStops?(n=e.__canvasGradient||gv.getGradient(i,e,{x:0,y:0,width:r,height:o}),e.__canvasGradient=n):e.image&&(n=bv.prototype.getCanvasPattern.call(e,i)),i.save(),i.fillStyle=n||e,i.fillRect(0,0,r,o),i.restore()),s){var c=this.domBack;i.save(),i.globalAlpha=l,i.drawImage(c,0,0,r,o),i.restore()}}};var wv="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},Sv=new qp(50),Iv={},Cv=0,kv=5e3,Tv=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Ov="12px sans-serif",Dv={measureText:function(t,e){var n=u();return n.font=e||Ov,n.measureText(t)}},Mv=Ov,Pv={left:1,right:1,center:1},Av={top:1,bottom:1,middle:1},Lv=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],Ev={},jv={},Nv=new Te,Vv=function(){};Vv.prototype={constructor:Vv,drawRectText:function(t,e){var n=this.style;e=n.textRect||e,this.__dirty&&cn(n,!0);var a=n.text;if(null!=a&&(a+=""),Tn(a,n)){t.save();var i=this.transform;n.transformText?this.setTransform(t):i&&(Nv.copy(e),Nv.applyTransform(i),e=Nv),hn(this,t,a,n,e,pv),t.restore()}}},On.prototype={constructor:On,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?av.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new gv(t,this),this.dirty(!1),this},calculateTextPosition:null},d(On,av),h(On,Vv),Dn.prototype={constructor:Dn,type:"image",brush:function(t,e){var n=this.style,a=n.image;n.bind(t,this,e);var i=this._image=qe(a,this._image,this,this.onload);if(i&&Ze(i)){var r=n.x||0,o=n.y||0,s=n.width,l=n.height,u=i.width/i.height;if(null==s&&null!=l?s=l*u:null==l&&null!=s?l=s/u:null==s&&null==l&&(s=i.width,l=i.height),this.setTransform(t),n.sWidth&&n.sHeight){var c=n.sx||0,d=n.sy||0;t.drawImage(i,c,d,n.sWidth,n.sHeight,r,o,s,l)}else if(n.sx&&n.sy){var h=s-(c=n.sx),f=l-(d=n.sy);t.drawImage(i,c,d,h,f,r,o,s,l)}else t.drawImage(i,r,o,s,l);null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))}},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new Te(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},d(Dn,On);var Rv=1e5,Bv=314159,zv=.01,Fv=.001,qv=new Te(0,0,0,0),$v=new Te(0,0,0,0),Zv=function(t,e,n){this.type="canvas";var a=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=s({},n||{}),this.dpr=n.devicePixelRatio||Qp,this._singleCanvas=a,this.root=t;var i=t.style;i&&(i["-webkit-tap-highlight-color"]="transparent",i["-webkit-user-select"]=i["user-select"]=i["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var r=this._zlevelList=[],o=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,a){var l=t.width,u=t.height;null!=n.width&&(l=n.width),null!=n.height&&(u=n.height),this.dpr=n.devicePixelRatio||1,t.width=l*this.dpr,t.height=u*this.dpr,this._width=l,this._height=u;var c=new xv(t,this,this.dpr);c.__builtin__=!0,c.initContext(),o[Bv]=c,c.zlevel=Bv,r.push(Bv),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var d=this._domRoot=jn(this._width,this._height);t.appendChild(d)}this._hoverlayer=null,this._hoverElements=[]};Zv.prototype={constructor:Zv,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();return t?{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}:void 0},refresh:function(t){var e=this.storage.getDisplayList(!0),n=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var a=0;a<n.length;a++){var i=n[a],r=this._layers[i];if(!r.__builtin__&&r.refresh){var o=0===a?this._backgroundColor:null;r.refresh(o)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var n=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return n.__from=t,t.__hoverMir=n,e&&n.setStyle(e),this._hoverElements.push(n),n}},removeHover:function(t){var e=t.__hoverMir,n=this._hoverElements,a=c(n,e);a>=0&&n.splice(a,1),t.__hoverMir=null},clearHover:function(){for(var t=this._hoverElements,e=0;e<t.length;e++){var n=t[e].__from;n&&(n.__hoverMir=null)}t.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){je(t,this.storage.displayableSortFunc),n||(n=this._hoverlayer=this.getLayer(Rv));var a={};n.ctx.save();for(var i=0;e>i;){var r=t[i],o=r.__from;o&&o.__zr?(i++,o.invisible||(r.transform=o.transform,r.invTransform=o.invTransform,r.__clipPaths=o.__clipPaths,this._doPaintEl(r,n,!0,a))):(t.splice(i,1),o.__hoverMir=null,e--)}n.ctx.restore()}},getHoverLayer:function(){return this.getLayer(Rv)},_paintList:function(t,e,n){if(this._redrawId===n){e=e||!1,this._updateLayerStatus(t);var a=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!a){var i=this;wv((function(){i._paintList(t,e,n)}))}}},_compositeManually:function(){var t=this.getLayer(Bv).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer((function(a){a.virtual&&t.drawImage(a.dom,0,0,e,n)}))},_doPaintList:function(t,e){for(var n=[],a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];(s=this._layers[i]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&n.push(s)}for(var r=!0,o=0;o<n.length;o++){var s,l=(s=n[o]).ctx,u={};l.save();var c=e?s.__startIndex:s.__drawIndex,d=!e&&s.incremental&&Date.now,h=d&&Date.now(),f=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(s.__startIndex===s.__endIndex)s.clear(!1,f);else if(c===s.__startIndex){var v=t[c];v.incremental&&v.notClear&&!e||s.clear(!1,f)}-1===c&&(console.error("For some unknown reason. drawIndex is -1"),c=s.__startIndex);for(var g=c;g<s.__endIndex;g++){var m=t[g];if(this._doPaintEl(m,s,e,u),m.__dirty=m.__dirtyText=!1,d&&Date.now()-h>15)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(r=!1),u.prevElClipPaths&&l.restore(),l.restore()}return Uf.wxa&&p(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),r},_doPaintEl:function(t,e,n,a){var i=e.ctx,r=t.transform;if(!(!e.__dirty&&!n||t.invisible||0===t.style.opacity||r&&!r[0]&&!r[3]||t.culling&&An(t,this._width,this._height))){var o=t.__clipPaths,s=a.prevElClipPaths;(!s||Ln(o,s))&&(s&&(i.restore(),a.prevElClipPaths=null,a.prevEl=null),o&&(i.save(),En(o,i),a.prevElClipPaths=o)),t.beforeBrush&&t.beforeBrush(i),t.brush(i,a.prevEl||null),a.prevEl=t,t.afterBrush&&t.afterBrush(i)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Bv);var n=this._layers[t];return n||((n=new xv("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?r(n,this._layerConfig[t],!0):this._layerConfig[t-zv]&&r(n,this._layerConfig[t-zv],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},insertLayer:function(t,e){var n=this._layers,a=this._zlevelList,i=a.length,r=null,o=-1,s=this._domRoot;if(n[t])ev("ZLevel "+t+" has been used already");else if(Pn(e)){if(i>0&&t>a[0]){for(o=0;i-1>o&&!(a[o]<t&&a[o+1]>t);o++);r=n[a[o]]}if(a.splice(o+1,0,t),n[t]=e,!e.virtual)if(r){var l=r.dom;l.nextSibling?s.insertBefore(e.dom,l.nextSibling):s.appendChild(e.dom)}else s.firstChild?s.insertBefore(e.dom,s.firstChild):s.appendChild(e.dom)}else ev("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var n,a,i=this._zlevelList;for(a=0;a<i.length;a++)n=i[a],t.call(e,this._layers[n],n)},eachBuiltinLayer:function(t,e){var n,a,i,r=this._zlevelList;for(i=0;i<r.length;i++)a=r[i],(n=this._layers[a]).__builtin__&&t.call(e,n,a)},eachOtherLayer:function(t,e){var n,a,i,r=this._zlevelList;for(i=0;i<r.length;i++)a=r[i],(n=this._layers[a]).__builtin__||t.call(e,n,a)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){i&&(i.__endIndex!==t&&(i.__dirty=!0),i.__endIndex=t)}if(this.eachBuiltinLayer((function(t){t.__dirty=t.__used=!1})),this._singleCanvas)for(var n=1;n<t.length;n++)if((s=t[n]).zlevel!==t[n-1].zlevel||s.incremental){this._needsManuallyCompositing=!0;break}var a,i=null,r=0;for(n=0;n<t.length;n++){var o,s,l=(s=t[n]).zlevel;a!==l&&(a=l,r=0),s.incremental?((o=this.getLayer(l+Fv,this._needsManuallyCompositing)).incremental=!0,r=1):o=this.getLayer(l+(r>0?zv:0),this._needsManuallyCompositing),o.__builtin__||ev("ZLevel "+l+" has been used by unkown layer "+o.id),o!==i&&(o.__used=!0,o.__startIndex!==n&&(o.__dirty=!0),o.__startIndex=n,o.__drawIndex=o.incremental?-1:n,e(n),i=o),s.__dirty&&(o.__dirty=!0,o.incremental&&o.__drawIndex<0&&(o.__drawIndex=n))}e(n),this.eachBuiltinLayer((function(t){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var n=this._layerConfig;n[t]?r(n[t],e,!0):n[t]=e;for(var a=0;a<this._zlevelList.length;a++){var i=this._zlevelList[a];i!==t&&i!==t+zv||r(this._layers[i],n[t],!0)}}},delLayer:function(t){var e=this._layers,n=this._zlevelList,a=e[t];a&&(a.dom.parentNode.removeChild(a.dom),delete e[t],n.splice(c(n,t),1))},resize:function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var a=this._opts;if(null!=t&&(a.width=t),null!=e&&(a.height=e),t=this._getSize(0),e=this._getSize(1),n.style.display="",this._width!==t||e!==this._height){for(var i in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].resize(t,e);p(this._progressiveLayers,(function(n){n.resize(t,e)})),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(Bv).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Bv].dom;var e=new xv("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var n=e.dom.width,a=e.dom.height,i=e.ctx;this.eachLayer((function(t){t.__builtin__?i.drawImage(t.dom,0,0,n,a):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())}))}else for(var r={},o=this.storage.getDisplayList(!0),s=0;s<o.length;s++){var l=o[s];this._doPaintEl(l,e,!0,r)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,n=["width","height"][t],a=["clientWidth","clientHeight"][t],i=["paddingLeft","paddingTop"][t],r=["paddingRight","paddingBottom"][t];if(null!=e[n]&&"auto"!==e[n])return parseFloat(e[n]);var o=this.root,s=document.defaultView.getComputedStyle(o);return(o[a]||Mn(s[n])||Mn(o.style[n]))-(Mn(s[i])||0)-(Mn(s[r])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var n=document.createElement("canvas"),a=n.getContext("2d"),i=t.getBoundingRect(),r=t.style,o=r.shadowBlur*e,s=r.shadowOffsetX*e,l=r.shadowOffsetY*e,u=r.hasStroke()?r.lineWidth:0,c=Math.max(u/2,-s+o),d=Math.max(u/2,s+o),h=Math.max(u/2,-l+o),f=Math.max(u/2,l+o),p=i.width+c+d,v=i.height+h+f;n.width=p*e,n.height=v*e,a.scale(e,e),a.clearRect(0,0,p,v),a.dpr=e;var g={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[c-i.x,h-i.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(a);var m=new Dn({style:{x:0,y:0,image:n}});return null!=g.position&&(m.position=t.position=g.position),null!=g.rotation&&(m.rotation=t.rotation=g.rotation),null!=g.scale&&(m.scale=t.scale=g.scale),m}};var Gv=function(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,gp.call(this)};Gv.prototype={constructor:Gv,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),n=0;n<e.length;n++)this.addClip(e[n])},removeClip:function(t){var e=c(this._clips,t);e>=0&&this._clips.splice(e,1)},removeAnimator:function(t){for(var e=t.getClips(),n=0;n<e.length;n++)this.removeClip(e[n]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,n=this._clips,a=n.length,i=[],r=[],o=0;a>o;o++){var s=n[o],l=s.step(t,e);l&&(i.push(l),r.push(s))}for(o=0;a>o;)n[o]._needsRemove?(n[o]=n[a-1],n.pop(),a--):o++;for(a=i.length,o=0;a>o;o++)r[o].fire(i[o]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){function t(){e._running&&(wv(t),!e._paused&&e._update())}var e=this;this._running=!0,wv(t)},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){var n=new Jp(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(n),n}},h(Gv,gp);var Hv=300,Wv=Uf.domSupported,Uv=function(){var t=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},a=v(t,(function(t){var e=t.replace("mouse","pointer");return n.hasOwnProperty(e)?e:t}));return{mouse:t,touch:e,pointer:a}}(),Xv={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},Yv=qn.prototype;Yv.stopPropagation=Yv.stopImmediatePropagation=Yv.preventDefault=F;var Jv={mousedown:function(t){t=St(this.dom,t),this._mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=St(this.dom,t);var e=this._mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||Wn(this,!0),this.trigger("mousemove",t)},mouseup:function(t){t=St(this.dom,t),Wn(this,!1),this.trigger("mouseup",t)},mouseout:function(t){t=St(this.dom,t),this._pointerCapturing&&(t.zrEventControl="no_globalout");var e=t.toElement||t.relatedTarget;t.zrIsToLocalDOM=Fn(this,e),this.trigger("mouseout",t)},touchstart:function(t){Bn(t=St(this.dom,t)),this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),Jv.mousemove.call(this,t),Jv.mousedown.call(this,t)},touchmove:function(t){Bn(t=St(this.dom,t)),this.handler.processGesture(t,"change"),Jv.mousemove.call(this,t)},touchend:function(t){Bn(t=St(this.dom,t)),this.handler.processGesture(t,"end"),Jv.mouseup.call(this,t),+new Date-this._lastTouchMoment<Hv&&Jv.click.call(this,t)},pointerdown:function(t){Jv.mousedown.call(this,t)},pointermove:function(t){Vn(t)||Jv.mousemove.call(this,t)},pointerup:function(t){Jv.mouseup.call(this,t)},pointerout:function(t){Vn(t)||Jv.mouseout.call(this,t)}};p(["click","mousewheel","dblclick","contextmenu"],(function(t){Jv[t]=function(e){e=St(this.dom,e),this.trigger(t,e)}}));var Kv={pointermove:function(t){Vn(t)||Kv.mousemove.call(this,t)},pointerup:function(t){Kv.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this._pointerCapturing;Wn(this,!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}},Qv=Xn.prototype;Qv.dispose=function(){Hn(this._localHandlerScope),Wv&&Hn(this._globalHandlerScope)},Qv.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},h(Xn,gp);var tg=!Uf.canvasSupported,eg={canvas:Zv},ng={},ag="4.3.2",ig=function(t,e,n){n=n||{},this.dom=e,this.id=t;var a=this,i=new cv,r=n.renderer;if(tg){if(!eg.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");r="vml"}else r&&eg[r]||(r="canvas");var o=new eg[r](e,i,n,t);this.storage=i,this.painter=o;var s=Uf.node||Uf.worker?null:new Xn(o.getViewportRoot(),o.root);this.handler=new Op(i,o,s,o.root),this.animation=new Gv({stage:{update:_(this.flush,this)}}),this.animation.start(),this._needsRefresh;var l=i.delFromStorage,u=i.addToStorage;i.delFromStorage=function(t){l.call(i,t),t&&t.removeSelfFromZr(a)},i.addToStorage=function(t){u.call(i,t),t.addSelfToZr(a)}};ig.prototype={constructor:ig,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){var n=this.painter.addHover(t,e);return this.refreshHover(),n}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,n){this.handler.on(t,e,n)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,ta(this.id)}};var rg=(Object.freeze||Object)({version:ag,init:Yn,dispose:Jn,getInstance:Kn,registerPainter:Qn}),og=p,sg=I,lg=x,ug="series\0",cg=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"],dg=0,hg=".",fg="___EC__COMPONENT__CONTAINER___",pg=0,vg=function(t){for(var e=0;e<t.length;e++)t[e][1]||(t[e][1]=t[e][0]);return function(e,n,a){for(var i={},r=0;r<t.length;r++){var o=t[r][1];if(!(n&&c(n,o)>=0||a&&c(a,o)<0)){var s=e.getShallow(o);null!=s&&(i[t[r][0]]=s)}}return i}},gg=vg([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),mg={getLineStyle:function(t){var e=gg(this,t);return e.lineDash=this.getLineDash(e.lineWidth),e},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),n=Math.max(t,2),a=4*t;return"solid"!==e&&null!=e&&("dashed"===e?[a,a]:[n,n])}},yg=vg([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),_g={getAreaStyle:function(t,e){return yg(this,t,e)}},bg=Math.pow,xg=Math.sqrt,wg=1e-8,Sg=1e-4,Ig=xg(3),Cg=1/3,kg=q(),Tg=q(),Og=q(),Dg=Math.min,Mg=Math.max,Pg=Math.sin,Ag=Math.cos,Lg=2*Math.PI,Eg=q(),jg=q(),Ng=q(),Vg=[],Rg=[],Bg={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},zg=[],Fg=[],qg=[],$g=[],Zg=Math.min,Gg=Math.max,Hg=Math.cos,Wg=Math.sin,Ug=Math.sqrt,Xg=Math.abs,Yg="undefined"!=typeof Float32Array,Jg=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};Jg.prototype={constructor:Jg,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,n){n=n||0,this._ux=Xg(n/Qp/t)||0,this._uy=Xg(n/Qp/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return this._ctx=t,t&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(Bg.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var n=Xg(t-this._xi)>this._ux||Xg(e-this._yi)>this._uy||this._len<5;return this.addData(Bg.L,t,e),this._ctx&&n&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),n&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,n,a,i,r){return this.addData(Bg.C,t,e,n,a,i,r),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,n,a,i,r):this._ctx.bezierCurveTo(t,e,n,a,i,r)),this._xi=i,this._yi=r,this},quadraticCurveTo:function(t,e,n,a){return this.addData(Bg.Q,t,e,n,a),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,n,a):this._ctx.quadraticCurveTo(t,e,n,a)),this._xi=n,this._yi=a,this},arc:function(t,e,n,a,i,r){return this.addData(Bg.A,t,e,n,n,a,i-a,0,r?0:1),this._ctx&&this._ctx.arc(t,e,n,a,i,r),this._xi=Hg(i)*n+t,this._yi=Wg(i)*n+e,this},arcTo:function(t,e,n,a,i){return this._ctx&&this._ctx.arcTo(t,e,n,a,i),this},rect:function(t,e,n,a){return this._ctx&&this._ctx.rect(t,e,n,a),this.addData(Bg.R,t,e,n,a),this},closePath:function(){this.addData(Bg.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,n),t.closePath()),this._xi=e,this._yi=n,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t,this._dashIdx=0;for(var e=0,n=0;n<t.length;n++)e+=t[n];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!Yg||(this.data=new Float32Array(e));for(var n=0;e>n;n++)this.data[n]=t[n];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,a=this._len,i=0;e>i;i++)n+=t[i].len();for(Yg&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+n)),i=0;e>i;i++)for(var r=t[i].data,o=0;o<r.length;o++)this.data[a++]=r[o];this._len=a},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var n=0;n<arguments.length;n++)e[this._len++]=arguments[n];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var n,a,i=this._dashSum,r=this._dashOffset,o=this._lineDash,s=this._ctx,l=this._xi,u=this._yi,c=t-l,d=e-u,h=Ug(c*c+d*d),f=l,p=u,v=o.length;for(0>r&&(r=i+r),f-=(r%=i)*(c/=h),p-=r*(d/=h);c>0&&t>=f||0>c&&f>=t||0===c&&(d>0&&e>=p||0>d&&p>=e);)f+=c*(n=o[a=this._dashIdx]),p+=d*n,this._dashIdx=(a+1)%v,c>0&&l>f||0>c&&f>l||d>0&&u>p||0>d&&p>u||s[a%2?"moveTo":"lineTo"](c>=0?Zg(f,t):Gg(f,t),d>=0?Zg(p,e):Gg(p,e));c=f-t,d=p-e,this._dashOffset=-Ug(c*c+d*d)},_dashedBezierTo:function(t,e,n,a,i,r){var o,s,l,u,c,d=this._dashSum,h=this._dashOffset,f=this._lineDash,p=this._ctx,v=this._xi,g=this._yi,m=Ca,y=0,_=this._dashIdx,b=f.length,x=0;for(0>h&&(h=d+h),h%=d,o=0;1>o;o+=.1)s=m(v,t,n,i,o+.1)-m(v,t,n,i,o),l=m(g,e,a,r,o+.1)-m(g,e,a,r,o),y+=Ug(s*s+l*l);for(;b>_&&!((x+=f[_])>h);_++);for(o=(x-h)/y;1>=o;)u=m(v,t,n,i,o),c=m(g,e,a,r,o),_%2?p.moveTo(u,c):p.lineTo(u,c),o+=f[_]/y,_=(_+1)%b;_%2!=0&&p.lineTo(i,r),s=i-u,l=r-c,this._dashOffset=-Ug(s*s+l*l)},_dashedQuadraticTo:function(t,e,n,a){var i=n,r=a;n=(n+2*t)/3,a=(a+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,n,a,i,r)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Yg&&(this.data=new Float32Array(t)))},getBoundingRect:function(){zg[0]=zg[1]=qg[0]=qg[1]=Number.MAX_VALUE,Fg[0]=Fg[1]=$g[0]=$g[1]=-Number.MAX_VALUE;for(var t=this.data,e=0,n=0,a=0,i=0,r=0;r<t.length;){var o=t[r++];switch(1===r&&(a=e=t[r],i=n=t[r+1]),o){case Bg.M:e=a=t[r++],n=i=t[r++],qg[0]=a,qg[1]=i,$g[0]=a,$g[1]=i;break;case Bg.L:Ra(e,n,t[r],t[r+1],qg,$g),e=t[r++],n=t[r++];break;case Bg.C:Ba(e,n,t[r++],t[r++],t[r++],t[r++],t[r],t[r+1],qg,$g),e=t[r++],n=t[r++];break;case Bg.Q:za(e,n,t[r++],t[r++],t[r],t[r+1],qg,$g),e=t[r++],n=t[r++];break;case Bg.A:var s=t[r++],l=t[r++],u=t[r++],c=t[r++],d=t[r++],h=t[r++]+d;r+=1;var f=1-t[r++];1===r&&(a=Hg(d)*u+s,i=Wg(d)*c+l),Fa(s,l,u,c,d,h,f,qg,$g),e=Hg(h)*u+s,n=Wg(h)*c+l;break;case Bg.R:Ra(a=e=t[r++],i=n=t[r++],a+t[r++],i+t[r++],qg,$g);break;case Bg.Z:e=a,n=i}st(zg,zg,qg),lt(Fg,Fg,$g)}return 0===r&&(zg[0]=zg[1]=Fg[0]=Fg[1]=0),new Te(zg[0],zg[1],Fg[0]-zg[0],Fg[1]-zg[1])},rebuildPath:function(t){for(var e,n,a,i,r,o,s=this.data,l=this._ux,u=this._uy,c=this._len,d=0;c>d;){var h=s[d++];switch(1===d&&(e=a=s[d],n=i=s[d+1]),h){case Bg.M:e=a=s[d++],n=i=s[d++],t.moveTo(a,i);break;case Bg.L:r=s[d++],o=s[d++],(Xg(r-a)>l||Xg(o-i)>u||d===c-1)&&(t.lineTo(r,o),a=r,i=o);break;case Bg.C:t.bezierCurveTo(s[d++],s[d++],s[d++],s[d++],s[d++],s[d++]),a=s[d-2],i=s[d-1];break;case Bg.Q:t.quadraticCurveTo(s[d++],s[d++],s[d++],s[d++]),a=s[d-2],i=s[d-1];break;case Bg.A:var f=s[d++],p=s[d++],v=s[d++],g=s[d++],m=s[d++],y=s[d++],_=s[d++],b=s[d++],x=v>g?v:g,w=v>g?1:v/g,S=v>g?g/v:1,I=m+y;Math.abs(v-g)>.001?(t.translate(f,p),t.rotate(_),t.scale(w,S),t.arc(0,0,x,m,I,1-b),t.scale(1/w,1/S),t.rotate(-_),t.translate(-f,-p)):t.arc(f,p,x,m,I,1-b),1===d&&(e=Hg(m)*v+f,n=Wg(m)*g+p),a=Hg(I)*v+f,i=Wg(I)*g+p;break;case Bg.R:e=a=s[d],n=i=s[d+1],t.rect(s[d++],s[d++],s[d++],s[d++]);break;case Bg.Z:t.closePath(),a=e,i=n}}}},Jg.CMD=Bg;var Kg=2*Math.PI,Qg=2*Math.PI,tm=Jg.CMD,em=2*Math.PI,nm=1e-4,am=[-1,-1,-1],im=[-1,-1],rm=bv.prototype.getCanvasPattern,om=Math.abs,sm=new Jg(!0);ni.prototype={constructor:ni,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var n,a=this.style,i=this.path||sm,r=a.hasStroke(),o=a.hasFill(),s=a.fill,l=a.stroke,u=o&&!!s.colorStops,c=r&&!!l.colorStops,d=o&&!!s.image,h=r&&!!l.image;a.bind(t,this,e),this.setTransform(t),this.__dirty&&(u&&(n=n||this.getBoundingRect(),this._fillGradient=a.getGradient(t,s,n)),c&&(n=n||this.getBoundingRect(),this._strokeGradient=a.getGradient(t,l,n))),u?t.fillStyle=this._fillGradient:d&&(t.fillStyle=rm.call(s,t)),c?t.strokeStyle=this._strokeGradient:h&&(t.strokeStyle=rm.call(l,t));var f=a.lineDash,p=a.lineDashOffset,v=!!t.setLineDash,g=this.getGlobalScale();if(i.setScale(g[0],g[1],this.segmentIgnoreThreshold),this.__dirtyPath||f&&!v&&r?(i.beginPath(t),f&&!v&&(i.setLineDash(f),i.setLineDashOffset(p)),this.buildPath(i,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),o)if(null!=a.fillOpacity){var m=t.globalAlpha;t.globalAlpha=a.fillOpacity*a.opacity,i.fill(t),t.globalAlpha=m}else i.fill(t);f&&v&&(t.setLineDash(f),t.lineDashOffset=p),r&&(null!=a.strokeOpacity?(m=t.globalAlpha,t.globalAlpha=a.strokeOpacity*a.opacity,i.stroke(t),t.globalAlpha=m):i.stroke(t)),f&&v&&t.setLineDash([]),null!=a.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(){},createPathProxy:function(){this.path=new Jg},getBoundingRect:function(){var t=this._rect,e=this.style,n=!t;if(n){var a=this.path;a||(a=this.path=new Jg),this.__dirtyPath&&(a.beginPath(),this.buildPath(a,this.shape,!1)),t=a.getBoundingRect()}if(this._rect=t,e.hasStroke()){var i=this._rectWithStroke||(this._rectWithStroke=t.clone());if(this.__dirty||n){i.copy(t);var r=e.lineWidth,o=e.strokeNoScale?this.getLineScale():1;e.hasFill()||(r=Math.max(r,this.strokeContainThreshold||4)),o>1e-10&&(i.width+=r/o,i.height+=r/o,i.x-=r/o/2,i.y-=r/o/2)}return i}return t},contain:function(t,e){var n=this.transformCoordToLocal(t,e),a=this.getBoundingRect(),i=this.style;if(t=n[0],e=n[1],a.contain(t,e)){var r=this.path.data;if(i.hasStroke()){var o=i.lineWidth,s=i.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(i.hasFill()||(o=Math.max(o,this.strokeContainThreshold)),ei(r,o/s,t,e)))return!0}if(i.hasFill())return ti(r,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):On.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var n=this.shape;if(n){if(I(t))for(var a in t)t.hasOwnProperty(a)&&(n[a]=t[a]);else n[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&om(t[0]-1)>1e-10&&om(t[3]-1)>1e-10?Math.sqrt(om(t[0]*t[3]-t[2]*t[1])):1}},ni.extend=function(t){var e=function(e){ni.call(this,e),t.style&&this.style.extendFrom(t.style,!1);var n=t.shape;if(n){this.shape=this.shape||{};var a=this.shape;for(var i in n)!a.hasOwnProperty(i)&&n.hasOwnProperty(i)&&(a[i]=n[i])}t.init&&t.init.call(this,e)};for(var n in d(e,ni),t)"style"!==n&&"shape"!==n&&(e.prototype[n]=t[n]);return e},d(ni,On);var lm=Jg.CMD,um=[[],[],[]],cm=Math.sqrt,dm=Math.atan2,hm=function(t,e){var n,a,i,r,o,s=t.data,l=lm.M,u=lm.C,c=lm.L,d=lm.R,h=lm.A,f=lm.Q;for(i=0,r=0;i<s.length;){switch(n=s[i++],r=i,a=0,n){case l:case c:a=1;break;case u:a=3;break;case f:a=2;break;case h:var p=e[4],v=e[5],g=cm(e[0]*e[0]+e[1]*e[1]),m=cm(e[2]*e[2]+e[3]*e[3]),y=dm(-e[1]/m,e[0]/g);s[i]*=g,s[i++]+=p,s[i]*=m,s[i++]+=v,s[i++]*=g,s[i++]*=m,s[i++]+=y,s[i++]+=y,r=i+=2;break;case d:_[0]=s[i++],_[1]=s[i++],ot(_,_,e),s[r++]=_[0],s[r++]=_[1],_[0]+=s[i++],_[1]+=s[i++],ot(_,_,e),s[r++]=_[0],s[r++]=_[1]}for(o=0;a>o;o++){var _;(_=um[o])[0]=s[i++],_[1]=s[i++],ot(_,_,e),s[r++]=_[0],s[r++]=_[1]}}},fm=Math.sqrt,pm=Math.sin,vm=Math.cos,gm=Math.PI,mm=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},ym=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(mm(t)*mm(e))},_m=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(ym(t,e))},bm=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,xm=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,wm=function(t){On.call(this,t)};wm.prototype={constructor:wm,type:"text",brush:function(t,e){var n=this.style;this.__dirty&&cn(n,!0),n.fill=n.stroke=n.shadowBlur=n.shadowColor=n.shadowOffsetX=n.shadowOffsetY=null;var a=n.text;return null!=a&&(a+=""),Tn(a,n)?(this.setTransform(t),hn(this,t,a,n,null,e),void this.restoreTransform(t)):void(t.__attrCachedBy=fv.NONE)},getBoundingRect:function(){var t=this.style;if(this.__dirty&&cn(t,!0),!this._rect){var e=t.text;null!=e?e+="":e="";var n=He(t.text+"",t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich);if(n.x+=t.x||0,n.y+=t.y||0,Sn(t.textStroke,t.textStrokeWidth)){var a=t.textStrokeWidth;n.x-=a/2,n.y-=a/2,n.width+=a,n.height+=a}this._rect=n}return this._rect}},d(wm,On);var Sm=ni.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,n){n&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),Im=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],Cm=function(t){return Uf.browser.ie&&Uf.browser.version>=11?function(){var e,n=this.__clipPaths,a=this.style;if(n)for(var i=0;i<n.length;i++){var r=n[i],o=r&&r.shape,s=r&&r.type;if(o&&("sector"===s&&o.startAngle===o.endAngle||"rect"===s&&(!o.width||!o.height))){for(var l=0;l<Im.length;l++)Im[l][2]=a[Im[l][0]],a[Im[l][0]]=Im[l][1];e=!0;break}}if(t.apply(this,arguments),e)for(l=0;l<Im.length;l++)a[Im[l][0]]=Im[l][2]}:t},km=ni.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:Cm(ni.prototype.brush),buildPath:function(t,e){var n=e.cx,a=e.cy,i=Math.max(e.r0||0,0),r=Math.max(e.r,0),o=e.startAngle,s=e.endAngle,l=e.clockwise,u=Math.cos(o),c=Math.sin(o);t.moveTo(u*i+n,c*i+a),t.lineTo(u*r+n,c*r+a),t.arc(n,a,r,o,s,!l),t.lineTo(Math.cos(s)*i+n,Math.sin(s)*i+a),0!==i&&t.arc(n,a,i,s,o,l),t.closePath()}}),Tm=ni.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var n=e.cx,a=e.cy,i=2*Math.PI;t.moveTo(n+e.r,a),t.arc(n,a,e.r,0,i,!1),t.moveTo(n+e.r0,a),t.arc(n,a,e.r0,0,i,!0)}}),Om=function(t,e){for(var n=t.length,a=[],i=0,r=1;n>r;r++)i+=nt(t[r-1],t[r]);var o=i/2;for(o=n>o?n:o,r=0;o>r;r++){var s,l,u,c=r/(o-1)*(e?n:n-1),d=Math.floor(c),h=c-d,f=t[d%n];e?(s=t[(d-1+n)%n],l=t[(d+1)%n],u=t[(d+2)%n]):(s=t[0===d?d:d-1],l=t[d>n-2?n-1:d+1],u=t[d>n-3?n-1:d+2]);var p=h*h,v=h*p;a.push([ui(s[0],f[0],l[0],u[0],h,p,v),ui(s[1],f[1],l[1],u[1],h,p,v)])}return a},Dm=function(t,e,n,a){var i,r,o,s,l=[],u=[],c=[],d=[];if(a){o=[1/0,1/0],s=[-1/0,-1/0];for(var h=0,f=t.length;f>h;h++)st(o,o,t[h]),lt(s,s,t[h]);st(o,o,a[0]),lt(s,s,a[1])}for(h=0,f=t.length;f>h;h++){var p=t[h];if(n)i=t[h?h-1:f-1],r=t[(h+1)%f];else{if(0===h||h===f-1){l.push(Z(t[h]));continue}i=t[h-1],r=t[h+1]}U(u,r,i),tt(u,u,e);var v=nt(p,i),g=nt(p,r),m=v+g;0!==m&&(v/=m,g/=m),tt(c,u,-v),tt(d,u,g);var y=H([],p,c),_=H([],p,d);a&&(lt(y,y,o),st(y,y,s),lt(_,_,o),st(_,_,s)),l.push(y),l.push(_)}return n&&l.push(l.shift()),l},Mm=ni.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){ci(t,e,!0)}}),Pm=ni.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){ci(t,e,!1)}}),Am=Math.round,Lm={},Em=ni.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var n,a,i,r;this.subPixelOptimize?(hi(Lm,e,this.style),n=Lm.x,a=Lm.y,i=Lm.width,r=Lm.height,Lm.r=e.r,e=Lm):(n=e.x,a=e.y,i=e.width,r=e.height),e.r?un(t,e):t.rect(n,a,i,r),t.closePath()}}),jm={},Nm=ni.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n,a,i,r;this.subPixelOptimize?(di(jm,e,this.style),n=jm.x1,a=jm.y1,i=jm.x2,r=jm.y2):(n=e.x1,a=e.y1,i=e.x2,r=e.y2);var o=e.percent;0!==o&&(t.moveTo(n,a),1>o&&(i=n*(1-o)+i*o,r=a*(1-o)+r*o),t.lineTo(i,r))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),Vm=[],Rm=ni.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.x1,a=e.y1,i=e.x2,r=e.y2,o=e.cpx1,s=e.cpy1,l=e.cpx2,u=e.cpy2,c=e.percent;0!==c&&(t.moveTo(n,a),null==l||null==u?(1>c&&(ja(n,o,i,c,Vm),o=Vm[1],i=Vm[2],ja(a,s,r,c,Vm),s=Vm[1],r=Vm[2]),t.quadraticCurveTo(o,s,i,r)):(1>c&&(Da(n,o,l,i,c,Vm),o=Vm[1],l=Vm[2],i=Vm[3],Da(a,s,u,r,c,Vm),s=Vm[1],u=Vm[2],r=Vm[3]),t.bezierCurveTo(o,s,l,u,i,r)))},pointAt:function(t){return pi(this.shape,t,!1)},tangentAt:function(t){var e=pi(this.shape,t,!0);return et(e,e)}}),Bm=ni.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var n=e.cx,a=e.cy,i=Math.max(e.r,0),r=e.startAngle,o=e.endAngle,s=e.clockwise,l=Math.cos(r),u=Math.sin(r);t.moveTo(l*i+n,u*i+a),t.arc(n,a,i,r,o,!s)}}),zm=ni.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,n=0;n<e.length;n++)t=t||e[n].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},buildPath:function(t,e){for(var n=e.paths||[],a=0;a<n.length;a++)n[a].buildPath(t,n[a].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),ni.prototype.getBoundingRect.call(this)}}),Fm=function(t){this.colorStops=t||[]};Fm.prototype={constructor:Fm,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};var qm=function(t,e,n,a,i,r){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==n?1:n,this.y2=null==a?0:a,this.type="linear",this.global=r||!1,Fm.call(this,i)};qm.prototype={constructor:qm},d(qm,Fm);var $m=function(t,e,n,a,i){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==n?.5:n,this.type="radial",this.global=i||!1,Fm.call(this,a)};$m.prototype={constructor:$m},d($m,Fm),vi.prototype.incremental=!0,vi.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},vi.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.dirty()},vi.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},vi.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},vi.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},vi.prototype.brush=function(t){for(var e=this._cursor;e<this._displayables.length;e++)(n=this._displayables[e]).beforeBrush&&n.beforeBrush(t),n.brush(t,e===this._cursor?null:this._displayables[e-1]),n.afterBrush&&n.afterBrush(t);for(this._cursor=e,e=0;e<this._temporaryDisplayables.length;e++){var n;(n=this._temporaryDisplayables[e]).beforeBrush&&n.beforeBrush(t),n.brush(t,0===e?null:this._temporaryDisplayables[e-1]),n.afterBrush&&n.afterBrush(t)}this._temporaryDisplayables=[],this.notClear=!0};var Zm=[];vi.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new Te(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],a=n.getBoundingRect().clone();n.needLocalTransform()&&a.applyTransform(n.getLocalTransform(Zm)),t.union(a)}this._rect=t}return this._rect},vi.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var a=0;a<this._displayables.length;a++)if(this._displayables[a].contain(t,e))return!0;return!1},d(vi,On);var Gm=Math.max,Hm=Math.min,Wm={},Um=1,Xm={color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},Ym="emphasis",Jm="normal",Km=1,Qm={},ty={},ey=li,ny=fi,ay=B(),iy=0;yi("circle",Sm),yi("sector",km),yi("ring",Tm),yi("polygon",Mm),yi("polyline",Pm),yi("rect",Em),yi("line",Nm),yi("bezierCurve",Rm),yi("arc",Bm);var ry=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:Um,CACHED_LABEL_STYLE_PROPERTIES:Xm,extendShape:gi,extendPath:mi,registerShape:yi,getShapeClass:_i,makePath:bi,makeImage:xi,mergePath:ey,resizePath:Si,subPixelOptimizeLine:Ii,subPixelOptimizeRect:Ci,subPixelOptimize:ny,setElementHoverStyle:Li,setHoverStyle:Bi,setAsHighDownDispatcher:zi,isHighDownDispatcher:Fi,getHighlightDigit:qi,setLabelStyle:$i,modifyLabelStyle:Zi,setTextStyle:Gi,setText:Hi,getFont:Qi,updateProps:er,initProps:nr,getTransform:ar,applyTransform:ir,transformDirection:rr,groupTransition:or,clipPointsByRect:sr,clipRectByRect:lr,createIcon:ur,linePolygonIntersect:cr,lineLineIntersect:dr,Group:sv,Image:Dn,Text:wm,Circle:Sm,Sector:km,Ring:Tm,Polygon:Mm,Polyline:Pm,Rect:Em,Line:Nm,BezierCurve:Rm,Arc:Bm,IncrementalDisplayable:vi,CompoundPath:zm,LinearGradient:qm,RadialGradient:$m,BoundingRect:Te}),oy=["textStyle","color"],sy={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(oy):null)},getFont:function(){return Qi({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return He(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},ly=vg([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),uy={getItemStyle:function(t,e){var n=ly(this,t,e),a=this.getBorderLineDash();return a&&(n.lineDash=a),n},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},cy=h,dy=ca();pr.prototype={constructor:pr,init:null,mergeOption:function(t){r(this.option,t,!0)},get:function(t,e){return null==t?this.option:vr(this.option,this.parsePath(t),!e&&gr(this,t))},getShallow:function(t,e){var n=this.option,a=null==n?n:n[t],i=!e&&gr(this,t);return null==a&&i&&(a=i.getShallow(t)),a},getModel:function(t,e){var n;return new pr(null==t?this.option:vr(this.option,t=this.parsePath(t)),e=e||(n=gr(this,t))&&n.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new(0,this.constructor)(i(this.option))},setReadOnly:function(){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){dy(this).getParent=t},isAnimationEnabled:function(){if(!Uf.node){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}}},ya(pr),_a(pr),cy(pr,mg),cy(pr,_g),cy(pr,sy),cy(pr,uy);var hy=0,fy=1e-4,py=9007199254740991,vy=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/,gy=(Object.freeze||Object)({linearMap:xr,parsePercent:wr,round:Sr,asc:Ir,getPrecision:Cr,getPrecisionSafe:kr,getPixelPrecision:Tr,getPercentWithPrecision:Or,MAX_SAFE_INTEGER:py,remRadian:Dr,isRadianAroundZero:Mr,parseDate:Pr,quantity:Ar,quantityExponent:Lr,nice:Er,quantile:jr,reformIntervals:Nr,isNumeric:Vr}),my=L,yy=/([&<>"'])/g,_y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},by=["a","b","c","d","e","f","g"],xy=function(t,e){return"{"+t+(null==e?"":e)+"}"},wy=Ke,Sy=(Object.freeze||Object)({addCommas:Rr,toCamelCase:Br,normalizeCssArray:my,encodeHTML:zr,formatTpl:Fr,formatTplSimple:qr,getTooltipMarker:$r,formatTime:Gr,capitalFirst:Hr,truncateText:wy,getTextBoundingRect:Wr,getTextRect:Ur,windowOpen:Xr}),Iy=p,Cy=["left","right","top","bottom","width","height"],ky=[["width","left","right"],["height","top","bottom"]],Ty=Yr,Oy=(b(Yr,"vertical"),b(Yr,"horizontal"),{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}),Dy=ca(),My=pr.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,n,a){pr.call(this,t,e,n,a),this.uid=mr("ec_cpt_model")},init:function(t,e,n){this.mergeDefaultAndTheme(t,n)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,a=n?to(t):{};r(t,e.getTheme().get(this.mainType)),r(t,this.getDefaultOption()),n&&Qr(t,a,n)},mergeOption:function(t){r(this.option,t,!0);var e=this.layoutMode;e&&Qr(this.option,t,e)},optionUpdated:function(){},getDefaultOption:function(){var t=Dy(this);if(!t.defaultOption){for(var e=[],n=this.constructor;n;){var a=n.prototype.defaultOption;a&&e.push(a),n=n.superClass}for(var i={},o=e.length-1;o>=0;o--)i=r(i,e[o],!0);t.defaultOption=i}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});wa(My,{registerWhenExtend:!0}),yr(My),_r(My,no),h(My,Oy);var Py="";"undefined"!=typeof navigator&&(Py=navigator.platform||"");var Ay={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:Py.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Ly=ca(),Ey={clearColorPalette:function(){Ly(this).colorIdx=0,Ly(this).colorNameMap={}},getColorFromPalette:function(t,e,n){var a=Ly(e=e||this),i=a.colorIdx||0,r=a.colorNameMap=a.colorNameMap||{};if(r.hasOwnProperty(t))return r[t];var o=ea(this.get("color",!0)),s=this.get("colorLayer",!0),l=null!=n&&s?ao(s,n):o;if((l=l||o)&&l.length){var u=l[i];return t&&(r[t]=u),a.colorIdx=(i+1)%l.length,u}}},jy="original",Ny="arrayRows",Vy="objectRows",Ry="keyedColumns",By="unknown",zy="typedArray",Fy="column",qy="row";io.seriesDataToSource=function(t){return new io({data:t,sourceFormat:k(t)?zy:jy,fromDataset:!1})},_a(io);var $y={Must:1,Might:2,Not:3},Zy=ca(),Gy="\0_ec_inner",Hy=pr.extend({init:function(t,e,n,a){n=n||{},this.option=null,this._theme=new pr(n),this._optionManager=a},setOption:function(t,e){E(!(Gy in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e=!1,n=this._optionManager;if(!t||"recreate"===t){var a=n.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(a)):xo.call(this,a),e=!0}if(("timeline"===t||"media"===t)&&this.restoreData(),!t||"recreate"===t||"timeline"===t){var i=n.getTimelineOption(this);i&&(this.mergeOption(i),e=!0)}if(!t||"recreate"===t||"media"===t){var r=n.getMediaOption(this,this._api);r.length&&p(r,(function(t){this.mergeOption(t,e=!0)}),this)}return e},mergeOption:function(t){function e(e,i){var r=ea(t[e]),o=ra(a.get(e),r);oa(o),p(o,(function(t){var n=t.option;I(n)&&(t.keyInfo.mainType=e,t.keyInfo.subType=So(e,n,t.exist))}));var l=wo(a,i);n[e]=[],a.set(e,[]),p(o,(function(t,i){var r=t.exist,o=t.option;if(E(I(o)||r,"Empty component definition"),o){var u=My.getClass(e,t.keyInfo.subType,!0);if(r&&r.constructor===u)r.name=t.keyInfo.name,r.mergeOption(o,this),r.optionUpdated(o,!1);else{var c=s({dependentModels:l,componentIndex:i},t.keyInfo);s(r=new u(o,this,this,c),c),r.init(o,this,this,c),r.optionUpdated(null,!0)}}else r.mergeOption({},this),r.optionUpdated({},!1);a.get(e)[i]=r,n[e][i]=r.option}),this),"series"===e&&Io(this,a.get("series"))}var n=this.option,a=this._componentsMap,o=[];so(this),p(t,(function(t,e){null!=t&&(My.hasClass(e)?e&&o.push(e):n[e]=null==n[e]?i(t):r(n[e],t,!0))})),My.topologicalTravel(o,My.getAllClassMainTypes(),e,this),this._seriesIndicesMap=B(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var t=i(this.option);return p(t,(function(e,n){if(My.hasClass(n)){for(var a=(e=ea(e)).length-1;a>=0;a--)la(e[a])&&e.splice(a,1);t[n]=e}})),delete t[Gy],t},getTheme:function(){return this._theme},getComponent:function(t,e){var n=this._componentsMap.get(t);return n?n[e||0]:void 0},queryComponents:function(t){var e=t.mainType;if(!e)return[];var n,a=t.index,i=t.id,r=t.name,o=this._componentsMap.get(e);if(!o||!o.length)return[];if(null!=a)x(a)||(a=[a]),n=m(v(a,(function(t){return o[t]})),(function(t){return!!t}));else if(null!=i){var s=x(i);n=m(o,(function(t){return s&&c(i,t.id)>=0||!s&&t.id===i}))}else if(null!=r){var l=x(r);n=m(o,(function(t){return l&&c(r,t.name)>=0||!l&&t.name===r}))}else n=o.slice();return Co(n,t)},findComponents:function(t){function e(t){var e=i+"Index",n=i+"Id",a=i+"Name";return!t||null==t[e]&&null==t[n]&&null==t[a]?null:{mainType:i,index:t[e],id:t[n],name:t[a]}}function n(e){return t.filter?m(e,t.filter):e}var a=t.query,i=t.mainType,r=e(a);return n(Co(r?this.queryComponents(r):this._componentsMap.get(i),t))},eachComponent:function(t,e,n){var a=this._componentsMap;"function"==typeof t?(n=e,e=t,a.each((function(t,a){p(t,(function(t,i){e.call(n,a,t,i)}))}))):S(t)?p(a.get(t),e,n):I(t)&&p(this.findComponents(t),e,n)},getSeriesByName:function(t){return m(this._componentsMap.get("series"),(function(e){return e.name===t}))},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(t){return m(this._componentsMap.get("series"),(function(e){return e.subType===t}))},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(t,e){ko(this),p(this._seriesIndices,(function(n){var a=this._componentsMap.get("series")[n];t.call(e,a,n)}),this)},eachRawSeries:function(t,e){p(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(t,e,n){ko(this),p(this._seriesIndices,(function(a){var i=this._componentsMap.get("series")[a];i.subType===t&&e.call(n,i,a)}),this)},eachRawSeriesByType:function(t,e,n){return p(this.getSeriesByType(t),e,n)},isSeriesFiltered:function(t){return ko(this),null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){ko(this),Io(this,m(this._componentsMap.get("series"),t,e))},restoreData:function(t){var e=this._componentsMap;Io(this,e.get("series"));var n=[];e.each((function(t,e){n.push(e)})),My.topologicalTravel(n,My.getAllClassMainTypes(),(function(n){p(e.get(n),(function(e){("series"!==n||!_o(e,t))&&e.restoreData()}))}))}});h(Hy,Ey);var Wy=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"],Uy={};Oo.prototype={constructor:Oo,create:function(t,e){var n=[];p(Uy,(function(a){var i=a.create(t,e);n=n.concat(i||[])})),this._coordinateSystems=n},update:function(t,e){p(this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},Oo.register=function(t,e){Uy[t]=e},Oo.get=function(t){return Uy[t]};var Xy=p,Yy=i,Jy=v,Ky=r,Qy=/^(min|max)?(.+)$/;Do.prototype={constructor:Do,setOption:function(t,e){t&&p(ea(t.series),(function(t){t&&t.data&&k(t.data)&&N(t.data)})),t=Yy(t);var n=this._optionBackup,a=Mo.call(this,t,e,!n);this._newBaseOption=a.baseOption,n?(Eo(n.baseOption,a.baseOption),a.timelineOptions.length&&(n.timelineOptions=a.timelineOptions),a.mediaList.length&&(n.mediaList=a.mediaList),a.mediaDefault&&(n.mediaDefault=a.mediaDefault)):this._optionBackup=a},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=Jy(e.timelineOptions,Yy),this._mediaList=Jy(e.mediaList,Yy),this._mediaDefault=Yy(e.mediaDefault),this._currentMediaIndices=[],Yy(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,n=this._timelineOptions;if(n.length){var a=t.getComponent("timeline");a&&(e=Yy(n[a.getCurrentIndex()],!0))}return e},getMediaOption:function(){var t=this._api.getWidth(),e=this._api.getHeight(),n=this._mediaList,a=this._mediaDefault,i=[],r=[];if(!n.length&&!a)return r;for(var o=0,s=n.length;s>o;o++)Po(n[o].query,t,e)&&i.push(o);return!i.length&&a&&(i=[-1]),i.length&&!Lo(i,this._currentMediaIndices)&&(r=Jy(i,(function(t){return Yy(-1===t?a.option:n[t].option)}))),this._currentMediaIndices=i,r}};var t_=p,e_=I,n_=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"],a_=function(t,e){t_(Fo(t.series),(function(t){e_(t)&&zo(t)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),t_(n,(function(e){t_(Fo(t[e]),(function(t){t&&(Ro(t,"axisLabel"),Ro(t.axisPointer,"label"))}))})),t_(Fo(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;Ro(e,"axisLabel"),Ro(e&&e.axisPointer,"label")})),t_(Fo(t.calendar),(function(t){No(t,"itemStyle"),Ro(t,"dayLabel"),Ro(t,"monthLabel"),Ro(t,"yearLabel")})),t_(Fo(t.radar),(function(t){Ro(t,"name")})),t_(Fo(t.geo),(function(t){e_(t)&&(Bo(t),t_(Fo(t.regions),(function(t){Bo(t)})))})),t_(Fo(t.timeline),(function(t){Bo(t),No(t,"label"),No(t,"itemStyle"),No(t,"controlStyle",!0);var e=t.data;x(e)&&p(e,(function(t){I(t)&&(No(t,"label"),No(t,"itemStyle"))}))})),t_(Fo(t.toolbox),(function(t){No(t,"iconStyle"),t_(t.feature,(function(t){No(t,"iconStyle")}))})),Ro(qo(t.axisPointer),"label"),Ro(qo(t.tooltip).axisPointer,"label")},i_=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],r_=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],o_=function(t,e){a_(t,e),t.series=ea(t.series),p(t.series,(function(t){if(I(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e)null!=t.clockWise&&(t.clockwise=t.clockWise);else if("gauge"===e){var n=$o(t,"pointer.color");null!=n&&Zo(t,"itemStyle.color",n)}Go(t)}})),t.dataRange&&(t.visualMap=t.dataRange),p(r_,(function(e){var n=t[e];n&&(x(n)||(n=[n]),p(n,(function(t){Go(t)})))}))},s_=function(t){var e=B();t.eachSeries((function(t){var n=t.get("stack");if(n){var a=e.get(n)||e.set(n,[]),i=t.getData(),r={stackResultDimension:i.getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t};if(!r.stackedDimension||!r.isStackedByIndex&&!r.stackedByDimension)return;a.length&&i.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(r)}})),e.each(Ho)},l_=Wo.prototype;l_.pure=!1,l_.persistent=!0,l_.getSource=function(){return this._source};var u_={arrayRows_column:{pure:!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:Yo},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],n=this._data,a=0;a<n.length;a++){var i=n[a];e.push(i?i[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Uo,getItem:Xo,appendData:Yo},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,e=this._data[t];return e?e.length:0},getItem:function(t){for(var e=[],n=this._source.dimensionsDefine,a=0;a<n.length;a++){var i=this._data[n[a].name];e.push(i?i[t]:null)}return e},appendData:function(t){var e=this._data;p(t,(function(t,n){for(var a=e[n]||(e[n]=[]),i=0;i<(t||[]).length;i++)a.push(t[i])}))}},original:{count:Uo,getItem:Xo,appendData:Yo},typedArray:{persistent:!1,pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var n=this._dimSize*t,a=0;a<this._dimSize;a++)e[a]=this._data[n+a];return e},appendData:function(t){Gf&&E(k(t),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}},c_={arrayRows:Jo,objectRows:function(t,e,n,a){return null!=n?t[a]:t},keyedColumns:Jo,original:function(t,e,n){var a=aa(t);return null!=n&&a instanceof Array?a[n]:a},typedArray:Jo},d_={arrayRows:Ko,objectRows:function(t,e){return Qo(t[e],this._dimensionInfos[e])},keyedColumns:Ko,original:function(t,e,n,a){var i=t&&(null==t.value?t:t.value);return!this._rawData.pure&&ia(t)&&(this.hasItemOption=!0),Qo(i instanceof Array?i[a]:i,this._dimensionInfos[e])},typedArray:function(t,e,n,a){return t[a]}},h_=/\{@(.+?)\}/g,f_={getDataParams:function(t,e){var n=this.getData(e),a=this.getRawValue(t,e),i=n.getRawIndex(t),r=n.getName(t),o=n.getRawDataItem(t),s=n.getItemVisual(t,"color"),l=n.getItemVisual(t,"borderColor"),u=this.ecModel.getComponent("tooltip"),c=va(u&&u.get("renderMode")),d=this.mainType,h="series"===d,f=n.userOutput;return{componentType:d,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:r,dataIndex:i,data:o,dataType:e,value:a,color:s,borderColor:l,dimensionNames:f?f.dimensionNames:null,encode:f?f.encode:null,marker:$r({color:s,renderMode:c}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(t,e,n,a,i){e=e||"normal";var r=this.getData(n),o=r.getItemModel(t),s=this.getDataParams(t,n);null!=a&&s.value instanceof Array&&(s.value=s.value[a]);var l=o.get("normal"===e?[i||"label","formatter"]:[e,i||"label","formatter"]);return"function"==typeof l?(s.status=e,s.dimensionIndex=a,l(s)):"string"==typeof l?Fr(l,s).replace(h_,(function(e,n){var a=n.length;return"["===n.charAt(0)&&"]"===n.charAt(a-1)&&(n=+n.slice(1,a-1)),ts(r,t,n)})):void 0},getRawValue:function(t,e){return ts(this.getData(e),t)},formatTooltip:function(){}},p_=as.prototype;p_.perform=function(t){function e(t){return!(t>=1)&&(t=1),t}var n,a=this._upstream,i=t&&t.skip;if(this._dirty&&a){var r=this.context;r.data=r.outputData=a.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!i&&(n=this._plan(this.context));var o,s=e(this._modBy),l=this._modDataCount||0,u=e(t&&t.modBy),c=t&&t.modDataCount||0;(s!==u||l!==c)&&(n="reset"),(this._dirty||"reset"===n)&&(this._dirty=!1,o=rs(this,i)),this._modBy=u,this._modDataCount=c;var d=t&&t.step;if(a?(Gf&&E(null!=a._outputDueEnd),this._dueEnd=a._outputDueEnd):(Gf&&E(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var h=this._dueIndex,f=Math.min(null!=d?this._dueIndex+d:1/0,this._dueEnd);if(!i&&(o||f>h)){var p=this._progress;if(x(p))for(var v=0;v<p.length;v++)is(this,p[v],h,f,u,c);else is(this,p,h,f,u,c)}this._dueIndex=f;var g=null!=this._settedOutputEnd?this._settedOutputEnd:f;Gf&&E(g>=this._outputDueEnd),this._outputDueEnd=g}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var v_=function(){function t(){return n>a?a++:null}function e(){var t=a%o*i+Math.ceil(a/o),e=a>=n?null:r>t?t:a;return a++,e}var n,a,i,r,o,s={reset:function(l,u,c,d){a=l,n=u,i=c,r=d,o=Math.ceil(r/i),s.next=i>1&&r>0?e:t}};return s}();p_.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},p_.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},p_.pipe=function(t){Gf&&E(t&&!t._disposed&&t!==this),(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},p_.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},p_.getUpstream=function(){return this._upstream},p_.getDownstream=function(){return this._downstream},p_.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var g_=ca(),m_=My.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=ns({count:ls,reset:us}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),lo(this);var a=this.getInitialData(t,n);ds(a,this),this.dataTask.context.data=a,Gf&&E(a,"getInitialData returned invalid data."),g_(this).dataBeforeProcessed=a,os(this)},mergeDefaultAndTheme:function(t,e){var n=this.layoutMode,a=n?to(t):{},i=this.subType;My.hasClass(i)&&(i+="Series"),r(t,e.getTheme().get(this.subType)),r(t,this.getDefaultOption()),na(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&Qr(t,a,n)},mergeOption:function(t,e){t=r(this.option,t,!0),this.fillDataTextStyle(t.data);var n=this.layoutMode;n&&Qr(this.option,t,n),lo(this);var a=this.getInitialData(t,e);ds(a,this),this.dataTask.dirty(),this.dataTask.context.data=a,g_(this).dataBeforeProcessed=a,os(this)},fillDataTextStyle:function(t){if(t&&!k(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&na(t[n],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=fs(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return g_(this).data},setData:function(t){var e=fs(this);if(e){var n=e.context;n.data!==t&&e.modifyOutputEnd&&e.setOutputEnd(t.count()),n.outputData=t,e!==this.dataTask&&(n.data=t)}g_(this).data=t},getSource:function(){return oo(this)},getRawData:function(){return g_(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(t,e,n,a){function i(n){function i(t,n){var i=d.getDimensionInfo(n);if(i&&!1!==i.otherDims.tooltip){var h=i.type,f="sub"+o.seriesIndex+"at"+c,p=$r({color:y,type:"subItem",renderMode:a,markerId:f}),v="string"==typeof p?p:p.content,g=(r?v+zr(i.displayName||"-")+": ":"")+zr("ordinal"===h?t+"":"time"===h?e?"":Gr("yyyy/MM/dd hh:mm:ss",t):Rr(t));g&&s.push(g),l&&(u[f]=y,++c)}}var r=g(n,(function(t,e,n){var a=d.getDimensionInfo(n);return t|(a&&!1!==a.tooltip&&null!=a.displayName)}),0),s=[];h.length?p(h,(function(e){i(ts(d,t,e),e)})):p(n,i);var f=r?l?"\n":"<br/>":"",v=f+s.join(f||", ");return{renderMode:a,content:v,style:u}}function r(t){return{renderMode:a,content:zr(Rr(t)),style:u}}var o=this,s="html"===(a=a||"html")?"<br/>":"\n",l="richText"===a,u={},c=0,d=this.getData(),h=d.mapDimension("defaultedTooltip",!0),f=h.length,v=this.getRawValue(t),m=x(v),y=d.getItemVisual(t,"color");I(y)&&y.colorStops&&(y=(y.colorStops[0]||{}).color),y=y||"transparent";var _=(f>1||m&&!f?i(v):r(f?ts(d,t,h[0]):m?v[0]:v)).content,b=o.seriesIndex+"at"+c,w=$r({color:y,type:"item",renderMode:a,markerId:b});u[b]=y,++c;var S=d.getName(t),C=this.name;sa(this)||(C=""),C=C?zr(C)+(e?": ":s):"";var k="string"==typeof w?w:w.content;return{html:e?k+C+_:C+k+(S?zr(S)+": "+_:_),markers:u}},isAnimationEnabled:function(){if(Uf.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,n){var a=this.ecModel,i=Ey.getColorFromPalette.call(this,t,e,n);return i||(i=a.getColorFromPalette(t,e,n)),i},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});h(m_,f_),h(m_,Ey);var y_=function(){this.group=new sv,this.uid=mr("viewComponent")};y_.prototype={constructor:y_,init:function(){},render:function(){},dispose:function(){},filterForExposedEvent:null};var __=y_.prototype;__.updateView=__.updateLayout=__.updateVisual=function(){},ya(y_),wa(y_,{registerWhenExtend:!0});var b_=function(){var t=ca();return function(e){var n=t(e),a=e.pipelineContext,i=n.large,r=n.progressiveRender,o=n.large=a&&a.large,s=n.progressiveRender=a&&a.progressiveRender;return!!(i^o||r^s)&&"reset"}},x_=ca(),w_=b_();ps.prototype={type:"chart",init:function(){},render:function(){},highlight:function(t,e,n,a){gs(t.getData(),a,"emphasis")},downplay:function(t,e,n,a){gs(t.getData(),a,"normal")},remove:function(){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};var S_=ps.prototype;S_.updateView=S_.updateLayout=S_.updateVisual=function(t,e,n,a){this.render(t,e,n,a)},ya(ps,["dispose"]),wa(ps,{registerWhenExtend:!0}),ps.markUpdateMethod=function(t,e){x_(t).updateMethod=e};var I_={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},C_="\0__throttleOriginMethod",k_="\0__throttleRate",T_="\0__throttleType",O_={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),a=(t.visualColorAccessPath||"itemStyle.color").split("."),i=t.get(a),r=!w(i)||i instanceof Fm?null:i;(!i||r)&&(i=t.getColorFromPalette(t.name,null,e.getSeriesCount())),n.setVisual("color",i);var o=(t.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),s=t.get(o);if(n.setVisual("borderColor",s),!e.isSeriesFiltered(t)){r&&n.each((function(e){n.setItemVisual(e,"color",r(t.getDataParams(e)))}));var l=function(t,e){var n=t.getItemModel(e),i=n.get(a,!0),r=n.get(o,!0);null!=i&&t.setItemVisual(e,"color",i),null!=r&&t.setItemVisual(e,"borderColor",r)};return{dataEach:n.hasItemOption?l:null}}}},D_={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},M_=function(t,e){function n(t,e){if("string"!=typeof t)return t;var n=t;return p(e,(function(t,e){n=n.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)})),n}function a(t){var e=o.get(t);if(null==e){for(var n=t.split("."),a=D_.aria,i=0;i<n.length;++i)a=a[n[i]];return a}return e}function i(){var t=e.getModel("title").option;return t&&t.length&&(t=t[0]),t&&t.text}function r(t){return D_.series.typeNames[t]||"自定义图"}var o=e.getModel("aria");if(o.get("show")){if(o.get("description"))return void t.setAttribute("aria-label",o.get("description"));var s=0;e.eachSeries((function(){++s}),this);var l,u=o.get("data.maxCount")||10,c=o.get("series.maxCount")||10,d=Math.min(s,c);if(!(1>s)){var h=i();l=h?n(a("general.withTitle"),{title:h}):a("general.withoutTitle");var f=[];l+=n(a(s>1?"series.multiple.prefix":"series.single.prefix"),{seriesCount:s}),e.eachSeries((function(t,e){if(d>e){var i,o=t.get("name"),l="series."+(s>1?"multiple":"single")+".";i=n(i=a(o?l+"withName":l+"withoutName"),{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:r(t.subType)});var c=t.getData();window.data=c,i+=c.count()>u?n(a("data.partialData"),{displayCnt:u}):a("data.allData");for(var h=[],p=0;p<c.count();p++)if(u>p){var v=c.getName(p),g=ts(c,p);h.push(n(a(v?"data.withName":"data.withoutName"),{name:v,value:g}))}i+=h.join(a("data.separator.middle"))+a("data.separator.end"),f.push(i)}})),l+=f.join(a("series.multiple.separator.middle"))+a("series.multiple.separator.end"),t.setAttribute("aria-label",l)}}},P_=Math.PI,A_=function(t,e){l(e=e||{},{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new sv,a=new Em({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(a);var i=e.fontSize+" sans-serif",r=new Em({style:{fill:"none",text:e.text,font:i,textPosition:"right",textDistance:10,textFill:e.textColor},zlevel:e.zlevel,z:10001});if(n.add(r),e.showSpinner){var o=new Bm({shape:{startAngle:-P_/2,endAngle:-P_/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001});o.animateShape(!0).when(1e3,{endAngle:3*P_/2}).start("circularInOut"),o.animateShape(!0).when(1e3,{startAngle:3*P_/2}).delay(300).start("circularInOut"),n.add(o)}return n.resize=function(){var n=Ge(e.text,i),s=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*s-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner?0:n/2),u=t.getHeight()/2;e.showSpinner&&o.setShape({cx:l,cy:u}),r.setShape({x:l-s,y:u-s,width:2*s,height:2*s}),a.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n},L_=ws.prototype;L_.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},L_.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),a=n.context,i=!e&&n.progressiveEnabled&&(!a||a.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,r=a&&a.modDataCount;return{step:i,modBy:null!=r?Math.ceil(r/i):null,modDataCount:r}}},L_.getPipeline=function(t){return this._pipelineMap.get(t)},L_.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),a=t.getData().count(),i=n.progressiveEnabled&&e.incrementalPrepareRender&&a>=n.threshold,r=t.get("large")&&a>=t.get("largeThreshold"),o="mod"===t.get("progressiveChunkMode")?a:null;t.pipelineContext=n.context={progressiveRender:i,modDataCount:o,large:r}},L_.restorePipelines=function(t){var e=this,n=e._pipelineMap=B();t.eachSeries((function(t){var a=t.getProgressive(),i=t.uid;n.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:a&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(a||700),count:0}),Es(e,t,t.dataTask)}))},L_.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.ecInstance.getModel(),n=this.api;p(this._allHandlers,(function(a){var i=t.get(a.uid)||t.set(a.uid,[]);a.reset&&Is(this,a,i,e,n),a.overallReset&&Cs(this,a,i,e,n)}),this)},L_.prepareView=function(t,e,n,a){var i=t.renderTask,r=i.context;r.model=e,r.ecModel=n,r.api=a,i.__block=!t.incrementalPrepareRender,Es(this,e,i)},L_.performDataProcessorTasks=function(t,e){Ss(this,this._dataProcessorHandlers,t,e,{block:!0})},L_.performVisualTasks=function(t,e,n){Ss(this,this._visualHandlers,t,e,n)},L_.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e|=t.dataTask.perform()})),this.unfinished|=e},L_.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))};var E_=L_.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},j_=As(0);ws.wrapStageHandler=function(t,e){return w(t)&&(t={overallReset:t,seriesType:js(t)}),t.uid=mr("stageHandler"),e&&(t.visualType=e),t};var N_,V_={},R_={};Ns(V_,Hy),Ns(R_,To),V_.eachSeriesByType=V_.eachRawSeriesByType=function(t){N_=t},V_.eachComponent=function(t){"series"===t.mainType&&t.subType&&(N_=t.subType)};var B_=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],z_={color:B_,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],B_]},F_="#eee",q_=function(){return{axisLine:{lineStyle:{color:F_}},axisTick:{lineStyle:{color:F_}},axisLabel:{textStyle:{color:F_}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:F_}}}},$_=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],Z_={color:$_,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:F_},crossStyle:{color:F_},label:{color:"#000"}}},legend:{textStyle:{color:F_}},textStyle:{color:F_},title:{textStyle:{color:F_}},toolbox:{iconStyle:{normal:{borderColor:F_}}},dataZoom:{textStyle:{color:F_}},visualMap:{textStyle:{color:F_}},timeline:{lineStyle:{color:F_},itemStyle:{normal:{color:$_[1]}},label:{normal:{textStyle:{color:F_}}},controlStyle:{normal:{color:F_,borderColor:F_}}},timeAxis:q_(),logAxis:q_(),valueAxis:q_(),categoryAxis:q_(),line:{symbol:"circle"},graph:{color:$_},gauge:{title:{textStyle:{color:F_}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};Z_.categoryAxis.splitLine.show=!1,My.extend({type:"dataset",defaultOption:{seriesLayoutBy:Fy,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){ro(this)}}),y_.extend({type:"dataset"});var G_=ni.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var n=.5522848,a=e.cx,i=e.cy,r=e.rx,o=e.ry,s=r*n,l=o*n;t.moveTo(a-r,i),t.bezierCurveTo(a-r,i-l,a-s,i-o,a,i-o),t.bezierCurveTo(a+s,i-o,a+r,i-l,a+r,i),t.bezierCurveTo(a+r,i+l,a+s,i+o,a,i+o),t.bezierCurveTo(a-s,i+o,a-r,i+l,a-r,i),t.closePath()}}),H_=/[\s,]+/;Rs.prototype.parse=function(t,e){e=e||{};var n=Vs(t);if(!n)throw new Error("Illegal svg");var a=new sv;this._root=a;var i,r,o=n.getAttribute("viewBox")||"",s=parseFloat(n.getAttribute("width")||e.width),l=parseFloat(n.getAttribute("height")||e.height);isNaN(s)&&(s=null),isNaN(l)&&(l=null),qs(n,a,null,!0);for(var u=n.firstChild;u;)this._parseNode(u,a),u=u.nextSibling;if(o){var c=j(o).split(H_);c.length>=4&&(i={x:parseFloat(c[0]||0),y:parseFloat(c[1]||0),width:parseFloat(c[2]),height:parseFloat(c[3])})}if(i&&null!=s&&null!=l&&(r=Hs(i,s,l),!e.ignoreViewBox)){var d=a;(a=new sv).add(d),d.scale=r.scale.slice(),d.position=r.position.slice()}return e.ignoreRootClip||null==s||null==l||a.setClipPath(new Em({shape:{x:0,y:0,width:s,height:l}})),{root:a,width:s,height:l,viewBoxRect:i,viewBoxTransform:r}},Rs.prototype._parseNode=function(t,e){var n,a,i=t.nodeName.toLowerCase();if("defs"===i?this._isDefine=!0:"text"===i&&(this._isText=!0),this._isDefine){if(a=U_[i]){var r=a.call(this,t),o=t.getAttribute("id");o&&(this._defs[o]=r)}}else(a=W_[i])&&(n=a.call(this,t,e),e.add(n));for(var s=t.firstChild;s;)1===s.nodeType&&this._parseNode(s,n),3===s.nodeType&&this._isText&&this._parseText(s,n),s=s.nextSibling;"defs"===i?this._isDefine=!1:"text"===i&&(this._isText=!1)},Rs.prototype._parseText=function(t,e){if(1===t.nodeType){var n=t.getAttribute("dx")||0,a=t.getAttribute("dy")||0;this._textX+=parseFloat(n),this._textY+=parseFloat(a)}var i=new wm({style:{text:t.textContent,transformText:!0},position:[this._textX||0,this._textY||0]});zs(e,i),qs(t,i,this._defs);var r=i.style.fontSize;r&&9>r&&(i.style.fontSize=9,i.scale=i.scale||[1,1],i.scale[0]*=r/9,i.scale[1]*=r/9);var o=i.getBoundingRect();return this._textX+=o.width,e.add(i),i};var W_={g:function(t,e){var n=new sv;return zs(e,n),qs(t,n,this._defs),n},rect:function(t,e){var n=new Em;return zs(e,n),qs(t,n,this._defs),n.setShape({x:parseFloat(t.getAttribute("x")||0),y:parseFloat(t.getAttribute("y")||0),width:parseFloat(t.getAttribute("width")||0),height:parseFloat(t.getAttribute("height")||0)}),n},circle:function(t,e){var n=new Sm;return zs(e,n),qs(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),r:parseFloat(t.getAttribute("r")||0)}),n},line:function(t,e){var n=new Nm;return zs(e,n),qs(t,n,this._defs),n.setShape({x1:parseFloat(t.getAttribute("x1")||0),y1:parseFloat(t.getAttribute("y1")||0),x2:parseFloat(t.getAttribute("x2")||0),y2:parseFloat(t.getAttribute("y2")||0)}),n},ellipse:function(t,e){var n=new G_;return zs(e,n),qs(t,n,this._defs),n.setShape({cx:parseFloat(t.getAttribute("cx")||0),cy:parseFloat(t.getAttribute("cy")||0),rx:parseFloat(t.getAttribute("rx")||0),ry:parseFloat(t.getAttribute("ry")||0)}),n},polygon:function(t,e){var n=t.getAttribute("points");n&&(n=Fs(n));var a=new Mm({shape:{points:n||[]}});return zs(e,a),qs(t,a,this._defs),a},polyline:function(t,e){var n=new ni;zs(e,n),qs(t,n,this._defs);var a=t.getAttribute("points");return a&&(a=Fs(a)),new Pm({shape:{points:a||[]}})},image:function(t,e){var n=new Dn;return zs(e,n),qs(t,n,this._defs),n.setStyle({image:t.getAttribute("xlink:href"),x:t.getAttribute("x"),y:t.getAttribute("y"),width:t.getAttribute("width"),height:t.getAttribute("height")}),n},text:function(t,e){var n=t.getAttribute("x")||0,a=t.getAttribute("y")||0,i=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0;this._textX=parseFloat(n)+parseFloat(i),this._textY=parseFloat(a)+parseFloat(r);var o=new sv;return zs(e,o),qs(t,o,this._defs),o},tspan:function(t,e){var n=t.getAttribute("x"),a=t.getAttribute("y");null!=n&&(this._textX=parseFloat(n)),null!=a&&(this._textY=parseFloat(a));var i=t.getAttribute("dx")||0,r=t.getAttribute("dy")||0,o=new sv;return zs(e,o),qs(t,o,this._defs),this._textX+=i,this._textY+=r,o},path:function(t,e){var n=oi(t.getAttribute("d")||"");return zs(e,n),qs(t,n,this._defs),n}},U_={lineargradient:function(t){var e=parseInt(t.getAttribute("x1")||0,10),n=parseInt(t.getAttribute("y1")||0,10),a=parseInt(t.getAttribute("x2")||10,10),i=parseInt(t.getAttribute("y2")||0,10),r=new qm(e,n,a,i);return Bs(t,r),r},radialgradient:function(){}},X_={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-align":"textAlign","alignment-baseline":"textBaseline"},Y_=/url\(\s*#(.*?)\)/,J_=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g,K_=/([^\s:;]+)\s*:\s*([^:;]+)/g,Q_=B(),tb={registerMap:function(t,e,n){var a;return x(e)?a=e:e.svg?a=[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(n=e.specialAreas,e=e.geoJson),a=[{type:"geoJSON",source:e,specialAreas:n}]),p(a,(function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON");var n=eb[e];Gf&&E(n,"Illegal map type: "+e),n(t)})),Q_.set(t,a)},retrieveMap:function(t){return Q_.get(t)}},eb={geoJSON:function(t){var e=t.source;t.geoJSON=S(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=Vs(t.source)}},nb=E,ab=p,ib=w,rb=I,ob=My.parseClassType,sb="4.9.0",lb={zrender:"4.3.2"},ub=1,cb=1e3,db=900,hb=1e3,fb=2e3,pb=3e3,vb={PROCESSOR:{FILTER:cb,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:hb,PROGRESSIVE_LAYOUT:1100,GLOBAL:fb,CHART:pb,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},gb="__flagInMainProcess",mb="__optionUpdated",yb=/^[a-zA-Z0-9_]+$/;Us.prototype.on=Ws("on",!0),Us.prototype.off=Ws("off",!0),Us.prototype.one=Ws("one",!0),h(Us,gp);var _b=Xs.prototype;_b._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[mb]){var e=this[mb].silent;this[gb]=!0,Js(this),bb.update.call(this),this[gb]=!1,this[mb]=!1,el.call(this,e),nl.call(this,e)}else if(t.unfinished){var n=ub,a=this._model,i=this._api;t.unfinished=!1;do{var r=+new Date;t.performSeriesTasks(a),t.performDataProcessorTasks(a),Qs(this,a),t.performVisualTasks(a),ll(this,this._model,i,"remain"),n-=+new Date-r}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},_b.getDom=function(){return this._dom},_b.getZr=function(){return this._zr},_b.setOption=function(t,e,n){if(Gf&&nb(!this[gb],"`setOption` should not be called during main process."),this._disposed)cl(this.id);else{var a;if(rb(e)&&(n=e.lazyUpdate,a=e.silent,e=e.notMerge),this[gb]=!0,!this._model||e){var i=new Do(this._api),r=this._theme,o=this._model=new Hy;o.scheduler=this._scheduler,o.init(null,null,r,i)}this._model.setOption(t,Cb),n?(this[mb]={silent:a},this[gb]=!1):(Js(this),bb.update.call(this),this._zr.flush(),this[mb]=!1,this[gb]=!1,el.call(this,a),nl.call(this,a))}},_b.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},_b.getModel=function(){return this._model},_b.getOption=function(){return this._model&&this._model.getOption()},_b.getWidth=function(){return this._zr.getWidth()},_b.getHeight=function(){return this._zr.getHeight()},_b.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},_b.getRenderedCanvas=function(t){if(Uf.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},_b.getSvgDataURL=function(){if(Uf.svgSupported){var t=this._zr;return p(t.storage.getDisplayList(),(function(t){t.stopAnimation(!0)})),t.painter.toDataURL()}},_b.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,a=[],i=this;ab(e,(function(t){n.eachComponent({mainType:t},(function(t){var e=i._componentsMap[t.__viewId];e.group.ignore||(a.push(e),e.group.ignore=!0)}))}));var r="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return ab(a,(function(t){t.group.ignore=!1})),r}cl(this.id)},_b.getConnectedDataURL=function(t){if(this._disposed)cl(this.id);else if(Uf.canvasSupported){var e="svg"===t.type,n=this.group,a=Math.min,r=Math.max,o=1/0;if(Pb[n]){var s=o,l=o,u=-o,c=-o,d=[],h=t&&t.pixelRatio||1;p(Mb,(function(o){if(o.group===n){var h=e?o.getZr().painter.getSvgDom().innerHTML:o.getRenderedCanvas(i(t)),f=o.getDom().getBoundingClientRect();s=a(f.left,s),l=a(f.top,l),u=r(f.right,u),c=r(f.bottom,c),d.push({dom:h,left:f.left,top:f.top})}}));var f=(u*=h)-(s*=h),v=(c*=h)-(l*=h),g=rp(),m=Yn(g,{renderer:e?"svg":"canvas"});if(m.resize({width:f,height:v}),e){var y="";return ab(d,(function(t){var e=t.left-s,n=t.top-l;y+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"})),m.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&m.painter.setBackgroundColor(t.connectedBackgroundColor),m.refreshImmediately(),m.painter.toDataURL()}return t.connectedBackgroundColor&&m.add(new Em({shape:{x:0,y:0,width:f,height:v},style:{fill:t.connectedBackgroundColor}})),ab(d,(function(t){var e=new Dn({style:{x:t.left*h-s,y:t.top*h-l,image:t.dom}});m.add(e)})),m.refreshImmediately(),g.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}},_b.convertToPixel=b(Ys,"convertToPixel"),_b.convertFromPixel=b(Ys,"convertFromPixel"),_b.containPixel=function(t,e){var n;if(!this._disposed)return p(t=da(this._model,t),(function(t,a){a.indexOf("Models")>=0&&p(t,(function(t){var i=t.coordinateSystem;if(i&&i.containPoint)n|=!!i.containPoint(e);else if("seriesModels"===a){var r=this._chartsMap[t.__viewId];r&&r.containPoint?n|=r.containPoint(e,t):Gf&&console.warn(a+": "+(r?"The found component do not support containPoint.":"No view mapping to the found component."))}else Gf&&console.warn(a+": containPoint is not supported")}),this)}),this),!!n;cl(this.id)},_b.getVisual=function(t,e){var n=(t=da(this._model,t,{defaultMainType:"series"})).seriesModel;Gf&&(n||console.warn("There is no specified seires model"));var a=n.getData(),i=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?a.indexOfRawIndex(t.dataIndex):null;return null!=i?a.getItemVisual(i,e):a.getVisual(e)},_b.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},_b.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var bb={prepareAndUpdate:function(t){Js(this),bb.update.call(this,t)},update:function(t){var e=this._model,n=this._api,a=this._zr,i=this._coordSysMgr,r=this._scheduler;if(e){r.restoreData(e,t),r.performSeriesTasks(e),i.create(e,n),r.performDataProcessorTasks(e,t),Qs(this,e),i.update(e,n),rl(e),r.performVisualTasks(e,t),ol(this,e,n,t);var o=e.get("backgroundColor")||"transparent";if(Uf.canvasSupported)a.setBackgroundColor(o);else{var s=ee(o);o=ce(s,"rgb"),0===s[3]&&(o="transparent")}ul(e,n)}},updateTransform:function(t){var e=this._model,n=this,a=this._api;if(e){var i=[];e.eachComponent((function(r,o){var s=n.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(o,e,a,t);l&&l.update&&i.push(s)}else i.push(s)}));var r=B();e.eachSeries((function(i){var o=n._chartsMap[i.__viewId];if(o.updateTransform){var s=o.updateTransform(i,e,a,t);s&&s.update&&r.set(i.uid,1)}else r.set(i.uid,1)})),rl(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0,dirtyMap:r}),ll(n,e,a,t,r),ul(e,this._api)}},updateView:function(t){var e=this._model;e&&(ps.markUpdateMethod(t,"updateView"),rl(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),ol(this,this._model,this._api,t),ul(e,this._api))},updateVisual:function(t){bb.update.call(this,t)},updateLayout:function(t){bb.update.call(this,t)}};_b.resize=function(t){if(Gf&&nb(!this[gb],"`resize` should not be called during main process."),this._disposed)cl(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),a=t&&t.silent;this[gb]=!0,n&&Js(this),bb.update.call(this),this[gb]=!1,el.call(this,a),nl.call(this,a)}}},_b.showLoading=function(t,e){if(this._disposed)cl(this.id);else if(rb(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Db[t]){var n=Db[t](this._api,e),a=this._zr;this._loadingFX=n,a.add(n)}else Gf&&console.warn("Loading effects "+t+" not exists.")},_b.hideLoading=function(){return this._disposed?void cl(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),void(this._loadingFX=null))},_b.makeActionFromEvent=function(t){var e=s({},t);return e.type=Sb[t.type],e},_b.dispatchAction=function(t,e){if(this._disposed)cl(this.id);else if(rb(e)||(e={silent:!!e}),wb[t.type]&&this._model){if(this[gb])return void this._pendingActions.push(t);tl.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&Uf.browser.weChat&&this._throttledZrFlush(),el.call(this,e.silent),nl.call(this,e.silent)}},_b.appendData=function(t){if(this._disposed)cl(this.id);else{var e=t.seriesIndex,n=this.getModel().getSeriesByIndex(e);Gf&&nb(t.data&&n),n.appendData(t),this._scheduler.unfinished=!0}},_b.on=Ws("on",!1),_b.off=Ws("off",!1),_b.one=Ws("one",!1);var xb=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];_b._initEvents=function(){ab(xb,(function(t){var e=function(e){var n,a=this.getModel(),i=e.target,r="globalout"===t;if(r)n={};else if(i&&null!=i.dataIndex){var o=i.dataModel||a.getSeriesByIndex(i.seriesIndex);n=o&&o.getDataParams(i.dataIndex,i.dataType,i)||{}}else i&&i.eventData&&(n=s({},i.eventData));if(n){var l=n.componentType,u=n.componentIndex;("markLine"===l||"markPoint"===l||"markArea"===l)&&(l="series",u=n.seriesIndex);var c=l&&null!=u&&a.getComponent(l,u),d=c&&this["series"===c.mainType?"_chartsMap":"_componentsMap"][c.__viewId];Gf&&(r||c&&d||console.warn("model or view can not be found by params")),n.event=e,n.type=t,this._ecEventProcessor.eventInfo={targetEl:i,packedEvent:n,model:c,view:d},this.trigger(t,n)}};e.zrEventfulCallAtLast=!0,this._zr.on(t,e,this)}),this),ab(Sb,(function(t,e){this._messageCenter.on(e,(function(t){this.trigger(e,t)}),this)}),this)},_b.isDisposed=function(){return this._disposed},_b.clear=function(){return this._disposed?void cl(this.id):void this.setOption({series:[]},!0)},_b.dispose=function(){if(this._disposed)cl(this.id);else{this._disposed=!0,fa(this.getDom(),Eb,"");var t=this._api,e=this._model;ab(this._componentsViews,(function(n){n.dispose(e,t)})),ab(this._chartsViews,(function(n){n.dispose(e,t)})),this._zr.dispose(),delete Mb[this.id]}},h(Xs,gp),vl.prototype={constructor:vl,normalizeQuery:function(t){var e={},n={},a={};if(S(t)){var i=ob(t);e.mainType=i.main||null,e.subType=i.sub||null}else{var r=["Index","Name","Id"],o={name:1,dataIndex:1,dataType:1};p(t,(function(t,i){for(var s=!1,l=0;l<r.length;l++){var u=r[l],c=i.lastIndexOf(u);if(c>0&&c===i.length-u.length){var d=i.slice(0,c);"data"!==d&&(e.mainType=d,e[u.toLowerCase()]=t,s=!0)}}o.hasOwnProperty(i)&&(n[i]=t,s=!0),s||(a[i]=t)}))}return{cptQuery:e,dataQuery:n,otherQuery:a}},filter:function(t,e){function n(t,e,n,a){return null==t[n]||e[a||n]===t[n]}var a=this.eventInfo;if(!a)return!0;var i=a.targetEl,r=a.packedEvent,o=a.model,s=a.view;if(!o||!s)return!0;var l=e.cptQuery,u=e.dataQuery;return n(l,o,"mainType")&&n(l,o,"subType")&&n(l,o,"index","componentIndex")&&n(l,o,"name")&&n(l,o,"id")&&n(u,r,"name")&&n(u,r,"dataIndex")&&n(u,r,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,i,r))},afterTrigger:function(){this.eventInfo=null}};var wb={},Sb={},Ib=[],Cb=[],kb=[],Tb=[],Ob={},Db={},Mb={},Pb={},Ab=new Date-0,Lb=new Date-0,Eb="_echarts_instance_",jb=_l;Pl(fb,O_),Il(o_),Cl(db,s_),Ll("default",A_),Tl({type:"highlight",event:"highlight",update:"highlight"},F),Tl({type:"downplay",event:"downplay",update:"downplay"},F),Sl("light",z_),Sl("dark",Z_);var Nb={};ql.prototype={constructor:ql,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,n={},a=[],i=[];for($l(t,{},a,"_oldKeyGetter",this),$l(e,n,i,"_newKeyGetter",this),r=0;r<t.length;r++)null!=(s=n[o=a[r]])?((u=s.length)?(1===u&&(n[o]=null),s=s.shift()):n[o]=null,this._update&&this._update(s,r)):this._remove&&this._remove(r);for(var r=0;r<i.length;r++){var o=i[r];if(n.hasOwnProperty(o)){var s;if(null==(s=n[o]))continue;if(s.length)for(var l=0,u=s.length;u>l;l++)this._add&&this._add(s[l]);else this._add&&this._add(s)}}}};var Vb=B(["tooltip","label","itemName","itemId","seriesName"]),Rb=I,Bb="undefined",zb=-1,Fb="e\0\0",qb={float:typeof Float64Array===Bb?Array:Float64Array,int:typeof Int32Array===Bb?Array:Int32Array,ordinal:Array,number:Array,time:Array},$b=typeof Uint32Array===Bb?Array:Uint32Array,Zb=typeof Int32Array===Bb?Array:Int32Array,Gb=typeof Uint16Array===Bb?Array:Uint16Array,Hb=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Wb=["_extent","_approximateExtent","_rawExtent"],Ub=function(t,e){t=t||["x","y"];for(var n={},a=[],i={},r=0;r<t.length;r++){var o=t[r];S(o)?o=new Ul({name:o}):o instanceof Ul||(o=new Ul(o));var s=o.name;o.type=o.type||"float",o.coordDim||(o.coordDim=s,o.coordDimIndex=0),o.otherDims=o.otherDims||{},a.push(s),n[s]=o,o.index=r,o.createInvertedIndices&&(i[s]=[])}this.dimensions=a,this._dimensionInfos=n,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=Zl(this),this._invertedIndicesMap=i,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},Xb=Ub.prototype;Xb.type="list",Xb.hasItemOption=!0,Xb.getDimension=function(t){return("number"==typeof t||!isNaN(t)&&!this._dimensionInfos.hasOwnProperty(t))&&(t=this.dimensions[t]),t},Xb.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},Xb.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Xb.mapDimension=function(t,e){var n=this._dimensionsSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var a=n.encode[t];return!0===e?(a||[]).slice():a&&a[e]},Xb.initData=function(t,e,n){var a=io.isInstance(t)||f(t);if(a&&(t=new Wo(t,this.dimensions.length)),Gf&&!a&&("function"!=typeof t.getItem||"function"!=typeof t.count))throw new Error("Inavlid data provider.");this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},n||(this.hasItemOption=!1),this.defaultDimValueGetter=d_[this._rawData.getSource().sourceFormat],this._dimValueGetter=n=n||this.defaultDimValueGetter,this._dimValueGetterArrayRows=d_.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},Xb.getProvider=function(){return this._rawData},Xb.appendData=function(t){Gf&&E(!this._indices,"appendData can only be called on raw data.");var e=this._rawData,n=this.count();e.appendData(t);var a=e.count();e.persistent||(a+=n),this._initDataFromProvider(n,a)},Xb.appendValues=function(t,e){for(var n=this._chunkSize,a=this._storage,i=this.dimensions,r=i.length,o=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e?e.length:0),u=this._chunkCount,c=0;r>c;c++)o[m=i[c]]||(o[m]=lu()),a[m]||(a[m]=[]),Kl(a,this._dimensionInfos[m],n,u,l),this._chunkCount=a[m].length;for(var d=new Array(r),h=s;l>h;h++){for(var f=h-s,p=Math.floor(h/n),v=h%n,g=0;r>g;g++){var m=i[g],y=this._dimValueGetterArrayRows(t[f]||d,m,f,g);a[m][p][v]=y;var _=o[m];y<_[0]&&(_[0]=y),y>_[1]&&(_[1]=y)}e&&(this._nameList[h]=e[f])}this._rawCount=this._count=l,this._extent={},Ql(this)},Xb._initDataFromProvider=function(t,e){if(!(t>=e)){for(var n,a=this._chunkSize,i=this._rawData,r=this._storage,o=this.dimensions,s=o.length,l=this._dimensionInfos,u=this._nameList,c=this._idList,d=this._rawExtent,h=this._nameRepeatCount={},f=this._chunkCount,p=0;s>p;p++){d[x=o[p]]||(d[x]=lu());var v=l[x];0===v.otherDims.itemName&&(n=this._nameDimIdx=p),0===v.otherDims.itemId&&(this._idDimIdx=p),r[x]||(r[x]=[]),Kl(r,v,a,f,e),this._chunkCount=r[x].length}for(var g=new Array(s),m=t;e>m;m++){g=i.getItem(m,g);for(var y=Math.floor(m/a),_=m%a,b=0;s>b;b++){var x,w=r[x=o[b]][y],S=this._dimValueGetter(g,x,m,b);w[_]=S;var I=d[x];S<I[0]&&(I[0]=S),S>I[1]&&(I[1]=S)}if(!i.pure){var C=u[m];if(g&&null==C)if(null!=g.name)u[m]=C=g.name;else if(null!=n){var k=o[n],T=r[k][y];if(T){C=T[_];var O=l[k].ordinalMeta;O&&O.categories.length&&(C=O.categories[C])}}var D=null==g?null:g.id;null==D&&null!=C&&(h[C]=h[C]||0,D=C,h[C]>0&&(D+="__ec__"+h[C]),h[C]++),null!=D&&(c[m]=D)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent={},Ql(this)}},Xb.count=function(){return this._count},Xb.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,n=this._count;if(e===Array){i=new e(n);for(var a=0;n>a;a++)i[a]=t[a]}else i=new e(t.buffer,0,n)}else{var i=new(e=Xl(this))(this.count());for(a=0;a<i.length;a++)i[a]=a}return i},Xb.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._storage;if(!n[t])return NaN;e=this.getRawIndex(e);var a=Math.floor(e/this._chunkSize),i=e%this._chunkSize;return n[t][a][i]},Xb.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._storage[t];if(!n)return NaN;var a=Math.floor(e/this._chunkSize),i=e%this._chunkSize;return n[a][i]},Xb._getFast=function(t,e){var n=Math.floor(e/this._chunkSize),a=e%this._chunkSize;return this._storage[t][n][a]},Xb.getValues=function(t,e){var n=[];x(t)||(e=t,t=this.dimensions);for(var a=0,i=t.length;i>a;a++)n.push(this.get(t[a],e));return n},Xb.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,n=0,a=e.length;a>n;n++)if(isNaN(this.get(e[n],t)))return!1;return!0},Xb.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],n=lu();if(!e)return n;var a,i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(a=this._extent[t])return a.slice();for(var r=(a=n)[0],o=a[1],s=0;i>s;s++){var l=this._getFast(t,this.getRawIndex(s));r>l&&(r=l),l>o&&(o=l)}return a=[r,o],this._extent[t]=a,a},Xb.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},Xb.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},Xb.getCalculationInfo=function(t){return this._calculationInfo[t]},Xb.setCalculationInfo=function(t,e){Rb(t)?s(this._calculationInfo,t):this._calculationInfo[t]=e},Xb.getSum=function(t){var e=0;if(this._storage[t])for(var n=0,a=this.count();a>n;n++){var i=this.get(t,n);isNaN(i)||(e+=i)}return e},Xb.getMedian=function(t){var e=[];this.each(t,(function(t){isNaN(t)||e.push(t)}));var n=[].concat(e).sort((function(t,e){return t-e})),a=this.count();return 0===a?0:a%2==1?n[(a-1)/2]:(n[a/2]+n[a/2-1])/2},Xb.rawIndexOf=function(t,e){var n=t&&this._invertedIndicesMap[t];if(Gf&&!n)throw new Error("Do not supported yet");var a=n[e];return null==a||isNaN(a)?zb:a},Xb.indexOfName=function(t){for(var e=0,n=this.count();n>e;e++)if(this.getName(e)===t)return e;return-1},Xb.indexOfRawIndex=function(t){if(t>=this._rawCount||0>t)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var a=0,i=this._count-1;i>=a;){var r=(a+i)/2|0;if(e[r]<t)a=r+1;else{if(!(e[r]>t))return r;i=r-1}}return-1},Xb.indicesOfNearest=function(t,e,n){var a=[];if(!this._storage[t])return a;null==n&&(n=1/0);for(var i=1/0,r=-1,o=0,s=0,l=this.count();l>s;s++){var u=e-this.get(t,s),c=Math.abs(u);n>=c&&((i>c||c===i&&u>=0&&0>r)&&(i=c,r=u,o=0),u===r&&(a[o++]=s))}return a.length=o,a},Xb.getRawIndex=eu,Xb.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],n=0;n<this.dimensions.length;n++){var a=this.dimensions[n];e.push(this.get(a,t))}return e},Xb.getName=function(t){var e=this.getRawIndex(t);return this._nameList[e]||tu(this,this._nameDimIdx,e)||""},Xb.getId=function(t){return au(this,this.getRawIndex(t))},Xb.each=function(t,e,n,a){if(this._count){"function"==typeof t&&(a=n,n=e,e=t,t=[]),n=n||a||this,t=v(iu(t),this.getDimension,this),Gf&&ru(this,t);for(var i=t.length,r=0;r<this.count();r++)switch(i){case 0:e.call(n,r);break;case 1:e.call(n,this.get(t[0],r),r);break;case 2:e.call(n,this.get(t[0],r),this.get(t[1],r),r);break;default:for(var o=0,s=[];i>o;o++)s[o]=this.get(t[o],r);s[o]=r,e.apply(n,s)}}},Xb.filterSelf=function(t,e,n,a){if(this._count){"function"==typeof t&&(a=n,n=e,e=t,t=[]),n=n||a||this,t=v(iu(t),this.getDimension,this),Gf&&ru(this,t);for(var i=this.count(),r=new(Xl(this))(i),o=[],s=t.length,l=0,u=t[0],c=0;i>c;c++){var d,h=this.getRawIndex(c);if(0===s)d=e.call(n,c);else if(1===s){var f=this._getFast(u,h);d=e.call(n,f,c)}else{for(var p=0;s>p;p++)o[p]=this._getFast(u,h);o[p]=c,d=e.apply(n,o)}d&&(r[l++]=h)}return i>l&&(this._indices=r),this._count=l,this._extent={},this.getRawIndex=this._indices?nu:eu,this}},Xb.selectRange=function(t){if(this._count){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);Gf&&ru(this,e);var a=e.length;if(a){var i=this.count(),r=new(Xl(this))(i),o=0,s=e[0],l=t[s][0],u=t[s][1],c=!1;if(!this._indices){var d=0;if(1===a){for(var h=this._storage[e[0]],f=0;f<this._chunkCount;f++)for(var p=h[f],v=Math.min(this._count-f*this._chunkSize,this._chunkSize),g=0;v>g;g++)((x=p[g])>=l&&u>=x||isNaN(x))&&(r[o++]=d),d++;c=!0}else if(2===a){h=this._storage[s];var m=this._storage[e[1]],y=t[e[1]][0],_=t[e[1]][1];for(f=0;f<this._chunkCount;f++){p=h[f];var b=m[f];for(v=Math.min(this._count-f*this._chunkSize,this._chunkSize),g=0;v>g;g++){var x=p[g],w=b[g];(x>=l&&u>=x||isNaN(x))&&(w>=y&&_>=w||isNaN(w))&&(r[o++]=d),d++}}c=!0}}if(!c)if(1===a)for(g=0;i>g;g++){var S=this.getRawIndex(g);((x=this._getFast(s,S))>=l&&u>=x||isNaN(x))&&(r[o++]=S)}else for(g=0;i>g;g++){var I=!0;for(S=this.getRawIndex(g),f=0;a>f;f++){var C=e[f];((x=this._getFast(n,S))<t[C][0]||x>t[C][1])&&(I=!1)}I&&(r[o++]=this.getRawIndex(g))}return i>o&&(this._indices=r),this._count=o,this._extent={},this.getRawIndex=this._indices?nu:eu,this}}},Xb.mapArray=function(t,e,n,a){"function"==typeof t&&(a=n,n=e,e=t,t=[]),n=n||a||this;var i=[];return this.each(t,(function(){i.push(e&&e.apply(this,arguments))}),n),i},Xb.map=function(t,e,n,a){n=n||a||this,t=v(iu(t),this.getDimension,this),Gf&&ru(this,t);var i=ou(this,t);i._indices=this._indices,i.getRawIndex=i._indices?nu:eu;for(var r=i._storage,o=[],s=this._chunkSize,l=t.length,u=this.count(),c=[],d=i._rawExtent,h=0;u>h;h++){for(var f=0;l>f;f++)c[f]=this.get(t[f],h);c[l]=h;var p=e&&e.apply(n,c);if(null!=p){"object"!=typeof p&&(o[0]=p,p=o);for(var g=this.getRawIndex(h),m=Math.floor(g/s),y=g%s,_=0;_<p.length;_++){var b=t[_],x=p[_],w=d[b],S=r[b];S&&(S[m][y]=x),x<w[0]&&(w[0]=x),x>w[1]&&(w[1]=x)}}}return i},Xb.downSample=function(t,e,n,a){for(var i=ou(this,[t]),r=i._storage,o=[],s=Math.floor(1/e),l=r[t],u=this.count(),c=this._chunkSize,d=i._rawExtent[t],h=new(Xl(this))(u),f=0,p=0;u>p;p+=s){s>u-p&&(s=u-p,o.length=s);for(var v=0;s>v;v++){var g=this.getRawIndex(p+v),m=Math.floor(g/c),y=g%c;o[v]=l[m][y]}var _=n(o),b=this.getRawIndex(Math.min(p+a(o,_)||0,u-1)),x=b%c;l[Math.floor(b/c)][x]=_,_<d[0]&&(d[0]=_),_>d[1]&&(d[1]=_),h[f++]=b}return i._count=f,i._indices=h,i.getRawIndex=nu,i},Xb.getItemModel=function(t){var e=this.hostModel;return new pr(this.getRawDataItem(t),e,e&&e.ecModel)},Xb.diff=function(t){var e=this;return new ql(t?t.getIndices():[],this.getIndices(),(function(e){return au(t,e)}),(function(t){return au(e,t)}))},Xb.getVisual=function(t){var e=this._visual;return e&&e[t]},Xb.setVisual=function(t,e){if(Rb(t))for(var n in t)t.hasOwnProperty(n)&&this.setVisual(n,t[n]);else this._visual=this._visual||{},this._visual[t]=e},Xb.setLayout=function(t,e){if(Rb(t))for(var n in t)t.hasOwnProperty(n)&&this.setLayout(n,t[n]);else this._layout[t]=e},Xb.getLayout=function(t){return this._layout[t]},Xb.getItemLayout=function(t){return this._itemLayouts[t]},Xb.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?s(this._itemLayouts[t]||{},e):e},Xb.clearItemLayouts=function(){this._itemLayouts.length=0},Xb.getItemVisual=function(t,e,n){var a=this._itemVisuals[t],i=a&&a[e];return null!=i||n?i:this.getVisual(e)},Xb.setItemVisual=function(t,e,n){var a=this._itemVisuals[t]||{},i=this.hasItemVisual;if(this._itemVisuals[t]=a,Rb(e))for(var r in e)e.hasOwnProperty(r)&&(a[r]=e[r],i[r]=!0);else a[e]=n,i[e]=!0},Xb.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};var Yb=function(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType};Xb.setItemGraphicEl=function(t,e){var n=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=n&&n.seriesIndex,"group"===e.type&&e.traverse(Yb,e)),this._graphicEls[t]=e},Xb.getItemGraphicEl=function(t){return this._graphicEls[t]},Xb.eachItemGraphicEl=function(t,e){p(this._graphicEls,(function(n,a){n&&t&&t.call(e,n,a)}))},Xb.cloneShallow=function(t){if(!t){var e=v(this.dimensions,this.getDimensionInfo,this);t=new Ub(e,this.hostModel)}if(t._storage=this._storage,Jl(t,this),this._indices){var n=this._indices.constructor;t._indices=new n(this._indices)}else t._indices=null;return t.getRawIndex=t._indices?nu:eu,t},Xb.wrapMethod=function(t,e){var n=this[t];"function"==typeof n&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(A(arguments)))})},Xb.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Xb.CHANGABLE_METHODS=["filterSelf","selectRange"];var Jb=function(t,e){return uu((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})},Kb={cartesian2d:function(t,e,n,a){var i=t.getReferringComponents("xAxis")[0],r=t.getReferringComponents("yAxis")[0];if(Gf){if(!i)throw new Error('xAxis "'+D(t.get("xAxisIndex"),t.get("xAxisId"),0)+'" not found');if(!r)throw new Error('yAxis "'+D(t.get("xAxisIndex"),t.get("yAxisId"),0)+'" not found')}e.coordSysDims=["x","y"],n.set("x",i),n.set("y",r),pu(i)&&(a.set("x",i),e.firstCategoryDimIndex=0),pu(r)&&(a.set("y",r),e.firstCategoryDimIndex,e.firstCategoryDimIndex=1)},singleAxis:function(t,e,n,a){var i=t.getReferringComponents("singleAxis")[0];if(Gf&&!i)throw new Error("singleAxis should be specified.");e.coordSysDims=["single"],n.set("single",i),pu(i)&&(a.set("single",i),e.firstCategoryDimIndex=0)},polar:function(t,e,n,a){var i=t.getReferringComponents("polar")[0],r=i.findAxisModel("radiusAxis"),o=i.findAxisModel("angleAxis");if(Gf){if(!o)throw new Error("angleAxis option not found");if(!r)throw new Error("radiusAxis option not found")}e.coordSysDims=["radius","angle"],n.set("radius",r),n.set("angle",o),pu(r)&&(a.set("radius",r),e.firstCategoryDimIndex=0),pu(o)&&(a.set("angle",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,a){var i=t.ecModel,r=i.getComponent("parallel",t.get("parallelIndex")),o=e.coordSysDims=r.dimensions.slice();p(r.parallelAxisIndex,(function(t,r){var s=i.getComponent("parallelAxis",t),l=o[r];n.set(l,s),pu(s)&&null==e.firstCategoryDimIndex&&(a.set(l,s),e.firstCategoryDimIndex=r)}))}};xu.prototype.parse=function(t){return t},xu.prototype.getSetting=function(t){return this._setting[t]},xu.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},xu.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},xu.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},xu.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},xu.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},xu.prototype.getExtent=function(){return this._extent.slice()},xu.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},xu.prototype.isBlank=function(){return this._isBlank},xu.prototype.setBlank=function(t){this._isBlank=t},xu.prototype.getLabel=null,ya(xu),wa(xu,{registerWhenExtend:!0}),wu.createByAxisModel=function(t){var e=t.option,n=e.data,a=n&&v(n,Iu);return new wu({categories:a,needCollect:!a,deduplication:!1!==e.dedplication})};var Qb=wu.prototype;Qb.getOrdinal=function(t){return Su(this).get(t)},Qb.parseAndCollect=function(t){var e,n=this._needCollect;if("string"!=typeof t&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var a=Su(this);return null==(e=a.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,a.set(t,e)):e=NaN),e};var tx=xu.prototype,ex=xu.extend({type:"ordinal",init:function(t,e){(!t||x(t))&&(t=new wu({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),tx.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return tx.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(tx.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push(n),n++;return t},getLabel:function(t){return this.isBlank()?void 0:this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:F,niceExtent:F});ex.create=function(){return new ex};var nx=Sr,ax=Sr,ix=xu.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),ix.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=ku(t)},getTicks:function(t){var e=this._interval,n=this._extent,a=this._niceExtent,i=this._intervalPrecision,r=[];if(!e)return r;var o=1e4;n[0]<a[0]&&r.push(t?ax(a[0]-e,i):n[0]);for(var s=a[0];s<=a[1]&&(r.push(s),(s=ax(s+e,i))!==r[r.length-1]);)if(r.length>o)return[];var l=r.length?r[r.length-1]:a[1];return n[1]>l&&r.push(t?ax(l+e,i):n[1]),r},getMinorTicks:function(t){for(var e=this.getTicks(!0),n=[],a=this.getExtent(),i=1;i<e.length;i++){for(var r=e[i],o=e[i-1],s=0,l=[],u=(r-o)/t;t-1>s;){var c=Sr(o+(s+1)*u);c>a[0]&&c<a[1]&&l.push(c),s++}n.push(l)}return n},getLabel:function(t,e){if(null==t)return"";var n=e&&e.precision;return null==n?n=kr(t)||0:"auto"===n&&(n=this._intervalPrecision),Rr(t=ax(t,n,!0))},niceTicks:function(t,e,n){t=t||5;var a=this._extent,i=a[1]-a[0];if(isFinite(i)){0>i&&(i=-i,a.reverse());var r=Cu(a,t,e,n);this._intervalPrecision=r.intervalPrecision,this._interval=r.interval,this._niceExtent=r.niceTickExtent}},niceExtent:function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax||(e[1]+=n/2),e[0]-=n/2}else e[1]=1;var a=e[1]-e[0];isFinite(a)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=ax(Math.floor(e[0]/i)*i)),t.fixMax||(e[1]=ax(Math.ceil(e[1]/i)*i))}});ix.create=function(){return new ix};var rx="__ec_stack_",ox=.5,sx="undefined"!=typeof Float32Array?Float32Array:Array,lx={seriesType:"bar",plan:b_(),reset:function(t){function e(t,e){for(var n,h=t.count,f=new sx(2*h),p=new sx(2*h),v=new sx(h),g=[],m=[],y=0,_=0;null!=(n=t.next());)m[c]=e.get(s,n),m[1-c]=e.get(l,n),g=a.dataToPoint(m,null,g),p[y]=u?i.x+i.width:g[0],f[y++]=g[0],p[y]=u?g[1]:i.y+i.height,f[y++]=g[1],v[_++]=n;e.setLayout({largePoints:f,largeDataIndices:v,largeBackgroundPoints:p,barWidth:d,valueAxisStart:Bu(r,o,!1),backgroundStart:u?i.x:i.y,valueAxisHorizontal:u})}if(Vu(t)&&Ru(t)){var n=t.getData(),a=t.coordinateSystem,i=a.grid.getRect(),r=a.getBaseAxis(),o=a.getOtherAxis(r),s=n.mapDimension(o.dim),l=n.mapDimension(r.dim),u=o.isHorizontal(),c=u?0:1,d=ju(Lu([t]),r,t).width;return d>ox||(d=ox),{progress:e}}}},ux=ix.prototype,cx=Math.ceil,dx=Math.floor,hx=1e3,fx=60*hx,px=60*fx,vx=24*px,gx=function(t,e,n,a){for(;a>n;){var i=n+a>>>1;t[i][1]<e?n=i+1:a=i}return n},mx=ix.extend({type:"time",getLabel:function(t){var e=this._stepLvl,n=new Date(t);return Gr(e[0],n,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=vx,e[1]+=vx),e[1]===-1/0&&1/0===e[0]){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-vx}this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var a=this._interval;t.fixMin||(e[0]=Sr(dx(e[0]/a)*a)),t.fixMax||(e[1]=Sr(cx(e[1]/a)*a))},niceTicks:function(t,e,n){t=t||10;var a=this._extent,i=a[1]-a[0],r=i/t;null!=e&&e>r&&(r=e),null!=n&&r>n&&(r=n);var o=yx.length,s=gx(yx,r,0,o),l=yx[Math.min(s,o-1)],u=l[1];"year"===l[0]&&(u*=Er(i/u/t,!0));var c=this.getSetting("useUTC")?0:60*new Date(+a[0]||+a[1]).getTimezoneOffset()*1e3,d=[Math.round(cx((a[0]-c)/u)*u+c),Math.round(dx((a[1]-c)/u)*u+c)];Ou(d,a),this._stepLvl=l,this._interval=u,this._niceExtent=d},parse:function(t){return+Pr(t)}});p(["contain","normalize"],(function(t){mx.prototype[t]=function(e){return ux[t].call(this,this.parse(e))}}));var yx=[["hh:mm:ss",hx],["hh:mm:ss",5*hx],["hh:mm:ss",10*hx],["hh:mm:ss",15*hx],["hh:mm:ss",30*hx],["hh:mm\nMM-dd",fx],["hh:mm\nMM-dd",5*fx],["hh:mm\nMM-dd",10*fx],["hh:mm\nMM-dd",15*fx],["hh:mm\nMM-dd",30*fx],["hh:mm\nMM-dd",px],["hh:mm\nMM-dd",2*px],["hh:mm\nMM-dd",6*px],["hh:mm\nMM-dd",12*px],["MM-dd\nyyyy",vx],["MM-dd\nyyyy",2*vx],["MM-dd\nyyyy",3*vx],["MM-dd\nyyyy",4*vx],["MM-dd\nyyyy",5*vx],["MM-dd\nyyyy",6*vx],["week",7*vx],["MM-dd\nyyyy",10*vx],["week",14*vx],["week",21*vx],["month",31*vx],["week",42*vx],["month",62*vx],["week",70*vx],["quarter",95*vx],["month",31*vx*4],["month",31*vx*5],["half-year",380*vx/2],["month",31*vx*8],["month",31*vx*10],["year",380*vx]];mx.create=function(t){return new mx({useUTC:t.ecModel.get("useUTC")})};var _x=xu.prototype,bx=ix.prototype,xx=kr,Sx=Sr,Ix=Math.floor,Cx=Math.ceil,kx=Math.pow,Tx=Math.log,Ox=xu.extend({type:"log",base:10,$constructor:function(){xu.apply(this,arguments),this._originalScale=new ix},getTicks:function(t){var e=this._originalScale,n=this._extent,a=e.getExtent();return v(bx.getTicks.call(this,t),(function(t){var i=Sr(kx(this.base,t));return i=t===n[0]&&e.__fixMin?zu(i,a[0]):i,t===n[1]&&e.__fixMax?zu(i,a[1]):i}),this)},getMinorTicks:bx.getMinorTicks,getLabel:bx.getLabel,scale:function(t){return t=_x.scale.call(this,t),kx(this.base,t)},setExtent:function(t,e){var n=this.base;t=Tx(t)/Tx(n),e=Tx(e)/Tx(n),bx.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=_x.getExtent.call(this);e[0]=kx(t,e[0]),e[1]=kx(t,e[1]);var n=this._originalScale,a=n.getExtent();return n.__fixMin&&(e[0]=zu(e[0],a[0])),n.__fixMax&&(e[1]=zu(e[1],a[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Tx(t[0])/Tx(e),t[1]=Tx(t[1])/Tx(e),_x.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(1/0===n||0>=n)){var a=Ar(n);for(.5>=t/n*a&&(a*=10);!isNaN(a)&&Math.abs(a)<1&&Math.abs(a)>0;)a*=10;var i=[Sr(Cx(e[0]/a)*a),Sr(Ix(e[1]/a)*a)];this._interval=a,this._niceExtent=i}},niceExtent:function(t){bx.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});p(["contain","normalize"],(function(t){Ox.prototype[t]=function(e){return e=Tx(e)/Tx(this.base),_x[t].call(this,e)}})),Ox.create=function(){return new Ox};var Dx={getMin:function(t){var e=this.option,n=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=n&&"dataMin"!==n&&"function"!=typeof n&&!O(n)&&(n=this.axis.scale.parse(n)),n},getMax:function(t){var e=this.option,n=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=n&&"dataMax"!==n&&"function"!=typeof n&&!O(n)&&(n=this.axis.scale.parse(n)),n},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:F,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},Mx=gi({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,a=e.cy,i=e.width/2,r=e.height/2;t.moveTo(n,a-r),t.lineTo(n+i,a+r),t.lineTo(n-i,a+r),t.closePath()}}),Px=gi({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,a=e.cy,i=e.width/2,r=e.height/2;t.moveTo(n,a-r),t.lineTo(n+i,a),t.lineTo(n,a+r),t.lineTo(n-i,a),t.closePath()}}),Ax=gi({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,a=e.y,i=e.width/5*3,r=Math.max(i,e.height),o=i/2,s=o*o/(r-o),l=a-r+o+s,u=Math.asin(s/o),c=Math.cos(u)*o,d=Math.sin(u),h=Math.cos(u),f=.6*o,p=.7*o;t.moveTo(n-c,l+s),t.arc(n,l,o,Math.PI-u,2*Math.PI+u),t.bezierCurveTo(n+c-d*f,l+s+h*f,n,a-p,n,a),t.bezierCurveTo(n,a-p,n-c+d*f,l+s+h*f,n-c,l+s),t.closePath()}}),Lx=gi({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,a=e.width,i=e.x,r=e.y,o=a/3*2;t.moveTo(i,r),t.lineTo(i+o,r+n),t.lineTo(i,r+n/4*3),t.lineTo(i-o,r+n),t.lineTo(i,r),t.closePath()}}),Ex={line:function(t,e,n,a,i){i.x1=t,i.y1=e+a/2,i.x2=t+n,i.y2=e+a/2},rect:function(t,e,n,a,i){i.x=t,i.y=e,i.width=n,i.height=a},roundRect:function(t,e,n,a,i){i.x=t,i.y=e,i.width=n,i.height=a,i.r=Math.min(n,a)/4},square:function(t,e,n,a,i){var r=Math.min(n,a);i.x=t,i.y=e,i.width=r,i.height=r},circle:function(t,e,n,a,i){i.cx=t+n/2,i.cy=e+a/2,i.r=Math.min(n,a)/2},diamond:function(t,e,n,a,i){i.cx=t+n/2,i.cy=e+a/2,i.width=n,i.height=a},pin:function(t,e,n,a,i){i.x=t+n/2,i.y=e+a/2,i.width=n,i.height=a},arrow:function(t,e,n,a,i){i.x=t+n/2,i.y=e+a/2,i.width=n,i.height=a},triangle:function(t,e,n,a,i){i.cx=t+n/2,i.cy=e+a/2,i.width=n,i.height=a}},jx={};p({line:Nm,rect:Em,roundRect:Em,square:Em,circle:Sm,diamond:Px,pin:Ax,arrow:Lx,triangle:Mx},(function(t,e){jx[e]=new t}));var Nx=gi({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var a=Je(t,e,n),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===e.textPosition&&(a.y=n.y+.4*n.height),a},buildPath:function(t,e,n){var a=e.symbolType;if("none"!==a){var i=jx[a];i||(i=jx[a="rect"]),Ex[a](e.x,e.y,e.width,e.height,i.shape),i.buildPath(t,i.shape,n)}}}),Vx={isDimensionStacked:gu,enableDataStack:vu,getStackedDimension:mu},Rx=(Object.freeze||Object)({createList:tc,getLayoutRect:Jr,dataStack:Vx,createScale:ec,mixinAxisModelCommonMethods:nc,completeDimensions:uu,createDimensions:Jb,createSymbol:Qu}),Bx=1e-8;rc.prototype={constructor:rc,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var e=Number.MAX_VALUE,n=[e,e],a=[-e,-e],i=[],r=[],o=this.geometries,s=0;s<o.length;s++)"polygon"===o[s].type&&(Va(o[s].exterior,i,r),st(n,n,i),lt(a,a,r));return 0===s&&(n[0]=n[1]=a[0]=a[1]=0),this._rect=new Te(n[0],n[1],a[0]-n[0],a[1]-n[1])},contain:function(t){var e=this.getBoundingRect(),n=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var a=0,i=n.length;i>a;a++)if("polygon"===n[a].type){var r=n[a].exterior,o=n[a].interiors;if(ic(r,t[0],t[1])){for(var s=0;s<(o?o.length:0);s++)if(ic(o[s]))continue t;return!0}}return!1},transformTo:function(t,e,n,a){var i=this.getBoundingRect(),r=i.width/i.height;n?a||(a=n/r):n=r*a;for(var o=new Te(t,e,n,a),s=i.calculateTransform(o),l=this.geometries,u=0;u<l.length;u++)if("polygon"===l[u].type){for(var c=l[u].exterior,d=l[u].interiors,h=0;h<c.length;h++)ot(c[h],c[h],s);for(var f=0;f<(d?d.length:0);f++)for(h=0;h<d[f].length;h++)ot(d[f][h],d[f][h],s)}(i=this._rect).copy(o),this.center=[i.x+i.width/2,i.y+i.height/2]},cloneShallow:function(t){null==t&&(t=this.name);var e=new rc(t,this.geometries,this.center);return e._rect=this._rect,e.transformTo=null,e}};var zx=function(t,e){return oc(t),v(m(t.features,(function(t){return t.geometry&&t.properties&&t.geometry.coordinates.length>0})),(function(t){var n=t.properties,a=t.geometry,i=a.coordinates,r=[];"Polygon"===a.type&&r.push({type:"polygon",exterior:i[0],interiors:i.slice(1)}),"MultiPolygon"===a.type&&p(i,(function(t){t[0]&&r.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})}));var o=new rc(n[e||"name"],r,n.cp);return o.properties=n,o}))},Fx=ca(),qx=[0,1],$x=function(t,e,n){this.dim=t,this.scale=e,this._extent=n||[0,0],this.inverse=!1,this.onBand=!1};$x.prototype={constructor:$x,contain:function(t){var e=this._extent,n=Math.min(e[0],e[1]),a=Math.max(e[0],e[1]);return t>=n&&a>=t},containData:function(t){return this.scale.contain(t)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return Tr(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var n=this._extent;n[0]=t,n[1]=e},dataToCoord:function(t,e){var n=this._extent,a=this.scale;return t=a.normalize(t),this.onBand&&"ordinal"===a.type&&wc(n=n.slice(),a.count()),xr(t,qx,n,e)},coordToData:function(t,e){var n=this._extent,a=this.scale;this.onBand&&"ordinal"===a.type&&wc(n=n.slice(),a.count());var i=xr(t,n,qx,e);return this.scale.scale(i)},pointToData:function(){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=v(uc(this,e).ticks,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this);return Sc(this,n,e.get("alignWithLabel"),t.clamp),n},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");t>0&&100>t||(t=5);var e=v(this.scale.getMinorTicks(t),(function(t){return v(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this);return e},getViewLabels:function(){return lc(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var a=Math.abs(t[1]-t[0]);return Math.abs(a)/n},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return yc(this)}};var Zx=zx,Gx={};p(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],(function(t){Gx[t]=lp[t]}));var Hx={};p(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],(function(t){Hx[t]=ry[t]}));var Wx=function(t){this._axes={},this._dimList=[],this.name=t||""};Wx.prototype={constructor:Wx,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return v(this._dimList,Ic,this)},getAxesByScale:function(t){return t=t.toLowerCase(),m(this.getAxes(),(function(e){return e.scale.type===t}))},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var n=this._dimList,a=t instanceof Array?[]:{},i=0;i<n.length;i++){var r=n[i],o=this._axes[r];a[r]=o[e](t[r])}return a}},Cc.prototype={constructor:Cc,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,n){var a=this.getAxis("x"),i=this.getAxis("y");return(n=n||[])[0]=a.toGlobalCoord(a.dataToCoord(t[0])),n[1]=i.toGlobalCoord(i.dataToCoord(t[1])),n},clampData:function(t,e){var n=this.getAxis("x").scale,a=this.getAxis("y").scale,i=n.getExtent(),r=a.getExtent(),o=n.parse(t[0]),s=a.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(i[0],i[1]),o),Math.max(i[0],i[1])),e[1]=Math.min(Math.max(Math.min(r[0],r[1]),s),Math.max(r[0],r[1])),e},pointToData:function(t,e){var n=this.getAxis("x"),a=this.getAxis("y");return(e=e||[])[0]=n.coordToData(n.toLocalCoord(t[0])),e[1]=a.coordToData(a.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),a=Math.min(e[0],e[1]);return new Te(n,a,Math.max(t[0],t[1])-n,Math.max(e[0],e[1])-a)}},d(Cc,Wx);var Ux=function(t,e,n,a,i){$x.call(this,t,e,n),this.type=a||"value",this.position=i||"bottom"};Ux.prototype={constructor:Ux,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},d(Ux,$x);var Xx={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Yx={};Yx.categoryAxis=r({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Xx),Yx.valueAxis=r({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},Xx),Yx.timeAxis=l({scale:!0,min:"dataMin",max:"dataMax"},Yx.valueAxis),Yx.logAxis=l({scale:!0,logBase:10},Yx.valueAxis);var Jx=["value","category","time","log"],Kx=function(t,e,n,a){p(Jx,(function(i){e.extend({type:t+"Axis."+i,mergeDefaultAndTheme:function(e,a){var o=this.layoutMode,s=o?to(e):{};r(e,a.getTheme().get(i+"Axis")),r(e,this.getDefaultOption()),e.type=n(t,e),o&&Qr(e,s,o)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=wu.createByAxisModel(this))},getCategories:function(t){var e=this.option;return"category"===e.type?t?e.data:this.__ordinalMeta.categories:void 0},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:o([{},Yx[i+"Axis"],a],!0)})})),My.registerSubTypeDefaulter(t+"Axis",b(n,t))},Qx=My.extend({type:"cartesian2dAxis",axis:null,init:function(){Qx.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){Qx.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){Qx.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});r(Qx.prototype,Dx);var tw={offset:0};Kx("x",Qx,kc,tw),Kx("y",Qx,kc,tw),My.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});var ew=Oc.prototype;ew.type="grid",ew.axisPointerEnabled=!0,ew.getRect=function(){return this._rect},ew.update=function(t,e){var n=this._axesMap;this._updateScale(t,this.model),p(n.x,(function(t){$u(t.scale,t.model)})),p(n.y,(function(t){$u(t.scale,t.model)}));var a={};p(n.x,(function(t){Dc(n,"y",t,a)})),p(n.y,(function(t){Dc(n,"x",t,a)})),this.resize(this.model,e)},ew.resize=function(t,e,n){function a(){p(r,(function(t){var e=t.isHorizontal(),n=e?[0,i.width]:[0,i.height],a=t.inverse?1:0;t.setExtent(n[a],n[1-a]),Pc(t,e?i.x:i.y)}))}var i=Jr(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=i;var r=this._axesList;a(),!n&&t.get("containLabel")&&(p(r,(function(t){if(!t.model.get("axisLabel.inside")){var e=Uu(t);if(e){var n=t.isHorizontal()?"height":"width",a=t.model.get("axisLabel.margin");i[n]-=e[n]+a,"top"===t.position?i.y+=e.height+a:"left"===t.position&&(i.x+=e.width+a)}}})),a())},ew.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n){if(null==e)for(var a in n)if(n.hasOwnProperty(a))return n[a];return n[e]}},ew.getAxes=function(){return this._axesList.slice()},ew.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}I(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var a=0,i=this._coordsList;a<i.length;a++)if(i[a].getAxis("x").index===t||i[a].getAxis("y").index===e)return i[a]},ew.getCartesians=function(){return this._coordsList.slice()},ew.convertToPixel=function(t,e,n){var a=this._findConvertTarget(t,e);return a.cartesian?a.cartesian.dataToPoint(n):a.axis?a.axis.toGlobalCoord(a.axis.dataToCoord(n)):null},ew.convertFromPixel=function(t,e,n){var a=this._findConvertTarget(t,e);return a.cartesian?a.cartesian.pointToData(n):a.axis?a.axis.coordToData(a.axis.toLocalCoord(n)):null},ew._findConvertTarget=function(t,e){var n,a,i=e.seriesModel,r=e.xAxisModel||i&&i.getReferringComponents("xAxis")[0],o=e.yAxisModel||i&&i.getReferringComponents("yAxis")[0],s=e.gridModel,l=this._coordsList;return i?c(l,n=i.coordinateSystem)<0&&(n=null):r&&o?n=this.getCartesian(r.componentIndex,o.componentIndex):r?a=this.getAxis("x",r.componentIndex):o?a=this.getAxis("y",o.componentIndex):s&&s.coordinateSystem===this&&(n=this._coordsList[0]),{cartesian:n,axis:a}},ew.containPoint=function(t){var e=this._coordsList[0];return e?e.containPoint(t):void 0},ew._initCartesian=function(t,e){function n(n){return function(o,s){if(Tc(o,t,e)){var l=o.get("position");"x"===n?"top"!==l&&"bottom"!==l&&(l=a.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=a.left?"right":"left"),a[l]=!0;var u=new Ux(n,Zu(o),[0,0],o.get("type"),l),c="category"===u.type;u.onBand=c&&o.get("boundaryGap"),u.inverse=o.get("inverse"),o.axis=u,u.model=o,u.grid=this,u.index=s,this._axesList.push(u),i[n][s]=u,r[n]++}}}var a={left:!1,right:!1,top:!1,bottom:!1},i={x:{},y:{}},r={x:0,y:0};return e.eachComponent("xAxis",n("x"),this),e.eachComponent("yAxis",n("y"),this),r.x&&r.y?(this._axesMap=i,void p(i.x,(function(e,n){p(i.y,(function(a,i){var r="x"+n+"y"+i,o=new Cc(r);o.grid=this,o.model=t,this._coordsMap[r]=o,this._coordsList.push(o),o.addAxis(e),o.addAxis(a)}),this)}),this)):(this._axesMap={},void(this._axesList=[]))},ew._updateScale=function(t,e){function n(t,e){p(t.mapDimension(e.dim,!0),(function(n){e.scale.unionExtentFromData(t,mu(t,n))}))}p(this._axesList,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeries((function(a){if(Lc(a)){var i=Ac(a,t),r=i[0],o=i[1];if(!Tc(r,e,t)||!Tc(o,e,t))return;var s=this.getCartesian(r.componentIndex,o.componentIndex),l=a.getData(),u=s.getAxis("x"),c=s.getAxis("y");"list"===l.type&&(n(l,u,a),n(l,c,a))}}),this)},ew.getTooltipAxes=function(t){var e=[],n=[];return p(this.getCartesians(),(function(a){var i=null!=t&&"auto"!==t?a.getAxis(t):a.getBaseAxis(),r=a.getOtherAxis(i);c(e,i)<0&&e.push(i),c(n,r)<0&&n.push(r)})),{baseAxes:e,otherAxes:n}};var nw=["xAxis","yAxis"];Oc.create=function(t,e){var n=[];return t.eachComponent("grid",(function(a,i){var r=new Oc(a,t,e);r.name="grid_"+i,r.resize(a,e,!0),a.coordinateSystem=r,n.push(r)})),t.eachSeries((function(e){if(Lc(e)){var n=Ac(e,t),a=n[0],i=n[1],r=a.getCoordSysModel();if(Gf){if(!r)throw new Error('Grid "'+D(a.get("gridIndex"),a.get("gridId"),0)+'" not found');if(a.getCoordSysModel()!==i.getCoordSysModel())throw new Error("xAxis and yAxis must use the same grid")}var o=r.coordinateSystem;e.coordinateSystem=o.getCartesian(a.componentIndex,i.componentIndex)}})),n},Oc.dimensions=Oc.prototype.dimensions=Cc.prototype.dimensions,Oo.register("cartesian2d",Oc);var aw=m_.extend({type:"series.__base_bar__",getInitialData:function(){return yu(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var n=e.dataToPoint(e.clampData(t)),a=this.getData(),i=a.getLayout("offset"),r=a.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=i+r/2,n}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}});aw.extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var iw=vg([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),rw={getBarItemStyle:function(t){var e=iw(this,t);if(this.getBorderLineDash){var n=this.getBorderLineDash();n&&(e.lineDash=n)}return e}},ow=gi({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var n=e.cx,a=e.cy,i=Math.max(e.r0||0,0),r=Math.max(e.r,0),o=.5*(r-i),s=i+o,l=e.startAngle,u=e.endAngle,c=e.clockwise,d=Math.cos(l),h=Math.sin(l),f=Math.cos(u),p=Math.sin(u);(c?u-l<2*Math.PI:l-u<2*Math.PI)&&(t.moveTo(d*i+n,h*i+a),t.arc(d*s+n,h*s+a,o,-Math.PI+l,l,!c)),t.arc(n,a,r,l,u,!c),t.moveTo(f*r+n,p*r+a),t.arc(f*s+n,p*s+a,o,u-2*Math.PI,u-Math.PI,!c),0!==i&&(t.arc(n,a,i,u,l,c),t.moveTo(d*i+n,p*i+a)),t.closePath()}}),sw=["itemStyle","barBorderWidth"],lw=[0,0];s(pr.prototype,rw),Vl({type:"bar",render:function(t,e,n){this._updateDrawMode(t);var a=t.get("coordinateSystem");return"cartesian2d"===a||"polar"===a?this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n):Gf&&console.warn("Only cartesian2d and polar supported for bar."),this.group},incrementalPrepareRender:function(t){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){var e=t.pipelineContext.large;(null==this._isLargeDraw||e^this._isLargeDraw)&&(this._isLargeDraw=e,this._clear())},_renderNormal:function(t){var e,n=this.group,a=t.getData(),i=this._data,r=t.coordinateSystem,o=r.getBaseAxis();"cartesian2d"===r.type?e=o.isHorizontal():"polar"===r.type&&(e="angle"===o.dim);var s=t.isAnimationEnabled()?t:null,l=t.get("clip",!0),u=zc(r,a);n.removeClipPath();var c=t.get("roundCap",!0),d=t.get("showBackground",!0),h=t.getModel("backgroundStyle"),f=h.get("barBorderRadius")||0,p=[],v=this._backgroundEls||[],g=function(t){var n=fw[r.type](a,t),i=Jc(r,e,n);return i.useStyle(h.getBarItemStyle()),"cartesian2d"===r.type&&i.setShape("r",f),p[t]=i,i};a.diff(i).add((function(i){var o=a.getItemModel(i),h=fw[r.type](a,i,o);if(d&&g(i),a.hasValue(i)){if(l&&dw[r.type](u,h))return void n.remove(f);var f=hw[r.type](i,h,e,s,!1,c);a.setItemGraphicEl(i,f),n.add(f),Zc(f,a,i,o,h,t,e,"polar"===r.type)}})).update((function(o,m){var y=a.getItemModel(o),_=fw[r.type](a,o,y);if(d){var b;0===v.length?b=g(m):((b=v[m]).useStyle(h.getBarItemStyle()),"cartesian2d"===r.type&&b.setShape("r",f),p[o]=b);var x=fw[r.type](a,o);er(b,{shape:Yc(e,x,r)},s,o)}var w=i.getItemGraphicEl(m);if(a.hasValue(o)){if(l&&dw[r.type](u,_))return void n.remove(w);w?er(w,{shape:_},s,o):w=hw[r.type](o,_,e,s,!0,c),a.setItemGraphicEl(o,w),n.add(w),Zc(w,a,o,y,_,t,e,"polar"===r.type)}else n.remove(w)})).remove((function(t){var e=i.getItemGraphicEl(t);"cartesian2d"===r.type?e&&Fc(t,s,e):e&&qc(t,s,e)})).execute();var m=this._backgroundGroup||(this._backgroundGroup=new sv);m.removeAll();for(var y=0;y<p.length;++y)m.add(p[y]);n.add(m),this._backgroundEls=p,this._data=a},_renderLarge:function(t){this._clear(),Hc(t,this.group);var e=t.get("clip",!0)?Bc(t.coordinateSystem,!1,t):null;e?this.group.setClipPath(e):this.group.removeClipPath()},_incrementalRenderLarge:function(t,e){this._removeBackground(),Hc(e,this.group,!0)},dispose:F,remove:function(t){this._clear(t)},_clear:function(t){var e=this.group,n=this._data;t&&t.get("animation")&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(e){"sector"===e.type?qc(e.dataIndex,t,e):Fc(e.dataIndex,t,e)}))):e.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}});var uw=Math.max,cw=Math.min,dw={cartesian2d:function(t,e){var n=e.width<0?-1:1,a=e.height<0?-1:1;0>n&&(e.x+=e.width,e.width=-e.width),0>a&&(e.y+=e.height,e.height=-e.height);var i=uw(e.x,t.x),r=cw(e.x+e.width,t.x+t.width),o=uw(e.y,t.y),s=cw(e.y+e.height,t.y+t.height);e.x=i,e.y=o,e.width=r-i,e.height=s-o;var l=e.width<0||e.height<0;return 0>n&&(e.x+=e.width,e.width=-e.width),0>a&&(e.y+=e.height,e.height=-e.height),l},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(0>n){var a=e.r;e.r=e.r0,e.r0=a}a=cw(e.r,t.r);var i=uw(e.r0,t.r0);e.r=a,e.r0=i;var r=0>a-i;return 0>n&&(a=e.r,e.r=e.r0,e.r0=a),r}},hw={cartesian2d:function(t,e,n,a,i){var r=new Em({shape:s({},e),z2:1});if(r.name="item",a){var o=n?"height":"width",l={};r.shape[o]=0,l[o]=e[o],ry[i?"updateProps":"initProps"](r,{shape:l},a,t)}return r},polar:function(t,e,n,a,i,r){var o=e.startAngle<e.endAngle,s=new(!n&&r?ow:km)({shape:l({clockwise:o},e),z2:1});if(s.name="item",a){var u=n?"r":"endAngle",c={};s.shape[u]=n?0:e.startAngle,c[u]=e[u],ry[i?"updateProps":"initProps"](s,{shape:c},a,t)}return s}},fw={cartesian2d:function(t,e,n){var a=t.getItemLayout(e),i=n?Gc(n,a):0,r=a.width>0?1:-1,o=a.height>0?1:-1;return{x:a.x+r*i/2,y:a.y+o*i/2,width:a.width-r*i,height:a.height-o*i}},polar:function(t,e){var n=t.getItemLayout(e);return{cx:n.cx,cy:n.cy,r0:n.r0,r:n.r,startAngle:n.startAngle,endAngle:n.endAngle}}},pw=ni.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var n=e.points,a=this.__startPoint,i=this.__baseDimIdx,r=0;r<n.length;r+=2)a[i]=n[r+i],t.moveTo(a[0],a[1]),t.lineTo(n[r],n[r+1])}}),vw=_s((function(t){var e=this,n=Wc(e,t.offsetX,t.offsetY);e.dataIndex=n>=0?n:null}),30,!1),gw=Math.PI,mw=function(t,e){this.opt=e,this.axisModel=t,l(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new sv;var n=new sv({position:e.position.slice(),rotation:e.rotation});n.updateTransform(),this._transform=n.transform,this._dumbGroup=n};mw.prototype={constructor:mw,hasBuilder:function(t){return!!yw[t]},add:function(t){yw[t].call(this)},getGroup:function(){return this.group}};var yw={axisLine:function(){var t=this.opt,e=this.axisModel;if(e.get("axisLine.show")){var n=this.axisModel.axis.getExtent(),a=this._transform,i=[n[0],0],r=[n[1],0];a&&(ot(i,i,a),ot(r,r,a));var o=s({lineCap:"round"},e.getModel("axisLine.lineStyle").getLineStyle());this.group.add(new Nm({anid:"line",subPixelOptimize:!0,shape:{x1:i[0],y1:i[1],x2:r[0],y2:r[1]},style:o,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1}));var l=e.get("axisLine.symbol"),u=e.get("axisLine.symbolSize"),c=e.get("axisLine.symbolOffset")||0;if("number"==typeof c&&(c=[c,c]),null!=l){"string"==typeof l&&(l=[l,l]),("string"==typeof u||"number"==typeof u)&&(u=[u,u]);var d=u[0],h=u[1];p([{rotate:t.rotation+Math.PI/2,offset:c[0],r:0},{rotate:t.rotation-Math.PI/2,offset:c[1],r:Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}],(function(e,n){if("none"!==l[n]&&null!=l[n]){var a=Qu(l[n],-d/2,-h/2,d,h,o.stroke,!0),r=e.r+e.offset,s=[i[0]+r*Math.cos(t.rotation),i[1]-r*Math.sin(t.rotation)];a.attr({rotation:e.rotate,position:s,silent:!0,z2:11}),this.group.add(a)}}),this)}}},axisTickLabel:function(){var t=this.axisModel,e=this.opt,n=id(this,t,e);Qc(t,od(this,t,e),n),rd(this,t,e)},axisName:function(){var t=this.opt,e=this.axisModel,n=D(t.axisName,e.get("name"));if(n){var a,i,r=e.get("nameLocation"),o=t.nameDirection,l=e.getModel("nameTextStyle"),u=e.get("nameGap")||0,c=this.axisModel.axis.getExtent(),d=c[0]>c[1]?-1:1,h=["start"===r?c[0]-d*u:"end"===r?c[1]+d*u:(c[0]+c[1])/2,nd(r)?t.labelOffset+o*u:0],f=e.get("nameRotate");null!=f&&(f=f*gw/180),nd(r)?a=bw(t.rotation,null!=f?f:t.rotation,o):(a=Kc(t,r,f||0,c),null!=(i=t.axisNameAvailableWidth)&&(i=Math.abs(i/Math.sin(a.rotation)),!isFinite(i)&&(i=null)));var p=l.getFont(),v=e.get("nameTruncate",!0)||{},g=v.ellipsis,m=D(t.nameTruncateMaxWidth,v.maxWidth,i),y=null!=g&&null!=m?wy(n,m,p,g,{minChar:2,placeholder:v.placeholder}):n,_=e.get("tooltip",!0),b=e.mainType,x={componentType:b,name:n,$vars:["name"]};x[b+"Index"]=e.componentIndex;var w=new wm({anid:"name",__fullText:n,__truncatedText:y,position:h,rotation:a.rotation,silent:xw(e),z2:1,tooltip:_&&_.show?s({content:n,formatter:function(){return n},formatterParams:x},_):null});Gi(w.style,l,{text:y,textFont:p,textFill:l.getTextColor()||e.get("axisLine.lineStyle.color"),textAlign:l.get("align")||a.textAlign,textVerticalAlign:l.get("verticalAlign")||a.textVerticalAlign}),e.get("triggerEvent")&&(w.eventData=_w(e),w.eventData.targetType="axisName",w.eventData.name=n),this._dumbGroup.add(w),w.updateTransform(),this.group.add(w),w.decomposeTransform()}}},_w=mw.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},bw=mw.innerTextLayout=function(t,e,n){var a,i,r=Dr(e-t);return Mr(r)?(i=n>0?"top":"bottom",a="center"):Mr(r-gw)?(i=n>0?"bottom":"top",a="center"):(i="middle",a=r>0&&gw>r?n>0?"right":"left":n>0?"left":"right"),{rotation:r,textAlign:a,textVerticalAlign:i}},xw=mw.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},ww=p,Sw=b,Iw=jl({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,n,a){this.axisPointerClass&&fd(t),Iw.superApply(this,"render",arguments),yd(this,t,e,n,a,!0)},updateAxisPointer:function(t,e,n,a){yd(this,t,e,n,a,!1)},remove:function(t,e){var n=this._axisPointer;n&&n.remove(e),Iw.superApply(this,"remove",arguments)},dispose:function(t,e){_d(this,e),Iw.superApply(this,"dispose",arguments)}}),Cw=[];Iw.registerAxisPointerClass=function(t,e){if(Gf&&Cw[t])throw new Error("axisPointer "+t+" exists");Cw[t]=e},Iw.getAxisPointerClass=function(t){return t&&Cw[t]};var kw=["axisLine","axisTickLabel","axisName"],Tw=["splitArea","splitLine","minorSplitLine"],Ow=Iw.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(t,e,n,a){this.group.removeAll();var i=this._axisGroup;if(this._axisGroup=new sv,this.group.add(this._axisGroup),t.get("show")){var r=t.getCoordSysModel(),o=bd(r,t),s=new mw(t,o);p(kw,s.add,s),this._axisGroup.add(s.getGroup()),p(Tw,(function(e){t.get(e+".show")&&this["_"+e](t,r)}),this),or(i,this._axisGroup,t),Ow.superCall(this,"render",t,e,n,a)}},remove:function(){wd(this)},_splitLine:function(t,e){var n=t.axis;if(!n.scale.isBlank()){var a=t.getModel("splitLine"),i=a.getModel("lineStyle"),r=i.get("color");r=x(r)?r:[r];for(var o=e.coordinateSystem.getRect(),s=n.isHorizontal(),u=0,c=n.getTicksCoords({tickModel:a}),d=[],h=[],f=i.getLineStyle(),p=0;p<c.length;p++){var v=n.toGlobalCoord(c[p].coord);s?(d[0]=v,d[1]=o.y,h[0]=v,h[1]=o.y+o.height):(d[0]=o.x,d[1]=v,h[0]=o.x+o.width,h[1]=v);var g=u++%r.length,m=c[p].tickValue;this._axisGroup.add(new Nm({anid:null!=m?"line_"+c[p].tickValue:null,subPixelOptimize:!0,shape:{x1:d[0],y1:d[1],x2:h[0],y2:h[1]},style:l({stroke:r[g]},f),silent:!0}))}}},_minorSplitLine:function(t,e){var n=t.axis,a=t.getModel("minorSplitLine").getModel("lineStyle"),i=e.coordinateSystem.getRect(),r=n.isHorizontal(),o=n.getMinorTicksCoords();if(o.length)for(var s=[],l=[],u=a.getLineStyle(),c=0;c<o.length;c++)for(var d=0;d<o[c].length;d++){var h=n.toGlobalCoord(o[c][d].coord);r?(s[0]=h,s[1]=i.y,l[0]=h,l[1]=i.y+i.height):(s[0]=i.x,s[1]=h,l[0]=i.x+i.width,l[1]=h),this._axisGroup.add(new Nm({anid:"minor_line_"+o[c][d].tickValue,subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:u,silent:!0}))}},_splitArea:function(t,e){xd(this,this._axisGroup,t,e)}});Ow.extend({type:"xAxis"}),Ow.extend({type:"yAxis"}),jl({type:"grid",render:function(t){this.group.removeAll(),t.get("show")&&this.group.add(new Em({shape:t.coordinateSystem.getRect(),style:l({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),Il((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})),Ml(vb.VISUAL.LAYOUT,b(Nu,"bar")),Ml(vb.VISUAL.PROGRESSIVE_LAYOUT,lx),Pl({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}}),m_.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t){if(Gf){var e=t.coordinateSystem;if("polar"!==e&&"cartesian2d"!==e)throw new Error("Line not support coordinateSystem besides cartesian and polar")}return yu(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Dw=Sd.prototype,Mw=Sd.getSymbolSize=function(t,e){var n=t.getItemVisual(e,"symbolSize");return n instanceof Array?n.slice():[+n,+n]};Dw._createSymbol=function(t,e,n,a,i){this.removeAll();var r=Qu(t,-1,-1,2,2,e.getItemVisual(n,"color"),i);r.attr({z2:100,culling:!0,scale:Id(a)}),r.drift=Cd,this._symbolType=t,this.add(r)},Dw.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},Dw.getSymbolPath=function(){return this.childAt(0)},Dw.getScale=function(){return this.childAt(0).scale},Dw.highlight=function(){this.childAt(0).trigger("emphasis")},Dw.downplay=function(){this.childAt(0).trigger("normal")},Dw.setZ=function(t,e){var n=this.childAt(0);n.zlevel=t,n.z=e},Dw.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},Dw.updateData=function(t,e,n){this.silent=!1;var a=t.getItemVisual(e,"symbol")||"circle",i=t.hostModel,r=Mw(t,e),o=a!==this._symbolType;if(o){var s=t.getItemVisual(e,"symbolKeepAspect");this._createSymbol(a,t,e,r,s)}else(l=this.childAt(0)).silent=!1,er(l,{scale:Id(r)},i,e);if(this._updateCommon(t,e,r,n),o){var l=this.childAt(0),u=n&&n.fadeIn,c={scale:l.scale.slice()};u&&(c.style={opacity:l.style.opacity}),l.scale=[0,0],u&&(l.style.opacity=0),nr(l,c,i,e)}this._seriesModel=i};var Pw=["itemStyle"],Aw=["emphasis","itemStyle"],Lw=["label"],Ew=["emphasis","label"];Dw._updateCommon=function(t,e,n,a){function i(e){return w?t.getName(e):Ec(t,e)}var r=this.childAt(0),o=t.hostModel,l=t.getItemVisual(e,"color");"image"!==r.type?r.useStyle({strokeNoScale:!0}):r.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var u=a&&a.itemStyle,c=a&&a.hoverItemStyle,d=a&&a.symbolOffset,h=a&&a.labelModel,f=a&&a.hoverLabelModel,p=a&&a.hoverAnimation,v=a&&a.cursorStyle;if(!a||t.hasItemOption){var g=a&&a.itemModel?a.itemModel:t.getItemModel(e);u=g.getModel(Pw).getItemStyle(["color"]),c=g.getModel(Aw).getItemStyle(),d=g.getShallow("symbolOffset"),h=g.getModel(Lw),f=g.getModel(Ew),p=g.getShallow("hoverAnimation"),v=g.getShallow("cursor")}else c=s({},c);var m=r.style,y=t.getItemVisual(e,"symbolRotate");r.attr("rotation",(y||0)*Math.PI/180||0),d&&r.attr("position",[wr(d[0],n[0]),wr(d[1],n[1])]),v&&r.attr("cursor",v),r.setColor(l,a&&a.symbolInnerColor),r.setStyle(u);var _=t.getItemVisual(e,"opacity");null!=_&&(m.opacity=_);var b=t.getItemVisual(e,"liftZ"),x=r.__z2Origin;null!=b?null==x&&(r.__z2Origin=r.z2,r.z2+=b):null!=x&&(r.z2=x,r.__z2Origin=null);var w=a&&a.useNameLabel;$i(m,c,h,f,{labelFetcher:o,labelDataIndex:e,defaultText:i,isRectText:!0,autoColor:l}),r.__symbolOriginalScale=Id(n),r.hoverStyle=c,r.highDownOnUpdate=p&&o.isAnimationEnabled()?kd:null,Bi(r)},Dw.fadeOut=function(t,e){var n=this.childAt(0);this.silent=n.silent=!0,!(e&&e.keepLabel)&&(n.style.text=null),er(n,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},d(Sd,sv);var jw=Td.prototype;jw.updateData=function(t,e){e=Dd(e);var n=this.group,a=t.hostModel,i=this._data,r=this._symbolCtor,o=Md(t);i||n.removeAll(),t.diff(i).add((function(a){var i=t.getItemLayout(a);if(Od(t,i,a,e)){var s=new r(t,a,o);s.attr("position",i),t.setItemGraphicEl(a,s),n.add(s)}})).update((function(s,l){var u=i.getItemGraphicEl(l),c=t.getItemLayout(s);return Od(t,c,s,e)?(u?(u.updateData(t,s,o),er(u,{position:c},a)):(u=new r(t,s)).attr("position",c),n.add(u),void t.setItemGraphicEl(s,u)):void n.remove(u)})).remove((function(t){var e=i.getItemGraphicEl(t);e&&e.fadeOut((function(){n.remove(e)}))})).execute(),this._data=t},jw.isPersistent=function(){return!0},jw.updateLayout=function(){var t=this._data;t&&t.eachItemGraphicEl((function(e,n){var a=t.getItemLayout(n);e.attr("position",a)}))},jw.incrementalPrepareUpdate=function(t){this._seriesScope=Md(t),this._data=null,this.group.removeAll()},jw.incrementalUpdate=function(t,e,n){function a(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}n=Dd(n);for(var i=t.start;i<t.end;i++){var r=e.getItemLayout(i);if(Od(e,r,i,n)){var o=new this._symbolCtor(e,i,this._seriesScope);o.traverse(a),o.attr("position",r),this.group.add(o),e.setItemGraphicEl(i,o)}}},jw.remove=function(t){var e=this.group,n=this._data;n&&t?n.eachItemGraphicEl((function(t){t.fadeOut((function(){e.remove(t)}))})):e.removeAll()};var Nw=function(t,e,n,a,i,r,o,s){for(var l=Ed(t,e),u=[],c=[],d=[],h=[],f=[],p=[],v=[],g=Pd(i,e,o),m=Pd(r,t,s),y=0;y<l.length;y++){var _=l[y],b=!0;switch(_.cmd){case"=":var x=t.getItemLayout(_.idx),w=e.getItemLayout(_.idx1);(isNaN(x[0])||isNaN(x[1]))&&(x=w.slice()),u.push(x),c.push(w),d.push(n[_.idx]),h.push(a[_.idx1]),v.push(e.getRawIndex(_.idx1));break;case"+":var S=_.idx;u.push(i.dataToPoint([e.get(g.dataDimsForPoint[0],S),e.get(g.dataDimsForPoint[1],S)])),c.push(e.getItemLayout(S).slice()),d.push(Ld(g,i,e,S)),h.push(a[S]),v.push(e.getRawIndex(S));break;case"-":S=_.idx;var I=t.getRawIndex(S);I!==S?(u.push(t.getItemLayout(S)),c.push(r.dataToPoint([t.get(m.dataDimsForPoint[0],S),t.get(m.dataDimsForPoint[1],S)])),d.push(n[S]),h.push(Ld(m,r,t,S)),v.push(I)):b=!1}b&&(f.push(_),p.push(p.length))}p.sort((function(t,e){return v[t]-v[e]}));var C=[],k=[],T=[],O=[],D=[];for(y=0;y<p.length;y++)S=p[y],C[y]=u[S],k[y]=c[S],T[y]=d[S],O[y]=h[S],D[y]=f[S];return{current:C,next:k,stackedOnCurrent:T,stackedOnNext:O,status:D}},Vw=st,Rw=lt,Bw=W,zw=$,Fw=[],qw=[],$w=[],Zw=ni.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:Cm(ni.prototype.brush),buildPath:function(t,e){var n=e.points,a=0,i=n.length,r=Bd(n,e.smoothConstraint);if(e.connectNulls){for(;i>0&&jd(n[i-1]);i--);for(;i>a&&jd(n[a]);a++);}for(;i>a;)a+=Nd(t,n,a,i,i,1,r.min,r.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Gw=ni.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:Cm(ni.prototype.brush),buildPath:function(t,e){var n=e.points,a=e.stackedOnPoints,i=0,r=n.length,o=e.smoothMonotone,s=Bd(n,e.smoothConstraint),l=Bd(a,e.smoothConstraint);if(e.connectNulls){for(;r>0&&jd(n[r-1]);r--);for(;r>i&&jd(n[i]);i++);}for(;r>i;){var u=Nd(t,n,i,r,r,1,s.min,s.max,e.smooth,o,e.connectNulls);Nd(t,a,i+u-1,u,r,-1,l.min,l.max,e.stackedOnSmooth,o,e.connectNulls),i+=u+1,t.closePath()}}});ps.extend({type:"line",init:function(){var t=new sv,e=new Td;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,n){var a=t.coordinateSystem,i=this.group,r=t.getData(),o=t.getModel("lineStyle"),s=t.getModel("areaStyle"),u=r.mapArray(r.getItemLayout),c="polar"===a.type,d=this._coordSys,h=this._symbolDraw,f=this._polyline,p=this._polygon,v=this._lineGroup,g=t.get("animation"),m=!s.isEmpty(),y=s.get("origin"),_=$d(a,r,Pd(a,r,y)),b=t.get("showSymbol"),x=b&&!c&&Hd(t,r,a),w=this._data;w&&w.eachItemGraphicEl((function(t,e){t.__temp&&(i.remove(t),w.setItemGraphicEl(e,null))})),b||h.remove(),i.add(v);var S,I=!c&&t.get("step");a&&a.getArea&&t.get("clip",!0)&&(null!=(S=a.getArea()).width?(S.x-=.1,S.y-=.1,S.width+=.2,S.height+=.2):S.r0&&(S.r0-=.5,S.r1+=.5)),this._clipShapeForSymbol=S,f&&d.type===a.type&&I===this._step?(m&&!p?p=this._newPolygon(u,_,a,g):p&&!m&&(v.remove(p),p=this._polygon=null),v.setClipPath(Ud(a,!1,t)),b&&h.updateData(r,{isIgnore:x,clipShape:S}),r.eachItemGraphicEl((function(t){t.stopAnimation(!0)})),zd(this._stackedOnPoints,_)&&zd(this._points,u)||(g?this._updateAnimation(r,_,a,n,I,y):(I&&(u=Zd(u,a,I),_=Zd(_,a,I)),f.setShape({points:u}),p&&p.setShape({points:u,stackedOnPoints:_})))):(b&&h.updateData(r,{isIgnore:x,clipShape:S}),I&&(u=Zd(u,a,I),_=Zd(_,a,I)),f=this._newPolyline(u,a,g),m&&(p=this._newPolygon(u,_,a,g)),v.setClipPath(Ud(a,!0,t)));var C=Gd(r,a)||r.getVisual("color");f.useStyle(l(o.getLineStyle(),{fill:"none",stroke:C,lineJoin:"bevel"}));var k=t.get("smooth");if(k=qd(t.get("smooth")),f.setShape({smooth:k,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),p){var T=r.getCalculationInfo("stackedOnSeries"),O=0;p.useStyle(l(s.getAreaStyle(),{fill:C,opacity:.7,lineJoin:"bevel"})),T&&(O=qd(T.get("smooth"))),p.setShape({smooth:k,stackedOnSmooth:O,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})}this._data=r,this._coordSys=a,this._stackedOnPoints=_,this._points=u,this._step=I,this._valueOrigin=y},dispose:function(){},highlight:function(t,e,n,a){var i=t.getData(),r=ua(i,a);if(!(r instanceof Array)&&null!=r&&r>=0){var o=i.getItemGraphicEl(r);if(!o){var s=i.getItemLayout(r);if(!s)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s[0],s[1]))return;(o=new Sd(i,r)).position=s,o.setZ(t.get("zlevel"),t.get("z")),o.ignore=isNaN(s[0])||isNaN(s[1]),o.__temp=!0,i.setItemGraphicEl(r,o),o.stopSymbolAnimation(!0),this.group.add(o)}o.highlight()}else ps.prototype.highlight.call(this,t,e,n,a)},downplay:function(t,e,n,a){var i=t.getData(),r=ua(i,a);if(null!=r&&r>=0){var o=i.getItemGraphicEl(r);o&&(o.__temp?(i.setItemGraphicEl(r,null),this.group.remove(o)):o.downplay())}else ps.prototype.downplay.call(this,t,e,n,a)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Zw({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e,e},_newPolygon:function(t,e){var n=this._polygon;return n&&this._lineGroup.remove(n),n=new Gw({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(n),this._polygon=n,n},_updateAnimation:function(t,e,n,a,i,r){var o=this._polyline,s=this._polygon,l=t.hostModel,u=Nw(this._data,t,this._stackedOnPoints,e,this._coordSys,n,this._valueOrigin,r),c=u.current,d=u.stackedOnCurrent,h=u.next,f=u.stackedOnNext;if(i&&(c=Zd(u.current,n,i),d=Zd(u.stackedOnCurrent,n,i),h=Zd(u.next,n,i),f=Zd(u.stackedOnNext,n,i)),Fd(c,h)>3e3||s&&Fd(d,f)>3e3)return o.setShape({points:h}),void(s&&s.setShape({points:h,stackedOnPoints:f}));o.shape.__points=u.current,o.shape.points=c,er(o,{shape:{points:h}},l),s&&(s.setShape({points:c,stackedOnPoints:d}),er(s,{shape:{points:h,stackedOnPoints:f}},l));for(var p=[],v=u.status,g=0;g<v.length;g++)if("="===v[g].cmd){var m=t.getItemGraphicEl(v[g].idx1);m&&p.push({el:m,ptIdx:g})}o.animators&&o.animators.length&&o.animators[0].during((function(){for(var t=0;t<p.length;t++)p[t].el.attr("position",o.shape.__points[p[t].ptIdx])}))},remove:function(){var t=this.group,e=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),e&&e.eachItemGraphicEl((function(n,a){n.__temp&&(t.remove(n),e.setItemGraphicEl(a,null))})),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});var Hw=function(t,e,n){return{seriesType:t,performRawSeries:!0,reset:function(t,a){function i(e,n){if(f){var a=t.getRawValue(n),i=t.getDataParams(n);c&&e.setItemVisual(n,"symbol",o(a,i)),d&&e.setItemVisual(n,"symbolSize",s(a,i)),h&&e.setItemVisual(n,"symbolRotate",u(a,i))}if(e.hasItemOption){var r=e.getItemModel(n),l=r.getShallow("symbol",!0),p=r.getShallow("symbolSize",!0),v=r.getShallow("symbolRotate",!0),g=r.getShallow("symbolKeepAspect",!0);null!=l&&e.setItemVisual(n,"symbol",l),null!=p&&e.setItemVisual(n,"symbolSize",p),null!=v&&e.setItemVisual(n,"symbolRotate",v),null!=g&&e.setItemVisual(n,"symbolKeepAspect",g)}}var r=t.getData(),o=t.get("symbol"),s=t.get("symbolSize"),l=t.get("symbolKeepAspect"),u=t.get("symbolRotate"),c=w(o),d=w(s),h=w(u),f=c||d||h,p=!c&&o?o:e,v=d?null:s;return r.setVisual({legendSymbol:n||p,symbol:p,symbolSize:v,symbolKeepAspect:l,symbolRotate:u}),a.isSeriesFiltered(t)?void 0:{dataEach:r.hasItemOption||f?i:null}}}},Ww=function(t){return{seriesType:t,plan:b_(),reset:function(t){function e(t,e){for(var n=t.end-t.start,s=i&&new Float32Array(n*o),l=t.start,u=0,c=[],d=[];l<t.end;l++){var h;if(1===o){var f=e.get(r[0],l);h=!isNaN(f)&&a.dataToPoint(f,null,d)}else{f=c[0]=e.get(r[0],l);var p=c[1]=e.get(r[1],l);h=!isNaN(f)&&!isNaN(p)&&a.dataToPoint(c,null,d)}i?(s[u++]=h?h[0]:NaN,s[u++]=h?h[1]:NaN):e.setItemLayout(l,h&&h.slice()||[NaN,NaN])}i&&e.setLayout("symbolPoints",s)}var n=t.getData(),a=t.coordinateSystem,i=t.pipelineContext.large;if(a){var r=v(a.dimensions,(function(t){return n.mapDimension(t)})).slice(0,2),o=r.length,s=n.getCalculationInfo("stackResultDimension");return gu(n,r[0])&&(r[0]=s),gu(n,r[1])&&(r[1]=s),o&&{progress:e}}}}},Uw={average:function(t){for(var e=0,n=0,a=0;a<t.length;a++)isNaN(t[a])||(e+=t[a],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},Xw=function(t){return Math.round(t.length/2)},Yw=function(t){return{seriesType:t,modifyOutputEnd:!0,reset:function(t){var e=t.getData(),n=t.get("sampling"),a=t.coordinateSystem;if("cartesian2d"===a.type&&n){var i,r=a.getBaseAxis(),o=a.getOtherAxis(r),s=r.getExtent(),l=Math.abs(s[1]-s[0]),u=Math.round(e.count()/l);u>1&&("string"==typeof n?i=Uw[n]:"function"==typeof n&&(i=n),i&&t.setData(e.downSample(e.mapDimension(o.dim),1/u,i,Xw)))}}}};Pl(Hw("line","circle","line")),Ml(Ww("line")),Cl(vb.PROCESSOR.STATISTIC,Yw("line"));var Jw=function(t,e,n){e=x(e)&&{coordDimensions:e}||s({},e);var a=t.getSource(),i=Jb(a,e),r=new Ub(i,t);return r.initData(a,n),r},Kw={updateSelectedMap:function(t){this._targetList=x(t)?t.slice():[],this._selectTargetMap=g(t||[],(function(t,e){return t.set(e.name,e),t}),B())},select:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each((function(t){t.selected=!1})),n&&(n.selected=!0)},unSelect:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);n&&(n.selected=!1)},toggleSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return null!=n?(this[n.selected?"unSelect":"select"](t,e),n.selected):void 0},isSelected:function(t,e){var n=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return n&&n.selected}},Qw=Nl({type:"series.pie",init:function(t){Qw.superApply(this,"init",arguments),this.legendVisualProvider=new Xd(_(this.getData,this),_(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){Qw.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(){return Jw(this,{coordDimensions:["value"],encodeDefaulter:b(vo,this)})},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),n=[],a=0,i=t.count();i>a;a++)n.push({name:t.getName(a),value:t.get(e,a),selected:es(t,a,"selected")});return n},getDataParams:function(t){var e=this.getData(),n=Qw.superCall(this,"getDataParams",t),a=[];return e.each(e.mapDimension("value"),(function(t){a.push(t)})),n.percent=Or(a,t,e.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},_defaultLabelLine:function(t){na(t,"labelLine",["show"]);var e=t.labelLine,n=t.emphasis.labelLine;e.show=e.show&&t.label.show,n.show=n.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});h(Qw,Kw);var tS=Kd.prototype;tS.updateData=function(t,e,n){var a=this.childAt(0),i=this.childAt(1),r=this.childAt(2),o=t.hostModel,u=t.getItemModel(e),c=t.getItemLayout(e),d=s({},c);d.label=null;var h=o.getShallow("animationTypeUpdate");n?(a.setShape(d),"scale"===o.getShallow("animationType")?(a.shape.r=c.r0,nr(a,{shape:{r:c.r}},o,e)):(a.shape.endAngle=c.startAngle,er(a,{shape:{endAngle:c.endAngle}},o,e))):"expansion"===h?a.setShape(d):er(a,{shape:d},o,e);var f=t.getItemVisual(e,"color");a.useStyle(l({lineJoin:"bevel",fill:f},u.getModel("itemStyle").getItemStyle())),a.hoverStyle=u.getModel("emphasis.itemStyle").getItemStyle();var p=u.getShallow("cursor");p&&a.attr("cursor",p),Jd(this,t.getItemLayout(e),o.isSelected(t.getName(e)),o.get("selectedOffset"),o.get("animation"));var v=!n&&"transition"===h;this._updateLabel(t,e,v),this.highDownOnUpdate=o.get("silent")?null:function(t,e){var n=o.isAnimationEnabled()&&u.get("hoverAnimation");"emphasis"===e?(i.ignore=i.hoverIgnore,r.ignore=r.hoverIgnore,n&&(a.stopAnimation(!0),a.animateTo({shape:{r:c.r+o.get("hoverOffset")}},300,"elasticOut"))):(i.ignore=i.normalIgnore,r.ignore=r.normalIgnore,n&&(a.stopAnimation(!0),a.animateTo({shape:{r:c.r}},300,"elasticOut")))},Bi(this)},tS._updateLabel=function(t,e,n){var a=this.childAt(1),i=this.childAt(2),r=t.hostModel,o=t.getItemModel(e),s=t.getItemLayout(e).label,l=t.getItemVisual(e,"color");if(!s||isNaN(s.x)||isNaN(s.y))i.ignore=i.normalIgnore=i.hoverIgnore=a.ignore=a.normalIgnore=a.hoverIgnore=!0;else{var u={points:s.linePoints||[[s.x,s.y],[s.x,s.y],[s.x,s.y]]},c={x:s.x,y:s.y};n?(er(a,{shape:u},r,e),er(i,{style:c},r,e)):(a.attr({shape:u}),i.attr({style:c})),i.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var d=o.getModel("label"),h=o.getModel("emphasis.label"),f=o.getModel("labelLine"),p=o.getModel("emphasis.labelLine");l=t.getItemVisual(e,"color"),$i(i.style,i.hoverStyle={},d,h,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:s.text,autoColor:l,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),i.ignore=i.normalIgnore=!d.get("show"),i.hoverIgnore=!h.get("show"),a.ignore=a.normalIgnore=!f.get("show"),a.hoverIgnore=!p.get("show"),a.setStyle({stroke:l,opacity:t.getItemVisual(e,"opacity")}),a.setStyle(f.getModel("lineStyle").getLineStyle()),a.hoverStyle=p.getModel("lineStyle").getLineStyle();var v=f.get("smooth");v&&!0===v&&(v=.4),a.setShape({smooth:v})}},d(Kd,sv);var eS=(ps.extend({type:"pie",init:function(){var t=new sv;this._sectorGroup=t},render:function(t,e,n,a){if(!a||a.from!==this.uid){var i=t.getData(),r=this._data,o=this.group,s=e.get("animation"),l=!r,u=t.get("animationType"),c=t.get("animationTypeUpdate"),d=b(Yd,this.uid,t,s,n),h=t.get("selectedMode");if(i.diff(r).add((function(t){var e=new Kd(i,t);l&&"scale"!==u&&e.eachChild((function(t){t.stopAnimation(!0)})),h&&e.on("click",d),i.setItemGraphicEl(t,e),o.add(e)})).update((function(t,e){var n=r.getItemGraphicEl(e);l||"transition"===c||n.eachChild((function(t){t.stopAnimation(!0)})),n.updateData(i,t),n.off("click"),h&&n.on("click",d),o.add(n),i.setItemGraphicEl(t,n)})).remove((function(t){var e=r.getItemGraphicEl(t);o.remove(e)})).execute(),s&&i.count()>0&&(l?"scale"!==u:"transition"!==c)){for(var f=i.getItemLayout(0),p=1;isNaN(f.startAngle)&&p<i.count();++p)f=i.getItemLayout(p);var v=Math.max(n.getWidth(),n.getHeight())/2,g=_(o.removeClipPath,o);o.setClipPath(this._createClipPath(f.cx,f.cy,v,f.startAngle,f.clockwise,g,t,l))}else o.removeClipPath();this._data=i}},dispose:function(){},_createClipPath:function(t,e,n,a,i,r,o,s){var l=new km({shape:{cx:t,cy:e,r0:0,r:n,startAngle:a,endAngle:a,clockwise:i}});return(s?nr:er)(l,{shape:{endAngle:a+(i?1:-1)*Math.PI*2}},o,r),l},containPoint:function(t,e){var n=e.getData().getItemLayout(0);if(n){var a=t[0]-n.cx,i=t[1]-n.cy,r=Math.sqrt(a*a+i*i);return r<=n.r&&r>=n.r0}}}),function(t,e){p(e,(function(e){e.update="updateView",Tl(e,(function(n,a){var i={};return a.eachComponent({mainType:"series",subType:t,query:n},(function(t){t[e.method]&&t[e.method](n.name,n.dataIndex);var a=t.getData();a.each((function(e){var n=a.getName(e);i[n]=t.isSelected(n)||!1}))})),{name:n.name,selected:i,seriesId:n.seriesId}}))}))}),nS=function(t){return{getTargetSeries:function(e){var n={},a=B();return e.eachSeriesByType(t,(function(t){t.__paletteScope=n,a.set(t.uid,t)})),a},reset:function(t){var e=t.getRawData(),n={},a=t.getData();a.each((function(t){var e=a.getRawIndex(t);n[e]=t})),e.each((function(i){var r,o=n[i],s=null!=o&&a.getItemVisual(o,"color",!0),l=null!=o&&a.getItemVisual(o,"borderColor",!0);if(s&&l||(r=e.getItemModel(i)),!s){var u=r.get("itemStyle.color")||t.getColorFromPalette(e.getName(i)||i+"",t.__paletteScope,e.count());null!=o&&a.setItemVisual(o,"color",u)}if(!l){var c=r.get("itemStyle.borderColor");null!=o&&a.setItemVisual(o,"borderColor",c)}}))}}},aS=Math.PI/180,iS=function(t,e,n,a,i,r){var o,s,l=t.getData(),u=[],c=!1,d=(t.get("minShowLabelAngle")||0)*aS;l.each((function(a){var r=l.getItemLayout(a),h=l.getItemModel(a),f=h.getModel("label"),p=f.get("position")||h.get("emphasis.label.position"),v=f.get("distanceToLabelLine"),g=f.get("alignTo"),m=wr(f.get("margin"),n),y=f.get("bleedMargin"),_=f.getFont(),b=h.getModel("labelLine"),x=b.get("length");x=wr(x,n);var w=b.get("length2");if(w=wr(w,n),!(r.angle<d)){var S,I,C,k,T=(r.startAngle+r.endAngle)/2,O=Math.cos(T),D=Math.sin(T);o=r.cx,s=r.cy;var M=t.getFormattedLabel(a,"normal")||l.getName(a),P=He(M,_,k,"top"),A="inside"===p||"inner"===p;if("center"===p)S=r.cx,I=r.cy,k="center";else{var L=(A?(r.r+r.r0)/2*O:r.r*O)+o,E=(A?(r.r+r.r0)/2*D:r.r*D)+s;if(S=L+3*O,I=E+3*D,!A){var j=L+O*(x+e-r.r),N=E+D*(x+e-r.r),V=j+(0>O?-1:1)*w;S="edge"===g?0>O?i+m:i+n-m:V+(0>O?-v:v),I=N,C=[[L,E],[j,N],[V,N]]}k=A?"center":"edge"===g?O>0?"right":"left":O>0?"left":"right"}var R,B=f.get("rotate");R="number"==typeof B?B*(Math.PI/180):B?0>O?-T+Math.PI:-T:0,c=!!R,r.label={x:S,y:I,position:p,height:P.height,len:x,len2:w,linePoints:C,textAlign:k,verticalAlign:"middle",rotation:R,inside:A,labelDistance:v,labelAlignTo:g,labelMargin:m,bleedMargin:y,textRect:P,text:M,font:_},A||u.push(r.label)}})),!c&&t.get("avoidLabelOverlap")&&th(u,o,s,e,n,a,i,r)},rS=2*Math.PI,oS=Math.PI/180,sS=function(t,e,n){e.eachSeriesByType(t,(function(t){var e=t.getData(),a=e.mapDimension("value"),i=nh(t,n),r=t.get("center"),o=t.get("radius");x(o)||(o=[0,o]),x(r)||(r=[r,r]);var s=wr(i.width,n.getWidth()),l=wr(i.height,n.getHeight()),u=Math.min(s,l),c=wr(r[0],s)+i.x,d=wr(r[1],l)+i.y,h=wr(o[0],u/2),f=wr(o[1],u/2),p=-t.get("startAngle")*oS,v=t.get("minAngle")*oS,g=0;e.each(a,(function(t){!isNaN(t)&&g++}));var m=e.getSum(a),y=Math.PI/(m||g)*2,_=t.get("clockwise"),b=t.get("roseType"),w=t.get("stillShowZeroSum"),S=e.getDataExtent(a);S[0]=0;var I=rS,C=0,k=p,T=_?1:-1;if(e.each(a,(function(t,n){var a;if(isNaN(t))e.setItemLayout(n,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:_,cx:c,cy:d,r0:h,r:b?NaN:f,viewRect:i});else{v>(a="area"!==b?0===m&&w?y:t*y:rS/g)?(a=v,I-=v):C+=t;var r=k+T*a;e.setItemLayout(n,{angle:a,startAngle:k,endAngle:r,clockwise:_,cx:c,cy:d,r0:h,r:b?xr(t,S,[h,f]):f,viewRect:i}),k=r}})),rS>I&&g)if(.001>=I){var O=rS/g;e.each(a,(function(t,n){if(!isNaN(t)){var a=e.getItemLayout(n);a.angle=O,a.startAngle=p+T*n*O,a.endAngle=p+T*(n+1)*O}}))}else y=I/C,k=p,e.each(a,(function(t,n){if(!isNaN(t)){var a=e.getItemLayout(n),i=a.angle===v?v:t*y;a.startAngle=k,a.endAngle=k+T*i,k+=T*i}}));iS(t,f,i.width,i.height,i.x,i.y)}))},lS=function(t){return{seriesType:t,reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var a=t.getData();a.filterSelf((function(t){for(var e=a.getName(t),i=0;i<n.length;i++)if(!n[i].isSelected(e))return!1;return!0}))}}}};eS("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]),Pl(nS("pie")),Ml(b(sS,"pie")),Cl(lS("pie")),El({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),jl({type:"title",render:function(t,e,n){if(this.group.removeAll(),t.get("show")){var a=this.group,i=t.getModel("textStyle"),r=t.getModel("subtextStyle"),o=t.get("textAlign"),s=M(t.get("textBaseline"),t.get("textVerticalAlign")),l=new wm({style:Gi({},i,{text:t.get("text"),textFill:i.getTextColor()},{disableBox:!0}),z2:10}),u=l.getBoundingRect(),c=t.get("subtext"),d=new wm({style:Gi({},r,{text:c,textFill:r.getTextColor(),y:u.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),h=t.get("link"),f=t.get("sublink"),p=t.get("triggerEvent",!0);l.silent=!h&&!p,d.silent=!f&&!p,h&&l.on("click",(function(){Xr(h,"_"+t.get("target"))})),f&&d.on("click",(function(){Xr(f,"_"+t.get("subtarget"))})),l.eventData=d.eventData=p?{componentType:"title",componentIndex:t.componentIndex}:null,a.add(l),c&&a.add(d);var v=a.getBoundingRect(),g=t.getBoxLayoutParams();g.width=v.width,g.height=v.height;var m=Jr(g,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));o||("middle"===(o=t.get("left")||t.get("right"))&&(o="center"),"right"===o?m.x+=m.width:"center"===o&&(m.x+=m.width/2)),s||("center"===(s=t.get("top")||t.get("bottom"))&&(s="middle"),"bottom"===s?m.y+=m.height:"middle"===s&&(m.y+=m.height/2),s=s||"top"),a.attr("position",[m.x,m.y]);var y={textAlign:o,textVerticalAlign:s};l.setStyle(y),d.setStyle(y),v=a.getBoundingRect();var _=m.margin,b=t.getItemStyle(["color","opacity"]);b.fill=t.get("backgroundColor");var x=new Em({shape:{x:v.x-_[3],y:v.y-_[0],width:v.width+_[1]+_[3],height:v.height+_[0]+_[2],r:t.get("borderRadius")},style:b,subPixelOptimize:!0,silent:!0});a.add(x)}}});var uS=D_.legend.selector,cS={all:{type:"all",title:i(uS.all)},inverse:{type:"inverse",title:i(uS.inverse)}},dS=El({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},mergeOption:function(t){dS.superCall(this,"mergeOption",t),this._updateSelector(t)},_updateSelector:function(t){var e=t.selector;!0===e&&(e=t.selector=["all","inverse"]),x(e)&&p(e,(function(t,n){S(t)&&(t={type:t}),e[n]=r(t,cS[t.type])}))},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var a=t[n].get("name");if(this.isSelected(a)){this.select(a),e=!0;break}}!e&&this.select(t[0].get("name"))}},_updateData:function(t){var e=[],n=[];t.eachRawSeries((function(a){var i,r=a.name;if(n.push(r),a.legendVisualProvider){var o=a.legendVisualProvider.getAllNames();t.isSeriesFiltered(a)||(n=n.concat(o)),o.length?e=e.concat(o):i=!0}else i=!0;i&&sa(a)&&e.push(a.name)})),this._availableNames=n;var a=v(this.get("data")||e,(function(t){return("string"==typeof t||"number"==typeof t)&&(t={name:t}),new pr(t,this,this.ecModel)}),this);this._data=a},getData:function(){return this._data},select:function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&p(this._data,(function(t){e[t.get("name")]=!1})),e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},allSelect:function(){var t=this._data,e=this.option.selected;p(t,(function(t){e[t.get("name",!0)]=!0}))},inverseSelect:function(){var t=this._data,e=this.option.selected;p(t,(function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&c(this._availableNames,t)>=0},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});Tl("legendToggleSelect","legendselectchanged",b(ah,"toggleSelected")),Tl("legendAllSelect","legendselectall",b(ah,"allSelect")),Tl("legendInverseSelect","legendinverseselect",b(ah,"inverseSelect")),Tl("legendSelect","legendselected",b(ah,"select")),Tl("legendUnSelect","legendunselected",b(ah,"unSelect"));var hS=b,fS=p,pS=sv,vS=jl({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new pS),this._backgroundEl,this.group.add(this._selectorGroup=new pS),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,n){var a=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var i=t.get("align"),r=t.get("orient");i&&"auto"!==i||(i="right"===t.get("left")&&"vertical"===r?"right":"left");var o=t.get("selector",!0),s=t.get("selectorPosition",!0);!o||s&&"auto"!==s||(s="horizontal"===r?"end":"start"),this.renderInner(i,t,e,n,o,r,s);var u=t.getBoxLayoutParams(),c={width:n.getWidth(),height:n.getHeight()},d=t.get("padding"),h=Jr(u,c,d),f=this.layoutInner(t,i,h,a,o,s),p=Jr(l({width:f.width,height:f.height},u),c,d);this.group.attr("position",[p.x-f.x,p.y-f.y]),this.group.add(this._backgroundEl=ih(f,t))}},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(t,e,n,a,i,r,o){var s=this.getContentGroup(),l=B(),u=e.get("selectedMode"),c=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&c.push(t.id)})),fS(e.getData(),(function(i,r){var o=i.get("name");if(this.newlineDisabled||""!==o&&"\n"!==o){var d=n.getSeriesByName(o)[0];if(!l.get(o)){if(d){var h=d.getData(),f=h.getVisual("color"),p=h.getVisual("borderColor");"function"==typeof f&&(f=f(d.getDataParams(0))),"function"==typeof p&&(p=p(d.getDataParams(0)));var v=h.getVisual("legendSymbol")||"roundRect",g=h.getVisual("symbol");this._createItem(o,r,i,e,v,g,t,f,p,u).on("click",hS(oh,o,null,a,c)).on("mouseover",hS(sh,d.name,null,a,c)).on("mouseout",hS(lh,d.name,null,a,c)),l.set(o,!0)}else n.eachRawSeries((function(n){if(!l.get(o)&&n.legendVisualProvider){var s=n.legendVisualProvider;if(!s.containName(o))return;var d=s.indexOfName(o),h=s.getItemVisual(d,"color"),f=s.getItemVisual(d,"borderColor"),p="roundRect";this._createItem(o,r,i,e,p,null,t,h,f,u).on("click",hS(oh,null,o,a,c)).on("mouseover",hS(sh,null,o,a,c)).on("mouseout",hS(lh,null,o,a,c)),l.set(o,!0)}}),this);Gf&&(l.get(o)||console.warn(o+" series not exists. Legend data should be same with series name or data name."))}}else s.add(new pS({newline:!0}))}),this),i&&this._createSelector(i,e,a,r,o)},_createSelector:function(t,e,n){function a(t){var a=t.type,r=new wm({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===a?"legendAllSelect":"legendInverseSelect"})}});i.add(r);var o=e.getModel("selectorLabel"),s=e.getModel("emphasis.selectorLabel");$i(r.style,r.hoverStyle={},o,s,{defaultText:t.title,isRectText:!1}),Bi(r)}var i=this.getSelectorGroup();fS(t,(function(t){a(t)}))},_createItem:function(t,e,n,a,i,r,o,l,u,c){var d=a.get("itemWidth"),h=a.get("itemHeight"),f=a.get("inactiveColor"),p=a.get("inactiveBorderColor"),v=a.get("symbolKeepAspect"),g=a.getModel("itemStyle"),m=a.isSelected(t),y=new pS,_=n.getModel("textStyle"),b=n.get("icon"),x=n.getModel("tooltip"),w=x.parentModel,S=Qu(i=b||i,0,0,d,h,m?l:f,null==v||v);if(y.add(rh(S,i,g,u,p,m)),!b&&r&&(r!==i||"none"===r)){var I=.8*h;"none"===r&&(r="circle");var C=Qu(r,(d-I)/2,(h-I)/2,I,I,m?l:f,null==v||v);y.add(rh(C,r,g,u,p,m))}var k="left"===o?d+5:-5,T=o,O=a.get("formatter"),D=t;"string"==typeof O&&O?D=O.replace("{name}",null!=t?t:""):"function"==typeof O&&(D=O(t)),y.add(new wm({style:Gi({},_,{text:D,x:k,y:h/2,textFill:m?_.getTextColor():f,textAlign:T,textVerticalAlign:"middle"})}));var M=new Em({shape:y.getBoundingRect(),invisible:!0,tooltip:x.get("show")?s({content:t,formatter:w.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:a.componentIndex,name:t,$vars:["name"]}},x.option):null});return y.add(M),y.eachChild((function(t){t.silent=!0})),M.silent=!c,this.getContentGroup().add(y),Bi(y),y.__legendDataIndex=e,y},layoutInner:function(t,e,n,a,i,r){var o=this.getContentGroup(),s=this.getSelectorGroup();Ty(t.get("orient"),o,t.get("itemGap"),n.width,n.height);var l=o.getBoundingRect(),u=[-l.x,-l.y];if(i){Ty("horizontal",s,t.get("selectorItemGap",!0));var c=s.getBoundingRect(),d=[-c.x,-c.y],h=t.get("selectorButtonGap",!0),f=t.getOrient().index,p=0===f?"width":"height",v=0===f?"height":"width",g=0===f?"y":"x";"end"===r?d[f]+=l[p]+h:u[f]+=c[p]+h,d[1-f]+=l[v]/2-c[v]/2,s.attr("position",d),o.attr("position",u);var m={x:0,y:0};return m[p]=l[p]+h+c[p],m[v]=Math.max(l[v],c[v]),m[g]=Math.min(0,c[g]+d[1-f]),m}return o.attr("position",u),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}}),gS=function(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))};Cl(vb.PROCESSOR.SERIES_FILTER,gS),My.registerSubTypeDefaulter("legend",(function(){return"plain"}));var mS=dS.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,n,a){var i=to(t);mS.superCall(this,"init",t,e,n,a),uh(this,t,i)},mergeOption:function(t,e){mS.superCall(this,"mergeOption",t,e),uh(this,this.option,t)}}),yS=sv,_S=["width","height"],bS=["x","y"],xS=vS.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){xS.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new yS),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new yS),this._showController},resetInner:function(){xS.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,e,n,a,i,r,o){function s(t,n){var i=t+"DataIndex",r=ur(e.get("pageIcons",!0)[e.getOrient().name][n],{onclick:_(l._pageGo,l,i,e,a)},{x:-c[0]/2,y:-c[1]/2,width:c[0],height:c[1]});r.name=t,u.add(r)}var l=this;xS.superCall(this,"renderInner",t,e,n,a,i,r,o);var u=this._controllerGroup,c=e.get("pageIconSize",!0);x(c)||(c=[c,c]),s("pagePrev",0);var d=e.getModel("pageTextStyle");u.add(new wm({name:"pageText",style:{textFill:d.getTextColor(),font:d.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),s("pageNext",1)},layoutInner:function(t,e,n,a,r,o){var s=this.getSelectorGroup(),l=t.getOrient().index,u=_S[l],c=bS[l],d=_S[1-l],h=bS[1-l];r&&Ty("horizontal",s,t.get("selectorItemGap",!0));var f=t.get("selectorButtonGap",!0),p=s.getBoundingRect(),v=[-p.x,-p.y],g=i(n);r&&(g[u]=n[u]-p[u]-f);var m=this._layoutContentAndController(t,a,g,l,u,d,h);if(r){if("end"===o)v[l]+=m[u]+f;else{var y=p[u]+f;v[l]-=y,m[c]-=y}m[u]+=p[u]+f,v[1-l]+=m[h]+m[d]/2-p[d]/2,m[d]=Math.max(m[d],p[d]),m[h]=Math.min(m[h],p[h]+v[1-l]),s.attr("position",v)}return m},_layoutContentAndController:function(t,e,n,a,i,r,o){var s=this.getContentGroup(),l=this._containerGroup,u=this._controllerGroup;Ty(t.get("orient"),s,t.get("itemGap"),a?n.width:null,a?null:n.height),Ty("horizontal",u,t.get("pageButtonItemGap",!0));var c=s.getBoundingRect(),d=u.getBoundingRect(),h=this._showController=c[i]>n[i],f=[-c.x,-c.y];e||(f[a]=s.position[a]);var p=[0,0],v=[-d.x,-d.y],g=M(t.get("pageButtonGap",!0),t.get("itemGap",!0));h&&("end"===t.get("pageButtonPosition",!0)?v[a]+=n[i]-d[i]:p[a]+=d[i]+g),v[1-a]+=c[r]/2-d[r]/2,s.attr("position",f),l.attr("position",p),u.attr("position",v);var m={x:0,y:0};if(m[i]=h?n[i]:c[i],m[r]=Math.max(c[r],d[r]),m[o]=Math.min(0,d[o]+v[1-a]),l.__rectSize=n[i],h){var y={x:0,y:0};y[i]=Math.max(n[i]-d[i]-g,0),y[r]=m[r],l.setClipPath(new Em({shape:y})),l.__rectSize=y[i]}else u.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var _=this._getPageInfo(t);return null!=_.pageIndex&&er(s,{position:_.contentPosition},!!h&&t),this._updatePageInfoView(t,_),m},_pageGo:function(t,e,n){var a=this._getPageInfo(e)[t];null!=a&&n.dispatchAction({type:"legendScroll",scrollDataIndex:a,legendId:e.id})},_updatePageInfoView:function(t,e){var n=this._controllerGroup;p(["pagePrev","pageNext"],(function(a){var i=null!=e[a+"DataIndex"],r=n.childOfName(a);r&&(r.setStyle("fill",i?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),r.cursor=i?"pointer":"default")}));var a=n.childOfName("pageText"),i=t.get("pageFormatter"),r=e.pageIndex,o=null!=r?r+1:0,s=e.pageCount;a&&i&&a.setStyle("text",S(i)?i.replace("{current}",o).replace("{total}",s):i({current:o,total:s}))},_getPageInfo:function(t){function e(t){if(t){var e=t.getBoundingRect(),n=e[l]+t.position[o];return{s:n,e:n+e[s],i:t.__legendDataIndex}}}function n(t,e){return t.e>=e&&t.s<=e+r}var a=t.get("scrollDataIndex",!0),i=this.getContentGroup(),r=this._containerGroup.__rectSize,o=t.getOrient().index,s=_S[o],l=bS[o],u=this._findTargetItemIndex(a),c=i.children(),d=c[u],h=c.length,f=h?1:0,p={contentPosition:i.position.slice(),pageCount:f,pageIndex:f-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!d)return p;var v=e(d);p.contentPosition[o]=-v.s;for(var g=u+1,m=v,y=v,_=null;h>=g;++g)(!(_=e(c[g]))&&y.e>m.s+r||_&&!n(_,m.s))&&(m=y.i>m.i?y:_)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=m.i),++p.pageCount),y=_;for(g=u-1,m=v,y=v,_=null;g>=-1;--g)(_=e(c[g]))&&n(y,_.s)||!(m.i<y.i)||(y=m,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=_;return p},_findTargetItemIndex:function(t){return this._showController?(this.getContentGroup().eachChild((function(a,i){var r=a.__legendDataIndex;null==n&&null!=r&&(n=i),r===t&&(e=i)})),null!=e?e:n):0;var e,n}});Tl("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}));var wS=function(t,e){var n,a=[],i=t.seriesIndex;if(null==i||!(n=e.getSeriesByIndex(i)))return{point:[]};var r=n.getData(),o=ua(r,t);if(null==o||0>o||x(o))return{point:[]};var s=r.getItemGraphicEl(o),l=n.coordinateSystem;if(n.getTooltipPosition)a=n.getTooltipPosition(o)||[];else if(l&&l.dataToPoint)a=l.dataToPoint(r.getValues(v(l.dimensions,(function(t){return r.mapDimension(t)})),o,!0))||[];else if(s){var u=s.getBoundingRect().clone();u.applyTransform(s.transform),a=[u.x+u.width/2,u.y+u.height/2]}return{point:a,el:s}},SS=p,IS=b,CS=ca(),kS=function(t,e,n){var a=t.currTrigger,i=[t.x,t.y],r=t,o=t.dispatchAction||_(n.dispatchAction,n),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){_h(i)&&(i=wS({seriesIndex:r.seriesIndex,dataIndex:r.dataIndex},e).point);var l=_h(i),u=r.axesInfo,c=s.axesInfo,d="leave"===a||_h(i),h={},f={},p={list:[],map:{}},v={showPointer:IS(hh,f),showTooltip:IS(fh,p)};SS(s.coordSysMap,(function(t,e){var n=l||t.containPoint(i);SS(s.coordSysAxesInfo[e],(function(t){var e=t.axis,a=mh(u,t);if(!d&&n&&(!u||a)){var r=a&&a.value;null!=r||l||(r=e.pointToData(i)),null!=r&&ch(t,r,v,!1,h)}}))}));var g={};return SS(c,(function(t,e){var n=t.linkGroup;n&&!f[e]&&SS(n.axesInfo,(function(e,a){var i=f[a];if(e!==t&&i){var r=i.value;n.mapper&&(r=t.axis.scale.parse(n.mapper(r,yh(e),yh(t)))),g[t.key]=r}}))})),SS(g,(function(t,e){ch(c[e],t,v,!0,h)})),ph(f,c,h),vh(p,i,t,o),gh(c,o,n),h}},TS=(El({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}}),ca()),OS=p,DS=jl({type:"axisPointer",render:function(t,e,n){var a=e.getComponent("tooltip"),i=t.get("triggerOn")||a&&a.get("triggerOn")||"mousemove|click";bh("axisPointer",n,(function(t,e,n){"none"!==i&&("leave"===t||i.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},remove:function(t,e){kh(e.getZr(),"axisPointer"),DS.superApply(this._model,"remove",arguments)},dispose:function(t,e){kh("axisPointer",e),DS.superApply(this._model,"dispose",arguments)}}),MS=ca(),PS=i,AS=_;Th.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,n,a){var i=e.get("value"),r=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,a||this._lastValue!==i||this._lastStatus!==r){this._lastValue=i,this._lastStatus=r;var o=this._group,s=this._handle;if(!r||"hide"===r)return o&&o.hide(),void(s&&s.hide());o&&o.show(),s&&s.show();var l={};this.makeElOption(l,i,t,e,n);var u=l.graphicKey;u!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=u;var c=this._moveAnimation=this.determineAnimation(t,e);if(o){var d=b(Oh,e,c);this.updatePointerEl(o,l,d,e),this.updateLabelEl(o,l,d,e)}else o=this._group=new sv,this.createPointerEl(o,l,t,e),this.createLabelEl(o,l,t,e),n.getZr().add(o);Ah(o,e,!0),this._renderHandle(i)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var n=e.get("animation"),a=t.axis,i="category"===a.type,r=e.get("snap");if(!r&&!i)return!1;if("auto"===n||null==n){var o=this.animationThreshold;if(i&&a.getBandWidth()>o)return!0;if(r){var s=pd(t).seriesDataCount,l=a.getExtent();return Math.abs(l[0]-l[1])/s>o}return!1}return!0===n},makeElOption:function(){},createPointerEl:function(t,e){var n=e.pointer;if(n){var a=MS(t).pointerEl=new ry[n.type](PS(e.pointer));t.add(a)}},createLabelEl:function(t,e,n,a){if(e.label){var i=MS(t).labelEl=new Em(PS(e.label));t.add(i),Mh(i,a)}},updatePointerEl:function(t,e,n){var a=MS(t).pointerEl;a&&e.pointer&&(a.setStyle(e.pointer.style),n(a,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,n,a){var i=MS(t).labelEl;i&&(i.setStyle(e.label.style),n(i,{shape:e.label.shape,position:e.label.position}),Mh(i,a))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,a=this._api.getZr(),i=this._handle,r=n.getModel("handle"),o=n.get("status");if(!r.get("show")||!o||"hide"===o)return i&&a.remove(i),void(this._handle=null);this._handle||(e=!0,i=this._handle=ur(r.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Sp(t.event)},onmousedown:AS(this._onHandleDragMove,this,0,0),drift:AS(this._onHandleDragMove,this),ondragend:AS(this._onHandleDragEnd,this)}),a.add(i)),Ah(i,n,!1);var s=["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];i.setStyle(r.getItemStyle(null,s));var l=r.get("size");x(l)||(l=[l,l]),i.attr("scale",[l[0]/2,l[1]/2]),bs(this,"_doDispatchAxisPointer",r.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){Oh(this._axisPointerModel,!e&&this._moveAnimation,this._handle,Ph(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var n=this._handle;if(n){this._dragging=!0;var a=this.updateHandleTransform(Ph(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=a,n.stopAnimation(),n.attr(Ph(a)),MS(n).lastProp=null,this._doDispatchAxisPointer()}},_doDispatchAxisPointer:function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},_onHandleDragEnd:function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,a=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),a&&e.remove(a),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}},Th.prototype.constructor=Th,ya(Th);var LS=Th.extend({makeElOption:function(t,e,n,a,i){var r=n.axis,o=r.grid,s=a.get("type"),l=Fh(o,r).getOtherAxis(r).getGlobalExtent(),u=r.toGlobalCoord(r.dataToCoord(e,!0));if(s&&"none"!==s){var c=Lh(a),d=ES[s](r,u,l);d.style=c,t.graphicKey=d.type,t.pointer=d}Rh(e,t,bd(o.model,n),n,a,i)},getHandleTransform:function(t,e,n){var a=bd(e.axis.grid.model,e,{labelInside:!1});return a.labelMargin=n.get("handle.margin"),{position:Vh(e.axis,t,a),rotation:a.rotation+(a.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,n){var a=n.axis,i=a.grid,r=a.getGlobalExtent(!0),o=Fh(i,a).getOtherAxis(a).getGlobalExtent(),s="x"===a.dim?0:1,l=t.position;l[s]+=e[s],l[s]=Math.min(r[1],l[s]),l[s]=Math.max(r[0],l[s]);var u=(o[1]+o[0])/2,c=[u,u];c[s]=l[s];var d=[{verticalAlign:"middle"},{align:"center"}];return{position:l,rotation:t.rotation,cursorPoint:c,tooltipOption:d[s]}}}),ES={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:Bh([e,n[0]],[e,n[1]],qh(t))}},shadow:function(t,e,n){var a=Math.max(1,t.getBandWidth()),i=n[1]-n[0];return{type:"Rect",shape:zh([e-a/2,n[0]],[a,i],qh(t))}}};Iw.registerAxisPointerClass("CartesianAxisPointer",LS),Il((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!x(e)&&(t.axisPointer.link=[e])}})),Cl(vb.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=sd(t,e)})),Tl({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},kS),El({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var jS=p,NS=Br,VS=["","-webkit-","-moz-","-o-"],RS="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";Wh.prototype={constructor:Wh,_enterable:!0,update:function(t){var e=this._container,n=e.currentStyle||document.defaultView.getComputedStyle(e),a=e.style;"absolute"!==a.position&&"absolute"!==n.position&&(a.position="relative"),t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[2],e=this._styleCoord[3],n=t*this._zr.getWidth(),a=e*this._zr.getHeight();this.moveTo(n,a)},show:function(t){clearTimeout(this._hideTimeout);var e=this.el,n=this._styleCoord;e.style.cssText=RS+Gh(t)+";left:"+n[0]+"px;top:"+n[1]+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var n=this._styleCoord;Hh(n,this._zr,this._appendToBody,t,e);var a=this.el.style;a.left=n[0]+"px",a.top=n[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(_(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var t=this.el.clientWidth,e=this.el.clientHeight;if(document.defaultView&&document.defaultView.getComputedStyle){var n=document.defaultView.getComputedStyle(this.el);n&&(t+=parseInt(n.borderLeftWidth,10)+parseInt(n.borderRightWidth,10),e+=parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10))}return{width:t,height:e}}},Xh.prototype={constructor:Xh,_enterable:!0,update:function(t){t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[2],e=this._styleCoord[3],n=t*this._zr.getWidth(),a=e*this._zr.getHeight();this.moveTo(n,a)},show:function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,n){this.el&&this._zr.remove(this.el);for(var a={},i=t,r="{marker",o="|}",s=i.indexOf(r);s>=0;){var l=i.indexOf(o),u=i.substr(s+r.length,l-s-r.length);a["marker"+u]=u.indexOf("sub")>-1?{textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[u],textOffset:[3,0]}:{textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[u]},s=(i=i.substr(l+1)).indexOf("{marker")}var c=n.getModel("textStyle"),d=c.get("fontSize"),h=n.get("textLineHeight");null==h&&(h=Math.round(3*d/2)),this.el=new wm({style:Gi({},c,{rich:a,text:t,textBackgroundColor:n.get("backgroundColor"),textBorderRadius:n.get("borderRadius"),textFill:n.get("textStyle.color"),textPadding:n.get("padding"),textLineHeight:h}),z:n.get("z")}),this._zr.add(this.el);var f=this;this.el.on("mouseover",(function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0})),this.el.on("mouseout",(function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1}))},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){if(this.el){var n=this._styleCoord;Uh(n,this._zr,t,e),this.el.attr("position",[n[0],n[1]])}},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(_(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};var BS=_,zS=p,FS=wr,qS=new Em({shape:{x:-1,y:-1,width:2,height:2}});jl({type:"tooltip",init:function(t,e){if(!Uf.node){var n,a=t.getComponent("tooltip"),i=a.get("renderMode");this._renderMode=va(i),"html"===this._renderMode?(n=new Wh(e.getDom(),e,{appendToBody:a.get("appendToBody",!0)}),this._newLine="<br/>"):(n=new Xh(e),this._newLine="\n"),this._tooltipContent=n}},render:function(t,e,n){if(!Uf.node){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent");var a=this._tooltipContent;a.update(t),a.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow()}},_initGlobalListener:function(){var t=this._tooltipModel.get("triggerOn");bh("itemTooltip",this._api,BS((function(e,n,a){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,a):"leave"===e&&this._hide(a))}),this))},_keepShow:function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var a=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&a.manuallyShowTip(t,e,n,{x:a._lastX,y:a._lastY})}))}},manuallyShowTip:function(t,e,n,a){if(a.from!==this.uid&&!Uf.node){var i=Jh(a,n);this._ticket="";var r=a.dataByCoordSys;if(a.tooltip&&null!=a.x&&null!=a.y){var o=qS;o.position=[a.x,a.y],o.update(),o.tooltip=a.tooltip,this._tryShow({offsetX:a.x,offsetY:a.y,target:o},i)}else if(r)this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,dataByCoordSys:a.dataByCoordSys,tooltipOption:a.tooltipOption},i);else if(null!=a.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,a))return;var s=wS(a,e),l=s.point[0],u=s.point[1];null!=l&&null!=u&&this._tryShow({offsetX:l,offsetY:u,position:a.position,target:s.el},i)}else null!=a.x&&null!=a.y&&(n.dispatchAction({type:"updateAxisPointer",x:a.x,y:a.y}),this._tryShow({offsetX:a.x,offsetY:a.y,position:a.position,target:n.getZr().findHover(a.x,a.y).target},i))}},manuallyHideTip:function(t,e,n,a){var i=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&i.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,a.from!==this.uid&&this._hide(Jh(a,n))},_manuallyAxisShowTip:function(t,e,n,a){var i=a.seriesIndex,r=a.dataIndex,o=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=i&&null!=r&&null!=o){var s=e.getSeriesByIndex(i);if(s&&"axis"===(t=Yh([s.getData().getItemModel(r),s,(s.coordinateSystem||{}).model,t])).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:i,dataIndex:r,position:a.position}),!0}},_tryShow:function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var a=t.dataByCoordSys;a&&a.length?this._showAxisTooltip(a,t):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e))}},_showOrMove:function(t,e){var n=t.get("showDelay");e=_(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},_showAxisTooltip:function(t,e){var n=this._ecModel,a=this._tooltipModel,i=[e.offsetX,e.offsetY],o=[],s=[],l=Yh([e.tooltipOption,a]),u=this._renderMode,c=this._newLine,d={};zS(t,(function(t){zS(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),a=t.value,i=[];if(e&&null!=a){var l=Nh(a,e.axis,n,t.seriesDataIndices,t.valueLabelOpt);p(t.seriesDataIndices,(function(o){var c=n.getSeriesByIndex(o.seriesIndex),h=o.dataIndexInside,f=c&&c.getDataParams(h);if(f.axisDim=t.axisDim,f.axisIndex=t.axisIndex,f.axisType=t.axisType,f.axisId=t.axisId,f.axisValue=Wu(e.axis,a),f.axisValueLabel=l,f){s.push(f);var p,v=c.formatTooltip(h,!0,null,u);if(I(v)){p=v.html;var g=v.markers;r(d,g)}else p=v;i.push(p)}}));var h=l;o.push("html"!==u?i.join(c):(h?zr(h)+c:"")+i.join(c))}}))}),this),o.reverse(),o=o.join(this._newLine+this._newLine);var h=e.position;this._showOrMove(l,(function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(l,h,i[0],i[1],this._tooltipContent,s):this._showTooltipContent(l,o,s,Math.random(),i[0],i[1],h,void 0,d)}))},_showSeriesItemTooltip:function(t,e,n){var a=this._ecModel,i=e.seriesIndex,r=a.getSeriesByIndex(i),o=e.dataModel||r,s=e.dataIndex,l=e.dataType,u=o.getData(l),c=Yh([u.getItemModel(s),o,r&&(r.coordinateSystem||{}).model,this._tooltipModel]),d=c.get("trigger");if(null==d||"item"===d){var h,f,p=o.getDataParams(s,l),v=o.formatTooltip(s,!1,l,this._renderMode);I(v)?(h=v.html,f=v.markers):(h=v,f=null);var g="item_"+o.name+"_"+s;this._showOrMove(c,(function(){this._showTooltipContent(c,h,p,g,t.offsetX,t.offsetY,t.position,t.target,f)})),n({type:"showTip",dataIndexInside:s,dataIndex:u.getRawIndex(s),seriesIndex:i,from:this.uid})}},_showComponentItemTooltip:function(t,e,n){var a=e.tooltip;"string"==typeof a&&(a={content:a,formatter:a});var i=new pr(a,this._tooltipModel,this._ecModel),r=i.get("content"),o=Math.random();this._showOrMove(i,(function(){this._showTooltipContent(i,r,i.get("formatterParams")||{},o,t.offsetX,t.offsetY,t.position,e)})),n({type:"showTip",from:this.uid})},_showTooltipContent:function(t,e,n,a,i,r,o,s,l){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent,c=t.get("formatter");o=o||t.get("position");var d=e;if(c&&"string"==typeof c)d=Fr(c,n,!0);else if("function"==typeof c){var h=BS((function(e,a){e===this._ticket&&(u.setContent(a,l,t),this._updatePosition(t,o,i,r,u,n,s))}),this);this._ticket=a,d=c(n,a,h)}u.setContent(d,l,t),u.show(t),this._updatePosition(t,o,i,r,u,n,s)}},_updatePosition:function(t,e,n,a,i,r,o){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var u=i.getSize(),c=t.get("align"),d=t.get("verticalAlign"),h=o&&o.getBoundingRect().clone();if(o&&h.applyTransform(o.transform),"function"==typeof e&&(e=e([n,a],r,i.el,h,{viewSize:[s,l],contentSize:u.slice()})),x(e))n=FS(e[0],s),a=FS(e[1],l);else if(I(e)){e.width=u[0],e.height=u[1];var f=Jr(e,{width:s,height:l});n=f.x,a=f.y,c=null,d=null}else if("string"==typeof e&&o)n=(p=tf(e,h,u))[0],a=p[1];else{var p;n=(p=Kh(n,a,i,s,l,c?null:20,d?null:20))[0],a=p[1]}c&&(n-=ef(c)?u[0]/2:"right"===c?u[0]:0),d&&(a-=ef(d)?u[1]/2:"bottom"===d?u[1]:0),t.get("confine")&&(n=(p=Qh(n,a,i,s,l))[0],a=p[1]),i.moveTo(n,a)},_updateContentNotChangedOnAxis:function(t){var e=this._lastDataByCoordSys,n=!!e&&e.length===t.length;return n&&zS(e,(function(e,a){var i=e.dataByAxis||{},r=(t[a]||{}).dataByAxis||[];(n&=i.length===r.length)&&zS(i,(function(t,e){var a=r[e]||{},i=t.seriesDataIndices||[],o=a.seriesDataIndices||[];(n&=t.value===a.value&&t.axisType===a.axisType&&t.axisId===a.axisId&&i.length===o.length)&&zS(i,(function(t,e){var a=o[e];n&=t.seriesIndex===a.seriesIndex&&t.dataIndex===a.dataIndex}))}))})),this._lastDataByCoordSys=t,!!n},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){Uf.node||(this._tooltipContent.dispose(),kh("itemTooltip",e))}}),Tl({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},(function(){})),Tl({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},(function(){})),My.registerSubTypeDefaulter("dataZoom",(function(){return"slider"}));var $S=["cartesian2d","polar","singleAxis"],ZS=af(["x","y","z","radius","angle","single"],["axisIndex","axis","index","id"]),GS=function(t,e,n,a,i,r){t=t||0;var o=n[1]-n[0];if(null!=i&&(i=sf(i,[0,o])),null!=r&&(r=Math.max(r,null!=i?i:0)),"all"===a){var s=Math.abs(e[1]-e[0]);s=sf(s,[0,o]),i=r=sf(s,[i,r]),a=0}e[0]=sf(e[0],n),e[1]=sf(e[1],n);var l=of(e,a);e[a]+=t;var u=i||0,c=n.slice();l.sign<0?c[0]+=u:c[1]-=u,e[a]=sf(e[a],c);var d=of(e,a);return null!=i&&(d.sign!==l.sign||d.span<i)&&(e[1-a]=e[a]+l.sign*i),d=of(e,a),null!=r&&d.span>r&&(e[1-a]=e[a]+d.sign*r),e},HS=p,WS=Ir,US=function(t,e,n,a){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=a,this._dataZoomModel=n};US.prototype={constructor:US,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var t=[],e=this.ecModel;return e.eachSeries((function(n){if(nf(n.get("coordinateSystem"))){var a=this._dimName,i=e.queryComponents({mainType:a+"Axis",index:n.get(a+"AxisIndex"),id:n.get(a+"AxisId")})[0];this._axisIndex===(i&&i.componentIndex)&&t.push(n)}}),this),t},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var t,e,n,a=this._dimName,i=this.ecModel,r=this.getAxisModel();return"x"===a||"y"===a?(e="gridIndex",t="x"===a?"y":"x"):(e="polarIndex",t="angle"===a?"radius":"angle"),i.eachComponent(t+"Axis",(function(t){(t.get(e)||0)===(r.get(e)||0)&&(n=t)})),n},getMinMaxSpan:function(){return i(this._minMaxSpan)},calculateDataWindow:function(t){function e(t,e,n,a,r){var o=r?"Span":"ValueSpan";GS(0,t,n,"all",u["min"+o],u["max"+o]);for(var s=0;2>s;s++)e[s]=xr(t[s],n,a,!0),r&&(e[s]=i.parse(e[s]))}var n,a=this._dataExtent,i=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),o=[0,100],s=[],l=[];HS(["start","end"],(function(e,u){var c=t[e],d=t[e+"Value"];"percent"===r[u]?(null==c&&(c=o[u]),d=i.parse(xr(c,o,a))):(n=!0,c=xr(d=null==d?a[u]:i.parse(d),a,o)),l[u]=d,s[u]=c})),WS(l),WS(s);var u=this._minMaxSpan;return n?e(l,s,a,o,!1):e(s,l,o,a,!0),{valueWindow:l,percentWindow:s}},reset:function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=lf(this,this._dimName,e),df(this);var n=this.calculateDataWindow(t.settledOption);this._valueWindow=n.valueWindow,this._percentWindow=n.percentWindow,cf(this)}},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,cf(this,!0))},filterData:function(t){function e(t){return t>=r[0]&&t<=r[1]}if(t===this._dataZoomModel){var n=this._dimName,a=this.getTargetSeriesModels(),i=t.get("filterMode"),r=this._valueWindow;"none"!==i&&HS(a,(function(t){var a=t.getData(),o=a.mapDimension(n,!0);o.length&&("weakFilter"===i?a.filterSelf((function(t){for(var e,n,i,s=0;s<o.length;s++){var l=a.get(o[s],t),u=!isNaN(l),c=l<r[0],d=l>r[1];if(u&&!c&&!d)return!0;u&&(i=!0),c&&(e=!0),d&&(n=!0)}return i&&e&&n})):HS(o,(function(n){if("empty"===i)t.setData(a=a.map(n,(function(t){return e(t)?t:NaN})));else{var o={};o[n]=r,a.selectRange(o)}})),HS(o,(function(t){a.setApproximateExtent(r,t)})))}))}}};var XS=p,YS=ZS,JS=El({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,n){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var a=hf(t);this.settledOption=a,this.mergeDefaultAndTheme(t,n),this.doInit(a)},mergeOption:function(t){var e=hf(t);r(this.option,t,!0),r(this.settledOption,e,!0),this.doInit(e)},doInit:function(t){var e=this.option;Uf.canvasSupported||(e.realtime=!1),this._setDefaultThrottle(t),ff(this,t);var n=this.settledOption;XS([["start","startValue"],["end","endValue"]],(function(t,a){"value"===this._rangePropMode[a]&&(e[t[0]]=n[t[0]]=null)}),this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var t=this._axisProxies;this.eachTargetAxis((function(e,n,a,i){var r=this.dependentModels[e.axis][n],o=r.__dzAxisProxy||(r.__dzAxisProxy=new US(e.name,n,this,i));t[e.name+"_"+n]=o}),this)},_resetTarget:function(){var t=this.option,e=this._judgeAutoMode();YS((function(e){var n=e.axisIndex;t[n]=ea(t[n])}),this),"axisIndex"===e?this._autoSetAxisIndex():"orient"===e&&this._autoSetOrient()},_judgeAutoMode:function(){var t=this.option,e=!1;YS((function(n){null!=t[n.axisIndex]&&(e=!0)}),this);var n=t.orient;return null==n&&e?"orient":e?void 0:(null==n&&(t.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t=!0,e=this.get("orient",!0),n=this.option,a=this.dependentModels;if(t){var i="vertical"===e?"y":"x";a[i+"Axis"].length?(n[i+"AxisIndex"]=[0],t=!1):XS(a.singleAxis,(function(a){t&&a.get("orient",!0)===e&&(n.singleAxisIndex=[a.componentIndex],t=!1)}))}t&&YS((function(e){if(t){var a=[],i=this.dependentModels[e.axis];if(i.length&&!a.length)for(var r=0,o=i.length;o>r;r++)"category"===i[r].get("type")&&a.push(r);n[e.axisIndex]=a,a.length&&(t=!1)}}),this),t&&this.ecModel.eachSeries((function(t){this._isSeriesHasAllAxesTypeOf(t,"value")&&YS((function(e){var a=n[e.axisIndex],i=t.get(e.axisIndex),r=t.get(e.axisId),o=t.ecModel.queryComponents({mainType:e.axis,index:i,id:r})[0];if(Gf&&!o)throw new Error(e.axis+' "'+D(i,r,0)+'" not found');c(a,i=o.componentIndex)<0&&a.push(i)}))}),this)},_autoSetOrient:function(){var t;this.eachTargetAxis((function(e){!t&&(t=e.name)}),this),this.option.orient="y"===t?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(t,e){var n=!0;return YS((function(a){var i=t.get(a.axisIndex),r=this.dependentModels[a.axis][i];r&&r.get("type")===e||(n=!1)}),this),n},_setDefaultThrottle:function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var e=this.ecModel.option;this.option.throttle=e.animation&&e.animationDurationUpdate>0?100:20}},getFirstTargetAxisModel:function(){var t;return YS((function(e){if(null==t){var n=this.get(e.axisIndex);n.length&&(t=this.dependentModels[e.axis][n[0]])}}),this),t},eachTargetAxis:function(t,e){var n=this.ecModel;YS((function(a){XS(this.get(a.axisIndex),(function(i){t.call(e,a,i,this,n)}),this)}),this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){var n=this.getAxisProxy(t,e);return n&&n.getAxisModel()},setRawRange:function(t){var e=this.option,n=this.settledOption;XS([["start","startValue"],["end","endValue"]],(function(a){(null!=t[a[0]]||null!=t[a[1]])&&(e[a[0]]=n[a[0]]=t[a[0]],e[a[1]]=n[a[1]]=t[a[1]])}),this),ff(this,t)},setCalculatedRange:function(t){var e=this.option;XS(["start","startValue","end","endValue"],(function(n){e[n]=t[n]}))},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();return t?t.getDataPercentWindow():void 0},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();var n=this.findRepresentativeAxisProxy();return n?n.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e=this._axisProxies;for(var n in e)if(e.hasOwnProperty(n)&&e[n].hostedBy(this))return e[n];for(var n in e)if(e.hasOwnProperty(n)&&!e[n].hostedBy(this))return e[n]},getRangePropMode:function(){return this._rangePropMode.slice()}}),KS=y_.extend({type:"dataZoom",render:function(t,e,n){this.dataZoomModel=t,this.ecModel=e,this.api=n},getTargetCoordInfo:function(){function t(t,e,n,a){for(var i,r=0;r<n.length;r++)if(n[r].model===t){i=n[r];break}i||n.push(i={model:t,axisModels:[],coordIndex:a}),i.axisModels.push(e)}var e=this.dataZoomModel,n=this.ecModel,a={};return e.eachTargetAxis((function(e,i){var r=n.getComponent(e.axis,i);if(r){var o=r.getCoordSysModel();o&&t(o,r,a[o.mainType]||(a[o.mainType]=[]),o.componentIndex)}}),this),a}}),QS=(JS.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),Em),tI=xr,eI=Ir,nI=_,aI=p,iI=7,rI=1,oI=30,sI="horizontal",lI="vertical",uI=5,cI=["line","bar","candlestick","scatter"],dI=KS.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,n,a){return dI.superApply(this,"render",arguments),bs(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1===this.dataZoomModel.get("show")?void this.group.removeAll():(a&&"dataZoom"===a.type&&a.from===this.uid||this._buildView(),void this._updateView())},remove:function(){dI.superApply(this,"remove",arguments),xs(this,"_dispatchZoomAction")},dispose:function(){dI.superApply(this,"dispose",arguments),xs(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new sv;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,n=this._findCoordRect(),a={width:e.getWidth(),height:e.getHeight()},i=this._orient===sI?{right:a.width-n.x-n.width,top:a.height-oI-iI,width:n.width,height:oI}:{right:iI,top:n.y,width:oI,height:n.height},r=to(t.option);p(["right","top","width","height"],(function(t){"ph"===r[t]&&(r[t]=i[t])}));var o=Jr(r,a,t.padding);this._location={x:o.x,y:o.y},this._size=[o.width,o.height],this._orient===lI&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,n=this._orient,a=this.dataZoomModel.getFirstTargetAxisModel(),i=a&&a.get("inverse"),r=this._displayables.barGroup,o=(this._dataShadowInfo||{}).otherAxisInverse;r.attr(n!==sI||i?n===sI&&i?{scale:o?[-1,1]:[-1,-1]}:n!==lI||i?{scale:o?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:o?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:o?[1,1]:[1,-1]});var s=t.getBoundingRect([r]);t.attr("position",[e.x-s.x,e.y-s.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,n=this._displayables.barGroup;n.add(new QS({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),n.add(new QS({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:_(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t=this._dataShadowInfo=this._prepareDataShadowInfo();if(t){var e=this._size,n=t.series,a=n.getRawData(),i=n.getShadowDim?n.getShadowDim():t.otherDim;if(null!=i){var r=a.getDataExtent(i),o=.3*(r[1]-r[0]);r=[r[0]-o,r[1]+o];var s,u=[0,e[1]],c=[0,e[0]],d=[[e[0],0],[0,0]],h=[],f=c[1]/(a.count()-1),p=0,v=Math.round(a.count()/e[0]);a.each([i],(function(t,e){if(v>0&&e%v)p+=f;else{var n=null==t||isNaN(t)||""===t,a=n?0:tI(t,r,u,!0);n&&!s&&e?(d.push([d[d.length-1][0],0]),h.push([h[h.length-1][0],0])):!n&&s&&(d.push([p,0]),h.push([p,0])),d.push([p,a]),h.push([p,a]),p+=f,s=n}}));var g=this.dataZoomModel;this._displayables.barGroup.add(new Mm({shape:{points:d},style:l({fill:g.get("dataBackgroundColor")},g.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new Pm({shape:{points:h},style:g.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))}}},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,e=t.get("showDataShadow");if(!1!==e){var n,a=this.ecModel;return t.eachTargetAxis((function(i,r){p(t.getAxisProxy(i.name,r).getTargetSeriesModels(),(function(t){if(!(n||!0!==e&&c(cI,t.get("type"))<0)){var o,s=a.getComponent(i.axis,r).axis,l=pf(i.name),u=t.coordinateSystem;null!=l&&u.getOtherAxis&&(o=u.getOtherAxis(s).inverse),l=t.getData().mapDimension(l),n={thisAxis:s,series:t,thisDim:i.name,otherDim:l,otherAxisInverse:o}}}),this)}),this),n}},_renderHandle:function(){var t=this._displayables,e=t.handles=[],n=t.handleLabels=[],a=this._displayables.barGroup,i=this._size,r=this.dataZoomModel;a.add(t.filler=new QS({draggable:!0,cursor:vf(this._orient),drift:nI(this._onDragMove,this,"all"),ondragstart:nI(this._showDataInfo,this,!0),ondragend:nI(this._onDragEnd,this),onmouseover:nI(this._showDataInfo,this,!0),onmouseout:nI(this._showDataInfo,this,!1),style:{fill:r.get("fillerColor"),textPosition:"inside"}})),a.add(new QS({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:rI,fill:"rgba(0,0,0,0)"}})),aI([0,1],(function(t){var i=ur(r.get("handleIcon"),{cursor:vf(this._orient),draggable:!0,drift:nI(this._onDragMove,this,t),ondragend:nI(this._onDragEnd,this),onmouseover:nI(this._showDataInfo,this,!0),onmouseout:nI(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),o=i.getBoundingRect();this._handleHeight=wr(r.get("handleSize"),this._size[1]),this._handleWidth=o.width/o.height*this._handleHeight,i.setStyle(r.getModel("handleStyle").getItemStyle());var s=r.get("handleColor");null!=s&&(i.style.fill=s),a.add(e[t]=i);var l=r.textStyleModel;this.group.add(n[t]=new wm({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:l.getTextColor(),textFont:l.getFont()},z2:10}))}),this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[tI(t[0],[0,100],e,!0),tI(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var n=this.dataZoomModel,a=this._handleEnds,i=this._getViewExtent(),r=n.findRepresentativeAxisProxy().getMinMaxSpan(),o=[0,100];GS(e,a,i,n.get("zoomLock")?"all":t,null!=r.minSpan?tI(r.minSpan,o,i,!0):null,null!=r.maxSpan?tI(r.maxSpan,o,i,!0):null);var s=this._range,l=this._range=eI([tI(a[0],i,o,!0),tI(a[1],i,o,!0)]);return!s||s[0]!==l[0]||s[1]!==l[1]},_updateView:function(t){var e=this._displayables,n=this._handleEnds,a=eI(n.slice()),i=this._size;aI([0,1],(function(t){var a=e.handles[t],r=this._handleHeight;a.attr({scale:[r/2,r/2],position:[n[t],i[1]/2-r/2]})}),this),e.filler.setShape({x:a[0],y:0,width:a[1]-a[0],height:i[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){function e(t){var e=ar(a.handles[t].parent,this.group),n=rr(0===t?"right":"left",e),s=this._handleWidth/2+uI,l=ir([d[t]+(0===t?-s:s),this._size[1]/2],e);i[t].setStyle({x:l[0],y:l[1],textVerticalAlign:r===sI?"middle":n,textAlign:r===sI?n:"center",text:o[t]})}var n=this.dataZoomModel,a=this._displayables,i=a.handleLabels,r=this._orient,o=["",""];if(n.get("showDetail")){var s=n.findRepresentativeAxisProxy();if(s){var l=s.getAxisModel().axis,u=this._range,c=t?s.calculateDataWindow({start:u[0],end:u[1]}).valueWindow:s.getDataValueWindow();o=[this._formatLabel(c[0],l),this._formatLabel(c[1],l)]}}var d=eI(this._handleEnds.slice());e.call(this,0),e.call(this,1)},_formatLabel:function(t,e){var n=this.dataZoomModel,a=n.get("labelFormatter"),i=n.get("labelPrecision");(null==i||"auto"===i)&&(i=e.getPixelPrecision());var r=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(i,20));return w(a)?a(t,r):S(a)?a.replace("{value}",r):r},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,n,a){this._dragging=!0,Sp(a.event);var i=ir([e,n],this._displayables.barGroup.getLocalTransform(),!0),r=this._updateInterval(t,i[0]),o=this.dataZoomModel.get("realtime");this._updateView(!o),r&&o&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,n=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);if(!(n[0]<0||n[0]>e[0]||n[1]<0||n[1]>e[1])){var a=this._handleEnds,i=(a[0]+a[1])/2,r=this._updateInterval("all",n[0]-i);this._updateView(),r&&this._dispatchZoomAction()}},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t;if(aI(this.getTargetCoordInfo(),(function(e){if(!t&&e.length){var n=e[0].model.coordinateSystem;t=n.getRect&&n.getRect()}})),!t){var e=this.api.getWidth(),n=this.api.getHeight();t={x:.2*e,y:.2*n,width:.6*e,height:.6*n}}return t}});Cl({getTargetSeries:function(t){var e=B();return t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(t,n,a){p(a.getAxisProxy(t.name,n).getTargetSeriesModels(),(function(t){e.set(t.uid,t)}))}))})),e},modifyOutputEnd:!0,overallReset:function(t,e){t.eachComponent("dataZoom",(function(t){t.eachTargetAxis((function(t,n,a){a.getAxisProxy(t.name,n).reset(a,e)})),t.eachTargetAxis((function(t,n,a){a.getAxisProxy(t.name,n).filterData(a,e)}))})),t.eachComponent("dataZoom",(function(t){var e=t.findRepresentativeAxisProxy(),n=e.getDataPercentWindow(),a=e.getDataValueWindow();t.setCalculatedRange({start:n[0],end:n[1],startValue:a[0],endValue:a[1]})}))}}),Tl("dataZoom",(function(t,e){var n=rf(_(e.eachComponent,e,"dataZoom"),ZS,(function(t,e){return t.get(e.axisIndex)})),a=[];e.eachComponent({mainType:"dataZoom",query:t},(function(t){a.push.apply(a,n(t).nodes)})),p(a,(function(e){e.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})}))})),JS.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var hI="\0_ec_interaction_mutex";Tl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},(function(){})),h(yf,gp);var fI="\0_ec_dataZoom_roams",pI=_,vI=KS.extend({type:"dataZoom.inside",init:function(){this._range},render:function(t,e,n){vI.superApply(this,"render",arguments),this._range=t.getPercentRange(),p(this.getTargetCoordInfo(),(function(e,a){var i=v(e,(function(t){return Df(t.model)}));p(e,(function(e){var r=e.model,o={};p(["pan","zoom","scrollMove"],(function(t){o[t]=pI(gI[t],this,e,a)}),this),Tf(n,{coordId:Df(r),allCoordIds:i,containsPoint:function(t,e,n){return r.coordinateSystem.containPoint([e,n])},dataZoomId:t.id,dataZoomModel:t,getRange:o})}),this)}),this)},dispose:function(){Of(this.api,this.dataZoomModel.id),vI.superApply(this,"dispose",arguments),this._range=null}}),gI={zoom:function(t,e,n,a){var i=this._range,r=i.slice(),o=t.axisModels[0];if(o){var s=mI[e](null,[a.originX,a.originY],o,n,t),l=(s.signal>0?s.pixelStart+s.pixelLength-s.pixel:s.pixel-s.pixelStart)/s.pixelLength*(r[1]-r[0])+r[0],u=Math.max(1/a.scale,0);r[0]=(r[0]-l)*u+l,r[1]=(r[1]-l)*u+l;var c=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return GS(0,r,[0,100],0,c.minSpan,c.maxSpan),this._range=r,i[0]!==r[0]||i[1]!==r[1]?r:void 0}},pan:jf((function(t,e,n,a,i,r){var o=mI[a]([r.oldX,r.oldY],[r.newX,r.newY],e,i,n);return o.signal*(t[1]-t[0])*o.pixel/o.pixelLength})),scrollMove:jf((function(t,e,n,a,i,r){return mI[a]([0,0],[r.scrollDelta,r.scrollDelta],e,i,n).signal*(t[1]-t[0])*r.scrollDelta}))},mI={grid:function(t,e,n,a,i){var r=n.axis,o={},s=i.model.coordinateSystem.getRect();return t=t||[0,0],"x"===r.dim?(o.pixel=e[0]-t[0],o.pixelLength=s.width,o.pixelStart=s.x,o.signal=r.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=s.height,o.pixelStart=s.y,o.signal=r.inverse?-1:1),o},polar:function(t,e,n,a,i){var r=n.axis,o={},s=i.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),u=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===n.mainType?(o.pixel=e[0]-t[0],o.pixelLength=l[1]-l[0],o.pixelStart=l[0],o.signal=r.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=u[1]-u[0],o.pixelStart=u[0],o.signal=r.inverse?-1:1),o},singleAxis:function(t,e,n,a,i){var r=n.axis,o=i.model.coordinateSystem.getRect(),s={};return t=t||[0,0],"horizontal"===r.orient?(s.pixel=e[0]-t[0],s.pixelLength=o.width,s.pixelStart=o.x,s.signal=r.inverse?1:-1):(s.pixel=e[1]-t[1],s.pixelLength=o.height,s.pixelStart=o.y,s.signal=r.inverse?-1:1),s}},yI={path:null,compoundPath:null,group:sv,image:Dn,text:wm};Il((function(t){var e=t.graphic;x(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])}));var _I=El({type:"graphic",defaultOption:{elements:[],parentId:null},_elOptionsToUpdate:null,mergeOption:function(){var t=this.option.elements;this.option.elements=null,_I.superApply(this,"mergeOption",arguments),this.option.elements=t},optionUpdated:function(t,e){var n=this.option,a=(e?n:t).elements,i=n.elements=e?[]:n.elements,r=[];this._flatten(a,r);var o=ra(i,r);oa(o);var s=this._elOptionsToUpdate=[];p(o,(function(t,e){var n=t.option;Gf&&E(I(n)||t.exist,"Empty graphic option definition"),n&&(s.push(n),zf(t,n),Ff(i,e,n),qf(i[e],n))}),this);for(var l=i.length-1;l>=0;l--)null==i[l]?i.splice(l,1):delete i[l].$action},_flatten:function(t,e,n){p(t,(function(t){if(t){n&&(t.parentOption=n),e.push(t);var a=t.children;"group"===t.type&&a&&this._flatten(a,e,t),delete t.children}}),this)},useElOptionsToUpdate:function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t}});jl({type:"graphic",init:function(){this._elMap=B(),this._lastGraphicModel},render:function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},_updateElements:function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,a=this.group;p(e,(function(e){var i=e.$action,r=e.id,o=n.get(r),s=e.parentId,l=null!=s?n.get(s):a,u=e.style;"text"===e.type&&u&&(e.hv&&e.hv[1]&&(u.textVerticalAlign=u.textBaseline=null),!u.hasOwnProperty("textFill")&&u.fill&&(u.textFill=u.fill),!u.hasOwnProperty("textStroke")&&u.stroke&&(u.textStroke=u.stroke));var c=Rf(e);Gf&&o&&E(l===o.parent,"Changing parent is not supported."),i&&"merge"!==i?"replace"===i?(Vf(o,n),Nf(r,l,c,n)):"remove"===i&&Vf(o,n):o?o.attr(c):Nf(r,l,c,n);var d=n.get(r);d&&(d.__ecGraphicWidthOption=e.width,d.__ecGraphicHeightOption=e.height,$f(d,t,e))}))}},_relocate:function(t,e){for(var n=t.option.elements,a=this.group,i=this._elMap,r=e.getWidth(),o=e.getHeight(),s=0;s<n.length;s++){var l=n[s];if((c=i.get(l.id))&&c.isGroup){var u=(d=c.parent)===a;c.__ecGraphicWidth=wr(c.__ecGraphicWidthOption,u?r:d.__ecGraphicWidth)||0,c.__ecGraphicHeight=wr(c.__ecGraphicHeightOption,u?o:d.__ecGraphicHeight)||0}}for(s=n.length-1;s>=0;s--){var c,d;l=n[s],(c=i.get(l.id))&&Kr(c,l,(d=c.parent)===a?{width:r,height:o}:{width:d.__ecGraphicWidth,height:d.__ecGraphicHeight},null,{hv:l.hv,boundingMode:l.bounding})}},_clear:function(){var t=this._elMap;t.each((function(e){Vf(e,t)})),this._elMap=B()},dispose:function(){this._clear()}}),t.version=sb,t.dependencies=lb,t.PRIORITY=vb,t.init=ml,t.connect=yl,t.disConnect=_l,t.disconnect=jb,t.dispose=bl,t.getInstanceByDom=xl,t.getInstanceById=wl,t.registerTheme=Sl,t.registerPreprocessor=Il,t.registerProcessor=Cl,t.registerPostUpdate=kl,t.registerAction=Tl,t.registerCoordinateSystem=Ol,t.getCoordinateSystemDimensions=Dl,t.registerLayout=Ml,t.registerVisual=Pl,t.registerLoading=Ll,t.extendComponentModel=El,t.extendComponentView=jl,t.extendSeriesModel=Nl,t.extendChartView=Vl,t.setCanvasCreator=Rl,t.registerMap=Bl,t.getMap=zl,t.dataTool=Nb,t.zrender=rg,t.number=gy,t.format=Sy,t.throttle=_s,t.helper=Rx,t.matrix=Mp,t.vector=pp,t.color=Xp,t.parseGeoJSON=zx,t.parseGeoJson=Zx,t.util=Gx,t.graphic=Hx,t.List=Ub,t.Model=pr,t.Axis=$x,t.env=Uf}(e)},61027:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(52829)),r=a(n(23692)),o={name:"",components:{Task:i.default,Step:r.default},props:{type:{type:String,required:!0},data:{type:Object,default:function(){return{}}}},data:()=>({titleMaxWidth:100,offsetRight:"unset",initialStatusWidth:0}),computed:{themeCom(){var t={task:i.default,step:r.default};return Object.prototype.hasOwnProperty.call(t,this.type)?t[this.type]:"div"}},mounted(){var t=this,e=document.querySelector("#sitePageTitle").getBoundingClientRect().width,n=document.querySelector("#siteHeaderStatusBar");n.appendChild(this.$el);var a=n.getBoundingClientRect().width;this.initialStatusWidth||(this.initialStatusWidth=a);var i=e-a-40;this.titleMaxWidth=i<100?100:i,this.$once("hook:beforeDestroy",(function(){if(t.$el)try{n.removeChild(t.$el)}catch(t){}}))}};e.Z=o},60894:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(85376),n(41336),n(91981),n(63898),n(14309);var i=a(n(56762)),r=a(n(34976)),o=a(n(28033)),s=a(n(9202)),l=a(n(89888)),u={name:"",components:{GlobalVariableLayout:o.default,GlobalVariable:s.default,Empty:l.default},props:{id:{type:[Number,String],default:0}},data:()=>({isLoading:!1,taskVariables:[{},{},{}]}),computed:{isShowVar(){return this.taskVariables.length>0}},watch:{id:{handler(t){t&&this.fetchTaskVariables(t)},immediate:!0}},methods:{fetchTaskVariables(t){var e=this;this.$request(i.default.fetchStepInstanceParam({id:t}),(function(){e.isLoading=!0})).then((function(t){e.taskVariables=Object.freeze(t.map((function(t){var e=t.id,n=t.name,a=t.type,i=t.value,o=t.targetValue;return{id:e,name:n,type:a,defaultValue:i,defaultTargetValue:new r.default(o||{})}})))})).finally((function(){e.isLoading=!1}))}}};e.Z=u},84863:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(85376),n(41336),n(91981),n(63898),n(75328);var i=a(n(56762)),r={name:"",components:{Empty:a(n(89888)).default},props:{id:{type:[Number,String],default:0},from:{type:String,default:""}},data:()=>({isLoading:!0,data:[{},{},{}]}),created(){this.fetchTaskOperationLog()},methods:{fetchTaskOperationLog(t){var e=this;this.$request(i.default.fetchTaskOperationLog({id:this.id}),(function(){e.isLoading=!0})).then((function(t){e.data=t})).finally((function(){e.isLoading=!1}))},handleView(t){var e={name:"historyStep",params:{taskInstanceId:t.taskInstanceId},query:{stepInstanceId:t.stepInstanceId,retryCount:t.retry,from:this.from||this.$route.query.from}},n=this.$route.query,a=n.stepInstanceId,i=n.retryCount,r=void 0===i?0:i;parseInt(a,10)!==t.stepInstanceId||parseInt(r,10)!==t.retry?(this.$emit("on-change"),this.$router.push(e)):this.messageWarn("正在查看")}}};e.Z=r},23714:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(46941)),r=a(n(71116)),o=a(n(11036)),s=a(n(75574)),l=a(n(22165)),u=a(n(85885)),c=a(n(42132)),d=a(n(91612)),h=a(n(51822)),f=a(n(28628)),p={confirm:{operationCode:6,title:"确定继续执行？",desc:"将继续执行后面的步骤"},confirmForced:{operationCode:9,title:"确定终止流程？",desc:"人工确认步骤终止后，需「重新发起确认」才可恢复"},confirmRetry:{operationCode:10,title:"确定重新发起确认？",desc:"将会再次发送消息通知相关的确认人"},allRetry:{operationCode:8,title:"确定全部重试？",desc:"该步骤的所有IP 都将重新执行"},failIpRetry:{operationCode:2,title:"确定失败IP重试？",desc:"仅作用于本次执行失败的 IP"},skip:{operationCode:3,title:"确定进入下一步？",desc:"跳过当前步骤进入下一步"},forced:{operationCode:"",title:"确定终止执行任务？",desc:"终止动作仅对当前还未执行完成的IP有效"},forcedRetry:{operationCode:8,title:"确定重试并继续？",desc:"该步骤的所有IP 都将重新执行"},forcedSkip:{operationCode:12,title:"确定跳过并进入下一步？",desc:"将不再等待强制终止动作的结果，直接进入下一步"},next:{operationCode:11,title:"确定进入下一步？",desc:"跳过当前步骤进入下一步"}},v={props:{name:{type:String,required:!0},displayStyle:{type:String,default:"task"},confirmHandler:{type:Function,default:function(){}}},computed:{actionCom(){return{confirm:i.default,confirmForced:r.default,confirmRetry:o.default,allRetry:s.default,failIpRetry:l.default,skip:u.default,forced:c.default,forcedRetry:d.default,forcedSkip:h.default,next:f.default}[this.name]},confirmInfo(){return p[this.name]}},methods:{handleConfirm(){return this.confirmHandler(this.confirmInfo.operationCode)},handleConfirmShow(){this.$emit("on-show")},handleConfirmCancel(){this.$emit("on-cancel")}}};e.Z=v},83613:function(t,e,n){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a=n(11986),i={name:"",data(){return{showContent:!this.loading,offsetLeft:0,contentOffsetTop:0,footerHeight:46}},computed:{contentStyles(){var t=this.contentOffsetTop+20+this.footerHeight;return{height:"calc(100vh - ".concat(t,"px)")}}},mounted(){this.contentOffsetTop=(0,a.getOffset)(this.$refs.content).top}};e.Z=i},16314:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(2771)),r=a(n(7285)),o=a(n(23898)),s=a(n(88214)),l=n(11986),u=n(15513),c=a(n(78876)),d=a(n(89825)),h=a(n(70481)),f=a(n(35549)),p=a(n(74413)),v=a(n(70846)),g={name:"",components:{AceEditor:c.default,DetailLayout:d.default,DetailItem:h.default,JbPopoverConfirm:f.default,Layout:p.default,RenderLog:v.default},inheritAttrs:!1,props:{scriptVersionList:{type:Array,default:function(){return[]}},scriptInfo:{type:Object,required:!0}},data:()=>({isLoading:!1,isExceLoading:!1,contentTab:"content",contentHeight:0}),computed:{contentCom(){return{content:c.default,log:v.default}[this.contentTab]},isCopyCreateDisabled(){return!!(0,r.default)(this.scriptVersionList,(function(t){return t.isDraft}))},contentStyles(){return{height:"".concat(this.contentHeight,"px")}}},watch:{scriptInfo(){this.contentTab="content"}},created(){var t=this;this.publicScript=(0,l.checkPublicScript)(this.$route),this.serviceHandler=this.publicScript?s.default:o.default,window.addEventListener("resize",this.init),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.init)}))},mounted(){this.calcContentHeight();var t=(0,i.default)(this.calcContentHeight,60);window.addEventListener("resize",t),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t)}))},methods:{calcContentHeight(){var t=(0,l.getOffset)(this.$refs.content).top;this.contentHeight=window.innerHeight-t-20},handleFullScreen(){"content"===this.contentTab&&this.$refs.aceEditor.handleFullScreen()},handleChangeDispaly(t){this.contentTab=t},handleOnline(){var t=this;return this.serviceHandler.scriptVersionOnline({id:this.scriptInfo.id,versionId:this.scriptInfo.scriptVersionId}).then((function(){t.messageSuccess("操作成功"),t.$emit("on-edit-change")}))},handleRemove(){var t=this;return this.serviceHandler.scriptVersionRemove({versionId:this.scriptInfo.scriptVersionId}).then((function(){if(t.messageSuccess("删除成功"),t.scriptVersionList.length<2){var e=t.publicScript?"publicScriptList":"scriptList";t.$router.push({name:e})}else setTimeout((function(){t.$emit("on-delete",!0)}))}))},handleOffline(){var t=this;return this.serviceHandler.scriptVersionOffline({id:this.scriptInfo.id,versionId:this.scriptInfo.scriptVersionId}).then((function(){t.messageSuccess("操作成功"),t.$emit("on-edit-change")}))},handleCopyAndCreate(){this.$emit("on-go-copy-create",{scriptVersionId:this.scriptInfo.scriptVersionId})},handleDebugScript(){u.debugScriptCache.setItem(this.scriptInfo.content);var t=this.$router.resolve({name:"fastExecuteScript",query:{model:"debugScript"}}).href;window.open(t)},handleGoSync(){var t=this.publicScript?"scriptPublicSync":"scriptSync";this.$router.push({name:t,params:{scriptId:this.scriptInfo.id,scriptVersionId:this.scriptInfo.scriptVersionId}})},handleEdit(t){this.$emit("on-go-edit",{scriptVersionId:this.scriptInfo.scriptVersionId})},handleGoExce(){this.$router.push({name:"fastExecuteScript",params:{taskInstanceId:0,scriptVersionId:this.scriptInfo.scriptVersionId},query:{from:"scriptVersion"}})}}};e.Z=g},93459:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(94354);var i=a(n(49683)),r=a(n(22626)),o={name:"RenderRelatedScript",props:{mode:{type:String,validator:t=>["scriptList","scriptVersionList"].includes(t),default:"scriptList"},info:{type:Object,required:!0}},data:()=>({listTab:"template"}),computed:{listCom(){return{template:i.default,plan:r.default}[this.listTab]},params(){var t={scriptId:this.info.id};return"scriptVersionList"===this.mode&&(t.scriptVersionId=this.info.scriptVersionId),t}},methods:{handleTabChange(t){this.listTab=t}}};e.Z=o},2503:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981),n(63898),n(59241),n(72090),n(32106),n(84367),n(13118),n(36380),n(98495);var i=a(n(23898)),r=a(n(88214)),o=n(11986),s={name:"",components:{JbSearchSelect:a(n(88792)).default},props:{params:{type:Object,required:!0}},data:()=>({isLoading:!1,wholeList:[{},{},{}],renderList:[{},{},{}]}),created(){this.publicScript=(0,o.checkPublicScript)(this.$route),this.serviceHandler=this.publicScript?r.default:i.default,this.fetchData(),this.searchSelect=[{name:"名称",id:"name",default:!0},{name:"版本号",id:"scriptVersion"}]},methods:{fetchData(){var t=this;this.isLoading=!0,this.serviceHandler.citeInfo(this.params).then((function(e){var n=e.citedTaskPlanList;t.wholeList=Object.freeze(n),t.renderList=t.wholeList})).finally((function(){t.isLoading=!1}))},handleSearch(t){var e=this.wholeList;Object.keys(t).forEach((function(n){var a=new RegExp((0,o.encodeRegexp)(t[n]),"i"),i=n;"name"===n&&(i="taskPlanName"),e=e.filter((function(t){return a.test(t[i])}))})),this.renderList=Object.freeze(e)},handleGoPlanDetail(t){var e=this.$router.resolve({name:"viewPlan",params:{templateId:t.taskTemplateId},query:{viewPlanId:t.taskPlanId}}).href;window.open(e.replace(/^\/[^/]+\/\d+/,"/".concat(t.scopeType,"/").concat(t.scopeId)))}}};e.Z=s},55114:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981),n(63898),n(59241),n(72090),n(32106),n(84367),n(13118),n(36380),n(98495);var i=a(n(23898)),r=a(n(88214)),o=n(11986),s={name:"",components:{JbSearchSelect:a(n(88792)).default},props:{params:{type:Object,required:!0}},data:()=>({isLoading:!1,wholeList:[{},{},{}],renderList:[{},{},{}]}),created(){this.publicScript=(0,o.checkPublicScript)(this.$route),this.serviceHandler=this.publicScript?r.default:i.default,this.fetchData(),this.searchSelect=[{name:"名称",id:"name",default:!0},{name:"版本号",id:"scriptVersion"}]},methods:{fetchData(){var t=this;this.$request(this.serviceHandler.citeInfo(this.params),(function(){t.isLoading=!0})).then((function(e){var n=e.citedTemplateList;t.wholeList=Object.freeze(n),t.renderList=t.wholeList})).finally((function(){t.isLoading=!1}))},handleSearch(t){var e=this.wholeList;Object.keys(t).forEach((function(n){var a=new RegExp((0,o.encodeRegexp)(t[n]),"i"),i=n;"name"===n&&(i="taskTemplateName"),e=e.filter((function(t){return a.test(t[i])}))})),this.renderList=Object.freeze(e)},handleGoTemplateDetail(t){var e=this.$router.resolve({name:"templateDetail",params:{id:t.taskTemplateId}}).href;window.open(e.replace(/^\/[^/]+\/\d+/,"/".concat(t.scopeType,"/").concat(t.scopeId)))}}};e.Z=s},96780:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(70616),n(41336);var i=a(n(2771)),r=a(n(51391)),o=n(11986),s=n(2938),l={name:"",props:{data:{type:Object,required:!0}},data:()=>({isSubmiting:!1,isEditing:!1,inputWidth:"auto",localValue:"",errorInfo:""}),watch:{data:{handler(){this.localValue=this.data.name||"",this.localValueMemo=this.localValue},immediate:!0}},mounted(){var t=this;document.body.addEventListener("click",this.hideCallback),this.$once("hook:beforeDestroy",(function(){document.body.removeEventListener("click",t.hideCallback)}))},methods:{hideCallback(){this.isEditing&&this.handleSubmit()},handleEdit(){var t=this;this.isSubmiting=!1,this.isEditing=!0,this.errorInfo="",this.inputWidth=this.$refs.text.getBoundingClientRect().width,setTimeout((function(){t.$refs.input.$el.querySelector(".bk-form-input").focus()}))},handleInput:(0,i.default)((function(t){var e=window.innerWidth,n=(0,o.calcTextWidth)(t,this.$refs.box)+60;n<=e-(0,o.getOffset)(this.$refs.box).left-230&&n>this.inputWidth&&(this.inputWidth=n)}),60),handleSubmit(){var t=this;this.errorInfo="",this.localValueMemo!==this.localValue?(this.localValue?s.planNameRule.validator(this.localValue)||(this.errorInfo=s.planNameRule.message):this.errorInfo="方案名称必填",this.errorInfo||(this.isSubmiting=!0,r.default.planCheckName({templateId:this.data.templateId,planId:this.data.id,name:this.localValue}).then((function(e){if(!e)return t.isSubmiting=!1,void(t.errorInfo="方案名称已存在，请重新输入");r.default.planUpdate({id:t.data.id,templateId:t.data.templateId,name:t.localValue,variables:t.data.variableList,enableSteps:t.data.stepList.reduce((function(t,e){return e.enable&&t.push(e.id),t}),[])}).then((function(){t.localValueMemo=t.localValue,t.isEditing=!1,t.$emit("on-edit-success"),t.messageSuccess("执行方案名称编辑成功")}))})))):this.isEditing=!1}}};e.Z=l},8435:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(85376),n(98495);var i=a(n(68203)),r=a(n(30723)),o=n(99800),s=n(11986),l=a(n(11944));function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={name:"",components:{ContentLoader:o.ContentLoader,BackTop:l.default},props:{title:String,mode:String,planName:String,loading:{type:Boolean,default:!1},bottomOffset:{type:Number,default:0}},data(){return{showContent:!this.loading,layoutOffsetTop:0,contentOffsetTop:0,footerOffsetLeft:0,isFooterFixed:!1}},computed:{layoutStyles(){return{height:"calc(100vh - ".concat(this.layoutOffsetTop,"px - ").concat(this.bottomOffset,"px)")}},contentStyles(){return{"max-height":"calc(100vh - ".concat(this.contentOffsetTop,"px - 60px - ").concat(this.bottomOffset,"px)")}},footerStyles(){var t={"padding-left":"".concat(this.footerOffsetLeft,"px")};return this.isFooterFixed?c(c({},t),{},{"box-shadow":"0px -2px 4px 0px rgba(0, 0, 0, 0.06)"}):t}},watch:{loading(t){var e=this;if(t)return this.showContent=!1,void(this.time=Date.now());var n=Date.now()-this.time;setTimeout((function(){e.showContent=!0}),n>800?0:1e3-n)}},created(){this.time=Date.now()},mounted(){var t=this;window.addEventListener("resize",this.init),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.init)})),this.init()},updated:(0,r.default)((function(){this.init()}),500),methods:{init(){var t=this;if(this.$refs.layout&&this.$refs.content&&document.querySelector("#templateStepRender")){var e=(0,s.getOffset)(this.$refs.layout);this.layoutOffsetTop=e.top,this.contentOffsetTop=(0,s.getOffset)(this.$refs.content).top,setTimeout((function(){var e=t.$refs.content.scrollHeight,n=t.$refs.content.getBoundingClientRect().height;t.isFooterFixed=e>n;var a=t.$refs.layout.getBoundingClientRect().left,i=document.querySelector("#templateStepRender").getBoundingClientRect().left;t.footerOffsetLeft=i-a}))}},getBackTopTarget(){return this.$refs.content}}};e.Z=d},13710:function(t,e,n){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(85376);var a={name:"ToggleDisplay",props:{count:{type:Number,required:!0}},data:()=>({isOpen:!1}),methods:{handleToggle(){this.isOpen=!this.isOpen}}};e.Z=a},63491:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(85376),n(13118),n(41336),n(94354),n(25910),n(91981),n(63898),n(14309),n(79951),n(45680),n(3949),n(77702);var i=a(n(74650)),r=a(n(51391)),o=n(11986),s=n(2938),l=a(n(52707)),u=a(n(18094)),c=a(n(96187)),d=a(n(12720)),h=function(){return{id:0,name:(0,o.genDefaultName)("执行方案"),enableSteps:[],templateId:0,variables:[]}},f={name:"",components:{JbForm:l.default,Layout:d.default,RenderGlobalVar:u.default,RenderTaskStep:c.default},props:{templateId:{type:[Number,String],required:!0},firstPlan:{type:Boolean,default:!0}},data:()=>({formData:h(),globalVariableList:[{},{},{}],taskStepList:[{},{},{}],isLoading:!0,submitLoading:!1}),computed:{selectedVariable(){var t=this,e=this.taskStepList.filter((function(e){return t.formData.enableSteps.includes(e.id)}));return(0,o.findUsedVariable)(e)},hasSelectAll(){return this.formData.enableSteps.length>=this.taskStepList.length},isSubmitDisable(){return this.formData.enableSteps.length<1}},created(){var t=this;this.rules={name:[{required:!0,message:"方案名称必填",trigger:"blur"},{validator:s.planNameRule.validator,message:s.planNameRule.message,trigger:"blur"},{validator:function(e){return r.default.planCheckName({templateId:t.formData.templateId,planId:t.formData.id,name:e})},message:"方案名称已存在，请重新输入",trigger:"blur"}],enableSteps:[{validator:function(){return t.formData.enableSteps.length>0},message:"执行步骤必填",trigger:"blur"}]},this.formData.templateId=this.templateId,this.generatorFormData=function(){return h()},this.fetchData()},methods:{fetchData(){var t=this;i.default.taskDetail({id:this.formData.templateId}).then((function(e){var n=e.variables,a=e.stepList,i=e.name;t.globalVariableList=Object.freeze(n),t.taskStepList=Object.freeze(a);var r=(0,o.genDefaultName)("执行方案");t.firstPlan&&(r=i),t.generatorFormData=function(){return{id:0,name:r,templateId:t.formData.templateId,enableSteps:a.map((function(t){return t.id})),variables:[...n]}},t.$emit("on-name-change",r),t.formData=t.generatorFormData()})).finally((function(){t.isLoading=!1}))},refresh(){this.fetchData()},handleNameChange(t){this.formData.name=t,this.$emit("on-name-change",t)},handleSelectAll(){this.formData.enableSteps=this.taskStepList.map((function(t){return t.id}))},handleDeselectAll(){this.formData.enableSteps=[]},handleVariableChange(t){this.formData.variables=t},handleSelectStep(t){var e=this.formData.enableSteps.findIndex((function(e){return e===t.id}));e>-1?this.formData.enableSteps.splice(e,1):(this.formData.enableSteps.push(t.id),this.formData.enableSteps.length&&this.$refs.createPlanForm.clearError("enableSteps"))},handleSumbit(){var t=this;this.submitLoading=!0,Promise.all([this.$refs.titleForm.validate(),this.$refs.createPlanForm.validate()]).then((function(){return r.default.planUpdate(t.formData).then((function(e){window.changeAlert=!1,t.$bkMessage({theme:"success",message:"操作成功"}),t.$emit("on-create",e)}))})).finally((function(){t.submitLoading=!1}))},handleReset(){this.formData=this.generatorFormData(),this.$refs.createPlanForm.clearError()}}};e.Z=f},21004:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(85376),n(41336),n(91981),n(63898),n(13118),n(70616),n(59241);var i=a(n(51391)),r=a(n(56762)),o=n(11986),s=a(n(75907)),l=a(n(18094)),u=a(n(96187)),c=a(n(12720)),d=a(n(8067)),h=a(n(55399)),f={name:"",components:{PermissionSection:s.default,RenderGlobalVar:l.default,RenderTaskStep:u.default,ToggleDisplay:d.default,Layout:c.default,EditTitle:h.default},props:{id:{type:[Number,String],required:!0},templateId:{type:[Number,String],required:!0}},data:()=>({planInfo:{variableList:[{},{},{}],enableStepList:[{},{},{}]},usedVariableList:[{},{},{}],unusedVariableList:[{},{},{}],isLoading:!0,execLoading:!1,deleteLoading:!1}),watch:{id:{handler(t){this.fetchData(t)},immediate:!0}},methods:{fetchData(){var t=this;this.isLoading=!0,i.default.fetchPlanDetailInfo({id:this.id,templateId:this.templateId},{permission:"catch"}).then((function(e){t.planInfo=Object.freeze(e);var n=e.stepList.filter((function(t){return 1===t.enable})),a=(0,o.findUsedVariable)(n).reduce((function(t,e){return t[e]=!0,t}),{}),i=[],r=[];e.variableList.forEach((function(t){a[t.name]?i.push(t):r.push(t)})),t.usedVariableList=Object.freeze(i),t.unusedVariableList=Object.freeze(r)})).finally((function(){t.isLoading=!1}))},fetchTaskExecution(){var t=this;this.execLoading=!0,r.default.taskExecution({taskId:this.id,taskVariables:[]}).then((function(e){var n=e.taskInstanceId;t.$bkMessage({theme:"success",message:"操作成功"}),t.$router.push({name:"historyTask",params:{id:n},query:{from:t.$route.name}})})).finally((function(){t.execLoading=!1}))},refresh(){this.fetchData()},handleEdit(){this.$emit("on-edit",{id:this.templateId,active:this.id})},handleEditSuccess(){this.$emit("on-edit-success")},handleGoCronList(){var t=this.$router.resolve({name:"cronList",query:{planId:this.id}}).href;window.open(t)},handleGoTemplate(){var t=this.$router.resolve({name:"templateDetail",params:{id:this.templateId}}).href;window.open(t)},handleGoCron(){var t=this.$router.resolve({name:"cronList",query:{mode:"create",templateId:this.templateId,planId:this.id}}).href;window.open(t)},handleDelete(){var t=this;return i.default.planDelete({id:this.id,templateId:this.templateId}).then((function(){return t.$bkMessage({theme:"success",message:"操作成功"}),setTimeout((function(){t.$emit("on-delete")})),!0}))},handleSync(){this.$router.push({name:"syncPlan",params:{id:this.id,templateId:this.templateId},query:{from:this.$route.name}})},handleExec(){var t=this;this.planInfo.variableList.length?this.$router.push({name:"settingVariable",params:{id:this.id,templateId:this.templateId},query:{from:this.$route.name}}):this.$bkInfo({title:"确认执行？",subTitle:"未设置全局变量，点击确认将直接执行。",confirmFn:function(){t.fetchTaskExecution()}})}}};e.Z=f},12772:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(85376),n(13118),n(41336),n(94354),n(25910),n(91981),n(63898),n(14309),n(3949),n(77702),n(79951),n(45680);var i=a(n(51391)),r=n(11986),o=n(2938),s=a(n(18094)),l=a(n(96187)),u=a(n(12720)),c={name:"",components:{Layout:u.default,RenderGlobalVar:s.default,RenderTaskStep:l.default},props:{id:{type:[Number,String],required:!0},templateId:{type:[Number,String],required:!0}},data:()=>({name:"",formData:{id:0,name:"",enableSteps:[],templateId:0,variables:[]},globalVariableList:[{},{},{}],taskStepList:[{},{},{}],isLoading:!0,submitLoading:!1}),computed:{selectedVariable(){var t=this,e=this.taskStepList.filter((function(e){return t.formData.enableSteps.includes(e.id)}));return(0,r.findUsedVariable)(e)},hasSelectAll(){return this.formData.enableSteps.length>=this.taskStepList.length},isSubmitDisable(){return this.formData.enableSteps.length<1}},watch:{id:{handler(t){this.formData.id=t,this.fetchData()},immediate:!0}},created(){var t=this;this.rules={name:[{required:!0,message:"方案名称必填",trigger:"blur"},{validator:o.planNameRule.validator,message:o.planNameRule.message,trigger:"blur"},{validator:function(e){return i.default.planCheckName({templateId:t.templateId,planId:t.formData.id,name:e})},message:"方案名称已存在，请重新输入",trigger:"blur"}],enableSteps:[{validator:function(){return t.formData.enableSteps.length},message:"执行步骤必填",trigger:"blur"}]},this.formData.templateId=this.templateId},methods:{fetchData(){var t=this;this.isLoading=!0,i.default.fetchPlanEditInfo({id:this.formData.id,templateId:this.templateId}).then((function(e){var n=e.variableList,a=e.stepList,i=e.name;t.globalVariableList=n,t.taskStepList=a,t.name=i,t.formData.enableSteps=e.enableStepId,t.formData.variables=n,t.formData.name=i})).catch((function(e){[1,400].includes(e.code)&&setTimeout((function(){t.$router.push({name:"taskList"})}),3e3)})).finally((function(){t.isLoading=!1}))},refresh(){this.fetchData()},checkName(t){return i.default.planCheckName({templateId:this.templateId,planId:this.formData.id,name:t})},handleVariableChange(t){window.changeAlert=!0,this.formData.variables=t},handleSelectAll(){this.formData.enableSteps=this.taskStepList.map((function(t){return t.id}))},handleDeselectAll(){this.formData.enableSteps=[]},handleSelectStep(t){var e=this.formData.enableSteps.findIndex((function(e){return e===t.id}));e>-1?this.formData.enableSteps.splice(e,1):(this.formData.enableSteps.push(t.id),this.formData.enableSteps.length&&this.$refs.editPlanForm.clearError("enableSteps"))},handleSumbit(){var t=this;this.submitLoading=!0,Promise.all([this.$refs.titleForm.validate(),this.$refs.editPlanForm.validate()]).then((function(){return i.default.planUpdate(t.formData).then((function(){window.changeAlert=!1,t.$emit("on-edit-success"),t.$bkMessage({theme:"success",message:"操作成功"}),t.handleCancle()}))})).finally((function(){t.submitLoading=!1}))},handleCancle(){var t=this;(0,r.leaveConfirm)().then((function(){t.$emit("on-edit-cancle")}))}}};e.Z=c},62215:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(68203)),r=a(n(15265));function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var s={name:"",props:{relateList:Array,latestValue:[String,Object]},data:()=>({isShowRelateList:!1}),computed:{globalVariableInfo(){return this.relateList[0].globalVariable},latestValueText(){var t=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.globalVariableInfo);return this.globalVariableInfo.isHost?t.defaultTargetValue=this.latestValue:t.defaultValue=this.latestValue,new r.default(t).valueText}},methods:{handleToggle(){this.isShowRelateList=!this.isShowRelateList}}};e.Z=s},71205:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(59241),n(89336);var i=n(89144),r={name:"EditPreview",components:{RenderRelatedInfo:a(n(29095)).default},props:{planList:{type:Array,required:!0},latestValueMap:{type:Object,required:!0}},data:()=>({globalVariableRelatePlanMap:{}}),created(){this.relatePlanMap={},this.traverPlanList()},methods:{traverPlanList(){var t=this,e={};this.planList.forEach((function(n){n.variableList.forEach((function(a){var r=(0,i.genGlobalVariableKey)(a),o={plan:n,globalVariable:a};Object.prototype.hasOwnProperty.call(t.latestValueMap,r)&&(e[r]?e[r].push(o):e[r]=[o],t.relatePlanMap[n.id]=n)}))})),this.globalVariableRelatePlanMap=Object.freeze(e),this.$nextTick((function(){t.$refs.relate[0].handleToggle()}))},getRelatePlanList(){return Object.values(this.relatePlanMap)}}};e.Z=r},23928:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(34976)),r={components:{ChooseIp:a(n(67460)).default},props:{data:{type:Object,required:!0},value:{type:Object,default:function(){return new i.default({})}}},data:()=>({isShowChooseIp:!1,hostNodeInfo:{}}),computed:{isValueEmpty(){return i.default.isHostNodeInfoEmpty(this.value.hostNodeInfo)},valueText(){return new i.default(this.value).text}},methods:{handleRemove(){this.$emit("on-remove")},handleChooseIp(){this.isShowChooseIp=!0,this.hostNodeInfo=this.value.hostNodeInfo},handleClear(){this.$emit("on-change",new i.default({}))},handleChange(t){this.$emit("on-change",{hostNodeInfo:t})}}};e.Z=r},93555:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(15265)),r=a(n(33459)),o=a(n(39896)),s=a(n(457)),l={name:"",props:{data:{type:Object,required:!0}},data:()=>({}),computed:{com(){return{[i.default.TYPE_STRING]:r.default,[i.default.TYPE_NAMESPACE]:r.default,[i.default.TYPE_PASSWORD]:s.default,[i.default.TYPE_RELATE_ARRAY]:r.default,[i.default.TYPE_INDEX_ARRAY]:r.default,[i.default.TYPE_HOST]:o.default}[this.data.type]}}};e.Z=l},23660:function(t,e){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n={name:"",props:{data:{type:Object,required:!0},value:{type:String}},methods:{handleRemove(){this.$emit("on-remove")},handleChange(t){this.$emit("on-change",t)}}};e.Z=n},71242:function(t,e){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var n={name:"",props:{data:{type:Object,required:!0},value:{type:String}},methods:{handleRemove(){this.$emit("on-remove")},handleChange(t){this.$emit("on-change",t)}}};e.Z=n},20506:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(89336),n(98495),n(41336),n(59241),n(33303);var i=a(n(34976)),r=a(n(69487)),o=n(89144),s={name:"",components:{RenderGlobalVariable:r.default},inheritAttrs:!1,props:{planList:{type:Array,required:!0}},data:()=>({relatedTemplateNums:0,globalVariableMap:{},selectVariableMap:{},selectVariableValueMap:{}}),computed:{isHasSelectedAll(){var t=Object.values(this.selectVariableMap).length;return!(t<1)&&t===Object.values(this.globalVariableMap).length},selectResultText(){return"已选".concat(" ",Object.values(this.selectVariableMap).length," / ").concat(Object.values(this.globalVariableMap).length)},isSelectNotEmpty(){return Object.values(this.selectVariableMap).length>0}},created(){this.traverPlanList()},methods:{traverPlanList(){var t={},e={};this.planList.forEach((function(n){t[n.templateId]=!0,n.variableList.forEach((function(t){e[(0,o.genGlobalVariableKey)(t)]=t}))})),this.relatedTemplateNums=Object.values(t).length,this.globalVariableMap=Object.freeze(e)},triggerChange(){window.changeAlert=!0,this.$emit("on-edit-change",Object.assign({},this.selectVariableValueMap))},getEditValue(){return Object.assign({},this.selectVariableValueMap)},handleVariableSelect(t){var e=Object.assign({},this.selectVariableMap),n=Object.assign({},this.selectVariableValueMap);e[t]?(delete e[t],delete n[t]):(e[t]=!0,this.globalVariableMap[t].isHost?n[t]=new i.default({}):n[t]=""),this.selectVariableMap=Object.freeze(e),this.selectVariableValueMap=Object.freeze(n),this.triggerChange()},handleSelectAll(){var t={},e={};for(var n in this.globalVariableMap)t[n]=!0,this.globalVariableMap[n].isHost?e[n]=new i.default({}):e[n]="";this.selectVariableMap=Object.freeze(t),this.selectVariableValueMap=Object.freeze(e),this.triggerChange()},handleCancleSelectAll(){this.selectVariableMap={},this.selectVariableValueMap={},this.triggerChange()},handleRemoveSelect(t){var e=Object.assign({},this.selectVariableMap);delete e[t],this.selectVariableMap=Object.freeze(e);var n=Object.assign({},this.selectVariableValueMap);delete n[t],this.selectVariableValueMap=Object.freeze(n),this.triggerChange()},handleValueChange(t,e){this.selectVariableValueMap=Object.freeze(Object.assign({},this.selectVariableValueMap,{[t]:e})),this.triggerChange()}}};e.Z=s},30443:function(t,e,n){"use strict";n(87147),n(13118),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981),n(63898),n(14309),n(89336),n(59241);var i=a(n(68203)),r=a(n(98530)),o=a(n(51391)),s=n(11986),l=n(89144),u=a(n(17217)),c=a(n(90289));function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"",components:{EditValue:u.default,EditPreview:c.default},model:{prop:"isShow",event:"input"},props:{isShow:{type:Boolean,default:!1},data:{type:Array,required:!0}},data:()=>({isLoading:!0,curStep:1,isGlobalVariableNotEmpty:!1,planList:[{},{},{}],isPreviewDisabled:!0,globalVariableValueMap:{}}),computed:{stepCom(){return{1:u.default,2:c.default}[this.curStep]},hasEmptyValueVariable(){for(var t in this.globalVariableValueMap){var e=this.globalVariableValueMap[t];if(!e)return!0;if((0,r.default)(e)&&e.isEmpty)return!0}return!1}},watch:{isShow:{handler(t){t&&this.fetchPlanDetailData()},immediate:!0}},created(){this.steps=[{title:"编辑变量",icon:1},{title:"更新预览",icon:2}]},methods:{fetchPlanDetailData(){var t=this;this.isLoading=!0,this.isGlobalVariableNotEmpty=!1,o.default.fetchBatchPlan({planIds:this.data.map((function(t){return t.id})).join(",")}).then((function(e){t.planList=Object.freeze(e);for(var n=0;n<t.planList.length;n++)if(t.planList[n].variableList.length>0){t.isGlobalVariableNotEmpty=!0;break}})).finally((function(){t.isLoading=!1}))},handleEditChange(t){this.isPreviewDisabled=Object.values(t).length<1},handlePreview(){this.globalVariableValueMap=Object.freeze(this.$refs.handler.getEditValue()),this.handleChangeStep(2)},handleChangeStep(t){this.curStep=t,this.$refs.root.$el.querySelector(".bk-sideslider-content").scrollTop=0},handleSubmit(){var t=this,e=this.$refs.handler.getRelatePlanList(),n=[];return e.forEach((function(e){var a=[],i={planId:e.id,templateId:e.templateId,variableInfoList:a};e.variableList.forEach((function(e){var n=(0,l.genGlobalVariableKey)(e);Object.prototype.hasOwnProperty.call(t.globalVariableValueMap,n)?e.isHost?a.push(h(h({},e),{},{defaultTargetValue:t.globalVariableValueMap[n]})):a.push(h(h({},e),{},{defaultValue:t.globalVariableValueMap[n]})):a.push(e)})),n.push(i)})),o.default.batchUpdateVariable(n).then((function(){window.changeAlert=!1,t.messageSuccess("编辑成功"),t.$emit("on-success"),setTimeout((function(){t.handleCancel()}))}))},handleCancel(){var t=this;(0,s.leaveConfirm)().then((function(){t.curStep=1,t.planList=[],t.globalVariableValueMap={},t.isPreviewDisabled=!0,t.$emit("change",!1),t.$emit("input",!1)}))}}};e.Z=f},8186:function(t,e,n){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a=n(11986),i={name:"",props:{flod:{type:Boolean,default:!1}},data:()=>({isShowRight:!1,isOpen:!1,layoutWidth:"auto"}),computed:{styles(){return this.flod?{width:"370px"}:{width:this.layoutWidth}}},watch:{flod:{handler(t){var e=this;t?setTimeout((function(){e.isShowRight=t}),110):this.isShowRight=!1},immediate:!0}},mounted(){var t=this;this.calcWidth(),window.addEventListener("resize",this.calcWidth),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("resize",t.calcWidth)}))},methods:{calcWidth(){var t=this.$refs.layout.getBoundingClientRect().width;this.layoutWidth="".concat(t,"px")},handleToggle(){this.isOpen=!this.isOpen},handleClose(){var t=this;(0,a.leaveConfirm)().then((function(){t.isOpen=!1,t.$emit("on-flod"),t.$emit("update:flod",!1)}))}}};e.Z=i},176:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(74650)),r=n(11986),o={name:"",props:{value:{type:Boolean,default:!1}},data:()=>({templateList:[{},{},{}],formData:{templateId:""}}),watch:{value:{handler(t){t&&this.fetchData()},immediate:!0}},created(){this.rules={templateId:[{required:!0,message:"请选择作业模板",trigger:"blur"}]}},methods:{fetchData(t){var e=this;i.default.taskList({name:t,start:0,pageSize:10}).then((function(t){e.templateList=Object.freeze(t.data)}))},handleCreate(){var t=this.$router.resolve({name:"templateCreate"});window.open(t.href)},handleSubmit(){var t=this;this.$refs.form.validate().then((function(){window.changeAlert=!1,t.handleCancel(),t.$emit("on-change",t.formData.templateId)}))},handleCancel(){var t=this;(0,r.leaveConfirm)().then((function(){t.$emit("input",!1)}))}}};e.Z=o},22088:function(t,e,n){"use strict";n(87147),n(13118),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(68203));n(70616),n(41336),n(59241),n(32106),n(77702),n(85376),n(14309),n(79951),n(45680),n(7145),n(14408),n(84367);var r=a(n(41652)),o=a(n(31752)),s=a(n(51391)),l=a(n(56762)),u=a(n(27898)),c=a(n(84366)),d=a(n(88792)),h=a(n(39674)),f=n(15513),p=n(11986),v=a(n(25313)),g=a(n(90467)),m=a(n(40016)),y=a(n(78880)),_=a(n(5927)),b=a(n(22245));function x(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S="task_plan_list_columns",I={name:"",components:{ListActionLayout:u.default,RenderList:c.default,JbSearchSelect:d.default,ListOperationExtend:h.default,Layout:y.default,PlanDetail:v.default,PlanEdit:g.default,TemplateSelect:_.default,BatchEditGlobalVariable:b.default},data:()=>({searchValue:[],listSelect:[],isShowTemplateSelect:!1,isShowBatchGlobalVariable:!1,planComType:"",newPlanName:"",isFirstTemplatePlan:!1,selectPlanInfo:{templateId:-1,id:-1},currentUser:{},selectedTableColumn:[],tableSize:"small",paginationSmall:!1}),computed:{isLoading(){return this.$refs.list.isLoading},allRenderColumnMap(){return this.isListFlod?{name:!0}:this.selectedTableColumn.reduce((function(t,e){return t[e.id]=!0,t}),{})},planCom(){var t={detail:v.default,edit:g.default,create:m.default};return t[this.planComType]?t[this.planComType]:"div"},isCreatePlan(){return"create"===this.planComType},isListFlod(){return Boolean(this.planComType)},batchSyncDisableTips(){if(this.listSelect.length<1)return"请选择要同步的执行方案";var t=!0,e=!0;return this.listSelect.forEach((function(n){n.needUpdate||(t=!1),n.canEdit||(e=!1)})),t?e?"":"已选结果中有执行方案中没有权限同步":"已选结果中有执行方案中不需要同步"},batchEditGlobalVariableTips(){if(this.listSelect.length<1)return"请选择要编辑的执行方案";for(var t=!0,e=0;e<this.listSelect.length;e++){if(!this.listSelect[e].canEdit){t=!1;break}}return t?"":"已选结果中有执行方案中没有权限编辑"}},created(){this.parseUrl(),this.fetchUserInfo(),this.listDataSource=s.default.fetchAllPlan,this.searchData=[{name:"ID",id:"planId",description:"将覆盖其它条件",validate:(t,e)=>!!(t||[]).every((function(t){return/^(\d*)$/.test(t.name)}))||"ID只支持数字"},{name:"执行方案",id:"planName",default:!0},{name:"更新人",id:"lastModifyUser",remoteMethod:o.default.fetchUsersOfSearch,inputInclude:!0},{name:"创建人",id:"creator",remoteMethod:o.default.fetchUsersOfSearch,inputInclude:!0}],this.isViewTemplatePlanList||this.searchData.splice(2,0,{name:"作业模板名称",id:"templateName"}),this.tableColumn=[{id:"id",label:"ID"},{id:"name",label:"执行方案",disabled:!0},{id:"templateName",label:"所属作业模板"},{id:"lastModifyUser",label:"更新人"},{id:"lastModifyTime",label:"更新时间"},{id:"creator",label:"创建人"},{id:"createTime",label:"创建时间"}];var t=f.listColumnsCache.getItem(S);t?(this.selectedTableColumn=Object.freeze(t.columns),this.tableSize=t.size):this.selectedTableColumn=Object.freeze([{id:"id"},{id:"name"},{id:"lastModifyUser"},{id:"lastModifyTime"}])},methods:{fetchData(){var t=w({},this.searchParams);this.templateId&&(t.templateId=this.templateId),this.$refs.list.$emit("onFetch",t)},fetchUserInfo(){var t=this;r.default.fetchUserInfo().then((function(e){t.currentUser=Object.freeze(e)}))},parseUrl(){var t=this;if(this.isViewTemplatePlanList="viewPlan"===this.$route.name,this.templateId="",this.isViewTemplatePlanList){var e=this.$route.params.templateId;e=Number(e),this.templateId=e;var n=this.$route.query,a=n.viewPlanId;if("create"===n.mode)return void setTimeout((function(){t.handleCreatePlan()}));var i=Number(a)||0;i>0&&setTimeout((function(){t.handlePlanSelect({templateId:e,id:i})}))}else{var r=this.$route.query,o=r.viewTemplateId,s=r.viewPlanId,l=Number(o)||0,u=Number(s)||0;l&&u&&setTimeout((function(){t.handlePlanSelect({templateId:l,id:u})}))}},caclRowClassName(t){return t.row.id===this.selectPlanInfo.id?"active":""},handleSettingChange(t){var e=t.fields,n=t.size;this.selectedTableColumn=Object.freeze(e),this.tableSize=n,f.listColumnsCache.setItem(S,{columns:e,size:n})},handleCreatePlan(){this.isViewTemplatePlanList?this.handleTemplateChange(this.templateId):this.isShowTemplateSelect=!0},handleTemplateChange(t){this.selectPlanInfo={templateId:t,id:-1},this.planComType="create",this.paginationSmall=!0,this.isFirstTemplatePlan=this.$refs.list.data.length<1},handleCreatePlanNameChange(t){this.newPlanName=t},handleSyncBatch(){this.$router.push({name:"syncPlanBatch",query:{planIds:this.listSelect.map((function(t){return t.id})).join(","),from:this.$route.name}})},handleBatchEditGlobalVariable(){this.isShowBatchGlobalVariable=!0},handleSearch(t){this.searchParams=t,this.fetchData()},handleMyPlan(){var t=this.currentUser.username,e={name:"创建人",id:"creator",values:[{id:t,name:t}]};this.searchParams=w(w({},this.searchParams),{},{creator:t}),this.searchValue=[e],this.fetchData()},handleSelection(t){this.listSelect=Object.freeze(t)},handleLayoutFlod(){this.planComType="",this.selectPlanInfo={templateId:-1,id:-1},this.paginationSmall=!1;var t=new URLSearchParams(window.location.search);t.delete("viewTemplateId"),t.delete("viewPlanId"),window.history.replaceState({},"","?".concat(t.toString()))},handlePlanSelect(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"detail",a=t.id;a!==this.selectPlanInfo.id&&(0,p.leaveConfirm)().then((function(){e.planComType=n,e.selectPlanInfo={templateid:4,id:a},e.paginationSmall=!0,setTimeout((function(){var e=new URLSearchParams(window.location.search);e.set("viewTemplateId",t.templateId),e.set("viewPlanId",t.id),window.history.replaceState({},"","?".concat(e.toString()))}))}))},handleCollection(t){var e=this;(t.favored?s.default.deleteFavorite:s.default.updateFavorite)({id:t.id,templateId:t.templateId}).then((function(){t.toggleFavored(),e.messageSuccess(t.favored?"收藏成功":"取消收藏成功")}))},handleGoCronJobList(t){var e=this.$router.resolve({name:"cronList",query:{planId:t.id}}).href;window.open(e)},handleExecute(t){var e=this;[1,2].length<1?this.$bkInfo({title:"确认执行？",subTitle:"未设置全局变量，点击确认将直接执行。",confirmFn:function(){l.default.taskExecution({taskId:4,taskVariables:[]}).then((function(t){var n=t.taskInstanceId;e.$bkMessage({theme:"success",message:"操作成功"}),e.$router.push({name:"historyTask",params:{id:n},query:{from:e.$route.name}})}))}}):this.$router.push({name:"settingVariable",params:{id:4,templateid:4},query:{from:this.$route.name}})},handleEdit(t){this.handlePlanSelect(t,"edit")},handleUpdate(t){this.$router.push({name:"syncPlan",params:{id:4,templateid:4},query:{from:this.$route.name}})},handleGoCreateCronJob(t){var e=this.$router.resolve({name:"cronList",query:{mode:"create",templateid:4,planId:4}}).href;window.open(e)},handleDelete(t){var e=this;return s.default.planDelete({id:4,templateid:4}).then((function(t){e.$bkMessage({theme:"success",message:"操作成功"}),e.fetchData()}))},handleCreateSubmit(t){this.fetchData(),this.handlePlanSelect({templateId:this.selectPlanInfo.templateId,id:t})},handleShowPlanEdit(){this.planComType="edit"},handlePlanDelete(){this.handleLayoutFlod(),this.fetchData()},handleEditCancle(){this.planComType="detail"},handleEditSuccess(){this.fetchData()},handleBatchEditGlobalVariableSuccess(){this.$refs.list.resetSelect(),this.$refs.planHandler&&this.$refs.planHandler.refresh()}}};e.Z=I},89360:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(70616),n(41336),n(59241),n(79951),n(91981),n(45680),n(33303);var i=a(n(28033)),r=a(n(14590)),o={name:"",components:{ToggleDisplay:a(n(35543)).default,GlobalVariableLayout:i.default,GlobalVariable:r.default},props:{variableList:Array,selectedList:{type:Array,default:function(){return[]}}},created(){var t=this,e=this.selectedList.reduce((function(t,e){return t[e]=!0,t}),{});this.usedList=[],this.unusedList=[],this.variableList.forEach((function(n){e[n.name]?t.usedList.push(n):t.unusedList.push(n)}))},methods:{submit(){var t=this,e=[];return this.$refs.used&&this.$refs.used.forEach((function(t){e.push(t.validate())})),this.$refs.unused&&this.$refs.unused.forEach((function(t){e.push(t.validate())})),Promise.all(e).then((function(e){var n=e.reduce((function(t,e){var n=e.value,a=e.targetValue;return t[e.id]={defaultValue:n,defaultTargetValue:a},t}),{}),a=t.variableList.reduce((function(t,e){return n[e.id]&&t.push(Object.assign({},e,n[e.id])),t}),[]);t.$emit("on-change",a)}))}}};e.Z=o},9817:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(94354),n(25910),n(41336),n(91981);var i=a(n(25190)),r=n(2938),o=a(n(15265)),s=a(n(67460)),l=a(n(33294)),u=n(99431),c={name:"",components:{ChooseIp:s.default,JbEditHost:l.default},props:{variableNameList:{type:Array},data:{type:Object,require:!0}},data(){return{formData:(0,i.default)(this.data),isShowChooseIp:!1,isShowNameError:!1,errorNameText:""}},computed:{withChangable(){return[o.default.TYPE_STRING,o.default.TYPE_RELATE_ARRAY,o.default.TYPE_INDEX_ARRAY].includes(this.formData.type)},isHostVarialbe(){return[o.default.TYPE_HOST].includes(this.formData.type)},isNameError(){return this.isShowNameError&&this.errorNameText}},created(){this.typeList=[{id:o.default.TYPE_STRING,name:"字符串"},{id:o.default.TYPE_NAMESPACE,name:"命名空间"},{id:o.default.TYPE_HOST,name:"主机列表"},{id:o.default.TYPE_PASSWORD,name:"密文"},{id:o.default.TYPE_RELATE_ARRAY,name:"关联数组"},{id:o.default.TYPE_INDEX_ARRAY,name:"索引数组"}]},methods:{validate(){return this.isShowNameError=!0,this.errorNameText="",this.formData.name||(this.errorNameText="变量名称必填"),r.globalVariableNameRule.validator(this.formData.name)||(this.errorNameText=r.globalVariableNameRule.message),this.variableNameList.includes(this.formData.name)&&(this.errorNameText="变量名称已存在，请重新输入"),this.errorNameText?Promise.reject(new Error(this.errorNameText)):Promise.resolve()},triggerChange(){this.$emit("on-change",this.formData)},handleShowNameError(){this.validate()},handleShowChooseIp(){this.isShowChooseIp=!0},handleHostChange(t){this.formData.defaultTargetValue.hostNodeInfo=t,this.triggerChange()},handleChange(t,e){"type"===t&&(this.formData=(0,u.createVariable)(this.formData.id)),this.formData[t]=e,this.isShowNameError=!1,this.triggerChange()},handleCreate(){this.$emit("on-append")},handleDelete(){this.$emit("on-delete")}}};e.Z=c},22231:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(70616),n(41336),n(79951),n(45680),n(77702),n(14309),n(91981);var i=a(n(25190)),r=a(n(15265)),o=a(n(16408)),s=a(n(23991)),l=n(99431),u={name:"",components:{RenderTableRow:o.default,CreateTableRow:s.default},props:{variable:{type:Array,default:function(){return[]}}},data(){return{variableList:(0,i.default)(this.variable)}},computed:{isEmpty(){for(var t=0;t<this.variableList.length;t++)if(!this.variableList[t].delete)return!1;return!0}},methods:{calcExcludeNameList(t){return this.variableList.reduce((function(e,n){return t.id!==n.id&&n.name&&1!==n.delete&&e.push(n.name),e}),[])},handleChange(t,e){var n=[...this.variableList],a=new r.default(e);n.splice(t,1,a),this.variableList=n,window.changeAlert=!0},handleDelete(t){var e=[...this.variableList],n=e[t];n.id>0?n.delete=1:e.splice(t,1),this.variableList=e,window.changeAlert=!0},handleAppendVariable(t){this.variableList.splice(t+1,0,(0,l.createVariable)()),window.changeAlert=!0},submit(){var t=this,e=[];return this.$refs.variableEdit&&e.push(...this.$refs.variableEdit.map((function(t){return t.validate()}))),this.$refs.variableCreate&&e.push(...this.$refs.variableCreate.map((function(t){return t.validate()}))),Promise.all(e).then((function(){return t.$emit("on-change",t.variableList)}))}}};e.Z=u},63687:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(94354),n(25910),n(41336),n(91981),n(33303);var i=a(n(15265)),r=n(2938),o=a(n(71693)),s=a(n(8764)),l=a(n(33294)),u={name:"",components:{JbEditInput:o.default,JbEditTextarea:s.default,JbEditHost:l.default},props:{data:{type:Object,required:!0},variableNameList:{type:Array}},computed:{withChangable(){return[i.default.TYPE_STRING,i.default.TYPE_RELATE_ARRAY,i.default.TYPE_INDEX_ARRAY].includes(this.data.type)}},created(){var t=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:r.globalVariableNameRule.validator,message:r.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variableNameList.includes(e)},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{validate(){return this.errorNameText="",this.data.name?r.globalVariableNameRule.validator(this.data.name)?this.variableNameList.includes(this.data.name)&&(this.errorNameText="变量名称已存在，请重新输入"):this.errorNameText=r.globalVariableNameRule.message:this.errorNameText="变量名称必填",this.errorNameText?Promise.reject(new Error(this.errorNameText)):Promise.resolve()},handleChange(t){this.$emit("on-change",Object.assign({},this.data,t))},handleDelete(){this.$emit("on-delete")},handleAppend(){this.$emit("on-append")}}};e.Z=u},53190:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(15265)),r=a(n(48042)),o=a(n(8764)),s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"初始值";return{label:t,filed:"valueText"}},l={name:"GlobalVarView",components:{ServerPanel:r.default,JbEditTextarea:o.default},props:{data:{type:Object,default:()=>({})},defaultField:{type:String,default:"初始值"}},computed:{describeMap(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"初始值";return{[i.default.TYPE_STRING]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},s(t),{label:"变量描述",filed:"description"},{label:"赋值可变",filed:"changeableText"},{label:"必填",filed:"requiredText"}],[i.default.TYPE_NAMESPACE]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},s(t),{label:"变量描述",filed:"description"},{label:"必填",filed:"requiredText"}],[i.default.TYPE_HOST]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},s(t),{label:"变量描述",filed:"description"},{label:"必填",filed:"requiredText"}],[i.default.TYPE_PASSWORD]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},s(t),{label:"变量描述",filed:"description"},{label:"必填",filed:"requiredText"}],[i.default.TYPE_RELATE_ARRAY]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},s(t),{label:"变量描述",filed:"description"},{label:"必填",filed:"requiredText"}],[i.default.TYPE_INDEX_ARRAY]:[{label:"变量类型",filed:"typeText"},{label:"变量名称",filed:"name"},s(t),{label:"变量描述",filed:"description"},{label:"必填",filed:"requiredText"}]}}(this.defaultField)[this.data.type]}}};e.Z=l},75952:function(t,e,n){"use strict";n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(68203));function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(87147),n(63876),n(41336),n(91981);var s={name:"VarString",props:{data:{type:Object,default:()=>({})}},data:()=>({arrayType:5,formData:{id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}),watch:{data:{handler(t){if(Object.keys(t).length){var e=t.name,n=t.defaultValue,a=t.description,i=t.changeable,r=t.required,o=t.id,s=t.type;this.formData={name:e,defaultValue:n,description:a,changeable:i,required:r,id:o,delete:t.delete},this.arrayType=s}},immediate:!0}},methods:{submit(){return Promise.resolve(o(o({},this.formData),{},{type:this.arrayType}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}}};e.Z=s},52345:function(t,e,n){"use strict";n(87147),n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(68203));n(41336),n(91981);var r=a(n(15265)),o=a(n(34976)),s=a(n(67460)),l=a(n(48042));function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=function(){return{id:0,delete:0,name:"",defaultTargetValue:{hostNodeInfo:{},variable:""},description:"",required:0}},h={name:"VarHost",components:{ChooseIp:s.default,ServerPanel:l.default},props:{data:{type:Object,default:function(){return{}}}},data:()=>({formData:{},isShowChooseIp:!1}),computed:{isShowClear(){return!o.default.isHostNodeInfoEmpty(this.formData.defaultTargetValue.hostNodeInfo)}},watch:{data:{handler(t){this.formData=new r.default(t)},immediate:!0}},methods:{handleHostChange(t){this.formData.defaultTargetValue.hostNodeInfo=Object.freeze(t)},handleShowChooseIp(){this.isShowChooseIp=!0},handleClear(){var t=new o.default({}).hostNodeInfo;this.formData.defaultTargetValue.hostNodeInfo=t},submit(){return Promise.resolve(c(c({},this.formData),{},{type:r.default.TYPE_HOST}))},reset(){this.formData=new r.default(d)}}};e.Z=h},48841:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(34116)),r=a(n(13763)),o=a(n(87953)),s=a(n(54771)),l=a(n(92368)),u={name:"GlobalVar",components:{VarString:i.default,VarNamespace:r.default,VarHost:o.default,VarPassword:s.default,VarArray:l.default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:()=>({})}},data:()=>({globalType:"string"}),computed:{globalVarCom(){var t={string:i.default,namespace:r.default,host:o.default,password:s.default,array:l.default};return Object.prototype.hasOwnProperty.call(t,this.globalType)?t[this.globalType]:"div"},isTypeDisabled(){return!!Object.keys(this.data).length}},watch:{data:{handler(t){Object.keys(t).length&&(this.globalType=t.typeDescription)},immediate:!0}},created(){this.nametips={theme:"dark",content:"在步骤参数或脚本内使用 ${变量名} 即可获取到变量值",width:200}},methods:{submit(){var t=this;return this.$refs.handler.submit().then((function(e){t.$emit("on-change",e)}))},reset(){return this.globalType=1,this.$refs.handler.reset()}}};e.Z=u},87484:function(t,e,n){"use strict";n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(68203));function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(87147),n(63876),n(41336),n(91981);var s={name:"VarNamespace",props:{data:{type:Object,default:()=>({})}},data:()=>({formData:{id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}),watch:{data:{handler(t){if(Object.keys(t).length){var e=t.name,n=t.defaultValue,a=t.description,i=t.required,r=t.id,o=t.delete;this.formData={name:e,defaultValue:n,description:a,required:i,id:r},this.formData.delete=o}},immediate:!0}},methods:{submit(){return Promise.resolve(o(o({},this.formData),{},{type:2}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}}};e.Z=s},89192:function(t,e,n){"use strict";n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(68203));function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(87147),n(63876),n(41336),n(91981);var s={name:"VarPassword",props:{data:{type:Object,default:()=>({})}},data:()=>({formData:{id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}),watch:{data:{handler(t){if(Object.keys(t).length){var e=t.name,n=t.defaultValue,a=t.description,i=t.required,r=t.id,o=t.delete;this.formData={name:e,defaultValue:n,description:a,required:i,id:r},this.formData.delete=o}},immediate:!0}},methods:{submit(){return Promise.resolve(o(o({},this.formData),{},{type:4}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",required:0}}}};e.Z=s},52679:function(t,e,n){"use strict";n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(68203));function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n(87147),n(63876),n(41336),n(91981);var s={name:"VarString",props:{data:{type:Object,default:()=>({})}},data:()=>({formData:{id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}),watch:{data:{handler(t){if(Object.keys(t).length){var e=t.name,n=t.defaultValue,a=t.description,i=t.changeable,r=t.required,o=t.id;this.formData={name:e,defaultValue:n,description:a,changeable:i,required:r,id:o,delete:t.delete}}},immediate:!0}},methods:{submit(){return Promise.resolve(o(o({},this.formData),{},{type:1}))},reset(){this.formData={id:0,delete:0,name:"",defaultValue:"",description:"",changeable:0,required:0}}}};e.Z=s},48632:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(13118),n(41336),n(77702),n(14309);var i=a(n(25190)),r=a(n(15265)),o=a(n(8996)),s=a(n(82256)),l=a(n(90197)),u=a(n(7677)),c=a(n(73265)),d=a(n(71580)),h=a(n(89228)),f={name:"RenderGlobalVar",components:{VariableUseGuide:o.default,Operation:s.default,BatchOperation:l.default,Detail:u.default,EditOfPlan:c.default,BatchEditOfPlan:d.default,PopoverDetail:h.default},props:{list:{type:Array,required:!0},mode:{type:String,default:""},selectValue:{type:Array,default:function(){return[]}},defaultField:{type:String,default:"初始值"},diff:{type:Object,default:function(){return{}}}},data:()=>({isShowDetail:!1,isShowUseGuide:!1,isShowOperation:!1,isShowBatchOperation:!1,isShowEditOfPlan:!1,isShowBatchEditOfPlan:!1,variable:[],currentPopoverDetail:{},currentData:{},currentIndex:-1,currentOperation:"create",detailMedia:[]}),computed:{showEmpty(){return!this.isOperation&&this.variable.length<1},isOperation(){return"operate"===this.mode},isSelect(){return"select"===this.mode||"editOfPlan"===this.mode},isEditOfPlan(){return"editOfPlan"===this.mode},isView(){return!this.mode},isDiff(){return"diff"===this.mode},realVariable(){var t=this,e=this.variable.filter((function(t){return!t.delete}));return"edit"===this.currentOperation?e.filter((function(e){return e.name!==t.currentData.name})):e},operationSideSliderInfo(){return Object.keys(this.currentData).length<1?{title:"新建全局变量",okText:"提交"}:{title:"编辑全局变量",okText:"保存"}}},watch:{list:{handler(t){this.variable=(0,i.default)(t)},immediate:!0}},created(){this.batchOperationMediaQuery=[1080,1280,1520,1800]},methods:{triggerChange(){this.$emit("on-change",this.variable)},handleShowPopoverDetail(t){this.currentPopoverDetail=t},handleHidePopoverDetail(){this.currentPopoverDetail={}},handleShowBatchOperation(){this.isShowBatchOperation=!0},handleShowBatchEditOfPlan(){this.isShowBatchEditOfPlan=!0},handlerOperation(t,e){if(this.currentData=t,this.isView)return this.detailMedia=t.type===r.default.TYPE_HOST?[960]:[600,660,720,780],void(this.isShowDetail=!0);this.currentOperation="edit",this.currentIndex=e,this.isEditOfPlan?this.isShowEditOfPlan=!0:this.isShowOperation=!0},handleDelete(t){var e=this;this.$bkInfo({title:"确定删除该全局变量？",subTitle:"若该变量被步骤引用，请及时检查并更新步骤设置",confirmFn:function(){var n=e.variable[t];n.id>0?n.delete=1:e.variable.splice(t,1),e.triggerChange()}})},handleCreate(){this.currentOperation="create",this.currentData={},this.isShowOperation=!0,this.$refs.globalVar&&this.$refs.globalVar.reset()},handlePlanEditSubmit(t){var e=new r.default(t);this.variable.splice(this.currentIndex,1,e),this.triggerChange()},handleBatchPlanEditSubmit(t){var e=t.map((function(t){return new r.default(t)}));this.variable=e,this.triggerChange()},handleOperationSubmit(t){var e=new r.default(t);"create"===this.currentOperation?this.variable.push(e):this.variable.splice(this.currentIndex,1,e),this.triggerChange(),this.currentOperation=""},handleBatchOperationSubmit(t){this.variable=t,this.triggerChange()},handleUseGuideToggle(){this.isShowUseGuide=!this.isShowUseGuide},handleUseGuideClose(){this.isShowUseGuide=!1}}};e.Z=f},64808:function(t,e,n){"use strict";n(87147),n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981);var i=a(n(68203)),r=n(2938);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"VarArray",components:{JbInput:a(n(76960)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:()=>({})}},data(){return{arrayType:5,formData:s({},this.data)}},computed:{isEdit(){return!!this.data.name}},watch:{data:{handler(t){t.name&&(this.arrayType=t.type)},immediate:!0}},created(){var t=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:r.globalVariableNameRule.validator,message:r.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variable.some((function(t){return t.name===e}))},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{handleArrayTypeChange(t){this.arrayType=t},submit(){var t=this;return this.$refs.varArrayForm.validate().then((function(){t.$emit("on-change",s(s({},t.formData),{},{type:t.arrayType}))}),(function(t){return Promise.reject(t.content)}))}}};e.Z=l},34419:function(t,e,n){"use strict";n(87147),n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981);var i=a(n(68203)),r=a(n(15265)),o=a(n(34976)),s=n(2938),l=a(n(76960)),u=a(n(67460)),c=a(n(48042));function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"VarHost",components:{JbInput:l.default,ChooseIp:u.default,ServerPanel:c.default},props:{variable:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){return{}}}},data(){return{formData:h({},this.data),isShowChooseIp:!1}},computed:{isShowClear(){return!o.default.isHostNodeInfoEmpty(this.formData.defaultTargetValue.hostNodeInfo)}},created(){var t=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:s.globalVariableNameRule.validator,message:s.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variable.some((function(t){return t.name===e}))},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{handleHostChange(t){this.formData.defaultTargetValue.hostNodeInfo=t},handleOpenChooseIp(){this.isShowChooseIp=!0},handleClearDefault(){var t=new o.default({}).hostNodeInfo;this.formData.defaultTargetValue.hostNodeInfo=t},submit(){var t=this;return this.$refs.varHostForm.validate().then((function(){t.$emit("on-change",h(h({},t.formData),{},{type:r.default.TYPE_HOST}))}),(function(t){return Promise.reject(t.content)}))}}};e.Z=f},95646:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(61372)),r=a(n(75691)),o=a(n(41765)),s=a(n(71810)),l=a(n(79632)),u=n(99431),c={name:"GlobalVar",components:{VarString:i.default,VarNamespace:r.default,VarHost:o.default,VarPassword:s.default,VarArray:l.default},props:{data:{type:Object,default:()=>({})}},data:()=>({globalType:"string",formData:{}}),computed:{globalVarCom(){var t={string:i.default,namespace:r.default,host:o.default,password:s.default,array:l.default};return Object.prototype.hasOwnProperty.call(t,this.globalType)?t[this.globalType]:"div"},isTypeDisabled(){return!!Object.keys(this.data).length}},watch:{data:{handler(t){t.name?this.formData=t:this.formData=(0,u.createVariable)(null,""),this.globalType=this.formData.typeDescription},immediate:!0}},created(){this.nametips={theme:"dark",content:"在步骤参数或脚本内使用 ${变量名} 即可获取到变量值",width:200}},methods:{submit(){return this.$refs.handler.submit&&this.$refs.handler.submit()},reset(){var t=this;return this.$refs.handler.reset&&this.$refs.handler.reset().then((function(){t.globalType=""}))}}};e.Z=c},65184:function(t,e,n){"use strict";n(87147),n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981);var i=a(n(68203)),r=n(2938);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"VarNamespace",components:{JbInput:a(n(76960)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:function(){return{}}}},data(){return{formData:s({},this.data)}},created(){var t=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:r.globalVariableNameRule.validator,message:r.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variable.some((function(t){return t.name===e}))},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{submit(){var t=this;return this.$refs.varNamespaceForm.validate().then((function(){t.$emit("on-change",s(s({},t.formData),{},{type:2}))}),(function(t){return Promise.reject(t.content)}))}}};e.Z=l},108:function(t,e,n){"use strict";n(87147),n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336);var i=a(n(68203)),r=n(2938);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"VarPassword",components:{JbInput:a(n(76960)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:()=>({})}},data(){return{formData:s({},this.data),passwordIcon:[]}},watch:{data:{handler(t){t.name?this.passwordIcon=[]:this.passwordIcon=["icon-eye-slash"]},immediate:!0}},created(){var t=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:r.globalVariableNameRule.validator,message:r.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variable.some((function(t){return t.name===e}))},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{submit(){var t=this;return this.$refs.varPasswordForm.validate().then((function(){t.$emit("on-change",s(s({},t.formData),{},{type:4}))}))}}};e.Z=l},98840:function(t,e,n){"use strict";n(87147),n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981);var i=a(n(68203)),r=n(2938);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"VarString",components:{JbInput:a(n(76960)).default},props:{variable:{type:Array,default:()=>[]},data:{type:Object,default:function(){return{}}}},data(){return{formData:s({},this.data)}},created(){var t=this;this.rules={name:[{required:!0,message:"变量名称必填",trigger:"blur"},{validator:r.globalVariableNameRule.validator,message:r.globalVariableNameRule.message,trigger:"blur"},{validator:function(e){return!t.variable.some((function(t){return t.name===e}))},message:"变量名称已存在，请重新输入",trigger:"blur"}]}},methods:{submit(){var t=this;return this.$refs.varStringForm.validate().then((function(){t.$emit("on-change",s(s({},t.formData),{},{type:1}))}),(function(t){return Promise.reject(t.content)}))}}};e.Z=l},18131:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(89825)),r=a(n(70481)),o={name:"GlobalVariablePopoverDetail",components:{DetailLayout:i.default,DetailItem:r.default},props:{data:{type:Object,required:!0},selectValue:{type:Array,required:!0},editOfPlan:{type:Boolean,DEFAULT:!1},defaultField:{type:String,default:"初始值"}},data:()=>({position:"left",width:300,top:0,left:0}),computed:{classes(){return{["arrow-position-".concat(this.position)]:!0}},styles(){return{position:"absolute",top:"".concat(this.top,"px"),left:"".concat(this.left,"px"),"z-index":window.__bk_zIndex_manager.nextZIndex(),width:"".concat(this.width,"px")}}},mounted(){this.init()},beforeDestroy(){try{this.$refs.detail&&document.body.hasChildNodes(this.$refs.detail)&&document.body.removeChild(this.$refs.detail)}catch(t){}},methods:{init(){var t=window.innerWidth,e=document.querySelector("#globalVariableWithName_".concat(this.data.name)).getBoundingClientRect(),n=e.top,a=e.left;this.top=n+50,this.left=a-11,t<=a+this.width&&(this.left=a-150,this.position="right"),document.body.appendChild(this.$refs.detail)}}};e.Z=o},21:function(t,e,n){"use strict";n(87147),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(13118),n(41336),n(79951),n(45680),n(77702);var i=a(n(68203)),r=a(n(2771)),o=a(n(44598)),s=a(n(63557)),l=a(n(98656)),u=a(n(42404)),c=a(n(61328));function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var h={name:"RenderTaskStep",components:{Draggable:o.default,JbSideslider:l.default,TaskStepOperation:u.default,TaskStepView:c.default},props:{list:{type:Array,required:!0},mode:{type:String,default:""},selectValue:{type:Array,default:function(){return[]}},variable:{type:Array,default:function(){return[]}},diff:{type:Object,default:function(){return{}}}},data:()=>({steps:[],isShowOperation:!1,isShowDetail:!1,isShowClone:!1,operationType:"",currentIndex:-1,operationData:{},detailInfo:{},dragStartIndex:-1,mediaQueryMap:[1e3,1100,1200,1300]}),computed:{isEdit(){for(var t=0;t<this.list.length;t++)if(this.list[t].id)return!0;return!1},isOperation(){return"operation"===this.mode},isSelect(){return"select"===this.mode},isView(){return!this.mode||"select"===this.mode},isDiff(){return"diff"===this.mode},stepBoxCom(){return this.isOperation?"draggable":"div"},stepContainerClasses(){var t={};return this.isShowOperation||this.isShowDetail||this.isShowClone?(t[this.operationType]=!0,t):t},hostVariables(){return this.variable.filter((function(t){return!t.delete&&t.isHost}))},scriptVariables(){return this.variable.filter((function(t){return!t.delete&&!t.isHost}))},operationSideSliderInfo(){return"create"===this.operationType?{title:"新建作业步骤",okText:"提交"}:{title:"编辑作业步骤",okText:"保存"}}},watch:{list:{handler(t){this.isOperation&&t.length<1?this.steps=[]:this.steps=Object.freeze([...t])},immediate:!0}},created(){this.order=0},beforeUpdate(){this.order=0},methods:{clickStepByIndex(t){this.handleStepClick(t)},genOrder(){return this.order+=1,this.order},handleStepClick(t){this.isOperation?this.handleShowEdit(t):(this.currentIndex=t,this.operationType="detail",this.detailInfo=this.steps[t],this.isShowDetail=!0)},handleStepSelect(t){this.$emit("on-select",t)},handleShowEdit(t){this.operationType="edit",this.currentIndex=t,this.operationData=this.steps[t],this.isShowOperation=!0},handleCloneStepHover(t,e){e?(this.currentIndex=t,this.operationType="clone",this.isShowClone=!0):(this.currentIndex=-1,this.operationType="",this.isShowClone=!1)},handleCloneStep(t){var e=[...this.steps],n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},e[t]);n.id=0,n.name="".concat(n.name,"_copy"),n=new s.default(n,!0),e.splice(t+1,0,n),this.steps=Object.freeze(e),this.handleCloneStepHover(-1,!1),this.$emit("on-change",e)},handleShowCreate(t){this.operationType="create",this.currentIndex=t,this.operationData={},this.isShowOperation=!0},handleDel(t){var e=this;this.$bkInfo({title:"确定删除该步骤？",subTitle:"删除之后不可恢复，请谨慎操作！",confirmFn:function(){var n=[...e.steps],a=n[t];a.id>0?a.delete=1:n.splice(t,1),e.steps=Object.freeze(n),e.$emit("on-change",n)}})},handleTaskStepSubmit(t,e){var n=new s.default(t),a=[...this.steps];n.localValidator=e,"create"===this.operationType?-1===this.currentIndex?a.push(n):a.splice(this.currentIndex+1,0,n):a.splice(this.currentIndex,1,n),this.steps=Object.freeze(a),this.$emit("on-change",a)},handleDragStart(t){this.dragStartIndex=t},handleDragMove:(0,r.default)((function(t){return this.dragFutureIndex=t.draggedContext.futureIndex,!0}),30),handleDragAdd(t){if(this.dragStartIndex!==t&&!(this.dragStartIndex-t==1&&1===this.dragFutureIndex||this.dragStartIndex-t==-1&&0===this.dragFutureIndex)){var e=[...this.steps],n=e[this.dragStartIndex];e.splice(this.dragStartIndex,1),e.splice(t,0,n),this.dragStartIndex=-1,this.steps=Object.freeze(e),this.$emit("on-change",e)}}}};e.Z=h},9603:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981),n(63898),n(79951),n(45680),n(59241),n(70616);var i=a(n(13030)),r=a(n(31752)),o={name:"",components:{DetailItem:a(n(70481)).default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}}},data:()=>({isLoading:!0,stepInfo:{},renderRoleList:[{},{},{}],renderChannel:""}),created(){var t=this;this.stepInfo=Object.freeze(this.data.approvalStepInfo),Promise.all([this.fetchRoleList(),this.fetchAllChannel()]).finally((function(){t.isLoading=!1}))},methods:{fetchRoleList(){var t=this;r.default.fetchRoleList().then((function(e){var n={};e.forEach((function(t){n[t.code]=t.name})),t.renderRoleList=t.stepInfo.approvalUser.roleList.reduce((function(t,e){return n[e]&&t.push(n[e]),t}),[])}))},fetchAllChannel(){var t=this;if(this.stepInfo.notifyChannel.length<1)return this.renderChannel="--",Promise.resolve();i.default.fetchActiveNotifyChannel().then((function(e){var n={};e.forEach((function(t){n[t.code]=t.name}));var a=t.stepInfo.notifyChannel.reduce((function(t,e){return n[e]&&t.push(n[e]),t}),[]);a.length<1&&(t.renderChannel="--"),t.renderChannel=a.join("，")}))}}};e.Z=o},95831:function(t,e,n){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(17450);var a={name:"",props:{data:{type:Array,default:function(){return[]}}},data:()=>({}),computed:{renderData(){return this.data.slice(0,3)},hasMore(){return this.data.length>3}}};e.Z=a},4807:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(34976)),r=a(n(80336)),o=a(n(48042)),s={name:"",components:{ScrollFaker:r.default,ServerPanel:o.default},props:{data:{type:Object,required:!0}},data:()=>({isShowDetail:!1,hostNodeInfo:new i.default({}).hostNodeInfo}),methods:{handlerView(){this.hostNodeInfo=this.data.host.hostNodeInfo,this.isShowDetail=!0},handleClose(){this.isShowDetail=!1}}};e.Z=s},66703:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(3511),n(41336);var i=a(n(34976)),r=a(n(80336)),o=a(n(48042)),s=a(n(89888)),l={name:"StepViewGlobalVariable",components:{ScrollFaker:r.default,ServerPanel:o.default,Empty:s.default},props:{type:{type:String,default:""},name:{type:String,required:!0},data:{type:Array,default:function(){return[]}}},data:()=>({isShowDetail:!1,hostNodeInfo:new i.default({}).hostNodeInfo}),computed:{title(){return this.type?this.type:"全局变量".concat(" - ",this.name)},isEmpty(){return i.default.isHostNodeInfoEmpty(this.hostNodeInfo)}},methods:{handlerView(){var t=this,e=this.data.find((function(e){return e.name===t.name}));this.hostNodeInfo=Object.freeze(e.defaultTargetValue.hostNodeInfo),this.isShowDetail=!0},handleClose(){this.isShowDetail=!1}}};e.Z=l},46638:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(59241),n(14309),n(79951),n(91981),n(45680),n(3511);var i=a(n(89928)),r=a(n(34976)),o=a(n(3902)),s=a(n(27861)),l=a(n(77397)),u=a(n(33589)),c=a(n(93081)),d=a(n(28224)),h={name:"",components:{JbCollapseItem:s.default,RenderServerAgent:l.default,RenderFilePath:u.default,RenderGlobalVariable:c.default,RenderFileServer:d.default},props:{data:{type:Array,default:function(){return[]}},variable:{type:Array,default:function(){return[]}},account:{type:Array,default:function(){return[]}}},data:()=>({activeResult:[],localFileList:[{},{},{}],serverFileList:[{},{},{}],sourceFileList:[{},{},{}],fileSourceIdsList:[{},{},{}],fileSourceAliasList:[{},{},{}]}),computed:{isShowLocalFile(){return this.localFileList.length>0},isShowServerFile(){return this.serverFileList.length>0},isShowSourceFile(){return this.sourceFileList.length>0}},watch:{data:{handler(t){var e=this;t.forEach((function(t){var n=new o.default(t);if(n.isServerFile)e.serverFileList.push(n);else if(n.isLocalFile)e.localFileList.push(n);else if(n.isSourceFile){e.sourceFileList.push(n);var a=[];e.sourceFileList.forEach((function(t){a.push(t.fileSourceId),e.fileSourceIdsList=a}))}e.localFileList.length>0?e.activeResult=["local"]:e.serverFileList.length>0&&(e.activeResult=["server"])}))},immediate:!0},fileSourceIdsList:{handler(t){var e=this;if(t.length){var n=t.map((function(t){return i.default.getSourceInfo({id:t})}));Promise.all(n).then((function(t){t.forEach((function(t){e.fileSourceAliasList.push(t.alias)}))}))}},immediate:!0}},methods:{findVariableValue(t){var e=this.variable.find((function(e){return e.name===t}));return e?e.defaultTargetValue.hostNodeInfo:new r.default({}).hostNodeInfo},findAccountAlias(t){var e=this.account.find((function(e){return e.id===t}));return e?e.alias:""},handleGoSource(t,e){var n=t.fileSourceId,a=this.fileSourceAliasList[e],i=this.$router.resolve({name:"bucketList",query:{fileSourceId:n,sourceAlias:a}}).href;window.open(i,"_blank")}}};e.Z=h},78864:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981),n(63898),n(3511);var i=a(n(6869)),r=a(n(48042)),o=a(n(88342)),s=a(n(70481)),l=a(n(93081)),u={name:"",components:{ServerPanel:r.default,RenderSourceFile:o.default,RenderGlobalVariable:l.default,DetailItem:s.default},props:{data:{type:Object,default:function(){return{}}},variable:{type:Array,default:function(){return[]}}},data:()=>({isLoading:!0,stepInfo:{},executeAccountText:"",account:[]}),created(){this.stepInfo=Object.freeze(this.data.fileStepInfo),this.fetchAccount()},methods:{fetchAccount(){var t=this;this.isLoading=!0,i.default.fetchAccountWhole().then((function(e){t.account=e;var n=e.find((function(e){return e.id===t.stepInfo.fileDestination.account}));t.executeAccountText=n?n.alias:"--"})).finally((function(){t.isLoading=!1}))}}};e.Z=u},65867:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981),n(63898),n(3511);var i=a(n(23898)),r=a(n(6869)),o=a(n(78876)),s=a(n(48042)),l=a(n(70481)),u=a(n(8764)),c=a(n(93081)),d=n(11986),h={name:"",components:{AceEditor:o.default,ServerPanel:s.default,DetailItem:l.default,JbEditTextarea:u.default,RenderGlobalVariable:c.default},props:{data:{type:Object,default:function(){return{}}},variable:{type:Array,default:function(){return[]}}},data:()=>({stepInfo:{},executeAccountText:"",language:"",scriptName:"",scriptInfo:{},isShowScriptSource:!1,requestQueue:[]}),computed:{isLoading(){return this.requestQueue.length>0},isReferScript(){return this.data.scriptStepInfo.scriptSource&&1!==this.data.scriptStepInfo.scriptSource}},created(){this.stepInfo=Object.freeze(this.data.scriptStepInfo),this.language=(0,d.formatScriptTypeValue)(this.stepInfo.scriptLanguage),this.languageOption=[this.language],this.stepInfo.scriptVersionId&&this.fetchScriptDetail(),this.fetchAccount()},methods:{fetchScriptDetail(){var t=this;this.requestQueue.push(!0),i.default.versionDetail({id:this.stepInfo.scriptVersionId}).then((function(e){t.scriptName=e.name,t.stepInfo.content=e.content,t.scriptInfo=Object.freeze(e)})).finally((function(){t.requestQueue.pop()}))},fetchAccount(){var t=this;this.requestQueue.push(!0),r.default.fetchAccountWhole().then((function(e){var n=e.find((function(e){return e.id===t.stepInfo.account}));t.executeAccountText=n?n.alias:"--"})).finally((function(){t.requestQueue.pop()}))},handleGoScriptDetail(){var t=this.scriptInfo.publicScript?"publicScriptVersion":"scriptVersion",e=this.$router.resolve({name:t,params:{id:this.stepInfo.scriptId},query:{scriptVersionId:this.scriptInfo.scriptVersionId}});window.open(e.href)},handleGoScriptVersion(){var t=this.isReferPublicScript?"publicScriptVersion":"scriptVersion",e=this.$router.resolve({name:t,params:{id:this.stepInfo.scriptId}}).href;window.open(e)},handleUpdateScript(){this.$router.push({name:"templateEdit",params:{id:this.$route.params.id,stepId:this.data.id},query:{from:"templateDetail"}})}}};e.Z=h},40263:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(89825)),r=a(n(70481)),o=a(n(92520)),s=a(n(34366)),l=a(n(11343)),u={1:"执行脚本",2:"分发文件",3:"人工确认"},c={components:{StepDistroFile:o.default,StepExecScript:s.default,StepArificial:l.default,DetailLayout:i.default,DetailItem:r.default},props:{variable:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){return{}}}},computed:{stepTypeText(){return u[this.data.type]},stepCom(){var t={1:s.default,2:o.default,3:l.default};return Object.prototype.hasOwnProperty.call(t,this.data.type)?t[this.data.type]:"div"}}};e.Z=c},50350:function(t,e,n){"use strict";n(87147),n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981),n(63898),n(14309),n(89242);var i=a(n(68203)),r=a(n(78125)),o=a(n(13030)),s=a(n(7861)),l=a(n(26044)),u=n(11986);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"",components:{JbUserSelector:s.default,ItemFactory:l.default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}}},data:()=>({formData:{id:0,name:(0,u.genDefaultName)("步骤人工确认"),delete:0,approvalMessage:"",approvalType:1,approvalUser:{roleList:["JOB_RESOURCE_TRIGGER_USER"],userList:[{},{},{}]},notifyChannel:[]},channleList:[{},{},{}]}),computed:{isChannelAll(){return!(this.channleList.length<1)&&this.formData.notifyChannel.length===this.channleList.length},isChannelIndeterminate(){return!(this.formData.notifyChannel.length<1)&&this.formData.notifyChannel.length!==this.channleList.length}},watch:{data:{handler(t){var e=this;(0,r.default)(t)||(this.formData=d(d({},this.formData),t),setTimeout((function(){e.$refs.form.validate()})))},immediate:!0}},created(){this.rules={approvalUser:[{validator:function(t){return t.roleList.length+t.userList.length>0},message:"确认人必填",trigger:"blur"}]},this.fetchAllChannel()},methods:{fetchAllChannel(){var t=this;o.default.fetchActiveNotifyChannel().then((function(e){t.channleList=e})).finally((function(){t.isLoading=!1}))},handleToggleAllChannel(){this.isChannelAll?this.formData.notifyChannel=[]:this.formData.notifyChannel=this.channleList.map((function(t){return t.code}))},handleNameChange(t,e){this.formData[t]=e.trim()},handleApprovalUserChange(t,e){this.formData.approvalUser.roleList=e,this.formData.approvalUser.userList=t},submit(){var t=this,e=this.formData,n=e.name,a=e.id,i=e.approvalMessage,r=e.approvalType,o=e.approvalUser,s=e.notifyChannel,l={id:a,name:n,delete:this.formData.delete,type:3,approvalStepInfo:{approvalMessage:i,approvalType:r,approvalUser:o,notifyChannel:s}};return this.$refs.form.validate().then((function(){t.$emit("on-change",l,!0)}),(function(){t.$emit("on-change",l,!1)}))}}};e.Z=h},57475:function(t,e,n){"use strict";n(87147),n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981);var i=a(n(68203)),r=a(n(78125)),o=n(80771),s=a(n(63557)),l=a(n(34976)),u=a(n(10827)),c=a(n(26044)),d=n(11986);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var p={name:"",components:{CardLayout:u.default,ItemFactory:c.default},inheritAttrs:!1,props:{variable:{type:Array,default:function(){return[]}},data:{type:Object,default:function(){return[]}}},data:()=>({formData:{id:0,name:(0,d.genDefaultName)("步骤分发文件"),fileSourceList:[{},{},{}],timeout:7200,uploadSpeedLimit:0,transferMode:2,ignoreError:0,downloadSpeedLimit:0,account:"",path:"",server:new l.default({})}}),computed:f(f({},(0,o.mapState)("distroFile",{isEditNewSourceFile:function(t){return t.isEditNewSourceFile},isLocalFileUploading:function(t){return t.isLocalFileUploading},isLocalFileUploadFailed:function(t){return t.isLocalFileUploadFailed}})),{},{formMarginLeftWidth:()=>110}),watch:{data:{handler(t){var e=this;if(!(0,r.default)(t)){var n=t.fileDestination,a=n.account,i=n.path,o=n.server,s=f({},t);delete s.fileDestination,this.formData=f(f(f({},this.formData),s),{},{account:a,path:i,server:o}),setTimeout((function(){e.$refs.form.validate()}))}},immediate:!0}},mounted(){window.IPInputScope="FILE_DISTRIBUTION",this.$once("hook:beforeDestroy",(function(){window.IPInputScope=""}))},methods:{handleChange(t,e){this.formData[t]=e},submit(){var t=this,e=this.$createElement;return Promise.resolve().then((function(){return new Promise((function(e,n){if(!t.isEditNewSourceFile)return e();t.$bkInfo({title:"您有未保存的源文件",type:"warning",okText:"继续提交",cancelText:"去保存",confirmFn:function(){e()},cancelFn:function(){n(new Error("save"))}})}))})).then((function(){return new Promise((function(e,n){for(var a=!1,i=0;i<t.formData.fileSourceList.length;i++){var r=t.formData.fileSourceList[i];if(r.fileType===s.default.fileStep.TYPE_SERVER&&(0,d.compareHost)(t.formData.server,r.host)){a=!0;break}}a?t.$bkInfo({title:"源和目标服务器相同",subTitle:"检测到文件传输源和目标服务器是同一批，若是单台建议使用本地 cp 方式效率会更高，请问你是否确定参数无误？",width:500,okText:"好的，我调整一下",cancelText:"是的，确定无误",confirmFn:function(){n(new Error("save"))},cancelFn:function(){e()}}):e()}))})).then((function(){return new Promise((function(e,n){(0,d.detectionSourceFileDupLocation)(t.formData.fileSourceList)?t.$bkInfo({title:"源文件可能出现同名",subTitle:"多文件源传输场景下容易出现同名文件覆盖的问题，你可以在目标路径中使用 [源服务器IP] 的变量来尽可能规避风险。",okText:"好的，我调整一下",cancelText:"已知悉，确定执行",closeIcon:!1,width:500,confirmFn:function(){t.$refs.targetPath.$el.scrollIntoView(),t.$refs.targetPath.$el.querySelector(".bk-form-input").focus(),n(new Error("transferMode change"))},cancelFn:function(){e()}}):e()}))})).then((function(){var n=t.formData,a={id:n.id,name:n.name,delete:0,type:2,fileStepInfo:{timeout:n.timeout,uploadSpeedLimit:n.uploadSpeedLimit,downloadSpeedLimit:n.downloadSpeedLimit,transferMode:n.transferMode,ignoreError:n.ignoreError,fileSourceList:n.fileSourceList,fileDestination:{account:n.account,path:n.path,server:n.server}}};return t.$refs.form.validate().then((function(){t.$emit("on-change",a,!0)})).catch((function(){return new Promise((function(n,i){var r=null,o=function(){r.close(),i(new Error("not save"))},s=function(){return e("div",[e("div",{style:"text-align: center"},[e("bk-button",{on:{click:o},style:"width: 96px",attrs:{theme:"primary"}},["去处理"])])])};t.isLocalFileUploading?r=t.$bkInfo({type:"error",title:"本地源文件上传未完成",subHeader:s(),showFooter:!1}):t.isLocalFileUploadFailed?r=t.$bkInfo({type:"error",title:"本地源文件上传失败",subHeader:s(),showFooter:!1}):(t.$emit("on-change",a,!1),n())}))}))}))}}};e.Z=p},95588:function(t,e,n){"use strict";n(87147),n(13118),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(41336),n(91981);var i=a(n(68203)),r=a(n(78125)),o=a(n(63557)),s=a(n(34976)),l=n(11986),u=a(n(14306));function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h={name:"",components:{ItemFactory:u.default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return[]}},variable:{type:Array,default:function(){return[]}},scriptVariables:{type:Array,default:function(){return[]}},stepName:{type:Array,default:function(){return[]}}},data:()=>({formData:{isScriptContentLoading:!1,name:(0,l.genDefaultName)("步骤执行脚本"),ignoreError:0,id:0,delete:0,status:0,scriptSource:o.default.scriptStep.TYPE_SOURCE_LOCAL,scriptId:"",scriptVersionId:"",scriptLanguage:1,content:"",scriptParam:"",timeout:7200,secureParam:0,account:"",executeTarget:new s.default({})}}),watch:{data:{handler(t){var e=this;(0,r.default)(t)||(this.formData=d(d({},this.formData),t),setTimeout((function(){e.$refs.form.validate()})))},immediate:!0}},mounted(){window.IPInputScope="SCRIPT_EXECUTE",this.$once("hook:beforeDestroy",(function(){window.IPInputScope=""}))},methods:{handleChange(t,e){this.formData[t]=e},handleScriptContentReset(t){this.formData=d(d({},this.formData),t)},submit(){var t=this,e=this.formData,n=e.name,a=e.id,i=e.ignoreError,r=e.scriptParam,o=e.timeout,s=e.secureParam,u=e.scriptSource,c=e.scriptId,d=e.content,h=e.account,f=e.status,p=e.scriptVersionId,v=e.scriptLanguage,g=e.executeTarget,m={id:a,name:n,delete:this.formData.delete,type:1,scriptStepInfo:{ignoreError:i,scriptParam:r,timeout:o,scriptSource:u,scriptId:c,account:h,content:d,scriptLanguage:v,status:f,scriptVersionId:p,executeTarget:g,secureParam:s}};return this.$refs.form.validate().then((function(){return!0}),(function(){return!1})).then((function(e){if(t.$store.state.scriptCheckError)return(0,l.scriptErrorAlert)(),Promise.reject(new Error("脚本中出现高危语句"));t.$emit("on-change",m,e)}))}}};e.Z=h},20781:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=a(n(68203)),r=a(n(8996)),o=a(n(61832)),s=a(n(51461)),l=a(n(98654));function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}var c={components:{StepDistroFile:o.default,StepExecScript:s.default,StepArificial:l.default,VariableUseGuide:r.default},inheritAttrs:!1,props:{data:{type:Object,default:function(){return{}}}},data:()=>({taskStepType:"",isShowVariableGuide:!1}),computed:{stepCom(){var t={1:s.default,2:o.default,3:l.default};return Object.prototype.hasOwnProperty.call(t,this.taskStepType)?t[this.taskStepType]:"div"},stepData(){var t={1:"scriptStepInfo",2:"fileStepInfo",3:"approvalStepInfo"}[this.taskStepType];if(!Object.prototype.hasOwnProperty.call(this.data,t)||!Object.keys(this.data[t]).length)return{};var e=this.data;return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({name:e.name,id:e.id},this.data[t])},isStepTypeReadOnly(){return!!Object.keys(this.data).length},leftStyles(){var t={width:"100%"};return this.isShowVariableGuide&&(t.width="calc(100% - 366px)"),t},formMarginLeftWidth:()=>110},watch:{data:{handler(t){Object.keys(t).length?this.taskStepType=this.data.type:this.taskStepType=1},immediate:!0}},created(){this.originWraperWidth=0},mounted(){document.querySelector("#taskStepOperationSideslider").querySelector(".jb-sideslider-footer").style.paddingLeft="".concat(this.formMarginLeftWidth+30,"px")},methods:{handleShowVariableGuide(){var t=this;if(!this.isShowVariableGuide){var e=document.querySelector("#taskStepOperationSideslider").querySelector(".bk-sideslider-wrapper");e.style.transition="width 0.1s",setTimeout((function(){var n=e.getBoundingClientRect().width;t.originWraperWidth=n,e.style.width="".concat(n+366,"px"),t.isShowVariableGuide=!0}))}},handleHideVariableGuide(){document.querySelector("#taskStepOperationSideslider").querySelector(".bk-sideslider-wrapper").style.width="".concat(this.originWraperWidth,"px"),this.isShowVariableGuide=!1},submit(){return this.$refs.handler.submit&&this.$refs.handler.submit()},reset(){return this.taskStepType="",this.$refs.handler.reset&&this.$refs.handler.reset()}}};e.Z=c},24471:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,n(33303),n(43906);var i=a(n(39229)),r=a(n(19081)),o=a(n(15591)),s=a(n(95660)),l={name:"",data:()=>({tab:"global"}),computed:{contentHtml(){var t={global:r.default,magic:s.default};return Object.assign(t,{global:i.default,magic:o.default}),t[this.tab]}},methods:{handleTabToggle(t){this.tab=t,console.log("fromasasd = =",this.tab)},handleClose(){this.$emit("on-close")}}};e.Z=l},51299:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(68203));class r{constructor(t){this.id=t.id,this.account=t.account,this.alias=t.alias,this.categoryName=t.categoryName,this.category=t.category,this.createTime=t.createTime,this.creator=t.creator,this.dbPassword=t.dbPassword,this.dbPort=t.dbPort,this.dbSystemAccountId=t.dbSystemAccountId,this.lastModifyTime=t.lastModifyTime,this.lastModifyUser=t.lastModifyUser,this.os=t.os,this.ownerUsers=t.ownerUsers||[],this.password=t.password,this.remark=t.remark||"",this.type=t.type,this.typeName=t.typeName,this.canUse=t.canUse,this.canManage=t.canManage}get isSystem(){return 1===this.category}}e.default=r,(0,i.default)(r,"OS",1),(0,i.default)(r,"DB",2),(0,i.default)(r,"TYPE_LINUX",1),(0,i.default)(r,"TYPE_WINDOWS",2),(0,i.default)(r,"TYPE_MYSQL",9),(0,i.default)(r,"TYPE_ORACLE",10),(0,i.default)(r,"TYPE_DB2",11),(0,i.default)(r,"accountType",{liunx:1,windows:2,mysql:9,oracle:10,db2:11})},41342:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(75328),n(17450),n(98495),n(70616),n(41336),n(14309);var i=a(n(17434)),r=a(n(68203)),o=a(n(98530)),s=a(n(87614)),l=a(n(43102)),u=n(11986),c=a(n(22061));class d{constructor(t){this.appId=t.appId,this.scopeType=t.scopeType,this.scopeId=t.scopeId,this.creator=t.creator,this.createTime=t.createTime,this.cronExpression=t.cronExpression,this.executeTime=t.executeTime||"",this.id=t.id,this.enable=t.enable,this.endTime=(0,u.prettyDateTimeFormat)(1e3*parseInt(t.endTime,10)),this.lastExecuteStatus=t.lastExecuteStatus,this.lastModifyTime=t.lastModifyTime,this.lastModifyUser=t.lastModifyUser,this.name=t.name,this.notifyChannel=t.notifyChannel||[],this.notifyOffset=t.notifyOffset,this.scriptId=t.scriptId||0,this.scriptVersionId=t.scriptVersionId||0,this.taskPlanId=t.taskPlanId||0,this.taskPlanName=t.taskPlanName,this.taskTemplateId=t.taskTemplateId,this.failCount=t.failCount||0,this.totalCount=t.totalCount||0,this.lastFailRecord=t.lastFailRecord||[],this.variableValue=this.initVariableValue(t.variableValue),this.notifyUser=this.initNotifyUser(t.notifyUser),this.canManage=t.canManage,this.isPlanLoading=!0,this.isStatictisLoading=!0}get executeStrategy(){return this.cronExpression?"period":"once"}get executeStrategyText(){return this.cronExpression?"周期执行":"单次执行"}get executeTimeTips(){if(this.cronExpression){var t=(0,c.default)(this.cronExpression),e=(0,i.default)(t,5),n=e[0],a=e[1],r=e[2],o=e[3],s=n;return a&&(s+=a),r&&(n&&r&&(s+=a?"以及当月":"的"),s+=r),o&&((a||r)&&(s+="的"),s+=o),s+=e[4]}return this.executeTime}get statusIconType(){return d.STATUS_ICON_TYPE[this.lastExecuteStatus]}get statusText(){return d.STATUS_MAP[this.lastExecuteStatus]}get policeText(){return this.cronExpression?this.cronExpression:this.executeTime.slice(0,19)}get successRateText(){if(!this.failCount&&!this.totalCount)return"--";var t,e,n=Math.floor((this.totalCount-this.failCount)/this.totalCount*100);return'<span style="'.concat((t=n,e=["padding: 0 6px","border-radius: 2px"],0===t?(e.push("color: #EA3636"),e.push("background-color: #FFEBEB")):t<40?(e.push("color: #FF8801"),e.push("background-color: #FFEFD6")):t<80?(e.push("color: #EBB626"),e.push("background-color: #FFF6D1")):(e.push("color: #63656e"),e.push("background-color: #F0F1F5")),e.join(";")),'">').concat(n,"%</span>")}get successRateTips(){var t="\n            <p>\n                ".concat("最近",'<span style="padding: 0 0.2em;">',this.totalCount,"</span>","次","\n                ","有",'<span style="padding: 0 0.2em;">').concat(this.failCount,"</span>","次失败",":\n            </p>\n        ");return this.lastFailRecord.slice(0,5).reduce((function(t,e){return t="".concat(t,"<p>").concat(e,"</p>")}),t)}get isRateEmpty(){return!this.failCount||!this.totalCount}get lastFailRecordList(){var t=this.lastFailRecord.length,e=this.lastFailRecord;return t>5&&(e=e.slice(0,5)),e.map((function(t){return(0,u.prettyDateTimeFormat)(t)}))}get showMoreFailAcion(){return this.lastFailRecord.length>0}initVariableValue(t){return(0,s.default)(t)?t.map((function(t){return new l.default(t)})):[]}initNotifyUser(t){return(0,o.default)(t)?{roleList:t.roleList||[],userList:t.userList||[]}:{roleList:[{},{},{}],userList:[{},{},{}]}}}e.default=d,(0,r.default)(d,"STATUS_MAP",{0:"未开始",1:"成功",2:"失败"}),(0,r.default)(d,"STATUS_ICON_TYPE",{0:"sync-default",1:"sync-success",2:"sync-failed"})},43102:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(98530)),r=a(n(34976));e.default=class{constructor(t){this.id=t.id,this.name=t.name,this.type=t.type,this.value=t.value,this.targetValue=this.initTargetValue(t.targetValue)}initTargetValue(t){return(0,i.default)(t)?new r.default(t):new r.default({})}}},92257:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(68203)),r=a(n(98913));class o extends r.default{constructor(t){super(),this.id=t.id,this.alias=t.alias,this.appId=t.appId,this.scopeType=t.scopeType,this.scopeId=t.scopeId,this.code=t.code,this.createTime=t.createTime,this.creator=t.creator,this.credentialId=t.credentialId,this.enable=t.enable,this.filePrefix=t.filePrefix,this.fileSourceInfoMap=t.fileSourceInfoMap||{},this.fileSourceType=t.fileSourceType||{},this.lastModifyTime=t.lastModifyTime,this.lastModifyUser=t.lastModifyUser,this.publicFlag=t.publicFlag,this.shareToAllApp=t.shareToAllApp,this.sharedAppIdList=t.sharedAppIdList,this.status=t.status,this.storageType=t.storageType,this.workerId=t.workerId,this.workerSelectMode=t.workerSelectMode,this.workerSelectScope=t.workerSelectScope,this.canManage=t.canManage,this.canView=t.canView}get isAvailable(){return 1===this.status}get statusText(){return o.STATUS_TEXT_MAP[this.status]}get statusIcon(){return o.STATUS_ICON_MAP[this.status]}get storageTypeText(){return o.STORAGE_TYPE_MAP[this.storageType]}get publicFlagHtml(){var t="display: inline-block; font-size: 12px; padding: 0 3px;";return this.publicFlag?'<span style="'.concat(t+="background: #EBF2FF; color: #699DF4;",'" tippy-tips="',"公共存储",'">',"公","</span>"):'<span style="'.concat(t+="background: #F0F1F5; color: #979BA5;",'" tippy-tips="',"私有存储",'">',"私","</span>")}}e.default=o,(0,i.default)(o,"STATUS_TEXT_MAP",{0:"异常",1:"正常",2:"未知"}),(0,i.default)(o,"STATUS_ICON_MAP",{0:"abnormal",1:"normal",2:"unknown"}),(0,i.default)(o,"STORAGE_TYPE_MAP",{OSS:"对象存储",FILE_SYSTEM:"文件系统"}),(0,i.default)(o,"FILE_PERFIX_UUID","${UUID}")},22216:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(98913));class r extends i.default{constructor(t){super(),this.name=t.name,this.createDate=t.createDate,this.xcosAcl=t.xcosAcl,this.lastModifyTime=t.lastModifyTime,this.size=t.size,this.type=t.type,this.downloadUrl=t.downloadUrl,this.dir=t.dir,this.completePath=t.completePath,this.fileSourceAlias=t.fileSourceAlias,this.fileSourceId=t.fileSourceId}get fileIcon(){return this.dir?"folder-2":"file-line-2"}}e.default=r},22893:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(68203)),r=a(n(98913));class o extends r.default{}e.default=o,(0,i.default)(o,"STATUS_INVALID",-1),(0,i.default)(o,"STATUS_DRAFT",0),(0,i.default)(o,"STATUS_ONLINE",1),(0,i.default)(o,"STATUS_OFFLINE",2),(0,i.default)(o,"STATUS_DISABLED",3),(0,i.default)(o,"STATUS_TEXT_MAP",{[-1]:"未保存",0:"未上线",1:"已上线",2:"已下线",3:"已禁用"})},56966:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(98495),n(87147),n(63876);var a={1:"info",2:"warning",3:"error"};e.default=class{constructor(t){this.row=t.line-1,this.column=1,this.level=t.level,this.type=a[t.level],this.text=this.initText(t)}get isDangerous(){return 3===this.level}initText(t){var e="";return 3===this.level&&(e="检测到代码存在高危语句：".concat("\n",t.matchContent,"\n\n","详细说明：","\n")),"".concat(e).concat(t.description)}}},9199:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(98495);var i=a(n(22893));class r extends i.default{constructor(t){super(),this.appId=t.appId,this.scopeType=t.scopeType,this.scopeId=t.scopeId,this.scriptStatus=t.scriptStatus,this.scriptStatusDesc=t.scriptStatusDesc,this.scriptVersion=t.scriptVersion,this.taskTemplateId=t.taskTemplateId||0,this.taskTemplateName=t.taskTemplateName,this.taskPlanId=t.taskPlanId||0,this.taskPlanName=t.taskPlanName}get statusHtml(){var t="display: inline-block; padding: 0 8px; line-height: 18px; font-size: 12px; border-radius: 2px;";switch(this.status){case r.STATUS_INVALID:t+="background: #F4E3C7; color: #FF9C01";break;case r.STATUS_ONLINE:t+="background: #DAEBDE; color: #3FC06D";break;default:t+="background: #F0F1F5; color: #979BA5"}return['<span style="'.concat(t,'" data-script-status="').concat(this.status,'">'),r.STATUS_TEXT_MAP[this.scriptStatus],"</span>"].join("")}}e.default=r},4587:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(98495);var i=a(n(68203)),r=a(n(98913));class o extends r.default{constructor(t){super(),this.templateId=t.templateId,this.templateName=t.templateName,this.scriptId=t.scriptId,this.scriptName=t.scriptName,this.scriptStatus=t.scriptStatus,this.scriptStatusDesc=t.scriptStatusDesc,this.canEdit=t.canEdit,this.scriptVersion=t.scriptVersion,this.scriptVersionId=t.scriptVersionId,this.stepId=t.stepId,this.stepName=t.stepName,this.appId=t.appId,this.scopeType=t.scopeType,this.scopeId=t.scopeId,this.failMsg=t.failMsg||"",this.syncStatus=t.syncStatus}get isSyncFailed(){return 2===this.syncStatus}get statusHtml(){var t="display: inline-block; padding: 0 6px; line-height: 18px; font-size: 12px; border-radius: 2px;";return 1===this.scriptStatus?t+="background: #E5F6EA; color: #3FC06D":t+="background: #F0F1F5; color: #979BA5",'<span style="'.concat(t,'">').concat(this.scriptStatusDesc,"</span>")}get syncIcon(){return o.SYNC_STATUS_ICON_MAP[this.syncStatus]}get syncStatusMsg(){return 1===this.syncStatus?"同步成功":2===this.syncStatus?"同步失败":"正在同步"}get syncTry(){return[2===this.syncStatus?"try-show":"try-hide"]}}e.default=o,(0,i.default)(o,"STATUS_TEXT_MAP",{0:"未上线",1:"已上线",2:"已下线",3:"已禁用"}),(0,i.default)(o,"SYNC_STATUS_ICON_MAP",{1:"sync-success",2:"sync-failed"})},87492:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(87147),n(63876),n(94354),n(25910),n(14309),n(98495);var i=n(11986),r=a(n(97244)),o=a(n(22893));class s extends o.default{constructor(t){super(),this.appId=t.appId,this.scopeType=t.scopeType,this.scopeId=t.scopeId,this.id=t.id||0,this.name=t.name,this.category=t.category,this.content=t.content,this.createTime=t.createTime,this.creator=t.creator,this.description=t.description,this.typeName=t.typeName,this.lastModifyTime=t.lastModifyTime,this.lastModifyUser=t.lastModifyUser,this.publicScript=Boolean(t.publicScript),this.relatedTaskPlanNum=t.relatedTaskPlanNum||0,this.relatedTaskTemplateNum=t.relatedTaskTemplateNum||0,this.scriptVersionId=t.scriptVersionId,this.status=t.status||0,this.statusDesc=t.statusDesc,this.syncEnabled=Boolean(t.syncEnabled),this.type=t.type||0,this.typeName=(0,i.formatScriptTypeValue)(this.type),this.version=t.version,this.versionDesc=t.versionDesc,this.scriptVersions=this.initScriptVersion(t.scriptVersions),this.tags=this.initTag(t.tags),this.canClone=t.canClone,this.canManage=t.canManage,this.canView=t.canView}get versionText(){return this.getDefaultValue(this.version)}get isOnline(){return this.status===s.STATUS_ONLINE}get isDraft(){return this.status===s.STATUS_DRAFT}get isDisabled(){return this.status===s.STATUS_DISABLED}get isDisabledOnline(){return[s.STATUS_ONLINE,s.STATUS_DISABLED].includes(this.status)}get isEnableRemove(){return this.relatedTaskPlanNum<1&&this.relatedTaskTemplateNum<1}get isVersionEnableRemove(){return![s.STATUS_ONLINE,s.STATUS_OFFLINE].includes(this.status)}get isExecuteDisable(){return!this.version}get tagsText(){return this.getDefaultValue(this.tags.map((function(t){return t.name})).join("，"))}get statusHtml(){var t="display: inline-block; padding: 0 8px; line-height: 18px; font-size: 12px; border-radius: 2px;";switch(this.status){case s.STATUS_INVALID:t+="background: #FFE8C3; color: #FF9C01";break;case s.STATUS_ONLINE:t+="background: #E5F6EA; color: #3FC06D";break;default:t+="background: #F0F1F5; color: #979BA5"}return['<span style="'.concat(t,'" data-script-status="').concat(this.status,'">'),s.STATUS_TEXT_MAP[this.status],"</span>"].join("")}initTag(t){return t?t.map((function(t){return new r.default(t)})):[]}initScriptVersion(t){return t?t.map((function(t){return new s(t)})):[]}}e.default=s},49558:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(87147),n(63876);var i=a(n(68203)),r=a(n(98913));class o extends r.default{constructor(t){super(),this.description=t.description,this.id=t.id,this.name=t.name,this.createTime=t.createTime,this.creator=t.creator,this.lastModifyTime=t.lastModifyTime,this.lastModifyUser=t.lastModifyUser,this.type=t.type,this.value1=t.value1,this.value2=t.value2,this.value3=t.value3,this.relatedNums=t.relatedNums||0,this.canManage=t.canManage,this.canUse=t.canUse,this.isRelatedLoading=!0}}e.default=o,(0,i.default)(o,"VOUCHER_TYPE_MAP",{APP_ID_SECRET_KEY:"AppID+SecretKey",PASSWORD:"单一密码",USERNAME_PASSWORD:"用户名+密码",SECRET_KEY:"单一SecretKey"})},6869:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14309);var i=a(n(77796)),r=a(n(51299)),o={fetchAccountWhole:t=>i.default.getWhole(t).then((function(t){var e=t.data;return Object.freeze(e.map((function(t){return new r.default(t)})))})),fetchAccountList:t=>i.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new r.default(t))})),e})),createAccount:t=>i.default.create(t),updateAccount:t=>i.default.update(t),deleteAccount:t=>i.default.deleteById(t)};e.default=o},36106:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(99773)),r={fetchInfo:()=>i.default.getData().then((function(t){var e=t.data;return{importJob:e.importJob||[],exportJob:e.exportJob||[]}})),export:t=>i.default.export(t).then((function(t){return t.data})),fetchExportInfo:t=>i.default.getExportById(t).then((function(t){return t.data})),exportDelete:t=>i.default.deleteExportById(t).then((function(t){return t.data})),updateExportComplete:t=>i.default.exportComplete(t).then((function(t){return t.data})),import:t=>i.default.import(t).then((function(t){return t.data})),fetchImportInfo:t=>i.default.getImportById(t).then((function(t){return t.data})),checkImportPassword:t=>i.default.checkImportPassword(t).then((function(t){return t.data})),uploadImportFile:(t,e)=>i.default.putImportFile(t,e).then((function(t){return t.data})),fetchExportFile:t=>i.default.getImportFile(t)};e.default=r},89928:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14309);var i=a(n(58486)),r=a(n(92257)),o={availableSourceList:t=>i.default.getAvailableList(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new r.default(t))})),e})),fetchAliasCheck(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getAliasCheck(t).then((function(t){return t.data}))},fetchFileSourceList:t=>i.default.getWorkTableList(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new r.default(t))})),e})),addSource:t=>i.default.addFileSource(t).then((function(t){return t.data})),updateSource:t=>i.default.updateFileSource(t).then((function(t){return t.data})),getSourceInfo:t=>i.default.getFileSourceInfo(t).then((function(t){var e=t.data;return e=Object.freeze(new r.default(e))})),removeSource:t=>i.default.removeFileSource(t).then((function(t){return t.data})),toggleSourceEnable:t=>i.default.toggleEnable(t).then((function(t){return t.data})),fetchParams:t=>i.default.getParams(t).then((function(t){return t.data}))};e.default=o},58319:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14309);var i=a(n(68203)),r=a(n(81621)),o=a(n(22216));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={fetchgetListFileNode:t=>r.default.getListFileNode(t).then((function(t){var e=t.data,n=e.metaData,a=e.pageData,i=e.fileSourceInfo;return l(l({},a),{},{metaData:n,fileSourceInfo:i})})),executeAction:t=>r.default.updateAction(t).then((function(t){return t.data})),bucketList:t=>r.default.getList(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new o.default(t))})),e})),fileList:t=>r.default.getFileList(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return new o.default(t)})),e})),deleteBucketFile:t=>r.default.deleteFile(t).then((function(t){return t.data})),deleteBucket:t=>r.default.deleteBucket(t).then((function(t){return t.data})),uploadFiles:t=>r.default.uploadFilesToBucket(t).then((function(t){return t.data}))};e.default=u},31752:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14309);var i=a(n(19116)),r={fetchBlacklist:t=>i.default.getBlacklist(t).then((function(t){return t.data})),blacklistUpdate:t=>i.default.updateBlacklist(t),blacklistDelete:t=>i.default.deleteBlacklistMember(t),fetchPoliciesList:t=>i.default.getPoliciesList(t).then((function(t){return t.data})),defaultPoliciesUpdate:t=>i.default.updateDefaultPolicies(t),fetchAllUsers(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getAllUsers(t).then((function(t){return t.data}))},fetchUsersOfSearch(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.default.getAllUsers({prefixStr:t,offset:0,limit:10}).then((function(t){return t.data.map((function(t){return{id:t.englishName,name:t.englishName}}))}))},fetchPageTemplate:()=>i.default.getPageTemplate().then((function(t){return t.data})),fetchAllChannel:()=>i.default.getAllChannel().then((function(t){return t.data})),fetchAvailableChannel:()=>i.default.getAvailableChannel().then((function(t){return t.data})),fetchRoleList:()=>i.default.getAllRole().then((function(t){return t.data}))};e.default=r},88214:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14309),n(41336),n(91981);var i=a(n(55761)),r=a(n(87492)),o=a(n(56966)),s=a(n(4587)),l=a(n(9199)),u={scriptList:t=>i.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new r.default(t))})),e})),scriptDetail:t=>i.default.getDataByScriptId(t).then((function(t){var e=t.data;return Object.freeze(new r.default(e))})),scriptName:t=>i.default.getName(t).then((function(t){return t.data.map((function(t){return{id:t,name:t}}))})),scriptVersionList:t=>i.default.getAllVersion(t).then((function(t){return t.data.map((function(t){return Object.freeze(new r.default(t))}))})),scriptUpdate:t=>i.default.update(t).then((function(t){return t.data})),scriptUpdateMeta:t=>i.default.updateMeta(t).then((function(t){return t.data})),scriptDelete:t=>i.default.deleteById(t).then((function(t){return t.data})),versionDetail:t=>i.default.getDataByVersionId(t).then((function(t){var e=t.data;return new r.default(e)})),scriptVersionOnline:t=>i.default.updateVersionStatusOnline(t),scriptVersionOffline:t=>i.default.updateVersionStatusOffline(t),scriptVersionRemove:t=>i.default.deleteVersionByVersionId(t),scriptTypeList:()=>Promise.resolve(Object.freeze([{id:1,name:"Shell"},{id:2,name:"Bat"},{id:3,name:"Perl"},{id:4,name:"Python"},{id:5,name:"Powershell"},{id:6,name:"SQL"}])),getScriptValidation:t=>i.default.getValidation(t).then((function(t){return t.data.map((function(t){return new o.default(t)}))})),getUploadContent:t=>i.default.uploadGetContent(t).then((function(t){var e=t.data;return Object.freeze(e)})),getOnlineScriptList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getAllOnline(t).then((function(t){return t.data}))},getOneOnlineScript(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getOneOnlineByScriptId(t).then((function(t){var e=t.data;return e?new r.default(e):""}))},scriptRefTemplateSteps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getRefTemplateSteps(t).then((function(t){return t.data.map((function(t){return Object.freeze(new s.default(t))}))}))},scriptVersionSync(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.syncScriptVersion(t).then((function(t){return t.data.map((function(t){return Object.freeze(new s.default(t))}))}))},citeInfo:t=>i.default.getCiteInfo(t).then((function(t){var e=t.data;return{citedTaskPlanList:e.citedTaskPlanList.map((function(t){return new l.default(t)})),citedTemplateList:e.citedTemplateList.map((function(t){return new l.default(t)}))}})),fetchBasicInfo:t=>i.default.getBasiceInfoById(t).then((function(t){var e=t.data;return new r.default(e)})),fetchBatchBasicInfo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getBatchBasiceInfoByIds(t).then((function(t){return t.data.map((function(t){return new r.default(t)}))}))},batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.batchUpdateTag(t).then((function(t){return t.data}))},fetchTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getTagCount(t).then((function(t){return t.data}))}};e.default=u},30820:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14309),n(92824);var i=a(n(80720)),r=a(n(97244)),o={fetchTagList:t=>i.default.getAll(t).then((function(t){return t.data.sort((function(t,e){return t.id-e.id})).map((function(t){return new r.default(t)}))})),fetchTagOfSearch:t=>i.default.getAll({tagName:t}).then((function(t){return t.data.map((function(t){return new r.default(t)}))}))};e.default=o},23898:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14309),n(41336),n(91981);var i=a(n(62684)),r=a(n(87492)),o=a(n(56966)),s=a(n(4587)),l=a(n(9199)),u={scriptList:(t,e)=>i.default.getAll(t,e).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return Object.freeze(new r.default(t))})),e})),scriptDetail:(t,e)=>i.default.getDataByScriptId(t,e).then((function(t){var e=t.data;return Object.freeze(new r.default(e))})),scriptName:t=>i.default.getName(t).then((function(t){return t.data.map((function(t){return{id:t,name:t}}))})),scriptVersionList:(t,e)=>i.default.getAllVersion(t,e).then((function(t){return t.data.map((function(t){return Object.freeze(new r.default(t))}))})),scriptUpdate:t=>i.default.update(t).then((function(t){return t.data})),scriptUpdateMeta:t=>i.default.updateMeta(t),scriptDelete:t=>i.default.deleteById(t),versionDetail:(t,e)=>i.default.getDataByVersionId(t,e).then((function(t){var e=t.data;return new r.default(e)})),scriptVersionOnline:t=>i.default.updateVersionStatusOnline(t),scriptVersionOffline:t=>i.default.updateVersionStatusOffline(t),scriptVersionRemove:t=>i.default.deleteVersionByVersionId(t),scriptTypeList:()=>Promise.resolve([{id:1,name:"Shell"},{id:2,name:"Bat"},{id:3,name:"Perl"},{id:4,name:"Python"},{id:5,name:"Powershell"},{id:6,name:"SQL"}]),getScriptValidation:t=>i.default.getValidation(t).then((function(t){return t.data.map((function(t){return new o.default(t)}))})),getUploadContent:t=>i.default.uploadGetContent(t).then((function(t){var e=t.data;return Object.freeze(e)})),getOnlineScriptList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getAllOnline(t).then((function(t){return t.data}))},getOneOnlineScript(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getOneOnlineByScriptId(t).then((function(t){var e=t.data;return e?new r.default(e):""}))},scriptRefTemplateSteps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getRefTemplateSteps(t).then((function(t){return t.data.map((function(t){return Object.freeze(new s.default(t))}))}))},scriptVersionSync(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.syncScriptVersion(t).then((function(t){return t.data.map((function(t){return Object.freeze(new s.default(t))}))}))},citeInfo:t=>i.default.getCiteInfo(t).then((function(t){var e=t.data;return{citedTaskPlanList:e.citedTaskPlanList.map((function(t){return new l.default(t)})),citedTemplateList:e.citedTemplateList.map((function(t){return new l.default(t)}))}})),fetchBasicInfo:t=>i.default.getBasiceInfoById(t).then((function(t){var e=t.data;return new r.default(e)})),fetchBatchBasicInfo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getBatchBasiceInfoByIds(t).then((function(t){return t.data.map((function(t){return new r.default(t)}))}))},batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.batchUpdateTag(t).then((function(t){return t.data}))},fetchTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getTagCount(t).then((function(t){return t.data}))}};e.default=u},11715:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(36569)),r={fetchOriginalTemplate:t=>i.default.getOriginalData(t).then((function(t){return t.data})),updateOriginalTemplate:t=>i.default.updateOriginalData(t).then((function(t){return t.data})),fetchRenderScript:t=>i.default.getRenderDataWithVariable(t).then((function(t){return t.data})),fetchTemplate:t=>i.default.getData(t).then((function(t){return t.data})),fetchVaribaleList:t=>i.default.getVariables(t).then((function(t){return t.data}))};e.default=r},45131:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14309);var i=a(n(8977)),r=a(n(94746)),o=a(n(97244)),s={fetchTagList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return new o.default(t)})),e}))},fetchWholeList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getAllWithBasic(t).then((function(t){return t.data.map((function(t){return new o.default(t)}))}))},batchUpdate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.batchUpdate(t).then((function(t){return t.data}))},fetchTagOfSearch:t=>i.default.getAllWithBasic({name:t}).then((function(t){return t.data.map((function(t){return new o.default(t)}))})),fetchTagTemplateNum(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.getNum(t).then((function(t){return t.data}))},remove(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.remove(t).then((function(t){return t.data}))},updateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.update(t).then((function(t){return t.data}))},createTag:t=>i.default.create(t).then((function(t){return t.data})),checkName(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.checkName(t).then((function(t){return t.data}))}};e.default=s},74650:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(68203));n(14309);var r=a(n(36410)),o=a(n(67905));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={taskList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return new o.default(l(l({},t),{},{canCreate:e.canCreate}))})),e}))},taskDetail:(t,e)=>r.default.getDataById(t,e).then((function(t){var e=t.data;return Object.freeze(new o.default(e))})),taskClone:(t,e)=>r.default.getDataById(t,e).then((function(t){var e=t.data;return e.name="".concat(e.name,"_copy"),Object.freeze(new o.default(e,!0))})),taskUpdate:t=>r.default.update(t).then((function(t){return t.data})),taskDelete:t=>r.default.deleteById(t),taskUpdateBasic:t=>r.default.updateBasic(t).then((function(t){return t.data})),taskUpdateFavorite:t=>r.default.updateFavorite(t).then((function(t){return t.data})),taskDeleteFavorite:t=>r.default.deleteFavorite(t).then((function(t){return t.data})),taskCheckName:t=>r.default.getCheckResult(t).then((function(t){return t.data})),fetchBasic:t=>r.default.getBasicById(t).then((function(t){return t.data.map((function(t){return new o.default(t)}))})),batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.batchUpdateTag(t).then((function(t){return t.data}))},fetchTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.getTagCount(t).then((function(t){return t.data}))}};e.default=u},32478:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14309),n(41336),n(59241);var i=a(n(42536)),r=a(n(89928)),o=a(n(49558)),s={fetchList:t=>i.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return new o.default(t)})),e})),fetchListWithRelate:t=>i.default.getAll(t).then((function(t){var e=t.data;return e.data=e.data.map((function(t){return new o.default(t)})),e.data.forEach((function(t){r.default.fetchFileSourceList({credentialId:t.id,pageSize:1}).then((function(e){t.relatedNums=e.total,t.isRelatedLoading=!1}))})),e})),update:t=>i.default.update(t),remove:t=>i.default.delete(t)};e.default=s},66662:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(14309),n(41336),n(59241),n(70616);var i=a(n(22791)),r=a(n(6722)),o=a(n(41342)),s={timeTaskUpdate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.update(t)},getDetail(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return i.default.getDataById(t,e).then((function(t){var e=t.data;return new o.default(e)}))},timeTaskDelete(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.deleteDataById(t)},timeTaskList:(t,e)=>i.default.getAll(t,e).then((function(t){var e=t.data;e.data=e.data.map((function(t){return new o.default(t)}));var n=e.data,a=n.map((function(t){return t.taskPlanId})).join(",");return a.length>0&&(r.default.getPlansBasicInfo({planIds:a}).then((function(t){var a={};return t.data.forEach((function(t){a[t.id]=t.name})),n.forEach((function(t){t.isPlanLoading=!1,t.taskPlanName=a[t.taskPlanId]})),e})),i.default.getStatictis({cronJobIds:n.map((function(t){return t.id})).join(",")}).then((function(t){var e=t.data.reduce((function(t,e){return t[e.id]=e,t}),{});n.forEach((function(t){var n=e[t.id]||{},a=n.lastExecuteStatus,i=n.failCount,r=n.totalCount,o=n.lastFailRecord;t.lastExecuteStatus=a,t.isStatictisLoading=!1,t.failCount=i||0,t.totalCount=r||0,t.lastFailRecord=Object.freeze(o||[])}))}))),e})),timeTaskStatusUpdate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.updateStatus(t)},timeTaskCheckName(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getCheckResult(t).then((function(t){return t.data}))},updatePlanTask(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.updateVariableAndEnable(t).then((function(t){return t.data}))},fetchTaskOfPlan(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getDataByPlanId(t).then((function(t){return t.data.map((function(t){return new o.default(t)}))}))},fetchTaskOfPlanBatch(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.getDataByPlanIds(t).then((function(t){return t.data}))},fetchUnlaunchHistory:t=>i.default.getUnlaunchHistory(t).then((function(t){return t.data}))};e.default=s},77796:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(98495);var i=a(n(37346)),r=a(n(27819));class o extends r.default{constructor(){super(),this.module="job-manage/web/account"}getWhole(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.get("".concat(this.path,"/accounts"),{params:t,cache:2e3})}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.get("".concat(this.path,"/accounts/page"),{params:t})}create(t){return i.default.post("".concat(this.path,"/account"),{params:t})}update(t){return i.default.put("".concat(this.path,"/account"),{params:t})}deleteById(t){var e=t.id;return i.default.delete("".concat(this.path,"/account/").concat(e))}getOne(t){var e=t.id;return i.default.get("".concat(this.path,"/account").concat(e))}}var s=new o;e.default=s},99773:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(68203));n(98495);var r=a(n(37346)),o=a(n(27819));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class u extends o.default{constructor(){super(),this.module="job-backup/web"}getData(){return r.default.get("".concat(this.path,"/backup"))}export(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/backup/export"),{params:t})}getExportById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/backup/export/").concat(t.id))}deleteExportById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.delete("".concat(this.path,"/backup/export/").concat(t.id))}exportComplete(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/backup/export/").concat(t.id,"/complete"),{params:t})}getImportById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/backup/import/").concat(t.id))}import(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.post("".concat(this.path,"/backup/import/").concat(t.id),{params:e})}checkImportPassword(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.post("".concat(this.path,"/backup/import/").concat(t.id,"/password"),{params:e})}putImportFile(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.post("".concat(this.path,"/backup/import/file"),{params:t,payload:l(l({},e),{},{timeout:0})})}getImportFile(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.download("".concat(this.path,"/backup/export/").concat(t.id,"/download"))}}var c=new u;e.default=c},58486:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(98495);var i=a(n(68203)),r=a(n(37346)),o=a(n(27819));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}class l extends o.default{constructor(){super(),this.module="/job-file-gateway/web/fileSource"}getAvailableList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/available/list"),{params:t})}getAliasCheck(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},t);return delete e.alias,r.default.get("".concat(this.path,"/checkAlias/").concat(t.alias),{params:e})}getWorkTableList(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/workTable/list"),{params:t})}addFileSource(t){return r.default.post("".concat(this.path),{params:t})}updateFileSource(t){return r.default.put("".concat(this.path),{params:t})}getFileSourceInfo(t){var e=t.id;return r.default.get("".concat(this.path,"/ids/").concat(e))}removeFileSource(t){return r.default.delete("".concat(this.path,"/ids/").concat(t.id))}toggleEnable(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.path,"/ids/").concat(t.id,"/enable?flag=").concat(t.flag))}getParams(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/fileSourceParams"),{params:t})}}var u=new l;e.default=u},81621:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(98495);var i=a(n(68203)),r=a(n(37346)),o=a(n(27819));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class u extends o.default{constructor(){super(),this.module="/job-file-gateway/web/file"}getListFileNode(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.fileSourceId,r.default.get("".concat(this.path,"/fileSourceIds/").concat(t.fileSourceId,"/listFileNode"),{params:e})}updateAction(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.fileSourceId,r.default.post("".concat(this.path,"/fileSourceIds/").concat(t.fileSourceId,"/executeAction"),{params:e})}}var c=new u;e.default=c},19116:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(37346)),r=a(n(27819));class o extends r.default{constructor(){super(),this.module="/job-manage/web/notify"}getBlacklist(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.get("".concat(this.module,"/users/blacklist"),{params:t})}updateBlacklist(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.post("".concat(this.module,"/"),{params:t})}deleteBlacklistMember(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.delete("".concat(this.module,"/"),{params:t})}getPoliciesList(t){return i.default.get("".concat(this.path,"/policies/listDefault"),{params:t})}updateDefaultPolicies(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.post("".concat(this.path,"/saveAppDefaultPolicies"),{params:t})}getAllUsers(t){return i.default.get("".concat(this.module,"/users/list"),{params:t})}getPageTemplate(){return i.default.get("".concat(this.module,"/pageTemplate"))}getAllChannel(){return i.default.get("".concat(this.module,"/notifyChannel/listAll"))}getAvailableChannel(){return i.default.get("".concat(this.module,"/notifyChannel/listAvailable"))}getAllRole(){return i.default.get("".concat(this.module,"/roles/list"))}}var s=new o;e.default=s},55761:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(68203));n(98495);var r=a(n(37346));function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=new class{constructor(){this.module="job-manage/web/public_script"}update(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.module,"/script"),{params:t})}getDataByScriptId(t){var e=t.id;return r.default.get("".concat(this.module,"/script/").concat(e))}deleteById(t){var e=t.id;return r.default.delete("".concat(this.module,"/script/").concat(e),{prefixPath:this.prefixPath})}updateMeta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s({},t);return delete e.id,r.default.put("".concat(this.module,"/script/").concat(t.id,"/info"),{params:e})}getAllVersion(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s({},t);return delete e.id,r.default.get("".concat(this.module,"/script/").concat(t.id,"/scriptVersion/list"),{prefixPath:this.prefixPath,params:e})}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/list"),{params:t})}getName(t){return r.default.get("".concat(this.module,"/scriptNames"),{params:t})}getAllOnline(t){return r.default.get("".concat(this.module,"/scripts/online"),{params:t})}getOneOnlineByScriptId(t){var e=s({},t);return delete e.id,r.default.get("".concat(this.module,"/scriptVersion/online/").concat(t.id),{params:e})}getDataByVersionId(t){var e=t.id;return r.default.get("".concat(this.module,"/scriptVersion/").concat(e))}deleteVersionByVersionId(t){var e=t.versionId;return r.default.delete("".concat(this.module,"/scriptVersion/").concat(e))}updateVersionStatusOnline(t){var e=t.id,n=t.versionId;return r.default.put("".concat(this.module,"/script/").concat(e,"/scriptVersion/").concat(n,"/publish"))}updateVersionStatusOffline(t){var e=t.id,n=t.versionId;return r.default.put("".concat(this.module,"/script/").concat(e,"/scriptVersion/").concat(n,"/disable"))}getValidation(t){return r.default.put("/job-manage/web/script/check",{params:t})}uploadGetContent(t){return r.default.post("/job-manage/web/script/upload",{params:t})}getRefTemplateSteps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/").concat(t.id,"/scriptVersion/").concat(t.scriptVersionId,"/syncTemplateSteps"))}syncScriptVersion(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=s({},t);return delete e.scriptId,delete e.scriptVersionId,r.default.post("".concat(this.module,"/script/").concat(t.scriptId,"/scriptVersion/").concat(t.scriptVersionId,"/sync"),{params:e})}getCiteInfo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/citeInfo"),{params:t})}getBasiceInfoById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/basic/").concat(t.id))}getBatchBasiceInfoByIds(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/script/basic/list"),{params:t})}batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.module,"/tag"),{params:t})}getTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/tag/count"),{params:t})}};e.default=l},80720:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(37346));var r=new class{constructor(){this.module="/job-manage/web/public_tag"}getAll(t){return i.default.get("".concat(this.module,"/list"),{params:t,cache:2e3})}};e.default=r},62684:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(68203));n(98495);var r=a(n(37346)),o=a(n(27819));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class u extends o.default{constructor(){super(),this.module="job-manage/web/script"}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/script/list"),{params:t,payload:e})}update(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/script"),{params:t})}getDataByScriptId(t){var e=t.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/script/").concat(e),{payload:n})}deleteById(t){var e=t.id;return r.default.delete("".concat(this.path,"/script/").concat(e),{prefixPath:this.prefixPath})}updateMeta(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.put("".concat(this.path,"/script/").concat(t.id,"/info"),{params:e})}getAllVersion(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/script/").concat(t.id,"/scriptVersion/list"),{payload:e})}getName(t){return r.default.get("".concat(this.path,"/scriptNames"),{params:t})}getAllOnline(t){return r.default.get("".concat(this.path,"/scripts/online"),{params:t})}getOneOnlineByScriptId(t){var e=l({},t);return delete e.id,r.default.get("".concat(this.path,"/scriptVersion/online/").concat(t.id),{params:e})}getDataByVersionId(t,e){var n=t.id;return r.default.get("".concat(this.path,"/scriptVersion/").concat(n),{payload:e})}deleteVersionByVersionId(t){var e=t.versionId;return r.default.delete("".concat(this.path,"/scriptVersion/").concat(e))}updateVersionStatusOnline(t){var e=t.id,n=t.versionId;return r.default.put("".concat(this.path,"/script/").concat(e,"/scriptVersion/").concat(n,"/publish"))}updateVersionStatusOffline(t){var e=t.id,n=t.versionId;return r.default.put("".concat(this.path,"/script/").concat(e,"/scriptVersion/").concat(n,"/disable"))}getValidation(t){return r.default.put("".concat(this.module,"/check"),{params:t})}uploadGetContent(t){return r.default.post("".concat(this.module,"/upload"),{params:t})}getRefTemplateSteps(t){var e=t.id,n=t.scriptVersionId;return r.default.get("".concat(this.path,"/script/").concat(e,"/scriptVersion/").concat(n,"/syncTemplateSteps"))}syncScriptVersion(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.scriptId,delete e.scriptVersionId,r.default.post("".concat(this.path,"/script/").concat(t.scriptId,"/scriptVersion/").concat(t.scriptVersionId,"/sync"),{params:e})}getCiteInfo(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/citeInfo"),{params:t})}getBasiceInfoById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/script/basic/").concat(t.id))}getBatchBasiceInfoByIds(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/script/basic/list"),{params:t})}batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.path,"/tag"),{params:t})}getTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/tag/count"),{params:t})}}var c=new u;e.default=c},36569:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(68203)),r=a(n(37346));function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l=new class{constructor(){this.module="job-manage/web/customSettings/scriptTemplate"}getOriginalData(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module),{params:t})}updateOriginalData(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.module),{params:t})}getRenderDataWithVariable(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.module,"/render"),{params:t})}getData(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/rendered"),{params:s(s({},t),{},{scopeType:window.PROJECT_CONFIG.SCOPE_TYPE,scopeId:window.PROJECT_CONFIG.SCOPE_ID})})}getVariables(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.module,"/variables"),{params:t})}};e.default=l},8977:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(98495);var i=a(n(68203)),r=a(n(37346)),o=a(n(27819));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class u extends o.default{constructor(){super(),this.module="/job-manage/web/tag"}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/tag/list"),{params:t,cache:2e3})}getAllWithBasic(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/tag/basic/list"),{params:t,cache:2e3})}update(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.put("".concat(this.path,"/tag/").concat(t.id),{params:e})}create(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.post("".concat(this.path,"/tag"),{params:t})}remove(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.delete("".concat(this.path,"/tag/").concat(t.id))}batchUpdate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.put("".concat(this.path,"/tag/").concat(t.id,"/resources"),{params:e})}checkName(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.get("".concat(this.path,"/tag/").concat(t.id,"/checkName"),{params:e})}}var c=new u;e.default=c},94746:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(37346)),r=a(n(27819));class o extends r.default{constructor(){super(),this.module="/job-manage/web"}getNum(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.get("".concat(this.path,"/task/template/tag/count"),{params:t})}}var s=new o;e.default=s},36410:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(68203));n(98495);var r=a(n(37346)),o=a(n(27819));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class u extends o.default{constructor(){super(),this.module="/job-manage/web"}getAll(t){return r.default.get("".concat(this.path,"/task/template/"),{params:t})}getDataById(t,e){var n=t.id;return r.default.get("".concat(this.path,"/task/template/").concat(n),{payload:e})}update(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.id,r.default.put("".concat(this.path,"/task/template/").concat(t.id),{params:e})}deleteById(t){var e=t.id;return r.default.delete("".concat(this.path,"/task/template/").concat(e))}updateBasic(){var t=l({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return r.default.put("".concat(this.path,"/task/template/").concat(t.id,"/basic"),{params:t})}updateFavorite(){var t=l({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return r.default.put("".concat(this.path,"/task/template/").concat(t.id,"/favorite"))}deleteFavorite(){var t=l({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return r.default.delete("".concat(this.path,"/task/template/").concat(t.id,"/favorite"))}getCheckResult(t){var e=l({},t);return delete e.id,r.default.get("".concat(this.path,"/task/template/").concat(t.id,"/check_name"),{params:e})}getBasicById(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/task/template/basic"),{params:t})}batchUpdateTag(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.put("".concat(this.path,"/task/template/tag"),{params:t})}getTagCount(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/task/template/tag/count"),{params:t})}}var c=new u;e.default=c},42536:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(98495);var i=a(n(37346)),r=a(n(27819));class o extends r.default{constructor(){super(),this.module="job-manage/web/credentials"}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.get("".concat(this.path,"/list"),{params:t})}update(t){return i.default.post("".concat(this.path,"/"),{params:t})}delete(t){var e=t.id;return i.default.delete("".concat(this.path,"/ids/").concat(e))}}var s=new o;e.default=s},22791:function(t,e,n){"use strict";n(87147),n(13118),n(41336),n(59241),n(20767);var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n(68203));n(98495);var r=a(n(37346)),o=a(n(27819));function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,i.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}class u extends o.default{constructor(){super(),this.module="/job-crontab/web"}update(t){var e=t.id;return r.default.put("".concat(this.path,"/cron/job/").concat(e),{params:t})}getDataById(t){var e=t.id,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/cron/job/").concat(e),{payload:n})}deleteDataById(t){var e=t.id;return r.default.delete("".concat(this.path,"/cron/job/").concat(e))}getAll(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r.default.get("".concat(this.path,"/cron/job"),{params:t,payload:e})}updateStatus(t){var e=t.id,n=t.enable;return r.default.put("".concat(this.path,"/cron/job/").concat(e,"/status/?enable=").concat(n))}getCheckResult(t){var e=l({},t);return delete e.id,r.default.get("".concat(this.path,"/cron/job/").concat(t.id,"/check_name"),{params:e})}updateVariableAndEnable(t){return r.default.post("".concat(this.path,"/cron/job/batch_update"),{params:t})}getDataByPlanId(t){return r.default.get("".concat(this.path,"/cron/job/plan/").concat(t.id))}getDataByPlanIds(t){return r.default.get("".concat(this.path,"/cron/job/plans/").concat(t.planIds))}getStatictis(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r.default.get("".concat(this.path,"/cron/job/statistic"),{params:t})}getUnlaunchHistory(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=l({},t);return delete e.cronTaskId,r.default.get("".concat(this.path,"/cron/job/").concat(t.cronTaskId,"/history"),{params:e})}}var c=new u;e.default=c},3902:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(98495),n(14309),n(32106),n(9158);var i=a(n(68203)),r=a(n(18646)),o=a(n(34976)),s=n(11986);class l{constructor(t){this.id=t.id||0,this.fileType=t.fileType||"",this.fileLocation=t.fileLocation||[],this.host=new o.default(t.host||{}),this.account=t.account,this.fileSourceId=t.fileSourceId,this.fileSize=t.fileSize||0,this.fileHash=t.fileHash||"",this.isEditAccount=!1,this.isEditVariable=!1,this.loaded=0,this.loadTotal=1,this.uploadStatus="primary"}get isVar(){return o.default.isHostNodeInfoEmpty(this.host.hostNodeInfo)}get isServerFile(){return 1===this.fileType}get isLocalFile(){return 2===this.fileType}get isSourceFile(){return 3===this.fileType}get fileSizeText(){return(0,s.bytePretty)(this.fileSize)}get uploadProgress(){return this.loaded/this.loadTotal}get isHostEmpty(){return o.default.isHostNodeInfoEmpty(this.host.hostNodeInfo)}get realId(){return 1===this.fileType?"".concat(this.fileLocation,"____").concat(this.account):this.fileLocationText}get fileLocationText(){return 2===this.fileType?this.fileLocation.map((function(t){return(0,r.default)(t.split("/"))})).join("\n"):this.fileLocation.join("\n")}get isDisableSave(){return!this.fileLocation||this.fileLocation.length<1||(!this.account||!(!o.default.isHostNodeInfoEmpty(this.host.hostNodeInfo)||""!==this.host.variable))}get variable(){return this.host.variable?this.host.variable:""}get serverDesc(){if(this.host.variable)return this.host.variable;var t=[],e=this.host.hostNodeInfo,n=e.dynamicGroupList,a=e.ipList,i=e.topoNodeList,r=function(t,e){return'<span><span class="strong number">'.concat(t,"</span>").concat(e,"</span>")};return a.length>0&&t.push(r(a.length,"台主机.result")),i.length>0&&t.push(r(i.length,"个节点.result")),n.length>0&&t.push(r(n.length,"个分组.result")),"".concat(t.join('<span class="sep-location"></span>\n'))}}e.default=l,(0,i.default)(l,"statusAgentMap",{1:"正常",0:"异常",2:"未安装"}),(0,i.default)(l,"typeServer",1),(0,i.default)(l,"typeLocal",2),(0,i.default)(l,"typeSource",3)},22061:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(41336),n(84367),n(32106),n(9158),n(89242),n(98495),n(14309),n(17450),n(59241);var i=a(n(17434)),r=a(n(68203));class o{constructor(t){var e=t.type,n=t.value,a=t.min,i=t.max,r=t.repeatInterval;this.type=e,this.value=n||"",this.min=a,this.max=i,this.repeatInterval=r}}(0,r.default)(o,"TYPE_ENUM",1),(0,r.default)(o,"TYPE_RANG",2),(0,r.default)(o,"TYPE_REPEAT",3),(0,r.default)(o,"TYPE_RANG_REPEAT",4);var s=["minute","hour","dayOfMonth","month","dayOfWeek"],l={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六",7:"日"},u={sun:"日",mon:"一",tue:"二",wed:"三",thu:"四",fri:"五",sat:"六"},c=function(t){if(l[t])return l[t];var e=t.toString().toLowerCase();return u[e]?u[e]:t},d=function(t){var e=~~t;return e<5?"凌晨".concat(e,"点"):e<12?"上午".concat(e,"点"):12===e?"中午".concat(e,"点"):e<18?"下午".concat(e,"点"):"晚上".concat(e,"点")},h=function(t){var e=~~t;return e<10?"0".concat(e):e},f={minute:{genAll:function(){return"每分钟"},[o.TYPE_ENUM]:function(t){return"".concat(h(t.value),"分")},[o.TYPE_RANG]:function(t){return"".concat(h(t.min),"分到").concat(h(t.max),"分")},[o.TYPE_REPEAT]:function(t){return"*"===t.value?"每隔".concat(t.repeatInterval,"分钟"):"从".concat(h(t.value),"分开始每隔").concat(t.repeatInterval,"分钟")},[o.TYPE_RANG_REPEAT]:function(t){return"从".concat(h(t.min),"分开始到").concat(h(t.max),"分的每").concat(t.repeatInterval,"分钟")}},hour:{genAll:function(){return"每小时"},[o.TYPE_ENUM]:function(t){return"".concat(d(t.value))},[o.TYPE_RANG]:function(t){return"".concat(d(t.min),"到").concat(d(t.max))},[o.TYPE_REPEAT]:function(t){return"*"===t.value?"每隔".concat(t.repeatInterval,"个小时"):"从".concat(d(t.value),"开始每隔").concat(t.repeatInterval,"个小时")},[o.TYPE_RANG_REPEAT]:function(t){return"从".concat(d(t.min),"开始到").concat(d(t.max),"的每").concat(t.repeatInterval,"个小时")}},dayOfMonth:{genAll:function(){return"每天"},[o.TYPE_ENUM]:function(t){return"".concat(t.value,"号")},[o.TYPE_RANG]:function(t){return"".concat(t.min,"号到").concat(t.max,"号")},[o.TYPE_REPEAT]:function(t){return"*"===t.value?"每隔".concat(t.repeatInterval,"天"):"从".concat(t.value,"号开始每隔").concat(t.repeatInterval,"天")},[o.TYPE_RANG_REPEAT]:function(t){return"从".concat(t.min,"号开始到").concat(t.max,"号的每").concat(t.repeatInterval,"天")}},month:{genAll:function(){return"每月"},[o.TYPE_ENUM]:function(t){return"".concat(t.value,"月")},[o.TYPE_RANG]:function(t){return"".concat(t.min,"月到").concat(t.max,"月")},[o.TYPE_REPEAT]:function(t){return"*"===t.value?"每隔".concat(t.repeatInterval,"个月"):"从".concat(t.value,"月开始每隔").concat(t.repeatInterval,"个月")},[o.TYPE_RANG_REPEAT]:function(t){return"从".concat(t.min,"月开始到").concat(t.max,"月的每").concat(t.repeatInterval,"个月")}},dayOfWeek:{genAll:function(){return"每天"},[o.TYPE_ENUM]:function(t){return"每周".concat(c(t.value))},[o.TYPE_RANG]:function(t){return"每周".concat(c(t.min),"到周").concat(c(t.max))},[o.TYPE_REPEAT]:function(t){return"*"===t.value?"每个星期内的每隔".concat(t.repeatInterval,"天"):"从每周".concat(c(t.value),"开始每隔").concat(t.repeatInterval,"天")},[o.TYPE_RANG_REPEAT]:function(t){return"从每周".concat(c(t.min),"开始到周").concat(c(t.max),"的每隔").concat(t.repeatInterval,"天")}}},p=function(t){var e="".concat(t).trim().split(/\s+/),n={};e.forEach((function(t,e){n[s[e]]=function(t){for(var e=[],n=/-/,a=/\//,r="".concat(t).trim().split(","),s=-1;++s<r.length;){var l=r[s];if(n.test(l)&&a.test(l)){var u=l.split("/"),c=(0,i.default)(u,2),d=c[0],h=c[1],f=d.split("-"),p=(0,i.default)(f,2),v=p[0],g=p[1];e.push(new o({type:o.TYPE_RANG_REPEAT,min:v,max:g,repeatInterval:h}))}else if(a.test(l)){var m=l.split("/"),y=(0,i.default)(m,2),_=y[0],b=y[1];e.push(new o({type:o.TYPE_REPEAT,value:_,repeatInterval:b}))}else if(n.test(l)){var x=l.split("-"),w=(0,i.default)(x,2),S=w[0],I=w[1];e.push(new o({type:o.TYPE_RANG,min:S,max:I}))}else e.push(new o({type:o.TYPE_ENUM,value:l}))}return e}(t)}));var a=function(t){var e=function(t){return 1===t.length&&t[0].type===o.TYPE_ENUM&&("*"===t[0].value||"?"===t[0].value)},n={};return n.month=e(t.month)?[]:t.month,e(t.dayOfMonth)&&e(t.month)&&e(t.dayOfWeek)?(n.dayOfMonth=[],delete n.month):(e(t.dayOfWeek)||(n.dayOfWeek=t.dayOfWeek),e(t.dayOfMonth)||(n.dayOfMonth=t.dayOfMonth),!n.dayOfMonth&&!n.dayOfWeek&&n.month.length>0&&(n.dayOfMonth=[])),n.hour=e(t.hour)?[]:t.hour,n.hour.length<1&&n.dayOfMonth&&n.dayOfMonth.length<1&&delete n.dayOfMonth,n.minute=e(t.minute)?[]:t.minute,n.minute.length<1&&n.hour.length<1&&delete n.hour,n}(n);return function(t){var e=function(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))return"";var n=t[e],a=f[e];if(n.length<1)return a.genAll();var i=n.map((function(t){return a[t.type](t)}));if(i.length<2)return i.join("");var r=i.slice(0,-1),o=i.slice(-1);return"".concat(r.join("，"),"和").concat(o[0])};return[e(t,"month"),e(t,"dayOfMonth"),e(t,"dayOfWeek"),e(t,"hour"),e(t,"minute")]}(a)};e.default=function(t){return p(t)}},2938:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.timeTaskNameRule=e.taskTemplateName=e.tagNameRule=e.scriptVersionRule=e.scriptNameRule=e.planNameRule=e.globalVariableNameRule=e.fileSourceAliasNameRule=e.filePathRule=e.accountAliasNameRule=e.IPRule=void 0,n(32106);var a={validator:function(t){return/^[^\\|/:*<>"?]{1,60}$/.test(t)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};e.scriptNameRule=a;var i={validator:function(t){return/^[A-Za-z0-9\-_#@.]{1,30}$/.test(t)},message:"只允许包含这些字符".concat("：A-Z a-z 0-9 _ - # @ .")};e.scriptVersionRule=i;var r={validator:function(t){return/^[^\\|/:*<>"?]{1,60}$/.test(t)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};e.taskTemplateName=r;var o={validator:function(t){return/^[^\\|/:*<>"?]{1,60}$/.test(t)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};e.planNameRule=o;var s={validator:function(t){return/^[^\\|/:*<>"?]{1,60}$/.test(t)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};e.timeTaskNameRule=s;var l={validator:function(t){return/^[^\\|/:*<>"?]{1,32}$/.test(t)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};e.accountAliasNameRule=l;e.filePathRule={validator:function(t){return/(^([a-z]|[A-Z]):(?=\\(?![\0-\37<>:"/\\|?*])|\/(?![\0-\37<>:"/\\|?*])|$)|^\\(?=[\\/][^\0-\37<>:"/\\|?*]+)|^(?=(\\|\/)$)|^\.(?=(\\|\/)$)|^\.\.(?=(\\|\/)$)|^(?=(\\|\/)[^\0-\37<>:"/\\|?*]+)|^\.(?=(\\|\/)[^\0-\37<>:"/\\|?*]+)|^\.\.(?=(\\|\/)[^\0-\37<>:"/\\|?*]+))((\\|\/)[^\0-\37<>:"/\\|?*]+|(\\|\/)$)*()|(^\/$|(^(?=\/)|^\.|^\.\.)(\/(?=[^/\0])[^/\0]+)*\/?)$/.test(t)||/^\$\{/.test(t)},message:"目标路径格式错误"};e.tagNameRule={validator:function(t){return/^[\u4e00-\u9fa5A-Za-z0-9\-_!#@$&%^~=+.]{1,20}$/.test(t)},message:"标签名支持：汉字 A-Z a-z 0-9 _ - ! # @ $ & % ^ ~ = + ."};e.globalVariableNameRule={validator:function(t){return/^[a-zA-Z_][0-9a-zA-Z_-]{0,29}$/.test(t)},message:"变量名称：以英文字符、下划线开头；只允许英文字符、数字、下划线、和 -"};e.IPRule={validator:function(t){return/([0,1]?\d{1,2}|2([0-4][0-9]|5[0-5]))(\.([0,1]?\d{1,2}|2([0-4][0-9]|5[0-5]))){3}/.test(t)},message:"IP 格式不正确"};var u={validator:function(t){return/^[^\\|/:*<>"?]{1,32}$/.test(t)},message:"不允许包含这些字符".concat('：\\ | / : * < > " ?')};e.fileSourceAliasNameRule=u},85049:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findParent=void 0;e.findParent=function(t,e){for(var n=t.$parent||t.$root,a=n.$options.name;n&&(!a||a!==e);)(n=n.$parent)&&(a=n.$options.name);return n}},89144:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.genGlobalVariableKey=void 0,n(98495);e.genGlobalVariableKey=function(t){return"".concat(t.type,"#").concat(t.name)}},99431:function(t,e,n){"use strict";var a=n(70534);Object.defineProperty(e,"__esModule",{value:!0}),e.createVariable=void 0;var i,r=a(n(15265)),o=(i=-1,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.TYPE_STRING;return new r.default({id:t||i--,type:e})});e.createVariable=o},19081:function(t,e,n){"use strict";n.r(e);e.default="<h1>Instruction</h1> <p>The variables who customized in the Job</p> <h1>How to</h1> <p> Using <code>$</code> and <code>{}</code>, e.g.: <code>${VarName}</code></p> <h1>Where to</h1> <ul> <li><p>String</p> <ol> <li>Available in the script, only <code>shell</code> supported</li> <li><code>Source</code> and <code>Destination</code> in “File Transfer”</li> <li><code>Params</code> field in “Script Execution” step</li> </ol> </li> <li><p>Namespace</p> <p>Available in the script, only <code>shell</code> supported</p> </li> <li><p>Host</p> <p>Not available in script, need to be used with &quot;Magic Var&quot;</p> </li> <li><p>Ciphertext</p> <p>Available in the script, only <code>shell</code> supported</p> </li> <li><p>Array</p> <p>Available in the script, only <code>shell</code> supported</p> </li> </ul> "},39229:function(t,e,n){"use strict";n.r(e);e.default="<h1>说明</h1> <p>即，在作业中用户自定义的全局通用变量</p> <h1>用法</h1> <p> 使用 dollar 符 + 大括号：<code>${变量名}</code></p> <h1>在哪里用</h1> <ul> <li><p>字符串</p> <ol> <li>脚本中直接引用，当前仅支持 <code>shell</code></li> <li>“文件分发”步骤的源 <code>文件路径</code> 和 <code>目标路径</code></li> <li>“执行脚本”步骤的 <code>脚本参数</code></li> </ol> </li> <li><p>命名空间</p> <p>脚本中直接引用，当前仅支持 <code>shell</code></p> </li> <li><p>主机列表</p> <p>无法直接引用，需要配合 “魔法变量”</p> </li> <li><p>密文</p> <p>脚本中直接引用，当前仅支持 <code>shell</code></p> </li> <li><p>数组</p> <p>脚本中直接引用，当前仅支持 <code>shell</code></p> </li> </ul> "},95660:function(t,e,n){"use strict";n.r(e);e.default='<h1>Instruction</h1> <p>Magic Variable is a special variable that built-in specific to the JOB platform, and it&#39;s only supported in the JOB platform</p> <h1>How to</h1> <p> Must declare before use it: <code># job_import {{VarName}}</code></p> <p> After that, using <code>$</code> and <code>{}</code>, e.g.: <code>${VarName}</code></p> <h1>Where to</h1> <p> Only supported in <code>shell</code> script</p> <h1>Variable List</h1> <ul> <li><p>To get value of <code>Host</code> type global variable</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{host_type_var_name}}</span>\n\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${host_type_var_name}</span>\n</code></pre> <p>Result (Example):</p> <pre><code>0:10.1.1.100,1:20.2.2.200\n</code></pre> <p>The result output format is <code>Cloud Area + : + inner IP addr</code>, multiple IPs are separated by commas(,)</p> </li> <li><p>To get value of last step host list</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_LAST_ALL}}</span>\n<span class="hljs-comment"># Get all host list of last step</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_SUCCESS}}</span>\n<span class="hljs-comment"># Get success host list of last step</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_FAIL}}</span>\n<span class="hljs-comment"># Get failure host list of last step</span>\n</code></pre> <p>The result output format is &quot;Cloud Area + : + inner IP addr&quot;, multiple IPs are separated by commas(,)</p> </li> <li><p>To get value of other host&#39;s namespace variable</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_NAMESPACE_ALL}}</span>\n<span class="hljs-comment"># Get value of all namespace variable</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_ALL}</span>\n\n<span class="hljs-comment"># job_import {{JOB_NAMESPACE_varname}}</span>\n<span class="hljs-comment"># Get value of specific namespace variable</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_varname}</span>\n</code></pre> <p>Result (Example):</p> <pre><code class="language-bash"><span class="hljs-comment">### echo ${JOB_NAMESPACE_ALL} (If there have two namespace variables: ns_var1 and ns_var2):</span>\n{<span class="hljs-string">&quot;ns_var1&quot;</span>:{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>},<span class="hljs-string">&quot;ns_var2&quot;</span>:{<span class="hljs-string">&quot;0:20.20.20.1&quot;</span>:<span class="hljs-string">&quot;aaaa&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.2&quot;</span>:<span class="hljs-string">&quot;bbbb&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.3&quot;</span>:<span class="hljs-string">&quot;cccc&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.4&quot;</span>:<span class="hljs-string">&quot;dddd&quot;</span>}}\n  \n<span class="hljs-comment">### echo ${JOB_NAMESPACE_ns_var1}:</span>\n{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>}\n</code></pre> </li> <li><p>Two ways to processing JSON string with Shell (For reference only, it&#39;s recommended to be on-line after debug)：</p> <ol> <li>Using sed &amp; awk :</li> </ol> <pre><code class="language-bash">  <span class="hljs-comment">#!/bin/bash</span>\n  \n  str=<span class="hljs-string">&#x27;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#x27;</span>\n  \n  <span class="hljs-keyword">function</span> json_parse {\n      <span class="hljs-built_in">local</span> _json=<span class="hljs-variable">$1</span>\n      <span class="hljs-built_in">local</span> _key=<span class="hljs-variable">$2</span>\n      temp=`<span class="hljs-built_in">echo</span> <span class="hljs-variable">$_json</span> | sed <span class="hljs-string">&#x27;s/\\\\\\\\\\//\\//g&#x27;</span> | sed <span class="hljs-string">&#x27;s/[{}]//g&#x27;</span> | awk -v k=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-string">&#x27;{n=split($0,a,&quot;,&quot;); for (i=1; i&lt;=n; i++) print a[i]}&#x27;</span> | sed <span class="hljs-string">&#x27;s/\\&quot;\\:\\&quot;/\\|/g&#x27;</span> | sed <span class="hljs-string">&#x27;s/[\\,]/ /g&#x27;</span> | sed <span class="hljs-string">&#x27;s/\\&quot;//g&#x27;</span> | grep -w <span class="hljs-variable">$_key</span>`\n      <span class="hljs-built_in">echo</span> <span class="hljs-variable">${temp##*|}</span>\n  }\n  \n  json_parse <span class="hljs-variable">$str</span> ip1\t\t\t<span class="hljs-comment">## Value of ip1 in $str variable, it will be &quot;value1&quot;</span>\n  json_parse <span class="hljs-variable">$str</span> ns1\t\t\t<span class="hljs-comment">## Value of ns1, it will be {&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;}</span>\n</code></pre> <ol start="2"> <li>Using Python&#39;s json module :</li> </ol> <pre><code class="language-bash">  <span class="hljs-comment">#!/bin/bash</span>\n  \n  str=<span class="hljs-string">&#x27;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#x27;</span>\n  \n  <span class="hljs-comment">### To get value of ip2 in $str variable, it will be &quot;value2&quot;</span>\n  <span class="hljs-built_in">echo</span> <span class="hljs-variable">${str}</span> | python -c <span class="hljs-string">&#x27;import json,sys;obj=json.load(sys.stdin);print obj[&quot;ns1&quot;][&quot;ip2&quot;]&#x27;</span>\n</code></pre> </li> </ul> '},15591:function(t,e,n){"use strict";n.r(e);e.default='<h1>说明</h1> <p>JOB平台执行引擎提供的特有的变量能力</p> <h1>用法</h1> <p> 脚本中使用，并且需要事先声明：<code>job_import {{变量名}}</code></p> <p> 声明后，同样是使用 dollar 符 + 大括号：<code>${变量名}</code></p> <h1>在哪里用</h1> <p> 当前仅支持在 <code>shell</code> 脚本语言中使用</p> <h1>变量列表</h1> <ul> <li><p>获取 <code>主机列表</code> 类型的全局变量值</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{主机列表的全局变量名}}</span>\n\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${主机列表的全局变量名}</span>\n</code></pre> <p>输出结果（示例）：</p> <pre><code>0:10.1.1.100,1:20.2.2.200\n</code></pre> <p>输出的格式为： <code>云区域ID + 冒号 + 内网IP</code>，多个IP地址以逗号分隔</p> </li> <li><p>获取上一个步骤执行的主机列表</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_LAST_ALL}}</span>\n<span class="hljs-comment"># 获取上一个步骤的所有执行主机IP列表</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_SUCCESS}}</span>\n<span class="hljs-comment"># 获取上一个步骤执行成功的主机IP列表</span>\n\n<span class="hljs-comment"># job_import {{JOB_LAST_FAIL}}</span>\n<span class="hljs-comment"># 获取上一个步骤执行失败的主机IP列表</span>\n</code></pre> <p>输出的格式同上： <code>云区域ID + 冒号 + 内网IP</code>，多个IP地址以逗号分隔</p> </li> <li><p>获取其他主机的命名空间变量值</p> <pre><code class="language-bash"><span class="hljs-comment"># job_import {{JOB_NAMESPACE_ALL}}</span>\n<span class="hljs-comment"># 获取所有命名空间变量的汇聚值</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_ALL}</span>\n\n<span class="hljs-comment"># job_import {{JOB_NAMESPACE_命名空间变量名}}</span>\n<span class="hljs-comment"># 获取某个命名空间变量的汇聚值</span>\n<span class="hljs-built_in">echo</span> <span class="hljs-variable">${JOB_NAMESPACE_命名空间变量名}</span>\n</code></pre> <p>输出结果（示例）：</p> <pre><code class="language-bash"><span class="hljs-comment">### echo ${JOB_NAMESPACE_ALL} 的输出(假定有 ns_var1 和 ns_var2 两个命名空间类型全局变量)：</span>\n{<span class="hljs-string">&quot;ns_var1&quot;</span>:{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>},<span class="hljs-string">&quot;ns_var2&quot;</span>:{<span class="hljs-string">&quot;0:20.20.20.1&quot;</span>:<span class="hljs-string">&quot;aaaa&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.2&quot;</span>:<span class="hljs-string">&quot;bbbb&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.3&quot;</span>:<span class="hljs-string">&quot;cccc&quot;</span>,<span class="hljs-string">&quot;0:20.20.20.4&quot;</span>:<span class="hljs-string">&quot;dddd&quot;</span>}}\n  \n<span class="hljs-comment">### echo ${JOB_NAMESPACE_命名空间变量名} 的输出：</span>\n{<span class="hljs-string">&quot;0:10.10.10.1&quot;</span>:<span class="hljs-string">&quot;xxxx&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.2&quot;</span>:<span class="hljs-string">&quot;yyyy&quot;</span>,<span class="hljs-string">&quot;0:10.10.10.3&quot;</span>:<span class="hljs-string">&quot;zzzz&quot;</span>}\n</code></pre> </li> <li><p>Shell 脚本处理 JSON字符串的两种方式（仅供参考，正式投入使用建议调试确认后再上线）：</p> <p> 方式一：（纯 sed + awk 实现）</p> <pre><code class="language-bash">  <span class="hljs-comment">#!/bin/bash</span>\n  \n  str=<span class="hljs-string">&#x27;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#x27;</span>\n  \n  <span class="hljs-keyword">function</span> json_parse {\n      <span class="hljs-built_in">local</span> _json=<span class="hljs-variable">$1</span>\n      <span class="hljs-built_in">local</span> _key=<span class="hljs-variable">$2</span>\n      temp=`<span class="hljs-built_in">echo</span> <span class="hljs-variable">$_json</span> | sed <span class="hljs-string">&#x27;s/\\\\\\\\\\//\\//g&#x27;</span> | sed <span class="hljs-string">&#x27;s/[{}]//g&#x27;</span> | awk -v k=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-string">&#x27;{n=split($0,a,&quot;,&quot;); for (i=1; i&lt;=n; i++) print a[i]}&#x27;</span> | sed <span class="hljs-string">&#x27;s/\\&quot;\\:\\&quot;/\\|/g&#x27;</span> | sed <span class="hljs-string">&#x27;s/[\\,]/ /g&#x27;</span> | sed <span class="hljs-string">&#x27;s/\\&quot;//g&#x27;</span> | grep -w <span class="hljs-variable">$_key</span>`\n      <span class="hljs-built_in">echo</span> <span class="hljs-variable">${temp##*|}</span>\n  }\n  \n  json_parse <span class="hljs-variable">$str</span> ip1\t\t\t<span class="hljs-comment">## 获取 str 的 json字符串中 ip1 的值，即：value1</span>\n  json_parse <span class="hljs-variable">$str</span> ns1\t\t\t<span class="hljs-comment">## 获取 str 的 json字符串中 ns1 的值，即：{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;}</span>\n</code></pre> <p>方式二：（借助 Python 的 json 模块实现）</p> <pre><code class="language-bash">  <span class="hljs-comment">#!/bin/bash</span>\n  \n  str=<span class="hljs-string">&#x27;{&quot;ns1&quot;:{&quot;ip1&quot;:&quot;value1&quot;,&quot;ip2&quot;:&quot;value2&quot;},&quot;ns2&quot;:{&quot;ip3&quot;:&quot;value3&quot;,&quot;ip4&quot;:&quot;value4&quot;}}&#x27;</span>\n  \n  <span class="hljs-comment">### 获取 str 的 json字符串中 ip2 的值，即：value2</span>\n  <span class="hljs-built_in">echo</span> <span class="hljs-variable">${str}</span> | python -c <span class="hljs-string">&#x27;import json,sys;obj=json.load(sys.stdin);print obj[&quot;ns1&quot;][&quot;ip2&quot;]&#x27;</span>\n</code></pre> </li> </ul> '},72886:function(){},67103:function(){},66553:function(){},24973:function(){},81663:function(){},72713:function(){},37674:function(){},75066:function(){},18977:function(){},71794:function(){},44651:function(){},32839:function(){},60689:function(){},18004:function(){},7420:function(){},12610:function(){},22686:function(){},41989:function(){},11771:function(){},68839:function(){},78243:function(){},93257:function(){},40026:function(){},79805:function(){},1210:function(){},56857:function(){},86771:function(){},52958:function(){},7205:function(){},34760:function(){},86357:function(){},72821:function(){},85317:function(){},35282:function(){},90779:function(){},73287:function(){},42590:function(){},68925:function(){},71639:function(){},90004:function(){},26527:function(){},36693:function(){},98911:function(){},8812:function(){},90492:function(){},70408:function(){},37562:function(){},58102:function(){},39945:function(){},69639:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"exection-status-bar",class:[t.data.displayStyle]},[n(t.themeCom,{tag:"component",attrs:{data:t.data,"title-max-width":t.titleMaxWidth}},[t._t("default")],2)],1)};a._withStripped=!0;var i=n(61027),r=i.Z,o=(n(50115),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/executive-history/common/execution-status-bar/index.vue";var s=o.exports},23692:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(t,e){var n=e._c;return n("div",{staticClass:"step-exection-status-bar"},[e.props.data.name?n("div",{staticClass:"title"},[e._v("\n        （"),n("div",{staticClass:"title-text"},[e._v(e._s(e.props.data.name))]),e._v("）\n    ")]):e._e(),e._v(" "),n("div",{staticClass:"status-box"},[n("div",{staticClass:"status"},[n("span",[e._v(e._s("状态")+"：")]),e._v(" "),n("span",{staticClass:"status-text"},[e._v(e._s(e.props.data.statusDesc))])]),e._v(" "),n("div",{staticClass:"time"},[n("span",[e._v(e._s("总耗时")+"：")]),e._v(" "),n("span",{staticClass:"value",style:{width:9*(e.props.data.totalTimeText&&e.props.data.totalTimeText.length||1)+"px"}},[e._v("\n                "+e._s(e.props.data.totalTimeText)+"\n            ")])]),e._v(" "),n("div",{staticClass:"action"},[e._t("default")],2)])])};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!0,null,null,null);i.options.__file="src/views/executive-history/common/execution-status-bar/step.vue";var r=i.exports},52829:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(t,e){var n=e._c;return n("div",{staticClass:"task-exection-status-bar"},[e.props.data.name?n("div",{staticClass:"title"},[e._v("\n        （"),n("div",{staticClass:"title-text"},[e._v(e._s(e.props.data.name))]),e._v("）\n    ")]):e._e(),e._v(" "),n("div",{staticClass:"status-box"},[n("div",{staticClass:"status"},[n("span",[e._v(e._s("状态")+"：")]),e._v(" "),n("span",{staticClass:"status-text"},[e._v(e._s(e.props.data.statusDesc))])]),e._v(" "),n("div",{staticClass:"time"},[n("span",[e._v(e._s("总耗时")+"：")]),e._v(" "),n("span",{staticClass:"value",style:{width:9*(e.props.data.totalTimeText&&e.props.data.totalTimeText.length||1)+"px"}},[e._v("\n                "+e._s(e.props.data.totalTimeText)+"\n            ")])]),e._v(" "),n("div",{staticClass:"action"},[e._t("default")],2)])])};a._withStripped=!0;n(29396);var i=(0,n(51900).Z)({},a,[],!0,null,null,null);i.options.__file="src/views/executive-history/common/execution-status-bar/task.vue";var r=i.exports},58170:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"execute-global-variable"},[t.isLoading?t._e():[t.taskVariables.length>0?n("global-variable-layout",t._l(t.taskVariables,(function(t){return n("global-variable",{key:t.id,ref:"variable",refInFor:!0,attrs:{type:t.type,layout:3===t.type?"vertical":"",data:t}})})),1):n("empty",{staticClass:"empty"})]],2)};a._withStripped=!0;var i=n(60894),r=i.Z,o=(n(56138),(0,n(51900).Z)(r,a,[],!1,null,"4ff780bc",null));o.options.__file="src/views/executive-history/common/global-variable.vue";var s=o.exports},77871:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"job-execute-record"},[t.isLoading?t._e():[t.data.length>0?n("bk-table",{attrs:{data:t.data}},[n("bk-table-column",{attrs:{label:"时间",prop:"createTime",width:"180"}}),t._v(" "),n("bk-table-column",{attrs:{label:"操作人",prop:"operator",width:"120"}}),t._v(" "),n("bk-table-column",{attrs:{label:"操作",prop:"operationName",width:"120"}}),t._v(" "),n("bk-table-column",{attrs:{label:"步骤",prop:"stepName","show-overflow-tooltip":"","class-name":"step-name"}}),t._v(" "),n("bk-table-column",{attrs:{label:"详情"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[a.detailEnable?n("bk-button",{attrs:{theme:"primary",text:""},on:{click:function(e){return t.handleView(a)}}},[t._v(t._s(a.detail))]):n("div",[t._v(t._s(a.detail))])]}}],null,!1,107930035)})],1):n("empty",{staticClass:"empty"})]],2)};a._withStripped=!0;var i=n(84863),r=i.Z,o=(n(82137),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/executive-history/common/operation-record.vue";var s=o.exports},75574:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"retry"},[n("Icon",{attrs:{type:"retry"}}),t._v(" "),n("span",[t._v(t._s("全部重试"))])],1)};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!1,null,null,null);i.options.__file="src/views/executive-history/common/step-action/all-retry.vue";var r=i.exports},71116:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"confirm-forced"},[n("Icon",{attrs:{type:"stop"}}),t._v(" "),n("span",[t._v(t._s("终止流程"))])],1)};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!1,null,null,null);i.options.__file="src/views/executive-history/common/step-action/confirm-forced.vue";var r=i.exports},11036:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"retry"},[n("Icon",{attrs:{type:"retry"}}),t._v(" "),n("span",[t._v(t._s("重新发起确认"))])],1)};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!1,null,null,null);i.options.__file="src/views/executive-history/common/step-action/confirm-retry.vue";var r=i.exports},46941:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"confirm"},[n("Icon",{attrs:{type:"confirm"}}),t._v(" "),n("span",[t._v(t._s("确认继续"))])],1)};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!1,null,null,null);i.options.__file="src/views/executive-history/common/step-action/confirm.vue";var r=i.exports},22165:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"retry"},[n("Icon",{attrs:{type:"retry"}}),t._v(" "),n("span",[t._v(t._s("失败IP重试"))])],1)};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!1,null,null,null);i.options.__file="src/views/executive-history/common/step-action/fail-ip-retry.vue";var r=i.exports},91612:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"retry"},[n("Icon",{attrs:{type:"retry"}}),t._v(" "),n("span",[t._v(t._s("重试并继续"))])],1)};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!1,null,null,null);i.options.__file="src/views/executive-history/common/step-action/forced-retry.vue";var r=i.exports},51822:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"skip"},[n("Icon",{attrs:{type:"skip"}}),t._v(" "),n("span",[t._v(t._s("跳过"))])],1)};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!1,null,null,null);i.options.__file="src/views/executive-history/common/step-action/forced-skip.vue";var r=i.exports},42132:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stop"},[n("Icon",{attrs:{type:"stop"}}),t._v(" "),n("span",[t._v(t._s("强制终止"))])],1)};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!1,null,null,null);i.options.__file="src/views/executive-history/common/step-action/forced.vue";var r=i.exports},26950:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-popover-confirm",{staticClass:"step-action-confirm",attrs:{title:t.confirmInfo.title,content:t.confirmInfo.desc,"confirm-handler":t.handleConfirm},on:{show:t.handleConfirmShow,cancel:t.handleConfirmCancel}},[n(t.actionCom,{tag:"component",staticClass:"step-instance-action",class:t.displayStyle})],1)};a._withStripped=!0;var i=n(23714),r=i.Z,o=(n(36551),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/executive-history/common/step-action/index.vue";var s=o.exports},28628:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"next"},[n("Icon",{attrs:{type:"skip"}}),t._v(" "),n("span",[t._v(t._s("进入下一步"))])],1)};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!1,null,null,null);i.options.__file="src/views/executive-history/common/step-action/next.vue";var r=i.exports},85885:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"skip"},[n("Icon",{attrs:{type:"skip"}}),t._v(" "),n("span",[t._v(t._s("忽略错误"))])],1)};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!1,null,null,null);i.options.__file="src/views/executive-history/common/step-action/skip.vue";var r=i.exports},74413:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"layout",staticClass:"script-version-manage-layout"},[n("div",{staticClass:"layout-header"},[n("div",{staticClass:"header-title"},[t._t("title")],2),t._v(" "),n("div",{staticClass:"sub-header"},[t._t("sub-header")],2)]),t._v(" "),n("div",{ref:"content",staticClass:"layout-container",style:t.contentStyles},[t.$slots.left?n("resizeable-box",{staticClass:"left",attrs:{"free-position":"right"}},[t._t("left")],2):t._e(),t._v(" "),n("div",{staticClass:"right"},[t._t("default")],2)],1),t._v(" "),n("div",{staticClass:"layout-footer"},[t._t("footer")],2)])};a._withStripped=!0;var i=n(83613),r=i.Z,o=(n(65940),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/script-manage/common/components/layout.vue";var s=o.exports},70846:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return r}});var a=function(t,e){return(0,e._c)("div",{staticClass:"render-version-log"},[e._v(e._s(e.props.versionDesc||"--"))])};a._withStripped=!0;var i=(0,n(51900).Z)({},a,[],!0,null,null,null);i.options.__file="src/views/script-manage/common/detail/components/render-log.vue";var r=i.exports},81671:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",{staticClass:"script-manage-detail-box",scopedSlots:t._u([{key:"footer",fn:function(){return[t.scriptInfo.isOnline?n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"execScript"},expression:"{ type: 'button', value: 'execScript' }"}],key:"execute",staticClass:"w120 mr10",attrs:{permission:t.scriptInfo.canManage,auth:"script/execute","resource-id":t.scriptInfo.id,theme:"primary",loading:t.isExceLoading},on:{click:t.handleGoExce}},[t._v("\n            "+t._s("去执行")+"\n        ")]):t._e(),t._v(" "),t.scriptInfo.isOnline?t._e():n("jb-popover-confirm",{key:"online",staticClass:"mr10",attrs:{title:"确定上线该版本？",content:"上线后，之前的线上版本将被置为「已下线」状态，但不影响作业使用","confirm-handler":t.handleOnline}},[n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"onlineScript"},expression:"{ type: 'button', value: 'onlineScript' }"}],staticClass:"w120",attrs:{permission:t.scriptInfo.canManage,"resource-id":t.scriptInfo.id,auth:"script/edit",theme:"primary"}},[t._v("\n                "+t._s("上线")+"\n            ")])],1),t._v(" "),t.scriptInfo.isDraft?t._e():n("span",{key:"create",attrs:{"tippy-tips":t.isCopyCreateDisabled?"已有[未上线]版本":""}},[n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"copyCreateScript"},expression:"{ type: 'button', value: 'copyCreateScript' }"}],staticClass:"w120 mr10",attrs:{permission:t.scriptInfo.canClone,"resource-id":t.scriptInfo.id,auth:"script/clone"},on:{click:function(e){return t.handleCopyAndCreate(t.scriptInfo)}}},[t._v("\n                "+t._s("复制并新建")+"\n            ")])],1),t._v(" "),n("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"debugScript"},expression:"{ type: 'button', value: 'debugScript' }"}],staticClass:"mr10",on:{click:t.handleDebugScript}},[t._v("\n            "+t._s("调试")+"\n        ")]),t._v(" "),t.scriptInfo.isOnline?n("span",{key:"sync",staticClass:"mr10",attrs:{"tippy-tips":t.scriptInfo.syncEnabled?"":"所有关联作业模板已是当前版本"}},[n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"syncScript"},expression:"{ type: 'button', value: 'syncScript' }"}],attrs:{permission:t.scriptInfo.canManage,"resource-id":t.scriptInfo.id,auth:"script/edit"},on:{click:t.handleGoSync}},[t._v("\n                "+t._s("同步")+"\n            ")])],1):t._e(),t._v(" "),t.scriptInfo.isDraft?n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editScript"},expression:"{ type: 'button', value: 'editScript' }"}],key:"edit",staticClass:"mr10",attrs:{permission:t.scriptInfo.canManage,"resource-id":t.scriptInfo.id,auth:"script/edit"},on:{click:function(e){return t.handleEdit(t.scriptInfo)}}},[t._v("\n            "+t._s("编辑")+"\n        ")]):t._e(),t._v(" "),t.scriptInfo.isVersionEnableRemove?n("jb-popover-confirm",{key:"delete",staticClass:"mr10",attrs:{title:"确定删除该版本？",content:"删除后不可恢复，请谨慎操作！","confirm-handler":t.handleRemove}},[n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deleteScript"},expression:"{ type: 'button', value: 'deleteScript' }"}],attrs:{permission:t.scriptInfo.canManage,"resource-id":t.scriptInfo.id,auth:"script/delete"}},[t._v("\n                "+t._s("删除")+"\n            ")])],1):t._e(),t._v(" "),t.scriptInfo.isOnline?n("jb-popover-confirm",{key:"offline",staticStyle:{"margin-left":"auto"},attrs:{title:"确定禁用该版本？",content:"一旦禁用成功，线上引用该版本的作业脚本步骤都会执行失败，请务必谨慎操作！","confirm-handler":t.handleOffline}},[n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"offlineScript"},expression:"{ type: 'button', value: 'offlineScript' }"}],attrs:{permission:t.scriptInfo.canManage,"resource-id":t.scriptInfo.id,auth:"script/edit"}},[t._v("\n                "+t._s("禁用")+"\n            ")])],1):t._e()]},proxy:!0}])},[n("div",{attrs:{slot:"title"},slot:"title"},[n("span",[t._v(t._s(t.scriptInfo.version))]),t._v(" "),n("span",{staticClass:"script-status",domProps:{innerHTML:t._s(t.scriptInfo.statusHtml)}})]),t._v(" "),n("template",{slot:"sub-header"},[n("span",{staticStyle:{"font-size":"12px",color:"#63656e"}},[n("span",[t._v(t._s(t.scriptInfo.lastModifyUser))]),t._v(" "),n("span",[t._v("|")]),t._v(" "),n("span",[t._v(t._s(t.scriptInfo.lastModifyTime))])]),t._v(" "),"content"===t.contentTab?n("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"全屏",expression:"'全屏'"},{name:"test",rawName:"v-test",value:{type:"button",value:"scriptEditFullscreen"},expression:"{ type: 'button', value: 'scriptEditFullscreen' }"}],attrs:{type:"full-screen"},on:{click:t.handleFullScreen}}):t._e()],1),t._v(" "),n("div",{staticClass:"content-tab"},[n("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"scriptContentTab"},expression:"{ type: 'button', value: 'scriptContentTab' }"}],staticClass:"content-tab-item",class:{active:"content"===t.contentTab},on:{click:function(e){return t.handleChangeDispaly("content")}}},[t._v("\n            "+t._s("脚本内容")+"\n        ")]),t._v(" "),n("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"scriptVersionLogTab"},expression:"{ type: 'button', value: 'scriptVersionLogTab' }"}],staticClass:"content-tab-item",class:{active:"log"===t.contentTab},on:{click:function(e){return t.handleChangeDispaly("log")}}},[t._v("\n            "+t._s("版本日志")+"\n        ")])]),t._v(" "),n("div",{staticClass:"version-content"},[n("div",{ref:"content",staticClass:"content-dispaly",style:t.contentStyles},[t.contentHeight>0?n("keep-alive",[n(t.contentCom,{ref:"aceEditor",tag:"component",attrs:{readonly:"",height:t.contentHeight,value:t.scriptInfo.content,lang:t.scriptInfo.typeName,options:t.scriptInfo.typeName,"version-desc":t.scriptInfo.versionDesc}})],1):t._e()],1)])],2)};a._withStripped=!0;var i=n(16314),r=i.Z,o=(n(79949),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/script-manage/common/detail/index.vue";var s=o.exports},56237:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"render-related-script"},[n("div",{staticClass:"tab-wraper"},[n("div",{staticClass:"tab-item",class:{active:"template"===t.listTab},on:{click:function(e){return t.handleTabChange("template")}}},[n("div",{staticClass:"tab-name"},[t._v(t._s("作业模板引用"))]),t._v(" "),n("div",{staticClass:"tab-nums"},[t._v(t._s(t.info.relatedTaskTemplateNum))])]),t._v(" "),n("div",{staticClass:"tab-item",class:{active:"plan"===t.listTab},on:{click:function(e){return t.handleTabChange("plan")}}},[n("div",{staticClass:"tab-name"},[t._v(t._s("执行方案引用"))]),t._v(" "),n("div",{staticClass:"tab-nums"},[t._v(t._s(t.info.relatedTaskPlanNum))])])]),t._v(" "),n(t.listCom,{tag:"component",attrs:{params:t.params}})],1)};a._withStripped=!0;var i=n(93459),r=i.Z,o=(n(65265),(0,n(51900).Z)(r,a,[],!1,null,"23134e9a",null));o.options.__file="src/views/script-manage/common/script-related-info/index.vue";var s=o.exports},22626:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("jb-search-select",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.searchSelect,"popover-zindex":99999,placeholder:"搜索名称，版本号"},on:{"on-change":t.handleSearch}}),t._v(" "),n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}]},[n("bk-table",{attrs:{data:t.renderList}},[n("bk-table-column",{attrs:{label:"执行方案",align:"left","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("bk-button",{attrs:{text:""},on:{click:function(e){return t.handleGoPlanDetail(a)}}},[t._v("\n                        "+t._s(a.taskPlanName)+"\n                    ")])]}}])}),t._v(" "),n("bk-table-column",{attrs:{label:"引用的版本号",prop:"scriptVersion",align:"left"}}),t._v(" "),n("bk-table-column",{attrs:{label:"状态",prop:"scriptStatusDesc",align:"left",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",{domProps:{innerHTML:t._s(a.statusHtml)}})]}}])})],1)],1)],1)};a._withStripped=!0;var i=n(2503),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/script-manage/common/script-related-info/plan-list.vue";var s=o.exports},49683:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("jb-search-select",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:t.searchSelect,"popover-zindex":99999,placeholder:"搜索名称，版本号"},on:{"on-change":t.handleSearch}}),t._v(" "),n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}]},[n("bk-table",{attrs:{data:t.renderList}},[n("bk-table-column",{attrs:{label:"作业模板",align:"left","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("bk-button",{attrs:{text:""},on:{click:function(e){return t.handleGoTemplateDetail(a)}}},[t._v("\n                        "+t._s(a.taskTemplateName)+"\n                    ")])]}}])}),t._v(" "),n("bk-table-column",{attrs:{label:"引用的版本号",prop:"scriptVersion",align:"left"}}),t._v(" "),n("bk-table-column",{attrs:{label:"状态",prop:"scriptStatusDesc",align:"left",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("span",{domProps:{innerHTML:t._s(a.statusHtml)}})]}}])})],1)],1)],1)};a._withStripped=!0;var i=n(55114),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/script-manage/common/script-related-info/template-list.vue";var s=o.exports},55399:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"box",staticClass:"plan-edit-title",on:{click:function(t){t.stopPropagation()}}},[t.isEditing?n("div",{staticClass:"input-box",class:{"validate-error":!!t.errorInfo}},[n("jb-input",{ref:"input",style:{width:t.inputWidth+"px"},attrs:{"native-attributes":{spellcheck:!1,autofocus:!0},placeholder:"推荐按照该执行方案提供的使用场景来取名...","enter-trigger":"",maxlength:60,behavior:"simplicity"},on:{input:t.handleInput,submit:t.handleSubmit},model:{value:t.localValue,callback:function(e){t.localValue=e},expression:"localValue"}}),t._v(" "),t.errorInfo?n("i",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.errorInfo,expression:"errorInfo"}],staticClass:"edit-status-flag bk-icon icon-exclamation-circle-shape",staticStyle:{color:"#ea3636"}}):t._e(),t._v(" "),t.isSubmiting?n("Icon",{staticClass:"edit-status-flag rotate-loading",staticStyle:{color:"#979ba5"},attrs:{type:"loading-circle"}}):t._e()],1):n("div",{ref:"text",staticClass:"text"},[n("span",[t._v(t._s(t.localValue))]),t._v(" "),n("Icon",{staticClass:"edit-btn",attrs:{type:"edit-2"},on:{click:t.handleEdit}})],1)])};a._withStripped=!0;var i=n(96780),r=i.Z,o=(n(34667),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/plan/components/edit-title.vue";var s=o.exports},12720:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"layout",staticClass:"plan-action-layout",style:t.layoutStyles},[n("div",{staticClass:"loading-wraper",class:{"loading-hidden":t.showContent}},[n("div",{staticClass:"loading-content"},[n("content-loader",{attrs:{height:455,width:580,speed:2,"primary-color":"#EBECF3","secondary-color":"#F6F7FB"}},[n("rect",{attrs:{x:"0",y:"0",width:"128",height:"16",rx:"1"}}),t._v(" "),n("rect",{attrs:{x:"0",y:"148",width:"128",height:"16",rx:"1"}}),t._v(" "),n("rect",{attrs:{x:"0",y:"180",width:"620",height:"42",rx:"2"}}),t._v(" "),n("rect",{attrs:{x:"0",y:"232",width:"620",height:"42",rx:"2"}}),t._v(" "),n("rect",{attrs:{x:"0",y:"284",width:"620",height:"42",rx:"2"}}),t._v(" "),n("rect",{attrs:{x:"0",y:"336",width:"620",height:"42",rx:"2"}}),t._v(" "),n("rect",{attrs:{x:"0",y:"388",width:"620",height:"42",rx:"2"}}),t._v(" "),n("rect",{attrs:{x:"0",y:"28",width:"128",height:"16",rx:"1"}}),t._v(" "),n("rect",{attrs:{x:"0",y:"56",width:"200",height:"50",rx:"1"}}),t._v(" "),n("rect",{attrs:{x:"210",y:"56",width:"200",height:"50",rx:"1"}}),t._v(" "),n("rect",{attrs:{x:"420",y:"56",width:"200",height:"50",rx:"1"}})])],1)]),t._v(" "),n("div",{staticClass:"layout-title"},[t._t("title",(function(){return[n("div",{staticClass:"title-text"},[t._v(t._s(t.title))])]})),t._v(" "),n("div",{staticClass:"sub-title"},[t._t("sub-title")],2)],2),t._v(" "),n("div",{ref:"content",staticClass:"content-wraper",style:t.contentStyles},[t._t("default")],2),t._v(" "),n("div",{staticClass:"layout-footer",style:t.footerStyles},[t._t("footer")],2),t._v(" "),t.showContent?n("back-top",{attrs:{target:t.getBackTopTarget}}):t._e()],1)};a._withStripped=!0;var i=n(8435),r=i.Z,o=(n(55463),(0,n(51900).Z)(r,a,[],!1,null,"77864916",null));o.options.__file="src/views/task-manage/common/plan/components/layout.vue";var s=o.exports},8067:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"toggle-display"},[n("div",{staticClass:"action",on:{click:t.handleToggle}},[t.isOpen?[n("Icon",{staticClass:"toggle-arrow",attrs:{type:"angle-double-up"}}),t._v(" "),n("span",[t._v(t._s("收起未引用的变量")+" ("+t._s(t.count)+")")])]:[n("Icon",{staticClass:"toggle-arrow",attrs:{type:"angle-double-down"}}),t._v(" "),n("span",[t._v(t._s("展开未引用的变量")+" ("+t._s(t.count)+")")])]],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.isOpen,expression:"isOpen"}]},[t._t("default")],2)])};a._withStripped=!0;var i=n(13710),r=i.Z,o=(n(19164),(0,n(51900).Z)(r,a,[],!1,null,"b1a70dd8",null));o.options.__file="src/views/task-manage/common/plan/components/toggle-display.vue";var s=o.exports},40016:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",t._b({staticClass:"task-plan-create-box",attrs:{loading:t.isLoading},scopedSlots:t._u([{key:"footer",fn:function(){return[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.isSubmitDisable?"请至少勾选一个执行步骤":"",expression:"isSubmitDisable ? '请至少勾选一个执行步骤' : ''"}]},[n("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createPlanSubmit"},expression:"{ type: 'button', value: 'createPlanSubmit' }"}],staticClass:"w120 mr10",attrs:{theme:"primary",loading:t.submitLoading},on:{click:t.handleSumbit}},[t._v("\n                "+t._s("提交")+"\n            ")])],1),t._v(" "),n("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createPlanReset"},expression:"{ type: 'button', value: 'createPlanReset' }"}],on:{click:t.handleReset}},[t._v("\n            "+t._s("重置")+"\n        ")])]},proxy:!0}])},"layout",t.$attrs,!1),[n("jb-form",{ref:"titleForm",staticStyle:{width:"100%"},attrs:{slot:"title",model:t.formData},slot:"title"},[n("jb-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{rules:t.rules.name,property:"name","error-display-type":"tooltips"}},[n("jb-input",{staticClass:"name-input",attrs:{behavior:"simplicity",placeholder:"推荐按照该执行方案提供的使用场景来取名...",maxlength:60,"native-attributes":{spellcheck:!1,autofocus:!0}},on:{change:t.handleNameChange},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),n("jb-form",{ref:"createPlanForm",attrs:{model:t.formData,"form-type":"vertical"}},[n("jb-form-item",{staticStyle:{"margin-bottom":"40px"}},[n("div",{staticClass:"section-title"},[n("span",[t._v(t._s("全局变量"))]),t._v(" "),n("span",[t._v("（ "+t._s(t.selectedVariable.length)+" / "+t._s(t.globalVariableList.length)+" ）")])]),t._v(" "),n("render-global-var",{key:t.templateId,attrs:{list:t.globalVariableList,"select-value":t.selectedVariable,mode:"editOfPlan","default-field":"变量值"},on:{"on-change":t.handleVariableChange}})],1),t._v(" "),n("jb-form-item",{attrs:{rules:t.rules.enableSteps,property:"enableSteps"}},[n("div",{staticClass:"task-step-selection"},[n("div",{staticClass:"section-title"},[n("span",[t._v(t._s("选择执行步骤"))]),t._v(" "),n("span",[t._v("（ "+t._s(t.formData.enableSteps.length)+" / "+t._s(t.taskStepList.length)+" ）")])]),t._v(" "),n("div",{staticClass:"step-check"},[t.hasSelectAll?n("bk-button",{attrs:{text:""},on:{click:t.handleDeselectAll}},[t._v("\n                        "+t._s("取消全选")+"\n                    ")]):n("bk-button",{attrs:{text:""},on:{click:t.handleSelectAll}},[t._v("\n                        "+t._s("全选")+"\n                    ")])],1)]),t._v(" "),n("render-task-step",{key:t.templateId,attrs:{list:t.taskStepList,"select-value":t.formData.enableSteps,variable:t.globalVariableList,mode:"select"},on:{"on-select":t.handleSelectStep}})],1)],1)],1)};a._withStripped=!0;var i=n(63491),r=i.Z,o=(n(37091),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/plan/create.vue";var s=o.exports},25313:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("permission-section",{key:t.id},[n("div",{staticClass:"task-plan-view-box"},[n("layout",t._b({attrs:{title:t.planInfo.name,"plan-name":t.planInfo.name,loading:t.isLoading},scopedSlots:t._u([{key:"footer",fn:function(){return[n("div",{staticClass:"action-box"},[n("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"execPlan"},expression:"{ type: 'button', value: 'execPlan' }"}],staticClass:"w120 mr10",attrs:{theme:"primary",loading:t.execLoading},on:{click:t.handleExec}},[t._v("\n                        "+t._s("去执行")+"\n                    ")]),t._v(" "),n("bk-popover",{attrs:{placement:"top"}},[n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlan"},expression:"{ type: 'button', value: 'editPlan' }"}],staticClass:"mr10",attrs:{permission:t.planInfo.canEdit,"resource-id":t.id,auth:"job_plan/edit"},on:{click:t.handleEdit}},[n("span",[t._v(t._s("编辑"))]),t._v(" "),n("span",{staticStyle:{"font-size":"12px",color:"#979ba5"}},[t._v("\n                                ("+t._s(t.planInfo.enableStepNums)+"/"+t._s(t.planInfo.templateStepNums)+")\n                            ")])]),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("p",[t._v(t._s("共有")+" "+t._s(t.planInfo.templateStepNums)+" "+t._s("个步骤，"))]),t._v(" "),n("p",[t._v(t._s("当前已选中")+" "+t._s(t.planInfo.enableStepNums)+" "+t._s("个"))])])],1),t._v(" "),n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createCrontab"},expression:"{ type: 'button', value: 'createCrontab' }"}],staticClass:"mr10",attrs:{auth:"cron/create"},on:{click:t.handleGoCron}},[t._v("\n                        "+t._s("定时执行")+"\n                    ")]),t._v(" "),n("span",{attrs:{"tippy-tips":t.planInfo.needUpdate?"":"无需同步"}},[n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"syncPlan"},expression:"{ type: 'button', value: 'syncPlan' }"}],staticClass:"action-update",attrs:{"resource-id":t.id,auth:"job_plan/sync"},on:{click:t.handleSync}},[n("span",[t._v(t._s("去同步"))]),t._v(" "),t.planInfo.needUpdate?n("div",{staticClass:"update-flag"},[n("Icon",{attrs:{type:"sync-8","tippy-tips":"未同步"}})],1):t._e()])],1),t._v(" "),n("jb-popover-confirm",{staticClass:"action-del",attrs:{title:"确定删除该执行方案？",content:"若已设置了定时任务，需要先删除才能操作","confirm-handler":t.handleDelete}},[n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deletePlan"},expression:"{ type: 'button', value: 'deletePlan' }"}],staticClass:"delete-btn",attrs:{permission:t.planInfo.canDelete,"resource-id":t.id,auth:"job_plan/delete"}},[t._v("\n                            "+t._s("删除")+"\n                        ")])],1)],1)]},proxy:!0}])},"layout",t.$attrs,!1),[n("div",{staticClass:"view-title",attrs:{slot:"title"},slot:"title"},[n("edit-title",{attrs:{data:t.planInfo},on:{"on-edit-success":t.handleEditSuccess}}),t._v(" "),t.planInfo.cronJobCount>0?n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.html",value:"\n                        <div>有 "+t.planInfo.cronJobCount+" 个定时任务</div>\n                        <div>点击前往查看</div>\n                    ",expression:"`\n                        <div>${'有'} ${planInfo.cronJobCount} ${'个定时任务'}</div>\n                        <div>${'点击前往查看'}</div>\n                    `",modifiers:{html:!0}}],staticClass:"cron-job-tag",on:{click:t.handleGoCronList}},[n("Icon",{attrs:{type:"job-timing",svg:""}}),t._v(" "),n("span",{staticStyle:{"margin-left":"2px"}},[t._v(t._s(t.planInfo.cronJobCount))])],1):t._e()],1),t._v(" "),n("div",{staticClass:"link-wraper",attrs:{slot:"sub-title"},slot:"sub-title"},[n("auth-button",{attrs:{"resource-id":t.templateId,auth:"job_template/view",text:""},on:{click:t.handleGoTemplate}},[n("span",[t._v(t._s("所属作业模板"))]),t._v(" "),n("Icon",{attrs:{type:"jump"}})],1)],1),t._v(" "),n("jb-form",{attrs:{"form-type":"vertical"}},[n("jb-form-item",{staticStyle:{"margin-bottom":"30px"},attrs:{label:"全局变量"}},[n("render-global-var",{key:t.id,attrs:{list:t.usedVariableList,"default-field":"变量值"}}),t._v(" "),t.unusedVariableList.length>0?n("toggle-display",{staticStyle:{"margin-top":"20px"},attrs:{count:t.unusedVariableList.length}},[n("render-global-var",{key:t.id,staticStyle:{"margin-top":"18px"},attrs:{list:t.unusedVariableList,"default-field":"变量值"}})],1):t._e()],1),t._v(" "),n("jb-form-item",{attrs:{label:"执行步骤"}},[n("render-task-step",{key:t.id,attrs:{list:t.planInfo.enableStepList,variable:t.planInfo.variableList}})],1)],1)],1)],1)])};a._withStripped=!0;var i=n(21004),r=i.Z,o=(n(84829),(0,n(51900).Z)(r,a,[],!1,null,"12544ee2",null));o.options.__file="src/views/task-manage/common/plan/detail.vue";var s=o.exports},90467:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("layout",t._b({staticClass:"task-plan-edit-box",attrs:{"plan-name":t.name,loading:t.isLoading},scopedSlots:t._u([{key:"footer",fn:function(){return[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.isSubmitDisable?"请至少勾选一个执行步骤":"",expression:"isSubmitDisable ? '请至少勾选一个执行步骤' : ''"}]},[n("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlanSave"},expression:"{ type: 'button', value: 'editPlanSave' }"}],staticClass:"w120 mr10",attrs:{theme:"primary",loading:t.submitLoading},on:{click:t.handleSumbit}},[t._v("\n                "+t._s("保存")+"\n            ")])],1),t._v(" "),n("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlanCancel"},expression:"{ type: 'button', value: 'editPlanCancel' }"}],on:{click:t.handleCancle}},[t._v("\n            "+t._s("取消")+"\n        ")])]},proxy:!0}])},"layout",t.$attrs,!1),[n("jb-form",{ref:"titleForm",staticStyle:{width:"100%"},attrs:{slot:"title",model:t.formData},slot:"title"},[n("jb-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{rules:t.rules.name,property:"name","error-display-type":"tooltips"}},[n("jb-input",{staticClass:"name-input",attrs:{behavior:"simplicity",placeholder:"推荐按照该执行方案提供的使用场景来取名...","native-attributes":{spellcheck:!1,autofocus:!0},maxlength:60},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1)],1),t._v(" "),n("jb-form",{directives:[{name:"test",rawName:"v-test",value:{type:"form",value:"editPlan"},expression:"{ type: 'form', value: 'editPlan' }"}],ref:"editPlanForm",attrs:{model:t.formData,rules:t.rules,"form-type":"vertical"}},[n("jb-form-item",{staticStyle:{"margin-bottom":"40px"}},[n("div",{staticClass:"section-title"},[n("span",[t._v(t._s("全局变量"))]),t._v(" "),n("span",[t._v("（ "+t._s(t.selectedVariable.length)+" / "+t._s(t.globalVariableList.length)+" ）")])]),t._v(" "),n("render-global-var",{key:t.id,attrs:{list:t.globalVariableList,"select-value":t.selectedVariable,"default-field":"变量值",mode:"editOfPlan"},on:{"on-change":t.handleVariableChange}})],1),t._v(" "),n("jb-form-item",{attrs:{rules:t.rules.enableSteps,property:"enableSteps"}},[n("div",{staticClass:"task-step-selection"},[n("div",{staticClass:"section-title"},[n("span",[t._v(t._s("选择执行步骤"))]),t._v(" "),n("span",[t._v("（ "+t._s(t.formData.enableSteps.length)+" / "+t._s(t.taskStepList.length)+" ）")])]),t._v(" "),n("div",{staticClass:"step-check"},[t.hasSelectAll?n("bk-button",{attrs:{text:""},on:{click:t.handleDeselectAll}},[t._v("\n                        "+t._s("取消全选")+"\n                    ")]):n("bk-button",{attrs:{text:""},on:{click:t.handleSelectAll}},[t._v("\n                        "+t._s("全选")+"\n                    ")])],1)]),t._v(" "),n("render-task-step",{key:t.id,attrs:{list:t.taskStepList,"select-value":t.formData.enableSteps,variable:t.globalVariableList,mode:"select"},on:{"on-select":t.handleSelectStep}})],1)],1)],1)};a._withStripped=!0;var i=n(12772),r=i.Z,o=(n(49686),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/plan/edit.vue";var s=o.exports},29095:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"preview-render-ralated"},[n("div",{staticClass:"header",on:{click:t.handleToggle}},[n("div",{staticClass:"toggle-flag"},[t.isShowRelateList?n("Icon",{attrs:{type:"arrow-full-down"}}):n("Icon",{attrs:{type:"arrow-full-right"}})],1),t._v(" "),n("div",{staticClass:"type"},[n("Icon",{attrs:{type:t.globalVariableInfo.icon}})],1),t._v(" "),n("div",{staticClass:"name"},[t._v(t._s(t.globalVariableInfo.name))])]),t._v(" "),t.isShowRelateList?n("table",[n("thead",[n("tr",[n("th",{staticStyle:{width:"230px"}},[t._v(t._s("执行方案"))]),t._v(" "),n("th",{staticStyle:{width:"205px"}},[t._v(t._s("作业模板"))]),t._v(" "),n("th",{staticStyle:{width:"185px"}},[t._v(t._s("原始值"))]),t._v(" "),n("th",[t._v(t._s("更新值"))])])]),t._v(" "),n("tbody",t._l(t.relateList,(function(e){return n("tr",{key:e.id},[n("td",[n("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[t._v(t._s(e.plan.name))])]),t._v(" "),n("td",[n("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[t._v(t._s(e.plan.templateName))])]),t._v(" "),n("td",[n("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[t._v(t._s(e.globalVariable.valueText))])]),t._v(" "),n("td",[n("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"cell-text"},[t._v(t._s(t.latestValueText))])])])})),0)]):t._e()])};a._withStripped=!0;var i=n(62215),r=i.Z,o=(n(55008),(0,n(51900).Z)(r,a,[],!1,null,"12952eb2",null));o.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-preview/components/render-related-info.vue";var s=o.exports},90289:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"batch-preview-plan-global-variable"},[t._l(t.globalVariableRelatePlanMap,(function(e,a){return[n("render-related-info",{key:a,ref:"relate",refInFor:!0,attrs:{"relate-list":e,"latest-value":t.latestValueMap[a]}})]}))],2)};a._withStripped=!0;var i=n(71205),r=i.Z,o=(n(1138),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-preview/index.vue";var s=o.exports},39896:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"name"},[n("span",[t._v(t._s(t.data.name))]),t._v(" "),n("span",{staticClass:"remove-flag",on:{click:t.handleRemove}},[n("Icon",{attrs:{type:"reduce-fill"}})],1)]),t._v(" "),n("div",[t.isValueEmpty?n("bk-button",{staticStyle:{width:"160px"},on:{click:t.handleChooseIp}},[n("Icon",{attrs:{type:"plus"}}),t._v("\n            "+t._s("添加服务器")+"\n        ")],1):n("div",{staticClass:"host-value-text",on:{click:t.handleChooseIp}},[n("div",{staticClass:"host-type"},[n("Icon",{attrs:{type:"host"}})],1),t._v(" "),n("div",[t._v("\n                "+t._s(t.valueText)+"\n            ")]),t._v(" "),n("Icon",{staticClass:"host-edit",attrs:{type:"edit-2"}})],1)],1),t._v(" "),n("choose-ip",{attrs:{"host-node-info":t.hostNodeInfo},on:{"on-change":t.handleChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var i=n(23928),r=i.Z,o=(n(84336),(0,n(51900).Z)(r,a,[],!1,null,"68f52c02",null));o.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/host.vue";var s=o.exports},69487:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.com,t._g(t._b({tag:"comoponent",staticClass:"global-variable-batch-edit-render",attrs:{data:t.data}},"comoponent",t.$attrs,!1),t.$listeners))};a._withStripped=!0;var i=n(93555),r=i.Z,o=(n(56903),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/index.vue";var s=o.exports},457:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"name"},[n("span",[t._v(t._s(t.data.name))]),t._v(" "),n("span",{staticClass:"remove-flag",on:{click:t.handleRemove}},[n("Icon",{attrs:{type:"reduce-fill"}})],1)]),t._v(" "),n("bk-input",{attrs:{type:"password",value:t.value},on:{change:t.handleChange}})],1)};a._withStripped=!0;var i=n(23660),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/password.vue";var s=o.exports},33459:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"name"},[n("span",[t._v(t._s(t.data.name))]),t._v(" "),n("span",{staticClass:"remove-flag",on:{click:t.handleRemove}},[n("Icon",{attrs:{type:"reduce-fill"}})],1)]),t._v(" "),n("bk-input",{attrs:{value:t.value},on:{change:t.handleChange}})],1)};a._withStripped=!0;var i=n(71242),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/components/render-global-variable/text.vue";var s=o.exports},17217:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"batch-edit-plan-global-variable"},[n("div",{staticClass:"action-target-info"},[n("span",{staticClass:"label"},[t._v(t._s("更新范围"))]),t._v(" "),n("span",{staticClass:"content-split"},[t._v(":")]),t._v(" "),n("span",[n("span",[t._v(t._s("已选"))]),t._v(" "),n("span",{staticClass:"number strong"},[t._v(t._s(t.planList.length))]),t._v(" "),n("span",[t._v(t._s("个执行方案，")+t._s("来自"))]),t._v(" "),n("span",{staticClass:"number strong"},[t._v(t._s(t.relatedTemplateNums))]),t._v(" "),n("span",[t._v(t._s("个作业模板"))])])]),t._v(" "),n("div",{staticClass:"action-target-info",staticStyle:{"margin-top":"10px"}},[n("span",{staticClass:"label"},[t._v(t._s("选择变量"))]),t._v(" "),n("span",{staticClass:"content-split",staticStyle:{color:"#ea3636"}},[t._v("*")]),t._v(" "),n("span",[t._v(t._s(t.selectResultText)+"，")]),t._v(" "),t.isHasSelectedAll?n("bk-button",{attrs:{text:""},on:{click:t.handleCancleSelectAll}},[t._v(t._s("取消全选"))]):n("bk-button",{attrs:{text:""},on:{click:t.handleSelectAll}},[t._v(t._s("全选"))])],1),t._v(" "),n("div",{staticClass:"global-variable-list"},t._l(t.globalVariableMap,(function(e,a){return n("div",{key:a,staticClass:"variable-item",class:{active:!!t.selectVariableMap[a]},on:{click:function(e){return t.handleVariableSelect(a)}}},[n("div",{staticClass:"variable-type"},[n("Icon",{attrs:{type:e.icon}})],1),t._v(" "),n("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"variable-name"},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"select-checked"})])})),0),t._v(" "),t.isSelectNotEmpty?n("div",{staticClass:"global-variable-value"},[t._l(t.globalVariableMap,(function(e,a){return[t.selectVariableMap[a]?n("render-global-variable",{key:a,attrs:{value:t.selectVariableValueMap[a],data:e},on:{"on-change":function(e){return t.handleValueChange(a,e)},"on-remove":function(e){return t.handleRemoveSelect(a)}}}):t._e()]}))],2):t._e()])};a._withStripped=!0;var i=n(20506),r=i.Z,o=(n(94064),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/edit-value/index.vue";var s=o.exports},22245:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-sideslider",{ref:"root",attrs:{"is-show":t.isShow,width:900,title:"批量编辑变量值","show-footer":!t.isLoading&&t.isGlobalVariableNotEmpty},on:{"update:isShow":t.handleCancel}},[t.isLoading?n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticStyle:{"min-height":"100px"}}):n("div",[t.isGlobalVariableNotEmpty?n("div",{staticClass:"batch-edit-global-variable-box"},[n("div",{staticClass:"edit-header"},[n("bk-steps",{staticStyle:{width:"300px"},attrs:{"cur-step":t.curStep,steps:t.steps},on:{"update:curStep":function(e){t.curStep=e},"update:cur-step":function(e){t.curStep=e}}})],1),t._v(" "),n("keep-alive",{attrs:{exclude:"editPreview"}},[t.planList.length>0?n(t.stepCom,{ref:"handler",tag:"component",attrs:{"plan-list":t.planList,"latest-value-map":t.globalVariableValueMap},on:{"on-edit-change":t.handleEditChange}}):t._e()],1)],1):n("Empty",{staticStyle:{"margin-top":"126px"}},[n("div",{staticStyle:{"font-size":"20px","line-height":"26px",color:"#63656e"}},[t._v("\n                "+t._s("暂无全局变量")+"\n            ")]),t._v(" "),n("div",{staticStyle:{"margin-top":"12px","font-size":"14px","line-height":"19px",color:"#979ba5"},attrs:{slot:"desc"},slot:"desc"},[t._v("\n                "+t._s("所选执行方案，无变量值可编辑")+"\n            ")])])],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[1===t.curStep?[n("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:t.handlePreview}},[t._v("\n                "+t._s("下一步")+"\n            ")])]:t._e(),t._v(" "),2===t.curStep?[t.hasEmptyValueVariable?n("jb-popover-confirm",{attrs:{title:"确定立即批量更新？",content:"请注意！变量值填框留空，即代表设置目标变量为空值。","confirm-handler":t.handleSubmit}},[n("bk-button",{staticClass:"mr10",attrs:{theme:"primary"}},[t._v("\n                    "+t._s("提交")+"\n                ")])],1):n("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:t.handleSubmit}},[t._v("\n                "+t._s("提交")+"\n            ")]),t._v(" "),n("bk-button",{staticClass:"mr10",attrs:{theme:"primary"},on:{click:function(e){return t.handleChangeStep(1)}}},[t._v("\n                "+t._s("上一步")+"\n            ")])]:t._e(),t._v(" "),n("bk-button",{on:{click:t.handleCancel}},[t._v(t._s("取消"))])],2)])};a._withStripped=!0;var i=n(30443),r=i.Z,o=(n(23414),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/plan/list/components/batch-edit-gobal-variable/index.vue";var s=o.exports},78880:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"layout",staticClass:"plan-list-page-layout",class:{toggled:t.isOpen}},[n("div",{staticClass:"layout-left"},[n("div",{staticClass:"left-wraper",style:t.styles},[t._t("default")],2),t._v(" "),t.flod?n("div",{staticClass:"toggle-button",on:{click:t.handleToggle}},[n("Icon",{staticClass:"toggle-arrow",attrs:{type:"down-small"}})],1):t._e()]),t._v(" "),t.flod?n("div",{staticClass:"layout-right"},[n("div",{staticClass:"right-wraper",class:{active:t.isShowRight}},[t.isShowRight?t._t("flod"):t._e()],2),t._v(" "),n("div",{staticClass:"close-btn",on:{click:t.handleClose}},[n("Icon",{attrs:{type:"close-big"}})],1)]):t._e()])};a._withStripped=!0;var i=n(8186),r=i.Z,o=(n(50970),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/plan/list/components/layout.vue";var s=o.exports},5927:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-dialog",{staticClass:"template-select-dialog",attrs:{value:t.value,title:"新建执行方案","header-position":"left","render-directive":"if","mask-close":!1,"esc-close":!1,width:480,draggable:!1},on:{cancel:t.handleCancel}},[n("jb-form",{ref:"form",attrs:{model:t.formData,"form-type":"vertical",rules:t.rules}},[n("jb-form-item",{attrs:{label:"作业模板",required:"",property:"templateId"}},[n("bk-select",{attrs:{placeholder:"请选择作业模板",clearable:!1,searchable:"","remote-method":t.fetchData},model:{value:t.formData.templateId,callback:function(e){t.$set(t.formData,"templateId",e)},expression:"formData.templateId"}},[t._l(t.templateList,(function(t){return n("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})})),t._v(" "),n("template",{slot:"extension"},[n("auth-component",{attrs:{auth:"job_template/create"}},[n("div",{staticStyle:{cursor:"pointer"},on:{click:t.handleCreate}},[n("i",{staticClass:"bk-icon icon-plus-circle"}),t._v(t._s("新建模板")+"\n                        ")]),t._v(" "),n("div",{attrs:{slot:"forbid"},slot:"forbid"},[n("i",{staticClass:"bk-icon icon-plus-circle"}),t._v(t._s("新建模板")+"\n                        ")])])],1)],2)],1)],1),t._v(" "),n("div",{attrs:{slot:"footer"},slot:"footer"},[n("auth-button",{staticClass:"mr10",attrs:{"resource-id":t.formData.templateId,auth:t.formData.templateId?"job_plan/create":"",theme:"primary"},on:{click:t.handleSubmit}},[t._v("\n            "+t._s("确定")+"\n        ")]),t._v(" "),n("bk-button",{on:{click:t.handleCancel}},[t._v(t._s("取消"))])],1)],1)};a._withStripped=!0;var i=n(176),r=i.Z,o=(n(35977),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/plan/list/components/template-select.vue";var s=o.exports},14233:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task-manage-plan-page"},[n("list-action-layout",{scopedSlots:t._u([{key:"right",fn:function(){return[n("jb-search-select",{ref:"search",staticStyle:{width:"420px"},attrs:{"append-value":t.searchValue,data:t.searchData,placeholder:"输入 ID、执行方案名、作业模板名、更新人 或 创建人 进行搜索..."},on:{"on-change":t.handleSearch}}),t._v(" "),n("bk-button",{on:{click:t.handleMyPlan}},[t._v(t._s("我的方案"))])]},proxy:!0}])},[n("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"createPlan"},expression:"{ type: 'button', value: 'createPlan' }"}],staticClass:"w120",attrs:{theme:"primary"},on:{click:t.handleCreatePlan}},[t._v("\n            "+t._s("新建")+"\n        ")]),t._v(" "),n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.batchSyncDisableTips,expression:"batchSyncDisableTips"}]},[n("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"batchSyncPlan"},expression:"{ type: 'button', value: 'batchSyncPlan' }"}],on:{click:t.handleSyncBatch}},[t._v("\n                "+t._s("批量同步")+"\n            ")])],1),t._v(" "),n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.batchEditGlobalVariableTips,expression:"batchEditGlobalVariableTips"}]},[n("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"batchEditPlanValue"},expression:"{ type: 'button', value: 'batchEditPlanValue' }"}],on:{click:t.handleBatchEditGlobalVariable}},[t._v("\n                "+t._s("批量编辑变量值")+"\n            ")])],1)],1),t._v(" "),n("layout",{attrs:{flod:t.isListFlod},on:{"on-flod":t.handleLayoutFlod}},[n("render-list",{directives:[{name:"test",rawName:"v-test",value:{type:"list",value:"plan"},expression:"{ type: 'list', value: 'plan' }"}],ref:"list",attrs:{"data-source":t.listDataSource,"search-control":function(){return t.$refs.search},selectable:"","outer-border":!1,size:t.tableSize,"row-class-name":t.caclRowClassName,"pagination-small":t.paginationSmall},on:{"on-selection-change":t.handleSelection}},[t.isCreatePlan?n("div",{staticClass:"create-plan-placeholder",class:{active:-1===t.selectPlanInfo.id},attrs:{slot:"prepend"},slot:"prepend"},[n("div",{staticClass:"name-box"},[t._v(t._s(t.newPlanName||"--"))]),t._v(" "),n("Icon",{staticStyle:{"font-size":"26px",color:"#ff9c01"},attrs:{type:"new-3",svg:""}})],1):t._e(),t._v(" "),t.allRenderColumnMap.id?n("bk-table-column",{key:"id",attrs:{label:"ID",prop:"id",width:"120",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.name?n("bk-table-column",{key:"name",attrs:{label:"执行方案名称",prop:"name","min-width":"300",align:"left","class-name":"plan-name-column"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("auth-component",{staticStyle:{width:"100%"},attrs:{permission:a.canView,auth:"job_plan/view","resource-id":a.id}},[n("div",{staticClass:"plan-name-box",class:{active:t.selectPlanInfo.id===a.id},on:{click:function(e){return t.handlePlanSelect(a)}}},[n("div",{staticClass:"name-wraper"},[n("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"name-text"},[t._v("\n                                    "+t._s(a.name)+"\n                                ")]),t._v(" "),a.cronJobCount>0?n("router-link",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.html",value:"\n                                        <div>有 "+a.cronJobCount+" 个定时任务</div>\n                                        <div>点击前往查看</div>\n                                    ",expression:"`\n                                        <div>${'有'} ${row.cronJobCount} ${'个定时任务'}</div>\n                                        <div>${'点击前往查看'}</div>\n                                    `",modifiers:{html:!0}}],staticClass:"cron-job-tag",attrs:{to:{name:"cronList",query:{planId:4}},target:"_blank"}},[n("Icon",{attrs:{type:"job-timing",svg:""}}),t._v(" "),n("span",{staticStyle:{"margin-left":"2px"}},[t._v(t._s(a.cronJobCount))])],1):t._e(),t._v(" "),a.needUpdate?n("span",{staticClass:"update-flag"},[n("Icon",{attrs:{"tippy-tips":"未同步",type:"sync-8",svg:""}})],1):t._e()],1),t._v(" "),n("Icon",{staticClass:"collection-flag",class:{favored:a.favored},attrs:{type:"collection"},on:{click:function(e){return e.stopPropagation(),t.handleCollection(a)}}}),t._v(" "),t.selectPlanInfo.id===a.id?n("Icon",{staticClass:"select-flag",attrs:{type:"arrow-full-right"}}):t._e()],1),t._v(" "),n("div",{staticClass:"plan-name-box",class:{active:t.selectPlanInfo.id===a.id},attrs:{slot:"forbid"},slot:"forbid"},[n("div",{staticClass:"name-wraper"},[n("div",{directives:[{name:"bk-overflow-tips",rawName:"v-bk-overflow-tips"}],staticClass:"name-text"},[t._v(t._s(a.name))]),t._v(" "),a.cronJobCount>0?n("router-link",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.html",value:"\n                                        <div>有 "+a.cronJobCount+" 个定时任务</div>\n                                        <div>点击前往查看</div>\n                                    ",expression:"`\n                                        <div>${'有'} ${row.cronJobCount} ${'个定时任务'}</div>\n                                        <div>${'点击前往查看'}</div>\n                                    `",modifiers:{html:!0}}],staticClass:"cron-job-tag",attrs:{to:{name:"cronList",query:{planId:4}},target:"_blank"}},[n("Icon",{attrs:{type:"job-timing",svg:""}}),t._v(" "),n("span",{staticStyle:{"margin-left":"2px"}},[t._v(t._s(a.cronJobCount))])],1):t._e(),t._v(" "),a.needUpdate?n("span",{staticClass:"update-flag"},[n("Icon",{attrs:{"tippy-tips":"未同步",type:"sync-8",svg:""}})],1):t._e()],1),t._v(" "),n("Icon",{staticClass:"collection-flag",class:{favored:a.favored},attrs:{type:"collection"},on:{click:function(e){return e.stopPropagation(),t.handleCollection(a)}}})],1)])]}}],null,!1,3154329132)}):t._e(),t._v(" "),t.allRenderColumnMap.templateName?n("bk-table-column",{key:"templateName",attrs:{label:"所属作业模板",prop:"templateName","min-width":"200","show-overflow-tooltip":"",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.lastModifyUser?n("bk-table-column",{key:"lastModifyUser",attrs:{label:"更新人",prop:"lastModifyUser",width:"160",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.lastModifyTime?n("bk-table-column",{key:"lastModifyTime",attrs:{label:"更新时间",prop:"lastModifyTime",width:"180",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.creator?n("bk-table-column",{key:"creator",attrs:{label:"创建人",prop:"creator",width:"120",align:"left"}}):t._e(),t._v(" "),t.allRenderColumnMap.createTime?n("bk-table-column",{key:"createTime",attrs:{label:"创建时间",prop:"createTime",width:"180",align:"left"}}):t._e(),t._v(" "),t.isListFlod?t._e():n("bk-table-column",{key:"action",attrs:{resizable:!1,label:"操作",prop:"statusText",fixed:"right",width:"120",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("bk-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"execPlan"},expression:"{ type: 'button', value: 'execPlan' }"}],staticClass:"mr10",attrs:{text:""},on:{click:function(e){return t.handleExecute(a)}}},[t._v("\n                        "+t._s("去执行")+"\n                    ")]),t._v(" "),n("span",{attrs:{"tippy-tips":a.needUpdate?"":"无需同步"}},[n("auth-button",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"syncPlan"},expression:"{ type: 'button', value: 'syncPlan' }"}],staticClass:"mr10",attrs:{permission:a.canEdit,auth:"job_plan/sync","resource-id":a.id,text:""},on:{click:function(e){return t.handleUpdate(a)}}},[t._v("\n                            "+t._s("去同步")+"\n                        ")])],1),t._v(" "),n("list-operation-extend",[n("div",{directives:[{name:"test",rawName:"v-test",value:{type:"link",value:"createCrontab"},expression:"{ type: 'link', value: 'createCrontab' }"}],staticClass:"action-item",on:{click:function(e){return t.handleGoCreateCronJob(a)}}},[t._v("\n                            "+t._s("定时执行")+"\n                        ")]),t._v(" "),n("auth-component",{attrs:{permission:a.canEdit,auth:"job_plan/edit","resource-id":a.id}},[n("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlan"},expression:"{ type: 'button', value: 'editPlan' }"}],staticClass:"action-item",on:{click:function(e){return t.handleEdit(a)}}},[t._v("\n                                "+t._s("编辑")+"\n                            ")]),t._v(" "),n("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"editPlan"},expression:"{ type: 'button', value: 'editPlan' }"}],staticClass:"action-item",attrs:{slot:"forbid"},slot:"forbid"},[t._v("\n                                "+t._s("编辑")+"\n                            ")])]),t._v(" "),n("jb-popover-confirm",{staticClass:"action-del",attrs:{title:"确定删除该执行方案？",content:"若已设置了定时任务，需要先删除才能操作","confirm-handler":function(){return t.handleDelete(a)}}},[n("auth-component",{attrs:{permission:a.canDelete,auth:"job_plan/delete","resource-id":a.id}},[n("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deletePlan"},expression:"{ type: 'button', value: 'deletePlan' }"}],staticClass:"action-item"},[t._v("\n                                    "+t._s("删除")+"\n                                ")]),t._v(" "),n("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"deletePlan"},expression:"{ type: 'button', value: 'deletePlan' }"}],staticClass:"action-item",attrs:{slot:"forbid"},slot:"forbid"},[t._v("\n                                    "+t._s("删除")+"\n                                ")])])],1)],1)]}}],null,!1,3351456039)}),t._v(" "),t.isListFlod?t._e():n("bk-table-column",{attrs:{type:"setting"}},[n("bk-table-setting-content",{attrs:{fields:t.tableColumn,selected:t.selectedTableColumn,size:t.tableSize},on:{"setting-change":t.handleSettingChange}})],1)],1),t._v(" "),n("template",{slot:"flod"},[n(t.planCom,t._b({ref:"planHandler",tag:"component",attrs:{"bottom-offset":20,"first-plan":t.isFirstTemplatePlan},on:{"on-name-change":t.handleCreatePlanNameChange,"on-create":t.handleCreateSubmit,"on-edit":t.handleShowPlanEdit,"on-edit-cancle":t.handleEditCancle,"on-edit-success":t.handleEditSuccess,"on-delete":t.handlePlanDelete}},"component",t.selectPlanInfo,!1))],1)],2),t._v(" "),n("lower-component",{attrs:{level:"custom",custom:t.isShowTemplateSelect}},[n("template-select",{on:{"on-change":t.handleTemplateChange},model:{value:t.isShowTemplateSelect,callback:function(e){t.isShowTemplateSelect=e},expression:"isShowTemplateSelect"}})],1),t._v(" "),n("lower-component",{attrs:{level:"custom",custom:t.isShowBatchGlobalVariable}},[n("batch-edit-global-variable",{attrs:{data:t.listSelect},on:{"on-success":t.handleBatchEditGlobalVariableSuccess},model:{value:t.isShowBatchGlobalVariable,callback:function(e){t.isShowBatchGlobalVariable=e},expression:"isShowBatchGlobalVariable"}})],1)],1)};a._withStripped=!0;var i=n(22088),r=i.Z,o=(n(72694),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/plan/list/index.vue";var s=o.exports},71580:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("global-variable-layout",{attrs:{type:"vertical"}},[t._l(t.usedList,(function(t){return n("global-variable",{key:t.id,ref:"used",refInFor:!0,attrs:{type:t.type,data:t}})})),t._v(" "),t.usedList.length<1?n("Empty",{key:"empty",staticStyle:{height:"160px","max-width":"960px","background-color":"#f0f1f5"},attrs:{title:"暂无引用的变量"}}):t._e(),t._v(" "),t.unusedList.length>0?n("toggle-display",{staticStyle:{"margin-top":"20px"},attrs:{count:t.unusedList.length}},[n("div",{staticStyle:{"margin-top":"20px"}},t._l(t.unusedList,(function(t){return n("global-variable",{key:t.id,ref:"unused",refInFor:!0,attrs:{type:t.type,data:t}})})),1)]):t._e()],2)};a._withStripped=!0;var i=n(89360),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/task-manage/common/render-global-var/batch-edit-of-plan/index.vue";var s=o.exports},23991:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{staticClass:"global-variable-create-row"},[n("td",[n("bk-select",{staticClass:"offset-left",attrs:{clearable:!1,value:t.formData.type},on:{change:function(e){return t.handleChange("type",e)}}},t._l(t.typeList,(function(t){return n("bk-option",{key:t.id,attrs:{id:t.id,name:t.name}})})),1)],1),t._v(" "),n("td",[n("div",{staticClass:"variable-name-box offset-left",class:{"edit-error":t.isNameError}},[n("bk-input",{attrs:{value:t.formData.name},on:{blur:t.handleShowNameError,change:function(e){return t.handleChange("name",e)}}}),t._v(" "),t.isNameError?n("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.errorNameText,expression:"errorNameText"}],staticClass:"input-error",attrs:{type:"info"}}):t._e()],1)]),t._v(" "),n("td",[t.isHostVarialbe?[t.formData.defaultTargetValue.isEmpty?n("div",{staticClass:"add-host-btn offset-left",on:{click:t.handleShowChooseIp}},[n("Icon",{staticStyle:{"margin-right":"6px"},attrs:{type:"plus"}}),t._v("\n                "+t._s("添加服务器")+"\n            ")],1):n("jb-edit-host",{attrs:{field:"defaultTargetValue",value:t.formData.defaultTargetValue}})]:[n("bk-input",{staticClass:"offset-left",attrs:{value:t.formData.defaultValue},on:{change:function(e){return t.handleChange("defaultValue",e)}}})]],2),t._v(" "),n("td",[n("jb-textarea",{staticClass:"offset-left",attrs:{value:t.formData.description},on:{change:function(e){return t.handleChange("description",e)}}})],1),t._v(" "),n("td",[t.withChangable?n("bk-checkbox",{attrs:{value:t.formData.changeable,"true-value":1,"false-value":0},on:{change:function(e){return t.handleChange("changeable",e)}}}):n("span",[t._v("--")])],1),t._v(" "),n("td",[n("bk-checkbox",{attrs:{value:t.formData.required,"true-value":1,"false-value":0},on:{change:function(e){return t.handleChange("required",e)}}})],1),t._v(" "),n("td",{staticClass:"action-row"},[n("Icon",{staticClass:"action-btn",attrs:{type:"add-fill"},on:{click:t.handleCreate}}),t._v(" "),n("Icon",{staticClass:"action-btn",attrs:{type:"reduce-fill"},on:{click:t.handleDelete}})],1),t._v(" "),n("choose-ip",{attrs:{"host-node-info":t.formData.defaultTargetValue.hostNodeInfo},on:{"on-change":t.handleHostChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var i=n(9817),r=i.Z,o=(n(91171),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-global-var/batch-operation/create-table-row.vue";var s=o.exports},90197:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"global-bariable-batch-operation"},[n("table",[n("thead",[n("tr",[n("th",{staticStyle:{width:"130px"}},[t._v(t._s("变量类型")),n("span",{staticClass:"require-flag"})]),t._v(" "),n("th",[t._v(t._s("变量名称")),n("span",{staticClass:"require-flag"})]),t._v(" "),n("th",[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"请输入变量的初始值 [可选]",expression:"'请输入变量的初始值 [可选]'"}],staticClass:"hover-tips"},[t._v("\n                        "+t._s("初始值")+"\n                    ")])]),t._v(" "),n("th",{staticStyle:{width:"320px"}},[t._v(t._s("变量描述"))]),t._v(" "),n("th",{staticStyle:{width:"80px"}},[n("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"变量的值在执行中可变",expression:"'变量的值在执行中可变'"}],staticClass:"hover-tips"},[t._v("\n                        "+t._s("赋值可变")+"\n                    ")])]),t._v(" "),n("th",{staticStyle:{width:"100px"}},[t._v(t._s("执行时必填"))]),t._v(" "),n("th",{staticStyle:{width:"80px"}},[t._v(t._s("操作"))])])]),t._v(" "),t._l(t.variableList,(function(e,a){return[e.id>0&&1!==e.delete?n("render-table-row",{key:e.id,ref:"variableEdit",refInFor:!0,attrs:{"variable-name-list":t.calcExcludeNameList(e),data:e},on:{"on-change":function(e){return t.handleChange(a,e)},"on-delete":function(e){return t.handleDelete(a)},"on-append":function(e){return t.handleAppendVariable(a)}}}):e.id<0?n("create-table-row",{key:e.id,ref:"variableCreate",refInFor:!0,attrs:{"variable-name-list":t.calcExcludeNameList(e),data:e},on:{"on-change":function(e){return t.handleChange(a,e)},"on-delete":function(e){return t.handleDelete(a)},"on-append":function(e){return t.handleAppendVariable(a)}}}):t._e()]}))],2),t._v(" "),t.isEmpty?n("div",{staticClass:"empty-box",on:{click:function(e){return t.handleAppendVariable(0)}}},[n("Icon",{attrs:{type:"add-fill"}}),t._v(" "),n("span",[t._v(t._s("全局变量"))])],1):t._e()])};a._withStripped=!0;var i=n(22231),r=i.Z,o=(n(79797),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-global-var/batch-operation/index.vue";var s=o.exports},16408:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tbody",[n("tr",[n("td",[t._v("\n            "+t._s(t.data.typeText)+"\n        ")]),t._v(" "),n("td",[n("jb-edit-input",{attrs:{mode:"block",value:t.data.name,field:"name",rules:t.rules.name},on:{"on-change":t.handleChange}})],1),t._v(" "),n("td",[t.data.isHost?n("jb-edit-host",{attrs:{value:t.data.defaultTargetValue,field:"defaultTargetValue"},on:{"on-change":t.handleChange}}):n("jb-edit-input",{attrs:{mode:"block",value:t.data.defaultValue,field:"defaultValue"},on:{"on-change":t.handleChange}})],1),t._v(" "),n("td",[n("jb-edit-textarea",{attrs:{mode:"block",rows:1,value:t.data.description,field:"description"},on:{"on-change":t.handleChange}})],1),t._v(" "),n("td",[t.withChangable?n("bk-checkbox",{attrs:{value:t.data.changeable,"true-value":1,"false-value":0}}):n("span",[t._v("--")])],1),t._v(" "),n("td",[n("bk-checkbox",{attrs:{value:t.data.required,"true-value":1,"false-value":0}})],1),t._v(" "),n("td",{staticClass:"action-row"},[n("Icon",{staticClass:"action-btn",attrs:{type:"add-fill"},on:{click:t.handleAppend}}),t._v(" "),n("Icon",{staticClass:"action-btn",attrs:{type:"reduce-fill"},on:{click:t.handleDelete}})],1)])])};a._withStripped=!0;var i=n(63687),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/task-manage/common/render-global-var/batch-operation/render-table-row.vue";var s=o.exports},7677:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"job-variable-detail"},[n("table",{staticClass:"info-table"},t._l(t.describeMap,(function(e,a){return n("tr",{key:a,staticClass:"variable-item"},[n("td",{staticClass:"info-label"},[t._v(t._s(e.label))]),t._v(" "),n("td",{staticClass:"info-value"},[n("jb-edit-textarea",{attrs:{field:e.filed,value:t.data[e.filed],readonly:""}})],1)])})),0),t._v(" "),t.data.isHost?[n("server-panel",{staticStyle:{"margin-top":"20px"},attrs:{"detail-fullscreen":"","host-node-info":t.data.defaultTargetValue.hostNodeInfo}})]:t._e()],2)};a._withStripped=!0;var i=n(53190),r=i.Z,o=(n(57812),(0,n(51900).Z)(r,a,[],!1,null,"6ccc38c7",null));o.options.__file="src/views/task-manage/common/render-global-var/detail/index.vue";var s=o.exports},92368:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-form",{ref:"varArrayForm",attrs:{model:t.formData}},[n("jb-form-item",{attrs:{label:"数组类型"}},[n("div",{staticClass:"array-type-group"},[n("bk-radio-group",{attrs:{value:t.arrayType}},[n("bk-radio-button",{staticClass:"item",attrs:{value:5}},[t._v("\n                    "+t._s("关联数组")+"\n                ")]),t._v(" "),n("bk-radio-button",{staticClass:"item",attrs:{value:6}},[t._v("\n                    "+t._s("索引数组")+"\n                ")])],1)],1)]),t._v(" "),n("jb-form-item",{attrs:{label:"变量名称"}},[n("bk-input",{attrs:{disabled:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量值"}},[n("bk-input",{attrs:{"native-attributes":{autofocus:"autofocus"}},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量描述"}},[n("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),n("jb-form-item",[n("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.changeable,callback:function(e){t.$set(t.formData,"changeable",e)},expression:"formData.changeable"}},[t._v("\n            "+t._s("赋值可变")+"\n        ")])],1),t._v(" "),n("jb-form-item",[n("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s("必填")+"\n        ")])],1)],1)};a._withStripped=!0;var i=n(75952),r=i.Z,o=(n(72930),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/array.vue";var s=o.exports},87953:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-form",{ref:"varHostForm",attrs:{model:t.formData}},[n("jb-form-item",{attrs:{label:"变量名称"}},[n("bk-input",{attrs:{disabled:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量值"}},[n("section",[n("bk-button",{on:{click:t.handleShowChooseIp}},[n("Icon",{attrs:{type:"plus"}}),t._v("\n                "+t._s("选择主机")+"\n            ")],1),t._v(" "),t.isShowClear?n("bk-button",{staticStyle:{"margin-left":"10px"},on:{click:t.handleClear}},[t._v("\n                "+t._s("清空")+"\n            ")]):t._e()],1),t._v(" "),n("server-panel",{staticClass:"view-server-panel",attrs:{"host-node-info":t.formData.defaultTargetValue.hostNodeInfo,editable:"","detail-fullscreen":""},on:{"on-change":t.handleHostChange}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量描述"}},[n("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),n("jb-form-item",[n("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v(t._s("必填"))])],1),t._v(" "),n("choose-ip",{attrs:{"host-node-info":t.formData.defaultTargetValue.hostNodeInfo},on:{"on-change":t.handleHostChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var i=n(52345),r=i.Z,o=(n(62489),(0,n(51900).Z)(r,a,[],!1,null,"cd8062d0",null));o.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/host.vue";var s=o.exports},73265:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-form",{attrs:{"form-type":"vertical"}},[n("jb-form-item",{attrs:{label:"变量类型",required:"",desc:t.nametips}},[n("bk-radio-group",{model:{value:t.globalType,callback:function(e){t.globalType=e},expression:"globalType"}},[n("bk-radio-button",{staticClass:"item",attrs:{value:"string",name:"字符串"}},[t._v("\n                "+t._s("字符串")+"\n            ")]),t._v(" "),n("bk-radio-button",{staticClass:"item",attrs:{value:"namespace"}},[t._v("\n                "+t._s("命名空间")+"\n            ")]),t._v(" "),n("bk-radio-button",{staticClass:"item",attrs:{value:"host"}},[t._v("\n                "+t._s("主机列表")+"\n            ")]),t._v(" "),n("bk-radio-button",{staticClass:"item",attrs:{value:"password"}},[t._v("\n                "+t._s("密文")+"\n            ")]),t._v(" "),n("bk-radio-button",{staticClass:"item",attrs:{value:"array"}},[t._v("\n                "+t._s("数组")+"\n            ")])],1)],1),t._v(" "),n(t.globalVarCom,{ref:"handler",tag:"component",attrs:{variable:t.variable,data:t.data}})],1)};a._withStripped=!0;var i=n(48841),r=i.Z,o=(n(201),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/index.vue";var s=o.exports},13763:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-form",{ref:"varNamespaceForm",attrs:{model:t.formData}},[n("jb-form-item",{attrs:{label:"变量名称"}},[n("bk-input",{attrs:{disabled:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量值"}},[n("bk-input",{attrs:{"native-attributes":{autofocus:"autofocus"}},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量描述"}},[n("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),n("jb-form-item",[n("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s("必填")+"\n        ")])],1)],1)};a._withStripped=!0;var i=n(87484),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/namespace.vue";var s=o.exports},54771:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-form",{ref:"varPasswordForm",attrs:{model:t.formData}},[n("jb-form-item",{attrs:{label:"变量名称"}},[n("bk-input",{attrs:{disabled:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量值"}},[n("bk-input",{attrs:{type:"password","password-icon":[],"native-attributes":{autofocus:"autofocus"}},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量描述"}},[n("bk-input",{attrs:{disabled:"",type:"textarea",row:8,maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),n("jb-form-item",[n("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s("必填")+"\n        ")])],1)],1)};a._withStripped=!0;var i=n(89192),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/password.vue";var s=o.exports},34116:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-form",{ref:"varStringForm",attrs:{model:t.formData}},[n("jb-form-item",{attrs:{label:"变量名称"}},[n("bk-input",{attrs:{disabled:""},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量值"}},[n("bk-input",{attrs:{"native-attributes":{autofocus:"autofocus"}},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量描述"}},[n("bk-input",{attrs:{disabled:"",type:"textarea",row:5,maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),n("jb-form-item",[n("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.changeable,callback:function(e){t.$set(t.formData,"changeable",e)},expression:"formData.changeable"}},[t._v("\n            "+t._s("赋值可变")+"\n        ")])],1),t._v(" "),n("jb-form-item",[n("bk-checkbox",{attrs:{disabled:"","true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s("必填")+"\n        ")])],1)],1)};a._withStripped=!0;var i=n(52679),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/task-manage/common/render-global-var/edit-of-plan/string.vue";var s=o.exports},18094:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"templateVariableRender"}},[t.showEmpty?n("div",[t._v("--")]):[n("div",{staticClass:"variable-batch-action"},[t.isOperation?n("bk-button",{attrs:{text:""},on:{click:t.handleShowBatchOperation}},[n("Icon",{attrs:{type:"bulk-edit"}}),t._v("\n                "+t._s("批量编辑")+"\n            ")],1):t._e(),t._v(" "),t.isEditOfPlan?n("bk-button",{attrs:{text:""},on:{click:t.handleShowBatchEditOfPlan}},[n("Icon",{attrs:{type:"bulk-edit"}}),t._v("\n                "+t._s("批量编辑变量值")+"\n            ")],1):t._e()],1),t._v(" "),n("div",{staticClass:"task-global-variable-box"},[t._l(t.variable,(function(e,a){return[1!==e.delete?n("div",{key:e.name+"_"+a,staticClass:"render-global-variable",class:[{"step-mode-diff":t.isDiff},t.isSelect?t.selectValue.includes(e.name)?"selected":"not-selected":""]},[n("div",{staticClass:"global-variable-content",class:[t.diff[e.id]&&t.diff[e.id].type],on:{mouseenter:function(n){return t.handleShowPopoverDetail(e)},mouseleave:t.handleHidePopoverDetail,click:function(n){return t.handlerOperation(e,a)}}},[n("div",{staticClass:"variable-type",attrs:{id:"globalVariableWithName_"+e.name}},[n("Icon",{attrs:{type:e.icon}})],1),t._v(" "),n("div",{staticClass:"variable-info"},[n("div",{staticClass:"variable-name"},[t._v(t._s(e.name))]),t._v(" "),n("div",{staticClass:"variable-description"},[t._v(t._s(e.valueText))])]),t._v(" "),t.isOperation?n("Icon",{staticClass:"variable-delete-btn",attrs:{type:"close"},on:{click:function(e){return e.stopPropagation(),t.handleDelete(a)}}}):t._e()],1)]):t._e()]})),t._v(" "),t.isOperation?n("div",{key:"create",staticClass:"global-variable-new"},[n("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"create_global_variable"},expression:"{ type: 'button', value: 'create_global_variable' }"}],staticClass:"new-btn",on:{click:t.handleCreate}},[n("Icon",{staticClass:"create-flag",attrs:{type:"plus"}}),t._v(" "),n("span",[t._v(t._s("全局变量"))])],1),t._v(" "),n("div",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"使用指引",expression:"'使用指引'"}],staticClass:"use-guide",class:{active:t.isShowUseGuide},on:{click:function(e){return e.stopPropagation(),t.handleUseGuideToggle.apply(null,arguments)}}},[n("Icon",{attrs:{type:"help-document-fill"}})],1)]):t._e()],2),t._v(" "),t.currentPopoverDetail.name?n("popover-detail",{attrs:{data:t.currentPopoverDetail,"select-value":t.selectValue,"edit-of-plan":t.isEditOfPlan,"default-field":t.defaultField}}):t._e(),t._v(" "),t.isOperation?n("element-teleport",{attrs:{target:"#templateOperationLayoutRight"}},[t.isShowUseGuide?n("variable-use-guide",{on:{"on-close":t.handleUseGuideClose}}):t._e()],1):t._e(),t._v(" "),t.isView||t.isEditOfPlan?n("jb-sideslider",{ref:"variableView",attrs:{"is-show":t.isShowDetail,title:"查看全局变量","show-footer":!1,media:t.detailMedia},on:{"update:isShow":function(e){t.isShowDetail=e},"update:is-show":function(e){t.isShowDetail=e}}},[t.isShowDetail?n("detail",{attrs:{data:t.currentData,"default-field":t.defaultField}}):t._e()],1):t._e(),t._v(" "),t.isEditOfPlan?n("jb-sideslider",{attrs:{"is-show":t.isShowEditOfPlan,title:"编辑全局变量",width:960},on:{"update:isShow":function(e){t.isShowEditOfPlan=e},"update:is-show":function(e){t.isShowEditOfPlan=e}}},[t.isShowEditOfPlan?n("edit-of-plan",{ref:"planGlobalVar",attrs:{data:t.currentData},on:{"on-change":t.handlePlanEditSubmit}}):t._e()],1):t._e(),t._v(" "),t.isEditOfPlan?n("jb-sideslider",{attrs:{"is-show":t.isShowBatchEditOfPlan,title:"批量编辑变量值",width:960,"ok-text":"确定","footer-offset-target":"variable-value"},on:{"update:isShow":function(e){t.isShowBatchEditOfPlan=e},"update:is-show":function(e){t.isShowBatchEditOfPlan=e}}},[t.isShowBatchEditOfPlan?n("batch-edit-of-plan",{ref:"planGlobalVar",attrs:{"selected-list":t.selectValue,"variable-list":t.variable},on:{"on-change":t.handleBatchPlanEditSubmit}}):t._e()],1):t._e(),t._v(" "),t.isOperation?n("jb-sideslider",t._b({attrs:{"is-show":t.isShowOperation,width:960},on:{"update:isShow":function(e){t.isShowOperation=e},"update:is-show":function(e){t.isShowOperation=e}}},"jb-sideslider",t.operationSideSliderInfo,!1),[t.isShowOperation?n("operation",{ref:"globalVar",attrs:{variable:t.realVariable,data:t.currentData},on:{"on-change":t.handleOperationSubmit}}):t._e()],1):t._e(),t._v(" "),t.isOperation?n("jb-sideslider",{attrs:{"is-show":t.isShowBatchOperation,title:"批量编辑变量",media:t.batchOperationMediaQuery},on:{"update:isShow":function(e){t.isShowBatchOperation=e},"update:is-show":function(e){t.isShowBatchOperation=e}}},[t.isShowBatchOperation?n("batch-operation",{attrs:{variable:t.variable},on:{"on-change":t.handleBatchOperationSubmit}}):t._e()],1):t._e()]],2)};a._withStripped=!0;var i=n(48632),r=i.Z,o=(n(24606),(0,n(51900).Z)(r,a,[],!1,null,"58e93fa2",null));o.options.__file="src/views/task-manage/common/render-global-var/index.vue";var s=o.exports},79632:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-form",{ref:"varArrayForm",attrs:{model:t.formData,rules:t.rules}},[n("jb-form-item",{attrs:{label:"数组类型",required:"",property:"name"}},[n("div",{staticClass:"array-type-group"},[n("bk-radio-group",{attrs:{value:t.arrayType},on:{change:t.handleArrayTypeChange}},[n("bk-radio-button",{staticClass:"item",attrs:{value:5}},[t._v("\n                    "+t._s("关联数组")+"\n                ")]),t._v(" "),n("bk-radio-button",{staticClass:"item",attrs:{value:6}},[t._v("\n                    "+t._s("索引数组")+"\n                ")])],1)],1)]),t._v(" "),n("jb-form-item",{attrs:{label:"变量名称",required:"",property:"name"}},[n("jb-input",{attrs:{placeholder:"变量名仅支持大小写英文字母或下划线 [必填]",maxlength:30},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),n("jb-form-item",{ref:"defaultValue",attrs:{label:"初始值",desc:"仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案",property:"defaultValue"}},[n("bk-input",{staticClass:"var-default-value",attrs:{placeholder:"请输入变量的初始值 [可选]"},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量描述"}},[n("bk-input",{attrs:{type:"textarea",placeholder:"这里可以备注变量的用途、使用说明等信息 [可选]",maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),n("jb-form-item",{staticClass:"form-item-changeable"},[n("bk-checkbox",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.right",value:"变量的值在执行中可变",expression:"'变量的值在执行中可变'",modifiers:{right:!0}}],attrs:{"true-value":1,"false-value":0},model:{value:t.formData.changeable,callback:function(e){t.$set(t.formData,"changeable",e)},expression:"formData.changeable"}},[t._v("\n            "+t._s("赋值可变")+"\n        ")])],1),t._v(" "),n("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[n("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s("执行时必填")+"\n        ")])],1)],1)};a._withStripped=!0;var i=n(64808),r=i.Z,o=(n(91675),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-global-var/operation/array.vue";var s=o.exports},41765:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("jb-form",{ref:"varHostForm",attrs:{model:t.formData,rules:t.rules}},[n("jb-form-item",{attrs:{label:"变量名称",required:"",property:"name"}},[n("jb-input",{attrs:{maxlength:30,placeholder:"变量名仅支持大小写英文字母或下划线 [必填]"},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),n("jb-form-item",{ref:"defaultTargetValue",attrs:{label:"初始值",desc:"仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案",property:"defaultTargetValue"}},[n("div",[n("bk-button",{staticClass:"mr10",on:{click:t.handleOpenChooseIp}},[n("Icon",{attrs:{type:"plus"}}),t._v("\n                    "+t._s("选择主机")+"\n                ")],1),t._v(" "),t.isShowClear?n("bk-button",{on:{click:t.handleClearDefault}},[t._v("\n                    "+t._s("清空")+"\n                ")]):t._e()],1),t._v(" "),t.isShowClear?n("server-panel",{staticClass:"view-server-panel",attrs:{"host-node-info":t.formData.defaultTargetValue.hostNodeInfo,editable:"","detail-fullscreen":""},on:{"on-change":t.handleHostChange}}):t._e()],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量描述"}},[n("bk-input",{attrs:{placeholder:"这里可以备注变量的用途、使用说明等信息 [可选]",type:"textarea",maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),n("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[n("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n                "+t._s("执行时必填")+"\n            ")])],1)],1),t._v(" "),n("choose-ip",{attrs:{"host-node-info":t.formData.defaultTargetValue.hostNodeInfo},on:{"on-change":t.handleHostChange},model:{value:t.isShowChooseIp,callback:function(e){t.isShowChooseIp=e},expression:"isShowChooseIp"}})],1)};a._withStripped=!0;var i=n(34419),r=i.Z,o=(n(91874),(0,n(51900).Z)(r,a,[],!1,null,"583e987a",null));o.options.__file="src/views/task-manage/common/render-global-var/operation/host.vue";var s=o.exports},82256:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-form",{attrs:{"form-type":"vertical"}},[n("jb-form-item",{attrs:{label:"变量类型",required:"",desc:t.nametips}},[n("div",{staticClass:"variable-type-wraper"},[n("bk-radio-group",{model:{value:t.globalType,callback:function(e){t.globalType=e},expression:"globalType"}},[n("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"普通的字符串变量，可跨主机、跨步骤使用",expression:"'普通的字符串变量，可跨主机、跨步骤使用'"}],staticClass:"item",attrs:{value:"string",name:"字符串"}},[t._v("\n                    "+t._s("字符串")+"\n                ")]),t._v(" "),n("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"同一主机对象的共享变量，无法跨主机使用",expression:"'同一主机对象的共享变量，无法跨主机使用'"}],staticClass:"item",attrs:{value:"namespace"}},[t._v("\n                    "+t._s("命名空间")+"\n                ")]),t._v(" "),n("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"通过拓扑、动态分组或属性筛选的主机对象",expression:"'通过拓扑、动态分组或属性筛选的主机对象'"}],staticClass:"item",attrs:{value:"host"}},[t._v("\n                    "+t._s("主机列表")+"\n                ")]),t._v(" "),n("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"经过加密处理的变量，不会以明文形式外显",expression:"'经过加密处理的变量，不会以明文形式外显'"}],staticClass:"item",attrs:{value:"password"}},[t._v("\n                    "+t._s("密文")+"\n                ")]),t._v(" "),n("bk-radio-button",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"Array 格式的字符串，支持关联或索引数组",expression:"'Array 格式的字符串，支持关联或索引数组'"}],staticClass:"item",attrs:{value:"array"}},[t._v("\n                    "+t._s("数组")+"\n                ")])],1)],1)]),t._v(" "),n(t.globalVarCom,t._g(t._b({ref:"handler",tag:"component",attrs:{data:t.formData}},"component",t.$attrs,!1),t.$listeners))],1)};a._withStripped=!0;var i=n(95646),r=i.Z,o=(n(157),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-global-var/operation/index.vue";var s=o.exports},75691:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-form",{ref:"varNamespaceForm",attrs:{model:t.formData,rules:t.rules}},[n("jb-form-item",{attrs:{label:"变量名称",required:"",property:"name"}},[n("jb-input",{attrs:{placeholder:"变量名仅支持大小写英文字母或下划线 [必填]",maxlength:30},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"初始值",desc:"仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案",property:"defaultValue"}},[n("bk-input",{attrs:{placeholder:"请输入变量的初始值 [可选]"},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量描述"}},[n("bk-input",{attrs:{placeholder:"这里可以备注变量的用途、使用说明等信息 [可选]",type:"textarea",maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),n("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[n("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s("执行时必填")+"\n        ")])],1)],1)};a._withStripped=!0;var i=n(65184),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/task-manage/common/render-global-var/operation/namespace.vue";var s=o.exports},71810:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-form",{ref:"varPasswordForm",attrs:{model:t.formData,rules:t.rules}},[n("jb-form-item",{attrs:{label:"变量名称",required:"",property:"name"}},[n("jb-input",{attrs:{placeholder:"变量名仅支持大小写英文字母或下划线 [必填]",maxlength:30},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),n("jb-form-item",{ref:"defaultValue",attrs:{label:"初始值",desc:"仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案",property:"defaultValue"}},[n("bk-input",{attrs:{placeholder:"请输入变量的初始值 [可选]",type:"password","password-icon":t.passwordIcon},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量描述"}},[n("bk-input",{attrs:{type:"textarea",placeholder:"这里可以备注变量的用途、使用说明等信息 [可选]",maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),n("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[n("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s("执行时必填")+"\n        ")])],1)],1)};a._withStripped=!0;var i=n(108),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/task-manage/common/render-global-var/operation/password.vue";var s=o.exports},61372:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("jb-form",{ref:"varStringForm",attrs:{model:t.formData,rules:t.rules}},[n("jb-form-item",{attrs:{label:"变量名称",required:"",property:"name"}},[n("jb-input",{attrs:{placeholder:"变量名仅支持大小写英文字母或下划线 [必填]",maxlength:30},model:{value:t.formData.name,callback:function(e){t.$set(t.formData,"name",e)},expression:"formData.name"}})],1),t._v(" "),n("jb-form-item",{ref:"defaultValue",attrs:{label:"初始值",desc:"仅作用于创建执行方案时的初始变量值，后续更改不会同步到执行方案",property:"defaultValue"}},[n("bk-input",{staticClass:"var-default-value",attrs:{placeholder:"请输入变量的初始值 [可选]"},model:{value:t.formData.defaultValue,callback:function(e){t.$set(t.formData,"defaultValue",e)},expression:"formData.defaultValue"}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"变量描述"}},[n("bk-input",{attrs:{type:"textarea",placeholder:"这里可以备注变量的用途、使用说明等信息 [可选]",maxlength:"100"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})],1),t._v(" "),n("jb-form-item",{attrs:{"ext-cls":"changeable-cls"}},[n("bk-checkbox",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips.right",value:"变量的值在执行中可变",expression:"'变量的值在执行中可变'",modifiers:{right:!0}}],attrs:{"true-value":1,"false-value":0},model:{value:t.formData.changeable,callback:function(e){t.$set(t.formData,"changeable",e)},expression:"formData.changeable"}},[t._v("\n            "+t._s("赋值可变")+"\n        ")])],1),t._v(" "),n("jb-form-item",{staticStyle:{"margin-bottom":"0"}},[n("bk-checkbox",{attrs:{"true-value":1,"false-value":0},model:{value:t.formData.required,callback:function(e){t.$set(t.formData,"required",e)},expression:"formData.required"}},[t._v("\n            "+t._s("执行时必填")+"\n        ")])],1)],1)};a._withStripped=!0;var i=n(98840),r=i.Z,o=(n(70422),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-global-var/operation/string.vue";var s=o.exports},89228:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"detail",staticClass:"global-variable-popover-detail",class:t.classes,style:t.styles},[n("div",{staticClass:"wraper"},[n("div",{staticClass:"header"},[n("span",[t._v(t._s(t.data.name))]),t._v(" "),t.editOfPlan&&!t.selectValue.includes(t.data.name)?n("span",{staticClass:"tag"},[t._v("\n                "+t._s("未引用")+"\n            ")]):t._e()]),t._v(" "),n("detail-layout",[n("detail-item",{attrs:{label:"变量类型："}},[t._v("\n                "+t._s(t.data.typeText)+"\n            ")]),t._v(" "),n("detail-item",{attrs:{label:t.defaultField+"："}},[t._v("\n                "+t._s(t.data.valueText)+"\n            ")]),t._v(" "),n("detail-item",{attrs:{label:"变量描述："}},[t._v("\n                "+t._s(t.data.description||"--")+"\n            ")]),t._v(" "),n("detail-item",{attrs:{label:"必填："}},[t._v("\n                "+t._s(t.data.requiredText)+"\n            ")]),t._v(" "),n("detail-item",{attrs:{label:"赋值可变："}},[t._v("\n                "+t._s(t.data.changeableText)+"\n            ")])],1)],1)])};a._withStripped=!0;var i=n(18131),r=i.Z,o=(n(71970),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-global-var/popover-detail.vue";var s=o.exports},96187:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"templateStepRender"}},[n("div",{staticClass:"task-step-container",class:t.stepContainerClasses},[t._l(t.steps,(function(e,a){return[1!==e.delete?n(t.stepBoxCom,{key:a+"_"+e.id,tag:"components",staticClass:"step-drag-box",class:{sort:t.isOperation&&t.dragStartIndex>-1},attrs:{list:[e],group:{name:"step",pull:"clone",put:t.dragStartIndex!==a},move:t.handleDragMove,index:a},on:{start:function(e){return t.handleDragStart(a)},add:function(e){return t.handleDragAdd(a)}}},[n("div",{staticClass:"step-content-wraper",class:{"step-mode-diff":t.isDiff,select:t.isSelect,"not-select":t.isSelect&&!t.selectValue.includes(e.id),active:a===t.currentIndex},attrs:{order:t.genOrder()}},[n("div",{staticClass:"render-task-step",class:[t.diff[e.id]&&t.diff[e.id].type]},[n("div",{staticClass:"step-content",on:{click:function(e){return t.handleStepClick(a)}}},[n("div",{staticClass:"step-icon"},[n("Icon",{attrs:{type:e.icon}})],1),t._v(" "),n("div",{staticClass:"step-name"},[n("div",{staticClass:"step-name-text"},[t._v(t._s(e.name||"--"))]),t._v(" "),n("div",{domProps:{innerHTML:t._s(e.scriptStatusHtml)}})]),t._v(" "),t.isOperation?n("Icon",{staticClass:"draggable-flag",attrs:{type:"move"}}):t._e()],1),t._v(" "),t.isOperation?n("div",{staticClass:"step-operation"},[n("Icon",{staticClass:"operation",attrs:{type:"plus-circle"},on:{click:function(e){return t.handleShowCreate(a)}}}),t._v(" "),n("Icon",{staticClass:"operation",attrs:{type:"minus-circle"},on:{click:function(e){return t.handleDel(a)}}}),t._v(" "),n("Icon",{staticClass:"operation",attrs:{type:"edit-2"},on:{click:function(e){return t.handleShowEdit(a)}}}),t._v(" "),n("Icon",{staticClass:"operation",attrs:{type:"step-copy","tippy-tips":"克隆步骤"},on:{mouseover:function(e){return t.handleCloneStepHover(a,!0)},mouseout:function(e){return t.handleCloneStepHover(a,!1)},click:function(e){return t.handleCloneStep(a)}}})],1):t._e(),t._v(" "),t.isSelect?n("div",{staticClass:"select-flag",on:{click:function(n){return t.handleStepSelect(e)}}},[n("div",{staticClass:"select-checked"})]):t._e(),t._v(" "),t.isEdit?[e.id?t._e():n("div",{staticClass:"step-new-flag"},[t._v("new")])]:t._e(),t._v(" "),!1===e.localValidator?n("div",{staticClass:"need-validate-falg"},[t._v("\n                            "+t._s("待补全")+"\n                        ")]):t._e()],2),t._v(" "),t.diff[e.id]&&"move"===t.diff[e.id].type?n("div",{staticClass:"diff-order"},[0!==t.diff[e.id].value?n("div",{staticClass:"order-change"},[n("Icon",{attrs:{type:t.diff[e.id].value<0?"down-arrow":"up-arrow"}}),t._v("\n                            "+t._s(Math.abs(t.diff[e.id].value))+"\n                        ")],1):n("span",{staticClass:"order-normal"},[t._v("-")])]):t._e()])]):t._e()]})),t._v(" "),t.isOperation?n("div",{directives:[{name:"test",rawName:"v-test",value:{type:"button",value:"create_step"},expression:"{ type: 'button', value: 'create_step' }"}],key:"create",staticClass:"step-create-btn",on:{click:function(e){return t.handleShowCreate(-1)}}},[n("Icon",{staticClass:"action-flag",attrs:{type:"plus"}}),t._v("\n            "+t._s("作业步骤")+"\n        ")],1):t._e()],2),t._v(" "),t.isView?n("lower-component",[n("jb-sideslider",{attrs:{"is-show":t.isShowDetail,title:"查看作业步骤","show-footer":!1,"quick-close":!0,width:896,media:t.mediaQueryMap},on:{"update:isShow":function(e){t.isShowDetail=e},"update:is-show":function(e){t.isShowDetail=e}}},[t.isShowDetail?n("task-step-view",{ref:"stepViewRef",attrs:{variable:t.hostVariables,data:t.detailInfo}}):t._e()],1)],1):t._e(),t._v(" "),t.isOperation?n("lower-component",[n("jb-sideslider",t._b({attrs:{id:"taskStepOperationSideslider","is-show":t.isShowOperation,width:916,media:t.mediaQueryMap},on:{"update:isShow":function(e){t.isShowOperation=e},"update:is-show":function(e){t.isShowOperation=e}}},"jb-sideslider",t.operationSideSliderInfo,!1),[t.isShowOperation?n("task-step-operation",{ref:"taskStep",attrs:{variable:t.hostVariables,"script-variables":t.scriptVariables,data:t.operationData},on:{"on-change":t.handleTaskStepSubmit}}):t._e()],1)],1):t._e()],1)};a._withStripped=!0;var i=n(21),r=i.Z,o=(n(14715),(0,n(51900).Z)(r,a,[],!1,null,"30214c10",null));o.options.__file="src/views/task-manage/common/render-task-step/index.vue";var s=o.exports},11343:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"artificial-view"},[n("detail-item",{attrs:{label:"确认人："}},[n("div",{staticClass:"approval-wraper"},[t._l(t.renderRoleList,(function(e){return n("div",{key:e,staticClass:"item"},[n("Icon",{staticClass:"approval-flag",attrs:{type:"user-group-gray"}}),t._v("\n                "+t._s(e)+"\n            ")],1)})),t._v(" "),t._l(t.stepInfo.approvalUser.userList,(function(e){return n("div",{key:e,staticClass:"item"},[n("Icon",{staticClass:"approval-flag",attrs:{type:"user"}}),t._v("\n                "+t._s(e)+"\n            ")],1)}))],2)]),t._v(" "),n("detail-item",{attrs:{label:"通知方式："}},[t._v(t._s(t.renderChannel))]),t._v(" "),n("detail-item",{attrs:{label:"确认描述："}},[t._v(t._s(t.stepInfo.approvalMessage||"--"))])],1)};a._withStripped=!0;var i=n(9603),r=i.Z,o=(n(19962),(0,n(51900).Z)(r,a,[],!1,null,"08b9e5d1",null));o.options.__file="src/views/task-manage/common/render-task-step/task-step-view/artificial.vue";var s=o.exports},33589:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"render-file-path-box"},[n("bk-popover",{attrs:{placement:"left"}},[t._l(t.renderData,(function(e,a){return n("div",{key:a,staticClass:"path-text-row"},[t._v("\n            "+t._s(e)+"\n        ")])})),t._v(" "),t.hasMore?n("div",[t._v("...")]):t._e(),t._v(" "),n("ul",{staticClass:"source-file-tips-box",attrs:{slot:"content"},slot:"content"},t._l(t.data,(function(e,a){return n("li",{key:a,staticClass:"row"},[n("span",{staticClass:"dot"}),t._v("\n                "+t._s(e)+"\n            ")])})),0)],2)],1)};a._withStripped=!0;var i=n(95831),r=i.Z,o=(n(74419),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-file-path.vue";var s=o.exports},28224:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"render-file-server"},[n("div",{staticClass:"server-agent-text",domProps:{innerHTML:t._s(t.data.serverDesc)},on:{click:t.handlerView}}),t._v(" "),n("jb-dialog",{staticClass:"step-view-server-detail-dialog",attrs:{width:1020,"ok-text":"关闭"},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"variable-title"},[n("span",[t._v(t._s("服务器文件-服务器列表"))]),t._v(" "),n("i",{staticClass:"server-detail-close bk-icon icon-close",on:{click:t.handleClose}})])]},proxy:!0}]),model:{value:t.isShowDetail,callback:function(e){t.isShowDetail=e},expression:"isShowDetail"}},[t._v(" "),n("div",{staticClass:"content-wraper"},[n("scroll-faker",[n("server-panel",{attrs:{"detail-mode":"dialog","host-node-info":t.hostNodeInfo}})],1)],1)])],1)};a._withStripped=!0;var i=n(4807),r=i.Z,o=(n(41271),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-file-server.vue";var s=o.exports},93081:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"step-view-global-variable",on:{click:t.handlerView}},[n("div",{staticClass:"flag"},[n("Icon",{attrs:{type:"host"}})],1),t._v(" "),n("div",{staticClass:"name",attrs:{title:t.name}},[t._v(t._s(t.name))]),t._v(" "),n("jb-dialog",{staticClass:"global-host-variable-detail-dialog",attrs:{title:t.title,width:1020,"ok-text":"关闭"},scopedSlots:t._u([{key:"header",fn:function(){return[n("div",{staticClass:"variable-title"},[n("span",[t._v(t._s(t.title))]),t._v(" "),n("i",{staticClass:"global-variable-dialog-close bk-icon icon-close",on:{click:t.handleClose}})])]},proxy:!0}]),model:{value:t.isShowDetail,callback:function(e){t.isShowDetail=e},expression:"isShowDetail"}},[t._v(" "),n("div",{staticClass:"content-wraper"},[t.isEmpty?n("Empty",{staticStyle:{height:"100%"},attrs:{title:"变量值为空"}}):n("scroll-faker",[n("server-panel",{attrs:{"detail-mode":"dialog","host-node-info":t.hostNodeInfo}})],1)],1)])],1)};a._withStripped=!0;var i=n(66703),r=i.Z,o=(n(42719),n(50122),(0,n(51900).Z)(r,a,[],!1,null,"42caee01",null));o.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-global-variable.vue";var s=o.exports},88342:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"render-server-file"},[t.isShowLocalFile||t.isShowServerFile||t.isShowSourceFile?n("bk-collapse",{staticClass:"host-detail",model:{value:t.activeResult,callback:function(e){t.activeResult=e},expression:"activeResult"}},[t.isShowLocalFile?n("jb-collapse-item",{attrs:{name:"local",active:t.activeResult},scopedSlots:t._u([{key:"content",fn:function(){return[n("table",[n("tbody",t._l(t.localFileList,(function(e,a){return n("tr",{key:a},[n("td",{staticStyle:{width:"40%","word-break":"break-all"}},[t._v(t._s(e.fileLocationText))]),t._v(" "),n("td",[t._v(t._s(e.fileSizeText))])])})),0)])]},proxy:!0}],null,!1,372446648)},[n("span",{staticClass:"collapse-title"},[t._v(t._s("已选择")),n("span",{staticClass:"number strong"},[t._v(t._s(t.localFileList.length))]),t._v(t._s("个本地文件"))])]):t._e(),t._v(" "),t.isShowSourceFile?n("jb-collapse-item",{attrs:{name:"source",active:t.activeResult},scopedSlots:t._u([{key:"content",fn:function(){return[n("table",[n("thead",[n("th",{staticStyle:{width:"40%"}},[t._v(t._s("文件名称"))]),t._v(" "),n("th",[t._v(t._s("文件源"))])]),t._v(" "),n("tbody",{staticClass:"source-file-list"},t._l(t.sourceFileList,(function(e,a){return n("tr",{key:a},[n("td",[n("render-file-path",{attrs:{data:e.fileLocation}})],1),t._v(" "),n("td",[n("span",{staticClass:"source-file-alias",on:{click:function(n){return t.handleGoSource(e,a)}}},[t._v("\n                                    "+t._s(t.fileSourceAliasList[a])+"\n                                    "),n("Icon",{staticClass:"source-file-icon",attrs:{type:"edit",svg:""}})],1)])])})),0)])]},proxy:!0}],null,!1,3581340703)},[n("span",{staticClass:"collapse-title"},[t._v(t._s("已选择")),n("span",{staticClass:"number strong"},[t._v(t._s(t.sourceFileList.length))]),t._v(t._s("个文件源文件"))])]):t._e(),t._v(" "),t.isShowServerFile?n("jb-collapse-item",{attrs:{name:"server",active:t.activeResult},scopedSlots:t._u([{key:"content",fn:function(){return[n("table",[n("thead",[n("th",{staticStyle:{width:"40%"}},[t._v(t._s("文件路径"))]),t._v(" "),n("th",{staticStyle:{width:"15%"}},[t._v(t._s("服务器列表"))]),t._v(" "),n("th",[t._v(t._s("Agent 状态"))]),t._v(" "),n("th",{staticStyle:{width:"20%"}},[t._v(t._s("服务器账号"))])]),t._v(" "),n("tbody",t._l(t.serverFileList,(function(e,a){return n("tr",{key:a},[n("td",[n("render-file-path",{attrs:{data:e.fileLocation}})],1),t._v(" "),e.isVar?[n("td",[n("render-global-variable",{attrs:{name:e.serverDesc,data:t.variable}})],1),t._v(" "),n("td",[n("render-server-agent",{attrs:{title:"全局变量 - "+e.host.variable,"host-node-info":t.findVariableValue(e.host.variable)}})],1)]:[n("td",[n("render-file-server",{attrs:{data:e}})],1),t._v(" "),n("td",[n("render-server-agent",{attrs:{title:"服务器文件-服务器列表","host-node-info":e.host.hostNodeInfo}})],1)],t._v(" "),n("td",[t._v(t._s(t.findAccountAlias(e.account)))])],2)})),0)])]},proxy:!0}],null,!1,1685530593)},[n("span",{staticClass:"collapse-title"},[t._v(t._s("已选择")),n("span",{staticClass:"number strong"},[t._v(t._s(t.serverFileList.length))]),t._v(t._s("个服务器文件"))])]):t._e()],1):t._e()],1)};a._withStripped=!0;var i=n(46638),r=i.Z,o=(n(2297),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-task-step/task-step-view/components/render-source-file.vue";var s=o.exports},92520:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"distro-file-view",class:{loading:t.isLoading}},[n("detail-item",{attrs:{label:"超时时长："}},[t._v(t._s(t.stepInfo.timeout)+" (s)")]),t._v(" "),n("detail-item",{attrs:{label:"错误处理："}},[t._v(t._s(t.stepInfo.ignoreErrorText))]),t._v(" "),n("detail-item",{attrs:{label:"上传限速："}},[t._v(t._s(t.stepInfo.uploadSpeedLimitText))]),t._v(" "),n("detail-item",{attrs:{label:"下载限速："}},[t._v(t._s(t.stepInfo.downloadSpeedLimitText))]),t._v(" "),n("detail-item",{attrs:{label:"文件来源：",layout:"vertical"}},[t.isLoading?t._e():n("render-source-file",{attrs:{data:t.stepInfo.fileSourceList,variable:t.variable,account:t.account}})],1),t._v(" "),n("detail-item",{attrs:{label:"目标路径："}},[t._v(t._s(t.stepInfo.fileDestination.path))]),t._v(" "),n("detail-item",{attrs:{label:"传输模式："}},[t._v(t._s(t.stepInfo.transferModeText))]),t._v(" "),n("detail-item",{attrs:{label:"执行帐号："}},[t._v(t._s(t.executeAccountText))]),t._v(" "),t.stepInfo.fileDestination.server.variable?n("detail-item",{attrs:{label:"执行目标："}},[n("render-global-variable",{attrs:{type:"执行目标",data:t.variable,name:t.stepInfo.fileDestination.server.variable}})],1):n("detail-item",{attrs:{label:"执行目标：",layout:"vertical"}},[n("server-panel",{attrs:{"detail-fullscreen":"","host-node-info":t.stepInfo.fileDestination.server.hostNodeInfo}})],1)],1)};a._withStripped=!0;var i=n(78864),r=i.Z,o=(n(44318),(0,n(51900).Z)(r,a,[],!1,null,"71de5a1f",null));o.options.__file="src/views/task-manage/common/render-task-step/task-step-view/distro-file.vue";var s=o.exports},34366:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"exec-script-view",class:{loading:t.isLoading}},[n("detail-item",{attrs:{label:"脚本来源："}},[t._v("\n        "+t._s(t.stepInfo.scriptSourceText)+"\n    ")]),t._v(" "),t.isReferScript?n("detail-item",{attrs:{label:"脚本引用："}},[n("span",[t._v(t._s(t.scriptName))]),t._v(" "),n("Icon",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:"脚本详情",expression:"'脚本详情'"}],staticClass:"script-detail",attrs:{type:"jump"},on:{click:t.handleGoScriptDetail}}),t._v(" "),t.stepInfo.isNeedUpdate||t.stepInfo.isDisabled?n("div",{staticClass:"script-update-flag"},[n("span",{domProps:{innerHTML:t._s(t.stepInfo.scriptStatusHtml)}}),t._v(" "),t.stepInfo.isNeedUpdate?n("bk-button",{attrs:{text:""},on:{click:t.handleGoScriptVersion}},[t._v("\n                "+t._s("版本对比")+"\n            ")]):t._e(),t._v(" "),n("bk-button",{attrs:{text:""},on:{click:t.handleUpdateScript}},[t._v("\n                "+t._s("去更新")+"\n            ")])],1):t._e()],1):t._e(),t._v(" "),n("detail-item",{attrs:{label:"脚本内容：",layout:"vertical"}},[n("ace-editor",{attrs:{value:t.stepInfo.content,lang:t.language,options:t.languageOption,readonly:""}})],1),t._v(" "),n("div",[n("detail-item",{attrs:{label:"脚本参数："}},[n("jb-edit-textarea",{attrs:{field:"scriptParam",value:t.stepInfo.scriptParam,readonly:""}})],1),t._v(" "),n("detail-item",{attrs:{label:"超时时长："}},[t._v(t._s(t.stepInfo.timeout)+"（s）")]),t._v(" "),n("detail-item",{attrs:{label:"错误处理："}},[t._v(t._s(t.stepInfo.ignoreErrorText))]),t._v(" "),n("detail-item",{attrs:{label:"执行账号："}},[t._v(t._s(t.executeAccountText))])],1),t._v(" "),t.stepInfo.executeTarget.variable?n("detail-item",{attrs:{label:"执行目标："}},[n("render-global-variable",{attrs:{type:"执行目标",name:t.stepInfo.executeTarget.variable,data:t.variable}})],1):n("detail-item",{attrs:{label:"执行目标：",layout:"vertical"}},[n("server-panel",{attrs:{"detail-fullscreen":"","host-node-info":t.stepInfo.executeTarget.hostNodeInfo}})],1)],1)};a._withStripped=!0;var i=n(65867),r=i.Z,o=(n(52834),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-task-step/task-step-view/exec-script.vue";var s=o.exports},61328:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("detail-layout",{staticClass:"detail-layout-wrapper",attrs:{mode:"see"}},[n("detail-item",{attrs:{label:"步骤类型："}},[t._v(t._s(t.stepTypeText))]),t._v(" "),n("detail-item",{attrs:{label:"步骤名称："}},[t._v(t._s(t.data.name))]),t._v(" "),n(t.stepCom,{ref:"stepCom",tag:"component",attrs:{variable:t.variable,data:t.data}})],1)};a._withStripped=!0;var i=n(40263),r=i.Z,o=(n(4035),(0,n(51900).Z)(r,a,[],!1,null,"28d8770b",null));o.options.__file="src/views/task-manage/common/render-task-step/task-step-view/index.vue";var s=o.exports},98654:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("jb-form",{ref:"form",attrs:{model:t.formData,rules:t.rules,fixed:"","label-width":110}},[n("item-factory",{attrs:{name:"stepName",field:"name",placeholder:"推荐按步骤实际处理的场景行为来取名...","form-data":t.formData},on:{"on-change":t.handleNameChange}}),t._v(" "),n("jb-form-item",{attrs:{label:"确认人",required:!0,property:"approvalUser"}},[n("jb-user-selector",{staticClass:"input",attrs:{placeholder:"输入确认人",user:t.formData.approvalUser.userList,role:t.formData.approvalUser.roleList,"filter-list":["JOB_EXTRA_OBSERVER"]},on:{"on-change":t.handleApprovalUserChange}})],1),t._v(" "),n("jb-form-item",{attrs:{label:"通知方式"}},[n("div",{staticClass:"notify-channel-wraper"},[n("bk-checkbox",{attrs:{checked:t.isChannelAll,indeterminate:t.isChannelIndeterminate},nativeOn:{click:function(e){return t.handleToggleAllChannel.apply(null,arguments)}}},[t._v("\n                    "+t._s("全部")+"\n                ")]),t._v(" "),n("bk-checkbox-group",{staticClass:"all-channel",model:{value:t.formData.notifyChannel,callback:function(e){t.$set(t.formData,"notifyChannel",e)},expression:"formData.notifyChannel"}},t._l(t.channleList,(function(e){return n("bk-checkbox",{key:e.code,attrs:{value:e.code}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])})),1)],1)]),t._v(" "),n("jb-form-item",{attrs:{label:"确认描述"}},[n("bk-input",{staticClass:"input",attrs:{type:"textarea",maxlength:1e3},model:{value:t.formData.approvalMessage,callback:function(e){t.$set(t.formData,"approvalMessage",e)},expression:"formData.approvalMessage"}})],1)],1)],1)};a._withStripped=!0;var i=n(50350),r=i.Z,o=(n(2334),(0,n(51900).Z)(r,a,[],!1,null,"94b0c084",null));o.options.__file="src/views/task-manage/common/render-task-step/task-step/components/artificial.vue";var s=o.exports},61832:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"step-distro-file"},[n("jb-form",{ref:"form",attrs:{model:t.formData,fixed:"","label-width":t.formMarginLeftWidth}},[n("card-layout",{staticClass:"block",attrs:{title:"基本信息"}},[n("item-factory",{attrs:{name:"stepName",field:"name",placeholder:"推荐按步骤实际处理的场景行为来取名...","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"timeout",field:"timeout","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"errorHandle",field:"ignoreError","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"speedLimit",field:"uploadSpeedLimit",label:"上传限速","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"speedLimit",field:"downloadSpeedLimit",label:"下载限速","form-data":t.formData},on:{"on-change":t.handleChange}})],1),t._v(" "),n("card-layout",{staticClass:"block",attrs:{title:"文件来源"}},[n("item-factory",{attrs:{name:"sourceFileOfTemplate",field:"fileSourceList",variable:t.variable,"form-data":t.formData},on:{"on-change":t.handleChange}})],1),t._v(" "),n("card-layout",{staticClass:"block",attrs:{title:"传输目标"}},[n("item-factory",{ref:"targetPath",attrs:{name:"targetPath",field:"path","tips-placement":"top","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"transferMode",field:"transferMode","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"executeAccount",field:"account","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"targetServerOfTemplate",field:"server",variable:t.variable,"form-data":t.formData},on:{"on-change":t.handleChange}})],1)],1)],1)};a._withStripped=!0;var i=n(57475),r=i.Z,o=(n(63621),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-task-step/task-step/components/distro-file.vue";var s=o.exports},51461:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("jb-form",{ref:"form",attrs:{model:t.formData,fixed:"","label-width":110}},[n("item-factory",{attrs:{name:"scriptName",field:"name",placeholder:"推荐按步骤实际处理的场景行为来取名...","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"scriptSourceOfTemplate","script-source-field":"scriptSource","content-field":"content","language-field":"scriptLanguage","script-id-field":"scriptId","script-version-id-field":"scriptVersionId","script-status-field":"status","form-data":t.formData},on:{"on-change":t.handleChange,"on-reset":t.handleScriptContentReset}}),t._v(" "),n("item-factory",{attrs:{name:"scriptContent","script-source-field":"scriptSource","content-field":"content","language-field":"scriptLanguage","form-data":t.formData,"script-variables":t.scriptVariables},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"scriptParam","param-field":"scriptParam","secure-field":"secureParam","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"scriptTimeout",field:"timeout","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"errorHandle",field:"ignoreError","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"scriptAccount",field:"account","script-language-field":"scriptLanguage","form-data":t.formData},on:{"on-change":t.handleChange}}),t._v(" "),n("item-factory",{attrs:{name:"executeTargetOfTemplate",field:"executeTarget",variable:t.variable,"form-data":t.formData},on:{"on-change":t.handleChange}})],1)],1)};a._withStripped=!0;var i=n(95588),r=i.Z,o=(0,n(51900).Z)(r,a,[],!1,null,null,null);o.options.__file="src/views/task-manage/common/render-task-step/task-step/components/exec-script.vue";var s=o.exports},42404:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task-step-operation-wraper"},[n("div",{staticClass:"left",style:t.leftStyles},[n("scroll-faker",[n("div",{staticClass:"container"},[n("jb-form",{attrs:{fixed:"","label-width":t.formMarginLeftWidth}},[n("bk-form-item",{attrs:{label:"步骤类型",required:""}},[n("bk-select",{staticClass:"form-item-content",attrs:{clearable:!1},model:{value:t.taskStepType,callback:function(e){t.taskStepType=e},expression:"taskStepType"}},[n("bk-option",{attrs:{id:"1",name:"执行脚本"}}),t._v(" "),n("bk-option",{attrs:{id:"2",name:"分发文件"}}),t._v(" "),n("bk-option",{attrs:{id:"3",name:"人工确认"}})],1)],1)],1),t._v(" "),n(t.stepCom,t._g(t._b({ref:"handler",tag:"component",attrs:{data:t.stepData}},"component",t.$attrs,!1),t.$listeners))],1)]),t._v(" "),n("bk-button",{staticClass:"variable-guide-btn",attrs:{text:""},on:{click:t.handleShowVariableGuide}},[n("Icon",{attrs:{type:"book"}}),t._v("\n            "+t._s("变量使用指引")+"\n        ")],1)],1),t._v(" "),t.isShowVariableGuide?n("div",{staticClass:"right"},[n("variable-use-guide",{on:{"on-close":t.handleHideVariableGuide}})],1):t._e()])};a._withStripped=!0;var i=n(20781),r=i.Z,o=(n(95557),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/render-task-step/task-step/index.vue";var s=o.exports},8996:function(t,e,n){"use strict";n.r(e),n.d(e,{__esModule:function(){return i.X},default:function(){return s}});var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"variable-use-guide"},[n("div",{staticClass:"header"},[n("div",[t._v(t._s("使用指引"))]),t._v(" "),n("div",{staticClass:"tab-container"},[n("div",{staticClass:"tab-item",class:{active:"global"===t.tab},on:{click:function(e){return t.handleTabToggle("global")}}},[t._v("\n                "+t._s("全局变量")+"\n            ")]),t._v(" "),n("div",{staticClass:"tab-item",class:{active:"magic"===t.tab},on:{click:function(e){return t.handleTabToggle("magic")}}},[t._v("\n                "+t._s("魔法变量")+"\n            ")])])]),t._v(" "),n("scroll-faker",{staticStyle:{height:"calc(100% - 88px)"}},[n("div",{staticClass:"content"},[n("div",{staticStyle:{"margin-top":"-24px"},domProps:{innerHTML:t._s(t.contentHtml)}})])]),t._v(" "),n("div",{staticClass:"close-btn",on:{click:t.handleClose}},[n("Icon",{attrs:{type:"close"}})],1)],1)};a._withStripped=!0;var i=n(24471),r=i.Z,o=(n(18950),(0,n(51900).Z)(r,a,[],!1,null,null,null));o.options.__file="src/views/task-manage/common/variable-use-guide/index.vue";var s=o.exports},50115:function(t,e,n){var a=n(72886);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("76fc4d72",a,!1,{})},29396:function(t,e,n){var a=n(67103);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("d39876d8",a,!1,{})},56138:function(t,e,n){var a=n(66553);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("4c47d704",a,!1,{})},82137:function(t,e,n){var a=n(24973);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("acbfdbfe",a,!1,{})},36551:function(t,e,n){var a=n(81663);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("20729e68",a,!1,{})},65940:function(t,e,n){var a=n(72713);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("4146a186",a,!1,{})},79949:function(t,e,n){var a=n(37674);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("05b90cae",a,!1,{})},65265:function(t,e,n){var a=n(75066);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("2f92a588",a,!1,{})},34667:function(t,e,n){var a=n(18977);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("23439552",a,!1,{})},55463:function(t,e,n){var a=n(71794);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("ec4366be",a,!1,{})},19164:function(t,e,n){var a=n(44651);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("c9178974",a,!1,{})},37091:function(t,e,n){var a=n(32839);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("74538528",a,!1,{})},84829:function(t,e,n){var a=n(60689);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("326d426d",a,!1,{})},49686:function(t,e,n){var a=n(18004);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("57efbd78",a,!1,{})},55008:function(t,e,n){var a=n(7420);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("4bb58068",a,!1,{})},1138:function(t,e,n){var a=n(12610);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("18c6c7e1",a,!1,{})},84336:function(t,e,n){var a=n(22686);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("78a2deb0",a,!1,{})},56903:function(t,e,n){var a=n(41989);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("5c2005ba",a,!1,{})},94064:function(t,e,n){var a=n(11771);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("c1b4446c",a,!1,{})},23414:function(t,e,n){var a=n(68839);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("249170b0",a,!1,{})},50970:function(t,e,n){var a=n(78243);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("78a8cde8",a,!1,{})},35977:function(t,e,n){var a=n(93257);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("286c6d38",a,!1,{})},72694:function(t,e,n){var a=n(40026);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("46f9c3b0",a,!1,{})},91171:function(t,e,n){var a=n(79805);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("44ece8f5",a,!1,{})},79797:function(t,e,n){var a=n(1210);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("51773bc5",a,!1,{})},57812:function(t,e,n){var a=n(56857);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("280e9d3a",a,!1,{})},72930:function(t,e,n){var a=n(86771);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("7f73777e",a,!1,{})},62489:function(t,e,n){var a=n(52958);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("04e0d4f1",a,!1,{})},201:function(t,e,n){var a=n(7205);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("b0077d3e",a,!1,{})},24606:function(t,e,n){var a=n(34760);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("1a6e7c25",a,!1,{})},91675:function(t,e,n){var a=n(86357);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("5b454f26",a,!1,{})},91874:function(t,e,n){var a=n(72821);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("06b2ae87",a,!1,{})},157:function(t,e,n){var a=n(85317);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("175a1f58",a,!1,{})},70422:function(t,e,n){var a=n(35282);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("cc0f023c",a,!1,{})},71970:function(t,e,n){var a=n(90779);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("547549e1",a,!1,{})},14715:function(t,e,n){var a=n(73287);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("48717e11",a,!1,{})},19962:function(t,e,n){var a=n(42590);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("3f6a1cfe",a,!1,{})},74419:function(t,e,n){var a=n(68925);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("65d8ad22",a,!1,{})},41271:function(t,e,n){var a=n(71639);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("79664ac4",a,!1,{})},42719:function(t,e,n){var a=n(90004);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("79915bfc",a,!1,{})},50122:function(t,e,n){var a=n(26527);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("56a5f13d",a,!1,{})},2297:function(t,e,n){var a=n(36693);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("9f8f22dc",a,!1,{})},44318:function(t,e,n){var a=n(98911);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("4eb9ec7e",a,!1,{})},52834:function(t,e,n){var a=n(8812);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("48284446",a,!1,{})},4035:function(t,e,n){var a=n(90492);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("4136c42e",a,!1,{})},2334:function(t,e,n){var a=n(70408);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("bf556caa",a,!1,{})},63621:function(t,e,n){var a=n(37562);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("23128a04",a,!1,{})},95557:function(t,e,n){var a=n(58102);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("215bafe8",a,!1,{})},18950:function(t,e,n){var a=n(39945);a.__esModule&&(a=a.default),"string"==typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);(0,n(18086).Z)("26fe6a08",a,!1,{})}}]);