(self.webpackChunkjob=self.webpackChunkjob||[]).push([[2197],{30293:function(t,e){"use strict";Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var a={methods:{handleNext(){this.$emit("on-change",2)},handleCancel(){this.$emit("on-cancle")}}};e.Z=a},57243:function(t,e,a){"use strict";a(87147),a(13118),a(20767);var s=a(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0;var i=s(a(68203));a(41336),a(59241),a(98495),a(91981),a(63898),a(70616),a(85376);var r=s(a(74650)),n=s(a(51391)),o=a(15513);function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){(0,i.default)(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var d={components:{Empty:s(a(89888)).default},data:()=>({isLoading:!1,isPlanLoading:!1,taskIds:o.taskExport.getItem("ids")||[],currentTemplateId:0,jobList:[{},{},{}],planList:[{},{},{}],templateInfoMap:{}}),computed:{renderPlanList(){return this.currentTemplateId?this.templateInfoMap[this.currentTemplateId].planList:[]},templateTitle(){var t=this,e="";return this.jobList.forEach((function(a){a.id===t.currentTemplateId&&(e="[".concat(a.id,"] ").concat(a.name))})),e}},created(){this.fetchData()},methods:{fetchData(){var t=this;this.$request(r.default.fetchBasic({ids:this.taskIds.join(",")}),(function(){t.isLoading=!0})).then((function(e){e.length<1||(t.jobList=e,t.templateInfoMap=Object.freeze(e.reduce((function(t,e){return t[e.id]={id:e.id,planSelectedMap:{},planList:[{},{},{}],exportAll:0},t}),{})),t.currentTemplateId=e[0].id,t.fetchPlanList())})).finally((function(){t.isLoading=!1}))},fetchPlanList(){var t=this;this.isPlanLoading=!0,n.default.fetchTaskPlan({id:this.currentTemplateId}).then((function(e){var a=c({},t.templateInfoMap),s=a[t.currentTemplateId];s.planList=Object.freeze(e),s.planSelectedMap={},e.forEach((function(t){s.planSelectedMap[t.id]=!0})),t.templateInfoMap=Object.freeze(a)})).finally((function(){t.isPlanLoading=!1}))},handleGoPlanDetail(t){var e=this.$router.resolve({name:"viewPlan",params:{templateId:t.templateId},query:{from:"taskExport",viewTemplateId:t.templateId,viewPlanId:t.id}});window.open(e.href,"_blank")},handlePlanBasic(t){this.currentTemplateId=t,this.templateInfoMap[t].planList.length>0||this.fetchPlanList()},handlePlanCheck(t){var e=c({},this.templateInfoMap),a=e[this.currentTemplateId];a.planSelectedMap[t]?(delete a.planSelectedMap[t],a.exportAll=0):(a.planSelectedMap[t]=!0,a.exportAll=Number(Object.keys(a.planSelectedMap).length===a.planList.length)),this.templateInfoMap=Object.freeze(e)},handleAllSelect(){var t=c({},this.templateInfoMap),e=t[this.currentTemplateId];e.planList.forEach((function(t){e.planSelectedMap[t.id]=!0})),e.exportAll=1,this.templateInfoMap=Object.freeze(t)},handleCancelSelect(){var t=c({},this.templateInfoMap),e=t[this.currentTemplateId];e.planSelectedMap={},e.exportAll=0,this.templateInfoMap=Object.freeze(t)},handleNext(){var t=[];for(var e in this.templateInfoMap){var a=this.templateInfoMap[e];t.push({exportAll:a.exportAll,id:a.id,planId:Object.keys(a.planSelectedMap)})}o.taskExport.setItem("templateInfo",t),this.$emit("on-change",3)},handleLast(){this.$emit("on-change",1)},handleCancel(){this.$emit("on-cancle")}}};e.Z=d},74813:function(t,e,a){"use strict";var s=a(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(17450),a(98495),a(32106),a(33303),a(41336),a(91981),a(63898);s(a(36106));var i=a(11986),r=a(15513),n={data(){return this.rules={},{isSubmiting:!1,formData:{packageName:(0,i.genDefaultName)("bk_job_export_".concat(window.PROJECT_CONFIG.SCOPE_TYPE,"_").concat(window.PROJECT_CONFIG.SCOPE_ID)).slice(0,40),secretHandler:1,isEncrypt:2,password:"",confirmPassword:"",expireTime:0,customNum:null}}},computed:{isPasswordRequired(){return 1===this.formData.isEncrypt},passwordLengthResult(){return this.formData.password.length>=6&&this.formData.password.length<=20},passwordFormatResult(){return!/^[A-Za-z0-9]*$/.test(this.formData.password)}},watch:{"formData.isEncrypt":{handler(t){var e=this,a=[{validator:function(t){return!t||!(t.length<6||t.length>20)&&!/^[a-zA-Z0-9]*$/.test(t)},message:"密码长度为6-20个字符，必须包含英文字母、数字和特殊符号",trigger:"blur"}],s=[{validator:function(t){return e.formData.password===t},message:"两次输入的密码不一致",trigger:"blur"}];1===t&&(a.unshift({required:!0,message:"密码必填",trigger:"blur"}),s.unshift({required:!0,message:"确认密码必填",trigger:"blur"})),this.$refs.form&&(this.$refs.form.clearError("password"),this.$refs.form.clearError("confirmPassword")),this.formData.password="",this.formData.confirmPassword="",this.rules.password=a,this.rules.confirmPassword=s},immediate:!0},"formData.expireTime"(){"custom"===this.formData.expireTime?this.rules.customNum=[{required:!0,message:"文件有效期必填",trigger:"blur"},{validator:function(t){return t>=1&&t<=365},message:"文件有效期须大于1或不超过365",trigger:"blur"}]:delete this.rules.customNum}},created(){this.expireTimeList=[{id:0,name:"永久"},{id:1,name:"1 天"},{id:3,name:"3 天"},{id:7,name:"7 天"},{id:"custom",name:"自定义"}],this.htmlConfig={allowHtml:!0,width:250,trigger:"click",theme:"light",content:"#html-config-password",placement:"right-start"},this.rules=Object.assign(this.rules,{packageName:[{required:!0,message:"压缩包名必填",trigger:"blur"},{validator:function(t){return/^[A-Za-z0-9_-]*$/.test(t)},message:"压缩包名仅支持大小写英文、数字、- 或 _",trigger:"blur"}],secretHandler:[{required:!0,message:"密文变量值处理必填",trigger:"blur"}],isEncrypt:[{required:!0,message:"文件加密必填",trigger:"blur"}],expireTime:[{required:!0,message:"文件有效期必填",trigger:"blur"}]})},methods:{handleCancel(){this.$emit("on-cancle")},handleLast(){this.$emit("on-change",2)},handleNext(){var t=this;this.isSubmiting=!0,this.$refs.form.validate().then((function(){window.changeAlert=!1,r.taskExport.setItem("id","data.id"),t.$emit("on-change",4)})).finally((function(){t.isSubmiting=!1}))}}};e.Z=n},63467:function(t,e,a){"use strict";var s=a(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(94354),a(41336),a(91981),a(63898);var i=s(a(36106)),r=a(15513),n=0,o=5,l=6,c=7,d=8,p={name:"Exporting",data:()=>({isLoading:!0,isFinishing:!1,isConfirmLoading:!1,id:r.taskExport.getItem("id")||"",logList:[{},{},{}],status:n}),computed:{isExportSuccess(){return[l,c,d].includes(this.status)}},created(){var t=this,e=this.$createElement;this.$route.meta.leavaConfirm=function(){return new Promise((function(a,s){if(window.changeAlert){var r=null,n=function(){window.changeAlert=!1,a(),r.close(),setTimeout((function(){t.$emit("on-cancle")}))},o=function(){var e=t.isExportSuccess?i.default.updateExportComplete:i.default.exportDelete;t.$refs.confirmBtn.loading=!0,e({id:t.id}).then((function(){window.changeAlert=!1,a(),r.close(),setTimeout((function(){t.$emit("on-cancle")}))})).finally((function(){t.$refs.confirmBtn.loading=!1}))};r=t.$bkInfo({title:"是否结束当前任务？",subHeader:e("div",[e("div",{style:{color:"#63656e",fontSize:"14px",textAlign:"center"}},[e("p",["你可以选择保留或结束当前任务"]),e("p",["（选择保留，后续可以从列表页重新进入）"])]),e("div",{style:{padding:"20px 0",textAlign:"center"}},[e("bk-button",{class:"mr10",attrs:{theme:"primary"},on:{click:n}},["保留"]),e("bk-button",{ref:"confirmBtn",on:{click:o}},["结束"])])]),showFooter:!1})}else a()}))},this.autoLoadPackage=r.taskExport.getItem("templateInfo"),this.pollingQueue=[],r.taskExport.clearItem(),window.changeAlert=!0,this.fetchData(),this.startTimer(),this.$once("hook:beforeDestroy",(function(){t.clearTimer()}))},methods:{fetchData(){var t=this;this.id?i.default.fetchExportInfo({id:this.id}).then((function(e){t.isClearTimer||(t.logList=Object.freeze(e.log),t.status=e.status,t.status===l&&t.autoLoadPackage?t.handleDownloadFile():[n,o].includes(t.status)&&(t.autoLoadPackage=!0,t.pollingQueue.push(t.fetchData)))})).finally((function(){t.isLoading=!1})):this.isLoading=!1},startTimer(){var t=this;if(!this.isClearTimer){var e=this.pollingQueue.pop();e&&e(),setTimeout((function(){t.startTimer()}),2e3)}},clearTimer(){this.isClearTimer=!0},handleDownloadFile(){var t=this;i.default.fetchExportFile({id:this.id}).then((function(){t.messageSuccess("下载文件成功")}))},handleFinish(){var t=this;this.isFinishing=!0,i.default.updateExportComplete({id:this.id}).then((function(){window.changeAlert=!1,t.$emit("on-cancle")})).finally((function(){t.isFinishing=!1}))}}};e.Z=p},44476:function(t,e,a){"use strict";var s=a(70534);Object.defineProperty(e,"X",{value:!0}),e.Z=void 0,a(75328),a(41336),a(91981),a(63898),a(79951),a(45680),a(7145),a(32106),a(14408),a(84367);var i=s(a(36106)),r=a(15513),n=s(a(85781)),o=s(a(8712)),l=s(a(71682)),c=s(a(34106)),d={name:"ExportJob",data(){return{isLoading:!0,curStep:parseInt(this.$route.query.step,10)||1}},computed:{pageCom(){return this.isLoading?"div":{1:n.default,2:o.default,3:l.default,4:c.default}[this.curStep]}},created(){this.steps=[{title:"用户须知.header",icon:1},{title:"导出内容确认",icon:2},{title:"导出设置",icon:3},{title:"开始导出",icon:4}],this.fetchData()},methods:{fetchData(){var t=this;this.isLoading=!0,i.default.fetchInfo().then((function(e){var a=e.exportJob;if(a.length>0)t.handleStepChange(4),r.taskExport.clearItem(),r.taskExport.setItem("id",a[0].id);else{var s=r.taskExport.getItem();if(!s.ids||s.ids.length<1)return void t.messageError("你还未选择导出作业",(function(){t.$router.push({name:"taskList"})}));!s.templateInfo&&t.curStep>2&&t.handleStepChange(2)}})).finally((function(){t.isLoading=!1}))},handleStepChange(t){this.curStep=t;var e=new URLSearchParams(window.location.search);e.set("step",t),window.history.replaceState({},"","?".concat(e.toString()))},handleCancel(){this.routerBack()},routerBack(){this.$router.push({name:"taskList"})}}};e.Z=d},59474:function(){},67295:function(){},33372:function(){},88411:function(){},28086:function(){},85781:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return o}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-export-step1-page"},[t._m(0),t._v(" "),a("div",{staticClass:"tips-content"},[a("p",[t._v(t._s("1. 作业内文件分发步骤中带有“本地文件”的会一并导出，没有大小限制！但导入时会受到目标环境的文件上传大小限制，请知悉；"))]),t._v(" "),a("p",[t._v(t._s("2. 作业内引用的脚本会保留其原始ID，但如果在导入时目标环境找不到对应ID的脚本，将自动转换为「手工录入」的方式导入；"))]),t._v(" "),a("p",[t._v(t._s("3. 由于导出和导入环境的服务器 IP 地址、人工确认的用户名、通知渠道可能存在差异，请在后续导入后修改对应的信息，以免造成作业不可用的问题；"))]),t._v(" "),a("p",[t._v(t._s("4. 为了保证步骤信息一致性，作业中使用的「执行账号」会以账号名称导出，并在导入时在目标环境中挑选其中一个相同名称的账号进行保存；如果没有相同的账号名存在，请记得导入后及时更改步骤信息，以免造成作业不可用的问题；"))]),t._v(" "),a("p",[t._v(t._s("5. 如作业的脚本步骤中使用了「公共函数」，请确保导入的环境中也同样存在对应的函数，以免造成脚本执行逻辑错误；"))]),t._v(" "),a("p",[t._v(t._s("6. 导出的作业模板会保存其原始ID，如需在导入的环境中完全保留作业ID，请在导入作业的流程中按指引进行设置；"))]),t._v(" "),a("p",[t._v(t._s("7. 因蓝鲸权限中心的规则中对实例的唯一标识是ID，如在导入时选择保留作业ID，请根据需要选择是否回收原有的权限策略；"))]),t._v(" "),a("p",[t._v(t._s("8. 在导入时选择保留作业原始ID的前提下，请确保导入的环境中不存在已配置了相同作业ID的定时任务，以免造成影响；"))]),t._v(" "),a("p",[t._v(t._s('9. 若导入的作业模板或执行方案名称与目标环境的作业存在冲突的情况，会根据导入时设置的"重名后缀"自动在作业名称后面追加命名。'))])]),t._v(" "),a("div",{staticClass:"action-footer"},[a("bk-button",{staticClass:"mr10",on:{click:t.handleCancel}},[t._v(t._s("取消"))]),t._v(" "),a("bk-button",{staticClass:"w120",attrs:{theme:"primary"},on:{click:t.handleNext}},[t._v(t._s("我知道了"))])],1)])};s._withStripped=!0;var i=a(30293),r=i.Z,n=(a(5165),(0,a(51900).Z)(r,s,[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flag"},[a("img",{attrs:{src:"/static/images/notice.svg"}}),t._v(" "),a("div",{staticClass:"title"},[t._v(t._s("用户须知"))])])}],!1,null,null,null));n.options.__file="src/views/task-manage/export/components/step1.vue";var o=n.exports},8712:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return o}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-export-step2-page"},[a("div",{staticClass:"layout-wraper"},[a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"layout-left"},[a("scroll-faker",t._l(t.jobList,(function(e){return a("div",{key:e.id,staticClass:"job-list"},[a("div",{staticClass:"job-item",class:{active:t.currentTemplateId===e.id},on:{click:function(a){return t.handlePlanBasic(e.id)}}},[a("div",{staticClass:"text"},[t._v("["+t._s(e.id)+"] "+t._s(e.name))])])])})),0)],1),t._v(" "),a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isPlanLoading},expression:"{ isLoading: isPlanLoading }"}],staticClass:"layout-right"},[a("scroll-faker",[t.currentTemplateId?a("div",{staticClass:"content"},[a("p",{staticClass:"title"},[t._v(t._s(t.templateTitle))]),t._v(" "),t.renderPlanList.length>0?a("div",{staticClass:"export-project"},[a("div",{staticClass:"project-select"},[a("p",{staticClass:"select-title"},[t._v("\n                                "+t._s("选择要导出的作业执行方案")+"\n                            ")]),t._v(" "),a("div",{staticClass:"all-select-btn"},[t.templateInfoMap[t.currentTemplateId].exportAll?a("bk-button",{attrs:{text:""},on:{click:t.handleCancelSelect}},[t._v("\n                                    "+t._s("取消全选")+"\n                                ")]):a("bk-button",{attrs:{text:""},on:{click:t.handleAllSelect}},[t._v("\n                                    "+t._s("全选")+"\n                                ")])],1)]),t._v(" "),a("div",{staticClass:"project-list"},t._l(t.renderPlanList,(function(e){return a("div",{key:e.id,staticClass:"item",on:{click:function(a){return t.handlePlanCheck(e.id)}}},[a("div",{staticClass:"top-middle",on:{click:function(a){return a.stopPropagation(),t.handleGoPlanDetail(e)}}},[a("span",{staticClass:"plan",attrs:{"tippy-tips":"新窗口打开该执行方案"}},[t._v("\n                                        "+t._s(e.name)+"\n                                    ")])]),t._v(" "),a("div",{staticClass:"plan-check",class:{active:t.templateInfoMap[t.currentTemplateId].planSelectedMap[e.id]}})])})),0)]):t._e(),t._v(" "),t.renderPlanList.length<1&&!t.isPlanLoading?a("empty",{staticStyle:{"margin-top":"100px"},attrs:{title:"暂无执行方案"}}):t._e()],1):t._e()])],1)]),t._v(" "),a("div",{staticClass:"action-footer"},[a("bk-button",{staticClass:"mr10",on:{click:t.handleCancel}},[t._v("\n            "+t._s("取消")+"\n        ")]),t._v(" "),a("bk-button",{staticClass:"mr10",on:{click:t.handleLast}},[t._v("\n            "+t._s("上一步")+"\n        ")]),t._v(" "),a("bk-button",{staticClass:"w120",attrs:{theme:"primary"},on:{click:t.handleNext}},[t._v("\n            "+t._s("下一步")+"\n        ")])],1)])};s._withStripped=!0;var i=a(57243),r=i.Z,n=(a(11548),(0,a(51900).Z)(r,s,[],!1,null,null,null));n.options.__file="src/views/task-manage/export/components/step2.vue";var o=n.exports},71682:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return o}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"export-task-step3-page"},[a("div",{staticClass:"form"},[a("jb-form",{ref:"form",attrs:{model:t.formData,rules:t.rules}},[a("jb-form-item",{attrs:{label:"压缩包名",required:"",property:"packageName"}},[a("bk-input",{attrs:{maxlength:40,placeholder:"压缩包名仅支持大小写英文、数字、- 或 _"},model:{value:t.formData.packageName,callback:function(e){t.$set(t.formData,"packageName",e)},expression:"formData.packageName"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:"密文变量值处理",required:"",property:"secretHandler"}},[a("bk-select",{attrs:{clearable:!1},model:{value:t.formData.secretHandler,callback:function(e){t.$set(t.formData,"secretHandler",e)},expression:"formData.secretHandler"}},[a("bk-option",{attrs:{id:1,name:"保存为空值"}}),t._v(" "),a("bk-option",{attrs:{id:2,name:"保存真实值"}})],1)],1),t._v(" "),a("jb-form-item",{attrs:{label:"文件加密",required:"",property:"isEncrypt"}},[a("div",{staticClass:"encrypt-wraper"},[a("bk-radio-group",{model:{value:t.formData.isEncrypt,callback:function(e){t.$set(t.formData,"isEncrypt",e)},expression:"formData.isEncrypt"}},[a("bk-radio",{attrs:{value:1}},[t._v(t._s("是"))]),t._v(" "),a("bk-radio",{attrs:{value:2}},[t._v(t._s("否"))])],1)],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.isPasswordRequired,expression:"isPasswordRequired"}]},[a("jb-form-item",{attrs:{label:"密码设置",required:t.isPasswordRequired,property:"password"}},[a("bk-input",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:t.htmlConfig,expression:"htmlConfig"}],attrs:{type:"password",placeholder:"请设置6-20个字符密码"},model:{value:t.formData.password,callback:function(e){t.$set(t.formData,"password",e)},expression:"formData.password"}})],1),t._v(" "),a("jb-form-item",{attrs:{label:"二次确认",required:t.isPasswordRequired,property:"confirmPassword"}},[a("bk-input",{attrs:{type:"password",placeholder:"请输入同样的密码，以确认密码准确"},model:{value:t.formData.confirmPassword,callback:function(e){t.$set(t.formData,"confirmPassword",e)},expression:"formData.confirmPassword"}})],1)],1),t._v(" "),a("jb-form-item",{attrs:{label:"文件有效期",required:"",property:"expireTime"}},[a("bk-radio-group",{staticClass:"expire-time-box",model:{value:t.formData.expireTime,callback:function(e){t.$set(t.formData,"expireTime",e)},expression:"formData.expireTime"}},t._l(t.expireTimeList,(function(e){return a("bk-radio-button",{key:e.id,attrs:{value:e.id}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])})),1)],1),t._v(" "),"custom"===t.formData.expireTime?a("jb-form-item",{staticClass:"expire-time-custom",attrs:{label:" ",property:"customNum"}},[a("bk-input",{attrs:{placeholder:"请输入整数，不可超过365"},model:{value:t.formData.customNum,callback:function(e){t.$set(t.formData,"customNum",e)},expression:"formData.customNum"}},[a("template",{slot:"append"},[a("div",{staticClass:"group-text"},[a("span",{staticClass:"text"},[t._v(t._s("天"))])])])],2)],1):t._e()],1)],1),t._v(" "),a("div",{staticClass:"html-config-password",attrs:{id:"html-config-password"}},[a("div",{staticClass:"item",class:{active:t.passwordLengthResult}},[t._v(t._s("长度6-20个字符"))]),t._v(" "),a("div",{staticClass:"item",class:{active:t.passwordFormatResult}},[t._v(t._s("必须包含英文字母、数字和特殊符号"))])]),t._v(" "),a("div",{staticClass:"action-footer"},[a("bk-button",{staticClass:"mr10",on:{click:t.handleCancel}},[t._v(t._s("取消"))]),t._v(" "),a("bk-button",{staticClass:"mr10",on:{click:t.handleLast}},[t._v(t._s("上一步"))]),t._v(" "),a("bk-button",{staticClass:"w120",attrs:{theme:"primary",loading:t.isSubmiting},on:{click:t.handleNext}},[t._v(t._s("下一步"))])],1)])};s._withStripped=!0;var i=a(74813),r=i.Z,n=(a(5206),(0,a(51900).Z)(r,s,[],!1,null,null,null));n.options.__file="src/views/task-manage/export/components/step3.vue";var o=n.exports},34106:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return o}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"export-task-step4-page"},[a("div",[a("div",{staticClass:"notice"},[a("img",{attrs:{src:"/static/images/export.svg"}}),t._v(" "),a("div",{staticClass:"title"},[t.isExportSuccess?a("div",[a("div",[t._v(t._s("作业导出成功！请及时保存并妥善保管。"))]),t._v(" "),a("div",{staticClass:"export-download"},[a("span",[t._v(t._s("如果页面未出现提示保存窗口，请点击"))]),t._v(" "),a("span",{staticClass:"btn",on:{click:t.handleDownloadFile}},[t._v(t._s("重新下载文件"))])])]):a("div",[t._v(t._s("正在导出作业，请稍候")),a("span",{staticClass:"loading"})])])]),t._v(" "),a("div",{staticClass:"log-content"},t._l(t.logList,(function(e,s){return a("div",{key:s},[t._v("["+t._s(e.timestamp)+"] "+t._s(e.content))])})),0)]),t._v(" "),a("div",{staticClass:"action-footer"},[a("bk-button",{staticClass:"w120",attrs:{theme:"primary",loading:t.isFinishing},on:{click:t.handleFinish}},[t._v("\n            "+t._s("完成")+"\n        ")])],1)])};s._withStripped=!0;var i=a(63467),r=i.Z,n=(a(785),(0,a(51900).Z)(r,s,[],!1,null,null,null));n.options.__file="src/views/task-manage/export/components/step4.vue";var o=n.exports},32197:function(t,e,a){"use strict";a.r(e),a.d(e,{__esModule:function(){return i.X},default:function(){return o}});var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:t.isLoading},expression:"{ isLoading }"}],staticClass:"export-job"},[a("div",{staticClass:"steps"},[a("bk-steps",{attrs:{steps:t.steps,"cur-step":t.curStep},on:{"update:curStep":function(e){t.curStep=e},"update:cur-step":function(e){t.curStep=e}}})],1),t._v(" "),a("div",{staticClass:"page-wraper"},[a("scroll-faker",[a(t.pageCom,{tag:"component",on:{"on-change":t.handleStepChange,"on-cancle":t.handleCancel}})],1)],1)])};s._withStripped=!0;var i=a(44476),r=i.Z,n=(a(96653),(0,a(51900).Z)(r,s,[],!1,null,null,null));n.options.__file="src/views/task-manage/export/index.vue";var o=n.exports},5165:function(t,e,a){var s=a(59474);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);(0,a(18086).Z)("410c0170",s,!1,{})},11548:function(t,e,a){var s=a(67295);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);(0,a(18086).Z)("08496510",s,!1,{})},5206:function(t,e,a){var s=a(33372);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);(0,a(18086).Z)("60f26ea0",s,!1,{})},785:function(t,e,a){var s=a(88411);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);(0,a(18086).Z)("d277a760",s,!1,{})},96653:function(t,e,a){var s=a(28086);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[t.id,s,""]]),s.locals&&(t.exports=s.locals);(0,a(18086).Z)("482b0264",s,!1,{})}}]);