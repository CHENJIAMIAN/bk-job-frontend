(self.webpackChunkjob=self.webpackChunkjob||[]).push([[9087],{57701:function(e,t,a){"use strict";a(35927),a(45974),a(9042),a(43364);var r=a(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i=r(a(33610));a(71959),a(87033);var l=r(a(77480));function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var n={name:"",props:{fileSourceTypeCode:{type:String},paramMap:{type:Object,required:!0}},data:()=>({paramList:[]}),computed:{isRender(){return this.fileSourceTypeCode&&this.paramList.length>0}},watch:{fileSourceTypeCode:{handler(e){e&&this.fetchFileSourceParams()},immediate:!0}},methods:{fetchFileSourceParams(){var e=this;l.default.fetchParams({fileSourceTypeCode:this.fileSourceTypeCode}).then((function(t){if(e.paramList=Object.freeze(t),Object.keys(e.paramMap).length<1){var a=t.reduce((function(e,t){return e[t.name]=t.default,e}),{});e.$emit("on-change",a)}}))},calcRules(e){var t=[];return e.required&&t.push({validator:function(t){return!!t[e.name]},message:"".concat(e.label,"必填"),trigger:"blur"}),t},handleChange(e,t){this.$emit("on-change",s(s({},this.paramMap),{},{[e]:t}))}}};t.Z=n},30197:function(e,t,a){"use strict";a(35927),a(45974),a(9042),a(43364);var r=a(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i=r(a(33610));a(87033),a(35948),a(94522),a(23232),a(80433),a(92974);var l=r(a(15399)),o=r(a(20274)),s=r(a(77480)),n=r(a(6339)),c=r(a(81363)),u=r(a(28593)),f=r(a(48373)),d=a(61681),p=r(a(67864));function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={name:"SourceFileOpertion",components:{RenderFileSourceParam:p.default},props:{data:{type:Object,default:function(){return{}}}},data:()=>({isLoading:!1,formData:{id:-1,alias:"",code:"",credentialId:"",filePrefix:o.default.FILE_PERFIX_UUID,fileSourceInfoMap:{},fileSourceTypeCode:"",publicFlag:!0,shareToAllApp:!1,sharedAppIdList:[],storageType:"OSS",workerId:"",workerSelectScope:"PUBLIC",workerSelectMode:"AUTO"},filePrefixType:o.default.FILE_PERFIX_UUID,sourceTypeList:[],fileSourceParamList:[],appList:[],fileFourceTicketList:[],isWorkerSelectScopeAuto:!0,workersList:[]}),computed:{isCustomFilePrefix(){return this.filePrefixType!==o.default.FILE_PERFIX_UUID}},watch:{"formData.shareToAllApp"(e){e&&(this.formData.sharedAppIdList=[])},"formData.workerSelectScope"(){this.fetchWorkersList(),this.isWorkerSelectScopeAuto=!0},isWorkerSelectScopeAuto(e){e&&(this.formData.workerId="")}},created(){var e=this,t=[this.fetchSourceTypeList(),this.fetchAppList(),this.fetchTicketList(),this.fetchWorkersList()];this.data.id&&(this.formData.id=this.data.id,t.unshift(this.fetchFileSourceDetail())),this.isLoading=!0,Promise.all(t).finally((function(){e.isLoading=!1})),this.workerSelectModeList=[{id:"APP",name:l.default.t("file.业务私有")},{id:"PUBLIC",name:l.default.t("file.公共接入点")},{id:"ALL",name:l.default.t("file.全部")}],this.rules={code:[{required:!0,message:l.default.t("file.文件源标识必填"),trigger:"blur"}],alias:[{required:!0,message:l.default.t("file.文件源别名必填"),trigger:"blur"},{validator:d.fileSourceAliasNameRule.validator,message:d.fileSourceAliasNameRule.message,trigger:"blur"},{validator:function(t){return s.default.fetchAliasCheck({fileSourceId:e.formData.id,alias:t})},message:l.default.t("file.文件源别名已存在，请重新输入"),trigger:"blur"}],sharedAppIdList:[{validator:function(t){return!!e.formData.shareToAllApp||t.length>0},message:l.default.t("file.共享对象必填"),trigger:"blur"}],credentialId:[{required:!0,message:l.default.t("file.身份凭证必填"),trigger:"blur"}]}},methods:{fetchSourceTypeList(){var e=this;return n.default.sourceTypeList().then((function(t){e.sourceTypeList=Object.freeze(t),!e.formData.fileSourceTypeCode&&e.sourceTypeList.length>0&&(e.formData.fileSourceTypeCode=e.sourceTypeList[0].code)}))},fetchAppList(){var e=this;return f.default.fetchAppList().then((function(t){e.appList=Object.freeze(t)}))},fetchTicketList(){var e=this;return c.default.fetchList().then((function(t){e.fileFourceTicketList=Object.freeze(t.data)}))},fetchWorkersList(){var e=this;return u.default.workersList({workerSelectScope:this.formData.workerSelectScope}).then((function(t){e.workersList=Object.freeze(t)}))},fetchFileSourceDetail(){var e=this;return s.default.getSourceInfo({id:this.formData.id}).then((function(t){var a=t.alias,r=t.code,i=t.credentialId,l=t.fileSourceInfoMap,s=t.filePrefix,n=t.fileSourceType,c=t.publicFlag,u=t.storageType,f=t.shareToAllApp,d=t.sharedAppIdList,p=t.workerId,m=t.workerSelectMode,b=t.workerSelectScope;e.formData=h(h({},e.formData),{},{alias:a,code:r,credentialId:i,fileSourceInfoMap:l,filePrefix:s,fileSourceTypeCode:n.code,publicFlag:c,storageType:u,shareToAllApp:f,sharedAppIdList:d,workerId:p,workerSelectMode:m,workerSelectScope:b}),e.isWorkerSelectScopeAuto=!p,e.filePrefixType=s===o.default.FILE_PERFIX_UUID?s:"custom"}))},handleFileSourceChange(){this.formData.fileSourceInfoMap={}},handleFileSourceParamsChange(e){this.formData.fileSourceInfoMap=e},submit(){var e=this;return this.$refs.fileSourceform.validate().then((function(){var t=Object.assign({},e.formData);return t.workerSelectMode=t.workerId?"MANUAL":"AUTO",e.filePrefixType===o.default.FILE_PERFIX_UUID&&(t.filePrefix=o.default.FILE_PERFIX_UUID),t.id<0?s.default.addSource(t).then((function(){e.messageSuccess(l.default.t("file.创建成功")),e.$emit("on-change")})):s.default.updateSource(t).then((function(){e.messageSuccess(l.default.t("file.更新成功")),e.$emit("on-change")}))}))}}};t.Z=b},58523:function(e,t,a){"use strict";a(35927),a(45974),a(9042),a(43364);var r=a(22696);Object.defineProperty(t,"X",{value:!0}),t.Z=void 0;var i=r(a(33610));a(71959),a(87033);var l=r(a(15399)),o=r(a(77480)),s=a(46790),n=r(a(2645)),c=r(a(80712)),u=r(a(93962)),f=r(a(27452)),d=r(a(27496));function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var m="file_source_list_columns",h={name:"SourceFile",components:{RenderList:f.default,ListActionLayout:c.default,JbSearchSelect:n.default,FileOpertion:d.default,JbPopoverConfirm:u.default},data:()=>({isLoading:!1,tableSize:"small",searchParams:[],selectedTableColumn:[],fileSourceDetailInfo:{},isShowSideslider:!1}),computed:{isSkeletonLoading(){return this.$refs.fileSourcelist.isLoading},operationSidesliderInfo(){return this.fileSourceDetailInfo.id?{title:l.default.t("file.编辑文件源"),okText:l.default.t("file.保存")}:{title:l.default.t("file.新建文件源"),okText:l.default.t("file.提交")}},allRenderColumnMap(){return this.selectedTableColumn.reduce((function(e,t){return e[t.id]=!0,e}),{})}},created(){this.fetchFileSourceList=o.default.fetchFileSourceList,this.searchSelect=[{id:"alias",name:l.default.t("file.文件源别名.colHead"),default:!0}],this.tableColumn=[{id:"alias",label:l.default.t("file.文件源别名.colHead"),disabled:!0},{id:"code",label:l.default.t("file.文件源标识.colHead")},{id:"status",label:l.default.t("file.状态")},{id:"type",label:l.default.t("file.类型.colHead"),disabled:!0},{id:"lastModifyUser",label:l.default.t("file.更新人")},{id:"lastModifyTime",label:l.default.t("file.更新时间")}];var e=s.listColumnsCache.getItem(m);e?(this.selectedTableColumn=Object.freeze(e.columns),this.tableSize=e.size):this.selectedTableColumn=Object.freeze([{id:"alias"},{id:"code"},{id:"status"},{id:"type"},{id:"lastModifyUser"},{id:"lastModifyTime"}])},methods:{fetchData(){this.$refs.fileSourcelist.$emit("onFetch",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.searchParams))},handleCreate(){this.fileSourceDetailInfo={},this.isShowSideslider=!0},handleEdit(e){this.fileSourceDetailInfo=e,this.isShowSideslider=!0},handleFileSourceChange(){this.fetchData()},hanldeToggleEnable(e,t){var a=this,r=t.enable;o.default.toggleSourceEnable({flag:e,id:t.id}).then((function(t){a.messageSuccess(e?l.default.t("file.开启成功"):l.default.t("file.关闭成功"))})).catch((function(){t.enable=r}))},handleSettingChange(e){var t=e.fields,a=e.size;this.selectedTableColumn=Object.freeze(t),this.tableSize=a,s.listColumnsCache.setItem(m,{columns:t,size:a})},handleSearch(e){this.searchParams=e,this.fetchData()},handleDelete(e){var t=this;o.default.removeSource(e).then((function(e){t.messageSuccess(l.default.t("file.删除成功")),t.fetchData()}))},handelGoBucket(e){this.$router.push({name:"bucketList",query:{fileSourceId:e.id,sourceAlias:e.alias}})}}};t.Z=h},64285:function(e,t,a){"use strict";var r=a(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(70969);var i=r(a(7192)),l=r(a(15399));class o extends i.default{constructor(e){super(),this.appId=e.appId,this.scopeType=e.scopeType,this.scopeId=e.scopeId,this.id=e.id,this.innerIp=e.innerIp,this.latency=e.latency,this.onlineStatus=e.onlineStatus}get latencyHtml(){var e=this.onlineStatus?"color: #ff9c01;":"color: #EA3636;",t=this.onlineStatus?"".concat(this.latency," ms"):l.default.t("心跳超时");return'<span style="'.concat(e,'"> ').concat(t," </span>")}}t.default=o},6339:function(e,t,a){"use strict";var r=a(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(250)),l={sourceTypeList:e=>i.default.getList(e).then((function(e){return e.data}))};t.default=l},28593:function(e,t,a){"use strict";var r=a(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a(7170);var i=r(a(85550)),l=r(a(64285)),o={workersList:e=>i.default.getList(e).then((function(e){return e.data=e.data.map((function(e){return Object.freeze(new l.default(e))})),e.data}))};t.default=o},250:function(e,t,a){"use strict";var r=a(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(24875)),l=r(a(79121));class o extends l.default{constructor(){super(),this.module="/job-file-gateway/web/fileSourceType"}getList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.get("".concat(this.path,"/list"),{params:e})}}var s=new o;t.default=s},85550:function(e,t,a){"use strict";var r=a(22696);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(a(24875)),l=r(a(79121));class o extends l.default{constructor(){super(),this.module="/job-file-gateway/web/fileWorker"}getList(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i.default.get("".concat(this.path,"/list"),{params:e})}}var s=new o;t.default=s},4586:function(){},7614:function(){},67864:function(e,t,a){"use strict";a.r(t),a.d(t,{__esModule:function(){return i.X},default:function(){return s}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isRender?a("div",e._l(e.paramList,(function(t){return a("jb-form-item",{key:t.name,attrs:{label:t.label,required:t.required,rules:e.calcRules(t),property:"fileSourceInfoMap"}},[a("bk-input",{attrs:{value:e.paramMap[t.name]},on:{change:function(a){return e.handleChange(t.name,a)}}})],1)})),1):e._e()};r._withStripped=!0;var i=a(57701),l=i.Z,o=(0,a(35471).Z)(l,r,[],!1,null,null,null);o.options.__file="src/views/file-manage/file-source-list/components/opertion/components/render-file-source-param.vue";var s=o.exports},27496:function(e,t,a){"use strict";a.r(t),a.d(t,{__esModule:function(){return i.X},default:function(){return s}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"file-source-create-form"},[e.isLoading?e._e():a("jb-form",{ref:"fileSourceform",attrs:{"form-type":"vertical",model:e.formData,rules:e.rules}},[a("jb-form-item",{attrs:{label:e.$t("file.文件源标识.label"),required:"",property:"code"}},[a("bk-input",{attrs:{placeholder:e.$t("file.请输入文件源标识")},model:{value:e.formData.code,callback:function(t){e.$set(e.formData,"code",t)},expression:"formData.code"}})],1),e._v(" "),a("jb-form-item",{attrs:{label:e.$t("file.文件源别名.label"),required:"",property:"alias"}},[a("jb-input",{attrs:{maxlength:32,placeholder:e.$t("file.为文件源起一个可读性较好的别名")},model:{value:e.formData.alias,callback:function(t){e.$set(e.formData,"alias",t)},expression:"formData.alias"}})],1),e._v(" "),a("jb-form-item",{attrs:{required:"",label:e.$t("file.类型.label")}},[a("bk-radio-group",{model:{value:e.formData.storageType,callback:function(t){e.$set(e.formData,"storageType",t)},expression:"formData.storageType"}},[a("bk-radio-button",{attrs:{value:"OSS"}},[e._v("\n                    "+e._s(e.$t("file.对象存储"))+"\n                ")])],1)],1),e._v(" "),a("jb-form-item",{attrs:{required:"",label:e.$t("file.来源")}},[a("bk-radio-group",{on:{change:e.handleFileSourceChange},model:{value:e.formData.fileSourceTypeCode,callback:function(t){e.$set(e.formData,"fileSourceTypeCode",t)},expression:"formData.fileSourceTypeCode"}},e._l(e.sourceTypeList,(function(t){return a("bk-radio-button",{key:t.code,attrs:{value:t.code}},[a("img",{staticStyle:{width:"1em",height:"1em","vertical-align":"middle"},attrs:{src:t.icon}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s(t.name))])])})),1)],1),e._v(" "),a("render-file-source-param",{attrs:{"file-source-type-code":e.formData.fileSourceTypeCode,"param-map":e.formData.fileSourceInfoMap},on:{"on-change":e.handleFileSourceParamsChange}}),e._v(" "),a("jb-form-item",{attrs:{required:"",label:e.$t("file.公共存储")}},[a("bk-checkbox",{model:{value:e.formData.publicFlag,callback:function(t){e.$set(e.formData,"publicFlag",t)},expression:"formData.publicFlag"}},[e._v("\n                "+e._s(e.$t("file.设为公共存储"))+"\n            ")])],1),e._v(" "),e.formData.publicFlag?a("jb-form-item",{attrs:{label:e.$t("file.共享对象"),required:"",property:"sharedAppIdList"}},[a("div",{staticClass:"share-object-box"},[a("bk-select",{staticClass:"share-app-select",attrs:{clearable:!1,searchable:"",multiple:"",disabled:e.formData.shareToAllApp},model:{value:e.formData.sharedAppIdList,callback:function(t){e.$set(e.formData,"sharedAppIdList",t)},expression:"formData.sharedAppIdList"}},e._l(e.appList,(function(e){return a("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1),e._v(" "),a("bk-checkbox",{model:{value:e.formData.shareToAllApp,callback:function(t){e.$set(e.formData,"shareToAllApp",t)},expression:"formData.shareToAllApp"}},[e._v("\n                    "+e._s(e.$t("file.全业务"))+"\n                ")])],1)]):e._e(),e._v(" "),a("jb-form-item",{attrs:{required:"",label:e.$t("file.身份凭证"),property:"credentialId"}},[a("bk-select",{attrs:{clearable:!1},model:{value:e.formData.credentialId,callback:function(t){e.$set(e.formData,"credentialId",t)},expression:"formData.credentialId"}},e._l(e.fileFourceTicketList,(function(e){return a("auth-option",{key:e.id,attrs:{auth:"ticket/use",permission:e.canUse,"resource-id":e.id,id:e.id,name:e.name}})})),1)],1),e._v(" "),a("jb-form-item",{attrs:{label:e.$t("file.文件前缀名")}},[a("bk-select",{attrs:{clearable:!1},model:{value:e.filePrefixType,callback:function(t){e.filePrefixType=t},expression:"filePrefixType"}},[a("bk-option",{attrs:{id:"${UUID}",name:"UUID"}}),e._v(" "),a("bk-option",{attrs:{id:"custom",name:e.$t("file.自定义字符串")}})],1),e._v(" "),e.isCustomFilePrefix?a("bk-input",{staticStyle:{"margin-top":"10px"},model:{value:e.formData.filePrefix,callback:function(t){e.$set(e.formData,"filePrefix",t)},expression:"formData.filePrefix"}}):e._e()],1),e._v(" "),a("jb-form-item",{attrs:{required:"",label:e.$t("file.接入点")}},[a("div",{staticClass:"access-point-box"},[a("bk-select",{staticClass:"worker-select",attrs:{clearable:!1},model:{value:e.formData.workerSelectScope,callback:function(t){e.$set(e.formData,"workerSelectScope",t)},expression:"formData.workerSelectScope"}},e._l(e.workerSelectModeList,(function(e){return a("bk-option",{key:e.id,attrs:{id:e.id,name:e.name}})})),1),e._v(" "),a("bk-checkbox",{attrs:{disabled:e.workersList.length<1},model:{value:e.isWorkerSelectScopeAuto,callback:function(t){e.isWorkerSelectScopeAuto=t},expression:"isWorkerSelectScopeAuto"}},[e._v("\n                    "+e._s(e.$t("file.自动选择接入点"))+"\n                ")])],1),e._v(" "),!e.isWorkerSelectScopeAuto&&e.workersList.length>0?a("div",[a("bk-radio-group",{staticClass:"worker-box",model:{value:e.formData.workerId,callback:function(t){e.$set(e.formData,"workerId",t)},expression:"formData.workerId"}},e._l(e.workersList,(function(t){return a("bk-radio-button",{key:t.id,attrs:{value:t.id}},[a("div",{staticClass:"worker-item"},[a("span",[e._v(e._s(t.innerIp)+" ")]),e._v(" "),a("span",{domProps:{innerHTML:e._s(t.latencyHtml)}})])])})),1)],1):e._e()])],1)],1)};r._withStripped=!0;var i=a(30197),l=i.Z,o=(a(61382),(0,a(35471).Z)(l,r,[],!1,null,null,null));o.options.__file="src/views/file-manage/file-source-list/components/opertion/index.vue";var s=o.exports},89087:function(e,t,a){"use strict";a.r(t),a.d(t,{__esModule:function(){return i.X},default:function(){return s}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"bkloading",rawName:"v-bkloading",value:{isLoading:e.isLoading},expression:"{ isLoading }"}],staticClass:"file-manage-source-file"},[a("list-action-layout",{scopedSlots:e._u([{key:"right",fn:function(){return[a("jb-search-select",{ref:"search",staticStyle:{width:"480px"},attrs:{data:e.searchSelect,placeholder:e.$t("file.请输入文件源名称...")},on:{"on-change":e.handleSearch}})]},proxy:!0}])},[a("auth-button",{staticClass:"w120",attrs:{theme:"primary",auth:"file_source/create"},on:{click:e.handleCreate}},[e._v("\n            "+e._s(e.$t("file.新建"))+"\n        ")])],1),e._v(" "),a("render-list",{ref:"fileSourcelist",attrs:{"data-source":e.fetchFileSourceList,size:e.tableSize,"search-control":function(){return e.$refs.search}}},[a("bk-table-column",{key:"publicFlag",attrs:{width:"40"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("span",{domProps:{innerHTML:e._s(r.publicFlagHtml)}})]}}])}),e._v(" "),a("bk-table-column",{key:"alias",attrs:{label:e.$t("file.文件源别名.colHead"),sortable:"",align:"left",prop:"alias","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.isAvailable?a("auth-router-link",{attrs:{auth:"file_source/view",permission:r.canView,"resource-id":r.id,to:{name:"fileList",query:{fileSourceId:r.id}}}},[e._v("\n                    "+e._s(r.alias)+"\n                ")]):a("span",{directives:[{name:"bk-tooltips",rawName:"v-bk-tooltips",value:e.$t("file.接入点异常，暂时不可用"),expression:"$t('file.接入点异常，暂时不可用')"}]},[a("bk-button",{attrs:{disabled:"",text:""}},[e._v(e._s(r.alias))])],1)]}}])}),e._v(" "),e.allRenderColumnMap.code?a("bk-table-column",{key:"code",attrs:{label:e.$t("file.文件源标识.colHead"),sortable:"",align:"left","show-overflow-tooltip":"",prop:"code"}}):e._e(),e._v(" "),e.allRenderColumnMap.status?a("bk-table-column",{key:"status",attrs:{label:e.$t("file.状态"),prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("Icon",{staticStyle:{"vertical-align":"middle"},attrs:{type:r.statusIcon,svg:""}}),e._v(" "),a("span",{staticStyle:{"vertical-align":"middle"}},[e._v(e._s(r.statusText))])]}}],null,!1,1264355886)}):e._e(),e._v(" "),e.allRenderColumnMap.type?a("bk-table-column",{key:"type",attrs:{label:e.$t("file.类型.colHead"),prop:"storageTypeText"}}):e._e(),e._v(" "),e.allRenderColumnMap.lastModifyUser?a("bk-table-column",{key:"lastModifyUser",attrs:{label:e.$t("file.更新人"),prop:"lastModifyUser"}}):e._e(),e._v(" "),e.allRenderColumnMap.lastModifyTime?a("bk-table-column",{key:"lastModifyTime",attrs:{label:e.$t("file.更新时间"),prop:"lastModifyTime"}}):e._e(),e._v(" "),a("bk-table-column",{key:"action",attrs:{label:e.$t("file.操作"),width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return a("div",{staticClass:"action-box"},[a("auth-component",{staticClass:"mr10",attrs:{auth:"file_source/edit",permission:r.canManage,"resource-id":r.id}},[a("bk-switcher",{staticClass:"table-enable-switch",attrs:{size:"small",value:r.enable,theme:"primary"},on:{change:function(t){return e.hanldeToggleEnable(t,r)}}}),e._v(" "),a("bk-switcher",{attrs:{slot:"forbid",size:"small",disabled:"",value:r.enable,theme:"primary"},slot:"forbid"})],1),e._v(" "),a("auth-button",{staticClass:"mr10",attrs:{auth:"file_source/edit","resource-id":r.id,permission:r.canManage,text:""},on:{click:function(t){return e.handleEdit(r)}}},[e._v("\n                    "+e._s(e.$t("file.配置更改"))+"\n                ")]),e._v(" "),a("jb-popover-confirm",{attrs:{title:e.$t("file.确定删除该文件源？"),content:e.$t("file.该操作只涉及在作业平台的文件源配置，不影响其本体的内容"),"confirm-handler":function(){return e.handleDelete(r)}}},[a("auth-button",{attrs:{auth:"file_source/delete",permission:r.canManage,"resource-id":r.id,text:""}},[e._v("\n                        "+e._s(e.$t("file.删除"))+"\n                    ")])],1)],1)}}])}),e._v(" "),a("bk-table-column",{attrs:{type:"setting"}},[a("bk-table-setting-content",{attrs:{fields:e.tableColumn,selected:e.selectedTableColumn,size:e.tableSize},on:{"setting-change":e.handleSettingChange}})],1)],1),e._v(" "),a("jb-sideslider",e._b({attrs:{"is-show":e.isShowSideslider,width:700,"footer-offset-target":"bk-form-content"},on:{"update:isShow":function(t){e.isShowSideslider=t},"update:is-show":function(t){e.isShowSideslider=t}}},"jb-sideslider",e.operationSidesliderInfo,!1),[a("file-opertion",{attrs:{data:e.fileSourceDetailInfo},on:{"on-change":e.handleFileSourceChange}})],1)],1)};r._withStripped=!0;var i=a(58523),l=i.Z,o=(a(39262),(0,a(35471).Z)(l,r,[],!1,null,null,null));o.options.__file="src/views/file-manage/file-source-list/index.vue";var s=o.exports},61382:function(e,t,a){var r=a(4586);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);(0,a(13570).Z)("6a456dba",r,!1,{})},39262:function(e,t,a){var r=a(7614);r.__esModule&&(r=r.default),"string"==typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);(0,a(13570).Z)("1ec199d7",r,!1,{})}}]);